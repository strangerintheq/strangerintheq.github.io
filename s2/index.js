(()=>{function c(t,e){let a=t.createProgram();e.shaders.forEach((o,r)=>I(t,o,r,a,e)),t.linkProgram(a),t.useProgram(a),e.uniforms&&Object.keys(e.uniforms).forEach(o=>{let r=t.getUniformLocation(a,o),i=t[`uniform${e.uniforms[o]}`];e.uniforms[o]=e.uniforms[o].indexOf("atri")>-1?n=>i.call(t,r,!1,n):n=>i.call(t,r,...n)});let f=[_(t,a,"v",2,new Float32Array(e.vertices))];return e.draw=o=>{t.useProgram(a);let r=e.uniforms;o&&Object.keys(o).forEach(i=>r&&r[i]&&r[i](Array.isArray(o[i])?o[i]:[o[i]])),f.forEach(i=>i()),t.drawArraysInstanced(t.TRIANGLES,0,e.vertices.length/2,e.instances||1)},e}function I(t,e,a,f,o){let r=t.createShader(a?t.FRAGMENT_SHADER:t.VERTEX_SHADER);e=`#version 300 es
precision highp float;
`+(o.patch||"")+e,t.shaderSource(r,e),t.compileShader(r);let i=t.getShaderInfoLog(r);if(t.attachShader(f,r),i.length>0)throw console.log(e.split(`
`).map((n,R)=>`${1+R}`.padStart(4,"0")+": "+n).join(`
`)),i}function _(t,e,a,f,o){let r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,o,t.STATIC_DRAW);let i=t.getAttribLocation(e,a);return t.enableVertexAttribArray(i),()=>{t.bindBuffer(t.ARRAY_BUFFER,r),t.vertexAttribPointer(i,f,t.FLOAT,!1,0,0)}}function v(t,e,a,f){let o=innerWidth,r=innerHeight,i=o/r<a,n=t.style;t.width=i?o:r*a,t.height=i?o/a:r,n.width=t.width+"px",n.height=t.height+"px",n.margin=`${r/2-t.height/2}px 0 0 ${o/2-t.width/2}px`,t.width=t.width*f|0,t.height=t.height*f|0,e.viewport(0,0,t.width,t.height)}var d="in vec2 v;uniform float t;out vec2 uv;out vec2 UV;out float pixel;out float d1;out float d2;out float d3;mat2 rotate(float a){float c=cos(a),s=sin(a);return mat2(c,s,-s,c);}float sdCircle(float x,float y,float r){return length(vec2(x,y))-r;}float sdBox(float x,float y,float w,float h){vec2 uv=vec2(x,y);uv=abs(uv)-vec2(w,h);return length(max(uv,0.))+min(max(uv.x,uv.y),0.);}float ss(float d){return smoothstep(0.,0.0001,d);}float xByIndex(float i){return sin(i)>0.?-.2:.3;}float rotByIndex(float i){return sin(i)*3.;}float rand(vec2 n){return fract(sin(dot(n,vec2(12.9898,4.1414)))*43758.5453);}float noise(float x,float y){vec2 p=vec2(x,y);vec2 ip=floor(p);vec2 u=fract(p);u=u*u*(3.0-2.0*u);float res=mix(mix(rand(ip),rand(ip+vec2(1.0,0.0)),u.x),mix(rand(ip+vec2(0.0,1.0)),rand(ip+vec2(1.0,1.0)),u.x),u.y);return res*res;}float picture(vec2 uv,float i,float t){float d=0.;d+=ss(sdBox(uv.x+sin(i*2.+1.)*0.1,(uv.y-0.05)*((uv.x+0.5)*sin(i)*0.15+1.),0.7,0.7/ir));float cx=sign(xByIndex(i))*0.4;float cy=0.;d+=ss(sdCircle(uv.x-cx,uv.y-cy,0.15))*2.;float ni=noise(-i*3.,t/3.);float ni2=noise(i*5.,-t/4.);d+=ss(sdCircle(uv.x-cx-0.3*ni,uv.y-cy-0.3*ni2,0.05))*2.;uv*=rotate(ni2);d+=ss(sdBox(uv.x-cx,uv.y-cy,0.2,0.02));uv*=rotate(-ni);d+=ss(sdBox(uv.x-0.74,uv.y,0.04,0.2));return d;}float pixelColor(vec2 uv){float d=0.;float flt=floor(t);float frt=fract(t);for(int i=0;i<5;i++)frt=smoothstep(0.,1.,frt);frt=pow(frt,2.);float scale=mix(1.,2.5,frt);uv/=scale;uv*=rotate(mix(0.,-rotByIndex(flt),frt));uv.x+=mix(0.,-xByIndex(flt),frt);uv.y+=mix(0.,0.05,frt);uv/=2.5;uv*=rotate(-rotByIndex(-1.+flt));uv.y-=-0.05;uv.x-=xByIndex(-1.+flt);for(float i=-1.;i<6.;i++){d+=picture(uv,i+flt,t);uv.x+=xByIndex(i+flt);uv.y+=-0.05;uv*=rotate(rotByIndex(i+flt));uv*=2.5;}return d-flt;}void main(){vec2 s=1./vec2(c,-r);float i=float(gl_InstanceID);uv=v/2.+0.5;UV=vec2(mod(i,c),floor(i/c));vec2 st=(UV/vec2(c,r)-0.5)*vec2(ir,1);pixel=pixelColor(st);vec2 p=s*(v+1.+UV+UV)+vec2(-1,1);p.x+=(noise(t*1112.,p.y*3.)-0.5)*max(0.,noise(t,p.y)-0.7);gl_Position=vec4(p,0,1);d1=max(0.,noise(t*13.,p.y*3.)-0.9)*20.;d2=max(0.,noise(-t*11.,p.y*3.)-0.9)*20.;d3=0.;}";var x="out vec4 o;in vec2 uv;in vec2 UV;in float pixel;in float d1;in float d2;in float d3;uniform float t;float ch(float s){float d=length((uv+vec2(0,s)-0.5)*vec2(1,2));float l=pixel;l=mod(abs(l+99.),5.);if(l<1.)return 0.;if(l<2.)return smoothstep(0.3,0.2,d);if(l<3.)return smoothstep(0.2,0.1,abs(d-0.35));if(l<4.)return smoothstep(0.2,0.1,abs(uv.x-0.5))*smoothstep(0.5,0.4,abs(uv.y-0.5));return smoothstep(0.5,0.4,abs(uv.x-0.5))*smoothstep(0.5,0.4,abs(uv.y-0.5));;}void main(){vec2 p=UV/vec2(c,r)-0.5;o=vec4(ch(d3-d1),ch(d3+d3),ch(d3+d2),1);o.a=max(o.r,max(o.g,o.b));}";var m="in vec2 v;void main(){gl_Position=vec4(v,0,1);}";var h="out vec4 o;uniform float opacity;void main(){o=vec4(0,0,0,opacity);}";var b=window.c,l=80,u=252,P=9/16,w=u/l*P,g=1.5,s=b.getContext("webgl2",{preserveDrawingBuffer:!0,alpha:!0});v(b,s,w,g);var A=[-1,-1,-1,1,1,-1,1,-1,-1,1,1,1],p=c(s,{vertices:A,instances:l*u,uniforms:{t:"1f"},shaders:[d,x],patch:`float c=${u}.,r=${l}.,ir=${w};
`}),B=c(s,{vertices:A,uniforms:{opacity:"1f"},instances:1,shaders:[m,h]}),y=requestAnimationFrame;s.enable(s.BLEND);s.blendFunc(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA);B.draw({opacity:1});$fx.isPreview?p.draw({t:6}):y(function t(e){B.draw({opacity:.1}),p.draw({t:e/5e3}),y(t)});})();
