var e=(e,t)=>({x:e,y:t}),t=Math,{abs:r,sin:f,cos:a,max:l,min:n,atan2:c,sign:u,hypot:d}=t,i=t.PI,p=i/2,h=2*i,y=(e,t)=>[...Array(0|e)].map((e,r)=>t(r)),x=(e,t,r=1)=>y(e,f=>t(f/(e-1)*r)),s=(e,t,r,f)=>(t=new Uint32Array([0,1,r=f=2,3].map(t=>((e,t,r)=>parseInt(e.substr(t,8),16))(e,8*t))),e=>(f=t[3],t[3]=t[2],t[2]=t[1],t[1]=r=t[0],t[0]^=(f^=f<<11)^f>>>8^r>>>19,t[0]/2**32)),m=((e,t=0,r=s(e.substr(2)),f=s(e.substr(34)))=>e=>++t%2?r():f())(tokenData.hash),b=(e=1,t=0)=>m()*e+t,g=(e=2,t=0)=>t+b(0|e)|0,o=(e=.5)=>b()>e,F=(e=1)=>b(e)-e/2,v=e=>g(4)*i/2,w=e=>g(8)*i/4,D=e=>e[g(e.length)],M="F2F1DFF2BD1DD94711591812181212#e8d5b9c07a38df3146f5b3490e2430#f3efeff7b32b0c6291b80c09091e05#f1faeee63946a8ccdc457b9d1d3557#dff3e4bca2cd7d73c6684da2171738#dccfa39f8f6544443bc6110f12130b#fff7f4ffc6c6ff2f4ec60a5f820a5f#faf1dcff871fb8000041764b29293d#ccc9a1f0ffcea53f2b60290e280004#ecf39e90a9554f772d31572c132a13#fdf0d5669bbcc1121f780000003049#e0fbfc98c1d9ee6c4d3d5a80293241#fbfffe96031a1b1b1e6d676efaa916#fffcf2ccc5b9503d39252422eb5e28#8ecae6219ebc023047ffb703fb8500#000000FFFFFFdddddd444444888888#25232370798cf5f1eddad2bca99985#ffffff375ba9000000d6d6d6fca311#f4ca55284862d6644a3a8acafffeef#C20F002374C6FFDD22ffffff000000#e4e1dbD96B0BBF13048C13084465A6#f4ebc5F29F05233479569cc7F20505#001427708d81f4d58dbf06038d0801#8c1c13bf4342e7d7c1a78a7f735751".split("#").map(e=>e.match(/.{6}/g).map(e=>"#"+e));y(g(99999),b);var B,C,N,A=.618,I=.5/A,E=b(),H=g(8),L=g(24),P=D([0,0,.01,.03,.06]),R=o(.1),T=o(.2),$=o(.7),j=(e,t,r)=>e+(t-e)*r,k=(t,r)=>{let l=a(r),n=f(r);return e(t.x*l+t.y*n,-t.x*n+t.y*l)},S=(e,t,r)=>U(k(U({...e},t,-1),r),t),U=(e,t,r=1)=>(e.x+=t.x*r,e.y+=t.y*r,e),W=(t,r)=>e(a(t)*r,f(t)*r),Y=(e,t)=>d(e.x-t.x,e.y-t.y),Z=(e,t)=>c(t.y-e.y,t.x-e.x),q=(t,r,f)=>e(j(t.x,r.x,f),j(t.y,r.y,f)),z=t=>{C=y(D([2,3,4,5]),t=>{let r=F(.7),f=v()+B;return[k(e(-9,r),f),k(e(9,r),f)]})},G=e=>e.reduce((t,r,f)=>t+r.x*(f=e[f+1]||e[0]).y-r.y*f.x,0)/2,J=(e,t)=>({p:e,a:G(e)}),K=(e,t)=>e[(t+1)%e.length],O=e=>e.map((t,r)=>[t,K(e,r)]),Q=(e,t,r)=>q(e,t,n(.5,r/Y(e,t))),V=(e,t,r)=>!(e-1e-7<=t&&t<=r+1e-7),X=(e,t,r,f)=>{f&&e.push({...r},{...f}),t.push({...f||r})},_=(e,t)=>{let r=[],f=[],a=0;return((e,t)=>{O(e).map(t)})(e,e=>{let l=(([e,t],[r,f])=>((e,t,r,f,a,l,n,c)=>{let u=e*f-t*r,d=a*c-l*n,i=e-r,p=t-f,h=a-n,y=l-c,x=i*y-p*h,s=(u*h-i*d)/x,m=(u*y-p*d)/x;if(isNaN(s+m))return!1;if(e>=r){if(V(r,s,e))return!1}else if(V(e,s,r))return!1;if(t>=f){if(V(f,m,t))return!1}else if(V(t,m,f))return!1;if(a>=n){if(V(n,s,a))return!1}else if(V(a,s,n))return!1;if(l>=c){if(V(c,m,l))return!1}else if(V(l,m,c))return!1;return{x:s,y:m}})(e.x,e.y,t.x,t.y,r.x,r.y,f.x,f.y))(t,e);l&&a++,a%2?X(r,f,e[0],l):X(f,r,e[0],l)}),a<2?[e]:[r,f]},ee=e=>{e[1]&&e.sort((e,t)=>G(t)-G(e)).pop()},te=(e,t,r,f,a)=>{for(let l=0;l<t.length;l++){let n=[],c=Z(...t[l]),u=W(c+v(),D([b(.02,.01),b(.03,.03),0]));e.map(r=>{if(o(1-f)&&e.length>1||e.length>9)return n.push(r);let c=_(r,t[l]);o(1-a)&&c[0].map(e=>U(e,u)),n.push(...c)}),o(1-r)&&ee(n),e=n}return e},re=(t,r,f,a,c)=>{let u={x:f,y:a},d=((t,r,f=!1)=>{let[a,c]=t,u=c.x-a.x,d=c.y-a.y,i=((r.x-a.x)*u+(r.y-a.y)*d)/(u*u+d*d);return f&&(i=n(1,l(i,0))),e(a.x+i*u,a.y+i*d)})([t,r],u,!0);return Y(d,u)<c},fe=(e,t,r,f,a,l)=>{for(let n=0;n<t;n++){let t=a(),n=F(.9-t),c=F(1.5-t),u=!0;for(let e=0;e<N.length&&u;e++){let f=N[e].p||N[e];for(let e=0;e<f.length&&u;e++)re(f[e],f[(e+1)%f.length],n,c,t*r)&&(u=!1)}if((e&&!u||!e&&u)&&(!l||l(n,c,t)))return f(n,c,t)}},ae=(t,r,f)=>k(e(t,r),f),le=(e,t,r,f,a=0)=>((e,t,r)=>e.map(e=>U(e,{x:t,y:r})))([ae(-r,-f,a),ae(r,-f,a),ae(r,f,a),ae(-r,f,a)],e,t),ne=(t,r,f,a)=>{let l=[],n=o(),c=a||g(3,2),u=b(.5,.5),d=b(1.5,.5);for(let e=0;e<c;e++){let t=e/c*f-f/2,r=F(u)*f,a=f/c/2*d*(n?b(.7,.3):1),i=b(u/3*2,u/3)*f;l.push(le(t,r,a,i*(o(.2)?1:4)))}let i=e(t,r),h=B,y=g(2);return l.map(t=>{let r=y&&g(2)*p,f=h+r;return r&&y--,t.map(e=>k(e,f)).map(e=>U(e,i)).map(t=>T?e(t.x+F(.01),t.y+F(.01)):t)})},ce=(e,t,r,f)=>r.map(r=>U(W(r,f(r)),{x:e,y:t})),ue=(e,t,r)=>{let a=y(T?g(3,1):0,e=>{let t=D([2,3,5]),a=b(.01,.001),l=b(99);return e=>r*f(e*t+l)*a});return ce(e,t,((e,t,r,f)=>{let a=[];for(let e=0;e<t;e+=b(.05,.03))a.push(e);return a.push(t),a})(0,h),e=>a.reduce((t,r)=>r(e)+t,r))},de=[[e(-.5+P,-9),e(-.5+P,9)],[e(.5-P,-9),e(.5-P,9)],[e(-9,-I+P),e(9,-I+P)],[e(-9,I-P),e(9,I-P)]],ie=e=>!e.some(e=>(e=>r(e.x)>.5-P||r(e.y)>I-P)(e)),pe=b(10,10),he=((e,t,r=0)=>y(t.length/2,e=>[r+=t[2*e],t[2*e+1]]).find(t=>e<t[0])[1])(E,[.3,ne,.1,(e,t,r)=>[...ue(e,t,r),...ue(e,t,r*b(.22,.55)).reverse()],.3,ue,.1,(e,t,r,f,a=0)=>{a=D([p,-p]);let l=T?1+F(.15):1;return ce(e,t,[-a,2*i/3-a,-a-2*i/3],e=>r*l)},.15,(e,t,r,f,a)=>le(e,t,r,f,(e=>o()?e+w():w())(a)),.05,(t,r,f)=>[e(t-f,r-f*b(.5,1)),e(t+f,r-f*b(.5,1)),e(t+f,r+f*b(.5,1)),e(t-f,r+f*b(.5,1))]]),ye=e=>{z();let t=b(.18,.3),r=o(),f=r?F(A):0,a=!r&&o(.7)?F(.2):0;N=he(a,f,t,t,B),isNaN(N[0].x)||(N=[N]),N=te((e=>e.map(e=>$&&o()&&e.length<6?((e,t)=>O(O(e)).map(([[e],[r,f]])=>{let a=t();return((e,t,r)=>x(33,f=>q(q(e,t,f),q(t,r,f),f)))(Q(r,e,a),r,Q(r,f,a))}).flat())(e,()=>A/pe):e))(N),C,0,.1,D([.05,.1,.5])),(E<.7||E>.8)&&((N=N.sort((e,t)=>G(e)-G(t))).splice(N.length/2|0,1),N.length>4&&N.splice(1,1)),fe(R,999,1,(e,t,r)=>{let f=te(ne(e,t,r),C.map(([r,f])=>[U({...r},{x:e,y:t}),U({...f},{x:e,y:t})]),D([0,.1]),.1,.5);return N.push(...f)},e=>b(.3,.3)),N=(N=te(N,de,0,0,0)).filter(ie).map(J)},xe=(e,t)=>e.fillStyle=t,se=(e,t,r)=>{xe(e,r),e.fill(((e,t=!0)=>new Path2D(((e,t=!0)=>"M"+e.map(e=>[e.x,e.y]).join("L")+(t?"Z":""))(e,t)))(t))},me=e=>e.canvas,be=e=>me(e).width,ge=M[L].map(e=>[e,b()]).sort((e,t)=>e[1]-t[1]).map(e=>e[0]),oe=((e=1,t=1,r=!0)=>((e=1,t=1,r=!0)=>{let f=document.createElement("canvas");r&&(e=>{window.onload=()=>document.body.append(e)})(f);let a=innerWidth,l=innerHeight,n=e<a/l,c=f.style;return c.width=n?`calc(100vh*${e})`:"100vw",c.height=n?"100vh":`calc(100vw/${e})`,f.width=(0|(n?l*e:a))*t,f.height=(0|(n?l:a/e))*t,f})(e,t,r).getContext("2d"))(A,2);(e=>{(e=>{e.translate(be(e)/2,(e=>me(e).height)(e)/2)})(e),(e=>{e.scale(be(e),be(e))})(e)})(oe);var Fe,ve=()=>{if(N.filter(e=>e.a>.1).length<1||N.filter(e=>e.a<.03).length<1)return!0;let e=N.reduce((e,t)=>Math.min(e,t.p.reduce((e,t)=>Math.min(e,t.y),9)),9);if(N.reduce((e,t)=>Math.max(e,t.p.reduce((e,t)=>Math.max(e,t.y),-9)),-9)<.5||e>-.5)return!0;oe.clearRect(-4,-4,8,8),N.map(e=>se(oe,e.p,"#f0f"));let{width:t,height:r}=oe.canvas,f=oe.getImageData(0,0,t,r).data,a=0;return y(999,e=>{let l=P*t,n=l+b(t-2*l)|0,c=l+b(r-2*l)|0;f[4*(n+c*t)]>2&&a++}),a/999<.3||a/999>.8||N.length<5},we=(e,t,r)=>y(g(2,1),f=>{let a=[e+f*F(r/2),t+f*F(r/2),r/(f+1)];return ue(...a)}),De=t=>t.reduce((e,r)=>U(e,r,1/t.length),e(0,0)),Me=t=>{let r=e(1e9,1e9),f=e(-1e9,-1e9);return t.map(e=>{r.x=n(r.x,e.x),r.y=n(r.y,e.y),f.x=l(f.x,e.x),f.y=l(f.y,e.y)}),[r,f]},Be=([{x:e,y:t},{x:f,y:a}])=>n(r(e-f),r(t-a)),Ce=t=>{let r=De(t),f=x(180,e=>{let f=e*i,a=t.map(e=>S(e,r,f));return[Me(a),f]}).sort((e,t)=>Be(e[0])-Be(t[0]));return(([{x:t,y:r},{x:f,y:a}])=>[e(t,r),e(f,r),e(f,a),e(t,a)])(f[0][0]).map(e=>S(e,r,-f[0][1]))},Ne=t=>{let r=N.map((e,t)=>[e.a,t]).sort((e,t)=>t[0]-e[0]);if(!r.length)return;let f=r[r.length/2|0][1],a=N[f];N.splice(f,1);let l=-Z(...C[0])+t,n=o()?g(33,44):g(11,22),c=x(2*n,t=>[k(e(2,2*t-1),l),k(e(-2,2*t-1),l)]),u=D([0,0,.1,.2]),d=D([0,0,.1]),p=D([0,0,.1]),h=te([a.p],c,p,u,d);N.push(...h.map(e=>{let t=o(.05)?0:i/2,r=De(e);return e.map(e=>U(k(U(e,r,-1),t),r,1))}).map(e=>{if(4!==e.length){let t=Ce(e);if(G(t)/G(e)<1.2)return t}return e}).map(J))},Ae=(e,t)=>{se(oe,e.p,ge[t%ge.length])},Ie=(e=g(8))=>{!function(e){let t=F(.2);B=[0,0,0,i/2,i/2,i/2,.2*u(t)+t,t][e]}(e);let t=1e3;do{ye()}while(ve()&&--t>0);Ne(p),fe(!1,9999,.5,(e,t,r)=>N.push(...[ne,we,we][g(3)](e,t,r).map(J)),e=>D([.075,.1,.125]),(e,t)=>N.find(r=>t<0&&(({x:e,y:t},r)=>{let f=!1;for(let a=0,l=r.length-1;a<r.length;l=a++){let n=r[a].x,c=r[a].y,u=r[l].x,d=r[l].y;c>t!=d>t&&e<(u-n)*(t-c)/(d-c)+n&&(f=!f)}return f})({x:e,y:t},r.p))),Ne(0),o(.5)&&Ne(D([i/4+F(.1),0,p]));let r=ge.pop();xe(oe,r),oe.fillRect(-4,-4,8,8),N.filter(e=>e.a>1e-4).map(Ae),ge.push(r)};Ie(H);var Ee=e=>Fe=setTimeout(e=>Ee(Ie()),2e3),He=e=>Fe=clearTimeout(Fe);oe.canvas.addEventListener("pointerdown",e=>{e.button||(e.clientY>innerHeight/2?He(Ie()):Fe?He():Ee())})