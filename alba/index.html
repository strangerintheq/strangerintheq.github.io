<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
</head>
<body>
<style>
    body {
        margin: 0;
        overflow: hidden;
    }
</style>
<script src="https://www.alba.art/js/alba.min.js" crossorigin="anonymous"></script>
<script>

    // let seed = "0x5d58761265f41c40974c8d8bfbc86939aad4b488a10e5d7cc8617717fbce0526" // tiger
    // let seed = "0x2f019c31c49ffedbf82ea0145084e1e45d72a1a3d7c4fbb92ab4fd9be7bd9350" // ocean
    // let seed = "0xf91809d85d8df2dfec1f63f3ae5b2a2f23ff6bf354b2fe348db2e1d7b5b2f000" // ocean
    // let seed = "0x3aaeb00b8277590d7d6e39c275e31f913f4d52a7e91e49e5fd7aebbebe076c4e" // ocean
    // let seed = "0xaa34fae5e347bf9871524359f103bfdc5afbfa4d5b32979f874d085b2934c018" // jamaica
    let seed = window.alba._testSeed()
    window.alba.setMetadata = m => console.log(JSON.stringify(m, null, 2));
    window.alba.params = Object.assign(window.alba.params, {
        seed,
        width: innerWidth
    })
    console.log(window.alba.params.seed)
</script>
<script >
    var K="Lacaille 9352;888888FFFFFFdddddd444444000000,Procyon;fffcf2ccc5b9eb5e28503d39252422,Proxima Centauri;F2F1DFF2BD1DD94711591812181212,Rigil Kentaurus;dff3e4bca2cd7d73c6684da2171738,Toliman;001427708d81f4d58dbf06038d0801,Wolf 359;faf1dcff871fb800008609091c1c2a,Lalande 21185;ccc9a1f0ffcea53f2b60290e280004,Gliese 65;fdf0d5669bbcc1121f780000003049,Ross 154;fbfffe96031a1b1b1e000000248dcb,DX Cancri;dbdbdbefb12aa400002585b1000000,Epsilon Indi;C20F00FFDD22ffffff2374C6000000;f,Kruger 60;fdf0d5003049669bbc780000c1121f;F,EZ Aquarii;e63946f1faeea8dadc457b9d1d3557;f,Eta Cassiopeiae;000814001d3d003566ffc300ffd60a,WISE 0855-0714;03045e0077b600b4d890e0efcaf0f8,82 G. Eridani;00000014213dfca311e5e5e5ffffff;F,Epsilon Eridani;0a1128001f540340781282a2fefcfb,Luhman 16;fff7f4ffc6c6ff2f4ec60a5f820a5f,Groombridge 34;25232370798cf5f1eddad2bca99985".split(",").map(t=>t.split(";"));var T=window.alba,{random:Nt,PI:Ft,min:q,max:Gt,sin:bt,cos:ht,atan2:Vt,hypot:Bt,sign:Wt,pow:Xt,abs:Ot,sqrt:Yt}=Math,vt=Ft*2;var H=t=>{let e,r=new Uint32Array([0,1,2,3].map(n=>parseInt(t.substr(n*8,8),16)));return n=>(e=r[3],r[3]=r[2],r[2]=r[1],r[1]=r[0],e^=e<<11,e^=e>>>8,r[0]=e^r[0]^r[0]>>>19,r[0]/4294967296)},Rt=t=>{let e=H(t.substring(2)),r=H(t.substring(34)),n=e;return()=>(n===e?r:e)()},yt=Rt(T.params.seed),m=(t=1,e=0)=>e+yt()*t,g=(t,e=0)=>e+m(t)|0,L=(t=1)=>m(t)-t/2,d=(t=.5)=>m()>t,Z=()=>m()*vt,l=t=>t[g(t.length)],C=(t,e)=>[...Array(t|0)].map((r,n)=>e(n));var w="(1.+R)*11.",k=["min(4.*sF(3.*c.y),(R*3.+1.)*sF(c.x*(R*7.+7.)))+mix(c.x*(R*5.+4.),c.y*(R*5.+4.),c.y)",`L(c-R2+.5)*floor(${w})+atan(c.y-R+.5,c.x-R+.5)*(sign(R-.5)*11.)`,`L(c-R2+.5)*${w}`,`sin(c.y)*${w}`,`sin(atan(c.y-R+.5,c.x-R+.5))*${w}`,`L(c+F2(0,1))*${w}`];var R,J=t=>R=t,Q=t=>{let e=t.getContext("2d"),r=q(t.width,t.height);return e.translate(t.width/2,t.height/2),e.scale(r,r),e};var St=(t,e)=>R[t]=e;var Tt=(t,e)=>St(t,e),_=t=>Tt("fillStyle",t);var y=(t,e,r,n)=>R.fillRect(t,e,r,n),I=(t,e,r)=>(R.beginPath(),R.ellipse(t,e,r,r,0,0,Math.PI*2),R.fill());var tt=m(.3,.5),et=[t=>I(0,0,.36),t=>y(-tt/2,-1,tt,2),t=>I(L(),1.5,1.5)];var z=l(K),rt=z[2]||"",Ct=(t,e)=>rt.includes(t)?0:rt.includes(t.toUpperCase())?1:d(e),nt=Ct("f",.5),ot=l([33,99,333]),wt=d(.7),Et=d(.7),Pt=d(0),V=d(.6),B=d(.4),W=d(.95),X=d(.95),O=g(4),at=l(et),At=l(k),Lt=k[0],N=5,_t=7,G=1e-9,zt=N/(N+G*2),E=(N+G*2)/(_t+G*2),st=`ss smoothstep
L length
sB(x) sqrt(x*x+3e-6)
mC(x) mix(cL(x),cL(x+1.),fract(x))
smod(x,n) sF(x/n)*n
eT(x,y) 0.
F float
F2 vec2
F3 vec3
F4 vec4
MS ${zt}
NS ${wt}
Nf ${Et}
MM m${Pt?"in":"ax"}
sD ${B}
lt ${V}
tX ${"glce".split("")[O]}T
sP ${At}
mP ${Lt}
fC ${W}
S1 ${X}`.split(`
`).map(t=>"#define "+t).join(`
`);window.t=new Float32Array([-1,3,-1,-1,3,-1]);var Dt=`attribute vec2 p = t;
void main(){gl_Position=vec4(p,0,1);}`,it=(t,e,r=Dt)=>{let n=(o,s)=>{let[i,a,p,F]=M(o),x=t.createTexture();t.activeTexture(t.TEXTURE0+s);let f=t.TEXTURE_2D;t.bindTexture(f,x);let v=(S,ut)=>t.texParameteri(f,S,ut);v(t.TEXTURE_MIN_FILTER,t.LINEAR),v(t.TEXTURE_MAG_FILTER,t.LINEAR);let j=t.CLAMP_TO_EDGE;v(t.TEXTURE_WRAP_S,j),v(t.TEXTURE_WRAP_T,j),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0);let U;return A.push(()=>{U||(U=t.getUniformLocation(h,i)),t.activeTexture(t.TEXTURE0+s),t.bindTexture(f,x),t.uniform1i(U,s);let S=p();t.texImage2D(f,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,S.canvas?S.canvas:S)}),F},u=o=>{let[s,i,a,p]=M(o),F=t[`uniform${i}f`],x;return A.push(()=>{x||(x=t.getUniformLocation(h,s));let f=a();F.call(t,x,...f)}),p},c=o=>{let[s,i,a,p]=M(o),F=t.createBuffer(),x,f;return A.push(()=>{t.bindBuffer(t.ARRAY_BUFFER,F),f||(f=t.getAttribLocation(h,s),t.enableVertexAttribArray(f)),x=x?t.STATIC_DRAW:t.DYNAMIC_DRAW;let v=a();t.bufferData(t.ARRAY_BUFFER,v,x),t.vertexAttribPointer(f,i,t.FLOAT,!1,0,0)}),p},b=o=>{let s=0;o=o.split(`
`).map(a=>(a.startsWith("attribute")?a=c(a):~a.indexOf("m sampler2D")?a=n(a,s++):~a.indexOf("uniform")&&(a=u(a)),a)).join(`
`);let i=(a,p)=>o=o.split(a).map((F,x,f)=>F+(x+1<f.length?p():"")).join("");return i("R2",()=>`F2(${C(2,()=>m())})`),i("R",m),`precision highp float;
`+o},M=o=>{let s=o.trim().split(/\s+/),i=+s[1].split("vec")[1]||1,a="return _=>"+o.split("=")[1],p=new Function("",a)();return[s[2],i,p,o.split("=")[0].trim()+";"]},Y=(o,s)=>{let i=t.createShader(s);o=b(o),t.shaderSource(i,o),t.compileShader(i),t.attachShader(h,i)},A=[],h=t.createProgram();Y(r,t.VERTEX_SHADER),Y(e,t.FRAGMENT_SHADER),t.linkProgram(h),t.useProgram(h),A.forEach(o=>o()),t.drawArrays(t.TRIANGLES,0,3)},ct=t=>{let e=t,r=e.length,n=(c,b)=>(parseInt(c.substr(b,2),16)/255).toFixed(4),u=c=>`vec3(${n(c,0)},${n(c,2)},${n(c,4)});`;return`vec3 cL(float x){
x=mod(x,${r}.);${C(r,c=>`if (x<${c+1}.)return ${u(e[c])}`).join("")}}`};var ft=(t,e,r)=>{let n=innerWidth,u=innerHeight,c=n/u<e,b=t.style;t.width=c?n:u*e,t.height=c?n/e:u,b.width=t.width+"px",b.height=t.height+"px",t.width*=r,t.height*=r},D=()=>document.createElement("canvas");var xt=t=>{let e=D();e.width=t,e.height=t/E;let r=Q(e);return J(r),_("#fff"),y(-1,-1,2,2),_("#000"),r},mt=()=>{let t=xt(1e3);at(),_("#fff"),t.rotate(Z());let e=L(),r=m(.1,.1);return C(l([0,0,0,0,0,0,1,2]),n=>y(e+n*r,-1,.05,2)),t};var pt=()=>{let t=l([.08,.16]),e=1-t,r=l([e,1/E-t,e*1.2]),n=xt(ot);return y(-e/2,-r/2,e,r),n};var dt=`F sF(F x){return min(fract(x)/.9,fract(-x)/.1);}F3 pM(F3 x){return mod(((x*34.)+1.)*x,289.);}F nz(vec2 v){const F4 C=F4(.211324865405187,.366025403784439,-.577350269189626,.024390243902439);F2 i=floor(v+dot(v,C.yy));F2 x0=v-i+dot(i,C.xx);F2 i1=(x0.x>x0.y)?F2(1,0):F2(0,1);F4 x12=x0.xyxy+C.xxzz;x12.xy-=i1;i=mod(i,289.);F3 p=pM(pM(i.y+F3(0,i1.y,1))+i.x+F3(0,i1.x,1));F3 m=max(.5-F3(dot(x0,x0),dot(x12.xy,x12.xy),dot(x12.zw,x12.zw)),.0);m=m*m*m*m;F3 x=2.*fract(p*C.www)-1.;F3 h=abs(x)-.5;F3 ox=floor(x+.5);F3 a0=x-ox;m*=1.79284291400159-.85373472095314*(a0*a0+h*h);F3 g;g.x=a0.x*x0.x+h.x*x0.y;g.yz=a0.yz*x12.xz+h.yz*x12.yw;return 130.*dot(m,g);}F fbm(F2 x){F v=.0;F a=.5;for(int i=0;i<7;++i){v+=a*cos(nz(x+a));x=x*2.+F(i);a*=.5;}return v;}mat2 rot(F a){F c=cos(a),s=sin(a);return mat2(c,s,-s,c);}F sm(sampler2D t,F n){return texture2D(t,gl_FragCoord.xy/r.xy+n).x;}F lT(F2 a,F2 b){return .1*(max(nz(a*333.+floor(a.x*2222.)),sin(nz(b)*55.+a.x*2222.)));}F gT(F2 a,F2 b){return lT(a,b)-lT(a.yx,b.yx);}F cT(F2 a,F2 ubv){return ss(.3,.31+sin(a.x*5.)*0.02,L(fract(a*333.)-.5+.4*nz(floor(a*333.))))*.1;}F SP(F2 c){c=c*rot(R*4.);if(NS)c+=nz(c*11.*R)*.01;return sP;}F MP(F2 c){return mP;}F2 CF(F2 a,F2 b,F2 c){F f=sm(MK,(Nf?.2:.02)*nz(c+R*999.));F e=a.y+nz(R*999.+a+fbm(c));f=max(f,ss(.07,.05,abs(e)));f=MM(f,L(b)+abs(fbm(R*999.+b*1.)-0.5));return F2(f,e);}void main(){F2 uv=gl_FragCoord.xy/r.xy-.5;uv/=MS;uv.x*=r.x/r.y;F2 UV1=uv;F2 UV=uv;if(S1)uv.x=sB(uv.x);uv=uv*rot(R*7.);uv+=F2(fbm(uv+R*1111.)*(1.1+R*.6)-.5,fbm(uv+R*1111.)*(1.1+R*.6)-.5);F t=tX(UV,uv);uv+=t*nz(UV)*.02;F x=MP(uv);F b=L(uv);F aa=SP(UV);x=mix(x,aa,ss(.8,.79,b));F2 fr=CF(UV,UV1,uv);if(fr.y<0.)x=1.-x*.3;x=smod(x,5.);F zz=1.+R*2.+UV.x;x=mix(x,x>zz-.5&&x<zz+.5?x/2.:x/5.,x>4.5?fr.x/12.:fr.x);x=mix(x,x*.1,sm(OL,.0));if(fC)x-=sF(x);F3 c=mC(x+t);c+=tX(UV*rot(floor(x+UV.x)*17.),uv);if(lt)c+=pow(sF(x-.2+fbm(UV)),9.)*.3;if(sD)c-=pow(1.-sF(x+.2+fbm(UV)),9.)*.7;gl_FragColor=F4(clamp(c,0.,1.),1);}`;t1=mt();t2=pt();var P=D();ft(P,E,T.params.isRenderer?devicePixelRatio:4);var Mt=t=>document.body.append(t);Mt(P);var Ut=P.getContext("webgl",{preserveDrawingBuffer:!0}),gt=P.width,kt=P.height,lt=z[1].split(/(.{6})/).filter(t=>t);it(Ut,`
${st}
uniform sampler2D MK = t1;
uniform sampler2D OL = t2;
vec2 r = F2(${[gt,kt]});
${ct(nt?lt:lt.reverse())}
${dt}`);var $=t=>t?"Yes":"No";T.setMetadata({Star:z[0],Texture:["Grid","Lines","Dots","No"][O],Mirror:$(X),Flat:$(W),Light:$(V),Shade:$(B)});T.setComplete(!0)
</script>

</body>
</html>