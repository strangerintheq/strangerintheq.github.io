<!DOCTYPE html>
<!-- saved from url=(0139)https://gateway.fxhash2.xyz/ipfs/QmanL1UyEpoTo4wJ4N86V1ntc5JGgmyYuC2DfLyd4AhQ23/?fxhash=oo274c4kMq5xbm7CpvJ6rDHatuuZwhEACfgaQ4BXy9XX4eTu4q7 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <style>body>canvas:first-child{
            display: none;
        }</style>
        <title>the-other-side-of-the-amulet</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script id="fxhash-snippet">
      let alphabet = "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"
      var fxhash = new URLSearchParams(window.location.search).get('fxhash')
      let b58dec = str=>[...str].reduce((p,c)=>p*alphabet.length+alphabet.indexOf(c)|0, 0)
      let fxhashTrunc = fxhash.slice(2)
      let regex = new RegExp(".{" + ((fxhashTrunc.length/4)|0) + "}", 'g')
      let hashes = fxhashTrunc.match(regex).map(h => b58dec(h))
      let sfc32 = (a, b, c, d) => {
        return () => {
          a |= 0; b |= 0; c |= 0; d |= 0
          var t = (a + b | 0) + d | 0
          d = d + 1 | 0
          a = b ^ b >>> 9
          b = c + (c << 3) | 0
          c = c << 21 | c >>> 11
          c = c + t | 0
          return (t >>> 0) / 4294967296
        }
      }
      var fxrand = sfc32(...hashes)
      // used to get features during token mint
      window.addEventListener("message", (event) => {
        if (event.data === "fxhash_getFeatures") {
          parent.postMessage({
            id: "fxhash_getFeatures",
            data: window.$fxhashFeatures
          }, "*")
        }
      })
      var isFxpreview = new URLSearchParams(window.location.search).get('preview') === "1"
      function fxpreview() {
        window.dispatchEvent(new Event("fxhash-preview"))
        setTimeout(() => fxpreview(), 500)
      }
</script>
        <style>
        body {
            margin: 0;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
        <script>(() => {    
    
    const l = window.location;
    const p = new URLSearchParams(l.search.substring(1));
    const h = p.get('hash');
    const hash = h || ('0x' + [...Array(64)].map(_ => (((window.fxrand||Math.random)() * 16)|0).toString(16)).join(''))
    !h && p.append('hash', hash)  
    console.log('\n', hash)
    console.log('\n' + l.origin + l.pathname + "?" + p.toString() ) ;
    window.tokenData = {hash}
    try {
        window.tokenData.debug = p.get('debug')
    } catch (e){}
     try {
        window.tokenData.palette = JSON.parse(atob(p.get('palette')))
    } catch (e){}
})()</script>
        <script>var D=Math,{sqrt:N,abs:G,sin:we,cos:Ce,pow:_e,max:Pe,min:Ve,atan2:De,sign:ke,round:Ie,floor:Me,ceil:Se,hypot:Le,asin:Xe}=D;var k=D.PI,Ne=k/2,A=2*k,Ge=N(.5)*.5+.5;var U=(e,t)=>[...Array(e|0)].map((o,n)=>t(n));var H=(e,t,o)=>parseInt(e.substr(t,o),16);var ne=(e,t,o,n)=>(t=new Uint32Array([1,3,o=n=2,4].map(b=>H(e,b*8,8))),b=>(n=t[3],t[3]=t[2],t[2]=t[1],t[1]=o=t[0],n^=n<<11,t[0]^=n^n>>>8^o>>>19,t[0]/2**32)),ie=ne(tokenData.hash),r=(e=1,t=0)=>ie()*e+t,l=(e=2,t=0)=>t+r(e|0)|0,d=(e=.5)=>r()>e,I=(e=1)=>r(e)-e/2;var M=e=>r(A),y=e=>e[l(e.length)];var ce=(e=1,t=1,o=!0)=>{let n=document.createElement("canvas"),b=()=>{let F=document.body;F?F.append(n):setTimeout(b,100)};o&&b();let x=e<innerWidth/innerHeight,T=((x?innerHeight*e:innerWidth)|0)*t,R=((x?innerHeight:innerWidth/e)|0)*t,g=n.style;return g.width=x?`calc(100wh * ${e})`:"100vw",g.height=x?"100vh":`calc(100ww / ${e})`,n.width=T,n.height=R,{canvas:n,w:T,h:R}};var O=(e=1,t=1,o=!0)=>{let{canvas:n,w:b,h:x}=ce(e,t,o);return{gl:n.getContext("webgl"),canvas:n,w:b,h:x,ratio:e}};function W(e){function t(i,c,a,u){e.viewport(i,c,a,u)}function o(i){e.bindFramebuffer(e.FRAMEBUFFER,i)}function n(i,c=0){e.activeTexture(e.TEXTURE0+c),e.bindTexture(e.TEXTURE_2D,i)}function b(i,c){let a=e.createShader(c);e.shaderSource(a,i),e.compileShader(a);let u=e.getShaderInfoLog(a);if(u.length>0)throw console.log(i.split(`
`).map((p,v)=>(""+(1+v)).padStart(4,"0")+": "+p).join(`
`)),u;return a}function x(i,c){let a=e.createProgram();e.attachShader(a,b(i,e.VERTEX_SHADER)),e.attachShader(a,b(c,e.FRAGMENT_SHADER)),e.linkProgram(a);let u=()=>e.useProgram(a),p={};return{uniforms:p,use:u,uniform(v,$){let P=e.getUniformLocation(a,$);p[$]=V=>e["uniform"+v](P,V)},attribute(v){let $=e.getAttribLocation(a,v);e.vertexAttribPointer($,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray($)},draw(v){e.drawArrays(e.TRIANGLES,0,v)}}}function T(i){let c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW)}function R(i,c=i){let a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a);{let u=0,p=e.RGBA,v=0,$=e.RGBA,P=e.UNSIGNED_BYTE,V=null;e.texImage2D(e.TEXTURE_2D,u,p,i,c,v,$,P,V),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}return a}function g(i){let c=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,c);let a=e.COLOR_ATTACHMENT0,u=0;return e.framebufferTexture2D(e.FRAMEBUFFER,a,e.TEXTURE_2D,i,u),c}function F(i,c,a){a=`precision highp float;
#define F float 
const vec2 R=vec2(${[i,c]});${a}`;let p=x("attribute vec2 P;void main(){gl_Position=vec4(P,0,1);}",a);return p.attribute("P"),p}return{program:F,buffer:T,frameBuffer:g,framebufferTexture:R,bindFramebuffer:o,bindTexture:n,viewport:t}}var q=[["#ecd078","#d95b43","#c02942","#542437","#53777a"],["#556270","#4ecdc4","#c7f464","#ff6b6b","#c44d58"],["#774f38","#e08e79","#f1d4af","#ece5ce","#c5e0dc"],["#036564","#033649","#031634","#e8ddcb","#cdb380"],["#490a3d","#e97f02","#8a9b0f","#f8ca00","#bd1550"],["#00a0b0","#6a4a3c","#cc333f","#eb6841","#edc951"],["#efffcd","#dce9be","#555152","#2e2633","#99173c"],["#413e4a","#73626e","#b38184","#f0b49e","#f7e4be"],["#99b898","#fecea8","#ff847c","#e84a5f","#2a363b"],["#655643","#80bca3","#f6f7bd","#e6ac27","#bf4d28"],["#351330","#424254","#64908a","#e8caa4","#cc2a41"],["#8c2318","#5e8c6a","#88a65e","#bfb35a","#f2c45a"],["#f8b195","#f67280","#c06c84","#6c5b7b","#355c7d"],["#5e412f","#fcebb6","#78c0a8","#f07818","#f0a830"],["#452632","#91204d","#e4844a","#e8bf56","#e2f7ce"],["#eee6ab","#c5bc8e","#696758","#45484b","#36393b"],["#f04155","#ff823a","#f2f26f","#fff7bd","#95cfb7"],["#b9d7d9","#668284","#2a2829","#493736","#7b3b3b"],["#b3cc57","#ecf081","#ffbe40","#ef746f","#ab3e5b"],["#a3a948","#edb92e","#f85931","#009989","#ce1836"],["#300030","#480048","#601848","#c04848","#f07241"],["#e8d5b7","#0e2430","#fc3a51","#f5b349","#e8d5b9"],["#3e4147","#fffedf","#dfba69","#5a2e2e","#2a2c31"],["#1c2130","#028f76","#b3e099","#ffeaad","#d14334"],["#a7c5bd","#e5ddcb","#eb7b59","#cf4647","#524656"]];function Y(){return`
vec3 permute(vec3 x) { 
    return mod(((x*34.0)+1.0)*x, 289.0); 
}

float noise2d(vec2 v){
  const vec4 C = vec4(0.211324865405187, 0.366025403784439,
           -0.577350269189626, 0.024390243902439);
  vec2 i  = floor(v + dot(v, C.yy) );
  vec2 x0 = v -   i + dot(i, C.xx);
  vec2 i1;
  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
  vec4 x12 = x0.xyxy + C.xxzz;
  x12.xy -= i1;
  i = mod(i, 289.0);
  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))
  + i.x + vec3(0.0, i1.x, 1.0 ));
  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy),
    dot(x12.zw,x12.zw)), 0.0);
  m = m*m ;
  m = m*m ;
  vec3 x = 2.0 * fract(p * C.www) - 1.0;
  vec3 h = abs(x) - 0.5;
  vec3 ox = floor(x + 0.5);
  vec3 a0 = x - ox;
  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );
  vec3 g;
  g.x  = a0.x  * x0.x  + h.x  * x0.y;
  g.yz = a0.yz * x12.xz + h.yz * x12.yw;
  return 130.0 * dot(m, g);
}
    `}function j(e=1,t=e,o=-e/2,n=o){return`vec2(${r(e)+o},${r(t)+n})`}function J(){return`
mat2 rot(float angle) {
 float s = sin(angle);
 float c = cos(angle);
 return mat2(c,s,-s,c);
}
    
    `}var K="oUV."+(d()?"x":"y"),s=r(.1,.22),S=r(.15,-.075),L=`vec2(0, ${S})`,fe=`length(oUV + ${L}) > ${s}`,se=`sqrt(length((oUV + ${L})*(oUV + ${L}))) > ${s}`,de=`abs(oUV.x) > ${s} || abs(oUV.y+${S}) > ${s}`,ue=`abs(${K} - ${r(.1,.1)}) < ${s/10}
               || abs(${K} + ${r(.1,.1)}) < ${s/10} `,me=y([`abs(oUV.x) > ${s}`,`abs(oUV.y) > ${s}`]),be=`abs(oUV.x ${d()?"+":"-"} oUV.y) > ${s*1.7}`,pe=y([`oUV.y > ${s}`,`oUV.y < ${-s}`,`oUV.x > ${s}`,`oUV.x < ${-s}`]);function X(){return`sin(
        ${r(A)} + ${r(3,2)}*atan(sabs(oUV.x), oUV.y+${S})
    )`}var Q=`length(oUV) - 
    (${r(.02,.02)} + ${r(.02)}*(${X()}+${X()})) * ${X()}> 0.28 `,Z=[be,pe,me,fe,ue,se,de,Q,Q];function z(e){return`
    if (noise2d(fract(UV)
     +vec2(0,${r(.1)})
    ) < -${r()}) {
        uv *= ${e}.;
        id -= floor(uv);
        uv = fract(uv);
    }
    uv *= ${r(1,1)};
    `}var ve=`

float grid(vec2 uv){

    vec2 UV = uv;
    uv *= ${10+l(10)}.;
    vec2 id = floor(uv);
    uv = fract(uv);

    float a;
    ${z(2)}
    ${z(4)}
    ${z(8)}
 
    return noise2d(100.+id/${r(22)+22}+${r(111)})*5.;
}

`,ee=d()?"op":"p",xe=[`sin(${r(33,11)}*length(${ee}-${j(0,.2)})) > ${r(.5,.5)}`,`length(${ee}) < 0.1`,`sin(${d()?"p.x":"p.y"}*${r(44,22)}) > 0.`],m={frameMode:l(Z.length),noise:d(.7),rotate:d(.8)?1e-7:I(.2),asymmetry:d(.7)?0:r(.1,.1)};m.noise&&(m.noise=`
  
  if (abs(mod(id,5.)) < 1.15 && abs(mod(id,5.)) > .85){
       id += 0. 
    + nz(${r(99)}+op*0.1, ${r(99)}) * 0.5
    * nz(${r(250,250)}*op, ${r(99)});
  }
  
  `);var $e=`


${J()}
${Y()}

#define sabs(p) sqrt((p)*(p)+0.0005)

vec2 kali(vec2 p){
  ${U(l(2,2)*2,()=>`
    p=sabs(p)/dot(p,p)-vec2(${r(.1,.1)}, ${r(.1,.1)});
  `).join("")}
  return p;
}

float nz(vec2 p, float k){
  return noise2d(p + k + ${j(200)});
}

${ve}

vec3 getId(vec2 p) {
  vec2 oUV = p;
  p.y += ${I(1.2)};
  vec2 op = p*${r(.5,1)};
  p = p * rot(${m.rotate});
  p=kali(p*${r(.2,1)});
  float id;
 
  // main pattern
  id += nz(p, ${r(99)});
  
  //assymetry 1
  ${m.asymmetry?`id += nz(op, ${r(99)})*0.1;`:""}
  
  

   //assymetry 2
  // ${m.asymmetry?`id *= ${m.asymmetry}*nz(op*${r(1,.5)}, ${r(100)});`:""}

   // id *= nz(p + ${r(111)}, 6.);

   // id *= ${r(2,2)};
    
  float gr = fract(id);
  id = floor(id);  
  if (abs(gr - 0.5) > 0.4) {
     float k = id < 1.0 ? -1.0 : 1.0;
     id += k;
  }
  id += grid(p*${r(1,1)}*(0.7+0.3*noise2d(p+${r(111)})));
  
   // id += grid(op);
  
  ${m.noise||""} 
  
  id = mod(id, 4.);
  
  bool edge = abs(oUV.x) > 0.33 || abs(oUV.y) > 0.45;
  bool canCut = mod(id, 2.5) < 1.5;
  float cutoff = 0.;
  
  if (edge || canCut && (${Z[m.frameMode]})) {
      cutoff = 1.;
  }
  
  if (${y(xe)} && !canCut ) {
       cutoff = 1.;
  }
  
  return vec3(id/5., cutoff, gr);
}

void main() {
  vec2 uv = gl_FragCoord.xy / R-0.5; 
  uv.x *= R.x/R.y;
  gl_FragColor = vec4(getId(uv), 1);
}
`;function le(e){let t=parseInt(e.substring(1),16);return[t>>16,t>>8,t].map(o=>o&255)}function Te(e){return e.map(t=>(t/255).toFixed(8))}function ye(e){return`vec3( ${e[0]}, ${e[1]}, ${e[2]} )`}function he(e,t=5){let o=e.map(le).map(Te).map(ye);return`
vec3 getColor(float i) {
    i = abs(mod(i, ${t}.));
    if (i < 1.) return ${o[0]};
    if (i < 2.) return ${o[1]};
    if (i < 3.) return ${o[2]};
    if (i < 4.) return ${o[3]};
    return ${o[4]};
}
`}var Ee=y(q);function h(){let e=M();return`vec2(cos(${e}),sin(${e}))`}function Re(){return`
float

bg(vec2 p, float seed) {
    p -= 0.5;
    p = p*rot(${M()}+seed);
    
    float n = 1.;

       n = noise2d(${r(111)}*${h()} + atan(p.y,p.x)*p*200.*${r(2,2)}*n);
    n = noise2d(${r(111)}*${h()} + p*20.*${r(2,2)} + atan(p.y,p.x)*${h()}*n);
    n = noise2d(${r(111)}*${h()} + p*${r(2,2)} + (atan(p.y,p.x))*${h()}*n);


    
    ${d()?`
    n *= sin(p.x*${r(1500,1500)})*0.5+0.5;
    `:""}
       
    return n;
}

    
    `}var re=d(.9),ge=l(6);function Fe(){return`
    
     if (cutout == 1.) {
        float bgNoiseValue = bg(p, 6.);
        vec3 bgCol = vec3(mix(getColor(4.1), vec3(1), bgNoiseValue*0.1));
    ${d()?`
        bgCol = mix(bgCol, vec3(1), bgNoiseValue*0.3);
    `:""}
        float dir = ${r(2)+.5};
        vec2 shift = vec2(cos(dir),sin(dir))*(1.5+noise2d(p));
        float cutoutForShadow;
        ${U(8,e=>`
            cutoutForShadow = texture2D(idTexture, p+(0.009-${e}.*0.001)*shift).g;
            if (cutoutForShadow == 0.)
                bgCol -= 0.07;
        `).join("")}
        
     ${re?`
        
         bgCol = mix(bgCol, getColor(0.), smoothstep(0.6,0.4,clamp((p.x+p.y*4./3.)*30., 0., 1.)));
        
     `:""} 
        
        return bgCol;
    }
    
    `}var Ae=`
uniform sampler2D idTexture;
uniform float debug;
${J()}
${he(Ee)}
${Y()}
${Re()}

vec3 img(vec2 p) {
    vec3 d = texture2D(idTexture, p).rgb;
    float id = d.r*5.;
    float cutout = d.g;
    float gr = d.b;
    ${Fe()}
    id = mod(id,4.);
    vec3 col = getColor(id);
${d()?`
    vec3 col1 = gr < 0.5 ? getColor(id-1.) : getColor(id+1.);
    col = mix(col, col1, gr < 0.5 ? gr*2. : (gr-0.5)*2.);
`:""}
     if (mod(id, 3.)>0.5)
        col = mix(col, vec3(1), bg(p,id)*noise2d(id+p));
     
    return vec3(col);
}
    
void main(){gl_FragColor=vec4(img(gl_FragCoord.xy/R),1);}`,{gl:f,w,h:C}=O(3/4,2),E=W(f);E.buffer([-1,3,-1,-1,3,-1]);var _=E.program(w,C,$e);_.uniform("1f","time");var B=E.program(w,C,Ae);B.uniform("1f","debug");var te=E.framebufferTexture(w,C),Ue=E.frameBuffer(te);f.viewport(0,0,w,C);requestAnimationFrame(function(t){_.use(),f.bindFramebuffer(f.FRAMEBUFFER,Ue),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,null),_.uniforms.time(t/1e3),_.draw(3),B.use(),f.bindFramebuffer(f.FRAMEBUFFER,null),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,te),B.draw(3)});var oe="Reserve for dutch auction tokens",ae="Reserve for fixed price tokens";window.$fxhashFeatures={"Special ability":re?["Giveaway for dutch auction tokens",oe,oe,ae,ae,"Giveaway for fixed price tokens"][ge]:"None",Rotation:G(m.rotate)>.01?"Yes":"No","Frame mode":["Diagonal","Edge","Line","Circle","Triptych","Squircle","Square","Polar","Polar"][m.frameMode],Asymmetry:m.asymmetry?"Yes":"No"};console.log(JSON.stringify(window.$fxhashFeatures,null,2));</script>
        
    </head>
    <body>
<canvas width="1408" height="1878" style="height: 100vh;"></canvas></body></html>