<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
</head>

<body>

<iframe src="web/viewer.html" frameborder="0"  allowfullscreen style="
position:absolute;top:0;right:0;width:100%;height:100%;"></iframe>

<script>

     function _base64ToArrayBuffer(base64) {
        var binary_string = window.atob(base64);
        var len = binary_string.length;
        var bytes = new Uint8Array(len);
        for (var i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes.buffer;
    }

    var iframe = document.getElementsByTagName('iframe')[0];

    var iframeDoc = iframe.contentWindow.document;
    if (iframeDoc.readyState === 'complete') {
        iframeDoc.body.style.backgroundColor = 'green';
    }

    iframe.onload = function() {
        var iframeDoc2 = iframe.contentWindow.document;
        iframeDoc2.body.style.backgroundColor =  'lightgray'; // rgb(235, 89, 5)// '#FF5300';//'orange';
        window.frames[0].PDFViewerApplication.baseUrl="";
        window.frames[0].PDFViewerApplicationOptions.set('defaultUrl',""); // загружает документ по умолчанию... можно удалить в настройках в src
        justDoIt(localStorage.getItem('pdf-viewer-data'))
    };

    var closePdf = function () {
        window.frames[0].PDFViewerApplication.close();
    }

    var justDoIt = function (result) {
            window.frames[0].PDFViewerApplication.open(_base64ToArrayBuffer(result));
    }

</script>


</body>
</html>