(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
/*!
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
(function(t){t["ru"]=Object.assign(t["ru"]||{},{a:"Image toolbar",b:"Special characters",c:"leftwards double arrow",d:"rightwards double arrow",e:"upwards double arrow",f:"downwards double arrow",g:"leftwards dashed arrow",h:"rightwards dashed arrow",i:"upwards dashed arrow",j:"downwards dashed arrow",k:"leftwards arrow to bar",l:"rightwards arrow to bar",m:"upwards arrow to bar",n:"downwards arrow to bar",o:"up down arrow with base",p:"back with leftwards arrow above",q:"end with leftwards arrow above",r:"on with exclamation mark with left right arrow above",s:"soon with rightwards arrow above",t:"top with upwards arrow above",u:"Dollar sign",v:"Euro sign",w:"Yen sign",x:"Pound sign",y:"Cent sign",z:"Euro-currency sign",aa:"Colon sign",ab:"Cruzeiro sign",ac:"French franc sign",ad:"Lira sign",ae:"Currency sign",af:"Bitcoin sign",ag:"Mill sign",ah:"Naira sign",ai:"Peseta sign",aj:"Rupee sign",ak:"Won sign",al:"New sheqel sign",am:"Dong sign",an:"Kip sign",ao:"Tugrik sign",ap:"Drachma sign",aq:"German penny sign",ar:"Peso sign",as:"Guarani sign",at:"Austral sign",au:"Hryvnia sign",av:"Cedi sign",aw:"Livre tournois sign",ax:"Spesmilo sign",ay:"Tenge sign",az:"Indian rupee sign",ba:"Turkish lira sign",bb:"Nordic mark sign",bc:"Manat sign",bd:"Ruble sign",be:"Latin capital letter a with macron",bf:"Latin small letter a with macron",bg:"Latin capital letter a with breve",bh:"Latin small letter a with breve",bi:"Latin capital letter a with ogonek",bj:"Latin small letter a with ogonek",bk:"Latin capital letter c with acute",bl:"Latin small letter c with acute",bm:"Latin capital letter c with circumflex",bn:"Latin small letter c with circumflex",bo:"Latin capital letter c with dot above",bp:"Latin small letter c with dot above",bq:"Latin capital letter c with caron",br:"Latin small letter c with caron",bs:"Latin capital letter d with caron",bt:"Latin small letter d with caron",bu:"Latin capital letter d with stroke",bv:"Latin small letter d with stroke",bw:"Latin capital letter e with macron",bx:"Latin small letter e with macron",by:"Latin capital letter e with breve",bz:"Latin small letter e with breve",ca:"Latin capital letter e with dot above",cb:"Latin small letter e with dot above",cc:"Latin capital letter e with ogonek",cd:"Latin small letter e with ogonek",ce:"Latin capital letter e with caron",cf:"Latin small letter e with caron",cg:"Latin capital letter g with circumflex",ch:"Latin small letter g with circumflex",ci:"Latin capital letter g with breve",cj:"Latin small letter g with breve",ck:"Latin capital letter g with dot above",cl:"Latin small letter g with dot above",cm:"Latin capital letter g with cedilla",cn:"Latin small letter g with cedilla",co:"Latin capital letter h with circumflex",cp:"Latin small letter h with circumflex",cq:"Latin capital letter h with stroke",cr:"Latin small letter h with stroke",cs:"Latin capital letter i with tilde",ct:"Latin small letter i with tilde",cu:"Latin capital letter i with macron",cv:"Latin small letter i with macron",cw:"Latin capital letter i with breve",cx:"Latin small letter i with breve",cy:"Latin capital letter i with ogonek",cz:"Latin small letter i with ogonek",da:"Latin capital letter i with dot above",db:"Latin small letter dotless i",dc:"Latin capital ligature ij",dd:"Latin small ligature ij",de:"Latin capital letter j with circumflex",df:"Latin small letter j with circumflex",dg:"Latin capital letter k with cedilla",dh:"Latin small letter k with cedilla",di:"Latin small letter kra",dj:"Latin capital letter l with acute",dk:"Latin small letter l with acute",dl:"Latin capital letter l with cedilla",dm:"Latin small letter l with cedilla",dn:"Latin capital letter l with caron",do:"Latin small letter l with caron",dp:"Latin capital letter l with middle dot",dq:"Latin small letter l with middle dot",dr:"Latin capital letter l with stroke",ds:"Latin small letter l with stroke",dt:"Latin capital letter n with acute",du:"Latin small letter n with acute",dv:"Latin capital letter n with cedilla",dw:"Latin small letter n with cedilla",dx:"Latin capital letter n with caron",dy:"Latin small letter n with caron",dz:"Latin small letter n preceded by apostrophe",ea:"Latin capital letter eng",eb:"Latin small letter eng",ec:"Latin capital letter o with macron",ed:"Latin small letter o with macron",ee:"Latin capital letter o with breve",ef:"Latin small letter o with breve",eg:"Latin capital letter o with double acute",eh:"Latin small letter o with double acute",ei:"Latin capital ligature oe",ej:"Latin small ligature oe",ek:"Latin capital letter r with acute",el:"Latin small letter r with acute",em:"Latin capital letter r with cedilla",en:"Latin small letter r with cedilla",eo:"Latin capital letter r with caron",ep:"Latin small letter r with caron",eq:"Latin capital letter s with acute",er:"Latin small letter s with acute",es:"Latin capital letter s with circumflex",et:"Latin small letter s with circumflex",eu:"Latin capital letter s with cedilla",ev:"Latin small letter s with cedilla",ew:"Latin capital letter s with caron",ex:"Latin small letter s with caron",ey:"Latin capital letter t with cedilla",ez:"Latin small letter t with cedilla",fa:"Latin capital letter t with caron",fb:"Latin small letter t with caron",fc:"Latin capital letter t with stroke",fd:"Latin small letter t with stroke",fe:"Latin capital letter u with tilde",ff:"Latin small letter u with tilde",fg:"Latin capital letter u with macron",fh:"Latin small letter u with macron",fi:"Latin capital letter u with breve",fj:"Latin small letter u with breve",fk:"Latin capital letter u with ring above",fl:"Latin small letter u with ring above",fm:"Latin capital letter u with double acute",fn:"Latin small letter u with double acute",fo:"Latin capital letter u with ogonek",fp:"Latin small letter u with ogonek",fq:"Latin capital letter w with circumflex",fr:"Latin small letter w with circumflex",fs:"Latin capital letter y with circumflex",ft:"Latin small letter y with circumflex",fu:"Latin capital letter y with diaeresis",fv:"Latin capital letter z with acute",fw:"Latin small letter z with acute",fx:"Latin capital letter z with dot above",fy:"Latin small letter z with dot above",fz:"Latin capital letter z with caron",ga:"Latin small letter z with caron",gb:"Latin small letter long s",gc:"Less-than sign",gd:"Greater-than sign",ge:"Less-than or equal to",gf:"Greater-than or equal to",gg:"En dash",gh:"Em dash",gi:"Macron",gj:"Overline",gk:"Degree sign",gl:"Minus sign",gm:"Plus-minus sign",gn:"Division sign",go:"Fraction slash",gp:"Multiplication sign",gq:"Latin small letter f with hook",gr:"Integral",gs:"N-ary summation",gt:"Infinity",gu:"Square root",gv:"Tilde operator",gw:"Approximately equal to",gx:"Almost equal to",gy:"Not equal to",gz:"Identical to",ha:"Element of",hb:"Not an element of",hc:"Contains as member",hd:"N-ary product",he:"Logical and",hf:"Logical or",hg:"Not sign",hh:"Intersection",hi:"Union",hj:"Partial differential",hk:"For all",hl:"There exists",hm:"Empty set",hn:"Nabla",ho:"Asterisk operator",hp:"Proportional to",hq:"Angle",hr:"Vulgar fraction one quarter",hs:"Vulgar fraction one half",ht:"Vulgar fraction three quarters",hu:"Single left-pointing angle quotation mark",hv:"Single right-pointing angle quotation mark",hw:"Left-pointing double angle quotation mark",hx:"Right-pointing double angle quotation mark",hy:"Left single quotation mark",hz:"Right single quotation mark",ia:"Left double quotation mark",ib:"Right double quotation mark",ic:"Single low-9 quotation mark",id:"Double low-9 quotation mark",ie:"Inverted exclamation mark",if:"Inverted question mark",ig:"Two dot leader",ih:"Horizontal ellipsis",ii:"Double dagger",ij:"Per mille sign",ik:"Per ten thousand sign",il:"Double exclamation mark",im:"Question exclamation mark",in:"Exclamation question mark",io:"Double question mark",ip:"Copyright sign",iq:"Registered sign",ir:"Trade mark sign",is:"Section sign",it:"Paragraph sign",iu:"Reversed paragraph sign",iv:"Table toolbar",iw:"Выравнивание по левому краю",ix:"Выравнивание по правому краю",iy:"Выравнивание по центру",iz:"Выравнивание по ширине",ja:"Выравнивание текста",jb:"Выравнивание",jc:"Цитата",jd:"Выбрать заголовок",je:"Заголовок",jf:"Горизонтальная линия",jg:"Увеличить отступ",jh:"Уменьшить отступ",ji:"Жирный",jj:"Курсив",jk:"Зачеркнутый",jl:"Подстрочный",jm:"Надстрочный",jn:"Подчеркнутый",jo:"Семейство шрифтов",jp:"По умолчанию",jq:"Размер шрифта",jr:"Очень мелкий",js:"Мелкий",jt:"Крупный",ju:"Очень крупный",jv:"Цвет шрифта",jw:"Цвет фона",jx:"Виджет изображений",jy:"Оригинальный размер изображения",jz:"Боковое изображение",ka:"Выравнивание по левому краю",kb:"Выравнивание по центру",kc:"Выравнивание по правому краю",kd:"Вставить изображение",ke:"Загрузка не выполнена",kf:"Widget toolbar",kg:"Table properties",kh:"Cell properties",ki:"Вставить таблицу",kj:"Столбец заголовков",kk:"Вставить столбец слева",kl:"Вставить столбец справа",km:"Удалить столбец",kn:"Столбец",ko:"Строка заголовков",kp:"Вставить строку ниже",kq:"Вставить строку выше",kr:"Удалить строку",ks:"Строка",kt:"Объединить с ячейкой сверху",ku:"Объединить с ячейкой справа",kv:"Объединить с ячейкой снизу",kw:"Объединить с ячейкой слева",kx:"Разделить ячейку вертикально",ky:"Разделить ячейку горизонтально",kz:"Объединить ячейки",la:"Убрать форматирование",lb:"Идёт загрузка",lc:"Нумерованный список",ld:"Маркированный список",le:"Character categories",lf:"Ссылка",lg:"Dropdown toolbar",lh:"Редактировать альтернативный текст",li:"Убрать цвет",lj:"Цвет страницы",lk:"Убрать ссылку",ll:"Редактировать ссылку",lm:"Открыть ссылку в новой вкладке",ln:"Для этой ссылки не установлен адрес URL",lo:"Сохранить",lp:"Отмена",lq:"Ссылка URL",lr:"Editor toolbar",ls:"Другие инструменты",lt:"Альтернативный текст",lu:"%0 of %1",lv:"Previous",lw:"Next",lx:"Чёрный",ly:"Тёмно-серый",lz:"Серый",ma:"Светло-серый",mb:"Белый",mc:"Красный",md:"Оранжевый",me:"Жёлтый",mf:"Салатовый",mg:"Зелёный",mh:"Аквамариновый",mi:"Бирюзовый",mj:"Голубой",mk:"Синий",ml:"Фиолетовый",mm:"Open in a new tab",mn:"Downloadable",mo:"Отменить",mp:"Повторить",mq:"None",mr:"Solid",ms:"Dotted",mt:"Dashed",mu:"Double",mv:"Groove",mw:"Ridge",mx:"Inset",my:"Outset",mz:'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',na:'The value is invalid. Try "10px" or "2em" or simply "2".',nb:"Border",nc:"Style",nd:"Width",ne:"Color",nf:"Background",ng:"Dimensions",nh:"Height",ni:"Padding",nj:"Table cell text alignment",nk:"Horizontal text alignment toolbar",nl:"Vertical text alignment toolbar",nm:"Align cell text to the left",nn:"Align cell text to the center",no:"Align cell text to the right",np:"Justify cell text",nq:"Align cell text to the top",nr:"Align cell text to the middle",ns:"Align cell text to the bottom",nt:"Alignment",nu:"Table alignment toolbar",nv:"Align table to the left",nw:"Center table",nx:"Align table to the right",ny:"Параграф",nz:"Заголовок 1",oa:"Заголовок 2",ob:"Заголовок 3",oc:"Заголовок 4",od:"Заголовок 5",oe:"Заголовок 6",of:"Редактор, %0"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}));(function t(e,i){if(typeof exports==="object"&&typeof module==="object")module.exports=i();else if(typeof define==="function"&&define.amd)define([],i);else if(typeof exports==="object")exports["BalloonEditor"]=i();else e["BalloonEditor"]=i()})(window,(function(){return function(t){var e={};function i(n){if(e[n]){return e[n].exports}var o=e[n]={i:n,l:false,exports:{}};t[n].call(o.exports,o,o.exports,i);o.l=true;return o.exports}i.m=t;i.c=e;i.d=function(t,e,n){if(!i.o(t,e)){Object.defineProperty(t,e,{enumerable:true,get:n})}};i.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};i.t=function(t,e){if(e&1)t=i(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var n=Object.create(null);i.r(n);Object.defineProperty(n,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n};i.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};i.d(e,"a",e);return e};i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};i.p="";return i(i.s=114)}([function(t,e,i){"use strict";i.d(e,"b",(function(){return o}));i.d(e,"a",(function(){return r}));const n="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html";class o extends Error{constructor(t,e,i){t=r(t);if(i){t+=" "+JSON.stringify(i)}super(t);this.name="CKEditorError";this.context=e;this.data=i}is(t){return t==="CKEditorError"}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError")){throw t}const i=new o(t.message,e);i.stack=t.stack;throw i}}function r(t){const e=t.match(/^([^:]+):/);if(!e){return t}return t+` Read more: ${n}#error-${e[1]}\n`}},function(t,e,i){"use strict";var n=function t(){var e;return function t(){if(typeof e==="undefined"){e=Boolean(window&&document&&document.all&&!window.atob)}return e}}();var o=function t(){var e={};return function t(i){if(typeof e[i]==="undefined"){var n=document.querySelector(i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement){try{n=n.contentDocument.head}catch(t){n=null}}e[i]=n}return e[i]}}();var r=[];function s(t){var e=-1;for(var i=0;i<r.length;i++){if(r[i].identifier===t){e=i;break}}return e}function a(t,e){var i={};var n=[];for(var o=0;o<t.length;o++){var a=t[o];var c=e.base?a[0]+e.base:a[0];var l=i[c]||0;var d="".concat(c," ").concat(l);i[c]=l+1;var u=s(d);var h={css:a[1],media:a[2],sourceMap:a[3]};if(u!==-1){r[u].references++;r[u].updater(h)}else{r.push({identifier:d,updater:m(h,e),references:1})}n.push(d)}return n}function c(t){var e=document.createElement("style");var n=t.attributes||{};if(typeof n.nonce==="undefined"){var r=true?i.nc:undefined;if(r){n.nonce=r}}Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])}));if(typeof t.insert==="function"){t.insert(e)}else{var s=o(t.insert||"head");if(!s){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}s.appendChild(e)}return e}function l(t){if(t.parentNode===null){return false}t.parentNode.removeChild(t)}var d=function t(){var e=[];return function t(i,n){e[i]=n;return e.filter(Boolean).join("\n")}}();function u(t,e,i,n){var o=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet){t.styleSheet.cssText=d(e,o)}else{var r=document.createTextNode(o);var s=t.childNodes;if(s[e]){t.removeChild(s[e])}if(s.length){t.insertBefore(r,s[e])}else{t.appendChild(r)}}}function h(t,e,i){var n=i.css;var o=i.media;var r=i.sourceMap;if(o){t.setAttribute("media",o)}else{t.removeAttribute("media")}if(r&&btoa){n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")}if(t.styleSheet){t.styleSheet.cssText=n}else{while(t.firstChild){t.removeChild(t.firstChild)}t.appendChild(document.createTextNode(n))}}var f=null;var g=0;function m(t,e){var i;var n;var o;if(e.singleton){var r=g++;i=f||(f=c(e));n=u.bind(null,i,r,false);o=u.bind(null,i,r,true)}else{i=c(e);n=h.bind(null,i,e);o=function t(){l(i)}}n(t);return function e(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap){return}n(t=i)}else{o()}}}t.exports=function(t,e){e=e||{};if(!e.singleton&&typeof e.singleton!=="boolean"){e.singleton=n()}t=t||[];var i=a(t,e);return function t(n){n=n||[];if(Object.prototype.toString.call(n)!=="[object Array]"){return}for(var o=0;o<i.length;o++){var c=i[o];var l=s(c);r[l].references--}var d=a(n,e);for(var u=0;u<i.length;u++){var h=i[u];var f=s(h);if(r[f].references===0){r[f].updater();r.splice(f,1)}}i=d}}},,function(t,e,i){"use strict";var n=i(7);var o=typeof self=="object"&&self&&self.Object===Object&&self;var r=n["a"]||o||Function("return this")();e["a"]=r},function(t,e,i){"use strict";(function(t){var n=i(3);var o=i(14);var r=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var s=r&&typeof t=="object"&&t&&!t.nodeType&&t;var a=s&&s.exports===r;var c=a?n["a"].Buffer:undefined;var l=c?c.isBuffer:undefined;var d=l||o["a"];e["a"]=d}).call(this,i(9)(t))},function(t,e,i){"use strict";(function(t){var n=i(7);var o=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var r=o&&typeof t=="object"&&t&&!t.nodeType&&t;var s=r&&r.exports===o;var a=s&&n["a"].process;var c=function(){try{var t=r&&r.require&&r.require("util").types;if(t){return t}return a&&a.binding&&a.binding("util")}catch(t){}}();e["a"]=c}).call(this,i(9)(t))},function(t,e,i){"use strict";(function(t){var e=i(0);const n="18.0.0";const o=typeof window==="object"?window:t;if(o.CKEDITOR_VERSION){throw new e["b"]("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null)}else{o.CKEDITOR_VERSION=n}}).call(this,i(10))},function(t,e,i){"use strict";(function(t){var i=typeof t=="object"&&t&&t.Object===Object&&t;e["a"]=i}).call(this,i(10))},function(t,e,i){"use strict";(function(t){var n=i(3);var o=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var r=o&&typeof t=="object"&&t&&!t.nodeType&&t;var s=r&&r.exports===o;var a=s?n["a"].Buffer:undefined,c=a?a.allocUnsafe:undefined;function l(t,e){if(e){return t.slice()}var i=t.length,n=c?c(i):new t.constructor(i);t.copy(n);return n}e["a"]=l}).call(this,i(9)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});Object.defineProperty(e,"exports",{enumerable:true});e.webpackPolyfill=1}return e}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){if(typeof window==="object")i=window}t.exports=i},function(t,e,i){var n=i(1);var o=i(55);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e,i){var n=i(1);var o=i(108);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e,i){var n=i(1);var o=i(109);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e,i){"use strict";function n(){return false}e["a"]=n},function(t,e,i){var n=i(1);var o=i(16);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border:#1f89e5;--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(t,e,i){var n=i(1);var o=i(18);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}'},function(t,e,i){var n=i(1);var o=i(20);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(t,e,i){var n=i(1);var o=i(22);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'},function(t,e,i){var n=i(1);var o=i(24);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(t,e,i){var n=i(1);var o=i(26);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(t,e,i){var n=i(1);var o=i(28);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(t,e,i){var n=i(1);var o=i(30);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(t,e,i){var n=i(1);var o=i(32);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(t,e,i){var n=i(1);var o=i(34);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:1.3846153847em}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"},function(t,e,i){var n=i(1);var o=i(36);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(t,e,i){var n=i(1);var o=i(38);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(t,e,i){var n=i(1);var o=i(40);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(t,e,i){var n=i(1);var o=i(42);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(t,e,i){var n=i(1);var o=i(44);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(t,e,i){var n=i(1);var o=i(46);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(t,e,i){var n=i(1);var o=i(48);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}"},function(t,e,i){var n=i(1);var o=i(50);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(t,e,i){var n=i(1);var o=i(52);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck .ck-button.ck-color-table__remove-color{display:flex;align-items:center;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}"},function(t,e,i){var n=i(1);var o=i(54);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".text-tiny{font-size:.7em}.text-small{font-size:.85em}.text-big{font-size:1.4em}.text-huge{font-size:1.8em}"},function(t,e){t.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(t,e,i){var n=i(1);var o=i(57);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck-editor__editable .ck-horizontal-line{overflow:hidden}.ck-content hr{border:solid #5e5e5e;border-width:1px 0 0;margin:0}.ck-editor__editable .ck-horizontal-line{padding:5px 0}"},function(t,e,i){var n=i(1);var o=i(59);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-read-only .ck-widget{--ck-widget-outline-thickness:0}"},function(t,e,i){var n=i(1);var o=i(61);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-labeled-input .ck-labeled-input__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-input .ck-labeled-input__status_error{color:var(--ck-color-base-error)}"},function(t,e,i){var n=i(1);var o=i(63);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(t,e,i){var n=i(1);var o=i(65);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-input{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,i){var n=i(1);var o=i(67);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}"},function(t,e,i){var n=i(1);var o=i(69);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(t,e,i){var n=i(1);var o=i(71);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0;outline:1px solid var(--ck-color-resizer)}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all;width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nesw-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nesw-resize}"},function(t,e,i){var n=i(1);var o=i(73);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck-content .image.image_resized{max-width:100%;display:block;box-sizing:border-box}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}"},function(t,e,i){var n=i(1);var o=i(75);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(t,e,i){var n=i(1);var o=i(77);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(t,e,i){var n=i(1);var o=i(79);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(t,e,i){var n=i(1);var o=i(81);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}"},function(t,e,i){var n=i(1);var o=i(83);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-input{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(t,e,i){var n=i(1);var o=i(85);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,i){var n=i(1);var o=i(87);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-character-grid .ck-character-grid__tiles{display:grid;grid-template-columns:repeat(10,1fr)}:root{--ck-character-grid-tile-size:24px}.ck.ck-character-grid{overflow-y:auto;overflow-x:hidden;width:350px;max-height:200px}.ck.ck-character-grid .ck-character-grid__tiles{margin:var(--ck-spacing-standard);grid-gap:var(--ck-spacing-standard)}.ck.ck-character-grid .ck-character-grid__tile{width:var(--ck-character-grid-tile-size);height:var(--ck-character-grid-tile-size);min-width:var(--ck-character-grid-tile-size);min-height:var(--ck-character-grid-tile-size);font-size:1.2em;padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-character-grid .ck-character-grid__tile:focus:not(.ck-disabled),.ck.ck-character-grid .ck-character-grid__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-character-grid .ck-character-grid__tile .ck-button__label{line-height:var(--ck-character-grid-tile-size);width:100%;text-align:center}"},function(t,e,i){var n=i(1);var o=i(89);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-character-info{display:flex;justify-content:space-between;padding:var(--ck-spacing-small) var(--ck-spacing-standard);border-top:1px solid var(--ck-color-base-border)}.ck.ck-character-info>*{text-transform:uppercase;font-size:var(--ck-font-size-small)}.ck.ck-character-info .ck-character-info__name{max-width:280px;text-overflow:ellipsis;overflow:hidden}.ck.ck-character-info .ck-character-info__code{opacity:.6}"},function(t,e,i){var n=i(1);var o=i(91);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-special-characters-navigation{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between;border-bottom:1px solid var(--ck-color-base-border);padding:var(--ck-spacing-standard)}[dir=ltr] .ck.ck-special-characters-navigation{padding-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-special-characters-navigation{padding-right:var(--ck-spacing-large)}.ck.ck-special-characters-navigation>.ck-label{max-width:160px;text-overflow:ellipsis;overflow:hidden}.ck.ck-special-characters-navigation>.ck-dropdown .ck-dropdown__panel{max-height:250px;overflow-y:auto;overflow-x:hidden}"},function(t,e,i){var n=i(1);var o=i(93);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(t,e,i){var n=i(1);var o=i(95);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(t,e,i){var n=i(1);var o=i(97);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=":root{--ck-table-selected-cell-background:#cee5fd}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{background-color:var(--ck-table-selected-cell-background)!important;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}"},function(t,e,i){var n=i(1);var o=i(99);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border-color:#bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}"},function(t,e,i){var n=i(1);var o=i(101);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-labeled-view .ck-labeled-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-view .ck-labeled-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-view>.ck.ck-label{width:100%;text-overflow:ellipsis;overflow:hidden}"},function(t,e,i){var n=i(1);var o=i(103);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-input-color{width:100%;display:flex}.ck.ck-input-color>input.ck.ck-input-text{min-width:auto;flex-grow:1}.ck.ck-input-color>input.ck.ck-input-text:active,.ck.ck-input-color>input.ck.ck-input-text:focus{z-index:var(--ck-z-default)}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{position:relative;overflow:hidden}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{position:absolute;display:block}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button{border-top-left-radius:0;border-bottom-left-radius:0;margin-left:-1px}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button{border-top-right-radius:0;border-bottom-right-radius:0;margin-right:-1px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button>.ck.ck-input-color__button__preview{width:20px;height:20px;border:1px solid var(--ck-color-input-border)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{top:-30%;left:50%;height:150%;width:8%;background:red;border-radius:2px;transform:rotate(45deg);transform-origin:50%}.ck.ck-input-color .ck.ck-input-color__remove-color{width:100%;border-bottom:1px solid var(--ck-color-input-border);padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);border-bottom-left-radius:0;border-bottom-right-radius:0}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:0;margin-left:var(--ck-spacing-standard)}"},function(t,e,i){var n=i(1);var o=i(105);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{width:100%;min-width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}"},function(t,e,i){var n=i(1);var o=i(107);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=":root{--ck-table-form-header-height:38px}.ck.ck-form__header{padding:0 var(--ck-spacing-large);height:var(--ck-table-form-header-height);line-height:var(--ck-table-form-header-height);border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-form__header .ck-form__header__label{font-weight:700}"},function(t,e){t.exports=".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}"},function(t,e){t.exports='.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-view{display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{flex-grow:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{flex-wrap:wrap;align-items:center}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-view{display:flex;flex-direction:column-reverse;align-items:center}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-view{position:relative}.ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status{position:absolute;left:50%;bottom:calc(-1*var(--ck-table-properties-error-arrow-size));transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status:after{content:"";position:absolute;top:calc(-1*var(--ck-table-properties-error-arrow-size));left:50%;transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style{width:80px;min-width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{width:50px;min-width:50px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-view>.ck-label{font-size:10px;text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:start;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status,.ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);padding:var(--ck-spacing-small) var(--ck-spacing-medium);min-width:var(--ck-table-properties-min-error-width);text-align:center}.ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status:after{border-left:var(--ck-table-properties-error-arrow-size) solid transparent;border-bottom:var(--ck-table-properties-error-arrow-size) solid var(--ck-color-base-error);border-right:var(--ck-table-properties-error-arrow-size) solid transparent;border-top:0 solid transparent}.ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}'},function(t,e,i){var n=i(1);var o=i(111);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{flex-grow:0}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{padding:0;width:35%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none}"},function(t,e,i){var n=i(1);var o=i(113);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[t.i,o,""]]}var r={injectType:"singletonStyleTag"};r.insert="head";r.singleton=true;var s=n(o,r);var a=o.locals?o.locals:{};t.exports=a},function(t,e){t.exports=".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{flex-wrap:wrap;flex-basis:0;align-content:baseline}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}"},function(t,e,i){"use strict";i.r(e);i.d(e,"default",(function(){return _I}));var n=i(3);var o=n["a"].Symbol;var r=o;var s=Object.prototype;var a=s.hasOwnProperty;var c=s.toString;var l=r?r.toStringTag:undefined;function d(t){var e=a.call(t,l),i=t[l];try{t[l]=undefined;var n=true}catch(t){}var o=c.call(t);if(n){if(e){t[l]=i}else{delete t[l]}}return o}var u=d;var h=Object.prototype;var f=h.toString;function g(t){return f.call(t)}var m=g;var p="[object Null]",b="[object Undefined]";var w=r?r.toStringTag:undefined;function k(t){if(t==null){return t===undefined?b:p}return w&&w in Object(t)?u(t):m(t)}var _=k;function v(t,e){return function(i){return t(e(i))}}var y=v;var x=y(Object.getPrototypeOf,Object);var C=x;function A(t){return t!=null&&typeof t=="object"}var T=A;var P="[object Object]";var S=Function.prototype,E=Object.prototype;var R=S.toString;var O=E.hasOwnProperty;var I=R.call(Object);function V(t){if(!T(t)||_(t)!=P){return false}var e=C(t);if(e===null){return true}var i=O.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&R.call(i)==I}var N=V;function M(){this.__data__=[];this.size=0}var B=M;function z(t,e){return t===e||t!==t&&e!==e}var L=z;function F(t,e){var i=t.length;while(i--){if(L(t[i][0],e)){return i}}return-1}var D=F;var j=Array.prototype;var H=j.splice;function W(t){var e=this.__data__,i=D(e,t);if(i<0){return false}var n=e.length-1;if(i==n){e.pop()}else{H.call(e,i,1)}--this.size;return true}var q=W;function U(t){var e=this.__data__,i=D(e,t);return i<0?undefined:e[i][1]}var $=U;function G(t){return D(this.__data__,t)>-1}var K=G;function J(t,e){var i=this.__data__,n=D(i,t);if(n<0){++this.size;i.push([t,e])}else{i[n][1]=e}return this}var Y=J;function Q(t){var e=-1,i=t==null?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}Q.prototype.clear=B;Q.prototype["delete"]=q;Q.prototype.get=$;Q.prototype.has=K;Q.prototype.set=Y;var X=Q;function Z(){this.__data__=new X;this.size=0}var tt=Z;function et(t){var e=this.__data__,i=e["delete"](t);this.size=e.size;return i}var it=et;function nt(t){return this.__data__.get(t)}var ot=nt;function rt(t){return this.__data__.has(t)}var st=rt;function at(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ct=at;var lt="[object AsyncFunction]",dt="[object Function]",ut="[object GeneratorFunction]",ht="[object Proxy]";function ft(t){if(!ct(t)){return false}var e=_(t);return e==dt||e==ut||e==lt||e==ht}var gt=ft;var mt=n["a"]["__core-js_shared__"];var pt=mt;var bt=function(){var t=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function wt(t){return!!bt&&bt in t}var kt=wt;var _t=Function.prototype;var vt=_t.toString;function yt(t){if(t!=null){try{return vt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var xt=yt;var Ct=/[\\^$.*+?()[\]{}|]/g;var At=/^\[object .+?Constructor\]$/;var Tt=Function.prototype,Pt=Object.prototype;var St=Tt.toString;var Et=Pt.hasOwnProperty;var Rt=RegExp("^"+St.call(Et).replace(Ct,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ot(t){if(!ct(t)||kt(t)){return false}var e=gt(t)?Rt:At;return e.test(xt(t))}var It=Ot;function Vt(t,e){return t==null?undefined:t[e]}var Nt=Vt;function Mt(t,e){var i=Nt(t,e);return It(i)?i:undefined}var Bt=Mt;var zt=Bt(n["a"],"Map");var Lt=zt;var Ft=Bt(Object,"create");var Dt=Ft;function jt(){this.__data__=Dt?Dt(null):{};this.size=0}var Ht=jt;function Wt(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}var qt=Wt;var Ut="__lodash_hash_undefined__";var $t=Object.prototype;var Gt=$t.hasOwnProperty;function Kt(t){var e=this.__data__;if(Dt){var i=e[t];return i===Ut?undefined:i}return Gt.call(e,t)?e[t]:undefined}var Jt=Kt;var Yt=Object.prototype;var Qt=Yt.hasOwnProperty;function Xt(t){var e=this.__data__;return Dt?e[t]!==undefined:Qt.call(e,t)}var Zt=Xt;var te="__lodash_hash_undefined__";function ee(t,e){var i=this.__data__;this.size+=this.has(t)?0:1;i[t]=Dt&&e===undefined?te:e;return this}var ie=ee;function ne(t){var e=-1,i=t==null?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}ne.prototype.clear=Ht;ne.prototype["delete"]=qt;ne.prototype.get=Jt;ne.prototype.has=Zt;ne.prototype.set=ie;var oe=ne;function re(){this.size=0;this.__data__={hash:new oe,map:new(Lt||X),string:new oe}}var se=re;function ae(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var ce=ae;function le(t,e){var i=t.__data__;return ce(e)?i[typeof e=="string"?"string":"hash"]:i.map}var de=le;function ue(t){var e=de(this,t)["delete"](t);this.size-=e?1:0;return e}var he=ue;function fe(t){return de(this,t).get(t)}var ge=fe;function me(t){return de(this,t).has(t)}var pe=me;function be(t,e){var i=de(this,t),n=i.size;i.set(t,e);this.size+=i.size==n?0:1;return this}var we=be;function ke(t){var e=-1,i=t==null?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}ke.prototype.clear=se;ke.prototype["delete"]=he;ke.prototype.get=ge;ke.prototype.has=pe;ke.prototype.set=we;var _e=ke;var ve=200;function ye(t,e){var i=this.__data__;if(i instanceof X){var n=i.__data__;if(!Lt||n.length<ve-1){n.push([t,e]);this.size=++i.size;return this}i=this.__data__=new _e(n)}i.set(t,e);this.size=i.size;return this}var xe=ye;function Ce(t){var e=this.__data__=new X(t);this.size=e.size}Ce.prototype.clear=tt;Ce.prototype["delete"]=it;Ce.prototype.get=ot;Ce.prototype.has=st;Ce.prototype.set=xe;var Ae=Ce;function Te(t,e){var i=-1,n=t==null?0:t.length;while(++i<n){if(e(t[i],i,t)===false){break}}return t}var Pe=Te;var Se=function(){try{var t=Bt(Object,"defineProperty");t({},"",{});return t}catch(t){}}();var Ee=Se;function Re(t,e,i){if(e=="__proto__"&&Ee){Ee(t,e,{configurable:true,enumerable:true,value:i,writable:true})}else{t[e]=i}}var Oe=Re;var Ie=Object.prototype;var Ve=Ie.hasOwnProperty;function Ne(t,e,i){var n=t[e];if(!(Ve.call(t,e)&&L(n,i))||i===undefined&&!(e in t)){Oe(t,e,i)}}var Me=Ne;function Be(t,e,i,n){var o=!i;i||(i={});var r=-1,s=e.length;while(++r<s){var a=e[r];var c=n?n(i[a],t[a],a,i,t):undefined;if(c===undefined){c=t[a]}if(o){Oe(i,a,c)}else{Me(i,a,c)}}return i}var ze=Be;function Le(t,e){var i=-1,n=Array(t);while(++i<t){n[i]=e(i)}return n}var Fe=Le;var De="[object Arguments]";function je(t){return T(t)&&_(t)==De}var He=je;var We=Object.prototype;var qe=We.hasOwnProperty;var Ue=We.propertyIsEnumerable;var $e=He(function(){return arguments}())?He:function(t){return T(t)&&qe.call(t,"callee")&&!Ue.call(t,"callee")};var Ge=$e;var Ke=Array.isArray;var Je=Ke;var Ye=i(4);var Qe=9007199254740991;var Xe=/^(?:0|[1-9]\d*)$/;function Ze(t,e){var i=typeof t;e=e==null?Qe:e;return!!e&&(i=="number"||i!="symbol"&&Xe.test(t))&&(t>-1&&t%1==0&&t<e)}var ti=Ze;var ei=9007199254740991;function ii(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ei}var ni=ii;var oi="[object Arguments]",ri="[object Array]",si="[object Boolean]",ai="[object Date]",ci="[object Error]",li="[object Function]",di="[object Map]",ui="[object Number]",hi="[object Object]",fi="[object RegExp]",gi="[object Set]",mi="[object String]",pi="[object WeakMap]";var bi="[object ArrayBuffer]",wi="[object DataView]",ki="[object Float32Array]",_i="[object Float64Array]",vi="[object Int8Array]",yi="[object Int16Array]",xi="[object Int32Array]",Ci="[object Uint8Array]",Ai="[object Uint8ClampedArray]",Ti="[object Uint16Array]",Pi="[object Uint32Array]";var Si={};Si[ki]=Si[_i]=Si[vi]=Si[yi]=Si[xi]=Si[Ci]=Si[Ai]=Si[Ti]=Si[Pi]=true;Si[oi]=Si[ri]=Si[bi]=Si[si]=Si[wi]=Si[ai]=Si[ci]=Si[li]=Si[di]=Si[ui]=Si[hi]=Si[fi]=Si[gi]=Si[mi]=Si[pi]=false;function Ei(t){return T(t)&&ni(t.length)&&!!Si[_(t)]}var Ri=Ei;function Oi(t){return function(e){return t(e)}}var Ii=Oi;var Vi=i(5);var Ni=Vi["a"]&&Vi["a"].isTypedArray;var Mi=Ni?Ii(Ni):Ri;var Bi=Mi;var zi=Object.prototype;var Li=zi.hasOwnProperty;function Fi(t,e){var i=Je(t),n=!i&&Ge(t),o=!i&&!n&&Object(Ye["a"])(t),r=!i&&!n&&!o&&Bi(t),s=i||n||o||r,a=s?Fe(t.length,String):[],c=a.length;for(var l in t){if((e||Li.call(t,l))&&!(s&&(l=="length"||o&&(l=="offset"||l=="parent")||r&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||ti(l,c)))){a.push(l)}}return a}var Di=Fi;var ji=Object.prototype;function Hi(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||ji;return t===i}var Wi=Hi;var qi=y(Object.keys,Object);var Ui=qi;var $i=Object.prototype;var Gi=$i.hasOwnProperty;function Ki(t){if(!Wi(t)){return Ui(t)}var e=[];for(var i in Object(t)){if(Gi.call(t,i)&&i!="constructor"){e.push(i)}}return e}var Ji=Ki;function Yi(t){return t!=null&&ni(t.length)&&!gt(t)}var Qi=Yi;function Xi(t){return Qi(t)?Di(t):Ji(t)}var Zi=Xi;function tn(t,e){return t&&ze(e,Zi(e),t)}var en=tn;function nn(t){var e=[];if(t!=null){for(var i in Object(t)){e.push(i)}}return e}var on=nn;var rn=Object.prototype;var sn=rn.hasOwnProperty;function an(t){if(!ct(t)){return on(t)}var e=Wi(t),i=[];for(var n in t){if(!(n=="constructor"&&(e||!sn.call(t,n)))){i.push(n)}}return i}var cn=an;function ln(t){return Qi(t)?Di(t,true):cn(t)}var dn=ln;function un(t,e){return t&&ze(e,dn(e),t)}var hn=un;var fn=i(8);function gn(t,e){var i=-1,n=t.length;e||(e=Array(n));while(++i<n){e[i]=t[i]}return e}var mn=gn;function pn(t,e){var i=-1,n=t==null?0:t.length,o=0,r=[];while(++i<n){var s=t[i];if(e(s,i,t)){r[o++]=s}}return r}var bn=pn;function wn(){return[]}var kn=wn;var _n=Object.prototype;var vn=_n.propertyIsEnumerable;var yn=Object.getOwnPropertySymbols;var xn=!yn?kn:function(t){if(t==null){return[]}t=Object(t);return bn(yn(t),(function(e){return vn.call(t,e)}))};var Cn=xn;function An(t,e){return ze(t,Cn(t),e)}var Tn=An;function Pn(t,e){var i=-1,n=e.length,o=t.length;while(++i<n){t[o+i]=e[i]}return t}var Sn=Pn;var En=Object.getOwnPropertySymbols;var Rn=!En?kn:function(t){var e=[];while(t){Sn(e,Cn(t));t=C(t)}return e};var On=Rn;function In(t,e){return ze(t,On(t),e)}var Vn=In;function Nn(t,e,i){var n=e(t);return Je(t)?n:Sn(n,i(t))}var Mn=Nn;function Bn(t){return Mn(t,Zi,Cn)}var zn=Bn;function Ln(t){return Mn(t,dn,On)}var Fn=Ln;var Dn=Bt(n["a"],"DataView");var jn=Dn;var Hn=Bt(n["a"],"Promise");var Wn=Hn;var qn=Bt(n["a"],"Set");var Un=qn;var $n=Bt(n["a"],"WeakMap");var Gn=$n;var Kn="[object Map]",Jn="[object Object]",Yn="[object Promise]",Qn="[object Set]",Xn="[object WeakMap]";var Zn="[object DataView]";var to=xt(jn),eo=xt(Lt),io=xt(Wn),no=xt(Un),oo=xt(Gn);var ro=_;if(jn&&ro(new jn(new ArrayBuffer(1)))!=Zn||Lt&&ro(new Lt)!=Kn||Wn&&ro(Wn.resolve())!=Yn||Un&&ro(new Un)!=Qn||Gn&&ro(new Gn)!=Xn){ro=function(t){var e=_(t),i=e==Jn?t.constructor:undefined,n=i?xt(i):"";if(n){switch(n){case to:return Zn;case eo:return Kn;case io:return Yn;case no:return Qn;case oo:return Xn}}return e}}var so=ro;var ao=Object.prototype;var co=ao.hasOwnProperty;function lo(t){var e=t.length,i=new t.constructor(e);if(e&&typeof t[0]=="string"&&co.call(t,"index")){i.index=t.index;i.input=t.input}return i}var uo=lo;var ho=n["a"].Uint8Array;var fo=ho;function go(t){var e=new t.constructor(t.byteLength);new fo(e).set(new fo(t));return e}var mo=go;function po(t,e){var i=e?mo(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}var bo=po;var wo=/\w*$/;function ko(t){var e=new t.constructor(t.source,wo.exec(t));e.lastIndex=t.lastIndex;return e}var _o=ko;var vo=r?r.prototype:undefined,yo=vo?vo.valueOf:undefined;function xo(t){return yo?Object(yo.call(t)):{}}var Co=xo;function Ao(t,e){var i=e?mo(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var To=Ao;var Po="[object Boolean]",So="[object Date]",Eo="[object Map]",Ro="[object Number]",Oo="[object RegExp]",Io="[object Set]",Vo="[object String]",No="[object Symbol]";var Mo="[object ArrayBuffer]",Bo="[object DataView]",zo="[object Float32Array]",Lo="[object Float64Array]",Fo="[object Int8Array]",Do="[object Int16Array]",jo="[object Int32Array]",Ho="[object Uint8Array]",Wo="[object Uint8ClampedArray]",qo="[object Uint16Array]",Uo="[object Uint32Array]";function $o(t,e,i){var n=t.constructor;switch(e){case Mo:return mo(t);case Po:case So:return new n(+t);case Bo:return bo(t,i);case zo:case Lo:case Fo:case Do:case jo:case Ho:case Wo:case qo:case Uo:return To(t,i);case Eo:return new n;case Ro:case Vo:return new n(t);case Oo:return _o(t);case Io:return new n;case No:return Co(t)}}var Go=$o;var Ko=Object.create;var Jo=function(){function t(){}return function(e){if(!ct(e)){return{}}if(Ko){return Ko(e)}t.prototype=e;var i=new t;t.prototype=undefined;return i}}();var Yo=Jo;function Qo(t){return typeof t.constructor=="function"&&!Wi(t)?Yo(C(t)):{}}var Xo=Qo;var Zo="[object Map]";function tr(t){return T(t)&&so(t)==Zo}var er=tr;var ir=Vi["a"]&&Vi["a"].isMap;var nr=ir?Ii(ir):er;var or=nr;var rr="[object Set]";function sr(t){return T(t)&&so(t)==rr}var ar=sr;var cr=Vi["a"]&&Vi["a"].isSet;var lr=cr?Ii(cr):ar;var dr=lr;var ur=1,hr=2,fr=4;var gr="[object Arguments]",mr="[object Array]",pr="[object Boolean]",br="[object Date]",wr="[object Error]",kr="[object Function]",_r="[object GeneratorFunction]",vr="[object Map]",yr="[object Number]",xr="[object Object]",Cr="[object RegExp]",Ar="[object Set]",Tr="[object String]",Pr="[object Symbol]",Sr="[object WeakMap]";var Er="[object ArrayBuffer]",Rr="[object DataView]",Or="[object Float32Array]",Ir="[object Float64Array]",Vr="[object Int8Array]",Nr="[object Int16Array]",Mr="[object Int32Array]",Br="[object Uint8Array]",zr="[object Uint8ClampedArray]",Lr="[object Uint16Array]",Fr="[object Uint32Array]";var Dr={};Dr[gr]=Dr[mr]=Dr[Er]=Dr[Rr]=Dr[pr]=Dr[br]=Dr[Or]=Dr[Ir]=Dr[Vr]=Dr[Nr]=Dr[Mr]=Dr[vr]=Dr[yr]=Dr[xr]=Dr[Cr]=Dr[Ar]=Dr[Tr]=Dr[Pr]=Dr[Br]=Dr[zr]=Dr[Lr]=Dr[Fr]=true;Dr[wr]=Dr[kr]=Dr[Sr]=false;function jr(t,e,i,n,o,r){var s,a=e&ur,c=e&hr,l=e&fr;if(i){s=o?i(t,n,o,r):i(t)}if(s!==undefined){return s}if(!ct(t)){return t}var d=Je(t);if(d){s=uo(t);if(!a){return mn(t,s)}}else{var u=so(t),h=u==kr||u==_r;if(Object(Ye["a"])(t)){return Object(fn["a"])(t,a)}if(u==xr||u==gr||h&&!o){s=c||h?{}:Xo(t);if(!a){return c?Vn(t,hn(s,t)):Tn(t,en(s,t))}}else{if(!Dr[u]){return o?t:{}}s=Go(t,u,a)}}r||(r=new Ae);var f=r.get(t);if(f){return f}r.set(t,s);if(dr(t)){t.forEach((function(n){s.add(jr(n,e,i,n,t,r))}))}else if(or(t)){t.forEach((function(n,o){s.set(o,jr(n,e,i,o,t,r))}))}var g=l?c?Fn:zn:c?keysIn:Zi;var m=d?undefined:g(t);Pe(m||t,(function(n,o){if(m){o=n;n=t[o]}Me(s,o,jr(n,e,i,o,t,r))}));return s}var Hr=jr;var Wr=1,qr=4;function Ur(t,e){e=typeof e=="function"?e:undefined;return Hr(t,Wr|qr,e)}var $r=Ur;function Gr(t){return T(t)&&t.nodeType===1&&!N(t)}var Kr=Gr;class Jr{constructor(t,e){this._config={};if(e){this.define(Yr(e))}if(t){this._setObjectToTarget(this._config,t)}}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){const i=true;this._setToTarget(this._config,t,e,i)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config)){yield t}}_setToTarget(t,e,i,n=false){if(N(e)){this._setObjectToTarget(t,e,n);return}const o=e.split(".");e=o.pop();for(const e of o){if(!N(t[e])){t[e]={}}t=t[e]}if(N(i)){if(!N(t[e])){t[e]={}}t=t[e];this._setObjectToTarget(t,i,n);return}if(n&&typeof t[e]!="undefined"){return}t[e]=i}_getFromSource(t,e){const i=e.split(".");e=i.pop();for(const e of i){if(!N(t[e])){t=null;break}t=t[e]}return t?Yr(t[e]):undefined}_setObjectToTarget(t,e,i){Object.keys(e).forEach(n=>{this._setToTarget(t,n,e[n],i)})}}function Yr(t){return $r(t,Qr)}function Qr(t){return Kr(t)?t:undefined}function Xr(){return function t(){t.called=true}}var Zr=Xr;class ts{constructor(t,e){this.source=t;this.name=e;this.path=[];this.stop=Zr();this.off=Zr()}}const es=new Array(256).fill().map((t,e)=>("0"+e.toString(16)).slice(-2));function is(){const t=Math.random()*4294967296>>>0;const e=Math.random()*4294967296>>>0;const i=Math.random()*4294967296>>>0;const n=Math.random()*4294967296>>>0;return"e"+es[t>>0&255]+es[t>>8&255]+es[t>>16&255]+es[t>>24&255]+es[e>>0&255]+es[e>>8&255]+es[e>>16&255]+es[e>>24&255]+es[i>>0&255]+es[i>>8&255]+es[i>>16&255]+es[i>>24&255]+es[n>>0&255]+es[n>>8&255]+es[n>>16&255]+es[n>>24&255]}const ns={get(t){if(typeof t!="number"){return this[t]||this.normal}else{return t}},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};var os=ns;var rs=i(6);var ss=i(0);const as=Symbol("listeningTo");const cs=Symbol("emitterId");const ls={on(t,e,i={}){this.listenTo(this,t,e,i)},once(t,e,i){let n=false;const o=function(t,...i){if(!n){n=true;t.off();e.call(this,t,...i)}};this.listenTo(this,t,o,i)},off(t,e){this.stopListening(this,t,e)},listenTo(t,e,i,n={}){let o,r;if(!this[as]){this[as]={}}const s=this[as];if(!fs(t)){hs(t)}const a=fs(t);if(!(o=s[a])){o=s[a]={emitter:t,callbacks:{}}}if(!(r=o.callbacks[e])){r=o.callbacks[e]=[]}r.push(i);ps(t,e);const c=bs(t,e);const l=os.get(n.priority);const d={callback:i,priority:l};for(const t of c){let e=false;for(let i=0;i<t.length;i++){if(t[i].priority<l){t.splice(i,0,d);e=true;break}}if(!e){t.push(d)}}},stopListening(t,e,i){const n=this[as];let o=t&&fs(t);const r=n&&o&&n[o];const s=r&&e&&r.callbacks[e];if(!n||t&&!r||e&&!s){return}if(i){_s(t,e,i)}else if(s){while(i=s.pop()){_s(t,e,i)}delete r.callbacks[e]}else if(r){for(e in r.callbacks){this.stopListening(t,e)}delete n[o]}else{for(o in n){this.stopListening(n[o].emitter)}delete this[as]}},fire(t,...e){try{const i=t instanceof ts?t:new ts(this,t);const n=i.name;let o=ws(this,n);i.path.push(this);if(o){const t=[i,...e];o=Array.from(o);for(let e=0;e<o.length;e++){o[e].callback.apply(this,t);if(i.off.called){delete i.off.called;_s(this,n,o[e].callback)}if(i.stop.called){break}}}if(this._delegations){const t=this._delegations.get(n);const o=this._delegations.get("*");if(t){ks(t,i,e)}if(o){ks(o,i,e)}}return i.return}catch(t){ss["b"].rethrowUnexpectedError(t,this)}},delegate(...t){return{to:(e,i)=>{if(!this._delegations){this._delegations=new Map}t.forEach(t=>{const n=this._delegations.get(t);if(!n){this._delegations.set(t,new Map([[e,i]]))}else{n.set(e,i)}})}}},stopDelegating(t,e){if(!this._delegations){return}if(!t){this._delegations.clear()}else if(!e){this._delegations.delete(t)}else{const i=this._delegations.get(t);if(i){i.delete(e)}}}};var ds=ls;function us(t,e){if(t[as]&&t[as][e]){return t[as][e].emitter}return null}function hs(t,e){if(!t[cs]){t[cs]=e||is()}}function fs(t){return t[cs]}function gs(t){if(!t._events){Object.defineProperty(t,"_events",{value:{}})}return t._events}function ms(){return{callbacks:[],childEvents:[]}}function ps(t,e){const i=gs(t);if(i[e]){return}let n=e;let o=null;const r=[];while(n!==""){if(i[n]){break}i[n]=ms();r.push(i[n]);if(o){i[n].childEvents.push(o)}o=n;n=n.substr(0,n.lastIndexOf(":"))}if(n!==""){for(const t of r){t.callbacks=i[n].callbacks.slice()}i[n].childEvents.push(o)}}function bs(t,e){const i=gs(t)[e];if(!i){return[]}let n=[i.callbacks];for(let e=0;e<i.childEvents.length;e++){const o=bs(t,i.childEvents[e]);n=n.concat(o)}return n}function ws(t,e){let i;if(!t._events||!(i=t._events[e])||!i.callbacks.length){if(e.indexOf(":")>-1){return ws(t,e.substr(0,e.lastIndexOf(":")))}else{return null}}return i.callbacks}function ks(t,e,i){for(let[n,o]of t){if(!o){o=e.name}else if(typeof o=="function"){o=o(e.name)}const t=new ts(e.source,o);t.path=[...e.path];n.fire(t,...i)}}function _s(t,e,i){const n=bs(t,e);for(const t of n){for(let e=0;e<t.length;e++){if(t[e].callback==i){t.splice(e,1);e--}}}}function vs(t,...e){e.forEach(e=>{Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(i=>{if(i in t.prototype){return}const n=Object.getOwnPropertyDescriptor(e,i);n.enumerable=false;Object.defineProperty(t.prototype,i,n)})})}class ys{constructor(t={}){this._items=[];this._itemMap=new Map;this._idProperty=t.idProperty||"id";this._bindToExternalToInternalMap=new WeakMap;this._bindToInternalToExternalMap=new WeakMap;this._skippedIndexesFromExternal=[]}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){let i;const n=this._idProperty;if(n in t){i=t[n];if(typeof i!="string"){throw new ss["b"]("collection-add-invalid-id",this)}if(this.get(i)){throw new ss["b"]("collection-add-item-already-exists",this)}}else{t[n]=i=is()}if(e===undefined){e=this._items.length}else if(e>this._items.length||e<0){throw new ss["b"]("collection-add-item-invalid-index",this)}this._items.splice(e,0,t);this._itemMap.set(i,t);this.fire("add",t,e);return this}get(t){let e;if(typeof t=="string"){e=this._itemMap.get(t)}else if(typeof t=="number"){e=this._items[t]}else{throw new ss["b"]("collection-get-invalid-arg: Index or id must be given.",this)}return e||null}has(t){if(typeof t=="string"){return this._itemMap.has(t)}else{const e=this._idProperty;const i=t[e];return this._itemMap.has(i)}}getIndex(t){let e;if(typeof t=="string"){e=this._itemMap.get(t)}else{e=t}return this._items.indexOf(e)}remove(t){let e,i,n;let o=false;const r=this._idProperty;if(typeof t=="string"){i=t;n=this._itemMap.get(i);o=!n;if(n){e=this._items.indexOf(n)}}else if(typeof t=="number"){e=t;n=this._items[e];o=!n;if(n){i=n[r]}}else{n=t;i=n[r];e=this._items.indexOf(n);o=e==-1||!this._itemMap.get(i)}if(o){throw new ss["b"]("collection-remove-404: Item not found.",this)}this._items.splice(e,1);this._itemMap.delete(i);const s=this._bindToInternalToExternalMap.get(n);this._bindToInternalToExternalMap.delete(n);this._bindToExternalToInternalMap.delete(s);this.fire("remove",n,e);return n}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){if(this._bindToCollection){this.stopListening(this._bindToCollection);this._bindToCollection=null}while(this.length){this.remove(0)}}bindTo(t){if(this._bindToCollection){throw new ss["b"]("collection-bind-to-rebind: The collection cannot be bound more than once.",this)}this._bindToCollection=t;return{as:t=>{this._setUpBindToBinding(e=>new t(e))},using:t=>{if(typeof t=="function"){this._setUpBindToBinding(e=>t(e))}else{this._setUpBindToBinding(e=>e[t])}}}}_setUpBindToBinding(t){const e=this._bindToCollection;const i=(i,n,o)=>{const r=e._bindToCollection==this;const s=e._bindToInternalToExternalMap.get(n);if(r&&s){this._bindToExternalToInternalMap.set(n,s);this._bindToInternalToExternalMap.set(s,n)}else{const i=t(n);if(!i){this._skippedIndexesFromExternal.push(o);return}let r=o;for(const t of this._skippedIndexesFromExternal){if(o>t){r--}}for(const t of e._skippedIndexesFromExternal){if(r>=t){r++}}this._bindToExternalToInternalMap.set(n,i);this._bindToInternalToExternalMap.set(i,n);this.add(i,r);for(let t=0;t<e._skippedIndexesFromExternal.length;t++){if(r<=e._skippedIndexesFromExternal[t]){e._skippedIndexesFromExternal[t]++}}}};for(const t of e){i(null,t,e.getIndex(t))}this.listenTo(e,"add",i);this.listenTo(e,"remove",(t,e,i)=>{const n=this._bindToExternalToInternalMap.get(e);if(n){this.remove(n)}this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((t,e)=>{if(i<e){t.push(e-1)}if(i>e){t.push(e)}return t},[])})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}vs(ys,ds);class xs{constructor(t,e=[],i=[]){this._context=t;this._plugins=new Map;this._availablePlugins=new Map;for(const t of e){if(t.pluginName){this._availablePlugins.set(t.pluginName,t)}}this._contextPlugins=new Map;for(const[t,e]of i){this._contextPlugins.set(t,e);this._contextPlugins.set(e,t);if(t.pluginName){this._availablePlugins.set(t.pluginName,t)}}}*[Symbol.iterator](){for(const t of this._plugins){if(typeof t[0]=="function"){yield t}}}get(t){const e=this._plugins.get(t);if(!e){const e="plugincollection-plugin-not-loaded: The requested plugin is not loaded.";let i=t;if(typeof t=="function"){i=t.pluginName||t.name}throw new ss["b"](e,this._context,{plugin:i})}return e}has(t){return this._plugins.has(t)}init(t,e=[]){const i=this;const n=this._context;const o=new Set;const r=[];const s=g(t);const a=g(e);const c=f(t);if(c){const t="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";console.error(Object(ss["a"])(t),{plugins:c});return Promise.reject(new ss["b"](t,n,{plugins:c}))}return Promise.all(s.map(l)).then(()=>d(r,"init")).then(()=>d(r,"afterInit")).then(()=>r);function l(t){if(a.includes(t)){return}if(i._plugins.has(t)||o.has(t)){return}return u(t).catch(e=>{console.error(Object(ss["a"])("plugincollection-load: It was not possible to load the plugin."),{plugin:t});throw e})}function d(t,e){return t.reduce((t,n)=>{if(!n[e]){return t}if(i._contextPlugins.has(n)){return t}return t.then(n[e].bind(n))},Promise.resolve())}function u(t){return new Promise(s=>{o.add(t);if(t.requires){t.requires.forEach(i=>{const o=h(i);if(t.isContextPlugin&&!o.isContextPlugin){throw new ss["b"]("plugincollection-context-required: Context plugin can not require plugin which is not a context plugin",null,{plugin:o.name,requiredBy:t.name})}if(e.includes(o)){throw new ss["b"]("plugincollection-required: Cannot load a plugin because one of its dependencies is listed in"+"the `removePlugins` option.",n,{plugin:o.name,requiredBy:t.name})}l(o)})}const a=i._contextPlugins.get(t)||new t(n);i._add(t,a);r.push(a);s()})}function h(t){if(typeof t=="function"){return t}return i._availablePlugins.get(t)}function f(t){const e=[];for(const i of t){if(!h(i)){e.push(i)}}return e.length?e:null}function g(t){return t.map(t=>h(t)).filter(t=>!!t)}}destroy(){const t=[];for(const[,e]of this){if(typeof e.destroy=="function"&&!this._contextPlugins.has(e)){t.push(e.destroy())}}return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const i=t.pluginName;if(!i){return}if(this._plugins.has(i)){throw new ss["b"]("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",null,{pluginName:i,plugin1:this._plugins.get(i).constructor,plugin2:t})}this._plugins.set(i,e)}}vs(xs,ds);if(!window.CKEDITOR_TRANSLATIONS){window.CKEDITOR_TRANSLATIONS={}}function Cs(t,e){const i=window.CKEDITOR_TRANSLATIONS[t]||(window.CKEDITOR_TRANSLATIONS[t]={});Object.assign(i,e)}function As(t,e){const i=Ss();if(i===1){t=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]}if(i===0||!Ps(t,e)){return e.replace(/ \[context: [^\]]+\]$/,"")}const n=window.CKEDITOR_TRANSLATIONS[t];return n[e].replace(/ \[context: [^\]]+\]$/,"")}function Ts(){window.CKEDITOR_TRANSLATIONS={}}function Ps(t,e){return t in window.CKEDITOR_TRANSLATIONS&&e in window.CKEDITOR_TRANSLATIONS[t]}function Ss(){return Object.keys(window.CKEDITOR_TRANSLATIONS).length}const Es=["ar","fa","he","ku","ug"];class Rs{constructor(t={}){this.uiLanguage=t.uiLanguage||"en";this.contentLanguage=t.contentLanguage||this.uiLanguage;this.uiLanguageDirection=Os(this.uiLanguage);this.contentLanguageDirection=Os(this.contentLanguage);this.t=(...t)=>this._t(...t)}get language(){console.warn("locale-deprecated-language-property: "+"The Locale#language property has been deprecated and will be removed in the near future. "+"Please use #uiLanguage and #contentLanguage properties instead.");return this.uiLanguage}_t(t,e){let i=As(this.uiLanguage,t);if(e){i=i.replace(/%(\d+)/g,(t,i)=>i<e.length?e[i]:t)}return i}}function Os(t){return Es.includes(t)?"rtl":"ltr"}class Is{constructor(t){this.config=new Jr(t,this.constructor.defaultConfig);const e=this.constructor.builtinPlugins;this.config.define("plugins",e);this.plugins=new xs(this,e);const i=this.config.get("language")||{};this.locale=new Rs({uiLanguage:typeof i==="string"?i:i.ui,contentLanguage:this.config.get("language.content")});this.t=this.locale.t;this.editors=new ys;this._contextOwner=null}initPlugins(){const t=this.config.get("plugins")||[];for(const e of t){if(typeof e!="function"){throw new ss["b"]("context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.",null,{Plugin:e})}if(e.isContextPlugin!==true){throw new ss["b"]("context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.",null,{Plugin:e})}}return this.plugins.init(t)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,e){if(this._contextOwner){throw new ss["b"]("context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.")}this.editors.add(t);if(e){this._contextOwner=t}}_removeEditor(t){if(this.editors.has(t)){this.editors.remove(t)}if(this._contextOwner===t){return this.destroy()}return Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names()){if(!["plugins","removePlugins","extraPlugins"].includes(e)){t[e]=this.config.get(e)}}return t}static create(t){return new Promise(e=>{const i=new this(t);e(i.initPlugins().then(()=>i))})}}function Vs(t,e){const i=Math.min(t.length,e.length);for(let n=0;n<i;n++){if(t[n]!=e[n]){return n}}if(t.length==e.length){return"same"}else if(t.length<e.length){return"prefix"}else{return"extension"}}var Ns=4;function Ms(t){return Hr(t,Ns)}var Bs=Ms;class zs{constructor(t){this.document=t;this.parent=null}get index(){let t;if(!this.parent){return null}if((t=this.parent.getChildIndex(this))==-1){throw new ss["b"]("view-node-not-found-in-parent: The node's parent does not contain this node.",this)}return t}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;while(t.parent){t=t.parent}return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;while(e.parent){t.unshift(e.index);e=e.parent}return t}getAncestors(t={includeSelf:false,parentFirst:false}){const e=[];let i=t.includeSelf?this:this.parent;while(i){e[t.parentFirst?"push":"unshift"](i);i=i.parent}return e}getCommonAncestor(t,e={}){const i=this.getAncestors(e);const n=t.getAncestors(e);let o=0;while(i[o]==n[o]&&i[o]){o++}return o===0?null:i[o-1]}isBefore(t){if(this==t){return false}if(this.root!==t.root){return false}const e=this.getPath();const i=t.getPath();const n=Vs(e,i);switch(n){case"prefix":return true;case"extension":return false;default:return e[n]<i[n]}}isAfter(t){if(this==t){return false}if(this.root!==t.root){return false}return!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire("change:"+t,e);if(this.parent){this.parent._fireChange(t,e)}}toJSON(){const t=Bs(this);delete t.parent;return t}is(t){return t=="node"||t=="view:node"}}vs(zs,ds);class Ls extends zs{constructor(t,e){super(t);this._textData=e}is(t){return t=="text"||t=="view:text"||super.is(t)}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this);this._textData=t}isSimilar(t){if(!(t instanceof Ls)){return false}return this===t||this.data===t.data}_clone(){return new Ls(this.document,this.data)}}class Fs{constructor(t,e,i){this.textNode=t;if(e<0||e>t.data.length){throw new ss["b"]("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this)}if(i<0||e+i>t.data.length){throw new ss["b"]("view-textproxy-wrong-length: Given length value is incorrect.",this)}this.data=t.data.substring(e,e+i);this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return t=="textProxy"||t=="view:textProxy"}getAncestors(t={includeSelf:false,parentFirst:false}){const e=[];let i=t.includeSelf?this.textNode:this.parent;while(i!==null){e[t.parentFirst?"push":"unshift"](i);i=i.parent}return e}}function Ds(t){const e=new Map;for(const i in t){e.set(i,t[i])}return e}function js(t){return!!(t&&t[Symbol.iterator])}function Hs(t){if(js(t)){return new Map(t)}else{return Ds(t)}}class Ws{constructor(...t){this._patterns=[];this.add(...t)}add(...t){for(let e of t){if(typeof e=="string"||e instanceof RegExp){e={name:e}}if(e.classes&&(typeof e.classes=="string"||e.classes instanceof RegExp)){e.classes=[e.classes]}this._patterns.push(e)}}match(...t){for(const e of t){for(const t of this._patterns){const i=qs(e,t);if(i){return{element:e,pattern:t,match:i}}}}return null}matchAll(...t){const e=[];for(const i of t){for(const t of this._patterns){const n=qs(i,t);if(n){e.push({element:i,pattern:t,match:n})}}}return e.length>0?e:null}getElementName(){if(this._patterns.length!==1){return null}const t=this._patterns[0];const e=t.name;return typeof t!="function"&&e&&!(e instanceof RegExp)?e:null}}function qs(t,e){if(typeof e=="function"){return e(t)}const i={};if(e.name){i.name=Us(e.name,t.name);if(!i.name){return null}}if(e.attributes){i.attributes=$s(e.attributes,t);if(!i.attributes){return null}}if(e.classes){i.classes=Gs(e.classes,t);if(!i.classes){return false}}if(e.styles){i.styles=Ks(e.styles,t);if(!i.styles){return false}}return i}function Us(t,e){if(t instanceof RegExp){return t.test(e)}return t===e}function $s(t,e){const i=[];for(const n in t){const o=t[n];if(e.hasAttribute(n)){const t=e.getAttribute(n);if(o===true){i.push(n)}else if(o instanceof RegExp){if(o.test(t)){i.push(n)}else{return null}}else if(t===o){i.push(n)}else{return null}}else{return null}}return i}function Gs(t,e){const i=[];for(const n of t){if(n instanceof RegExp){const t=e.getClassNames();for(const e of t){if(n.test(e)){i.push(e)}}if(i.length===0){return null}}else if(e.hasClass(n)){i.push(n)}else{return null}}return i}function Ks(t,e){const i=[];for(const n in t){const o=t[n];if(e.hasStyle(n)){const t=e.getStyle(n);if(o instanceof RegExp){if(o.test(t)){i.push(n)}else{return null}}else if(t===o){i.push(n)}else{return null}}else{return null}}return i}var Js="[object Symbol]";function Ys(t){return typeof t=="symbol"||T(t)&&_(t)==Js}var Qs=Ys;var Xs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zs=/^\w*$/;function ta(t,e){if(Je(t)){return false}var i=typeof t;if(i=="number"||i=="symbol"||i=="boolean"||t==null||Qs(t)){return true}return Zs.test(t)||!Xs.test(t)||e!=null&&t in Object(e)}var ea=ta;var ia="Expected a function";function na(t,e){if(typeof t!="function"||e!=null&&typeof e!="function"){throw new TypeError(ia)}var i=function(){var n=arguments,o=e?e.apply(this,n):n[0],r=i.cache;if(r.has(o)){return r.get(o)}var s=t.apply(this,n);i.cache=r.set(o,s)||r;return s};i.cache=new(na.Cache||_e);return i}na.Cache=_e;var oa=na;var ra=500;function sa(t){var e=oa(t,(function(t){if(i.size===ra){i.clear()}return t}));var i=e.cache;return e}var aa=sa;var ca=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var la=/\\(\\)?/g;var da=aa((function(t){var e=[];if(t.charCodeAt(0)===46){e.push("")}t.replace(ca,(function(t,i,n,o){e.push(n?o.replace(la,"$1"):i||t)}));return e}));var ua=da;function ha(t,e){var i=-1,n=t==null?0:t.length,o=Array(n);while(++i<n){o[i]=e(t[i],i,t)}return o}var fa=ha;var ga=1/0;var ma=r?r.prototype:undefined,pa=ma?ma.toString:undefined;function ba(t){if(typeof t=="string"){return t}if(Je(t)){return fa(t,ba)+""}if(Qs(t)){return pa?pa.call(t):""}var e=t+"";return e=="0"&&1/t==-ga?"-0":e}var wa=ba;function ka(t){return t==null?"":wa(t)}var _a=ka;function va(t,e){if(Je(t)){return t}return ea(t,e)?[t]:ua(_a(t))}var ya=va;function xa(t){var e=t==null?0:t.length;return e?t[e-1]:undefined}var Ca=xa;var Aa=1/0;function Ta(t){if(typeof t=="string"||Qs(t)){return t}var e=t+"";return e=="0"&&1/t==-Aa?"-0":e}var Pa=Ta;function Sa(t,e){e=ya(e,t);var i=0,n=e.length;while(t!=null&&i<n){t=t[Pa(e[i++])]}return i&&i==n?t:undefined}var Ea=Sa;function Ra(t,e,i){var n=-1,o=t.length;if(e<0){e=-e>o?0:o+e}i=i>o?o:i;if(i<0){i+=o}o=e>i?0:i-e>>>0;e>>>=0;var r=Array(o);while(++n<o){r[n]=t[n+e]}return r}var Oa=Ra;function Ia(t,e){return e.length<2?t:Ea(t,Oa(e,0,-1))}var Va=Ia;function Na(t,e){e=ya(e,t);t=Va(t,e);return t==null||delete t[Pa(Ca(e))]}var Ma=Na;function Ba(t,e){return t==null?true:Ma(t,e)}var za=Ba;function La(t,e,i){var n=t==null?undefined:Ea(t,e);return n===undefined?i:n}var Fa=La;function Da(t,e,i){if(i!==undefined&&!L(t[e],i)||i===undefined&&!(e in t)){Oe(t,e,i)}}var ja=Da;function Ha(t){return function(e,i,n){var o=-1,r=Object(e),s=n(e),a=s.length;while(a--){var c=s[t?a:++o];if(i(r[c],c,r)===false){break}}return e}}var Wa=Ha;var qa=Wa();var Ua=qa;function $a(t){return T(t)&&Qi(t)}var Ga=$a;function Ka(t,e){if(e==="constructor"&&typeof t[e]==="function"){return}if(e=="__proto__"){return}return t[e]}var Ja=Ka;function Ya(t){return ze(t,dn(t))}var Qa=Ya;function Xa(t,e,i,n,o,r,s){var a=Ja(t,i),c=Ja(e,i),l=s.get(c);if(l){ja(t,i,l);return}var d=r?r(a,c,i+"",t,e,s):undefined;var u=d===undefined;if(u){var h=Je(c),f=!h&&Object(Ye["a"])(c),g=!h&&!f&&Bi(c);d=c;if(h||f||g){if(Je(a)){d=a}else if(Ga(a)){d=mn(a)}else if(f){u=false;d=Object(fn["a"])(c,true)}else if(g){u=false;d=To(c,true)}else{d=[]}}else if(N(c)||Ge(c)){d=a;if(Ge(a)){d=Qa(a)}else if(!ct(a)||gt(a)){d=Xo(c)}}else{u=false}}if(u){s.set(c,d);o(d,c,n,r,s);s["delete"](c)}ja(t,i,d)}var Za=Xa;function tc(t,e,i,n,o){if(t===e){return}Ua(e,(function(r,s){o||(o=new Ae);if(ct(r)){Za(t,e,s,i,tc,n,o)}else{var a=n?n(Ja(t,s),r,s+"",t,e,o):undefined;if(a===undefined){a=r}ja(t,s,a)}}),dn)}var ec=tc;function ic(t){return t}var nc=ic;function oc(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}var rc=oc;var sc=Math.max;function ac(t,e,i){e=sc(e===undefined?t.length-1:e,0);return function(){var n=arguments,o=-1,r=sc(n.length-e,0),s=Array(r);while(++o<r){s[o]=n[e+o]}o=-1;var a=Array(e+1);while(++o<e){a[o]=n[o]}a[e]=i(s);return rc(t,this,a)}}var cc=ac;function lc(t){return function(){return t}}var dc=lc;var uc=!Ee?nc:function(t,e){return Ee(t,"toString",{configurable:true,enumerable:false,value:dc(e),writable:true})};var hc=uc;var fc=800,gc=16;var mc=Date.now;function pc(t){var e=0,i=0;return function(){var n=mc(),o=gc-(n-i);i=n;if(o>0){if(++e>=fc){return arguments[0]}}else{e=0}return t.apply(undefined,arguments)}}var bc=pc;var wc=bc(hc);var kc=wc;function _c(t,e){return kc(cc(t,e,nc),t+"")}var vc=_c;function yc(t,e,i){if(!ct(i)){return false}var n=typeof e;if(n=="number"?Qi(i)&&ti(e,i.length):n=="string"&&e in i){return L(i[e],t)}return false}var xc=yc;function Cc(t){return vc((function(e,i){var n=-1,o=i.length,r=o>1?i[o-1]:undefined,s=o>2?i[2]:undefined;r=t.length>3&&typeof r=="function"?(o--,r):undefined;if(s&&xc(i[0],i[1],s)){r=o<3?undefined:r;o=1}e=Object(e);while(++n<o){var a=i[n];if(a){t(e,a,n,r)}}return e}))}var Ac=Cc;var Tc=Ac((function(t,e,i){ec(t,e,i)}));var Pc=Tc;function Sc(t,e,i,n){if(!ct(t)){return t}e=ya(e,t);var o=-1,r=e.length,s=r-1,a=t;while(a!=null&&++o<r){var c=Pa(e[o]),l=i;if(o!=s){var d=a[c];l=n?n(d,c,a):undefined;if(l===undefined){l=ct(d)?d:ti(e[o+1])?[]:{}}}Me(a,c,l);a=a[c]}return t}var Ec=Sc;function Rc(t,e,i){return t==null?t:Ec(t,e,i)}var Oc=Rc;class Ic{constructor(t){this._styles={};this._styleProcessor=t}get isEmpty(){const t=Object.entries(this._styles);const e=Array.from(t);return!e.length}get size(){if(this.isEmpty){return 0}return this.getStyleNames().length}setTo(t){this.clear();const e=Array.from(Nc(t).entries());for(const[t,i]of e){this._styleProcessor.toNormalizedForm(t,i,this._styles)}}has(t){if(this.isEmpty){return false}const e=this._styleProcessor.getReducedForm(t,this._styles);const i=e.find(([e])=>e===t);return Array.isArray(i)}set(t,e){if(ct(t)){for(const[e,i]of Object.entries(t)){this._styleProcessor.toNormalizedForm(e,i,this._styles)}}else{this._styleProcessor.toNormalizedForm(t,e,this._styles)}}remove(t){const e=Mc(t);za(this._styles,e);delete this._styles[t];this._cleanEmptyObjectsOnPath(e)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){if(this.isEmpty){return""}return this._getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty){return}if(this._styles[t]&&!ct(this._styles[t])){return this._styles[t]}const e=this._styleProcessor.getReducedForm(t,this._styles);const i=e.find(([e])=>e===t);if(Array.isArray(i)){return i[1]}}getStyleNames(){if(this.isEmpty){return[]}const t=this._getStylesEntries();return t.map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){const t=[];const e=Object.keys(this._styles);for(const i of e){t.push(...this._styleProcessor.getReducedForm(i,this._styles))}return t}_cleanEmptyObjectsOnPath(t){const e=t.split(".");const i=e.length>1;if(!i){return}const n=e.splice(0,e.length-1).join(".");const o=Fa(this._styles,n);if(!o){return}const r=!Array.from(Object.keys(o)).length;if(r){this.remove(n)}}}class Vc{constructor(){this._normalizers=new Map;this._extractors=new Map;this._reducers=new Map;this._consumables=new Map}toNormalizedForm(t,e,i){if(ct(e)){Bc(i,Mc(t),e);return}if(this._normalizers.has(t)){const n=this._normalizers.get(t);const{path:o,value:r}=n(e);Bc(i,o,r)}else{Bc(i,t,e)}}getNormalized(t,e){if(!t){return Pc({},e)}if(e[t]!==undefined){return e[t]}if(this._extractors.has(t)){const i=this._extractors.get(t);if(typeof i==="string"){return Fa(e,i)}const n=i(t,e);if(n){return n}}return Fa(e,Mc(t))}getReducedForm(t,e){const i=this.getNormalized(t,e);if(i===undefined){return[]}if(this._reducers.has(t)){const e=this._reducers.get(t);return e(i)}return[[t,i]]}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const i of e){this._mapStyleNames(i,[t])}}_mapStyleNames(t,e){if(!this._consumables.has(t)){this._consumables.set(t,[])}this._consumables.get(t).push(...e)}}function Nc(t){let e=null;let i=0;let n=0;let o=null;const r=new Map;if(t===""){return r}if(t.charAt(t.length-1)!=";"){t=t+";"}for(let s=0;s<t.length;s++){const a=t.charAt(s);if(e===null){switch(a){case":":if(!o){o=t.substr(i,s-i);n=s+1}break;case'"':case"'":e=a;break;case";":{const e=t.substr(n,s-n);if(o){r.set(o.trim(),e.trim())}o=null;i=s+1;break}}}else if(a===e){e=null}}return r}function Mc(t){return t.replace("-",".")}function Bc(t,e,i){let n=i;if(ct(i)){n=Pc({},Fa(t,e),i)}Oc(t,e,n)}class zc extends zs{constructor(t,e,i,n){super(t);this.name=e;this._attrs=Lc(i);this._children=[];if(n){this._insertChild(0,n)}this._classes=new Set;if(this._attrs.has("class")){const t=this._attrs.get("class");Fc(this._classes,t);this._attrs.delete("class")}this._styles=new Ic(this.document.stylesProcessor);if(this._attrs.has("style")){this._styles.setTo(this._attrs.get("style"));this._attrs.delete("style")}this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}is(t,e=null){const i=t.replace(/^view:/,"");if(!e){return i=="element"||i==this.name||super.is(t)}else{return i=="element"&&e==this.name}}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){if(this._classes.size>0){yield"class"}if(!this._styles.isEmpty){yield"style"}yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries();if(this._classes.size>0){yield["class",this.getAttribute("class")]}if(!this._styles.isEmpty){yield["style",this.getAttribute("style")]}}getAttribute(t){if(t=="class"){if(this._classes.size>0){return[...this._classes].join(" ")}return undefined}if(t=="style"){const t=this._styles.toString();return t==""?undefined:t}return this._attrs.get(t)}hasAttribute(t){if(t=="class"){return this._classes.size>0}if(t=="style"){return!this._styles.isEmpty}return this._attrs.has(t)}isSimilar(t){if(!(t instanceof zc)){return false}if(this===t){return true}if(this.name!=t.name){return false}if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size){return false}for(const[e,i]of this._attrs){if(!t._attrs.has(e)||t._attrs.get(e)!==i){return false}}for(const e of this._classes){if(!t._classes.has(e)){return false}}for(const e of this._styles.getStyleNames()){if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e)){return false}}return true}hasClass(...t){for(const e of t){if(!this._classes.has(e)){return false}}return true}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(){return this._styles.getStyleNames()}hasStyle(...t){for(const e of t){if(!this._styles.has(e)){return false}}return true}findAncestor(...t){const e=new Ws(...t);let i=this.parent;while(i){if(e.match(i)){return i}i=i.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(",");const e=this._styles.toString();const i=Array.from(this._attrs).map(t=>`${t[0]}="${t[1]}"`).sort().join(" ");return this.name+(t==""?"":` class="${t}"`)+(!e?"":` style="${e}"`)+(i==""?"":` ${i}`)}_clone(t=false){const e=[];if(t){for(const i of this.getChildren()){e.push(i._clone(t))}}const i=new this.constructor(this.document,this.name,this._attrs,e);i._classes=new Set(this._classes);i._styles.set(this._styles.getNormalized());i._customProperties=new Map(this._customProperties);i.getFillerOffset=this.getFillerOffset;return i}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let i=0;const n=Dc(this.document,e);for(const e of n){if(e.parent!==null){e._remove()}e.parent=this;e.document=this.document;this._children.splice(t,0,e);t++;i++}return i}_removeChildren(t,e=1){this._fireChange("children",this);for(let i=t;i<t+e;i++){this._children[i].parent=null}return this._children.splice(t,e)}_setAttribute(t,e){e=String(e);this._fireChange("attributes",this);if(t=="class"){Fc(this._classes,e)}else if(t=="style"){this._styles.setTo(e)}else{this._attrs.set(t,e)}}_removeAttribute(t){this._fireChange("attributes",this);if(t=="class"){if(this._classes.size>0){this._classes.clear();return true}return false}if(t=="style"){if(!this._styles.isEmpty){this._styles.clear();return true}return false}return this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);t=Array.isArray(t)?t:[t];t.forEach(t=>this._classes.add(t))}_removeClass(t){this._fireChange("attributes",this);t=Array.isArray(t)?t:[t];t.forEach(t=>this._classes.delete(t))}_setStyle(t,e){this._fireChange("attributes",this);this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this);t=Array.isArray(t)?t:[t];t.forEach(t=>this._styles.remove(t))}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function Lc(t){t=Hs(t);for(const[e,i]of t){if(i===null){t.delete(e)}else if(typeof i!="string"){t.set(e,String(i))}}return t}function Fc(t,e){const i=e.split(/\s+/);t.clear();i.forEach(e=>t.add(e))}function Dc(t,e){if(typeof e=="string"){return[new Ls(t,e)]}if(!js(e)){e=[e]}return Array.from(e).map(e=>{if(typeof e=="string"){return new Ls(t,e)}if(e instanceof Fs){return new Ls(t,e.data)}return e})}class jc extends zc{constructor(t,e,i,n){super(t,e,i,n);this.getFillerOffset=Hc}is(t,e=null){const i=t&&t.replace(/^view:/,"");if(!e){return i=="containerElement"||super.is(t)}else{return i=="containerElement"&&e==this.name||super.is(t,e)}}}function Hc(){const t=[...this.getChildren()];const e=t[this.childCount-1];if(e&&e.is("element","br")){return this.childCount}for(const e of t){if(!e.is("uiElement")){return null}}return this.childCount}var Wc=Ac((function(t,e){ze(e,dn(e),t)}));var qc=Wc;const Uc=Symbol("observableProperties");const $c=Symbol("boundObservables");const Gc=Symbol("boundProperties");const Kc={set(t,e){if(ct(t)){Object.keys(t).forEach(e=>{this.set(e,t[e])},this);return}Yc(this);const i=this[Uc];if(t in this&&!i.has(t)){throw new ss["b"]("observable-set-cannot-override: Cannot override an existing property.",this)}Object.defineProperty(this,t,{enumerable:true,configurable:true,get(){return i.get(t)},set(e){const n=i.get(t);let o=this.fire("set:"+t,t,e,n);if(o===undefined){o=e}if(n!==o||!i.has(t)){i.set(t,o);this.fire("change:"+t,t,o,n)}}});this[t]=e},bind(...t){if(!t.length||!tl(t)){throw new ss["b"]("observable-bind-wrong-properties: All properties must be strings.",this)}if(new Set(t).size!==t.length){throw new ss["b"]("observable-bind-duplicate-properties: Properties must be unique.",this)}Yc(this);const e=this[Gc];t.forEach(t=>{if(e.has(t)){throw new ss["b"]("observable-bind-rebind: Cannot bind the same property more than once.",this)}});const i=new Map;t.forEach(t=>{const n={property:t,to:[]};e.set(t,n);i.set(t,n)});return{to:Qc,toMany:Xc,_observable:this,_bindProperties:t,_to:[],_bindings:i}},unbind(...t){if(!(Uc in this)){return}const e=this[Gc];const i=this[$c];if(t.length){if(!tl(t)){throw new ss["b"]("observable-unbind-wrong-properties: Properties must be strings.",this)}t.forEach(t=>{const n=e.get(t);if(!n){return}let o,r,s,a;n.to.forEach(t=>{o=t[0];r=t[1];s=i.get(o);a=s[r];a.delete(n);if(!a.size){delete s[r]}if(!Object.keys(s).length){i.delete(o);this.stopListening(o,"change")}});e.delete(t)})}else{i.forEach((t,e)=>{this.stopListening(e,"change")});i.clear();e.clear()}},decorate(t){const e=this[t];if(!e){throw new ss["b"]("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:t})}this.on(t,(t,i)=>{t.return=e.apply(this,i)});this[t]=function(...e){return this.fire(t,e)}}};qc(Kc,ds);var Jc=Kc;function Yc(t){if(Uc in t){return}Object.defineProperty(t,Uc,{value:new Map});Object.defineProperty(t,$c,{value:new Map});Object.defineProperty(t,Gc,{value:new Map})}function Qc(...t){const e=el(...t);const i=Array.from(this._bindings.keys());const n=i.length;if(!e.callback&&e.to.length>1){throw new ss["b"]("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this)}if(n>1&&e.callback){throw new ss["b"]("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this)}e.to.forEach(t=>{if(t.properties.length&&t.properties.length!==n){throw new ss["b"]("observable-bind-to-properties-length: The number of properties must match.",this)}if(!t.properties.length){t.properties=this._bindProperties}});this._to=e.to;if(e.callback){this._bindings.get(i[0]).callback=e.callback}rl(this._observable,this._to);nl(this);this._bindProperties.forEach(t=>{ol(this._observable,t)})}function Xc(t,e,i){if(this._bindings.size>1){throw new ss["b"]("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this)}this.to(...Zc(t,e),i)}function Zc(t,e){const i=t.map(t=>[t,e]);return Array.prototype.concat.apply([],i)}function tl(t){return t.every(t=>typeof t=="string")}function el(...t){if(!t.length){throw new ss["b"]("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null)}const e={to:[]};let i;if(typeof t[t.length-1]=="function"){e.callback=t.pop()}t.forEach(t=>{if(typeof t=="string"){i.properties.push(t)}else if(typeof t=="object"){i={observable:t,properties:[]};e.to.push(i)}else{throw new ss["b"]("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null)}});return e}function il(t,e,i,n){const o=t[$c];const r=o.get(i);const s=r||{};if(!s[n]){s[n]=new Set}s[n].add(e);if(!r){o.set(i,s)}}function nl(t){let e;t._bindings.forEach((i,n)=>{t._to.forEach(o=>{e=o.properties[i.callback?0:t._bindProperties.indexOf(n)];i.to.push([o.observable,e]);il(t._observable,i,o.observable,e)})})}function ol(t,e){const i=t[Gc];const n=i.get(e);let o;if(n.callback){o=n.callback.apply(t,n.to.map(t=>t[0][t[1]]))}else{o=n.to[0];o=o[0][o[1]]}if(t.hasOwnProperty(e)){t[e]=o}else{t.set(e,o)}}function rl(t,e){e.forEach(e=>{const i=t[$c];let n;if(!i.get(e.observable)){t.listenTo(e.observable,"change",(o,r)=>{n=i.get(e.observable)[r];if(n){n.forEach(e=>{ol(t,e.property)})}})}})}class sl extends jc{constructor(t,e,i,n){super(t,e,i,n);this.set("isReadOnly",false);this.set("isFocused",false);this.bind("isReadOnly").to(t);this.bind("isFocused").to(t,"isFocused",e=>e&&t.selection.editableElement==this);this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}is(t,e=null){const i=t&&t.replace(/^view:/,"");if(!e){return i=="editableElement"||super.is(t)}else{return i=="editableElement"&&e==this.name||super.is(t,e)}}destroy(){this.stopListening()}}vs(sl,Jc);const al=Symbol("rootName");class cl extends sl{constructor(t,e){super(t,e);this.rootName="main"}is(t,e=null){const i=t.replace(/^view:/,"");if(!e){return i=="rootElement"||super.is(t)}else{return i=="rootElement"&&e==this.name||super.is(t,e)}}get rootName(){return this.getCustomProperty(al)}set rootName(t){this._setCustomProperty(al,t)}set _name(t){this.name=t}}class ll{constructor(t={}){if(!t.boundaries&&!t.startPosition){throw new ss["b"]("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null)}if(t.direction&&t.direction!="forward"&&t.direction!="backward"){throw new ss["b"]("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",t.startPosition,{direction:t.direction})}this.boundaries=t.boundaries||null;if(t.startPosition){this.position=dl._createAt(t.startPosition)}else{this.position=dl._createAt(t.boundaries[t.direction=="backward"?"end":"start"])}this.direction=t.direction||"forward";this.singleCharacters=!!t.singleCharacters;this.shallow=!!t.shallow;this.ignoreElementEnd=!!t.ignoreElementEnd;this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null;this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(t){let e,i,n;do{n=this.position;({done:e,value:i}=this.next())}while(!e&&t(i));if(!e){this.position=n}}next(){if(this.direction=="forward"){return this._next()}else{return this._previous()}}_next(){let t=this.position.clone();const e=this.position;const i=t.parent;if(i.parent===null&&t.offset===i.childCount){return{done:true}}if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset){return{done:true}}let n;if(i instanceof Ls){if(t.isAtEnd){this.position=dl._createAfter(i);return this._next()}n=i.data[t.offset]}else{n=i.getChild(t.offset)}if(n instanceof zc){if(!this.shallow){t=new dl(n,0)}else{t.offset++}this.position=t;return this._formatReturnValue("elementStart",n,e,t,1)}else if(n instanceof Ls){if(this.singleCharacters){t=new dl(n,0);this.position=t;return this._next()}else{let i=n.data.length;let o;if(n==this._boundaryEndParent){i=this.boundaries.end.offset;o=new Fs(n,0,i);t=dl._createAfter(o)}else{o=new Fs(n,0,n.data.length);t.offset++}this.position=t;return this._formatReturnValue("text",o,e,t,i)}}else if(typeof n=="string"){let n;if(this.singleCharacters){n=1}else{const e=i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length;n=e-t.offset}const o=new Fs(i,t.offset,n);t.offset+=n;this.position=t;return this._formatReturnValue("text",o,e,t,n)}else{t=dl._createAfter(i);this.position=t;if(this.ignoreElementEnd){return this._next()}else{return this._formatReturnValue("elementEnd",i,e,t)}}}_previous(){let t=this.position.clone();const e=this.position;const i=t.parent;if(i.parent===null&&t.offset===0){return{done:true}}if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset){return{done:true}}let n;if(i instanceof Ls){if(t.isAtStart){this.position=dl._createBefore(i);return this._previous()}n=i.data[t.offset-1]}else{n=i.getChild(t.offset-1)}if(n instanceof zc){if(!this.shallow){t=new dl(n,n.childCount);this.position=t;if(this.ignoreElementEnd){return this._previous()}else{return this._formatReturnValue("elementEnd",n,e,t)}}else{t.offset--;this.position=t;return this._formatReturnValue("elementStart",n,e,t,1)}}else if(n instanceof Ls){if(this.singleCharacters){t=new dl(n,n.data.length);this.position=t;return this._previous()}else{let i=n.data.length;let o;if(n==this._boundaryStartParent){const e=this.boundaries.start.offset;o=new Fs(n,e,n.data.length-e);i=o.data.length;t=dl._createBefore(o)}else{o=new Fs(n,0,n.data.length);t.offset--}this.position=t;return this._formatReturnValue("text",o,e,t,i)}}else if(typeof n=="string"){let n;if(!this.singleCharacters){const e=i===this._boundaryStartParent?this.boundaries.start.offset:0;n=t.offset-e}else{n=1}t.offset-=n;const o=new Fs(i,t.offset,n);this.position=t;return this._formatReturnValue("text",o,e,t,n)}else{t=dl._createBefore(i);this.position=t;return this._formatReturnValue("elementStart",i,e,t,1)}}_formatReturnValue(t,e,i,n,o){if(e instanceof Fs){if(e.offsetInText+e.data.length==e.textNode.data.length){if(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))){n=dl._createAfter(e.textNode);this.position=n}else{i=dl._createAfter(e.textNode)}}if(e.offsetInText===0){if(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))){n=dl._createBefore(e.textNode);this.position=n}else{i=dl._createBefore(e.textNode)}}}return{done:false,value:{type:t,item:e,previousPosition:i,nextPosition:n,length:o}}}}class dl{constructor(t,e){this.parent=t;this.offset=e}get nodeAfter(){if(this.parent.is("text")){return null}return this.parent.getChild(this.offset)||null}get nodeBefore(){if(this.parent.is("text")){return null}return this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const t=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;while(!(t instanceof sl)){if(t.parent){t=t.parent}else{return null}}return t}getShiftedBy(t){const e=dl._createAt(this);const i=e.offset+t;e.offset=i<0?0:i;return e}getLastMatchingPosition(t,e={}){e.startPosition=this;const i=new ll(e);i.skip(t);return i.position}getAncestors(){if(this.parent.is("documentFragment")){return[this.parent]}else{return this.parent.getAncestors({includeSelf:true})}}getCommonAncestor(t){const e=this.getAncestors();const i=t.getAncestors();let n=0;while(e[n]==i[n]&&e[n]){n++}return n===0?null:e[n-1]}is(t){return t=="position"||t=="view:position"}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return this.compareWith(t)=="before"}isAfter(t){return this.compareWith(t)=="after"}compareWith(t){if(this.root!==t.root){return"different"}if(this.isEqual(t)){return"same"}const e=this.parent.is("node")?this.parent.getPath():[];const i=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset);i.push(t.offset);const n=Vs(e,i);switch(n){case"prefix":return"before";case"extension":return"after";default:return e[n]<i[n]?"before":"after"}}getWalker(t={}){t.startPosition=this;return new ll(t)}clone(){return new dl(this.parent,this.offset)}static _createAt(t,e){if(t instanceof dl){return new this(t.parent,t.offset)}else{const i=t;if(e=="end"){e=i.is("text")?i.data.length:i.childCount}else if(e=="before"){return this._createBefore(i)}else if(e=="after"){return this._createAfter(i)}else if(e!==0&&!e){throw new ss["b"]("view-createPositionAt-offset-required: "+"View#createPositionAt() requires the offset when the first parameter is a view item.",i)}return new dl(i,e)}}static _createAfter(t){if(t.is("textProxy")){return new dl(t.textNode,t.offsetInText+t.data.length)}if(!t.parent){throw new ss["b"]("view-position-after-root: You can not make position after root.",t,{root:t})}return new dl(t.parent,t.index+1)}static _createBefore(t){if(t.is("textProxy")){return new dl(t.textNode,t.offsetInText)}if(!t.parent){throw new ss["b"]("view-position-before-root: You can not make position before root.",t,{root:t})}return new dl(t.parent,t.index)}}class ul{constructor(t,e=null){this.start=t.clone();this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new ll({boundaries:this,ignoreElementEnd:true})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(hl,{direction:"backward"});let e=this.end.getLastMatchingPosition(hl);if(t.parent.is("text")&&t.isAtStart){t=dl._createBefore(t.parent)}if(e.parent.is("text")&&e.isAtEnd){e=dl._createAfter(e.parent)}return new ul(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(hl);if(t.isAfter(this.end)||t.isEqual(this.end)){return new ul(t,t)}let e=this.end.getLastMatchingPosition(hl,{direction:"backward"});const i=t.nodeAfter;const n=e.nodeBefore;if(i&&i.is("text")){t=new dl(i,0)}if(n&&n.is("text")){e=new dl(n,n.data.length)}return new ul(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=false){if(t.isCollapsed){e=false}const i=this.containsPosition(t.start)||e&&this.start.isEqual(t.start);const n=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return i&&n}getDifference(t){const e=[];if(this.isIntersecting(t)){if(this.containsPosition(t.start)){e.push(new ul(this.start,t.start))}if(this.containsPosition(t.end)){e.push(new ul(t.end,this.end))}}else{e.push(this.clone())}return e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start;let i=this.end;if(this.containsPosition(t.start)){e=t.start}if(this.containsPosition(t.end)){i=t.end}return new ul(e,i)}return null}getWalker(t={}){t.boundaries=this;return new ll(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed){return null}let t=this.start.nodeAfter;let e=this.end.nodeBefore;if(this.start.parent.is("text")&&this.start.isAtEnd&&this.start.parent.nextSibling){t=this.start.parent.nextSibling}if(this.end.parent.is("text")&&this.end.isAtStart&&this.end.parent.previousSibling){e=this.end.parent.previousSibling}if(t&&t.is("element")&&t===e){return t}return null}clone(){return new ul(this.start,this.end)}*getItems(t={}){t.boundaries=this;t.ignoreElementEnd=true;const e=new ll(t);for(const t of e){yield t.item}}*getPositions(t={}){t.boundaries=this;const e=new ll(t);yield e.position;for(const t of e){yield t.nextPosition}}is(t){return t=="range"||t=="view:range"}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,i,n){return new this(new dl(t,e),new dl(i,n))}static _createFromPositionAndShift(t,e){const i=t;const n=t.getShiftedBy(e);return e>0?new this(i,n):new this(n,i)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(dl._createBefore(t),e)}}function hl(t){if(t.item.is("attributeElement")||t.item.is("uiElement")){return true}return false}function fl(t){let e=0;for(const i of t){e++}return e}class gl{constructor(t=null,e,i){this._ranges=[];this._lastRangeBackward=false;this._isFake=false;this._fakeSelectionLabel="";this.setTo(t,e,i)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length){return null}const t=this._ranges[this._ranges.length-1];const e=this._lastRangeBackward?t.end:t.start;return e.clone()}get focus(){if(!this._ranges.length){return null}const t=this._ranges[this._ranges.length-1];const e=this._lastRangeBackward?t.start:t.end;return e.clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){if(this.anchor){return this.anchor.editableElement}return null}*getRanges(){for(const t of this._ranges){yield t.clone()}}getFirstRange(){let t=null;for(const e of this._ranges){if(!t||e.start.isBefore(t.start)){t=e}}return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges){if(!t||e.end.isAfter(t.end)){t=e}}return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake){return false}if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel){return false}if(this.rangeCount!=t.rangeCount){return false}else if(this.rangeCount===0){return true}if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus)){return false}for(const e of this._ranges){let i=false;for(const n of t._ranges){if(e.isEqual(n)){i=true;break}}if(!i){return false}}return true}isSimilar(t){if(this.isBackward!=t.isBackward){return false}const e=fl(this.getRanges());const i=fl(t.getRanges());if(e!=i){return false}if(e==0){return true}for(let e of this.getRanges()){e=e.getTrimmed();let i=false;for(let n of t.getRanges()){n=n.getTrimmed();if(e.start.isEqual(n.start)&&e.end.isEqual(n.end)){i=true;break}}if(!i){return false}}return true}getSelectedElement(){if(this.rangeCount!==1){return null}return this.getFirstRange().getContainedElement()}setTo(t,e,i){if(t===null){this._setRanges([]);this._setFakeOptions(e)}else if(t instanceof gl||t instanceof ml){this._setRanges(t.getRanges(),t.isBackward);this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel})}else if(t instanceof ul){this._setRanges([t],e&&e.backward);this._setFakeOptions(e)}else if(t instanceof dl){this._setRanges([new ul(t)]);this._setFakeOptions(e)}else if(t instanceof zs){const n=!!i&&!!i.backward;let o;if(e===undefined){throw new ss["b"]("view-selection-setTo-required-second-parameter: "+"selection.setTo requires the second parameter when the first parameter is a node.",this)}else if(e=="in"){o=ul._createIn(t)}else if(e=="on"){o=ul._createOn(t)}else{o=new ul(dl._createAt(t,e))}this._setRanges([o],n);this._setFakeOptions(i)}else if(js(t)){this._setRanges(t,e&&e.backward);this._setFakeOptions(e)}else{throw new ss["b"]("view-selection-setTo-not-selectable: Cannot set selection to given place.",this)}this.fire("change")}setFocus(t,e){if(this.anchor===null){throw new ss["b"]("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",this)}const i=dl._createAt(t,e);if(i.compareWith(this.focus)=="same"){return}const n=this.anchor;this._ranges.pop();if(i.compareWith(n)=="before"){this._addRange(new ul(i,n),true)}else{this._addRange(new ul(n,i))}this.fire("change")}is(t){return t=="selection"||t=="view:selection"}_setRanges(t,e=false){t=Array.from(t);this._ranges=[];for(const e of t){this._addRange(e)}this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake;this._fakeSelectionLabel=t.fake?t.label||"":""}_addRange(t,e=false){if(!(t instanceof ul)){throw new ss["b"]("view-selection-add-range-not-range: "+"Selection range set to an object that is not an instance of view.Range",this)}this._pushRange(t);this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges){if(t.isIntersecting(e)){throw new ss["b"]("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",this,{addedRange:t,intersectingRange:e})}}this._ranges.push(new ul(t.start,t.end))}}vs(gl,ds);class ml{constructor(t=null,e,i){this._selection=new gl;this._selection.delegate("change").to(this);this._selection.setTo(t,e,i)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}is(t){return t=="selection"||t=="documentSelection"||t=="view:selection"||t=="view:documentSelection"}_setTo(t,e,i){this._selection.setTo(t,e,i)}_setFocus(t,e){this._selection.setFocus(t,e)}}vs(ml,ds);class pl{constructor(t){this.selection=new ml;this.roots=new ys({idProperty:"rootName"});this.stylesProcessor=t;this.set("isReadOnly",false);this.set("isFocused",false);this.set("isComposing",false);this._postFixers=new Set}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy());this.stopListening()}_callPostFixers(t){let e=false;do{for(const i of this._postFixers){e=i(t);if(e){break}}}while(e)}}vs(pl,Jc);const bl=10;class wl extends zc{constructor(t,e,i,n){super(t,e,i,n);this.getFillerOffset=kl;this._priority=bl;this._id=null;this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null){throw new ss["b"]("attribute-element-get-elements-with-same-id-no-id: "+"Cannot get elements with the same id for an attribute element without id.",this)}return new Set(this._clonesGroup)}is(t,e=null){const i=t&&t.replace(/^view:/,"");if(!e){return i=="attributeElement"||super.is(t)}else{return i=="attributeElement"&&e==this.name||super.is(t,e)}}isSimilar(t){if(this.id!==null||t.id!==null){return this.id===t.id}return super.isSimilar(t)&&this.priority==t.priority}_clone(t){const e=super._clone(t);e._priority=this._priority;e._id=this._id;return e}}wl.DEFAULT_PRIORITY=bl;function kl(){if(_l(this)){return null}let t=this.parent;while(t&&t.is("attributeElement")){if(_l(t)>1){return null}t=t.parent}if(!t||_l(t)>1){return null}return this.childCount}function _l(t){return Array.from(t.getChildren()).filter(t=>!t.is("uiElement")).length}class vl extends zc{constructor(t,e,i,n){super(t,e,i,n);this.getFillerOffset=yl}is(t,e=null){const i=t.replace(/^view:/,"");if(!e){return i=="emptyElement"||super.is(t)}else{return i=="emptyElement"&&e==this.name||super.is(t,e)}}_insertChild(t,e){if(e&&(e instanceof zs||Array.from(e).length>0)){throw new ss["b"]("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.",[this,e])}}}function yl(){return null}const xl=navigator.userAgent.toLowerCase();const Cl={isMac:Tl(xl),isEdge:Pl(xl),isGecko:Sl(xl),isSafari:El(xl),isAndroid:Rl(xl),features:{isRegExpUnicodePropertySupported:Ol()}};var Al=Cl;function Tl(t){return t.indexOf("macintosh")>-1}function Pl(t){return!!t.match(/edge\/(\d+.?\d*)/)}function Sl(t){return!!t.match(/gecko\/\d+/)}function El(t){return t.indexOf(" applewebkit/")>-1&&t.indexOf("chrome")===-1}function Rl(t){return t.indexOf("android")>-1}function Ol(){let t=false;try{t="ć".search(new RegExp("[\\p{L}]","u"))===0}catch(t){}return t}const Il={"⌘":"ctrl","⇧":"shift","⌥":"alt"};const Vl={ctrl:"⌘",shift:"⇧",alt:"⌥"};const Nl=Ll();function Ml(t){let e;if(typeof t=="string"){e=Nl[t.toLowerCase()];if(!e){throw new ss["b"]("keyboard-unknown-key: Unknown key name.",null,{key:t})}}else{e=t.keyCode+(t.altKey?Nl.alt:0)+(t.ctrlKey?Nl.ctrl:0)+(t.shiftKey?Nl.shift:0)}return e}function Bl(t){if(typeof t=="string"){t=Fl(t)}return t.map(t=>typeof t=="string"?Ml(t):t).reduce((t,e)=>e+t,0)}function zl(t){if(!Al.isMac){return t}return Fl(t).map(t=>Vl[t.toLowerCase()]||t).reduce((t,e)=>{if(t.slice(-1)in Il){return t+e}else{return t+"+"+e}})}function Ll(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let e=65;e<=90;e++){const i=String.fromCharCode(e);t[i.toLowerCase()]=e}for(let e=48;e<=57;e++){t[e-48]=e}for(let e=112;e<=123;e++){t["f"+(e-111)]=e}return t}function Fl(t){return t.split(/\s*\+\s*/)}class Dl extends zc{constructor(t,e,i,n){super(t,e,i,n);this.getFillerOffset=Hl}is(t,e=null){const i=t.replace(/^view:/,"");if(!e){return i=="uiElement"||super.is(t)}else{return i=="uiElement"&&e==this.name||super.is(t,e)}}_insertChild(t,e){if(e&&(e instanceof zs||Array.from(e).length>0)){throw new ss["b"]("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.",this)}}render(t){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const t of this.getAttributeKeys()){e.setAttribute(t,this.getAttribute(t))}return e}}function jl(t){t.document.on("keydown",(e,i)=>Wl(e,i,t.domConverter))}function Hl(){return null}function Wl(t,e,i){if(e.keyCode==Nl.arrowright){const t=e.domTarget.ownerDocument.defaultView.getSelection();const n=t.rangeCount==1&&t.getRangeAt(0).collapsed;if(n||e.shiftKey){const e=t.focusNode;const o=t.focusOffset;const r=i.domPositionToView(e,o);if(r===null){return}let s=false;const a=r.getLastMatchingPosition(t=>{if(t.item.is("uiElement")){s=true}if(t.item.is("uiElement")||t.item.is("attributeElement")){return true}return false});if(s){const e=i.viewPositionToDom(a);if(n){t.collapse(e.parent,e.offset)}else{t.extend(e.parent,e.offset)}}}}}class ql{constructor(t,e){this.document=t;this._children=[];if(e){this._insertChild(0,e)}}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}is(t){return t=="documentFragment"||t=="view:documentFragment"}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let i=0;const n=Ul(this.document,e);for(const e of n){if(e.parent!==null){e._remove()}e.parent=this;this._children.splice(t,0,e);t++;i++}return i}_removeChildren(t,e=1){this._fireChange("children",this);for(let i=t;i<t+e;i++){this._children[i].parent=null}return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}}vs(ql,ds);function Ul(t,e){if(typeof e=="string"){return[new Ls(t,e)]}if(!js(e)){e=[e]}return Array.from(e).map(e=>{if(typeof e=="string"){return new Ls(t,e)}if(e instanceof Fs){return new Ls(t,e.data)}return e})}class $l{constructor(t){this.document=t;this._cloneGroups=new Map}setSelection(t,e,i){this.document.selection._setTo(t,e,i)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createText(t){return new Ls(this.document,t)}createAttributeElement(t,e,i={}){const n=new wl(this.document,t,e);if(i.priority){n._priority=i.priority}if(i.id){n._id=i.id}return n}createContainerElement(t,e){return new jc(this.document,t,e)}createEditableElement(t,e){const i=new sl(this.document,t,e);i._document=this.document;return i}createEmptyElement(t,e){return new vl(this.document,t,e)}createUIElement(t,e,i){const n=new Dl(this.document,t,e);if(i){n.render=i}return n}setAttribute(t,e,i){i._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,i){if(N(t)&&i===undefined){i=e}i._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,i){i._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){if(t instanceof dl){return this._breakAttributes(t)}else{return this._breakAttributesRange(t)}}breakContainer(t){const e=t.parent;if(!e.is("containerElement")){throw new ss["b"]("view-writer-break-non-container-element: Trying to break an element which is not a container element.",this.document)}if(!e.parent){throw new ss["b"]("view-writer-break-root: Trying to break root element.",this.document)}if(t.isAtStart){return dl._createBefore(e)}else if(!t.isAtEnd){const i=e._clone(false);this.insert(dl._createAfter(e),i);const n=new ul(t,dl._createAt(e,"end"));const o=new dl(i,0);this.move(n,o)}return dl._createAfter(e)}mergeAttributes(t){const e=t.offset;const i=t.parent;if(i.is("text")){return t}if(i.is("attributeElement")&&i.childCount===0){const t=i.parent;const e=i.index;i._remove();this._removeFromClonedElementsGroup(i);return this.mergeAttributes(new dl(t,e))}const n=i.getChild(e-1);const o=i.getChild(e);if(!n||!o){return t}if(n.is("text")&&o.is("text")){return Xl(n,o)}else if(n.is("attributeElement")&&o.is("attributeElement")&&n.isSimilar(o)){const t=n.childCount;n._appendChild(o.getChildren());o._remove();this._removeFromClonedElementsGroup(o);return this.mergeAttributes(new dl(n,t))}return t}mergeContainers(t){const e=t.nodeBefore;const i=t.nodeAfter;if(!e||!i||!e.is("containerElement")||!i.is("containerElement")){throw new ss["b"]("view-writer-merge-containers-invalid-position: "+"Element before and after given position cannot be merged.",this.document)}const n=e.getChild(e.childCount-1);const o=n instanceof Ls?dl._createAt(n,"end"):dl._createAt(e,"end");this.move(ul._createIn(i),dl._createAt(e,"end"));this.remove(ul._createOn(i));return o}insert(t,e){e=js(e)?[...e]:[e];Zl(e,this.document);const i=Kl(t);if(!i){throw new ss["b"]("view-writer-invalid-position-container",this.document)}const n=this._breakAttributes(t,true);const o=i._insertChild(n.offset,e);for(const t of e){this._addToClonedElementsGroup(t)}const r=n.getShiftedBy(o);const s=this.mergeAttributes(n);if(o===0){return new ul(s,s)}else{if(!s.isEqual(n)){r.offset--}const t=this.mergeAttributes(r);return new ul(s,t)}}remove(t){const e=t instanceof ul?t:ul._createOn(t);id(e,this.document);if(e.isCollapsed){return new ql(this.document)}const{start:i,end:n}=this._breakAttributesRange(e,true);const o=i.parent;const r=n.offset-i.offset;const s=o._removeChildren(i.offset,r);for(const t of s){this._removeFromClonedElementsGroup(t)}const a=this.mergeAttributes(i);e.start=a;e.end=a.clone();return new ql(this.document,s)}clear(t,e){id(t,this.document);const i=t.getWalker({direction:"backward",ignoreElementEnd:true});for(const n of i){const i=n.item;let o;if(i.is("element")&&e.isSimilar(i)){o=ul._createOn(i)}else if(!n.nextPosition.isAfter(t.start)&&i.is("textProxy")){const t=i.getAncestors().find(t=>t.is("element")&&e.isSimilar(t));if(t){o=ul._createIn(t)}}if(o){if(o.end.isAfter(t.end)){o.end=t.end}if(o.start.isBefore(t.start)){o.start=t.start}this.remove(o)}}}move(t,e){let i;if(e.isAfter(t.end)){e=this._breakAttributes(e,true);const n=e.parent;const o=n.childCount;t=this._breakAttributesRange(t,true);i=this.remove(t);e.offset+=n.childCount-o}else{i=this.remove(t)}return this.insert(e,i)}wrap(t,e){if(!(e instanceof wl)){throw new ss["b"]("view-writer-wrap-invalid-attribute",this.document)}id(t,this.document);if(!t.isCollapsed){return this._wrapRange(t,e)}else{let i=t.start;if(i.parent.is("element")&&!Gl(i.parent)){i=i.getLastMatchingPosition(t=>t.item.is("uiElement"))}i=this._wrapPosition(i,e);const n=this.document.selection;if(n.isCollapsed&&n.getFirstPosition().isEqual(t.start)){this.setSelection(i)}return new ul(i)}}unwrap(t,e){if(!(e instanceof wl)){throw new ss["b"]("view-writer-unwrap-invalid-attribute",this.document)}id(t,this.document);if(t.isCollapsed){return t}const{start:i,end:n}=this._breakAttributesRange(t,true);const o=i.parent;const r=this._unwrapChildren(o,i.offset,n.offset,e);const s=this.mergeAttributes(r.start);if(!s.isEqual(r.start)){r.end.offset--}const a=this.mergeAttributes(r.end);return new ul(s,a)}rename(t,e){const i=new jc(this.document,t,e.getAttributes());this.insert(dl._createAfter(e),i);this.move(ul._createIn(e),dl._createAt(i,0));this.remove(ul._createOn(e));return i}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return dl._createAt(t,e)}createPositionAfter(t){return dl._createAfter(t)}createPositionBefore(t){return dl._createBefore(t)}createRange(t,e){return new ul(t,e)}createRangeOn(t){return ul._createOn(t)}createRangeIn(t){return ul._createIn(t)}createSelection(t,e,i){return new gl(t,e,i)}_wrapChildren(t,e,i,n){let o=e;const r=[];while(o<i){const e=t.getChild(o);const i=e.is("text");const s=e.is("attributeElement");const a=e.is("emptyElement");const c=e.is("uiElement");if(s&&this._wrapAttributeElement(n,e)){r.push(new dl(t,o))}else if(i||a||c||s&&Jl(n,e)){const i=n._clone();e._remove();i._appendChild(e);t._insertChild(o,i);this._addToClonedElementsGroup(i);r.push(new dl(t,o))}else if(s){this._wrapChildren(e,0,e.childCount,n)}o++}let s=0;for(const t of r){t.offset-=s;if(t.offset==e){continue}const n=this.mergeAttributes(t);if(!n.isEqual(t)){s++;i--}}return ul._createFromParentsAndOffsets(t,e,t,i)}_unwrapChildren(t,e,i,n){let o=e;const r=[];while(o<i){const e=t.getChild(o);if(!e.is("attributeElement")){o++;continue}if(e.isSimilar(n)){const n=e.getChildren();const s=e.childCount;e._remove();t._insertChild(o,n);this._removeFromClonedElementsGroup(e);r.push(new dl(t,o),new dl(t,o+s));o+=s;i+=s-1;continue}if(this._unwrapAttributeElement(n,e)){r.push(new dl(t,o),new dl(t,o+1));o++;continue}this._unwrapChildren(e,0,e.childCount,n);o++}let s=0;for(const t of r){t.offset-=s;if(t.offset==e||t.offset==i){continue}const n=this.mergeAttributes(t);if(!n.isEqual(t)){s++;i--}}return ul._createFromParentsAndOffsets(t,e,t,i)}_wrapRange(t,e){const{start:i,end:n}=this._breakAttributesRange(t,true);const o=i.parent;const r=this._wrapChildren(o,i.offset,n.offset,e);const s=this.mergeAttributes(r.start);if(!s.isEqual(r.start)){r.end.offset--}const a=this.mergeAttributes(r.end);return new ul(s,a)}_wrapPosition(t,e){if(e.isSimilar(t.parent)){return Yl(t.clone())}if(t.parent.is("text")){t=Ql(t)}const i=this.createAttributeElement();i._priority=Number.POSITIVE_INFINITY;i.isSimilar=()=>false;t.parent._insertChild(t.offset,i);const n=new ul(t,t.getShiftedBy(1));this.wrap(n,e);const o=new dl(i.parent,i.index);i._remove();const r=o.nodeBefore;const s=o.nodeAfter;if(r instanceof Ls&&s instanceof Ls){return Xl(r,s)}return Yl(o)}_wrapAttributeElement(t,e){if(!nd(t,e)){return false}if(t.name!==e.name||t.priority!==e.priority){return false}for(const i of t.getAttributeKeys()){if(i==="class"||i==="style"){continue}if(e.hasAttribute(i)&&e.getAttribute(i)!==t.getAttribute(i)){return false}}for(const i of t.getStyleNames()){if(e.hasStyle(i)&&e.getStyle(i)!==t.getStyle(i)){return false}}for(const i of t.getAttributeKeys()){if(i==="class"||i==="style"){continue}if(!e.hasAttribute(i)){this.setAttribute(i,t.getAttribute(i),e)}}for(const i of t.getStyleNames()){if(!e.hasStyle(i)){this.setStyle(i,t.getStyle(i),e)}}for(const i of t.getClassNames()){if(!e.hasClass(i)){this.addClass(i,e)}}return true}_unwrapAttributeElement(t,e){if(!nd(t,e)){return false}if(t.name!==e.name||t.priority!==e.priority){return false}for(const i of t.getAttributeKeys()){if(i==="class"||i==="style"){continue}if(!e.hasAttribute(i)||e.getAttribute(i)!==t.getAttribute(i)){return false}}if(!e.hasClass(...t.getClassNames())){return false}for(const i of t.getStyleNames()){if(!e.hasStyle(i)||e.getStyle(i)!==t.getStyle(i)){return false}}for(const i of t.getAttributeKeys()){if(i==="class"||i==="style"){continue}this.removeAttribute(i,e)}this.removeClass(Array.from(t.getClassNames()),e);this.removeStyle(Array.from(t.getStyleNames()),e);return true}_breakAttributesRange(t,e=false){const i=t.start;const n=t.end;id(t,this.document);if(t.isCollapsed){const i=this._breakAttributes(t.start,e);return new ul(i,i)}const o=this._breakAttributes(n,e);const r=o.parent.childCount;const s=this._breakAttributes(i,e);o.offset+=o.parent.childCount-r;return new ul(s,o)}_breakAttributes(t,e=false){const i=t.offset;const n=t.parent;if(t.parent.is("emptyElement")){throw new ss["b"]("view-writer-cannot-break-empty-element",this.document)}if(t.parent.is("uiElement")){throw new ss["b"]("view-writer-cannot-break-ui-element",this.document)}if(!e&&n.is("text")&&ed(n.parent)){return t.clone()}if(ed(n)){return t.clone()}if(n.is("text")){return this._breakAttributes(Ql(t),e)}const o=n.childCount;if(i==o){const t=new dl(n.parent,n.index+1);return this._breakAttributes(t,e)}else{if(i===0){const t=new dl(n.parent,n.index);return this._breakAttributes(t,e)}else{const t=n.index+1;const o=n._clone();n.parent._insertChild(t,o);this._addToClonedElementsGroup(o);const r=n.childCount-i;const s=n._removeChildren(i,r);o._appendChild(s);const a=new dl(n.parent,t);return this._breakAttributes(a,e)}}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement")){return}if(t.is("element")){for(const e of t.getChildren()){this._addToClonedElementsGroup(e)}}const e=t.id;if(!e){return}let i=this._cloneGroups.get(e);if(!i){i=new Set;this._cloneGroups.set(e,i)}i.add(t);t._clonesGroup=i}_removeFromClonedElementsGroup(t){if(t.is("element")){for(const e of t.getChildren()){this._removeFromClonedElementsGroup(e)}}const e=t.id;if(!e){return}const i=this._cloneGroups.get(e);if(!i){return}i.delete(t)}}function Gl(t){return Array.from(t.getChildren()).some(t=>!t.is("uiElement"))}function Kl(t){let e=t.parent;while(!ed(e)){if(!e){return undefined}e=e.parent}return e}function Jl(t,e){if(t.priority<e.priority){return true}else if(t.priority>e.priority){return false}return t.getIdentity()<e.getIdentity()}function Yl(t){const e=t.nodeBefore;if(e&&e.is("text")){return new dl(e,e.data.length)}const i=t.nodeAfter;if(i&&i.is("text")){return new dl(i,0)}return t}function Ql(t){if(t.offset==t.parent.data.length){return new dl(t.parent.parent,t.parent.index+1)}if(t.offset===0){return new dl(t.parent.parent,t.parent.index)}const e=t.parent.data.slice(t.offset);t.parent._data=t.parent.data.slice(0,t.offset);t.parent.parent._insertChild(t.parent.index+1,new Ls(t.root.document,e));return new dl(t.parent.parent,t.parent.index+1)}function Xl(t,e){const i=t.data.length;t._data+=e.data;e._remove();return new dl(t,i)}function Zl(t,e){for(const i of t){if(!td.some(t=>i instanceof t)){throw new ss["b"]("view-writer-insert-invalid-node",e)}if(!i.is("text")){Zl(i.getChildren(),e)}}}const td=[Ls,wl,jc,vl,Dl];function ed(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function id(t,e){const i=Kl(t.start);const n=Kl(t.end);if(!i||!n||i!==n){throw new ss["b"]("view-writer-invalid-range-container",e)}}function nd(t,e){return t.id===null&&e.id===null}function od(t){return Object.prototype.toString.call(t)=="[object Text]"}const rd=t=>t.createTextNode(" ");const sd=t=>{const e=t.createElement("br");e.dataset.ckeFiller=true;return e};const ad=7;const cd=(()=>{let t="";for(let e=0;e<ad;e++){t+="​"}return t})();function ld(t){return od(t)&&t.data.substr(0,ad)===cd}function dd(t){return t.data.length==ad&&ld(t)}function ud(t){if(ld(t)){return t.data.slice(ad)}else{return t.data}}function hd(t){t.document.on("keydown",fd)}function fd(t,e){if(e.keyCode==Nl.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const e=t.getRangeAt(0).startContainer;const i=t.getRangeAt(0).startOffset;if(ld(e)&&i<=ad){t.collapse(e,0)}}}}function gd(t,e,i,n=false){i=i||function(t,e){return t===e};if(!Array.isArray(t)){t=Array.from(t)}if(!Array.isArray(e)){e=Array.from(e)}const o=md(t,e,i);return n?kd(o,e.length):wd(e,o)}function md(t,e,i){const n=pd(t,e,i);if(n===-1){return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1}}const o=bd(t,n);const r=bd(e,n);const s=pd(o,r,i);const a=t.length-s;const c=e.length-s;return{firstIndex:n,lastIndexOld:a,lastIndexNew:c}}function pd(t,e,i){for(let n=0;n<Math.max(t.length,e.length);n++){if(t[n]===undefined||e[n]===undefined||!i(t[n],e[n])){return n}}return-1}function bd(t,e){return t.slice(e).reverse()}function wd(t,e){const i=[];const{firstIndex:n,lastIndexOld:o,lastIndexNew:r}=e;if(r-n>0){i.push({index:n,type:"insert",values:t.slice(n,r)})}if(o-n>0){i.push({index:n+(r-n),type:"delete",howMany:o-n})}return i}function kd(t,e){const{firstIndex:i,lastIndexOld:n,lastIndexNew:o}=t;if(i===-1){return Array(e).fill("equal")}let r=[];if(i>0){r=r.concat(Array(i).fill("equal"))}if(o-i>0){r=r.concat(Array(o-i).fill("insert"))}if(n-i>0){r=r.concat(Array(n-i).fill("delete"))}if(o<e){r=r.concat(Array(e-o).fill("equal"))}return r}function _d(t,e,i){i=i||function(t,e){return t===e};const n=t.length;const o=e.length;if(n>200||o>200||n+o>300){return _d.fastDiff(t,e,i,true)}let r,s;if(o<n){const i=t;t=e;e=i;r="delete";s="insert"}else{r="insert";s="delete"}const a=t.length;const c=e.length;const l=c-a;const d={};const u={};function h(n){const o=(u[n-1]!==undefined?u[n-1]:-1)+1;const l=u[n+1]!==undefined?u[n+1]:-1;const h=o>l?-1:1;if(d[n+h]){d[n]=d[n+h].slice(0)}if(!d[n]){d[n]=[]}d[n].push(o>l?r:s);let f=Math.max(o,l);let g=f-n;while(g<a&&f<c&&i(t[g],e[f])){g++;f++;d[n].push("equal")}return f}let f=0;let g;do{for(g=-f;g<l;g++){u[g]=h(g)}for(g=l+f;g>l;g--){u[g]=h(g)}u[l]=h(l);f++}while(u[l]!==c);return d[l].slice(1)}_d.fastDiff=gd;function vd(t,e,i){t.insertBefore(i,t.childNodes[e]||null)}function yd(t){const e=t.parentNode;if(e){e.removeChild(t)}}function xd(t){if(t){if(t.defaultView){return t instanceof t.defaultView.Document}else if(t.ownerDocument&&t.ownerDocument.defaultView){return t instanceof t.ownerDocument.defaultView.Node}}return false}class Cd{constructor(t,e){this.domDocuments=new Set;this.domConverter=t;this.markedAttributes=new Set;this.markedChildren=new Set;this.markedTexts=new Set;this.selection=e;this.isFocused=false;this._inlineFiller=null;this._fakeSelectionContainer=null}markToSync(t,e){if(t==="text"){if(this.domConverter.mapViewToDom(e.parent)){this.markedTexts.add(e)}}else{if(!this.domConverter.mapViewToDom(e)){return}if(t==="attributes"){this.markedAttributes.add(e)}else if(t==="children"){this.markedChildren.add(e)}else{throw new ss["b"]("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.",this)}}}render(){let t;for(const t of this.markedChildren){this._updateChildrenMappings(t)}if(this._inlineFiller&&!this._isSelectionInInlineFiller()){this._removeInlineFiller()}if(this._inlineFiller){t=this._getInlineFillerPosition()}else if(this._needsInlineFillerAtSelection()){t=this.selection.getFirstPosition();this.markedChildren.add(t.parent)}for(const t of this.markedAttributes){this._updateAttrs(t)}for(const e of this.markedChildren){this._updateChildren(e,{inlineFillerPosition:t})}for(const e of this.markedTexts){if(!this.markedChildren.has(e.parent)&&this.domConverter.mapViewToDom(e.parent)){this._updateText(e,{inlineFillerPosition:t})}}if(t){const e=this.domConverter.viewPositionToDom(t);const i=e.parent.ownerDocument;if(!ld(e.parent)){this._inlineFiller=Td(i,e.parent,e.offset)}else{this._inlineFiller=e.parent}}else{this._inlineFiller=null}this._updateSelection();this._updateFocus();this.markedTexts.clear();this.markedAttributes.clear();this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e){return}const i=this.domConverter.mapViewToDom(t).childNodes;const n=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:false}));const o=this._diffNodeLists(i,n);const r=this._findReplaceActions(o,i,n);if(r.indexOf("replace")!==-1){const e={equal:0,insert:0,delete:0};for(const o of r){if(o==="replace"){const o=e.equal+e.insert;const r=e.equal+e.delete;const s=t.getChild(o);if(s&&!s.is("uiElement")){this._updateElementMappings(s,i[r])}yd(n[o]);e.equal++}else{e[o]++}}}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e);this.domConverter.bindElements(e,t);this.markedChildren.add(t);this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();if(t.parent.is("text")){return dl._createBefore(this.selection.getFirstPosition().parent)}else{return t}}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed){return false}const t=this.selection.getFirstPosition();const e=this.domConverter.viewPositionToDom(t);if(e&&od(e.parent)&&ld(e.parent)){return true}return false}_removeInlineFiller(){const t=this._inlineFiller;if(!ld(t)){throw new ss["b"]("view-renderer-filler-was-lost: The inline filler node was lost.",this)}if(dd(t)){t.parentNode.removeChild(t)}else{t.data=t.data.substr(ad)}this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed){return false}const t=this.selection.getFirstPosition();const e=t.parent;const i=t.offset;if(!this.domConverter.mapViewToDom(e.root)){return false}if(!e.is("element")){return false}if(!Ad(e)){return false}if(i===e.getFillerOffset()){return false}const n=t.nodeBefore;const o=t.nodeAfter;if(n instanceof Ls||o instanceof Ls){return false}return true}_updateText(t,e){const i=this.domConverter.findCorrespondingDomText(t);const n=this.domConverter.viewToDom(t,i.ownerDocument);const o=i.data;let r=n.data;const s=e.inlineFillerPosition;if(s&&s.parent==t.parent&&s.offset==t.index){r=cd+r}if(o!=r){const t=gd(o,r);for(const e of t){if(e.type==="insert"){i.insertData(e.index,e.values.join(""))}else{i.deleteData(e.index,e.howMany)}}}}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e){return}const i=Array.from(e.attributes).map(t=>t.name);const n=t.getAttributeKeys();for(const i of n){e.setAttribute(i,t.getAttribute(i))}for(const n of i){if(!t.hasAttribute(n)){e.removeAttribute(n)}}}_updateChildren(t,e){const i=this.domConverter.mapViewToDom(t);if(!i){return}const n=e.inlineFillerPosition;const o=this.domConverter.mapViewToDom(t).childNodes;const r=Array.from(this.domConverter.viewChildrenToDom(t,i.ownerDocument,{bind:true,inlineFillerPosition:n}));if(n&&n.parent===t){Td(i.ownerDocument,r,n.offset)}const s=this._diffNodeLists(o,r);let a=0;const c=new Set;for(const t of s){if(t==="delete"){c.add(o[a]);yd(o[a])}else if(t==="equal"){a++}}a=0;for(const t of s){if(t==="insert"){vd(i,a,r[a]);a++}else if(t==="equal"){this._markDescendantTextToSync(this.domConverter.domToView(r[a]));a++}}for(const t of c){if(!t.parentNode){this.domConverter.unbindDomElement(t)}}}_diffNodeLists(t,e){t=Rd(t,this._fakeSelectionContainer);return _d(t,e,Sd.bind(null,this.domConverter))}_findReplaceActions(t,e,i){if(t.indexOf("insert")===-1||t.indexOf("delete")===-1){return t}let n=[];let o=[];let r=[];const s={equal:0,insert:0,delete:0};for(const a of t){if(a==="insert"){r.push(i[s.equal+s.insert])}else if(a==="delete"){o.push(e[s.equal+s.delete])}else{n=n.concat(_d(o,r,Pd).map(t=>t==="equal"?"replace":t));n.push("equal");o=[];r=[]}s[a]++}return n.concat(_d(o,r,Pd).map(t=>t==="equal"?"replace":t))}_markDescendantTextToSync(t){if(!t){return}if(t.is("text")){this.markedTexts.add(t)}else if(t.is("element")){for(const e of t.getChildren()){this._markDescendantTextToSync(e)}}}_updateSelection(){if(this.selection.rangeCount===0){this._removeDomSelection();this._removeFakeSelection();return}const t=this.domConverter.mapViewToDom(this.selection.editableElement);if(!this.isFocused||!t){return}if(this.selection.isFake){this._updateFakeSelection(t)}else{this._removeFakeSelection();this._updateDomSelection(t)}}_updateFakeSelection(t){const e=t.ownerDocument;if(!this._fakeSelectionContainer){this._fakeSelectionContainer=Od(e)}const i=this._fakeSelectionContainer;this.domConverter.bindFakeSelection(i,this.selection);if(!this._fakeSelectionNeedsUpdate(t)){return}if(!i.parentElement||i.parentElement!=t){t.appendChild(i)}i.textContent=this.selection.fakeSelectionLabel||" ";const n=e.getSelection();const o=e.createRange();n.removeAllRanges();o.selectNodeContents(i);n.addRange(o)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e)){return}const i=this.domConverter.viewPositionToDom(this.selection.anchor);const n=this.domConverter.viewPositionToDom(this.selection.focus);t.focus();e.collapse(i.parent,i.offset);e.extend(n.parent,n.offset);if(Al.isGecko){Ed(n,e)}}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t)){return true}const e=t&&this.domConverter.domSelectionToView(t);if(e&&this.selection.isEqual(e)){return false}if(!this.selection.isCollapsed&&this.selection.isSimilar(e)){return false}return true}_fakeSelectionNeedsUpdate(t){const e=this._fakeSelectionContainer;const i=t.ownerDocument.getSelection();if(!e||e.parentElement!==t){return true}if(i.anchorNode!==e&&!e.contains(i.anchorNode)){return true}return e.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments){const e=t.getSelection();if(e.rangeCount){const e=t.activeElement;const i=this.domConverter.mapDomToView(e);if(e&&i){t.getSelection().removeAllRanges()}}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;if(t){t.remove()}}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;if(t){this.domConverter.focus(t)}}}}vs(Cd,Jc);function Ad(t){if(t.getAttribute("contenteditable")=="false"){return false}const e=t.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function Td(t,e,i){const n=e instanceof Array?e:e.childNodes;const o=n[i];if(od(o)){o.data=cd+o.data;return o}else{const o=t.createTextNode(cd);if(Array.isArray(e)){n.splice(i,0,o)}else{vd(e,i,o)}return o}}function Pd(t,e){return xd(t)&&xd(e)&&!od(t)&&!od(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function Sd(t,e,i){if(e===i){return true}else if(od(e)&&od(i)){return e.data===i.data}else if(t.isBlockFiller(e)&&t.isBlockFiller(i)){return true}return false}function Ed(t,e){const i=t.parent;if(i.nodeType!=Node.ELEMENT_NODE||t.offset!=i.childNodes.length-1){return}const n=i.childNodes[t.offset];if(n&&n.tagName=="BR"){e.addRange(e.getRangeAt(0))}}function Rd(t,e){const i=Array.from(t);if(i.length==0||!e){return i}const n=i[i.length-1];if(n==e){i.pop()}return i}function Od(t){const e=t.createElement("div");Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"});e.textContent=" ";return e}var Id={window:window,document:document};function Vd(t){let e=0;while(t.previousSibling){t=t.previousSibling;e++}return e}function Nd(t){const e=[];while(t&&t.nodeType!=Node.DOCUMENT_NODE){e.unshift(t);t=t.parentNode}return e}function Md(t,e){const i=Nd(t);const n=Nd(e);let o=0;while(i[o]==n[o]&&i[o]){o++}return o===0?null:i[o-1]}const Bd=sd(document);class zd{constructor(t,e={}){this.document=t;this.blockFillerMode=e.blockFillerMode||"br";this.preElements=["pre"];this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption"];this._blockFiller=this.blockFillerMode=="br"?sd:rd;this._domToViewMapping=new WeakMap;this._viewToDomMapping=new WeakMap;this._fakeSelectionMapping=new WeakMap}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new gl(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e);this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t);this._viewToDomMapping.delete(e);for(const e of Array.from(t.childNodes)){this.unbindDomElement(e)}}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e);this._viewToDomMapping.set(e,t)}viewToDom(t,e,i={}){if(t.is("text")){const i=this._processDataFromViewText(t);return e.createTextNode(i)}else{if(this.mapViewToDom(t)){return this.mapViewToDom(t)}let n;if(t.is("documentFragment")){n=e.createDocumentFragment();if(i.bind){this.bindDocumentFragments(n,t)}}else if(t.is("uiElement")){n=t.render(e);if(i.bind){this.bindElements(n,t)}return n}else{if(t.hasAttribute("xmlns")){n=e.createElementNS(t.getAttribute("xmlns"),t.name)}else{n=e.createElement(t.name)}if(i.bind){this.bindElements(n,t)}for(const e of t.getAttributeKeys()){n.setAttribute(e,t.getAttribute(e))}}if(i.withChildren||i.withChildren===undefined){for(const o of this.viewChildrenToDom(t,e,i)){n.appendChild(o)}}return n}}*viewChildrenToDom(t,e,i={}){const n=t.getFillerOffset&&t.getFillerOffset();let o=0;for(const r of t.getChildren()){if(n===o){yield this._blockFiller(e)}yield this.viewToDom(r,e,i);o++}if(n===o){yield this._blockFiller(e)}}viewRangeToDom(t){const e=this.viewPositionToDom(t.start);const i=this.viewPositionToDom(t.end);const n=document.createRange();n.setStart(e.parent,e.offset);n.setEnd(i.parent,i.offset);return n}viewPositionToDom(t){const e=t.parent;if(e.is("text")){const i=this.findCorrespondingDomText(e);if(!i){return null}let n=t.offset;if(ld(i)){n+=ad}return{parent:i,offset:n}}else{let i,n,o;if(t.offset===0){i=this.mapViewToDom(e);if(!i){return null}o=i.childNodes[0]}else{const e=t.nodeBefore;n=e.is("text")?this.findCorrespondingDomText(e):this.mapViewToDom(t.nodeBefore);if(!n){return null}i=n.parentNode;o=n.nextSibling}if(od(o)&&ld(o)){return{parent:o,offset:ad}}const r=n?Vd(n)+1:0;return{parent:i,offset:r}}}domToView(t,e={}){if(this.isBlockFiller(t,this.blockFillerMode)){return null}const i=this.getParentUIElement(t,this._domToViewMapping);if(i){return i}if(od(t)){if(dd(t)){return null}else{const e=this._processDataFromDomText(t);return e===""?null:new Ls(this.document,e)}}else if(this.isComment(t)){return null}else{if(this.mapDomToView(t)){return this.mapDomToView(t)}let i;if(this.isDocumentFragment(t)){i=new ql(this.document);if(e.bind){this.bindDocumentFragments(t,i)}}else{const n=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();i=new zc(this.document,n);if(e.bind){this.bindElements(t,i)}const o=t.attributes;for(let t=o.length-1;t>=0;t--){i._setAttribute(o[t].name,o[t].value)}}if(e.withChildren||e.withChildren===undefined){for(const n of this.domChildrenToView(t,e)){i._appendChild(n)}}return i}}*domChildrenToView(t,e={}){for(let i=0;i<t.childNodes.length;i++){const n=t.childNodes[i];const o=this.domToView(n,e);if(o!==null){yield o}}}domSelectionToView(t){if(t.rangeCount===1){let e=t.getRangeAt(0).startContainer;if(od(e)){e=e.parentNode}const i=this.fakeSelectionToView(e);if(i){return i}}const e=this.isDomSelectionBackward(t);const i=[];for(let e=0;e<t.rangeCount;e++){const n=t.getRangeAt(e);const o=this.domRangeToView(n);if(o){i.push(o)}}return new gl(i,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset);const i=this.domPositionToView(t.endContainer,t.endOffset);if(e&&i){return new ul(e,i)}return null}domPositionToView(t,e){if(this.isBlockFiller(t,this.blockFillerMode)){return this.domPositionToView(t.parentNode,Vd(t))}const i=this.mapDomToView(t);if(i&&i.is("uiElement")){return dl._createBefore(i)}if(od(t)){if(dd(t)){return this.domPositionToView(t.parentNode,Vd(t))}const i=this.findCorrespondingViewText(t);let n=e;if(!i){return null}if(ld(t)){n-=ad;n=n<0?0:n}return new dl(i,n)}else{if(e===0){const e=this.mapDomToView(t);if(e){return new dl(e,0)}}else{const i=t.childNodes[e-1];const n=od(i)?this.findCorrespondingViewText(i):this.mapDomToView(i);if(n&&n.parent){return new dl(n.parent,n.index+1)}}return null}}mapDomToView(t){return this.getParentUIElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(dd(t)){return null}const e=this.getParentUIElement(t);if(e){return e}const i=t.previousSibling;if(i){if(!this.isElement(i)){return null}const t=this.mapDomToView(i);if(t){const e=t.nextSibling;if(e instanceof Ls){return t.nextSibling}else{return null}}}else{const e=this.mapDomToView(t.parentNode);if(e){const t=e.getChild(0);if(t instanceof Ls){return t}else{return null}}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;if(e&&this.mapViewToDom(e)){return this.mapViewToDom(e).nextSibling}if(!e&&t.parent&&this.mapViewToDom(t.parent)){return this.mapViewToDom(t.parent).childNodes[0]}return null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:t,scrollY:i}=Id.window;const n=[];Fd(e,t=>{const{scrollLeft:e,scrollTop:i}=t;n.push([e,i])});e.focus();Fd(e,t=>{const[e,i]=n.shift();t.scrollLeft=e;t.scrollTop=i});Id.window.scrollTo(t,i)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(t){return t&&t.nodeType==Node.COMMENT_NODE}isBlockFiller(t){if(this.blockFillerMode=="br"){return t.isEqualNode(Bd)}if(t.tagName==="BR"&&jd(t,this.blockElements)&&t.parentNode.childNodes.length===1){return true}return Dd(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed){return false}const e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset);e.setEnd(t.focusNode,t.focusOffset);const i=e.collapsed;e.detach();return i}getParentUIElement(t){const e=Nd(t);e.pop();while(e.length){const t=e.pop();const i=this._domToViewMapping.get(t);if(i&&i.is("uiElement")){return i}}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}_isDomSelectionPositionCorrect(t,e){if(od(t)&&ld(t)&&e<ad){return false}if(this.isElement(t)&&ld(t.childNodes[e])){return false}const i=this.mapDomToView(t);if(i&&i.is("uiElement")){return false}return true}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some(t=>this.preElements.includes(t.name))){return e}if(e.charAt(0)==" "){const i=this._getTouchingViewTextNode(t,false);const n=i&&this._nodeEndsWithSpace(i);if(n||!i){e=" "+e.substr(1)}}if(e.charAt(e.length-1)==" "){const i=this._getTouchingViewTextNode(t,true);if(e.charAt(e.length-2)==" "||!i||i.data.charAt(0)==" "){e=e.substr(0,e.length-1)+" "}}return e.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(t){if(t.getAncestors().some(t=>this.preElements.includes(t.name))){return false}const e=this._processDataFromViewText(t);return e.charAt(e.length-1)==" "}_processDataFromDomText(t){let e=t.data;if(Ld(t,this.preElements)){return ud(t)}e=e.replace(/[ \n\t\r]{1,}/g," ");const i=this._getTouchingInlineDomNode(t,false);const n=this._getTouchingInlineDomNode(t,true);const o=this._checkShouldLeftTrimDomText(i);const r=this._checkShouldRightTrimDomText(t,n);if(o){e=e.replace(/^ /,"")}if(r){e=e.replace(/ $/,"")}e=ud(new Text(e));e=e.replace(/ \u00A0/g,"  ");if(/( |\u00A0)\u00A0$/.test(e)||!n||n.data&&n.data.charAt(0)==" "){e=e.replace(/\u00A0$/," ")}if(o){e=e.replace(/^\u00A0/," ")}return e}_checkShouldLeftTrimDomText(t){if(!t){return true}if(Kr(t)){return true}return/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1))}_checkShouldRightTrimDomText(t,e){if(e){return false}return!ld(t)}_getTouchingViewTextNode(t,e){const i=new ll({startPosition:e?dl._createAfter(t):dl._createBefore(t),direction:e?"forward":"backward"});for(const t of i){if(t.item.is("containerElement")){return null}else if(t.item.is("br")){return null}else if(t.item.is("textProxy")){return t.item}}return null}_getTouchingInlineDomNode(t,e){if(!t.parentNode){return null}const i=e?"nextNode":"previousNode";const n=t.ownerDocument;const o=Nd(t)[0];const r=n.createTreeWalker(o,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode(t){if(od(t)){return NodeFilter.FILTER_ACCEPT}if(t.tagName=="BR"){return NodeFilter.FILTER_ACCEPT}return NodeFilter.FILTER_SKIP}});r.currentNode=t;const s=r[i]();if(s!==null){const e=Md(t,s);if(e&&!Ld(t,this.blockElements,e)&&!Ld(s,this.blockElements,e)){return s}}return null}}function Ld(t,e,i){let n=Nd(t);if(i){n=n.slice(n.indexOf(i)+1)}return n.some(t=>t.tagName&&e.includes(t.tagName.toLowerCase()))}function Fd(t,e){while(t&&t!=Id.document){e(t);t=t.parentNode}}function Dd(t,e){const i=od(t)&&t.data==" ";return i&&jd(t,e)&&t.parentNode.childNodes.length===1}function jd(t,e){const i=t.parentNode;return i&&i.tagName&&e.includes(i.tagName.toLowerCase())}function Hd(t){const e=Object.prototype.toString.apply(t);if(e=="[object Window]"){return true}if(e=="[object global]"){return true}return false}const Wd=qc({},ds,{listenTo(t,...e){if(xd(t)||Hd(t)){const i=this._getProxyEmitter(t)||new Ud(t);i.attach(...e);t=i}ds.listenTo.call(this,t,...e)},stopListening(t,e,i){if(xd(t)||Hd(t)){const e=this._getProxyEmitter(t);if(!e){return}t=e}ds.stopListening.call(this,t,e,i);if(t instanceof Ud){t.detach(e)}},_getProxyEmitter(t){return us(this,$d(t))}});var qd=Wd;class Ud{constructor(t){hs(this,$d(t));this._domNode=t}}qc(Ud.prototype,ds,{attach(t,e,i={}){if(this._domListeners&&this._domListeners[t]){return}const n=this._createDomListener(t,!!i.useCapture);this._domNode.addEventListener(t,n,!!i.useCapture);if(!this._domListeners){this._domListeners={}}this._domListeners[t]=n},detach(t){let e;if(this._domListeners[t]&&(!(e=this._events[t])||!e.callbacks.length)){this._domListeners[t].removeListener()}},_createDomListener(t,e){const i=e=>{this.fire(t,e)};i.removeListener=()=>{this._domNode.removeEventListener(t,i,e);delete this._domListeners[t]};return i}});function $d(t){return t["data-ck-expando"]||(t["data-ck-expando"]=is())}class Gd{constructor(t){this.view=t;this.document=t.document;this.isEnabled=false}enable(){this.isEnabled=true}disable(){this.isEnabled=false}destroy(){this.disable();this.stopListening()}}vs(Gd,qd);var Kd="__lodash_hash_undefined__";function Jd(t){this.__data__.set(t,Kd);return this}var Yd=Jd;function Qd(t){return this.__data__.has(t)}var Xd=Qd;function Zd(t){var e=-1,i=t==null?0:t.length;this.__data__=new _e;while(++e<i){this.add(t[e])}}Zd.prototype.add=Zd.prototype.push=Yd;Zd.prototype.has=Xd;var tu=Zd;function eu(t,e){var i=-1,n=t==null?0:t.length;while(++i<n){if(e(t[i],i,t)){return true}}return false}var iu=eu;function nu(t,e){return t.has(e)}var ou=nu;var ru=1,su=2;function au(t,e,i,n,o,r){var s=i&ru,a=t.length,c=e.length;if(a!=c&&!(s&&c>a)){return false}var l=r.get(t);if(l&&r.get(e)){return l==e}var d=-1,u=true,h=i&su?new tu:undefined;r.set(t,e);r.set(e,t);while(++d<a){var f=t[d],g=e[d];if(n){var m=s?n(g,f,d,e,t,r):n(f,g,d,t,e,r)}if(m!==undefined){if(m){continue}u=false;break}if(h){if(!iu(e,(function(t,e){if(!ou(h,e)&&(f===t||o(f,t,i,n,r))){return h.push(e)}}))){u=false;break}}else if(!(f===g||o(f,g,i,n,r))){u=false;break}}r["delete"](t);r["delete"](e);return u}var cu=au;function lu(t){var e=-1,i=Array(t.size);t.forEach((function(t,n){i[++e]=[n,t]}));return i}var du=lu;function uu(t){var e=-1,i=Array(t.size);t.forEach((function(t){i[++e]=t}));return i}var hu=uu;var fu=1,gu=2;var mu="[object Boolean]",pu="[object Date]",bu="[object Error]",wu="[object Map]",ku="[object Number]",_u="[object RegExp]",vu="[object Set]",yu="[object String]",xu="[object Symbol]";var Cu="[object ArrayBuffer]",Au="[object DataView]";var Tu=r?r.prototype:undefined,Pu=Tu?Tu.valueOf:undefined;function Su(t,e,i,n,o,r,s){switch(i){case Au:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset){return false}t=t.buffer;e=e.buffer;case Cu:if(t.byteLength!=e.byteLength||!r(new fo(t),new fo(e))){return false}return true;case mu:case pu:case ku:return L(+t,+e);case bu:return t.name==e.name&&t.message==e.message;case _u:case yu:return t==e+"";case wu:var a=du;case vu:var c=n&fu;a||(a=hu);if(t.size!=e.size&&!c){return false}var l=s.get(t);if(l){return l==e}n|=gu;s.set(t,e);var d=cu(a(t),a(e),n,o,r,s);s["delete"](t);return d;case xu:if(Pu){return Pu.call(t)==Pu.call(e)}}return false}var Eu=Su;var Ru=1;var Ou=Object.prototype;var Iu=Ou.hasOwnProperty;function Vu(t,e,i,n,o,r){var s=i&Ru,a=zn(t),c=a.length,l=zn(e),d=l.length;if(c!=d&&!s){return false}var u=c;while(u--){var h=a[u];if(!(s?h in e:Iu.call(e,h))){return false}}var f=r.get(t);if(f&&r.get(e)){return f==e}var g=true;r.set(t,e);r.set(e,t);var m=s;while(++u<c){h=a[u];var p=t[h],b=e[h];if(n){var w=s?n(b,p,h,e,t,r):n(p,b,h,t,e,r)}if(!(w===undefined?p===b||o(p,b,i,n,r):w)){g=false;break}m||(m=h=="constructor")}if(g&&!m){var k=t.constructor,_=e.constructor;if(k!=_&&("constructor"in t&&"constructor"in e)&&!(typeof k=="function"&&k instanceof k&&typeof _=="function"&&_ instanceof _)){g=false}}r["delete"](t);r["delete"](e);return g}var Nu=Vu;var Mu=1;var Bu="[object Arguments]",zu="[object Array]",Lu="[object Object]";var Fu=Object.prototype;var Du=Fu.hasOwnProperty;function ju(t,e,i,n,o,r){var s=Je(t),a=Je(e),c=s?zu:so(t),l=a?zu:so(e);c=c==Bu?Lu:c;l=l==Bu?Lu:l;var d=c==Lu,u=l==Lu,h=c==l;if(h&&Object(Ye["a"])(t)){if(!Object(Ye["a"])(e)){return false}s=true;d=false}if(h&&!d){r||(r=new Ae);return s||Bi(t)?cu(t,e,i,n,o,r):Eu(t,e,c,i,n,o,r)}if(!(i&Mu)){var f=d&&Du.call(t,"__wrapped__"),g=u&&Du.call(e,"__wrapped__");if(f||g){var m=f?t.value():t,p=g?e.value():e;r||(r=new Ae);return o(m,p,i,n,r)}}if(!h){return false}r||(r=new Ae);return Nu(t,e,i,n,o,r)}var Hu=ju;function Wu(t,e,i,n,o){if(t===e){return true}if(t==null||e==null||!T(t)&&!T(e)){return t!==t&&e!==e}return Hu(t,e,i,n,Wu,o)}var qu=Wu;function Uu(t,e,i){i=typeof i=="function"?i:undefined;var n=i?i(t,e):undefined;return n===undefined?qu(t,e,undefined,i):!!n}var $u=Uu;class Gu extends Gd{constructor(t){super(t);this._config={childList:true,characterData:true,characterDataOldValue:true,subtree:true};this.domConverter=t.domConverter;this.renderer=t._renderer;this._domElements=[];this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t);if(this.isEnabled){this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const t of this._domElements){this._mutationObserver.observe(t,this._config)}}disable(){super.disable();this._mutationObserver.disconnect()}destroy(){super.destroy();this._mutationObserver.disconnect()}_onMutations(t){if(t.length===0){return}const e=this.domConverter;const i=new Map;const n=new Set;for(const i of t){if(i.type==="childList"){const t=e.mapDomToView(i.target);if(t&&t.is("uiElement")){continue}if(t&&!this._isBogusBrMutation(i)){n.add(t)}}}for(const o of t){const t=e.mapDomToView(o.target);if(t&&t.is("uiElement")){continue}if(o.type==="characterData"){const t=e.findCorrespondingViewText(o.target);if(t&&!n.has(t.parent)){i.set(t,{type:"text",oldText:t.data,newText:ud(o.target),node:t})}else if(!t&&ld(o.target)){n.add(e.mapDomToView(o.target.parentNode))}}}const o=[];for(const t of i.values()){this.renderer.markToSync("text",t.node);o.push(t)}for(const t of n){const i=e.mapViewToDom(t);const n=Array.from(t.getChildren());const r=Array.from(e.domChildrenToView(i,{withChildren:false}));if(!$u(n,r,a)){this.renderer.markToSync("children",t);o.push({type:"children",oldChildren:n,newChildren:r,node:t})}}const r=t[0].target.ownerDocument.getSelection();let s=null;if(r&&r.anchorNode){const t=e.domPositionToView(r.anchorNode,r.anchorOffset);const i=e.domPositionToView(r.focusNode,r.focusOffset);if(t&&i){s=new gl(t);s.setFocus(i)}}if(o.length){this.document.fire("mutations",o,s);this.view.forceRender()}function a(t,e){if(Array.isArray(t)){return}if(t===e){return true}else if(t.is("text")&&e.is("text")){return t.data===e.data}return false}}_isBogusBrMutation(t){let e=null;if(t.nextSibling===null&&t.removedNodes.length===0&&t.addedNodes.length==1){e=this.domConverter.domToView(t.addedNodes[0],{withChildren:false})}return e&&e.is("element","br")}}class Ku{constructor(t,e,i){this.view=t;this.document=t.document;this.domEvent=e;this.domTarget=e.target;qc(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Ju extends Gd{constructor(t){super(t);this.useCapture=false}observe(t){const e=typeof this.domEventType=="string"?[this.domEventType]:this.domEventType;e.forEach(e=>{this.listenTo(t,e,(t,e)=>{if(this.isEnabled){this.onDomEvent(e)}},{useCapture:this.useCapture})})}fire(t,e,i){if(this.isEnabled){this.document.fire(t,new Ku(this.view,e,i))}}}class Yu extends Ju{constructor(t){super(t);this.domEventType=["keydown","keyup"]}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,get keystroke(){return Ml(this)}})}}var Qu=function(){return n["a"].Date.now()};var Xu=Qu;var Zu=0/0;var th=/^\s+|\s+$/g;var eh=/^[-+]0x[0-9a-f]+$/i;var ih=/^0b[01]+$/i;var nh=/^0o[0-7]+$/i;var oh=parseInt;function rh(t){if(typeof t=="number"){return t}if(Qs(t)){return Zu}if(ct(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ct(e)?e+"":e}if(typeof t!="string"){return t===0?t:+t}t=t.replace(th,"");var i=ih.test(t);return i||nh.test(t)?oh(t.slice(2),i?2:8):eh.test(t)?Zu:+t}var sh=rh;var ah="Expected a function";var ch=Math.max,lh=Math.min;function dh(t,e,i){var n,o,r,s,a,c,l=0,d=false,u=false,h=true;if(typeof t!="function"){throw new TypeError(ah)}e=sh(e)||0;if(ct(i)){d=!!i.leading;u="maxWait"in i;r=u?ch(sh(i.maxWait)||0,e):r;h="trailing"in i?!!i.trailing:h}function f(e){var i=n,r=o;n=o=undefined;l=e;s=t.apply(r,i);return s}function g(t){l=t;a=setTimeout(b,e);return d?f(t):s}function m(t){var i=t-c,n=t-l,o=e-i;return u?lh(o,r-n):o}function p(t){var i=t-c,n=t-l;return c===undefined||i>=e||i<0||u&&n>=r}function b(){var t=Xu();if(p(t)){return w(t)}a=setTimeout(b,m(t))}function w(t){a=undefined;if(h&&n){return f(t)}n=o=undefined;return s}function k(){if(a!==undefined){clearTimeout(a)}l=0;n=c=o=a=undefined}function _(){return a===undefined?s:w(Xu())}function v(){var t=Xu(),i=p(t);n=arguments;o=this;c=t;if(i){if(a===undefined){return g(c)}if(u){clearTimeout(a);a=setTimeout(b,e);return f(c)}}if(a===undefined){a=setTimeout(b,e)}return s}v.cancel=k;v.flush=_;return v}var uh=dh;class hh extends Gd{constructor(t){super(t);this._fireSelectionChangeDoneDebounced=uh(t=>this.document.fire("selectionChangeDone",t),200)}observe(){const t=this.document;t.on("keydown",(e,i)=>{const n=t.selection;if(n.isFake&&fh(i.keyCode)&&this.isEnabled){i.preventDefault();this._handleSelectionMove(i.keyCode)}},{priority:"lowest"})}destroy(){super.destroy();this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection;const i=new gl(e.getRanges(),{backward:e.isBackward,fake:false});if(t==Nl.arrowleft||t==Nl.arrowup){i.setTo(i.getFirstPosition())}if(t==Nl.arrowright||t==Nl.arrowdown){i.setTo(i.getLastPosition())}const n={oldSelection:e,newSelection:i,domSelection:null};this.document.fire("selectionChange",n);this._fireSelectionChangeDoneDebounced(n)}}function fh(t){return t==Nl.arrowright||t==Nl.arrowleft||t==Nl.arrowup||t==Nl.arrowdown}class gh extends Gd{constructor(t){super(t);this.mutationObserver=t.getObserver(Gu);this.selection=this.document.selection;this.domConverter=t.domConverter;this._documents=new WeakSet;this._fireSelectionChangeDoneDebounced=uh(t=>this.document.fire("selectionChangeDone",t),200);this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3);this._loopbackCounter=0}observe(t){const e=t.ownerDocument;if(this._documents.has(e)){return}this.listenTo(e,"selectionchange",()=>{this._handleSelectionChange(e)});this._documents.add(e)}destroy(){super.destroy();clearInterval(this._clearInfiniteLoopInterval);this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(t){if(!this.isEnabled){return}this.mutationObserver.flush();const e=t.defaultView.getSelection();const i=this.domConverter.domSelectionToView(e);if(i.rangeCount==0){return}if(this.selection.isEqual(i)&&this.domConverter.isDomSelectionCorrect(e)){return}if(++this._loopbackCounter>60){return}if(this.selection.isSimilar(i)){this.view.forceRender()}else{const t={oldSelection:this.selection,newSelection:i,domSelection:e};this.document.fire("selectionChange",t);this._fireSelectionChangeDoneDebounced(t)}}_clearInfiniteLoop(){this._loopbackCounter=0}}class mh extends Ju{constructor(t){super(t);this.domEventType=["focus","blur"];this.useCapture=true;const e=this.document;e.on("focus",()=>{e.isFocused=true;this._renderTimeoutId=setTimeout(()=>t.forceRender(),50)});e.on("blur",(i,n)=>{const o=e.selection.editableElement;if(o===null||o===n.target){e.isFocused=false;t.forceRender()}})}onDomEvent(t){this.fire(t.type,t)}destroy(){if(this._renderTimeoutId){clearTimeout(this._renderTimeoutId)}super.destroy()}}class ph extends Ju{constructor(t){super(t);this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",()=>{e.isComposing=true});e.on("compositionend",()=>{e.isComposing=false})}onDomEvent(t){this.fire(t.type,t)}}class bh extends Ju{constructor(t){super(t);this.domEventType=["beforeinput"]}onDomEvent(t){this.fire(t.type,t)}}function wh(t){return Object.prototype.toString.apply(t)=="[object Range]"}function kh(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const _h=["top","right","bottom","left","width","height"];class vh{constructor(t){const e=wh(t);Object.defineProperty(this,"_source",{value:t._source||t,writable:true,enumerable:false});if(Kr(t)||e){if(e){yh(this,vh.getDomRangeRects(t)[0])}else{yh(this,t.getBoundingClientRect())}}else if(Hd(t)){const{innerWidth:e,innerHeight:i}=t;yh(this,{top:0,right:e,bottom:i,left:0,width:e,height:i})}else{yh(this,t)}}clone(){return new vh(this)}moveTo(t,e){this.top=e;this.right=t+this.width;this.bottom=e+this.height;this.left=t;return this}moveBy(t,e){this.top+=e;this.right+=t;this.left+=t;this.bottom+=e;return this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};e.width=e.right-e.left;e.height=e.bottom-e.top;if(e.width<0||e.height<0){return null}else{return new vh(e)}}getIntersectionArea(t){const e=this.getIntersection(t);if(e){return e.getArea()}else{return 0}}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!xh(t)){let i=t.parentNode||t.commonAncestorContainer;while(i&&!xh(i)){const t=new vh(i);const n=e.getIntersection(t);if(n){if(n.getArea()<e.getArea()){e=n}}else{return null}i=i.parentNode}}return e}isEqual(t){for(const e of _h){if(this[e]!==t[e]){return false}}return true}contains(t){const e=this.getIntersection(t);return!!(e&&e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,i,n;if(Hd(t)){e=t.innerWidth-t.document.documentElement.clientWidth;i=t.innerHeight-t.document.documentElement.clientHeight;n=t.getComputedStyle(t.document.documentElement).direction}else{const o=kh(this._source);e=t.offsetWidth-t.clientWidth-o.left-o.right;i=t.offsetHeight-t.clientHeight-o.top-o.bottom;n=t.ownerDocument.defaultView.getComputedStyle(t).direction;this.left+=o.left;this.top+=o.top;this.right-=o.right;this.bottom-=o.bottom;this.width=this.right-this.left;this.height=this.bottom-this.top}this.width-=e;if(n==="ltr"){this.right-=e}else{this.left+=e}this.height-=i;this.bottom-=i;return this}static getDomRangeRects(t){const e=[];const i=Array.from(t.getClientRects());if(i.length){for(const t of i){e.push(new vh(t))}}else{let i=t.startContainer;if(od(i)){i=i.parentNode}const n=new vh(i.getBoundingClientRect());n.right=n.left;n.width=0;e.push(n)}return e}}function yh(t,e){for(const i of _h){t[i]=e[i]}}function xh(t){if(!Kr(t)){return false}return t===t.ownerDocument.body}const Ch={};function Ah({target:t,viewportOffset:e=0}){const i=Vh(t);let n=i;let o=null;while(n){let r;if(n==i){r=Nh(t)}else{r=Nh(o)}Sh(r,()=>Mh(t,n));const s=Mh(t,n);Ph(n,s,e);if(n.parent!=n){o=n.frameElement;n=n.parent;if(!o){return}}else{n=null}}}function Th(t){const e=Nh(t);Sh(e,()=>new vh(t))}Object.assign(Ch,{scrollViewportToShowTarget:Ah,scrollAncestorsToShowTarget:Th});function Ph(t,e,i){const n=e.clone().moveBy(0,i);const o=e.clone().moveBy(0,-i);const r=new vh(t).excludeScrollbarsAndBorders();const s=[o,n];if(!s.every(t=>r.contains(t))){let{scrollX:s,scrollY:a}=t;if(Rh(o,r)){a-=r.top-e.top+i}else if(Eh(n,r)){a+=e.bottom-r.bottom+i}if(Oh(e,r)){s-=r.left-e.left+i}else if(Ih(e,r)){s+=e.right-r.right+i}t.scrollTo(s,a)}}function Sh(t,e){const i=Vh(t);let n,o;while(t!=i.document.body){o=e();n=new vh(t).excludeScrollbarsAndBorders();if(!n.contains(o)){if(Rh(o,n)){t.scrollTop-=n.top-o.top}else if(Eh(o,n)){t.scrollTop+=o.bottom-n.bottom}if(Oh(o,n)){t.scrollLeft-=n.left-o.left}else if(Ih(o,n)){t.scrollLeft+=o.right-n.right}}t=t.parentNode}}function Eh(t,e){return t.bottom>e.bottom}function Rh(t,e){return t.top<e.top}function Oh(t,e){return t.left<e.left}function Ih(t,e){return t.right>e.right}function Vh(t){if(wh(t)){return t.startContainer.ownerDocument.defaultView}else{return t.ownerDocument.defaultView}}function Nh(t){if(wh(t)){let e=t.commonAncestorContainer;if(od(e)){e=e.parentNode}return e}else{return t.parentNode}}function Mh(t,e){const i=Vh(t);const n=new vh(t);if(i===e){return n}else{let t=i;while(t!=e){const e=t.frameElement;const i=new vh(e).excludeScrollbarsAndBorders();n.moveBy(i.left,i.top);t=t.parent}}return n}class Bh{constructor(t){this.document=new pl(t);this.domConverter=new zd(this.document);this.domRoots=new Map;this.set("isRenderingInProgress",false);this._renderer=new Cd(this.domConverter,this.document.selection);this._renderer.bind("isFocused").to(this.document);this._initialDomRootAttributes=new WeakMap;this._observers=new Map;this._ongoingChange=false;this._postFixersInProgress=false;this._renderingDisabled=false;this._hasChangedSinceTheLastRendering=false;this._writer=new $l(this.document);this.addObserver(Gu);this.addObserver(gh);this.addObserver(mh);this.addObserver(Yu);this.addObserver(hh);this.addObserver(ph);if(Al.isAndroid){this.addObserver(bh)}hd(this);jl(this);this.on("render",()=>{this._render();this.document.fire("layoutChanged");this._hasChangedSinceTheLastRendering=false});this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=true})}attachDomRoot(t,e="main"){const i=this.document.getRoot(e);i._name=t.tagName.toLowerCase();const n={};for(const{name:e,value:o}of Array.from(t.attributes)){n[e]=o;if(e==="class"){this._writer.addClass(o.split(" "),i)}else{this._writer.setAttribute(e,o,i)}}this._initialDomRootAttributes.set(t,n);const o=()=>{this._writer.setAttribute("contenteditable",!i.isReadOnly,i);if(i.isReadOnly){this._writer.addClass("ck-read-only",i)}else{this._writer.removeClass("ck-read-only",i)}};o();this.domRoots.set(e,t);this.domConverter.bindElements(t,i);this._renderer.markToSync("children",i);this._renderer.markToSync("attributes",i);this._renderer.domDocuments.add(t.ownerDocument);i.on("change:children",(t,e)=>this._renderer.markToSync("children",e));i.on("change:attributes",(t,e)=>this._renderer.markToSync("attributes",e));i.on("change:text",(t,e)=>this._renderer.markToSync("text",e));i.on("change:isReadOnly",()=>this.change(o));i.on("change",()=>{this._hasChangedSinceTheLastRendering=true});for(const i of this._observers.values()){i.observe(t,e)}}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach(({name:t})=>e.removeAttribute(t));const i=this._initialDomRootAttributes.get(e);for(const t in i){e.setAttribute(t,i[t])}this.domRoots.delete(t);this.domConverter.unbindDomElement(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e){return e}e=new t(this);this._observers.set(t,e);for(const[t,i]of this.domRoots){e.observe(i,t)}e.enable();return e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values()){t.disable()}}enableObservers(){for(const t of this._observers.values()){t.enable()}}scrollToTheSelection(){const t=this.document.selection.getFirstRange();if(t){Ah({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;if(t){this.domConverter.focus(t);this.forceRender()}else{}}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress){throw new ss["b"]("cannot-change-view-tree: "+"Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. "+"This may cause some unexpected behavior and inconsistency between the DOM and the view.",this)}try{if(this._ongoingChange){return t(this._writer)}this._ongoingChange=true;const e=t(this._writer);this._ongoingChange=false;if(!this._renderingDisabled&&this._hasChangedSinceTheLastRendering){this._postFixersInProgress=true;this.document._callPostFixers(this._writer);this._postFixersInProgress=false;this.fire("render")}return e}catch(t){ss["b"].rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=true;this.change(()=>{})}destroy(){for(const t of this._observers.values()){t.destroy()}this.document.destroy();this.stopListening()}createPositionAt(t,e){return dl._createAt(t,e)}createPositionAfter(t){return dl._createAfter(t)}createPositionBefore(t){return dl._createBefore(t)}createRange(t,e){return new ul(t,e)}createRangeOn(t){return ul._createOn(t)}createRangeIn(t){return ul._createIn(t)}createSelection(t,e,i){return new gl(t,e,i)}_disableRendering(t){this._renderingDisabled=t;if(t==false){this.change(()=>{})}}_render(){this.isRenderingInProgress=true;this.disableObservers();this._renderer.render();this.enableObservers();this.isRenderingInProgress=false}}vs(Bh,Jc);class zh{constructor(t){this.parent=null;this._attrs=Hs(t)}get index(){let t;if(!this.parent){return null}if((t=this.parent.getChildIndex(this))===null){throw new ss["b"]("model-node-not-found-in-parent: The node's parent does not contain this node.",this)}return t}get startOffset(){let t;if(!this.parent){return null}if((t=this.parent.getChildStartOffset(this))===null){throw new ss["b"]("model-node-not-found-in-parent: The node's parent does not contain this node.",this)}return t}get offsetSize(){return 1}get endOffset(){if(!this.parent){return null}return this.startOffset+this.offsetSize}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;while(t.parent){t=t.parent}return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;while(e.parent){t.unshift(e.startOffset);e=e.parent}return t}getAncestors(t={includeSelf:false,parentFirst:false}){const e=[];let i=t.includeSelf?this:this.parent;while(i){e[t.parentFirst?"push":"unshift"](i);i=i.parent}return e}getCommonAncestor(t,e={}){const i=this.getAncestors(e);const n=t.getAncestors(e);let o=0;while(i[o]==n[o]&&i[o]){o++}return o===0?null:i[o-1]}isBefore(t){if(this==t){return false}if(this.root!==t.root){return false}const e=this.getPath();const i=t.getPath();const n=Vs(e,i);switch(n){case"prefix":return true;case"extension":return false;default:return e[n]<i[n]}}isAfter(t){if(this==t){return false}if(this.root!==t.root){return false}return!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};if(this._attrs.size){t.attributes=Array.from(this._attrs).reduce((t,e)=>{t[e[0]]=e[1];return t},{})}return t}is(t){return t=="node"||t=="model:node"}_clone(){return new zh(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=Hs(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}class Lh extends zh{constructor(t,e){super(e);this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}is(t){return t=="text"||t=="model:text"||super.is(t)}toJSON(){const t=super.toJSON();t.data=this.data;return t}_clone(){return new Lh(this.data,this.getAttributes())}static fromJSON(t){return new Lh(t.data,t.attributes)}}class Fh{constructor(t,e,i){this.textNode=t;if(e<0||e>t.offsetSize){throw new ss["b"]("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this)}if(i<0||e+i>t.offsetSize){throw new ss["b"]("model-textproxy-wrong-length: Given length value is incorrect.",this)}this.data=t.data.substring(e,e+i);this.offsetInText=e}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(t){return t=="textProxy"||t=="model:textProxy"}getPath(){const t=this.textNode.getPath();if(t.length>0){t[t.length-1]+=this.offsetInText}return t}getAncestors(t={includeSelf:false,parentFirst:false}){const e=[];let i=t.includeSelf?this:this.parent;while(i){e[t.parentFirst?"push":"unshift"](i);i=i.parent}return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class Dh{constructor(t){this._nodes=[];if(t){this._insertNodes(0,t)}}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,e)=>t+e.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return e==-1?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return e===null?null:this._nodes.slice(0,e).reduce((t,e)=>t+e.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length){return this.maxOffset}const e=this._nodes[t];if(!e){throw new ss["b"]("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.",this)}return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const i of this._nodes){if(t>=e&&t<e+i.offsetSize){return this.getNodeIndex(i)}e+=i.offsetSize}if(e!=t){throw new ss["b"]("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",this,{offset:t,nodeList:this})}return this.length}_insertNodes(t,e){for(const t of e){if(!(t instanceof zh)){throw new ss["b"]("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.",this)}}this._nodes.splice(t,0,...e)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class jh extends zh{constructor(t,e,i){super(e);this.name=t;this._children=new Dh;if(i){this._insertChild(0,i)}}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}is(t,e=null){const i=t.replace(/^model:/,"");if(!e){return i=="element"||i==this.name||super.is(t)}else{return i=="element"&&e==this.name}}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const i of t){e=e.getChild(e.offsetToIndex(i))}return e}toJSON(){const t=super.toJSON();t.name=this.name;if(this._children.length>0){t.children=[];for(const e of this._children){t.children.push(e.toJSON())}}return t}_clone(t=false){const e=t?Array.from(this._children).map(t=>t._clone(true)):null;return new jh(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const i=Hh(e);for(const t of i){if(t.parent!==null){t._remove()}t.parent=this}this._children._insertNodes(t,i)}_removeChildren(t,e=1){const i=this._children._removeNodes(t,e);for(const t of i){t.parent=null}return i}static fromJSON(t){let e=null;if(t.children){e=[];for(const i of t.children){if(i.name){e.push(jh.fromJSON(i))}else{e.push(Lh.fromJSON(i))}}}return new jh(t.name,t.attributes,e)}}function Hh(t){if(typeof t=="string"){return[new Lh(t)]}if(!js(t)){t=[t]}return Array.from(t).map(t=>{if(typeof t=="string"){return new Lh(t)}if(t instanceof Fh){return new Lh(t.data,t.getAttributes())}return t})}class Wh{constructor(t={}){if(!t.boundaries&&!t.startPosition){throw new ss["b"]("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null)}const e=t.direction||"forward";if(e!="forward"&&e!="backward"){throw new ss["b"]("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",t,{direction:e})}this.direction=e;this.boundaries=t.boundaries||null;if(t.startPosition){this.position=t.startPosition.clone()}else{this.position=Uh._createAt(this.boundaries[this.direction=="backward"?"end":"start"])}this.position.stickiness="toNone";this.singleCharacters=!!t.singleCharacters;this.shallow=!!t.shallow;this.ignoreElementEnd=!!t.ignoreElementEnd;this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null;this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null;this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(t){let e,i,n,o;do{n=this.position;o=this._visitedParent;({done:e,value:i}=this.next())}while(!e&&t(i));if(!e){this.position=n;this._visitedParent=o}}next(){if(this.direction=="forward"){return this._next()}else{return this._previous()}}_next(){const t=this.position;const e=this.position.clone();const i=this._visitedParent;if(i.parent===null&&e.offset===i.maxOffset){return{done:true}}if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset){return{done:true}}const n=e.textNode?e.textNode:e.nodeAfter;if(n instanceof jh){if(!this.shallow){e.path.push(0);this._visitedParent=n}else{e.offset++}this.position=e;return qh("elementStart",n,t,e,1)}else if(n instanceof Lh){let o;if(this.singleCharacters){o=1}else{let t=n.endOffset;if(this._boundaryEndParent==i&&this.boundaries.end.offset<t){t=this.boundaries.end.offset}o=t-e.offset}const r=e.offset-n.startOffset;const s=new Fh(n,r,o);e.offset+=o;this.position=e;return qh("text",s,t,e,o)}else{e.path.pop();e.offset++;this.position=e;this._visitedParent=i.parent;if(this.ignoreElementEnd){return this._next()}else{return qh("elementEnd",i,t,e)}}}_previous(){const t=this.position;const e=this.position.clone();const i=this._visitedParent;if(i.parent===null&&e.offset===0){return{done:true}}if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset){return{done:true}}const n=e.textNode?e.textNode:e.nodeBefore;if(n instanceof jh){e.offset--;if(!this.shallow){e.path.push(n.maxOffset);this.position=e;this._visitedParent=n;if(this.ignoreElementEnd){return this._previous()}else{return qh("elementEnd",n,t,e)}}else{this.position=e;return qh("elementStart",n,t,e,1)}}else if(n instanceof Lh){let o;if(this.singleCharacters){o=1}else{let t=n.startOffset;if(this._boundaryStartParent==i&&this.boundaries.start.offset>t){t=this.boundaries.start.offset}o=e.offset-t}const r=e.offset-n.startOffset;const s=new Fh(n,r-o,o);e.offset-=o;this.position=e;return qh("text",s,t,e,o)}else{e.path.pop();this.position=e;this._visitedParent=i.parent;return qh("elementStart",i,t,e,1)}}}function qh(t,e,i,n,o){return{done:false,value:{type:t,item:e,previousPosition:i,nextPosition:n,length:o}}}class Uh{constructor(t,e,i="toNone"){if(!t.is("element")&&!t.is("documentFragment")){throw new ss["b"]("model-position-root-invalid: Position root invalid.",t)}if(!(e instanceof Array)||e.length===0){throw new ss["b"]("model-position-path-incorrect-format: Position path must be an array with at least one item.",t,{path:e})}e=t.getPath().concat(e);t=t.root;this.root=t;this.path=e;this.stickiness=i}get offset(){return Ca(this.path)}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++){t=t.getChild(t.offsetToIndex(this.path[e]));if(!t){throw new ss["b"]("model-position-path-incorrect: The position's path is incorrect.",this,{position:this})}}if(t.is("text")){throw new ss["b"]("model-position-path-incorrect: The position's path is incorrect.",this,{position:this})}return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const t=this.parent.getChild(this.index);return t instanceof Lh&&t.startOffset<this.offset?t:null}get nodeAfter(){return this.textNode===null?this.parent.getChild(this.index):null}get nodeBefore(){return this.textNode===null?this.parent.getChild(this.index-1):null}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root){return"different"}const e=Vs(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const i=new Wh(e);i.skip(t);return i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){if(this.parent.is("documentFragment")){return[this.parent]}else{return this.parent.getAncestors({includeSelf:true})}}getCommonPath(t){if(this.root!=t.root){return[]}const e=Vs(this.path,t.path);const i=typeof e=="string"?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,i)}getCommonAncestor(t){const e=this.getAncestors();const i=t.getAncestors();let n=0;while(e[n]==i[n]&&e[n]){n++}return n===0?null:e[n-1]}getShiftedBy(t){const e=this.clone();const i=e.offset+t;e.offset=i<0?0:i;return e}isAfter(t){return this.compareWith(t)=="after"}isBefore(t){return this.compareWith(t)=="before"}isEqual(t){return this.compareWith(t)=="same"}isTouching(t){let e=null;let i=null;const n=this.compareWith(t);switch(n){case"same":return true;case"before":e=Uh._createAt(this);i=Uh._createAt(t);break;case"after":e=Uh._createAt(t);i=Uh._createAt(this);break;default:return false}let o=e.parent;while(e.path.length+i.path.length){if(e.isEqual(i)){return true}if(e.path.length>i.path.length){if(e.offset!==o.maxOffset){return false}e.path=e.path.slice(0,-1);o=o.parent;e.offset++}else{if(i.offset!==0){return false}i.path=i.path.slice(0,-1)}}}is(t){return t=="position"||t=="model:position"}hasSameParentAs(t){if(this.root!==t.root){return false}const e=this.getParentPath();const i=t.getParentPath();return Vs(e,i)=="same"}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=Uh._createAt(this);break}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;const i=e.containsPosition(this)||e.start.isEqual(this)&&this.stickiness=="toNext";if(i){return this._getCombined(t.splitPosition,t.moveTargetPosition)}else{if(t.graveyardPosition){return this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1)}else{return this._getTransformedByInsertion(t.insertionPosition,1)}}}_getTransformedByMergeOperation(t){const e=t.movedRange;const i=e.containsPosition(this)||e.start.isEqual(this);let n;if(i){n=this._getCombined(t.sourcePosition,t.targetPosition);if(t.sourcePosition.isBefore(t.targetPosition)){n=n._getTransformedByDeletion(t.deletionPosition,1)}}else if(this.isEqual(t.deletionPosition)){n=Uh._createAt(t.deletionPosition)}else{n=this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1)}return n}_getTransformedByDeletion(t,e){const i=Uh._createAt(this);if(this.root!=t.root){return i}if(Vs(t.getParentPath(),this.getParentPath())=="same"){if(t.offset<this.offset){if(t.offset+e>this.offset){return null}else{i.offset-=e}}}else if(Vs(t.getParentPath(),this.getParentPath())=="prefix"){const n=t.path.length-1;if(t.offset<=this.path[n]){if(t.offset+e>this.path[n]){return null}else{i.path[n]-=e}}}return i}_getTransformedByInsertion(t,e){const i=Uh._createAt(this);if(this.root!=t.root){return i}if(Vs(t.getParentPath(),this.getParentPath())=="same"){if(t.offset<this.offset||t.offset==this.offset&&this.stickiness!="toPrevious"){i.offset+=e}}else if(Vs(t.getParentPath(),this.getParentPath())=="prefix"){const n=t.path.length-1;if(t.offset<=this.path[n]){i.path[n]+=e}}return i}_getTransformedByMove(t,e,i){e=e._getTransformedByDeletion(t,i);if(t.isEqual(e)){return Uh._createAt(this)}const n=this._getTransformedByDeletion(t,i);const o=n===null||t.isEqual(this)&&this.stickiness=="toNext"||t.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious";if(o){return this._getCombined(t,e)}else{return n._getTransformedByInsertion(e,i)}}_getCombined(t,e){const i=t.path.length-1;const n=Uh._createAt(e);n.stickiness=this.stickiness;n.offset=n.offset+this.path[i]-t.offset;n.path=n.path.concat(this.path.slice(i+1));return n}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,i="toNone"){if(t instanceof Uh){return new Uh(t.root,t.path,t.stickiness)}else{const n=t;if(e=="end"){e=n.maxOffset}else if(e=="before"){return this._createBefore(n,i)}else if(e=="after"){return this._createAfter(n,i)}else if(e!==0&&!e){throw new ss["b"]("model-createPositionAt-offset-required: "+"Model#createPositionAt() requires the offset when the first parameter is a model item.",[this,t])}if(!n.is("element")&&!n.is("documentFragment")){throw new ss["b"]("model-position-parent-incorrect: Position parent have to be a element or document fragment.",[this,t])}const o=n.getPath();o.push(e);return new this(n.root,o,i)}}static _createAfter(t,e){if(!t.parent){throw new ss["b"]("model-position-after-root: You cannot make a position after root.",[this,t],{root:t})}return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent){throw new ss["b"]("model-position-before-root: You cannot make a position before root.",t,{root:t})}return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if(t.root==="$graveyard"){const i=new Uh(e.graveyard,t.path);i.stickiness=t.stickiness;return i}if(!e.getRoot(t.root)){throw new ss["b"]("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",e,{rootName:t.root})}return new Uh(e.getRoot(t.root),t.path,t.stickiness)}}class $h{constructor(t,e=null){this.start=Uh._createAt(t);this.end=e?Uh._createAt(e):Uh._createAt(t);this.start.stickiness=this.isCollapsed?"toNone":"toNext";this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Wh({boundaries:this,ignoreElementEnd:true})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const t=this.start.getParentPath();const e=this.end.getParentPath();return Vs(t,e)=="same"}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=false){if(t.isCollapsed){e=false}const i=this.containsPosition(t.start)||e&&this.start.isEqual(t.start);const n=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return i&&n}containsItem(t){const e=Uh._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}is(t){return t=="range"||t=="model:range"}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];if(this.isIntersecting(t)){if(this.containsPosition(t.start)){e.push(new $h(this.start,t.start))}if(this.containsPosition(t.end)){e.push(new $h(t.end,this.end))}}else{e.push(new $h(this.start,this.end))}return e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start;let i=this.end;if(this.containsPosition(t.start)){e=t.start}if(this.containsPosition(t.end)){i=t.end}return new $h(e,i)}return null}getMinimalFlatRanges(){const t=[];const e=this.start.getCommonPath(this.end).length;const i=Uh._createAt(this.start);let n=i.parent;while(i.path.length>e+1){const e=n.maxOffset-i.offset;if(e!==0){t.push(new $h(i,i.getShiftedBy(e)))}i.path=i.path.slice(0,-1);i.offset++;n=n.parent}while(i.path.length<=this.end.path.length){const e=this.end.path[i.path.length-1];const n=e-i.offset;if(n!==0){t.push(new $h(i,i.getShiftedBy(n)))}i.offset=e;i.path.push(0)}return t}getWalker(t={}){t.boundaries=this;return new Wh(t)}*getItems(t={}){t.boundaries=this;t.ignoreElementEnd=true;const e=new Wh(t);for(const t of e){yield t.item}}*getPositions(t={}){t.boundaries=this;const e=new Wh(t);yield e.position;for(const t of e){yield t.nextPosition}}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new $h(this.start,this.end)]}getTransformedByOperations(t){const e=[new $h(this.start,this.end)];for(const i of t){for(let t=0;t<e.length;t++){const n=e[t].getTransformedByOperation(i);e.splice(t,1,...n);t+=n.length-1}}for(let t=0;t<e.length;t++){const i=e[t];for(let n=t+1;n<e.length;n++){const t=e[n];if(i.containsRange(t)||t.containsRange(i)||i.isEqual(t)){e.splice(n,1)}}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed){return null}const t=this.start.nodeAfter;const e=this.end.nodeBefore;if(t&&t.is("element")&&t===e){return t}return null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=false){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=false){const i=t.sourcePosition;const n=t.howMany;const o=t.targetPosition;return this._getTransformedByMove(i,o,n,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let i=this.end._getTransformedBySplitOperation(t);if(this.end.isEqual(t.insertionPosition)){i=this.end.getShiftedBy(1)}if(e.root!=i.root){i=this.end.getShiftedBy(-1)}return new $h(e,i)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition)){return new $h(this.start)}let e=this.start._getTransformedByMergeOperation(t);let i=this.end._getTransformedByMergeOperation(t);if(e.root!=i.root){i=this.end.getShiftedBy(-1)}if(e.isAfter(i)){if(t.sourcePosition.isBefore(t.targetPosition)){e=Uh._createAt(i);e.offset=0}else{if(!t.deletionPosition.isEqual(e)){i=t.deletionPosition}e=t.targetPosition}return new $h(e,i)}return new $h(e,i)}_getTransformedByInsertion(t,e,i=false){if(i&&this.containsPosition(t)){return[new $h(this.start,t),new $h(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))]}else{const i=new $h(this.start,this.end);i.start=i.start._getTransformedByInsertion(t,e);i.end=i.end._getTransformedByInsertion(t,e);return[i]}}_getTransformedByMove(t,e,i,n=false){if(this.isCollapsed){const n=this.start._getTransformedByMove(t,e,i);return[new $h(n)]}const o=$h._createFromPositionAndShift(t,i);const r=e._getTransformedByDeletion(t,i);if(this.containsPosition(e)&&!n){if(o.containsPosition(this.start)||o.containsPosition(this.end)){const n=this.start._getTransformedByMove(t,e,i);const o=this.end._getTransformedByMove(t,e,i);return[new $h(n,o)]}}let s;const a=this.getDifference(o);let c=null;const l=this.getIntersection(o);if(a.length==1){c=new $h(a[0].start._getTransformedByDeletion(t,i),a[0].end._getTransformedByDeletion(t,i))}else if(a.length==2){c=new $h(this.start,this.end._getTransformedByDeletion(t,i))}if(c){s=c._getTransformedByInsertion(r,i,l!==null||n)}else{s=[]}if(l){const t=new $h(l.start._getCombined(o.start,r),l.end._getCombined(o.start,r));if(s.length==2){s.splice(1,0,t)}else{s.push(t)}}return s}_getTransformedByDeletion(t,e){let i=this.start._getTransformedByDeletion(t,e);let n=this.end._getTransformedByDeletion(t,e);if(i==null&&n==null){return null}if(i==null){i=t}if(n==null){n=t}return new $h(i,n)}static _createFromPositionAndShift(t,e){const i=t;const n=t.getShiftedBy(e);return e>0?new this(i,n):new this(n,i)}static _createIn(t){return new this(Uh._createAt(t,0),Uh._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(Uh._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(t.length===0){throw new ss["b"]("range-create-from-ranges-empty-array: At least one range has to be passed.",null)}else if(t.length==1){return t[0].clone()}const e=t[0];t.sort((t,e)=>t.start.isAfter(e.start)?1:-1);const i=t.indexOf(e);const n=new this(e.start,e.end);if(i>0){for(let e=i-1;true;e++){if(t[e].end.isEqual(n.start)){n.start=Uh._createAt(t[e].start)}else{break}}}for(let e=i+1;e<t.length;e++){if(t[e].start.isEqual(n.end)){n.end=Uh._createAt(t[e].end)}else{break}}return n}static fromJSON(t,e){return new this(Uh.fromJSON(t.start,e),Uh.fromJSON(t.end,e))}}class Gh{constructor(){this._modelToViewMapping=new WeakMap;this._viewToModelMapping=new WeakMap;this._viewToModelLengthCallbacks=new Map;this._markerNameToElements=new Map;this._elementToMarkerNames=new Map;this._unboundMarkerNames=new Set;this.on("modelToViewPosition",(t,e)=>{if(e.viewPosition){return}const i=this._modelToViewMapping.get(e.modelPosition.parent);e.viewPosition=this._findPositionIn(i,e.modelPosition.offset)},{priority:"low"});this.on("viewToModelPosition",(t,e)=>{if(e.modelPosition){return}const i=this.findMappedViewAncestor(e.viewPosition);const n=this._viewToModelMapping.get(i);const o=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,i);e.modelPosition=Uh._createAt(n,o)},{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e);this._viewToModelMapping.set(e,t)}unbindViewElement(t){const e=this.toModelElement(t);this._viewToModelMapping.delete(t);if(this._elementToMarkerNames.has(t)){for(const e of this._elementToMarkerNames.get(t)){this._unboundMarkerNames.add(e)}}if(this._modelToViewMapping.get(e)==t){this._modelToViewMapping.delete(e)}}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t);if(this._viewToModelMapping.get(e)==t){this._viewToModelMapping.delete(e)}}bindElementToMarker(t,e){const i=this._markerNameToElements.get(e)||new Set;i.add(t);const n=this._elementToMarkerNames.get(t)||new Set;n.add(e);this._markerNameToElements.set(e,i);this._elementToMarkerNames.set(t,n)}unbindElementFromMarkerName(t,e){const i=this._markerNameToElements.get(e);if(i){i.delete(t);if(i.size==0){this._markerNameToElements.delete(e)}}const n=this._elementToMarkerNames.get(t);if(n){n.delete(e);if(n.size==0){this._elementToMarkerNames.delete(t)}}}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);this._unboundMarkerNames.clear();return t}clearBindings(){this._modelToViewMapping=new WeakMap;this._viewToModelMapping=new WeakMap;this._markerNameToElements=new Map;this._elementToMarkerNames=new Map;this._unboundMarkerNames=new Set}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new $h(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new ul(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};this.fire("viewToModelPosition",e);return e.modelPosition}toViewPosition(t,e={isPhantom:false}){const i={modelPosition:t,mapper:this,isPhantom:e.isPhantom};this.fire("modelToViewPosition",i);return i.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e){return null}const i=new Set;for(const t of e){if(t.is("attributeElement")){for(const e of t.getElementsWithSameId()){i.add(e)}}else{i.add(t)}}return i}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;while(!this._viewToModelMapping.has(e)){e=e.parent}return e}_toModelOffset(t,e,i){if(i!=t){const n=this._toModelOffset(t.parent,t.index,i);const o=this._toModelOffset(t,e,t);return n+o}if(t.is("text")){return e}let n=0;for(let i=0;i<e;i++){n+=this.getModelLength(t.getChild(i))}return n}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name)){const e=this._viewToModelLengthCallbacks.get(t.name);return e(t)}else if(this._viewToModelMapping.has(t)){return 1}else if(t.is("text")){return t.data.length}else if(t.is("uiElement")){return 0}else{let e=0;for(const i of t.getChildren()){e+=this.getModelLength(i)}return e}}_findPositionIn(t,e){let i;let n=0;let o=0;let r=0;if(t.is("text")){return new dl(t,e)}while(o<e){i=t.getChild(r);n=this.getModelLength(i);o+=n;r++}if(o==e){return this._moveViewPositionToTextNode(new dl(t,r))}else{return this._findPositionIn(i,e-(o-n))}}_moveViewPositionToTextNode(t){const e=t.nodeBefore;const i=t.nodeAfter;if(e instanceof Ls){return new dl(e,e.data.length)}else if(i instanceof Ls){return new dl(i,0)}return t}}vs(Gh,ds);class Kh{constructor(){this._consumable=new Map;this._textProxyRegistry=new Map}add(t,e){e=Jh(e);if(t instanceof Fh){t=this._getSymbolForTextProxy(t)}if(!this._consumable.has(t)){this._consumable.set(t,new Map)}this._consumable.get(t).set(e,true)}consume(t,e){e=Jh(e);if(t instanceof Fh){t=this._getSymbolForTextProxy(t)}if(this.test(t,e)){this._consumable.get(t).set(e,false);return true}else{return false}}test(t,e){e=Jh(e);if(t instanceof Fh){t=this._getSymbolForTextProxy(t)}const i=this._consumable.get(t);if(i===undefined){return null}const n=i.get(e);if(n===undefined){return null}return n}revert(t,e){e=Jh(e);if(t instanceof Fh){t=this._getSymbolForTextProxy(t)}const i=this.test(t,e);if(i===false){this._consumable.get(t).set(e,true);return true}else if(i===true){return false}return null}_getSymbolForTextProxy(t){let e=null;const i=this._textProxyRegistry.get(t.startOffset);if(i){const n=i.get(t.endOffset);if(n){e=n.get(t.parent)}}if(!e){e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)}return e}_addSymbolForTextProxy(t,e,i){const n=Symbol("textProxySymbol");let o,r;o=this._textProxyRegistry.get(t);if(!o){o=new Map;this._textProxyRegistry.set(t,o)}r=o.get(e);if(!r){r=new Map;o.set(e,r)}r.set(i,n);return n}}function Jh(t){const e=t.split(":");return e.length>1?e[0]+":"+e[1]:e[0]}class Yh{constructor(t){this.conversionApi=qc({dispatcher:this},t)}convertChanges(t,e,i){for(const e of t.getMarkersToRemove()){this.convertMarkerRemove(e.name,e.range,i)}for(const e of t.getChanges()){if(e.type=="insert"){this.convertInsert($h._createFromPositionAndShift(e.position,e.length),i)}else if(e.type=="remove"){this.convertRemove(e.position,e.length,e.name,i)}else{this.convertAttribute(e.range,e.attributeKey,e.attributeOldValue,e.attributeNewValue,i)}}for(const t of this.conversionApi.mapper.flushUnboundMarkerNames()){const n=e.get(t).getRange();this.convertMarkerRemove(t,n,i);this.convertMarkerAdd(t,n,i)}for(const e of t.getMarkersToAdd()){this.convertMarkerAdd(e.name,e.range,i)}}convertInsert(t,e){this.conversionApi.writer=e;this.conversionApi.consumable=this._createInsertConsumable(t);for(const e of t){const t=e.item;const i=$h._createFromPositionAndShift(e.previousPosition,e.length);const n={item:t,range:i};this._testAndFire("insert",n);for(const e of t.getAttributeKeys()){n.attributeKey=e;n.attributeOldValue=null;n.attributeNewValue=t.getAttribute(e);this._testAndFire(`attribute:${e}`,n)}}this._clearConversionApi()}convertRemove(t,e,i,n){this.conversionApi.writer=n;this.fire("remove:"+i,{position:t,length:e},this.conversionApi);this._clearConversionApi()}convertAttribute(t,e,i,n,o){this.conversionApi.writer=o;this.conversionApi.consumable=this._createConsumableForRange(t,`attribute:${e}`);for(const o of t){const t=o.item;const r=$h._createFromPositionAndShift(o.previousPosition,o.length);const s={item:t,range:r,attributeKey:e,attributeOldValue:i,attributeNewValue:n};this._testAndFire(`attribute:${e}`,s)}this._clearConversionApi()}convertSelection(t,e,i){const n=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));this.conversionApi.writer=i;this.conversionApi.consumable=this._createSelectionConsumable(t,n);this.fire("selection",{selection:t},this.conversionApi);if(!t.isCollapsed){return}for(const e of n){const i=e.getRange();if(!Qh(t.getFirstPosition(),e,this.conversionApi.mapper)){continue}const n={item:t,markerName:e.name,markerRange:i};if(this.conversionApi.consumable.test(t,"addMarker:"+e.name)){this.fire("addMarker:"+e.name,n,this.conversionApi)}}for(const e of t.getAttributeKeys()){const i={item:t,range:t.getFirstRange(),attributeKey:e,attributeOldValue:null,attributeNewValue:t.getAttribute(e)};if(this.conversionApi.consumable.test(t,"attribute:"+i.attributeKey)){this.fire("attribute:"+i.attributeKey+":$text",i,this.conversionApi)}}this._clearConversionApi()}convertMarkerAdd(t,e,i){if(!e.root.document||e.root.rootName=="$graveyard"){return}this.conversionApi.writer=i;const n="addMarker:"+t;const o=new Kh;o.add(e,n);this.conversionApi.consumable=o;this.fire(n,{markerName:t,markerRange:e},this.conversionApi);if(!o.test(e,n)){return}this.conversionApi.consumable=this._createConsumableForRange(e,n);for(const i of e.getItems()){if(!this.conversionApi.consumable.test(i,n)){continue}const o={item:i,range:$h._createOn(i),markerName:t,markerRange:e};this.fire(n,o,this.conversionApi)}this._clearConversionApi()}convertMarkerRemove(t,e,i){if(!e.root.document||e.root.rootName=="$graveyard"){return}this.conversionApi.writer=i;this.fire("removeMarker:"+t,{markerName:t,markerRange:e},this.conversionApi);this._clearConversionApi()}_createInsertConsumable(t){const e=new Kh;for(const i of t){const t=i.item;e.add(t,"insert");for(const i of t.getAttributeKeys()){e.add(t,"attribute:"+i)}}return e}_createConsumableForRange(t,e){const i=new Kh;for(const n of t.getItems()){i.add(n,e)}return i}_createSelectionConsumable(t,e){const i=new Kh;i.add(t,"selection");for(const n of e){i.add(t,"addMarker:"+n.name)}for(const e of t.getAttributeKeys()){i.add(t,"attribute:"+e)}return i}_testAndFire(t,e){if(!this.conversionApi.consumable.test(e.item,t)){return}const i=e.item.name||"$text";this.fire(t+":"+i,e,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer;delete this.conversionApi.consumable}}vs(Yh,ds);function Qh(t,e,i){const n=e.getRange();const o=Array.from(t.getAncestors());o.shift();o.reverse();const r=o.some(t=>{if(n.containsItem(t)){const e=i.toViewElement(t);return!!e.getCustomProperty("addHighlight")}});return!r}class Xh{constructor(t,e,i){this._lastRangeBackward=false;this._ranges=[];this._attrs=new Map;if(t){this.setTo(t,e,i)}}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){const t=this._ranges.length;if(t===1){return this._ranges[0].isCollapsed}else{return false}}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount){return false}else if(this.rangeCount===0){return true}if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus)){return false}for(const e of this._ranges){let i=false;for(const n of t._ranges){if(e.isEqual(n)){i=true;break}}if(!i){return false}}return true}*getRanges(){for(const t of this._ranges){yield new $h(t.start,t.end)}}getFirstRange(){let t=null;for(const e of this._ranges){if(!t||e.start.isBefore(t.start)){t=e}}return t?new $h(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges){if(!t||e.end.isAfter(t.end)){t=e}}return t?new $h(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(t,e,i){if(t===null){this._setRanges([])}else if(t instanceof Xh){this._setRanges(t.getRanges(),t.isBackward)}else if(t&&typeof t.getRanges=="function"){this._setRanges(t.getRanges(),t.isBackward)}else if(t instanceof $h){this._setRanges([t],!!e&&!!e.backward)}else if(t instanceof Uh){this._setRanges([new $h(t)])}else if(t instanceof zh){const n=!!i&&!!i.backward;let o;if(e=="in"){o=$h._createIn(t)}else if(e=="on"){o=$h._createOn(t)}else if(e!==undefined){o=new $h(Uh._createAt(t,e))}else{throw new ss["b"]("model-selection-setTo-required-second-parameter: "+"selection.setTo requires the second parameter when the first parameter is a node.",[this,t])}this._setRanges([o],n)}else if(js(t)){this._setRanges(t,e&&!!e.backward)}else{throw new ss["b"]("model-selection-setTo-not-selectable: Cannot set the selection to the given place.",[this,t])}}_setRanges(t,e=false){t=Array.from(t);const i=t.some(e=>{if(!(e instanceof $h)){throw new ss["b"]("model-selection-set-ranges-not-range: "+"Selection range set to an object that is not an instance of model.Range.",[this,t])}return this._ranges.every(t=>!t.isEqual(e))});if(t.length===this._ranges.length&&!i){return}this._removeAllRanges();for(const e of t){this._pushRange(e)}this._lastRangeBackward=!!e;this.fire("change:range",{directChange:true})}setFocus(t,e){if(this.anchor===null){throw new ss["b"]("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",[this,t])}const i=Uh._createAt(t,e);if(i.compareWith(this.focus)=="same"){return}const n=this.anchor;if(this._ranges.length){this._popRange()}if(i.compareWith(n)=="before"){this._pushRange(new $h(i,n));this._lastRangeBackward=true}else{this._pushRange(new $h(n,i));this._lastRangeBackward=false}this.fire("change:range",{directChange:true})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){if(this.hasAttribute(t)){this._attrs.delete(t);this.fire("change:attribute",{attributeKeys:[t],directChange:true})}}setAttribute(t,e){if(this.getAttribute(t)!==e){this._attrs.set(t,e);this.fire("change:attribute",{attributeKeys:[t],directChange:true})}}getSelectedElement(){if(this.rangeCount!==1){return null}return this.getFirstRange().getContainedElement()}is(t){return t=="selection"||t=="model:selection"}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const i=ef(e.start,t);if(i&&nf(i,e)){yield i}for(const i of e.getWalker()){const n=i.item;if(i.type=="elementEnd"&&tf(n,t,e)){yield n}}const n=ef(e.end,t);if(n&&!e.end.isTouching(Uh._createAt(n,0))&&nf(n,e)){yield n}}}containsEntireContent(t=this.anchor.root){const e=Uh._createAt(t,0);const i=Uh._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t);this._ranges.push(new $h(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++){if(t.isIntersecting(this._ranges[e])){throw new ss["b"]("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}}}_removeAllRanges(){while(this._ranges.length>0){this._popRange()}}_popRange(){this._ranges.pop()}}vs(Xh,ds);function Zh(t,e){if(e.has(t)){return false}e.add(t);return t.root.document.model.schema.isBlock(t)&&t.parent}function tf(t,e,i){return Zh(t,e)&&nf(t,i)}function ef(t,e){const i=t.parent;const n=i.root.document.model.schema;const o=t.parent.getAncestors({parentFirst:true,includeSelf:true});let r=false;const s=o.find(t=>{if(r){return false}r=n.isLimit(t);return!r&&Zh(t,e)});o.forEach(t=>e.add(t));return s}function nf(t,e){const i=of(t);if(!i){return true}const n=e.containsRange($h._createOn(i),true);return!n}function of(t){const e=t.root.document.model.schema;let i=t.parent;while(i){if(e.isBlock(i)){return i}i=i.parent}}class rf extends $h{constructor(t,e){super(t,e);sf.call(this)}detach(){this.stopListening()}is(t){return t=="liveRange"||t=="model:liveRange"||super.is(t)}toRange(){return new $h(this.start,this.end)}static fromRange(t){return new rf(t.start,t.end)}}function sf(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const i=e[0];if(!i.isDocumentOperation){return}af.call(this,i)},{priority:"low"})}function af(t){const e=this.getTransformedByOperation(t);const i=$h._createFromRanges(e);const n=!i.isEqual(this);const o=cf(this,t);let r=null;if(n){if(i.root.rootName=="$graveyard"){if(t.type=="remove"){r=t.sourcePosition}else{r=t.deletionPosition}}const e=this.toRange();this.start=i.start;this.end=i.end;this.fire("change:range",e,{deletionPosition:r})}else if(o){this.fire("change:content",this.toRange(),{deletionPosition:r})}}function cf(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return false}vs(rf,ds);const lf="selection:";class df{constructor(t){this._selection=new uf(t);this._selection.delegate("change:range").to(this);this._selection.delegate("change:attribute").to(this);this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection._updateMarkers();this._selection._updateAttributes(false)}is(t){return t=="selection"||t=="model:selection"||t=="documentSelection"||t=="model:documentSelection"}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(t,e,i){this._selection.setTo(t,e,i)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return lf+t}static _isStoreAttributeKey(t){return t.startsWith(lf)}}vs(df,ds);class uf extends Xh{constructor(t){super();this.markers=new ys({idProperty:"name"});this._model=t.model;this._document=t;this._attributePriority=new Map;this._fixGraveyardRangesData=[];this._hasChangedRange=false;this._overriddenGravityRegister=new Set;this.listenTo(this._model,"applyOperation",(t,e)=>{const i=e[0];if(!i.isDocumentOperation||i.type=="marker"||i.type=="rename"||i.type=="noop"){return}while(this._fixGraveyardRangesData.length){const{liveRange:t,sourcePosition:e}=this._fixGraveyardRangesData.shift();this._fixGraveyardSelection(t,e)}if(this._hasChangedRange){this._hasChangedRange=false;this.fire("change:range",{directChange:false})}},{priority:"lowest"});this.on("change:range",()=>{for(const t of this.getRanges()){if(!this._document._validateSelectionRange(t)){throw new ss["b"]("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",this,{range:t})}}});this.listenTo(this._model.markers,"update",()=>this._updateMarkers());this.listenTo(this._document,"change",(t,e)=>{ff(this._model,e)})}get isCollapsed(){const t=this._ranges.length;return t===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++){this._ranges[t].detach()}this.stopListening()}*getRanges(){if(this._ranges.length){yield*super.getRanges()}else{yield this._document._getDefaultRange()}}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(t,e,i){super.setTo(t,e,i);this._updateAttributes(true);this._updateMarkers()}setFocus(t,e){super.setFocus(t,e);this._updateAttributes(true);this._updateMarkers()}setAttribute(t,e){if(this._setAttribute(t,e)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:true})}}removeAttribute(t){if(this._removeAttribute(t)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:true})}}overrideGravity(){const t=is();this._overriddenGravityRegister.add(t);if(this._overriddenGravityRegister.size===1){this._updateAttributes(true)}return t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t)){throw new ss["b"]("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",this,{uid:t})}this._overriddenGravityRegister.delete(t);if(!this.isGravityOverridden){this._updateAttributes(true)}}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);if(e){this._ranges.push(e)}}_prepareRange(t){this._checkRange(t);if(t.root==this._document.graveyard){return}const e=rf.fromRange(t);e.on("change:range",(t,i,n)=>{this._hasChangedRange=true;if(e.root==this._document.graveyard){this._fixGraveyardRangesData.push({liveRange:e,sourcePosition:n.deletionPosition})}});return e}_updateMarkers(){const t=[];let e=false;for(const e of this._model.markers){const i=e.getRange();for(const n of this.getRanges()){if(i.containsRange(n,!n.isCollapsed)){t.push(e)}}}const i=Array.from(this.markers);for(const i of t){if(!this.markers.has(i)){this.markers.add(i);e=true}}for(const i of Array.from(this.markers)){if(!t.includes(i)){this.markers.remove(i);e=true}}if(e){this.fire("change:marker",{oldMarkers:i,directChange:false})}}_updateAttributes(t){const e=Hs(this._getSurroundingAttributes());const i=Hs(this.getAttributes());if(t){this._attributePriority=new Map;this._attrs=new Map}else{for(const[t,e]of this._attributePriority){if(e=="low"){this._attrs.delete(t);this._attributePriority.delete(t)}}}this._setAttributesTo(e);const n=[];for(const[t,e]of this.getAttributes()){if(!i.has(t)||i.get(t)!==e){n.push(t)}}for(const[t]of i){if(!this.hasAttribute(t)){n.push(t)}}if(n.length>0){this.fire("change:attribute",{attributeKeys:n,directChange:false})}}_setAttribute(t,e,i=true){const n=i?"normal":"low";if(n=="low"&&this._attributePriority.get(t)=="normal"){return false}const o=super.getAttribute(t);if(o===e){return false}this._attrs.set(t,e);this._attributePriority.set(t,n);return true}_removeAttribute(t,e=true){const i=e?"normal":"low";if(i=="low"&&this._attributePriority.get(t)=="normal"){return false}this._attributePriority.set(t,i);if(!super.hasAttribute(t)){return false}this._attrs.delete(t);return true}_setAttributesTo(t){const e=new Set;for(const[e,i]of this.getAttributes()){if(t.get(e)===i){continue}this._removeAttribute(e,false)}for(const[i,n]of t){const t=this._setAttribute(i,n,false);if(t){e.add(i)}}return e}*_getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty){for(const e of t.getAttributeKeys()){if(e.startsWith(lf)){const i=e.substr(lf.length);yield[i,t.getAttribute(e)]}}}}_getSurroundingAttributes(){const t=this.getFirstPosition();const e=this._model.schema;let i=null;if(!this.isCollapsed){const t=this.getFirstRange();for(const n of t){if(n.item.is("element")&&e.isObject(n.item)){break}if(n.type=="text"){i=n.item.getAttributes();break}}}else{const e=t.textNode?t.textNode:t.nodeBefore;const n=t.textNode?t.textNode:t.nodeAfter;if(!this.isGravityOverridden){i=hf(e)}if(!i){i=hf(n)}if(!this.isGravityOverridden&&!i){let t=e;while(t&&!i){t=t.previousSibling;i=hf(t)}}if(!i){let t=n;while(t&&!i){t=t.nextSibling;i=hf(t)}}if(!i){i=this._getStoredAttributes()}}return i}_fixGraveyardSelection(t,e){const i=e.clone();const n=this._model.schema.getNearestSelectionRange(i);const o=this._ranges.indexOf(t);this._ranges.splice(o,1);t.detach();if(n){const t=this._prepareRange(n);this._ranges.splice(o,0,t)}}}function hf(t){if(t instanceof Fh||t instanceof Lh){return t.getAttributes()}return null}function ff(t,e){const i=t.document.differ;for(const n of i.getChanges()){if(n.type!="insert"){continue}const i=n.position.parent;const o=n.length===i.maxOffset;if(o){t.enqueueChange(e,t=>{const e=Array.from(i.getAttributeKeys()).filter(t=>t.startsWith(lf));for(const n of e){t.removeAttribute(n,i)}})}}}class gf{constructor(t){this._dispatchers=t}add(t){for(const e of this._dispatchers){t(e)}return this}}var mf=1,pf=4;function bf(t){return Hr(t,mf|pf)}var wf=bf;class kf extends gf{elementToElement(t){return this.add(Nf(t))}attributeToElement(t){return this.add(Mf(t))}attributeToAttribute(t){return this.add(Bf(t))}markerToElement(t){return this.add(zf(t))}markerToHighlight(t){return this.add(Lf(t))}}function _f(){return(t,e,i)=>{if(!i.consumable.consume(e.item,"insert")){return}const n=i.writer;const o=i.mapper.toViewPosition(e.range.start);const r=n.createText(e.item.data);n.insert(o,r)}}function vf(){return(t,e,i)=>{const n=i.mapper.toViewPosition(e.position);const o=e.position.getShiftedBy(e.length);const r=i.mapper.toViewPosition(o,{isPhantom:true});const s=i.writer.createRange(n,r);const a=i.writer.remove(s.getTrimmed());for(const t of i.writer.createRangeIn(a).getItems()){i.mapper.unbindViewElement(t)}}}function yf(t,e){const i=t.createAttributeElement("span",e.attributes);if(e.classes){i._addClass(e.classes)}if(e.priority){i._priority=e.priority}i._id=e.id;return i}function xf(){return(t,e,i)=>{const n=e.selection;if(n.isCollapsed){return}if(!i.consumable.consume(n,"selection")){return}const o=[];for(const t of n.getRanges()){const e=i.mapper.toViewRange(t);o.push(e)}i.writer.setSelection(o,{backward:n.isBackward})}}function Cf(){return(t,e,i)=>{const n=e.selection;if(!n.isCollapsed){return}if(!i.consumable.consume(n,"selection")){return}const o=i.writer;const r=n.getFirstPosition();const s=i.mapper.toViewPosition(r);const a=o.breakAttributes(s);o.setSelection(a)}}function Af(){return(t,e,i)=>{const n=i.writer;const o=n.document.selection;for(const t of o.getRanges()){if(t.isCollapsed){if(t.end.parent.isAttached()){i.writer.mergeAttributes(t.start)}}}n.setSelection(null)}}function Tf(t){return(e,i,n)=>{const o=t(i.attributeOldValue,n.writer);const r=t(i.attributeNewValue,n.writer);if(!o&&!r){return}if(!n.consumable.consume(i.item,e.name)){return}const s=n.writer;const a=s.document.selection;if(i.item instanceof Xh||i.item instanceof df){s.wrap(a.getFirstRange(),r)}else{let t=n.mapper.toViewRange(i.range);if(i.attributeOldValue!==null&&o){t=s.unwrap(t,o)}if(i.attributeNewValue!==null&&r){s.wrap(t,r)}}}}function Pf(t){return(e,i,n)=>{const o=t(i.item,n.writer);if(!o){return}if(!n.consumable.consume(i.item,"insert")){return}const r=n.mapper.toViewPosition(i.range.start);n.mapper.bindElements(i.item,o);n.writer.insert(r,o)}}function Sf(t){return(e,i,n)=>{i.isOpening=true;const o=t(i,n.writer);i.isOpening=false;const r=t(i,n.writer);if(!o||!r){return}const s=i.markerRange;if(s.isCollapsed&&!n.consumable.consume(s,e.name)){return}for(const t of s){if(!n.consumable.consume(t.item,e.name)){return}}const a=n.mapper;const c=n.writer;c.insert(a.toViewPosition(s.start),o);n.mapper.bindElementToMarker(o,i.markerName);if(!s.isCollapsed){c.insert(a.toViewPosition(s.end),r);n.mapper.bindElementToMarker(r,i.markerName)}e.stop()}}function Ef(){return(t,e,i)=>{const n=i.mapper.markerNameToElements(e.markerName);if(!n){return}for(const t of n){i.mapper.unbindElementFromMarkerName(t,e.markerName);i.writer.clear(i.writer.createRangeOn(t),t)}i.writer.clearClonedElementsGroup(e.markerName);t.stop()}}function Rf(t){return(e,i,n)=>{const o=t(i.attributeOldValue,i);const r=t(i.attributeNewValue,i);if(!o&&!r){return}if(!n.consumable.consume(i.item,e.name)){return}const s=n.mapper.toViewElement(i.item);const a=n.writer;if(!s){throw new ss["b"]("conversion-attribute-to-attribute-on-text: "+"Trying to convert text node's attribute with attribute-to-attribute converter.",[i,n])}if(i.attributeOldValue!==null&&o){if(o.key=="class"){const t=Array.isArray(o.value)?o.value:[o.value];for(const e of t){a.removeClass(e,s)}}else if(o.key=="style"){const t=Object.keys(o.value);for(const e of t){a.removeStyle(e,s)}}else{a.removeAttribute(o.key,s)}}if(i.attributeNewValue!==null&&r){if(r.key=="class"){const t=Array.isArray(r.value)?r.value:[r.value];for(const e of t){a.addClass(e,s)}}else if(r.key=="style"){const t=Object.keys(r.value);for(const e of t){a.setStyle(e,r.value[e],s)}}else{a.setAttribute(r.key,r.value,s)}}}}function Of(t){return(e,i,n)=>{if(!i.item){return}if(!(i.item instanceof Xh||i.item instanceof df)&&!i.item.is("textProxy")){return}const o=Wf(t,i,n);if(!o){return}if(!n.consumable.consume(i.item,e.name)){return}const r=n.writer;const s=yf(r,o);const a=r.document.selection;if(i.item instanceof Xh||i.item instanceof df){r.wrap(a.getFirstRange(),s,a)}else{const t=n.mapper.toViewRange(i.range);const e=r.wrap(t,s);for(const t of e.getItems()){if(t.is("attributeElement")&&t.isSimilar(s)){n.mapper.bindElementToMarker(t,i.markerName);break}}}}}function If(t){return(e,i,n)=>{if(!i.item){return}if(!(i.item instanceof jh)){return}const o=Wf(t,i,n);if(!o){return}if(!n.consumable.test(i.item,e.name)){return}const r=n.mapper.toViewElement(i.item);if(r&&r.getCustomProperty("addHighlight")){n.consumable.consume(i.item,e.name);for(const t of $h._createIn(i.item)){n.consumable.consume(t.item,e.name)}r.getCustomProperty("addHighlight")(r,o,n.writer);n.mapper.bindElementToMarker(r,i.markerName)}}}function Vf(t){return(e,i,n)=>{if(i.markerRange.isCollapsed){return}const o=Wf(t,i,n);if(!o){return}const r=yf(n.writer,o);const s=n.mapper.markerNameToElements(i.markerName);if(!s){return}for(const t of s){n.mapper.unbindElementFromMarkerName(t,i.markerName);if(t.is("attributeElement")){n.writer.unwrap(n.writer.createRangeOn(t),r)}else{t.getCustomProperty("removeHighlight")(t,o.id,n.writer)}}n.writer.clearClonedElementsGroup(i.markerName);e.stop()}}function Nf(t){t=wf(t);t.view=Ff(t.view,"container");return e=>{e.on("insert:"+t.model,Pf(t.view),{priority:t.converterPriority||"normal"})}}function Mf(t){t=wf(t);const e=t.model.key?t.model.key:t.model;let i="attribute:"+e;if(t.model.name){i+=":"+t.model.name}if(t.model.values){for(const e of t.model.values){t.view[e]=Ff(t.view[e],"attribute")}}else{t.view=Ff(t.view,"attribute")}const n=jf(t);return e=>{e.on(i,Tf(n),{priority:t.converterPriority||"normal"})}}function Bf(t){t=wf(t);const e=t.model.key?t.model.key:t.model;let i="attribute:"+e;if(t.model.name){i+=":"+t.model.name}if(t.model.values){for(const e of t.model.values){t.view[e]=Hf(t.view[e])}}else{t.view=Hf(t.view)}const n=jf(t);return e=>{e.on(i,Rf(n),{priority:t.converterPriority||"normal"})}}function zf(t){t=wf(t);t.view=Ff(t.view,"ui");return e=>{e.on("addMarker:"+t.model,Sf(t.view),{priority:t.converterPriority||"normal"});e.on("removeMarker:"+t.model,Ef(t.view),{priority:t.converterPriority||"normal"})}}function Lf(t){return e=>{e.on("addMarker:"+t.model,Of(t.view),{priority:t.converterPriority||"normal"});e.on("addMarker:"+t.model,If(t.view),{priority:t.converterPriority||"normal"});e.on("removeMarker:"+t.model,Vf(t.view),{priority:t.converterPriority||"normal"})}}function Ff(t,e){if(typeof t=="function"){return t}return(i,n)=>Df(t,n,e)}function Df(t,e,i){if(typeof t=="string"){t={name:t}}let n;const o=Object.assign({},t.attributes);if(i=="container"){n=e.createContainerElement(t.name,o)}else if(i=="attribute"){const i={priority:t.priority||wl.DEFAULT_PRIORITY};n=e.createAttributeElement(t.name,o,i)}else{n=e.createUIElement(t.name,o)}if(t.styles){const i=Object.keys(t.styles);for(const o of i){e.setStyle(o,t.styles[o],n)}}if(t.classes){const i=t.classes;if(typeof i=="string"){e.addClass(i,n)}else{for(const t of i){e.addClass(t,n)}}}return n}function jf(t){if(t.model.values){return(e,i)=>{const n=t.view[e];if(n){return n(e,i)}return null}}else{return t.view}}function Hf(t){if(typeof t=="string"){return e=>({key:t,value:e})}else if(typeof t=="object"){if(t.value){return()=>t}else{return e=>({key:t.key,value:e})}}else{return t}}function Wf(t,e,i){const n=typeof t=="function"?t(e,i):t;if(!n){return null}if(!n.priority){n.priority=10}if(!n.id){n.id=e.markerName}return n}class qf extends gf{elementToElement(t){return this.add(Kf(t))}elementToAttribute(t){return this.add(Jf(t))}attributeToAttribute(t){return this.add(Yf(t))}elementToMarker(t){return this.add(Qf(t))}}function Uf(){return(t,e,i)=>{if(!e.modelRange&&i.consumable.consume(e.viewItem,{name:true})){const{modelRange:t,modelCursor:n}=i.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t;e.modelCursor=n}}}function $f(){return(t,e,i)=>{if(i.schema.checkChild(e.modelCursor,"$text")){if(i.consumable.consume(e.viewItem)){const t=i.writer.createText(e.viewItem.data);i.writer.insert(t,e.modelCursor);e.modelRange=$h._createFromPositionAndShift(e.modelCursor,t.offsetSize);e.modelCursor=e.modelRange.end}}}}function Gf(t,e){return(i,n)=>{const o=n.newSelection;const r=new Xh;const s=[];for(const t of o.getRanges()){s.push(e.toModelRange(t))}r.setTo(s,{backward:o.isBackward});if(!r.isEqual(t.document.selection)){t.change(t=>{t.setSelection(r)})}}}function Kf(t){t=wf(t);const e=Zf(t);const i=Xf(t.view);const n=i?"element:"+i:"element";return i=>{i.on(n,e,{priority:t.converterPriority||"normal"})}}function Jf(t){t=wf(t);ig(t);const e=ng(t,false);const i=Xf(t.view);const n=i?"element:"+i:"element";return i=>{i.on(n,e,{priority:t.converterPriority||"low"})}}function Yf(t){t=wf(t);let e=null;if(typeof t.view=="string"||t.view.key){e=eg(t)}ig(t,e);const i=ng(t,true);return e=>{e.on("element",i,{priority:t.converterPriority||"low"})}}function Qf(t){t=wf(t);sg(t);return Kf(t)}function Xf(t){if(typeof t=="string"){return t}if(typeof t=="object"&&typeof t.name=="string"){return t.name}return null}function Zf(t){const e=t.view?new Ws(t.view):null;return(i,n,o)=>{let r={};if(e){const t=e.match(n.viewItem);if(!t){return}r=t.match}r.name=true;const s=tg(t.model,n.viewItem,o.writer);if(!s){return}if(!o.consumable.test(n.viewItem,r)){return}const a=o.splitToAllowedParent(s,n.modelCursor);if(!a){return}o.writer.insert(s,a.position);o.convertChildren(n.viewItem,o.writer.createPositionAt(s,0));o.consumable.consume(n.viewItem,r);const c=o.getSplitParts(s);n.modelRange=new $h(o.writer.createPositionBefore(s),o.writer.createPositionAfter(c[c.length-1]));if(a.cursorParent){n.modelCursor=o.writer.createPositionAt(a.cursorParent,0)}else{n.modelCursor=n.modelRange.end}}}function tg(t,e,i){if(t instanceof Function){return t(e,i)}else{return i.createElement(t)}}function eg(t){if(typeof t.view=="string"){t.view={key:t.view}}const e=t.view.key;let i;if(e=="class"||e=="style"){const n=e=="class"?"classes":"styles";i={[n]:t.view.value}}else{const n=typeof t.view.value=="undefined"?/[\s\S]*/:t.view.value;i={attributes:{[e]:n}}}if(t.view.name){i.name=t.view.name}t.view=i;return e}function ig(t,e=null){const i=e===null?true:t=>t.getAttribute(e);const n=typeof t.model!="object"?t.model:t.model.key;const o=typeof t.model!="object"||typeof t.model.value=="undefined"?i:t.model.value;t.model={key:n,value:o}}function ng(t,e){const i=new Ws(t.view);return(n,o,r)=>{const s=i.match(o.viewItem);if(!s){return}const a=t.model.key;const c=typeof t.model.value=="function"?t.model.value(o.viewItem):t.model.value;if(c===null){return}if(og(t.view,o.viewItem)){s.match.name=true}else{delete s.match.name}if(!r.consumable.test(o.viewItem,s.match)){return}if(!o.modelRange){o=Object.assign(o,r.convertChildren(o.viewItem,o.modelCursor))}const l=rg(o.modelRange,{key:a,value:c},e,r);if(l){r.consumable.consume(o.viewItem,s.match)}}}function og(t,e){const i=typeof t=="function"?t(e):t;if(typeof i=="object"&&!Xf(i)){return false}return!i.classes&&!i.attributes&&!i.styles}function rg(t,e,i,n){let o=false;for(const r of Array.from(t.getItems({shallow:i}))){if(n.schema.checkAttribute(r,e.key)){n.writer.setAttribute(e.key,e.value,r);o=true}}return o}function sg(t){const e=t.model;t.model=(t,i)=>{const n=typeof e=="string"?e:e(t);return i.createElement("$marker",{"data-name":n})}}class ag{constructor(t,e){this.model=t;this.view=new Bh(e);this.mapper=new Gh;this.downcastDispatcher=new Yh({mapper:this.mapper});const i=this.model.document;const n=i.selection;const o=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(true)},{priority:"highest"});this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(false)},{priority:"lowest"});this.listenTo(i,"change",()=>{this.view.change(t=>{this.downcastDispatcher.convertChanges(i.differ,o,t);this.downcastDispatcher.convertSelection(n,o,t)})},{priority:"low"});this.listenTo(this.view.document,"selectionChange",Gf(this.model,this.mapper));this.downcastDispatcher.on("insert:$text",_f(),{priority:"lowest"});this.downcastDispatcher.on("remove",vf(),{priority:"low"});this.downcastDispatcher.on("selection",Af(),{priority:"low"});this.downcastDispatcher.on("selection",xf(),{priority:"low"});this.downcastDispatcher.on("selection",Cf(),{priority:"low"});this.view.document.roots.bindTo(this.model.document.roots).using(t=>{if(t.rootName=="$graveyard"){return null}const e=new cl(this.view.document,t.name);e.rootName=t.rootName;this.mapper.bindElements(t,e);return e})}destroy(){this.view.destroy();this.stopListening()}}vs(ag,Jc);class cg{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const i=this.get(t);if(!i){throw new ss["b"]("commandcollection-command-not-found: Command does not exist.",this,{commandName:t})}i.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands()){t.destroy()}}}class lg{constructor(){this._consumables=new Map}add(t,e){let i;if(t.is("text")||t.is("documentFragment")){this._consumables.set(t,true);return}if(!this._consumables.has(t)){i=new dg(t);this._consumables.set(t,i)}else{i=this._consumables.get(t)}i.add(e)}test(t,e){const i=this._consumables.get(t);if(i===undefined){return null}if(t.is("text")||t.is("documentFragment")){return i}return i.test(e)}consume(t,e){if(this.test(t,e)){if(t.is("text")||t.is("documentFragment")){this._consumables.set(t,false)}else{this._consumables.get(t).consume(e)}return true}return false}revert(t,e){const i=this._consumables.get(t);if(i!==undefined){if(t.is("text")||t.is("documentFragment")){this._consumables.set(t,true)}else{i.revert(e)}}}static consumablesFromElement(t){const e={element:t,name:true,attributes:[],classes:[],styles:[]};const i=t.getAttributeKeys();for(const t of i){if(t=="style"||t=="class"){continue}e.attributes.push(t)}const n=t.getClassNames();for(const t of n){e.classes.push(t)}const o=t.getStyleNames();for(const t of o){e.styles.push(t)}return e}static createFrom(t,e){if(!e){e=new lg(t)}if(t.is("text")){e.add(t);return e}if(t.is("element")){e.add(t,lg.consumablesFromElement(t))}if(t.is("documentFragment")){e.add(t)}for(const i of t.getChildren()){e=lg.createFrom(i,e)}return e}}class dg{constructor(t){this.element=t;this._canConsumeName=null;this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){if(t.name){this._canConsumeName=true}for(const e in this._consumables){if(e in t){this._add(e,t[e])}}}test(t){if(t.name&&!this._canConsumeName){return this._canConsumeName}for(const e in this._consumables){if(e in t){const i=this._test(e,t[e]);if(i!==true){return i}}}return true}consume(t){if(t.name){this._canConsumeName=false}for(const e in this._consumables){if(e in t){this._consume(e,t[e])}}}revert(t){if(t.name){this._canConsumeName=true}for(const e in this._consumables){if(e in t){this._revert(e,t[e])}}}_add(t,e){const i=Je(e)?e:[e];const n=this._consumables[t];for(const e of i){if(t==="attributes"&&(e==="class"||e==="style")){throw new ss["b"]("viewconsumable-invalid-attribute: Classes and styles should be handled separately.",this)}n.set(e,true);if(t==="styles"){for(const t of this.element.document.stylesProcessor.getRelatedStyles(e)){n.set(t,true)}}}}_test(t,e){const i=Je(e)?e:[e];const n=this._consumables[t];for(const e of i){if(t==="attributes"&&(e==="class"||e==="style")){const t=e=="class"?"classes":"styles";const i=this._test(t,[...this._consumables[t].keys()]);if(i!==true){return i}}else{const t=n.get(e);if(t===undefined){return null}if(!t){return false}}}return true}_consume(t,e){const i=Je(e)?e:[e];const n=this._consumables[t];for(const e of i){if(t==="attributes"&&(e==="class"||e==="style")){const t=e=="class"?"classes":"styles";this._consume(t,[...this._consumables[t].keys()])}else{n.set(e,false);if(t=="styles"){for(const t of this.element.document.stylesProcessor.getRelatedStyles(e)){n.set(t,false)}}}}}_revert(t,e){const i=Je(e)?e:[e];const n=this._consumables[t];for(const e of i){if(t==="attributes"&&(e==="class"||e==="style")){const t=e=="class"?"classes":"styles";this._revert(t,[...this._consumables[t].keys()])}else{const t=n.get(e);if(t===false){n.set(e,true)}}}}}class ug{constructor(){this._sourceDefinitions={};this._attributeProperties={};this.decorate("checkChild");this.decorate("checkAttribute");this.on("checkAttribute",(t,e)=>{e[0]=new hg(e[0])},{priority:"highest"});this.on("checkChild",(t,e)=>{e[0]=new hg(e[0]);e[1]=this.getDefinition(e[1])},{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t]){throw new ss["b"]("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",this,{itemName:t})}this._sourceDefinitions[t]=[Object.assign({},e)];this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t]){throw new ss["b"]("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",this,{itemName:t})}this._sourceDefinitions[t].push(Object.assign({},e));this._clearCache()}getDefinitions(){if(!this._compiledDefinitions){this._compile()}return this._compiledDefinitions}getDefinition(t){let e;if(typeof t=="string"){e=t}else if(t.is&&(t.is("text")||t.is("textProxy"))){e="$text"}else{e=t.name}return this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!!(e&&e.isBlock)}isLimit(t){const e=this.getDefinition(t);if(!e){return false}return!!(e.isLimit||e.isObject)}isObject(t){const e=this.getDefinition(t);return!!(e&&e.isObject)}isInline(t){const e=this.getDefinition(t);return!!(e&&e.isInline)}checkChild(t,e){if(!e){return false}return this._checkContextMatch(e,t)}checkAttribute(t,e){const i=this.getDefinition(t.last);if(!i){return false}return i.allowAttributes.includes(e)}checkMerge(t,e=null){if(t instanceof Uh){const e=t.nodeBefore;const i=t.nodeAfter;if(!(e instanceof jh)){throw new ss["b"]("schema-check-merge-no-element-before: The node before the merge position must be an element.",this)}if(!(i instanceof jh)){throw new ss["b"]("schema-check-merge-no-element-after: The node after the merge position must be an element.",this)}return this.checkMerge(e,i)}for(const i of e.getChildren()){if(!this.checkChild(t,i)){return false}}return true}addChildCheck(t){this.on("checkChild",(e,[i,n])=>{if(!n){return}const o=t(i,n);if(typeof o=="boolean"){e.stop();e.return=o}},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(e,[i,n])=>{const o=t(i,n);if(typeof o=="boolean"){e.stop();e.return=o}},{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;if(t instanceof Uh){e=t.parent}else{const i=t instanceof $h?[t]:Array.from(t.getRanges());e=i.reduce((t,e)=>{const i=e.getCommonAncestor();if(!t){return i}return t.getCommonAncestor(i,{includeSelf:true})},null)}while(!this.isLimit(e)){if(e.parent){e=e.parent}else{break}}return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const i=t.getFirstPosition();const n=[...i.getAncestors(),new Lh("",t.getAttributes())];return this.checkAttribute(n,e)}else{const i=t.getRanges();for(const t of i){for(const i of t){if(this.checkAttribute(i.item,e)){return true}}}}return false}*getValidRanges(t,e){t=Pg(t);for(const i of t){yield*this._getValidRangesForRange(i,e)}}getNearestSelectionRange(t,e="both"){if(this.checkChild(t,"$text")){return new $h(t)}let i,n;const o=t.getAncestors().reverse().find(t=>this.isLimit(t))||t.root;if(e=="both"||e=="backward"){i=new Wh({boundaries:$h._createIn(o),startPosition:t,direction:"backward"})}if(e=="both"||e=="forward"){n=new Wh({boundaries:$h._createIn(o),startPosition:t})}for(const t of Tg(i,n)){const e=t.walker==i?"elementEnd":"elementStart";const n=t.value;if(n.type==e&&this.isObject(n.item)){return $h._createOn(n.item)}if(this.checkChild(n.nextPosition,"$text")){return new $h(n.nextPosition)}}return null}findAllowedParent(t,e){let i=t.parent;while(i){if(this.checkChild(i,e)){return i}if(this.isLimit(i)){return null}i=i.parent}return null}removeDisallowedAttributes(t,e){for(const i of t){if(i.is("text")){Sg(this,i,e)}else{const t=$h._createIn(i);const n=t.getPositions();for(const t of n){const i=t.nodeBefore||t.parent;Sg(this,i,e)}}}}createContext(t){return new hg(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={};const e=this._sourceDefinitions;const i=Object.keys(e);for(const n of i){t[n]=fg(e[n],n)}for(const e of i){gg(t,e)}for(const e of i){mg(t,e)}for(const e of i){pg(t,e);bg(t,e)}for(const e of i){wg(t,e);kg(t,e)}this._compiledDefinitions=t}_checkContextMatch(t,e,i=e.length-1){const n=e.getItem(i);if(t.allowIn.includes(n.name)){if(i==0){return true}else{const t=this.getDefinition(n);return this._checkContextMatch(t,e,i-1)}}else{return false}}*_getValidRangesForRange(t,e){let i=t.start;let n=t.start;for(const o of t.getItems({shallow:true})){if(o.is("element")){yield*this._getValidRangesForRange($h._createIn(o),e)}if(!this.checkAttribute(o,e)){if(!i.isEqual(n)){yield new $h(i,n)}i=Uh._createAfter(o)}n=Uh._createAfter(o)}if(!i.isEqual(n)){yield new $h(i,n)}}}vs(ug,Jc);class hg{constructor(t){if(t instanceof hg){return t}if(typeof t=="string"){t=[t]}else if(!Array.isArray(t)){t=t.getAncestors({includeSelf:true})}if(t[0]&&typeof t[0]!="string"&&t[0].is("documentFragment")){t.shift()}this._items=t.map(Ag)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new hg([t]);e._items=[...this._items,...e._items];return e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function fg(t,e){const i={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};_g(t,i);vg(t,i,"allowIn");vg(t,i,"allowContentOf");vg(t,i,"allowWhere");vg(t,i,"allowAttributes");vg(t,i,"allowAttributesOf");vg(t,i,"inheritTypesFrom");yg(t,i);return i}function gg(t,e){for(const i of t[e].allowContentOf){if(t[i]){const n=xg(t,i);n.forEach(t=>{t.allowIn.push(e)})}}delete t[e].allowContentOf}function mg(t,e){for(const i of t[e].allowWhere){const n=t[i];if(n){const i=n.allowIn;t[e].allowIn.push(...i)}}delete t[e].allowWhere}function pg(t,e){for(const i of t[e].allowAttributesOf){const n=t[i];if(n){const i=n.allowAttributes;t[e].allowAttributes.push(...i)}}delete t[e].allowAttributesOf}function bg(t,e){const i=t[e];for(const e of i.inheritTypesFrom){const n=t[e];if(n){const t=Object.keys(n).filter(t=>t.startsWith("is"));for(const e of t){if(!(e in i)){i[e]=n[e]}}}}delete i.inheritTypesFrom}function wg(t,e){const i=t[e];const n=i.allowIn.filter(e=>t[e]);i.allowIn=Array.from(new Set(n))}function kg(t,e){const i=t[e];i.allowAttributes=Array.from(new Set(i.allowAttributes))}function _g(t,e){for(const i of t){const t=Object.keys(i).filter(t=>t.startsWith("is"));for(const n of t){e[n]=i[n]}}}function vg(t,e,i){for(const n of t){if(typeof n[i]=="string"){e[i].push(n[i])}else if(Array.isArray(n[i])){e[i].push(...n[i])}}}function yg(t,e){for(const i of t){const t=i.inheritAllFrom;if(t){e.allowContentOf.push(t);e.allowWhere.push(t);e.allowAttributesOf.push(t);e.inheritTypesFrom.push(t)}}}function xg(t,e){const i=t[e];return Cg(t).filter(t=>t.allowIn.includes(i.name))}function Cg(t){return Object.keys(t).map(e=>t[e])}function Ag(t){if(typeof t=="string"){return{name:t,*getAttributeKeys(){},getAttribute(){}}}else{return{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute(e){return t.getAttribute(e)}}}}function*Tg(t,e){let i=false;while(!i){i=true;if(t){const e=t.next();if(!e.done){i=false;yield{walker:t,value:e.value}}}if(e){const t=e.next();if(!t.done){i=false;yield{walker:e,value:t.value}}}}}function*Pg(t){for(const e of t){yield*e.getMinimalFlatRanges()}}function Sg(t,e,i){for(const n of e.getAttributeKeys()){if(!t.checkAttribute(e,n)){i.removeAttribute(n,e)}}}class Eg{constructor(t={}){this._splitParts=new Map;this._modelCursor=null;this.conversionApi=Object.assign({},t);this.conversionApi.convertItem=this._convertItem.bind(this);this.conversionApi.convertChildren=this._convertChildren.bind(this);this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this);this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(t,e,i=["$root"]){this.fire("viewCleanup",t);this._modelCursor=Og(i,e);this.conversionApi.writer=e;this.conversionApi.consumable=lg.createFrom(t);this.conversionApi.store={};const{modelRange:n}=this._convertItem(t,this._modelCursor);const o=e.createDocumentFragment();if(n){this._removeEmptyElements();for(const t of Array.from(this._modelCursor.parent.getChildren())){e.append(t,o)}o.markers=Rg(o,e)}this._modelCursor=null;this._splitParts.clear();this.conversionApi.writer=null;this.conversionApi.store=null;return o}_convertItem(t,e){const i=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")){this.fire("element:"+t.name,i,this.conversionApi)}else if(t.is("text")){this.fire("text",i,this.conversionApi)}else{this.fire("documentFragment",i,this.conversionApi)}if(i.modelRange&&!(i.modelRange instanceof $h)){throw new ss["b"]("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.",this)}return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(t,e){const i=new $h(e);let n=e;for(const e of Array.from(t.getChildren())){const t=this._convertItem(e,n);if(t.modelRange instanceof $h){i.end=t.modelRange.end;n=t.modelCursor}}return{modelRange:i,modelCursor:n}}_splitToAllowedParent(t,e){const i=this.conversionApi.schema.findAllowedParent(e,t);if(!i){return null}if(i===e.parent){return{position:e}}if(this._modelCursor.parent.getAncestors().includes(i)){return null}const n=this.conversionApi.writer.split(e,i);const o=[];for(const t of n.range.getWalker()){if(t.type=="elementEnd"){o.push(t.item)}else{const e=o.pop();const i=t.item;this._registerSplitPair(e,i)}}return{position:n.position,cursorParent:n.range.end.parent}}_registerSplitPair(t,e){if(!this._splitParts.has(t)){this._splitParts.set(t,[t])}const i=this._splitParts.get(t);this._splitParts.set(e,i);i.push(e)}_getSplitParts(t){let e;if(!this._splitParts.has(t)){e=[t]}else{e=this._splitParts.get(t)}return e}_removeEmptyElements(){let t=false;for(const e of this._splitParts.keys()){if(e.isEmpty){this.conversionApi.writer.remove(e);this._splitParts.delete(e);t=true}}if(t){this._removeEmptyElements()}}}vs(Eg,ds);function Rg(t,e){const i=new Set;const n=new Map;const o=$h._createIn(t).getItems();for(const t of o){if(t.name=="$marker"){i.add(t)}}for(const t of i){const i=t.getAttribute("data-name");const o=e.createPositionBefore(t);if(!n.has(i)){n.set(i,new $h(o.clone()))}else{n.get(i).end=o.clone()}e.remove(t)}return n}function Og(t,e){let i;for(const n of new hg(t)){const t={};for(const e of n.getAttributeKeys()){t[e]=n.getAttribute(e)}const o=e.createElement(n.name,t);if(i){e.append(o,i)}i=Uh._createAt(o,0)}return i}class Ig{constructor(t,e){this.model=t;this.stylesProcessor=e;this.processor;this.mapper=new Gh;this.downcastDispatcher=new Yh({mapper:this.mapper});this.downcastDispatcher.on("insert:$text",_f(),{priority:"lowest"});this.upcastDispatcher=new Eg({schema:t.schema});this.viewDocument=new pl(e);this._viewWriter=new $l(this.viewDocument);this.upcastDispatcher.on("text",$f(),{priority:"lowest"});this.upcastDispatcher.on("element",Uf(),{priority:"lowest"});this.upcastDispatcher.on("documentFragment",Uf(),{priority:"lowest"});this.decorate("init");this.on("init",()=>{this.fire("ready")},{priority:"lowest"})}get(t){const{rootName:e="main",trim:i="empty"}=t||{};if(!this._checkIfRootsExists([e])){throw new ss["b"]("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.",this)}const n=this.model.document.getRoot(e);if(i==="empty"&&!this.model.hasContent(n,{ignoreWhitespaces:true})){return""}return this.stringify(n)}stringify(t){const e=this.toView(t);return this.processor.toData(e)}toView(t){const e=this.viewDocument;const i=this._viewWriter;this.mapper.clearBindings();const n=$h._createIn(t);const o=new ql(e);this.mapper.bindElements(t,o);this.downcastDispatcher.convertInsert(n,i);if(!t.is("documentFragment")){const e=Vg(t);for(const[t,n]of e){this.downcastDispatcher.convertMarkerAdd(t,n,i)}}return o}init(t){if(this.model.document.version){throw new ss["b"]("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.",this)}let e={};if(typeof t==="string"){e.main=t}else{e=t}if(!this._checkIfRootsExists(Object.keys(e))){throw new ss["b"]("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.",this)}this.model.enqueueChange("transparent",t=>{for(const i of Object.keys(e)){const n=this.model.document.getRoot(i);t.insert(this.parse(e[i],n),n,0)}});return Promise.resolve()}set(t){let e={};if(typeof t==="string"){e.main=t}else{e=t}if(!this._checkIfRootsExists(Object.keys(e))){throw new ss["b"]("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.",this)}this.model.enqueueChange("transparent",t=>{t.setSelection(null);t.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const i of Object.keys(e)){const n=this.model.document.getRoot(i);t.remove(t.createRangeIn(n));t.insert(this.parse(e[i],n),n,0)}})}parse(t,e="$root"){const i=this.processor.toView(t);return this.toModel(i,e)}toModel(t,e="$root"){return this.model.change(i=>this.upcastDispatcher.convert(t,i,e))}addStyleProcessorRules(t){t(this.stylesProcessor)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t){if(!this.model.document.getRootNames().includes(e)){return false}}return true}}vs(Ig,Jc);function Vg(t){const e=[];const i=t.root.document;if(!i){return[]}const n=$h._createIn(t);for(const t of i.model.markers){const i=n.getIntersection(t.getRange());if(i){e.push([t.name,i])}}return e}class Ng{constructor(t,e){this._helpers=new Map;this._downcast=Array.isArray(t)?t:[t];this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:true});this._upcast=Array.isArray(e)?e:[e];this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:false})}addAlias(t,e){const i=this._downcast.includes(e);const n=this._upcast.includes(e);if(!n&&!i){throw new ss["b"]("conversion-add-alias-dispatcher-not-registered: "+"Trying to register and alias for a dispatcher that nas not been registered.",this)}this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:i})}for(t){if(!this._helpers.has(t)){throw new ss["b"]("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.",this)}return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:i}of Mg(t)){this.for("upcast").elementToElement({model:e,view:i,converterPriority:t.converterPriority})}}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:i}of Mg(t)){this.for("upcast").elementToAttribute({view:i,model:e,converterPriority:t.converterPriority})}}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:i}of Mg(t)){this.for("upcast").attributeToAttribute({view:i,model:e})}}_createConversionHelpers({name:t,dispatchers:e,isDowncast:i}){if(this._helpers.has(t)){throw new ss["b"]("conversion-group-exists: Trying to register a group name that has already been registered.",this)}const n=i?new kf(e):new qf(e);this._helpers.set(t,n)}}function*Mg(t){if(t.model.values){for(const e of t.model.values){const i={key:t.model.key,value:e};const n=t.view[e];const o=t.upcastAlso?t.upcastAlso[e]:undefined;yield*Bg(i,n,o)}}else{yield*Bg(t.model,t.view,t.upcastAlso)}}function*Bg(t,e,i){yield{model:t,view:e};if(i){i=Array.isArray(i)?i:[i];for(const e of i){yield{model:t,view:e}}}}class zg{constructor(t="default"){this.operations=[];this.type=t}get baseVersion(){for(const t of this.operations){if(t.baseVersion!==null){return t.baseVersion}}return null}addOperation(t){t.batch=this;this.operations.push(t);return t}}class Lg{constructor(t){this.baseVersion=t;this.isDocumentOperation=this.baseVersion!==null;this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);t.__className=this.constructor.className;delete t.batch;delete t.isDocumentOperation;return t}static get className(){return"Operation"}static fromJSON(t){return new this(t.baseVersion)}}class Fg{constructor(t){this.markers=new Map;this._children=new Dh;if(t){this._insertChild(0,t)}}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}is(t){return t=="documentFragment"||t=="model:documentFragment"}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const i of t){e=e.getChild(e.offsetToIndex(i))}return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children){t.push(e.toJSON())}return t}static fromJSON(t){const e=[];for(const i of t){if(i.name){e.push(jh.fromJSON(i))}else{e.push(Lh.fromJSON(i))}}return new Fg(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const i=Dg(e);for(const t of i){if(t.parent!==null){t._remove()}t.parent=this}this._children._insertNodes(t,i)}_removeChildren(t,e=1){const i=this._children._removeNodes(t,e);for(const t of i){t.parent=null}return i}}function Dg(t){if(typeof t=="string"){return[new Lh(t)]}if(!js(t)){t=[t]}return Array.from(t).map(t=>{if(typeof t=="string"){return new Lh(t)}if(t instanceof Fh){return new Lh(t.data,t.getAttributes())}return t})}function jg(t,e){e=Ug(e);const i=e.reduce((t,e)=>t+e.offsetSize,0);const n=t.parent;Gg(t);const o=t.index;n._insertChild(o,e);$g(n,o+e.length);$g(n,o);return new $h(t,t.getShiftedBy(i))}function Hg(t){if(!t.isFlat){throw new ss["b"]("operation-utils-remove-range-not-flat: "+"Trying to remove a range which starts and ends in different element.",this)}const e=t.start.parent;Gg(t.start);Gg(t.end);const i=e._removeChildren(t.start.index,t.end.index-t.start.index);$g(e,t.start.index);return i}function Wg(t,e){if(!t.isFlat){throw new ss["b"]("operation-utils-move-range-not-flat: "+"Trying to move a range which starts and ends in different element.",this)}const i=Hg(t);e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset);return jg(e,i)}function qg(t,e,i){Gg(t.start);Gg(t.end);for(const n of t.getItems({shallow:true})){const t=n.is("textProxy")?n.textNode:n;if(i!==null){t._setAttribute(e,i)}else{t._removeAttribute(e)}$g(t.parent,t.index)}$g(t.end.parent,t.end.index)}function Ug(t){const e=[];if(!(t instanceof Array)){t=[t]}for(let i=0;i<t.length;i++){if(typeof t[i]=="string"){e.push(new Lh(t[i]))}else if(t[i]instanceof Fh){e.push(new Lh(t[i].data,t[i].getAttributes()))}else if(t[i]instanceof Fg||t[i]instanceof Dh){for(const n of t[i]){e.push(n)}}else if(t[i]instanceof zh){e.push(t[i])}}for(let t=1;t<e.length;t++){const i=e[t];const n=e[t-1];if(i instanceof Lh&&n instanceof Lh&&Kg(i,n)){e.splice(t-1,2,new Lh(n.data+i.data,n.getAttributes()));t--}}return e}function $g(t,e){const i=t.getChild(e-1);const n=t.getChild(e);if(i&&n&&i.is("text")&&n.is("text")&&Kg(i,n)){const o=new Lh(i.data+n.data,i.getAttributes());t._removeChildren(e-1,2);t._insertChild(e-1,o)}}function Gg(t){const e=t.textNode;const i=t.parent;if(e){const n=t.offset-e.startOffset;const o=e.index;i._removeChildren(o,1);const r=new Lh(e.data.substr(0,n),e.getAttributes());const s=new Lh(e.data.substr(n),e.getAttributes());i._insertChild(o,[r,s])}}function Kg(t,e){const i=t.getAttributes();const n=e.getAttributes();for(const t of i){if(t[1]!==e.getAttribute(t[0])){return false}n.next()}return n.next().done}function Jg(t,e){return qu(t,e)}var Yg=Jg;class Qg extends Lg{constructor(t,e,i,n,o){super(o);this.range=t.clone();this.key=e;this.oldValue=i===undefined?null:i;this.newValue=n===undefined?null:n}get type(){if(this.oldValue===null){return"addAttribute"}else if(this.newValue===null){return"removeAttribute"}else{return"changeAttribute"}}clone(){return new Qg(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Qg(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();t.range=this.range.toJSON();return t}_validate(){if(!this.range.isFlat){throw new ss["b"]("attribute-operation-range-not-flat: The range to change is not flat.",this)}for(const t of this.range.getItems({shallow:true})){if(this.oldValue!==null&&!Yg(t.getAttribute(this.key),this.oldValue)){throw new ss["b"]("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's "+"old attribute value.",this,{item:t,key:this.key,value:this.oldValue})}if(this.oldValue===null&&this.newValue!==null&&t.hasAttribute(this.key)){throw new ss["b"]("attribute-operation-attribute-exists: The attribute with given key already exists.",this,{node:t,key:this.key})}}}_execute(){if(!Yg(this.oldValue,this.newValue)){qg(this.range,this.key,this.newValue)}}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new Qg($h.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Xg extends Lg{constructor(t,e){super(null);this.sourcePosition=t.clone();this.howMany=e}get type(){return"detach"}toJSON(){const t=super.toJSON();t.sourcePosition=this.sourcePosition.toJSON();return t}_validate(){if(this.sourcePosition.root.document){throw new ss["b"]("detach-operation-on-document-node: Cannot detach document node.",this)}}_execute(){Hg($h._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Zg extends Lg{constructor(t,e,i,n){super(n);this.sourcePosition=t.clone();this.sourcePosition.stickiness="toNext";this.howMany=e;this.targetPosition=i.clone();this.targetPosition.stickiness="toNone"}get type(){if(this.targetPosition.root.rootName=="$graveyard"){return"remove"}else if(this.sourcePosition.root.rootName=="$graveyard"){return"reinsert"}return"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent;const e=this.targetPosition.parent;const i=this.sourcePosition.offset;const n=this.targetPosition.offset;if(i+this.howMany>t.maxOffset){throw new ss["b"]("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.",this)}else if(t===e&&i<n&&n<i+this.howMany){throw new ss["b"]("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.",this)}else if(this.sourcePosition.root==this.targetPosition.root){if(Vs(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=i&&this.targetPosition.path[t]<i+this.howMany){throw new ss["b"]("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.",this)}}}}_execute(){Wg($h._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();t.sourcePosition=this.sourcePosition.toJSON();t.targetPosition=this.targetPosition.toJSON();return t}static get className(){return"MoveOperation"}static fromJSON(t,e){const i=Uh.fromJSON(t.sourcePosition,e);const n=Uh.fromJSON(t.targetPosition,e);return new this(i,t.howMany,n,t.baseVersion)}}class tm extends Lg{constructor(t,e,i){super(i);this.position=t.clone();this.position.stickiness="toNone";this.nodes=new Dh(Ug(e));this.shouldReceiveAttributes=false}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const t=new Dh([...this.nodes].map(t=>t._clone(true)));const e=new tm(this.position,t,this.baseVersion);e.shouldReceiveAttributes=this.shouldReceiveAttributes;return e}getReversed(){const t=this.position.root.document.graveyard;const e=new Uh(t,[0]);return new Zg(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset){throw new ss["b"]("insert-operation-position-invalid: Insertion position is invalid.",this)}}_execute(){const t=this.nodes;this.nodes=new Dh([...t].map(t=>t._clone(true)));jg(this.position,t)}toJSON(){const t=super.toJSON();t.position=this.position.toJSON();t.nodes=this.nodes.toJSON();return t}static get className(){return"InsertOperation"}static fromJSON(t,e){const i=[];for(const e of t.nodes){if(e.name){i.push(jh.fromJSON(e))}else{i.push(Lh.fromJSON(e))}}const n=new tm(Uh.fromJSON(t.position,e),i,t.baseVersion);n.shouldReceiveAttributes=t.shouldReceiveAttributes;return n}}class em extends Lg{constructor(t,e,i,n,o,r){super(r);this.name=t;this.oldRange=e?e.clone():null;this.newRange=i?i.clone():null;this.affectsData=o;this._markers=n}get type(){return"marker"}clone(){return new em(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new em(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){const t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,true,this.affectsData)}toJSON(){const t=super.toJSON();if(this.oldRange){t.oldRange=this.oldRange.toJSON()}if(this.newRange){t.newRange=this.newRange.toJSON()}delete t._markers;return t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new em(t.name,t.oldRange?$h.fromJSON(t.oldRange,e):null,t.newRange?$h.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}class im extends Lg{constructor(t,e,i,n){super(n);this.position=t;this.position.stickiness="toNext";this.oldName=e;this.newName=i}get type(){return"rename"}clone(){return new im(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new im(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof jh)){throw new ss["b"]("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.",this)}else if(t.name!==this.oldName){throw new ss["b"]("rename-operation-wrong-name: Element to change has different name than operation's old name.",this)}}_execute(){const t=this.position.nodeAfter;t.name=this.newName}toJSON(){const t=super.toJSON();t.position=this.position.toJSON();return t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new im(Uh.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class nm extends Lg{constructor(t,e,i,n,o){super(o);this.root=t;this.key=e;this.oldValue=i;this.newValue=n}get type(){if(this.oldValue===null){return"addRootAttribute"}else if(this.newValue===null){return"removeRootAttribute"}else{return"changeRootAttribute"}}clone(){return new nm(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new nm(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment")){throw new ss["b"]("rootattribute-operation-not-a-root: The element to change is not a root element.",this,{root:this.root,key:this.key})}if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue){throw new ss["b"]("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's "+"old attribute value.",this,{root:this.root,key:this.key})}if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key)){throw new ss["b"]("rootattribute-operation-attribute-exists: The attribute with given key already exists.",this,{root:this.root,key:this.key})}}_execute(){if(this.newValue!==null){this.root._setAttribute(this.key,this.newValue)}else{this.root._removeAttribute(this.key)}}toJSON(){const t=super.toJSON();t.root=this.root.toJSON();return t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root)){throw new ss["b"]("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",this,{rootName:t.root})}return new nm(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class om extends Lg{constructor(t,e,i,n,o){super(o);this.sourcePosition=t.clone();this.sourcePosition.stickiness="toPrevious";this.howMany=e;this.targetPosition=i.clone();this.targetPosition.stickiness="toNext";this.graveyardPosition=n.clone()}get type(){return"merge"}get deletionPosition(){return new Uh(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new $h(this.sourcePosition,t)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this);const e=this.sourcePosition.path.slice(0,-1);const i=new Uh(this.sourcePosition.root,e)._getTransformedByMergeOperation(this);const n=new rm(t,this.howMany,this.graveyardPosition,this.baseVersion+1);n.insertionPosition=i;return n}_validate(){const t=this.sourcePosition.parent;const e=this.targetPosition.parent;if(!t.parent){throw new ss["b"]("merge-operation-source-position-invalid: Merge source position is invalid.",this)}else if(!e.parent){throw new ss["b"]("merge-operation-target-position-invalid: Merge target position is invalid.",this)}else if(this.howMany!=t.maxOffset){throw new ss["b"]("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.",this)}}_execute(){const t=this.sourcePosition.parent;const e=$h._createIn(t);Wg(e,this.targetPosition);Wg($h._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();t.sourcePosition=t.sourcePosition.toJSON();t.targetPosition=t.targetPosition.toJSON();t.graveyardPosition=t.graveyardPosition.toJSON();return t}static get className(){return"MergeOperation"}static fromJSON(t,e){const i=Uh.fromJSON(t.sourcePosition,e);const n=Uh.fromJSON(t.targetPosition,e);const o=Uh.fromJSON(t.graveyardPosition,e);return new this(i,t.howMany,n,o,t.baseVersion)}}class rm extends Lg{constructor(t,e,i,n){super(n);this.splitPosition=t.clone();this.splitPosition.stickiness="toNext";this.howMany=e;this.insertionPosition=rm.getInsertionPosition(t);this.insertionPosition.stickiness="toNone";this.graveyardPosition=i?i.clone():null;if(this.graveyardPosition){this.graveyardPosition.stickiness="toNext"}}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();t.push(0);return new Uh(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new $h(this.splitPosition,t)}clone(){const t=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);t.insertionPosition=this.insertionPosition;return t}getReversed(){const t=this.splitPosition.root.document.graveyard;const e=new Uh(t,[0]);return new om(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent;const e=this.splitPosition.offset;if(!t||t.maxOffset<e){throw new ss["b"]("split-operation-position-invalid: Split position is invalid.",this)}else if(!t.parent){throw new ss["b"]("split-operation-split-in-root: Cannot split root element.",this)}else if(this.howMany!=t.maxOffset-this.splitPosition.offset){throw new ss["b"]("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.",this)}else if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter){throw new ss["b"]("split-operation-graveyard-position-invalid: Graveyard position invalid.",this)}}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition){Wg($h._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition)}else{const e=t._clone();jg(this.insertionPosition,e)}const e=new $h(Uh._createAt(t,this.splitPosition.offset),Uh._createAt(t,t.maxOffset));Wg(e,this.moveTargetPosition)}toJSON(){const t=super.toJSON();t.splitPosition=this.splitPosition.toJSON();t.insertionPosition=this.insertionPosition.toJSON();if(this.graveyardPosition){t.graveyardPosition=this.graveyardPosition.toJSON()}return t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);e[e.length-1]++;return new Uh(t.root,e)}static fromJSON(t,e){const i=Uh.fromJSON(t.splitPosition,e);const n=Uh.fromJSON(t.insertionPosition,e);const o=t.graveyardPosition?Uh.fromJSON(t.graveyardPosition,e):null;const r=new this(i,t.howMany,o,t.baseVersion);r.insertionPosition=n;return r}}class sm extends jh{constructor(t,e,i="main"){super(e);this._document=t;this.rootName=i}get document(){return this._document}is(t,e){const i=t.replace("model:","");if(!e){return i=="rootElement"||super.is(t)}else{return i=="rootElement"&&e==this.name||super.is(t,e)}}toJSON(){return this.rootName}}class am{constructor(t,e){this.model=t;this.batch=e}createText(t,e){return new Lh(t,e)}createElement(t,e){return new jh(t,e)}createDocumentFragment(){return new Fg}insert(t,e,i=0){this._assertWriterUsedCorrectly();if(t instanceof Lh&&t.data==""){return}const n=Uh._createAt(e,i);if(t.parent){if(hm(t.root,n.root)){this.move($h._createOn(t),n);return}else{if(t.root.document){throw new ss["b"]("model-writer-insert-forbidden-move: "+"Cannot move a node from a document to a different tree. "+"It is forbidden to move a node that was already in a document outside of it.",this)}else{this.remove(t)}}}const o=n.root.document?n.root.document.version:null;const r=new tm(n,t,o);if(t instanceof Lh){r.shouldReceiveAttributes=true}this.batch.addOperation(r);this.model.applyOperation(r);if(t instanceof Fg){for(const[e,i]of t.markers){const t=Uh._createAt(i.root,0);const o=new $h(i.start._getCombined(t,n),i.end._getCombined(t,n));const r={range:o,usingOperation:true,affectsData:true};if(this.model.markers.has(e)){this.updateMarker(e,r)}else{this.addMarker(e,r)}}}}insertText(t,e,i,n){if(e instanceof Fg||e instanceof jh||e instanceof Uh){this.insert(this.createText(t),e,i)}else{this.insert(this.createText(t,e),i,n)}}insertElement(t,e,i,n){if(e instanceof Fg||e instanceof jh||e instanceof Uh){this.insert(this.createElement(t),e,i)}else{this.insert(this.createElement(t,e),i,n)}}append(t,e){this.insert(t,e,"end")}appendText(t,e,i){if(e instanceof Fg||e instanceof jh){this.insert(this.createText(t),e,"end")}else{this.insert(this.createText(t,e),i,"end")}}appendElement(t,e,i){if(e instanceof Fg||e instanceof jh){this.insert(this.createElement(t),e,"end")}else{this.insert(this.createElement(t,e),i,"end")}}setAttribute(t,e,i){this._assertWriterUsedCorrectly();if(i instanceof $h){const n=i.getMinimalFlatRanges();for(const i of n){cm(this,t,e,i)}}else{lm(this,t,e,i)}}setAttributes(t,e){for(const[i,n]of Hs(t)){this.setAttribute(i,n,e)}}removeAttribute(t,e){this._assertWriterUsedCorrectly();if(e instanceof $h){const i=e.getMinimalFlatRanges();for(const e of i){cm(this,t,null,e)}}else{lm(this,t,null,e)}}clearAttributes(t){this._assertWriterUsedCorrectly();const e=t=>{for(const e of t.getAttributeKeys()){this.removeAttribute(e,t)}};if(!(t instanceof $h)){e(t)}else{for(const i of t.getItems()){e(i)}}}move(t,e,i){this._assertWriterUsedCorrectly();if(!(t instanceof $h)){throw new ss["b"]("writer-move-invalid-range: Invalid range to move.",this)}if(!t.isFlat){throw new ss["b"]("writer-move-range-not-flat: Range to move is not flat.",this)}const n=Uh._createAt(e,i);if(n.isEqual(t.start)){return}this._addOperationForAffectedMarkers("move",t);if(!hm(t.root,n.root)){throw new ss["b"]("writer-move-different-document: Range is going to be moved between different documents.",this)}const o=t.root.document?t.root.document.version:null;const r=new Zg(t.start,t.end.offset-t.start.offset,n,o);this.batch.addOperation(r);this.model.applyOperation(r)}remove(t){this._assertWriterUsedCorrectly();const e=t instanceof $h?t:$h._createOn(t);const i=e.getMinimalFlatRanges().reverse();for(const t of i){this._addOperationForAffectedMarkers("move",t);um(t.start,t.end.offset-t.start.offset,this.batch,this.model)}}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore;const i=t.nodeAfter;this._addOperationForAffectedMarkers("merge",t);if(!(e instanceof jh)){throw new ss["b"]("writer-merge-no-element-before: Node before merge position must be an element.",this)}if(!(i instanceof jh)){throw new ss["b"]("writer-merge-no-element-after: Node after merge position must be an element.",this)}if(!t.root.document){this._mergeDetached(t)}else{this._merge(t)}}createPositionFromPath(t,e,i){return this.model.createPositionFromPath(t,e,i)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(t,e,i){return this.model.createSelection(t,e,i)}_mergeDetached(t){const e=t.nodeBefore;const i=t.nodeAfter;this.move($h._createIn(i),Uh._createAt(e,"end"));this.remove(i)}_merge(t){const e=Uh._createAt(t.nodeBefore,"end");const i=Uh._createAt(t.nodeAfter,0);const n=t.root.document.graveyard;const o=new Uh(n,[0]);const r=t.root.document.version;const s=new om(i,t.nodeAfter.maxOffset,e,o,r);this.batch.addOperation(s);this.model.applyOperation(s)}rename(t,e){this._assertWriterUsedCorrectly();if(!(t instanceof jh)){throw new ss["b"]("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.",this)}const i=t.root.document?t.root.document.version:null;const n=new im(Uh._createBefore(t),t.name,e,i);this.batch.addOperation(n);this.model.applyOperation(n)}split(t,e){this._assertWriterUsedCorrectly();let i=t.parent;if(!i.parent){throw new ss["b"]("writer-split-element-no-parent: Element with no parent can not be split.",this)}if(!e){e=i.parent}if(!t.parent.getAncestors({includeSelf:true}).includes(e)){throw new ss["b"]("writer-split-invalid-limit-element: Limit element is not a position ancestor.",this)}let n,o;do{const e=i.root.document?i.root.document.version:null;const r=i.maxOffset-t.offset;const s=new rm(t,r,null,e);this.batch.addOperation(s);this.model.applyOperation(s);if(!n&&!o){n=i;o=t.parent.nextSibling}t=this.createPositionAfter(t.parent);i=t.parent}while(i!==e);return{position:t,range:new $h(Uh._createAt(n,"end"),Uh._createAt(o,0))}}wrap(t,e){this._assertWriterUsedCorrectly();if(!t.isFlat){throw new ss["b"]("writer-wrap-range-not-flat: Range to wrap is not flat.",this)}const i=e instanceof jh?e:new jh(e);if(i.childCount>0){throw new ss["b"]("writer-wrap-element-not-empty: Element to wrap with is not empty.",this)}if(i.parent!==null){throw new ss["b"]("writer-wrap-element-attached: Element to wrap with is already attached to tree model.",this)}this.insert(i,t.start);const n=new $h(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(n,Uh._createAt(i,0))}unwrap(t){this._assertWriterUsedCorrectly();if(t.parent===null){throw new ss["b"]("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.",this)}this.move($h._createIn(t),this.createPositionAfter(t));this.remove(t)}addMarker(t,e){this._assertWriterUsedCorrectly();if(!e||typeof e.usingOperation!="boolean"){throw new ss["b"]("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.",this)}const i=e.usingOperation;const n=e.range;const o=e.affectsData===undefined?false:e.affectsData;if(this.model.markers.has(t)){throw new ss["b"]("writer-addMarker-marker-exists: Marker with provided name already exists.",this)}if(!n){throw new ss["b"]("writer-addMarker-no-range: Range parameter is required when adding a new marker.",this)}if(!i){return this.model.markers._set(t,n,i,o)}dm(this,t,null,n,o);return this.model.markers.get(t)}updateMarker(t,e){this._assertWriterUsedCorrectly();const i=typeof t=="string"?t:t.name;const n=this.model.markers.get(i);if(!n){throw new ss["b"]("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.",this)}if(!e){this.model.markers._refresh(n);return}const o=typeof e.usingOperation=="boolean";const r=typeof e.affectsData=="boolean";const s=r?e.affectsData:n.affectsData;if(!o&&!e.range&&!r){throw new ss["b"]("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.",this)}const a=n.getRange();const c=e.range?e.range:a;if(o&&e.usingOperation!==n.managedUsingOperations){if(e.usingOperation){dm(this,i,null,c,s)}else{dm(this,i,a,null,s);this.model.markers._set(i,c,undefined,s)}return}if(n.managedUsingOperations){dm(this,i,a,c,s)}else{this.model.markers._set(i,c,undefined,s)}}removeMarker(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?t:t.name;if(!this.model.markers.has(e)){throw new ss["b"]("writer-removeMarker-no-marker: Trying to remove marker which does not exist.",this)}const i=this.model.markers.get(e);if(!i.managedUsingOperations){this.model.markers._remove(e);return}const n=i.getRange();dm(this,e,n,null,i.affectsData)}setSelection(t,e,i){this._assertWriterUsedCorrectly();this.model.document.selection._setTo(t,e,i)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly();this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){this._assertWriterUsedCorrectly();if(typeof t==="string"){this._setSelectionAttribute(t,e)}else{for(const[e,i]of Hs(t)){this._setSelectionAttribute(e,i)}}}removeSelectionAttribute(t){this._assertWriterUsedCorrectly();if(typeof t==="string"){this._removeSelectionAttribute(t)}else{for(const e of t){this._removeSelectionAttribute(e)}}}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const n=df._getStoreAttributeKey(t);this.setAttribute(n,e,i.anchor.parent)}i._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const i=df._getStoreAttributeKey(t);this.removeAttribute(i,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this){throw new ss["b"]("writer-incorrect-use: Trying to use a writer outside the change() block.",this)}}_addOperationForAffectedMarkers(t,e){for(const i of this.model.markers){if(!i.managedUsingOperations){continue}const n=i.getRange();let o=false;if(t=="move"){o=e.containsPosition(n.start)||e.start.isEqual(n.start)||e.containsPosition(n.end)||e.end.isEqual(n.end)}else{const t=e.nodeBefore;const i=e.nodeAfter;const r=n.start.parent==t&&n.start.isAtEnd;const s=n.end.parent==i&&n.end.offset==0;const a=n.end.nodeAfter==i;const c=n.start.nodeAfter==i;o=r||s||a||c}if(o){this.updateMarker(i.name,{range:n})}}}}function cm(t,e,i,n){const o=t.model;const r=o.document;let s=n.start;let a;let c;let l;for(const t of n.getWalker({shallow:true})){l=t.item.getAttribute(e);if(a&&c!=l){if(c!=i){d()}s=a}a=t.nextPosition;c=l}if(a instanceof Uh&&a!=s&&c!=i){d()}function d(){const n=new $h(s,a);const l=n.root.document?r.version:null;const d=new Qg(n,e,c,i,l);t.batch.addOperation(d);o.applyOperation(d)}}function lm(t,e,i,n){const o=t.model;const r=o.document;const s=n.getAttribute(e);let a,c;if(s!=i){const l=n.root===n;if(l){const t=n.document?r.version:null;c=new nm(n,e,s,i,t)}else{a=new $h(Uh._createBefore(n),t.createPositionAfter(n));const o=a.root.document?r.version:null;c=new Qg(a,e,s,i,o)}t.batch.addOperation(c);o.applyOperation(c)}}function dm(t,e,i,n,o){const r=t.model;const s=r.document;const a=new em(e,i,n,r.markers,o,s.version);t.batch.addOperation(a);r.applyOperation(a)}function um(t,e,i,n){let o;if(t.root.document){const i=n.document;const r=new Uh(i.graveyard,[0]);o=new Zg(t,e,r,i.version)}else{o=new Xg(t,e)}i.addOperation(o);n.applyOperation(o)}function hm(t,e){if(t===e){return true}if(t instanceof sm&&e instanceof sm){return true}return false}class fm{constructor(t){this._markerCollection=t;this._changesInElement=new Map;this._elementSnapshots=new Map;this._changedMarkers=new Map;this._changeCount=0;this._cachedChanges=null;this._cachedChangesWithGraveyard=null}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0}refreshItem(t){if(this._isInInsertedElement(t.parent)){return}this._markRemove(t.parent,t.startOffset,t.offsetSize);this._markInsert(t.parent,t.startOffset,t.offsetSize);const e=$h._createOn(t);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getRange();this.bufferMarkerChange(t.name,e,e,t.affectsData)}this._cachedChanges=null}bufferOperation(t){switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent)){return}this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const e of t.range.getItems({shallow:true})){if(this._isInInsertedElement(e.parent)){continue}this._markAttribute(e)}break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition)){return}const e=this._isInInsertedElement(t.sourcePosition.parent);const i=this._isInInsertedElement(t.targetPosition.parent);if(!e){this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany)}if(!i){this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany)}break}case"rename":{if(this._isInInsertedElement(t.position.parent)){return}this._markRemove(t.position.parent,t.position.offset,1);this._markInsert(t.position.parent,t.position.offset,1);const e=$h._createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getRange();this.bufferMarkerChange(t.name,e,e,t.affectsData)}break}case"split":{const e=t.splitPosition.parent;if(!this._isInInsertedElement(e)){this._markRemove(e,t.splitPosition.offset,t.howMany)}if(!this._isInInsertedElement(t.insertionPosition.parent)){this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1)}if(t.graveyardPosition){this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1)}break}case"merge":{const e=t.sourcePosition.parent;if(!this._isInInsertedElement(e.parent)){this._markRemove(e.parent,e.startOffset,1)}const i=t.graveyardPosition.parent;this._markInsert(i,t.graveyardPosition.offset,1);const n=t.targetPosition.parent;if(!this._isInInsertedElement(n)){this._markInsert(n,t.targetPosition.offset,e.maxOffset)}break}}this._cachedChanges=null}bufferMarkerChange(t,e,i,n){const o=this._changedMarkers.get(t);if(!o){this._changedMarkers.set(t,{oldRange:e,newRange:i,affectsData:n})}else{o.newRange=i;o.affectsData=n;if(o.oldRange==null&&o.newRange==null){this._changedMarkers.delete(t)}}}getMarkersToRemove(){const t=[];for(const[e,i]of this._changedMarkers){if(i.oldRange!=null){t.push({name:e,range:i.oldRange})}}return t}getMarkersToAdd(){const t=[];for(const[e,i]of this._changedMarkers){if(i.newRange!=null){t.push({name:e,range:i.newRange})}}return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(t=>({name:t[0],data:{oldRange:t[1].oldRange,newRange:t[1].newRange}}))}hasDataChanges(){for(const[,t]of this._changedMarkers){if(t.affectsData){return true}}return this._changesInElement.size>0}getChanges(t={includeChangesInGraveyard:false}){if(this._cachedChanges){if(t.includeChangesInGraveyard){return this._cachedChangesWithGraveyard.slice()}else{return this._cachedChanges.slice()}}const e=[];for(const t of this._changesInElement.keys()){const i=this._changesInElement.get(t).sort((t,e)=>{if(t.offset===e.offset){if(t.type!=e.type){return t.type=="remove"?-1:1}return 0}return t.offset<e.offset?-1:1});const n=this._elementSnapshots.get(t);const o=gm(t.getChildren());const r=mm(n.length,i);let s=0;let a=0;for(const i of r){if(i==="i"){e.push(this._getInsertDiff(t,s,o[s].name));s++}else if(i==="r"){e.push(this._getRemoveDiff(t,s,n[a].name));a++}else if(i==="a"){const i=o[s].attributes;const r=n[a].attributes;let c;if(o[s].name=="$text"){c=new $h(Uh._createAt(t,s),Uh._createAt(t,s+1))}else{const e=t.offsetToIndex(s);c=new $h(Uh._createAt(t,s),Uh._createAt(t.getChild(e),0))}e.push(...this._getAttributesDiff(c,r,i));s++;a++}else{s++;a++}}}e.sort((t,e)=>{if(t.position.root!=e.position.root){return t.position.root.rootName<e.position.root.rootName?-1:1}if(t.position.isEqual(e.position)){return t.changeCount-e.changeCount}return t.position.isBefore(e.position)?-1:1});for(let t=1;t<e.length;t++){const i=e[t-1];const n=e[t];const o=i.type=="remove"&&n.type=="remove"&&i.name=="$text"&&n.name=="$text"&&i.position.isEqual(n.position);const r=i.type=="insert"&&n.type=="insert"&&i.name=="$text"&&n.name=="$text"&&i.position.parent==n.position.parent&&i.position.offset+i.length==n.position.offset;const s=i.type=="attribute"&&n.type=="attribute"&&i.position.parent==n.position.parent&&i.range.isFlat&&n.range.isFlat&&i.position.offset+i.length==n.position.offset&&i.attributeKey==n.attributeKey&&i.attributeOldValue==n.attributeOldValue&&i.attributeNewValue==n.attributeNewValue;if(o||r||s){e[t-1].length++;if(s){e[t-1].range.end=e[t-1].range.end.getShiftedBy(1)}e.splice(t,1);t--}}for(const t of e){delete t.changeCount;if(t.type=="attribute"){delete t.position;delete t.length}}this._changeCount=0;this._cachedChangesWithGraveyard=e.slice();this._cachedChanges=e.slice().filter(pm);if(t.includeChangesInGraveyard){return this._cachedChangesWithGraveyard}else{return this._cachedChanges}}reset(){this._changesInElement.clear();this._elementSnapshots.clear();this._changedMarkers.clear();this._cachedChanges=null}_markInsert(t,e,i){const n={type:"insert",offset:e,howMany:i,count:this._changeCount++};this._markChange(t,n)}_markRemove(t,e,i){const n={type:"remove",offset:e,howMany:i,count:this._changeCount++};this._markChange(t,n);this._removeAllNestedChanges(t,e,i)}_markAttribute(t){const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const i=this._getChangesForElement(t);this._handleChange(e,i);i.push(e);for(let t=0;t<i.length;t++){if(i[t].howMany<1){i.splice(t,1);t--}}}_getChangesForElement(t){let e;if(this._changesInElement.has(t)){e=this._changesInElement.get(t)}else{e=[];this._changesInElement.set(t,e)}return e}_makeSnapshot(t){if(!this._elementSnapshots.has(t)){this._elementSnapshots.set(t,gm(t.getChildren()))}}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const i of e){const n=t.offset+t.howMany;const o=i.offset+i.howMany;if(t.type=="insert"){if(i.type=="insert"){if(t.offset<=i.offset){i.offset+=t.howMany}else if(t.offset<o){i.howMany+=t.nodesToHandle;t.nodesToHandle=0}}if(i.type=="remove"){if(t.offset<i.offset){i.offset+=t.howMany}}if(i.type=="attribute"){if(t.offset<=i.offset){i.offset+=t.howMany}else if(t.offset<o){const o=i.howMany;i.howMany=t.offset-i.offset;e.unshift({type:"attribute",offset:n,howMany:o-i.howMany,count:this._changeCount++})}}}if(t.type=="remove"){if(i.type=="insert"){if(n<=i.offset){i.offset-=t.howMany}else if(n<=o){if(t.offset<i.offset){const e=n-i.offset;i.offset=t.offset;i.howMany-=e;t.nodesToHandle-=e}else{i.howMany-=t.nodesToHandle;t.nodesToHandle=0}}else{if(t.offset<=i.offset){t.nodesToHandle-=i.howMany;i.howMany=0}else if(t.offset<o){const e=o-t.offset;i.howMany-=e;t.nodesToHandle-=e}}}if(i.type=="remove"){if(n<=i.offset){i.offset-=t.howMany}else if(t.offset<i.offset){t.nodesToHandle+=i.howMany;i.howMany=0}}if(i.type=="attribute"){if(n<=i.offset){i.offset-=t.howMany}else if(t.offset<i.offset){const e=n-i.offset;i.offset=t.offset;i.howMany-=e}else if(t.offset<o){if(n<=o){const n=i.howMany;i.howMany=t.offset-i.offset;const o=n-i.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:o,count:this._changeCount++})}else{i.howMany-=o-t.offset}}}}if(t.type=="attribute"){if(i.type=="insert"){if(t.offset<i.offset&&n>i.offset){if(n>o){const t={type:"attribute",offset:o,howMany:n-o,count:this._changeCount++};this._handleChange(t,e);e.push(t)}t.nodesToHandle=i.offset-t.offset;t.howMany=t.nodesToHandle}else if(t.offset>=i.offset&&t.offset<o){if(n>o){t.nodesToHandle=n-o;t.offset=o}else{t.nodesToHandle=0}}}if(i.type=="remove"){if(t.offset<i.offset&&n>i.offset){const o={type:"attribute",offset:i.offset,howMany:n-i.offset,count:this._changeCount++};this._handleChange(o,e);e.push(o);t.nodesToHandle=i.offset-t.offset;t.howMany=t.nodesToHandle}}if(i.type=="attribute"){if(t.offset>=i.offset&&n<=o){t.nodesToHandle=0;t.howMany=0;t.offset=0}else if(t.offset<=i.offset&&n>=o){i.howMany=0}}}}t.howMany=t.nodesToHandle;delete t.nodesToHandle}_getInsertDiff(t,e,i){return{type:"insert",position:Uh._createAt(t,e),name:i,length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,i){return{type:"remove",position:Uh._createAt(t,e),name:i,length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,i){const n=[];i=new Map(i);for(const[o,r]of e){const e=i.has(o)?i.get(o):null;if(e!==r){n.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:o,attributeOldValue:r,attributeNewValue:e,changeCount:this._changeCount++})}i.delete(o)}for(const[e,o]of i){n.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:e,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++})}return n}_isInInsertedElement(t){const e=t.parent;if(!e){return false}const i=this._changesInElement.get(e);const n=t.startOffset;if(i){for(const t of i){if(t.type=="insert"&&n>=t.offset&&n<t.offset+t.howMany){return true}}}return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,i){const n=new $h(Uh._createAt(t,e),Uh._createAt(t,e+i));for(const t of n.getItems({shallow:true})){if(t.is("element")){this._elementSnapshots.delete(t);this._changesInElement.delete(t);this._removeAllNestedChanges(t,0,t.maxOffset)}}}}function gm(t){const e=[];for(const i of t){if(i.is("text")){for(let t=0;t<i.data.length;t++){e.push({name:"$text",attributes:new Map(i.getAttributes())})}}else{e.push({name:i.name,attributes:new Map(i.getAttributes())})}}return e}function mm(t,e){const i=[];let n=0;let o=0;for(const t of e){if(t.offset>n){for(let e=0;e<t.offset-n;e++){i.push("e")}o+=t.offset-n}if(t.type=="insert"){for(let e=0;e<t.howMany;e++){i.push("i")}n=t.offset+t.howMany}else if(t.type=="remove"){for(let e=0;e<t.howMany;e++){i.push("r")}n=t.offset;o+=t.howMany}else{i.push(..."a".repeat(t.howMany).split(""));n=t.offset+t.howMany;o+=t.howMany}}if(o<t){for(let e=0;e<t-o-n;e++){i.push("e")}}return i}function pm(t){const e=t.position&&t.position.root.rootName=="$graveyard";const i=t.range&&t.range.root.rootName=="$graveyard";return!e&&!i}class bm{constructor(){this._operations=[];this._undoPairs=new Map;this._undoneOperations=new Set}addOperation(t){if(this._operations.includes(t)){return}this._operations.push(t)}getOperations(t=0,e=Number.POSITIVE_INFINITY){if(t<0){return[]}return this._operations.slice(t,e)}getOperation(t){return this._operations[t]}setOperationAsUndone(t,e){this._undoPairs.set(e,t);this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}}function wm(t){return!!t&&t.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t)}function km(t){return!!t&&t.length==1&&/[\ud800-\udbff]/.test(t)}function _m(t){return!!t&&t.length==1&&/[\udc00-\udfff]/.test(t)}function vm(t,e){return km(t.charAt(e-1))&&_m(t.charAt(e))}function ym(t,e){return wm(t.charAt(e))}const xm="$graveyard";class Cm{constructor(t){this.model=t;this.version=0;this.history=new bm(this);this.selection=new df(this);this.roots=new ys({idProperty:"rootName"});this.differ=new fm(t.markers);this._postFixers=new Set;this._hasSelectionChangedFromTheLastChangeBlock=false;this.createRoot("$root",xm);this.listenTo(t,"applyOperation",(t,e)=>{const i=e[0];if(i.isDocumentOperation&&i.baseVersion!==this.version){throw new ss["b"]("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",this,{operation:i})}},{priority:"highest"});this.listenTo(t,"applyOperation",(t,e)=>{const i=e[0];if(i.isDocumentOperation){this.differ.bufferOperation(i)}},{priority:"high"});this.listenTo(t,"applyOperation",(t,e)=>{const i=e[0];if(i.isDocumentOperation){this.version++;this.history.addOperation(i)}},{priority:"low"});this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=true});this.listenTo(t.markers,"update",(t,e,i,n)=>{this.differ.bufferMarkerChange(e.name,i,n,e.affectsData);if(i===null){e.on("change",(t,i)=>{this.differ.bufferMarkerChange(e.name,i,e.getRange(),e.affectsData)})}})}get graveyard(){return this.getRoot(xm)}createRoot(t="$root",e="main"){if(this.roots.get(e)){throw new ss["b"]("model-document-createRoot-name-exists: Root with specified name already exists.",this,{name:e})}const i=new sm(this,t,e);this.roots.add(i);return i}destroy(){this.selection.destroy();this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,t=>t.rootName).filter(t=>t!=xm)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=Bs(this);t.selection="[engine.model.DocumentSelection]";t.model="[engine.model.Model]";return t}_handleChangeBlock(t){if(this._hasDocumentChangedFromTheLastChangeBlock()){this._callPostFixers(t);this.selection.refresh();if(this.differ.hasDataChanges()){this.fire("change:data",t.batch)}else{this.fire("change",t.batch)}this.selection.refresh();this.differ.reset()}this._hasSelectionChangedFromTheLastChangeBlock=false}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const t of this.roots){if(t!==this.graveyard){return t}}return this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot();const e=this.model;const i=e.schema;const n=e.createPositionFromPath(t,[0]);const o=i.getNearestSelectionRange(n);return o||e.createRange(n)}_validateSelectionRange(t){return Am(t.start)&&Am(t.end)}_callPostFixers(t){let e=false;do{for(const i of this._postFixers){this.selection.refresh();e=i(t);if(e){break}}}while(e)}}vs(Cm,ds);function Am(t){const e=t.textNode;if(e){const i=e.data;const n=t.offset-e.startOffset;return!vm(i,n)&&!ym(i,n)}return true}class Tm{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){return this._markers.has(t)}get(t){return this._markers.get(t)||null}_set(t,e,i=false,n=false){const o=t instanceof Pm?t.name:t;const r=this._markers.get(o);if(r){const t=r.getRange();let s=false;if(!t.isEqual(e)){r._attachLiveRange(rf.fromRange(e));s=true}if(i!=r.managedUsingOperations){r._managedUsingOperations=i;s=true}if(typeof n==="boolean"&&n!=r.affectsData){r._affectsData=n;s=true}if(s){this.fire("update:"+o,r,t,e)}return r}const s=rf.fromRange(e);const a=new Pm(o,s,i,n);this._markers.set(o,a);this.fire("update:"+o,a,null,e);return a}_remove(t){const e=t instanceof Pm?t.name:t;const i=this._markers.get(e);if(i){this._markers.delete(e);this.fire("update:"+e,i,i.getRange(),null);this._destroyMarker(i);return true}return false}_refresh(t){const e=t instanceof Pm?t.name:t;const i=this._markers.get(e);if(!i){throw new ss["b"]("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.",this)}const n=i.getRange();this.fire("update:"+e,i,n,n,i.managedUsingOperations,i.affectsData)}*getMarkersAtPosition(t){for(const e of this){if(e.getRange().containsPosition(t)){yield e}}}*getMarkersIntersectingRange(t){for(const e of this){if(e.getRange().getIntersection(t)!==null){yield e}}}destroy(){for(const t of this._markers.values()){this._destroyMarker(t)}this._markers=null;this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values()){if(e.name.startsWith(t+":")){yield e}}}_destroyMarker(t){t.stopListening();t._detachLiveRange()}}vs(Tm,ds);class Pm{constructor(t,e,i,n){this.name=t;this._liveRange=this._attachLiveRange(e);this._managedUsingOperations=i;this._affectsData=n}get managedUsingOperations(){if(!this._liveRange){throw new ss["b"]("marker-destroyed: Cannot use a destroyed marker instance.",this)}return this._managedUsingOperations}get affectsData(){if(!this._liveRange){throw new ss["b"]("marker-destroyed: Cannot use a destroyed marker instance.",this)}return this._affectsData}getStart(){if(!this._liveRange){throw new ss["b"]("marker-destroyed: Cannot use a destroyed marker instance.",this)}return this._liveRange.start.clone()}getEnd(){if(!this._liveRange){throw new ss["b"]("marker-destroyed: Cannot use a destroyed marker instance.",this)}return this._liveRange.end.clone()}getRange(){if(!this._liveRange){throw new ss["b"]("marker-destroyed: Cannot use a destroyed marker instance.",this)}return this._liveRange.toRange()}is(t){return t=="marker"||t=="model:marker"}_attachLiveRange(t){if(this._liveRange){this._detachLiveRange()}t.delegate("change:range").to(this);t.delegate("change:content").to(this);this._liveRange=t;return t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this);this._liveRange.stopDelegating("change:content",this);this._liveRange.detach();this._liveRange=null}}vs(Pm,ds);class Sm extends Lg{get type(){return"noop"}clone(){return new Sm(this.baseVersion)}getReversed(){return new Sm(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}const Em={};Em[Qg.className]=Qg;Em[tm.className]=tm;Em[em.className]=em;Em[Zg.className]=Zg;Em[Sm.className]=Sm;Em[Lg.className]=Lg;Em[im.className]=im;Em[nm.className]=nm;Em[rm.className]=rm;Em[om.className]=om;class Rm{static fromJSON(t,e){return Em[t.__className].fromJSON(t,e)}}class Om extends Uh{constructor(t,e,i="toNone"){super(t,e,i);if(!this.root.is("rootElement")){throw new ss["b"]("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.",t)}Im.call(this)}detach(){this.stopListening()}is(t){return t=="livePosition"||t=="model:livePosition"||super.is(t)}toPosition(){return new Uh(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e?e:t.stickiness)}}function Im(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const i=e[0];if(!i.isDocumentOperation){return}Vm.call(this,i)},{priority:"low"})}function Vm(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path;this.root=e.root;this.fire("change",t)}}vs(Om,ds);function Nm(t,e,i,n){return t.change(o=>{let r;if(!i){r=t.document.selection}else if(i instanceof Xh||i instanceof df){r=i}else{r=o.createSelection(i,n)}if(!r.isCollapsed){t.deleteContent(r,{doNotAutoparagraph:true})}const s=new Mm(t,o,r.anchor);let a;if(e.is("documentFragment")){a=e.getChildren()}else{a=[e]}s.handleNodes(a,{isFirst:true,isLast:true});const c=s.getSelectionRange();if(c){if(r instanceof df){o.setSelection(c)}else{r.setTo(c)}}else{}const l=s.getAffectedRange()||t.createRange(r.anchor);s.destroy();return l})}class Mm{constructor(t,e,i){this.model=t;this.writer=e;this.position=i;this.canMergeWith=new Set([this.position.parent]);this.schema=t.schema;this._filterAttributesOf=[];this._affectedStart=null;this._affectedEnd=null}handleNodes(t,e){t=Array.from(t);for(let i=0;i<t.length;i++){const n=t[i];this._handleNode(n,{isFirst:i===0&&e.isFirst,isLast:i===t.length-1&&e.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer);this._filterAttributesOf=[]}getSelectionRange(){if(this.nodeToSelect){return $h._createOn(this.nodeToSelect)}return this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){if(!this._affectedStart){return null}return new $h(this._affectedStart,this._affectedEnd)}destroy(){if(this._affectedStart){this._affectedStart.detach()}if(this._affectedEnd){this._affectedEnd.detach()}}_handleNode(t,e){if(this.schema.isObject(t)){this._handleObject(t,e);return}const i=this._checkAndSplitToAllowedPosition(t,e);if(!i){this._handleDisallowedNode(t,e);return}this._insert(t);this._mergeSiblingsOf(t,e)}_handleObject(t,e){if(this._checkAndSplitToAllowedPosition(t)){this._insert(t)}else{this._tryAutoparagraphing(t,e)}}_handleDisallowedNode(t,e){if(t.is("element")){this.handleNodes(t.getChildren(),e)}else{this._tryAutoparagraphing(t,e)}}_insert(t){if(!this.schema.checkChild(this.position,t)){throw new ss["b"]("insertcontent-wrong-position: Given node cannot be inserted on the given position.",this,{node:t,position:this.position})}const e=Om.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position);this.writer.insert(t,this.position);this.position=e.toPosition();e.detach();if(this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")){this.nodeToSelect=t}else{this.nodeToSelect=null}this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){if(!this._affectedStart){this._affectedStart=Om.fromPosition(t,"toPrevious")}if(!this._affectedEnd||this._affectedEnd.isBefore(t)){if(this._affectedEnd){this._affectedEnd.detach()}this._affectedEnd=Om.fromPosition(t,"toNext")}}_mergeSiblingsOf(t,e){if(!(t instanceof jh)){return}const i=this._canMergeLeft(t,e);const n=this._canMergeRight(t,e);const o=Om._createBefore(t);o.stickiness="toNext";const r=Om._createAfter(t);r.stickiness="toNext";if(i){const t=Om.fromPosition(this.position);t.stickiness="toNext";if(this._affectedStart.isEqual(o)){this._affectedStart.detach();this._affectedStart=Om._createAt(o.nodeBefore,"end","toPrevious")}this.writer.merge(o);if(o.isEqual(this._affectedEnd)&&e.isLast){this._affectedEnd.detach();this._affectedEnd=Om._createAt(o.nodeBefore,"end","toNext")}this.position=t.toPosition();t.detach()}if(n){if(!this.position.isEqual(r)){throw new ss["b"]("insertcontent-invalid-insertion-position",this)}this.position=Uh._createAt(r.nodeBefore,"end");const t=Om.fromPosition(this.position,"toPrevious");if(this._affectedEnd.isEqual(r)){this._affectedEnd.detach();this._affectedEnd=Om._createAt(r.nodeBefore,"end","toNext")}this.writer.merge(r);if(r.getShiftedBy(-1).isEqual(this._affectedStart)&&e.isFirst){this._affectedStart.detach();this._affectedStart=Om._createAt(r.nodeBefore,0,"toPrevious")}this.position=t.toPosition();t.detach()}if(i||n){this._filterAttributesOf.push(this.position.parent)}o.detach();r.detach()}_canMergeLeft(t,e){const i=t.previousSibling;return e.isFirst&&i instanceof jh&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,t)}_canMergeRight(t,e){const i=t.nextSibling;return e.isLast&&i instanceof jh&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(t,i)}_tryAutoparagraphing(t,e){const i=this.writer.createElement("paragraph");if(this._getAllowedIn(i,this.position.parent)&&this.schema.checkChild(i,t)){i._appendChild(t);this._handleNode(i,e)}}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(t,this.position.parent);if(!e){return false}while(e!=this.position.parent){if(this.schema.isLimit(this.position.parent)){return false}if(this.position.isAtStart){const t=this.position.parent;this.position=this.writer.createPositionBefore(t);if(t.isEmpty&&t.parent===e){this.writer.remove(t)}}else if(this.position.isAtEnd){this.position=this.writer.createPositionAfter(this.position.parent)}else{const t=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position);this.writer.split(this.position);this.position=t;this.canMergeWith.add(this.position.nodeAfter)}}return true}_getAllowedIn(t,e){if(this.schema.checkChild(e,t)){return e}if(e.parent){return this._getAllowedIn(t,e.parent)}return null}}function Bm(t,e,i={}){if(e.isCollapsed){return}const n=e.getFirstRange();if(n.root.rootName=="$graveyard"){return}const o=t.schema;t.change(t=>{if(!i.doNotResetEntireContent&&Hm(o,e)){jm(t,e,o);return}const r=n.start;const s=Om.fromPosition(n.end,"toNext");if(!n.start.isTouching(n.end)){t.remove(n)}if(!i.leaveUnmerged){zm(t,r,s);o.removeDisallowedAttributes(r.parent.getChildren(),t)}Wm(t,e,r);if(!i.doNotAutoparagraph&&Lm(o,r)){Dm(t,r,e)}s.detach()})}function zm(t,e,i){const n=e.parent;const o=i.parent;if(n==o){return}if(t.model.schema.isLimit(n)||t.model.schema.isLimit(o)){return}if(!Fm(e,i,t.model.schema)){return}e=t.createPositionAfter(n);i=t.createPositionBefore(o);if(!i.isEqual(e)){t.insert(o,e)}t.merge(e);while(i.parent.isEmpty){const e=i.parent;i=t.createPositionBefore(e);t.remove(e)}zm(t,e,i)}function Lm(t,e){const i=t.checkChild(e,"$text");const n=t.checkChild(e,"paragraph");return!i&&n}function Fm(t,e,i){const n=new $h(t,e);for(const t of n.getWalker()){if(i.isLimit(t.item)){return false}}return true}function Dm(t,e,i){const n=t.createElement("paragraph");t.insert(n,e);Wm(t,i,t.createPositionAt(n,0))}function jm(t,e){const i=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(i));Dm(t,t.createPositionAt(i,0),e)}function Hm(t,e){const i=t.getLimitElement(e);if(!e.containsEntireContent(i)){return false}const n=e.getFirstRange();if(n.start.parent==n.end.parent){return false}return t.checkChild(i,"paragraph")}function Wm(t,e,i){if(e instanceof df){t.setSelection(i)}else{e.setTo(i)}}const qm=' ,.?!:;"-()';function Um(t,e,i={}){const n=t.schema;const o=i.direction!="backward";const r=i.unit?i.unit:"character";const s=e.focus;const a=new Wh({boundaries:Jm(s,o),singleCharacters:true,direction:o?"forward":"backward"});const c={walker:a,schema:n,isForward:o,unit:r};let l;while(l=a.next()){if(l.done){return}const i=$m(c,l.value);if(i){if(e instanceof df){t.change(t=>{t.setSelectionFocus(i)})}else{e.setFocus(i)}return}}}function $m(t,e){if(e.type=="text"){if(t.unit==="word"){return Km(t.walker,t.isForward)}return Gm(t.walker,t.unit,t.isForward)}if(e.type==(t.isForward?"elementStart":"elementEnd")){if(t.schema.isObject(e.item)){return Uh._createAt(e.item,t.isForward?"after":"before")}if(t.schema.checkChild(e.nextPosition,"$text")){return e.nextPosition}}else{if(t.schema.isLimit(e.item)){t.walker.skip(()=>true);return}if(t.schema.checkChild(e.nextPosition,"$text")){return e.nextPosition}}}function Gm(t,e){const i=t.position.textNode;if(i){const n=i.data;let o=t.position.offset-i.startOffset;while(vm(n,o)||e=="character"&&ym(n,o)){t.next();o=t.position.offset-i.startOffset}}return t.position}function Km(t,e){let i=t.position.textNode;if(i){let n=t.position.offset-i.startOffset;while(!Ym(i.data,n,e)&&!Qm(i,n,e)){t.next();const o=e?t.position.nodeAfter:t.position.nodeBefore;if(o&&o.is("text")){const n=o.data.charAt(e?0:o.data.length-1);if(!qm.includes(n)){t.next();i=t.position.textNode}}n=t.position.offset-i.startOffset}}return t.position}function Jm(t,e){const i=t.root;const n=Uh._createAt(i,e?"end":0);if(e){return new $h(t,n)}else{return new $h(n,t)}}function Ym(t,e,i){const n=e+(i?0:-1);return qm.includes(t.charAt(n))}function Qm(t,e,i){return e===(i?t.endOffset:0)}function Xm(t,e){return t.change(t=>{const i=t.createDocumentFragment();const n=e.getFirstRange();if(!n||n.isCollapsed){return i}const o=n.start.root;const r=n.start.getCommonPath(n.end);const s=o.getNodeByPath(r);let a;if(n.start.parent==n.end.parent){a=n}else{a=t.createRange(t.createPositionAt(s,n.start.path[r.length]),t.createPositionAt(s,n.end.path[r.length]+1))}const c=a.end.offset-a.start.offset;for(const e of a.getItems({shallow:true})){if(e.is("textProxy")){t.appendText(e.data,e.getAttributes(),i)}else{t.append(e._clone(true),i)}}if(a!=n){const e=n._getTransformedByMove(a.start,t.createPositionAt(i,0),c)[0];const o=t.createRange(t.createPositionAt(i,0),e.start);const r=t.createRange(e.end,t.createPositionAt(i,"end"));Zm(r,t);Zm(o,t)}return i})}function Zm(t,e){const i=[];Array.from(t.getItems({direction:"backward"})).map(t=>e.createRangeOn(t)).filter(e=>{const i=(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end));return i}).forEach(t=>{i.push(t.start.parent);e.remove(t)});i.forEach(t=>{let i=t;while(i.parent&&i.isEmpty){const t=e.createRangeOn(i);i=i.parent;e.remove(t)}})}function tp(t){t.document.registerPostFixer(e=>ep(e,t))}function ep(t,e){const i=e.document.selection;const n=e.schema;const o=[];let r=false;for(const t of i.getRanges()){const e=ip(t,n);if(e){o.push(e);r=true}else{o.push(t)}}if(r){t.setSelection(ap(o),{backward:i.isBackward})}}function ip(t,e){if(t.isCollapsed){return np(t,e)}return op(t,e)}function np(t,e){const i=t.start;const n=e.getNearestSelectionRange(i);if(!n){return null}if(!n.isCollapsed){return n}const o=n.start;if(i.isEqual(o)){return null}return new $h(o)}function op(t,e){const i=t.start;const n=t.end;const o=e.checkChild(i,"$text");const r=e.checkChild(n,"$text");const s=e.getLimitElement(i);const a=e.getLimitElement(n);if(s===a){if(o&&r){return null}if(sp(i,n,e)){const t=i.nodeAfter&&e.isObject(i.nodeAfter);const o=t?null:e.getNearestSelectionRange(i,"forward");const r=n.nodeBefore&&e.isObject(n.nodeBefore);const s=r?null:e.getNearestSelectionRange(n,"backward");const a=o?o.start:i;const c=s?s.start:n;return new $h(a,c)}}const c=s&&!s.is("rootElement");const l=a&&!a.is("rootElement");if(c||l){const t=i.nodeAfter&&n.nodeBefore&&i.nodeAfter.parent===n.nodeBefore.parent;const o=c&&(!t||!cp(i.nodeAfter,e));const r=l&&(!t||!cp(n.nodeBefore,e));let d=i;let u=n;if(o){d=Uh._createBefore(rp(s,e))}if(r){u=Uh._createAfter(rp(a,e))}return new $h(d,u)}return null}function rp(t,e){let i=t;let n=i;while(e.isLimit(n)&&n.parent){i=n;n=n.parent}return i}function sp(t,e,i){const n=t.nodeAfter&&!i.isLimit(t.nodeAfter)||i.checkChild(t,"$text");const o=e.nodeBefore&&!i.isLimit(e.nodeBefore)||i.checkChild(e,"$text");return n||o}function ap(t){const e=[];e.push(t.shift());for(const i of t){const t=e.pop();if(i.isIntersecting(t)){const n=t.start.isAfter(i.start)?i.start:t.start;const o=t.end.isAfter(i.end)?t.end:i.end;const r=new $h(n,o);e.push(r)}else{e.push(t);e.push(i)}}return e}function cp(t,e){return t&&e.isObject(t)}class lp{constructor(){this.markers=new Tm;this.document=new Cm(this);this.schema=new ug;this._pendingChanges=[];this._currentWriter=null;["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t));this.on("applyOperation",(t,e)=>{const i=e[0];i._validate()},{priority:"highest"});this.schema.register("$root",{isLimit:true});this.schema.register("$block",{allowIn:"$root",isBlock:true});this.schema.register("$text",{allowIn:"$block",isInline:true});this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:true});this.schema.extend("$text",{allowIn:"$clipboardHolder"});this.schema.register("$marker");this.schema.addChildCheck((t,e)=>{if(e.name==="$marker"){return true}});tp(this)}change(t){try{if(this._pendingChanges.length===0){this._pendingChanges.push({batch:new zg,callback:t});return this._runPendingChanges()[0]}else{return t(this._currentWriter)}}catch(t){ss["b"].rethrowUnexpectedError(t,this)}}enqueueChange(t,e){try{if(typeof t==="string"){t=new zg(t)}else if(typeof t=="function"){e=t;t=new zg}this._pendingChanges.push({batch:t,callback:e});if(this._pendingChanges.length==1){this._runPendingChanges()}}catch(t){ss["b"].rethrowUnexpectedError(t,this)}}applyOperation(t){t._execute()}insertContent(t,e,i){return Nm(this,t,e,i)}deleteContent(t,e){Bm(this,t,e)}modifySelection(t,e){Um(this,t,e)}getSelectedContent(t){return Xm(this,t)}hasContent(t,e){const i=t instanceof jh?$h._createIn(t):t;if(i.isCollapsed){return false}for(const t of this.markers.getMarkersIntersectingRange(i)){if(t.affectsData){return true}}const{ignoreWhitespaces:n=false}=e||{};for(const t of i.getItems()){if(t.is("textProxy")){if(!n){return true}else if(t.data.search(/\S/)!==-1){return true}}else if(this.schema.isObject(t)){return true}}return false}createPositionFromPath(t,e,i){return new Uh(t,e,i)}createPositionAt(t,e){return Uh._createAt(t,e)}createPositionAfter(t){return Uh._createAfter(t)}createPositionBefore(t){return Uh._createBefore(t)}createRange(t,e){return new $h(t,e)}createRangeIn(t){return $h._createIn(t)}createRangeOn(t){return $h._createOn(t)}createSelection(t,e,i){return new Xh(t,e,i)}createBatch(t){return new zg(t)}createOperationFromJSON(t){return Rm.fromJSON(t,this.document)}destroy(){this.document.destroy();this.stopListening()}_runPendingChanges(){const t=[];this.fire("_beforeChanges");while(this._pendingChanges.length){const e=this._pendingChanges[0].batch;this._currentWriter=new am(this,e);const i=this._pendingChanges[0].callback(this._currentWriter);t.push(i);this.document._handleChangeBlock(this._currentWriter);this._pendingChanges.shift();this._currentWriter=null}this.fire("_afterChanges");return t}}vs(lp,Jc);class dp{constructor(){this._listener=Object.create(qd)}listenTo(t){this._listener.listenTo(t,"keydown",(t,e)=>{this._listener.fire("_keydown:"+Ml(e),e)})}set(t,e,i={}){const n=Bl(t);const o=i.priority;this._listener.listenTo(this._listener,"_keydown:"+n,(t,i)=>{e(i,()=>{i.preventDefault();i.stopPropagation();t.stop()});t.return=true},{priority:o})}press(t){return!!this._listener.fire("_keydown:"+Ml(t),t)}destroy(){this._listener.stopListening()}}class up extends dp{constructor(t){super();this.editor=t}set(t,e,i={}){if(typeof e=="string"){const t=e;e=(e,i)=>{this.editor.execute(t);i()}}super.set(t,e,i)}}class hp{constructor(t={}){this._context=t.context||new Is({language:t.language});this._context._addEditor(this,!t.context);const e=Array.from(this.constructor.builtinPlugins||[]);this.config=new Jr(t,this.constructor.defaultConfig);this.config.define("plugins",e);this.config.define(this._context._getEditorConfig());this.plugins=new xs(this,e,this._context.plugins);this.locale=this._context.locale;this.t=this.locale.t;this.commands=new cg;this.set("state","initializing");this.once("ready",()=>this.state="ready",{priority:"high"});this.once("destroy",()=>this.state="destroyed",{priority:"high"});this.set("isReadOnly",false);this.model=new lp;const i=new Vc;this.data=new Ig(this.model,i);this.editing=new ag(this.model,i);this.editing.view.document.bind("isReadOnly").to(this);this.conversion=new Ng([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher);this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher);this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher);this.keystrokes=new up(this);this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const t=this.config;const e=t.get("plugins");const i=t.get("removePlugins")||[];const n=t.get("extraPlugins")||[];return this.plugins.init(e.concat(n),i)}destroy(){let t=Promise.resolve();if(this.state=="initializing"){t=new Promise(t=>this.once("ready",t))}return t.then(()=>{this.fire("destroy");this.stopListening();this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy();this.data.destroy();this.editing.destroy();this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(...t){try{this.commands.execute(...t)}catch(t){ss["b"].rethrowUnexpectedError(t,this)}}}vs(hp,Jc);class fp{getHtml(t){const e=document.implementation.createHTMLDocument("");const i=e.createElement("div");i.appendChild(t);return i.innerHTML}}class gp{constructor(t){this._domParser=new DOMParser;this._domConverter=new zd(t,{blockFillerMode:"nbsp"});this._htmlWriter=new fp}toData(t){const e=this._domConverter.viewToDom(t,document);return this._htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this._domConverter.domToView(e)}_toDom(t){const e=this._domParser.parseFromString(t,"text/html");const i=e.createDocumentFragment();const n=e.body.childNodes;while(n.length>0){i.appendChild(n[0])}return i}}class mp{constructor(t){this.editor=t;this.set("isEnabled",true);this._disableStack=new Set}forceDisabled(t){this._disableStack.add(t);if(this._disableStack.size==1){this.on("set:isEnabled",pp,{priority:"highest"});this.isEnabled=false}}clearForceDisabled(t){this._disableStack.delete(t);if(this._disableStack.size==0){this.off("set:isEnabled",pp);this.isEnabled=true}}destroy(){this.stopListening()}static get isContextPlugin(){return false}}vs(mp,Jc);function pp(t){t.return=false;t.stop()}class bp extends ys{constructor(t){super({idProperty:"viewUid"});this.on("add",(t,e,i)=>{if(!e.isRendered){e.render()}if(e.element&&this._parentElement){this._parentElement.insertBefore(e.element,this._parentElement.children[i])}});this.on("remove",(t,e)=>{if(e.element&&this._parentElement){e.element.remove()}});this.locale=t;this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t}delegate(...t){if(!t.length||!wp(t)){throw new ss["b"]("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this)}return{to:e=>{for(const i of this){for(const n of t){i.delegate(n).to(e)}}this.on("add",(i,n)=>{for(const i of t){n.delegate(i).to(e)}});this.on("remove",(i,n)=>{for(const i of t){n.stopDelegating(i,e)}})}}}}function wp(t){return t.every(t=>typeof t=="string")}const kp="http://www.w3.org/1999/xhtml";class _p{constructor(t){Object.assign(this,Op(Rp(t)));this._isRendered=false;this._revertData=null}render(){const t=this._renderNode({intoFragment:true});this._isRendered=true;return t}apply(t){this._revertData=qp();this._renderNode({node:t,isApplying:true,revertData:this._revertData});return t}revert(t){if(!this._revertData){throw new ss["b"]("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,t])}this._revertTemplateFromNode(t,this._revertData)}*getViews(){function*t(e){if(e.children){for(const i of e.children){if(jp(i)){yield i}else if(Hp(i)){yield*t(i)}}}}yield*t(this)}static bind(t,e){return{to(i,n){return new yp({eventNameOrFunction:i,attribute:i,observable:t,emitter:e,callback:n})},if(i,n,o){return new xp({observable:t,emitter:e,attribute:i,valueIfTrue:n,callback:o})}}}static extend(t,e){if(t._isRendered){throw new ss["b"]("template-extend-render: Attempting to extend a template which has already been rendered.",[this,t])}Fp(t,Op(Rp(e)))}_renderNode(t){let e;if(t.node){e=this.tag&&this.text}else{e=this.tag?this.text:!this.text}if(e){throw new ss["b"]('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this)}if(this.text){return this._renderText(t)}else{return this._renderElement(t)}}_renderElement(t){let e=t.node;if(!e){e=t.node=document.createElementNS(this.ns||kp,this.tag)}this._renderAttributes(t);this._renderElementChildren(t);this._setUpListeners(t);return e}_renderText(t){let e=t.node;if(e){t.revertData.text=e.textContent}else{e=t.node=document.createTextNode("")}if(Cp(this.text)){this._bindToObservable({schema:this.text,updater:Pp(e),data:t})}else{e.textContent=this.text.join("")}return e}_renderAttributes(t){let e,i,n,o;if(!this.attributes){return}const r=t.node;const s=t.revertData;for(e in this.attributes){n=r.getAttribute(e);i=this.attributes[e];if(s){s.attributes[e]=n}o=ct(i[0])&&i[0].ns?i[0].ns:null;if(Cp(i)){const a=o?i[0].value:i;if(s&&Up(e)){a.unshift(n)}this._bindToObservable({schema:a,updater:Sp(r,e,o),data:t})}else if(e=="style"&&typeof i[0]!=="string"){this._renderStyleAttribute(i[0],t)}else{if(s&&n&&Up(e)){i.unshift(n)}i=i.map(t=>t?t.value||t:t).reduce((t,e)=>t.concat(e),[]).reduce(zp,"");if(!Dp(i)){r.setAttributeNS(o,e,i)}}}}_renderStyleAttribute(t,e){const i=e.node;for(const n in t){const o=t[n];if(Cp(o)){this._bindToObservable({schema:[o],updater:Ep(i,n),data:e})}else{i.style[n]=o}}}_renderElementChildren(t){const e=t.node;const i=t.intoFragment?document.createDocumentFragment():e;const n=t.isApplying;let o=0;for(const r of this.children){if(Wp(r)){if(!n){r.setParent(e);for(const t of r){i.appendChild(t.element)}}}else if(jp(r)){if(!n){if(!r.isRendered){r.render()}i.appendChild(r.element)}}else if(xd(r)){i.appendChild(r)}else{if(n){const e=t.revertData;const n=qp();e.children.push(n);r._renderNode({node:i.childNodes[o++],isApplying:true,revertData:n})}else{i.appendChild(r.render())}}}if(t.intoFragment){e.appendChild(i)}}_setUpListeners(t){if(!this.eventListeners){return}for(const e in this.eventListeners){const i=this.eventListeners[e].map(i=>{const[n,o]=e.split("@");return i.activateDomEventListener(n,o,t)});if(t.revertData){t.revertData.bindings.push(i)}}}_bindToObservable({schema:t,updater:e,data:i}){const n=i.revertData;Tp(t,e,i);const o=t.filter(t=>!Dp(t)).filter(t=>t.observable).map(n=>n.activateAttributeListener(t,e,i));if(n){n.bindings.push(o)}}_revertTemplateFromNode(t,e){for(const t of e.bindings){for(const e of t){e()}}if(e.text){t.textContent=e.text;return}for(const i in e.attributes){const n=e.attributes[i];if(n===null){t.removeAttribute(i)}else{t.setAttribute(i,n)}}for(let i=0;i<e.children.length;++i){this._revertTemplateFromNode(t.childNodes[i],e.children[i])}}}vs(_p,ds);class vp{constructor(t){Object.assign(this,t)}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,i){const n=()=>Tp(t,e,i);this.emitter.listenTo(this.observable,"change:"+this.attribute,n);return()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,n)}}}class yp extends vp{activateDomEventListener(t,e,i){const n=(t,i)=>{if(!e||i.target.matches(e)){if(typeof this.eventNameOrFunction=="function"){this.eventNameOrFunction(i)}else{this.observable.fire(this.eventNameOrFunction,i)}}};this.emitter.listenTo(i.node,t,n);return()=>{this.emitter.stopListening(i.node,t,n)}}}class xp extends vp{getValue(t){const e=super.getValue(t);return Dp(e)?false:this.valueIfTrue||true}}function Cp(t){if(!t){return false}if(t.value){t=t.value}if(Array.isArray(t)){return t.some(Cp)}else if(t instanceof vp){return true}return false}function Ap(t,e){return t.map(t=>{if(t instanceof vp){return t.getValue(e)}return t})}function Tp(t,e,{node:i}){let n=Ap(t,i);if(t.length==1&&t[0]instanceof xp){n=n[0]}else{n=n.reduce(zp,"")}if(Dp(n)){e.remove()}else{e.set(n)}}function Pp(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}function Sp(t,e,i){return{set(n){t.setAttributeNS(i,e,n)},remove(){t.removeAttributeNS(i,e)}}}function Ep(t,e){return{set(i){t.style[e]=i},remove(){t.style[e]=null}}}function Rp(t){const e=$r(t,t=>{if(t&&(t instanceof vp||Hp(t)||jp(t)||Wp(t))){return t}});return e}function Op(t){if(typeof t=="string"){t=Np(t)}else if(t.text){Mp(t)}if(t.on){t.eventListeners=Vp(t.on);delete t.on}if(!t.text){if(t.attributes){Ip(t.attributes)}const e=[];if(t.children){if(Wp(t.children)){e.push(t.children)}else{for(const i of t.children){if(Hp(i)||jp(i)||xd(i)){e.push(i)}else{e.push(new _p(i))}}}}t.children=e}return t}function Ip(t){for(const e in t){if(t[e].value){t[e].value=[].concat(t[e].value)}Bp(t,e)}}function Vp(t){for(const e in t){Bp(t,e)}return t}function Np(t){return{text:[t]}}function Mp(t){if(!Array.isArray(t.text)){t.text=[t.text]}}function Bp(t,e){if(!Array.isArray(t[e])){t[e]=[t[e]]}}function zp(t,e){if(Dp(e)){return t}else if(Dp(t)){return e}else{return`${t} ${e}`}}function Lp(t,e){for(const i in e){if(t[i]){t[i].push(...e[i])}else{t[i]=e[i]}}}function Fp(t,e){if(e.attributes){if(!t.attributes){t.attributes={}}Lp(t.attributes,e.attributes)}if(e.eventListeners){if(!t.eventListeners){t.eventListeners={}}Lp(t.eventListeners,e.eventListeners)}if(e.text){t.text.push(...e.text)}if(e.children&&e.children.length){if(t.children.length!=e.children.length){throw new ss["b"]("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",t)}let i=0;for(const n of e.children){Fp(t.children[i++],n)}}}function Dp(t){return!t&&t!==0}function jp(t){return t instanceof Gp}function Hp(t){return t instanceof _p}function Wp(t){return t instanceof bp}function qp(){return{children:[],bindings:[],attributes:{}}}function Up(t){return t=="class"||t=="style"}var $p=i(15);class Gp{constructor(t){this.element=null;this.isRendered=false;this.locale=t;this.t=t&&t.t;this._viewCollections=new ys;this._unboundChildren=this.createCollection();this._viewCollections.on("add",(e,i)=>{i.locale=t});this.decorate("render")}get bindTemplate(){if(this._bindTemplate){return this._bindTemplate}return this._bindTemplate=_p.bind(this,this)}createCollection(){const t=new bp;this._viewCollections.add(t);return t}registerChild(t){if(!js(t)){t=[t]}for(const e of t){this._unboundChildren.add(e)}}deregisterChild(t){if(!js(t)){t=[t]}for(const e of t){this._unboundChildren.remove(e)}}setTemplate(t){this.template=new _p(t)}extendTemplate(t){_p.extend(this.template,t)}render(){if(this.isRendered){throw new ss["b"]("ui-view-render-already-rendered: This View has already been rendered.",this)}if(this.template){this.element=this.template.render();this.registerChild(this.template.getViews())}this.isRendered=true}destroy(){this.stopListening();this._viewCollections.map(t=>t.destroy());if(this.template&&this.template._revertData){this.template.revert(this.element)}}}vs(Gp,qd);vs(Gp,Jc);function Kp(t){while(t&&t.tagName.toLowerCase()!="html"){if(Id.window.getComputedStyle(t).position!="static"){return t}t=t.parentElement}return null}function Jp({element:t,target:e,positions:i,limiter:n,fitInViewport:o}){if(gt(e)){e=e()}if(gt(n)){n=n()}const r=Kp(t.parentElement);const s=new vh(t);const a=new vh(e);let c;let l;if(!n&&!o){[l,c]=Yp(i[0],a,s)}else{const t=n&&new vh(n).getVisible();const e=o&&new vh(Id.window);[l,c]=Qp(i,a,s,t,e)||Yp(i[0],a,s)}let{left:d,top:u}=Xp(c);if(r){const t=Xp(new vh(r));const e=kh(r);d-=t.left;u-=t.top;d+=r.scrollLeft;u+=r.scrollTop;d-=e.left;u-=e.top}return{left:d,top:u,name:l}}function Yp(t,e,i){const{left:n,top:o,name:r}=t(e,i);return[r,i.clone().moveTo(n,o)]}function Qp(t,e,i,n,o){let r=0;let s=0;let a;let c;const l=i.getArea();t.some(t=>{const[d,u]=Yp(t,e,i);let h;let f;if(n){if(o){const t=n.getIntersection(o);if(t){h=t.getIntersectionArea(u)}else{h=0}}else{h=n.getIntersectionArea(u)}}if(o){f=o.getIntersectionArea(u)}if(o&&!n){if(f>s){g()}}else if(!o&&n){if(h>r){g()}}else{if(f>s&&h>=r){g()}else if(f>=s&&h>r){g()}}function g(){s=f;r=h;a=u;c=d}return h===l});return a?[c,a]:null}function Xp({left:t,top:e}){const{scrollX:i,scrollY:n}=Id.window;return{left:t+i,top:e+n}}function Zp(t){return e=>e+t}var tb=i(17);const eb=Zp("px");const ib=Id.document.body;class nb extends Gp{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0);this.set("left",0);this.set("position","arrow_nw");this.set("isVisible",false);this.set("withArrow",true);this.set("class");this.content=this.createCollection();this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>`ck-balloon-panel_${t}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",eb),left:e.to("left",eb)}},children:this.content})}show(){this.isVisible=true}hide(){this.isVisible=false}attachTo(t){this.show();const e=nb.defaultPositions;const i=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast],limiter:ib,fitInViewport:true},t);const n=nb._getOptimalPosition(i);const o=parseInt(n.left);const r=parseInt(n.top);const s=n.name;Object.assign(this,{top:r,left:o,position:s})}pin(t){this.unpin();this._pinWhenIsVisibleCallback=()=>{if(this.isVisible){this._startPinning(t)}else{this._stopPinning()}};this._startPinning(t);this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){if(this._pinWhenIsVisibleCallback){this._stopPinning();this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback);this._pinWhenIsVisibleCallback=null;this.hide()}}_startPinning(t){this.attachTo(t);const e=ob(t.target);const i=t.limiter?ob(t.limiter):ib;this.listenTo(Id.document,"scroll",(n,o)=>{const r=o.target;const s=e&&r.contains(e);const a=i&&r.contains(i);if(s||a||!e||!i){this.attachTo(t)}},{useCapture:true});this.listenTo(Id.window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(Id.document,"scroll");this.stopListening(Id.window,"resize")}}function ob(t){if(Kr(t)){return t}if(wh(t)){return t.commonAncestorContainer}if(typeof t=="function"){return ob(t())}return null}nb.arrowHorizontalOffset=25;nb.arrowVerticalOffset=10;nb._getOptimalPosition=Jp;nb.defaultPositions={northWestArrowSouthWest:(t,e)=>({top:rb(t,e),left:t.left-nb.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthMiddleWest:(t,e)=>({top:rb(t,e),left:t.left-e.width*.25-nb.arrowHorizontalOffset,name:"arrow_smw"}),northWestArrowSouth:(t,e)=>({top:rb(t,e),left:t.left-e.width/2,name:"arrow_s"}),northWestArrowSouthMiddleEast:(t,e)=>({top:rb(t,e),left:t.left-e.width*.75+nb.arrowHorizontalOffset,name:"arrow_sme"}),northWestArrowSouthEast:(t,e)=>({top:rb(t,e),left:t.left-e.width+nb.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(t,e)=>({top:rb(t,e),left:t.left+t.width/2-nb.arrowHorizontalOffset,name:"arrow_sw"}),northArrowSouthMiddleWest:(t,e)=>({top:rb(t,e),left:t.left+t.width/2-e.width*.25-nb.arrowHorizontalOffset,name:"arrow_smw"}),northArrowSouth:(t,e)=>({top:rb(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"}),northArrowSouthMiddleEast:(t,e)=>({top:rb(t,e),left:t.left+t.width/2-e.width*.75+nb.arrowHorizontalOffset,name:"arrow_sme"}),northArrowSouthEast:(t,e)=>({top:rb(t,e),left:t.left+t.width/2-e.width+nb.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(t,e)=>({top:rb(t,e),left:t.right-nb.arrowHorizontalOffset,name:"arrow_sw"}),northEastArrowSouthMiddleWest:(t,e)=>({top:rb(t,e),left:t.right-e.width*.25-nb.arrowHorizontalOffset,name:"arrow_smw"}),northEastArrowSouth:(t,e)=>({top:rb(t,e),left:t.right-e.width/2,name:"arrow_s"}),northEastArrowSouthMiddleEast:(t,e)=>({top:rb(t,e),left:t.right-e.width*.75+nb.arrowHorizontalOffset,name:"arrow_sme"}),northEastArrowSouthEast:(t,e)=>({top:rb(t,e),left:t.right-e.width+nb.arrowHorizontalOffset,name:"arrow_se"}),southWestArrowNorthWest:(t,e)=>({top:sb(t,e),left:t.left-nb.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthMiddleWest:(t,e)=>({top:sb(t,e),left:t.left-e.width*.25-nb.arrowHorizontalOffset,name:"arrow_nmw"}),southWestArrowNorth:(t,e)=>({top:sb(t,e),left:t.left-e.width/2,name:"arrow_n"}),southWestArrowNorthMiddleEast:(t,e)=>({top:sb(t,e),left:t.left-e.width*.75+nb.arrowHorizontalOffset,name:"arrow_nme"}),southWestArrowNorthEast:(t,e)=>({top:sb(t,e),left:t.left-e.width+nb.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(t,e)=>({top:sb(t,e),left:t.left+t.width/2-nb.arrowHorizontalOffset,name:"arrow_nw"}),southArrowNorthMiddleWest:(t,e)=>({top:sb(t,e),left:t.left+t.width/2-e.width*.25-nb.arrowHorizontalOffset,name:"arrow_nmw"}),southArrowNorth:(t,e)=>({top:sb(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_n"}),southArrowNorthMiddleEast:(t,e)=>({top:sb(t,e),left:t.left+t.width/2-e.width*.75+nb.arrowHorizontalOffset,name:"arrow_nme"}),southArrowNorthEast:(t,e)=>({top:sb(t,e),left:t.left+t.width/2-e.width+nb.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(t,e)=>({top:sb(t,e),left:t.right-nb.arrowHorizontalOffset,name:"arrow_nw"}),southEastArrowNorthMiddleWest:(t,e)=>({top:sb(t,e),left:t.right-e.width*.25-nb.arrowHorizontalOffset,name:"arrow_nmw"}),southEastArrowNorth:(t,e)=>({top:sb(t,e),left:t.right-e.width/2,name:"arrow_n"}),southEastArrowNorthMiddleEast:(t,e)=>({top:sb(t,e),left:t.right-e.width*.75+nb.arrowHorizontalOffset,name:"arrow_nme"}),southEastArrowNorthEast:(t,e)=>({top:sb(t,e),left:t.right-e.width+nb.arrowHorizontalOffset,name:"arrow_ne"})};function rb(t,e){return t.top-e.height-nb.arrowVerticalOffset}function sb(t){return t.bottom+nb.arrowVerticalOffset}var ab=i(19);class cb extends Gp{constructor(){super();const t=this.bindTemplate;this.set("content","");this.set("viewBox","0 0 20 20");this.set("fillColor","");this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}})}render(){super.render();this._updateXMLContent();this._colorFillPaths();this.on("change:content",()=>{this._updateXMLContent();this._colorFillPaths()});this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml");const e=t.querySelector("svg");const i=e.getAttribute("viewBox");if(i){this.viewBox=i}this.element.innerHTML="";while(e.childNodes.length>0){this.element.appendChild(e.childNodes[0])}}}_colorFillPaths(){if(this.fillColor){this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}}var lb=i(21);class db extends Gp{constructor(t){super(t);this.set("text","");this.set("position","s");const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",e.to("position",t=>"ck-tooltip_"+t),e.if("text","ck-hidden",t=>!t.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:e.to("text")}]}]})}}var ub=i(23);class hb extends Gp{constructor(t){super(t);const e=this.bindTemplate;const i=is();this.set("class");this.set("labelStyle");this.set("icon");this.set("isEnabled",true);this.set("isOn",false);this.set("isVisible",true);this.set("isToggleable",false);this.set("keystroke");this.set("label");this.set("tabindex",-1);this.set("tooltip");this.set("tooltipPosition","s");this.set("type","button");this.set("withText",false);this.set("withKeystroke",false);this.children=this.createCollection();this.tooltipView=this._createTooltipView();this.labelView=this._createLabelView(i);this.iconView=new cb;this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}});this.keystrokeView=this._createKeystrokeView();this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",t=>!t),e.if("isVisible","ck-hidden",t=>!t),e.to("isOn",t=>t?"ck-on":"ck-off"),e.if("withText","ck-button_with-text"),e.if("withKeystroke","ck-button_with-keystroke")],type:e.to("type",t=>t?t:"button"),tabindex:e.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${i}`,"aria-disabled":e.if("isEnabled",true,t=>!t),"aria-pressed":e.to("isOn",t=>this.isToggleable?String(t):false)},children:this.children,on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(t=>{if(this.isEnabled){this.fire("execute")}else{t.preventDefault()}})}})}render(){super.render();if(this.icon){this.iconView.bind("content").to(this,"icon");this.children.add(this.iconView)}this.children.add(this.tooltipView);this.children.add(this.labelView);if(this.withKeystroke){this.children.add(this.keystrokeView)}}focus(){this.element.focus()}_createTooltipView(){const t=new db;t.bind("text").to(this,"_tooltipString");t.bind("position").to(this,"tooltipPosition");return t}_createLabelView(t){const e=new Gp;const i=this.bindTemplate;e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:i.to("labelStyle"),id:`ck-editor__aria-label_${t}`},children:[{text:this.bindTemplate.to("label")}]});return e}_createKeystrokeView(){const t=new Gp;t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>zl(t))}]});return t}_getTooltipString(t,e,i){if(t){if(typeof t=="string"){return t}else{if(i){i=zl(i)}if(t instanceof Function){return t(e,i)}else{return`${e}${i?` (${i})`:""}`}}}return""}}class fb{constructor(){this.set("isFocused",false);this.set("focusedElement",null);this._elements=new Set;this._nextEventLoopTimeout=null}add(t){if(this._elements.has(t)){throw new ss["b"]("focusTracker-add-element-already-exist",this)}this.listenTo(t,"focus",()=>this._focus(t),{useCapture:true});this.listenTo(t,"blur",()=>this._blur(),{useCapture:true});this._elements.add(t)}remove(t){if(t===this.focusedElement){this._blur(t)}if(this._elements.has(t)){this.stopListening(t);this._elements.delete(t)}}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout);this.focusedElement=t;this.isFocused=true}_blur(){clearTimeout(this._nextEventLoopTimeout);this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null;this.isFocused=false},0)}}vs(fb,qd);vs(fb,Jc);var gb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>';var mb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';var pb=i(25);var bb=i(27);const wb=Zp("px");class kb extends mp{static get pluginName(){return"ContextualBalloon"}constructor(t){super(t);this.positionLimiter=()=>{const t=this.editor.editing.view;const e=t.document;const i=e.selection.editableElement;if(i){return t.domConverter.mapViewToDom(i.root)}return null};this.set("visibleView",null);this.view=new nb(t.locale);t.ui.view.body.add(this.view);t.ui.focusTracker.add(this.view.element);this._viewToStack=new Map;this._idToStack=new Map;this.set("_numberOfStacks",0);this.set("_singleViewMode",false);this._rotatorView=this._createRotatorView();this._fakePanelsView=this._createFakePanelsView()}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this.hasView(t.view)){throw new ss["b"]("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.",[this,t])}const e=t.stackId||"main";if(!this._idToStack.has(e)){this._idToStack.set(e,new Map([[t.view,t]]));this._viewToStack.set(t.view,this._idToStack.get(e));this._numberOfStacks=this._idToStack.size;if(!this._visibleStack||t.singleViewMode){this.showStack(e)}return}const i=this._idToStack.get(e);if(t.singleViewMode){this.showStack(e)}i.set(t.view,t);this._viewToStack.set(t.view,i);if(i===this._visibleStack){this._showView(t)}}remove(t){if(!this.hasView(t)){throw new ss["b"]("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.",[this,t])}const e=this._viewToStack.get(t);if(this._singleViewMode&&this.visibleView===t){this._singleViewMode=false}if(this.visibleView===t){if(e.size===1){if(this._idToStack.size>1){this._showNextStack()}else{this.view.hide();this.visibleView=null;this._rotatorView.hideView()}}else{this._showView(Array.from(e.values())[e.size-2])}}if(e.size===1){this._idToStack.delete(this._getStackId(e));this._numberOfStacks=this._idToStack.size}else{e.delete(t)}this._viewToStack.delete(t)}updatePosition(t){if(t){this._visibleStack.get(this.visibleView).position=t}this.view.pin(this._getBalloonPosition());this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e){throw new ss["b"]("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.",this)}if(this._visibleStack===e){return}this._showView(Array.from(e.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){const e=Array.from(this._idToStack.entries()).find(e=>e[1]===t);return e[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;if(!t[e]){e=0}this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;if(!t[e]){e=t.length-1}this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new _b(this.editor.locale);const e=this.editor.locale.t;this.view.content.add(t);t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(t,e)=>!e&&t>1);t.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"});t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(t,i)=>{if(i<2){return""}const n=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("lu",[n,i])});t.buttonNextView.on("execute",()=>{if(t.focusTracker.isFocused){this.editor.editing.view.focus()}this._showNextStack()});t.buttonPrevView.on("execute",()=>{if(t.focusTracker.isFocused){this.editor.editing.view.focus()}this._showPrevStack()});return t}_createFakePanelsView(){const t=new vb(this.editor.locale,this.view);t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,e)=>{const i=!e&&t>=2;return i?Math.min(t-1,2):0});t.listenTo(this.view,"change:top",()=>t.updatePosition());t.listenTo(this.view,"change:left",()=>t.updatePosition());this.editor.ui.view.body.add(t);return t}_showView({view:t,balloonClassName:e="",withArrow:i=true,singleViewMode:n=false}){this.view.class=e;this.view.withArrow=i;this._rotatorView.showView(t);this.visibleView=t;this.view.pin(this._getBalloonPosition());this._fakePanelsView.updatePosition();if(n){this._singleViewMode=true}}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;if(t&&!t.limiter){t=Object.assign({},t,{limiter:this.positionLimiter})}return t}}class _b extends Gp{constructor(t){super(t);const e=t.t;const i=this.bindTemplate;this.set("isNavigationVisible",true);this.focusTracker=new fb;this.buttonPrevView=this._createButtonView(e("lv"),gb);this.buttonNextView=this._createButtonView(e("lw"),mb);this.content=this.createCollection();this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",t=>t?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render();this.focusTracker.add(this.element)}showView(t){this.hideView();this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const i=new hb(this.locale);i.set({label:t,icon:e,tooltip:true});return i}}class vb extends Gp{constructor(t,e){super(t);const i=this.bindTemplate;this.set("top",0);this.set("left",0);this.set("height",0);this.set("width",0);this.set("numberOfPanels",0);this.content=this.createCollection();this._balloonPanelView=e;this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",t=>t?"":"ck-hidden")],style:{top:i.to("top",wb),left:i.to("left",wb),width:i.to("width",wb),height:i.to("height",wb)}},children:this.content});this.on("change:numberOfPanels",(t,e,i,n)=>{if(i>n){this._addPanels(i-n)}else{this._removePanels(n-i)}this.updatePosition()})}_addPanels(t){while(t--){const t=new Gp;t.setTemplate({tag:"div"});this.content.add(t);this.registerChild(t)}}_removePanels(t){while(t--){const t=this.content.last;this.content.remove(t);this.deregisterChild(t);t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView;const{width:i,height:n}=new vh(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:i,height:n})}}}class yb{constructor(t){Object.assign(this,t);if(t.actions&&t.keystrokeHandler){for(const e in t.actions){let i=t.actions[e];if(typeof i=="string"){i=[i]}for(const n of i){t.keystrokeHandler.set(n,(t,i)=>{this[e]();i()})}}}}get first(){return this.focusables.find(xb)||null}get last(){return this.focusables.filter(xb).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;if(this.focusTracker.focusedElement===null){return null}this.focusables.find((e,i)=>{const n=e.element===this.focusTracker.focusedElement;if(n){t=i}return n});return t}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){if(t){t.focus()}}_getFocusableItem(t){const e=this.current;const i=this.focusables.length;if(!i){return null}if(e===null){return this[t===1?"first":"last"]}let n=(e+i+t)%i;do{const e=this.focusables.get(n);if(xb(e)){return e}n=(n+i+t)%i}while(n!==e);return null}}function xb(t){return!!(t.focus&&Id.window.getComputedStyle(t.element).display!="none")}class Cb extends Gp{constructor(t){super(t);this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}const Ab=100;class Tb{constructor(t,e){if(!Tb._observerInstance){Tb._createObserver()}this._element=t;this._callback=e;Tb._addElementCallback(t,e);Tb._observerInstance.observe(t)}destroy(){Tb._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){if(!Tb._elementCallbacks){Tb._elementCallbacks=new Map}let i=Tb._elementCallbacks.get(t);if(!i){i=new Set;Tb._elementCallbacks.set(t,i)}i.add(e)}static _deleteElementCallback(t,e){const i=Tb._getElementCallbacks(t);if(i){i.delete(e);if(!i.size){Tb._elementCallbacks.delete(t);Tb._observerInstance.unobserve(t)}}if(Tb._elementCallbacks&&!Tb._elementCallbacks.size){Tb._observerInstance=null;Tb._elementCallbacks=null}}static _getElementCallbacks(t){if(!Tb._elementCallbacks){return null}return Tb._elementCallbacks.get(t)}static _createObserver(){let t;if(typeof Id.window.ResizeObserver==="function"){t=Id.window.ResizeObserver}else{t=Pb}Tb._observerInstance=new t(t=>{for(const e of t){const t=Tb._getElementCallbacks(e.target);if(t){for(const i of t){i(e)}}}})}}Tb._observerInstance=null;Tb._elementCallbacks=null;class Pb{constructor(t){this._callback=t;this._elements=new Set;this._previousRects=new Map;this._periodicCheckTimeout=null}observe(t){this._elements.add(t);this._checkElementRectsAndExecuteCallback();if(this._elements.size===1){this._startPeriodicCheck()}}unobserve(t){this._elements.delete(t);this._previousRects.delete(t);if(!this._elements.size){this._stopPeriodicCheck()}}_startPeriodicCheck(){const t=()=>{this._checkElementRectsAndExecuteCallback();this._periodicCheckTimeout=setTimeout(t,Ab)};this.listenTo(Id.window,"resize",()=>{this._checkElementRectsAndExecuteCallback()});this._periodicCheckTimeout=setTimeout(t,Ab)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout);this.stopListening();this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const t=[];for(const e of this._elements){if(this._hasRectChanged(e)){t.push({target:e,contentRect:this._previousRects.get(e)})}}if(t.length){this._callback(t)}}_hasRectChanged(t){if(!t.ownerDocument.body.contains(t)){return false}const e=new vh(t);const i=this._previousRects.get(t);const n=!i||!i.isEqual(e);this._previousRects.set(t,e);return n}}vs(Pb,qd);function Sb(t){return t.bindTemplate.to(e=>{if(e.target===t.element){e.preventDefault()}})}class Eb extends Gp{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",false);this.set("position","se");this.children=this.createCollection();this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",t=>`ck-dropdown__panel_${t}`),e.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:e.to(t=>t.preventDefault())}})}focus(){if(this.children.length){this.children.first.focus()}}focusLast(){if(this.children.length){const t=this.children.last;if(typeof t.focusLast==="function"){t.focusLast()}else{t.focus()}}}}var Rb=i(29);class Ob extends Gp{constructor(t,e,i){super(t);const n=this.bindTemplate;this.buttonView=e;this.panelView=i;this.set("isOpen",false);this.set("isEnabled",true);this.set("class");this.set("id");this.set("panelPosition","auto");this.focusTracker=new fb;this.keystrokes=new dp;this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",n.to("class"),n.if("isEnabled","ck-disabled",t=>!t)],id:n.to("id"),"aria-describedby":n.to("ariaDescribedById")},children:[e,i]});e.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render();this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen});this.panelView.bind("isVisible").to(this,"isOpen");this.on("change:isOpen",()=>{if(!this.isOpen){return}if(this.panelPosition==="auto"){this.panelView.position=Ob._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:true,positions:this._panelPositions}).name}else{this.panelView.position=this.panelPosition}});this.keystrokes.listenTo(this.element);this.focusTracker.add(this.element);const t=(t,e)=>{if(this.isOpen){this.buttonView.focus();this.isOpen=false;e()}};this.keystrokes.set("arrowdown",(t,e)=>{if(this.buttonView.isEnabled&&!this.isOpen){this.isOpen=true;e()}});this.keystrokes.set("arrowright",(t,e)=>{if(this.isOpen){e()}});this.keystrokes.set("arrowleft",t);this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:t,southWest:e,northEast:i,northWest:n}=Ob.defaultPanelPositions;if(this.locale.uiLanguageDirection==="ltr"){return[t,e,i,n]}else{return[e,t,n,i]}}}Ob.defaultPanelPositions={southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.bottom-e.height,left:t.left-e.width+t.width,name:"nw"})};Ob._getOptimalPosition=Jp;var Ib='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Vb extends hb{constructor(t){super(t);this.arrowView=this._createArrowView();this.extendTemplate({attributes:{"aria-haspopup":true}});this.delegate("execute").to(this,"open")}render(){super.render();this.children.add(this.arrowView)}_createArrowView(){const t=new cb;t.content=Ib;t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}});return t}}var Nb=i(31);class Mb extends Gp{constructor(){super();this.items=this.createCollection();this.focusTracker=new fb;this.keystrokes=new dp;this._focusCycler=new yb({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}});this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const t of this.items){this.focusTracker.add(t.element)}this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)});this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)});this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Bb extends Gp{constructor(t){super(t);this.children=this.createCollection();this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class zb extends Gp{constructor(t){super(t);this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var Lb=i(33);class Fb extends hb{constructor(t){super(t);this.isToggleable=true;this.toggleSwitchView=this._createToggleView();this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render();this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new Gp;t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]});return t}}function Db({emitter:t,activator:e,callback:i,contextElements:n}){t.listenTo(document,"mousedown",(t,{target:o})=>{if(!e()){return}for(const t of n){if(t.contains(o)){return}}i()})}var jb=i(35);var Hb=i(37);function Wb(t,e=Vb){const i=new e(t);const n=new Eb(t);const o=new Ob(t,i,n);i.bind("isEnabled").to(o);if(i instanceof Vb){i.bind("isOn").to(o,"isOpen")}else{i.arrowView.bind("isOn").to(o,"isOpen")}$b(o);return o}function qb(t,e){const i=t.locale;const n=i.t;const o=t.toolbarView=new Xb(i);o.set("ariaLabel",n("lg"));t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}});e.map(t=>o.items.add(t));t.panelView.children.add(o);o.items.delegate("execute").to(t)}function Ub(t,e){const i=t.locale;const n=t.listView=new Mb(i);n.items.bindTo(e).using(({type:t,model:e})=>{if(t==="separator"){return new zb(i)}else if(t==="button"||t==="switchbutton"){const n=new Bb(i);let o;if(t==="button"){o=new hb(i)}else{o=new Fb(i)}o.bind(...Object.keys(e)).to(e);o.delegate("execute").to(n);n.children.add(o);return n}});t.panelView.children.add(n);n.items.delegate("execute").to(t)}function $b(t){Gb(t);Kb(t);Jb(t)}function Gb(t){t.on("render",()=>{Db({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=false},contextElements:[t.element]})})}function Kb(t){t.on("execute",e=>{if(e.source instanceof Fb){return}t.isOpen=false})}function Jb(t){t.keystrokes.set("arrowdown",(e,i)=>{if(t.isOpen){t.panelView.focus();i()}});t.keystrokes.set("arrowup",(e,i)=>{if(t.isOpen){t.panelView.focusLast();i()}})}var Yb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>';var Qb=i(39);class Xb extends Gp{constructor(t,e){super(t);const i=this.bindTemplate;const n=this.t;this.options=e||{};this.set("ariaLabel",n("lr"));this.set("maxWidth","auto");this.items=this.createCollection();this.focusTracker=new fb;this.keystrokes=new dp;this.set("class");this.set("isCompact",false);this.itemsView=new Zb(t);this.children=this.createCollection();this.children.add(this.itemsView);this.focusables=this.createCollection();this._focusCycler=new yb({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}});this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")}},children:this.children,on:{mousedown:Sb(this)}});this._behavior=this.options.shouldGroupWhenFull?new ew(this):new tw(this)}render(){super.render();for(const t of this.items){this.focusTracker.add(t.element)}this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)});this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)});this.keystrokes.listenTo(this.element);this._behavior.render(this)}destroy(){this._behavior.destroy();return super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e){t.map(t=>{if(t=="|"){this.items.add(new Cb)}else if(e.has(t)){this.items.add(e.create(t))}else{console.warn(Object(ss["a"])("toolbarview-item-unavailable: The requested toolbar item is unavailable."),{name:t})}})}}class Zb extends Gp{constructor(t){super(t);this.children=this.createCollection();this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class tw{constructor(t){const e=t.bindTemplate;t.set("isVertical",false);t.itemsView.children.bindTo(t.items).using(t=>t);t.focusables.bindTo(t.items).using(t=>t);t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class ew{constructor(t){this.viewChildren=t.children;this.viewFocusables=t.focusables;this.viewItemsView=t.itemsView;this.viewFocusTracker=t.focusTracker;this.viewLocale=t.locale;this.ungroupedItems=t.createCollection();this.groupedItems=t.createCollection();this.groupedItemsDropdown=this._createGroupedItemsDropdown();this.resizeObserver=null;this.cachedPadding=null;t.itemsView.children.bindTo(this.ungroupedItems).using(t=>t);this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this));this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this));t.children.on("add",this._updateFocusCycleableItems.bind(this));t.children.on("remove",this._updateFocusCycleableItems.bind(this));t.items.on("add",(t,e,i)=>{if(i>this.ungroupedItems.length){this.groupedItems.add(e,i-this.ungroupedItems.length)}else{this.ungroupedItems.add(e,i)}this._updateGrouping()});t.items.on("remove",(t,e,i)=>{if(i>this.ungroupedItems.length){this.groupedItems.remove(e)}else{this.ungroupedItems.remove(e)}this._updateGrouping()});t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element;this._enableGroupingOnResize();this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy();this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement)){return}let t;while(this._areItemsOverflowing){this._groupLastItem();t=true}if(!t&&this.groupedItems.length){while(this.groupedItems.length&&!this._areItemsOverflowing){this._ungroupFirstItem()}if(this._areItemsOverflowing){this._groupLastItem()}}}get _areItemsOverflowing(){if(!this.ungroupedItems.length){return false}const t=this.viewElement;const e=this.viewLocale.uiLanguageDirection;const i=new vh(t.lastChild);const n=new vh(t);if(!this.cachedPadding){const i=Id.window.getComputedStyle(t);const n=e==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(i[n])}if(e==="ltr"){return i.right>n.right-this.cachedPadding}else{return i.left<n.left+this.cachedPadding}}_enableGroupingOnResize(){let t;this.resizeObserver=new Tb(this.viewElement,e=>{if(!t||t!==e.contentRect.width){this._updateGrouping();t=e.contentRect.width}});this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){if(!this.groupedItems.length){this.viewChildren.add(new Cb);this.viewChildren.add(this.groupedItemsDropdown);this.viewFocusTracker.add(this.groupedItemsDropdown.element)}this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first));if(!this.groupedItems.length){this.viewChildren.remove(this.groupedItemsDropdown);this.viewChildren.remove(this.viewChildren.last);this.viewFocusTracker.remove(this.groupedItemsDropdown.element)}}_createGroupedItemsDropdown(){const t=this.viewLocale;const e=t.t;const i=Wb(t);i.class="ck-toolbar__grouped-dropdown";i.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se";qb(i,[]);i.buttonView.set({label:e("ls"),tooltip:true,icon:Yb});i.toolbarView.items.bindTo(this.groupedItems).using(t=>t);return i}_updateFocusCycleableItems(){this.viewFocusables.clear();this.ungroupedItems.map(t=>{this.viewFocusables.add(t)});if(this.groupedItems.length){this.viewFocusables.add(this.groupedItemsDropdown)}}}function iw(t){if(Array.isArray(t)){return{items:t}}if(!t){return{items:[]}}return Object.assign({items:[]},t)}const nw=Zp("px");class ow extends mp{static get pluginName(){return"BalloonToolbar"}static get requires(){return[kb]}constructor(t){super(t);this._balloonConfig=iw(t.config.get("balloonToolbar"));this.toolbarView=this._createToolbarView();this.focusTracker=new fb;t.ui.once("ready",()=>{this.focusTracker.add(t.ui.getEditableElement());this.focusTracker.add(this.toolbarView.element)});this._resizeObserver=null;this._balloon=t.plugins.get(kb);this._fireSelectionChangeDebounced=uh(()=>this.fire("_selectionChangeDebounced"),200);this.decorate("show")}init(){const t=this.editor;const e=t.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(t,e,i)=>{const n=this._balloon.visibleView===this.toolbarView;if(!i&&n){this.hide()}else if(i){this.show()}});this.listenTo(e,"change:range",(t,i)=>{if(i.directChange||e.isCollapsed){this.hide()}this._fireSelectionChangeDebounced()});this.listenTo(this,"_selectionChangeDebounced",()=>{if(this.editor.editing.view.document.isFocused){this.show()}});if(!this._balloonConfig.shouldNotGroupWhenFull){this.listenTo(t,"ready",()=>{const e=t.ui.view.editable.element;this._resizeObserver=new Tb(e,()=>{this.toolbarView.maxWidth=nw(new vh(e).width*.9)})})}}afterInit(){const t=this.editor.ui.componentFactory;this.toolbarView.fillFromConfig(this._balloonConfig.items,t)}_createToolbarView(){const t=!this._balloonConfig.shouldNotGroupWhenFull;const e=new Xb(this.editor.locale,{shouldGroupWhenFull:t});e.extendTemplate({attributes:{class:["ck-toolbar_floating"]}});e.render();return e}show(){const t=this.editor;if(this._balloon.hasView(this.toolbarView)){return}if(t.model.document.selection.isCollapsed){return}if(Array.from(this.toolbarView.items).every(t=>t.isEnabled!==undefined&&!t.isEnabled)){return}this.listenTo(this.editor.ui,"update",()=>{this._balloon.updatePosition(this._getBalloonPositionData())});this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"})}hide(){if(this._balloon.hasView(this.toolbarView)){this.stopListening(this.editor.ui,"update");this._balloon.remove(this.toolbarView)}}_getBalloonPositionData(){const t=this.editor;const e=t.editing.view;const i=e.document;const n=i.selection;const o=i.selection.isBackward;return{target:()=>{const t=o?n.getFirstRange():n.getLastRange();const i=vh.getDomRangeRects(e.domConverter.viewRangeToDom(t));if(o){return i[0]}else{if(i.length>1&&i[i.length-1].width===0){i.pop()}return i[i.length-1]}},positions:rw(o)}}destroy(){super.destroy();this.stopListening();this._fireSelectionChangeDebounced.cancel();this.toolbarView.destroy();this.focusTracker.destroy();if(this._resizeObserver){this._resizeObserver.destroy()}}}function rw(t){const e=nb.defaultPositions;return t?[e.northWestArrowSouth,e.northWestArrowSouthWest,e.northWestArrowSouthEast,e.northWestArrowSouthMiddleEast,e.northWestArrowSouthMiddleWest,e.southWestArrowNorth,e.southWestArrowNorthWest,e.southWestArrowNorthEast,e.southWestArrowNorthMiddleWest,e.southWestArrowNorthMiddleEast]:[e.southEastArrowNorth,e.southEastArrowNorthEast,e.southEastArrowNorthWest,e.southEastArrowNorthMiddleEast,e.southEastArrowNorthMiddleWest,e.northEastArrowSouth,e.northEastArrowSouthEast,e.northEastArrowSouthWest,e.northEastArrowSouthMiddleEast,e.northEastArrowSouthMiddleWest]}class sw{constructor(t){this.editor=t;this._components=new Map}*names(){for(const t of this._components.values()){yield t.originalName}}add(t,e){if(this.has(t)){throw new ss["b"]("componentfactory-item-exists: The item already exists in the component factory.",this,{name:t})}this._components.set(aw(t),{callback:e,originalName:t})}create(t){if(!this.has(t)){throw new ss["b"]("componentfactory-item-missing: The required component is not registered in the factory.",this,{name:t})}return this._components.get(aw(t)).callback(this.editor.locale)}has(t){return this._components.has(aw(t))}}function aw(t){return String(t).toLowerCase()}class cw{constructor(t){this.editor=t;this.componentFactory=new sw(t);this.focusTracker=new fb;this._editableElementsMap=new Map;this.listenTo(t.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening();this.focusTracker.destroy();for(const t of this._editableElementsMap.values()){t.ckeditorInstance=null}this._editableElementsMap=new Map}setEditableElement(t,e){this._editableElementsMap.set(t,e);if(!e.ckeditorInstance){e.ckeditorInstance=this.editor}}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){console.warn("editor-ui-deprecated-editable-elements: "+"The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this});return this._editableElementsMap}}vs(cw,ds);function lw({origin:t,originKeystrokeHandler:e,originFocusTracker:i,toolbar:n,beforeFocus:o,afterBlur:r}){i.add(n.element);e.set("Alt+F10",(t,e)=>{if(i.isFocused&&!n.focusTracker.isFocused){if(o){o()}n.focus();e()}});n.keystrokes.set("Esc",(e,i)=>{if(n.focusTracker.isFocused){t.focus();if(r){r()}i()}})}var dw=i(41);const uw=new WeakMap;function hw(t){const{view:e,element:i,text:n,isDirectHost:o=true}=t;const r=e.document;if(!uw.has(r)){uw.set(r,new Map);r.registerPostFixer(t=>bw(r,t))}uw.get(r).set(i,{text:n,isDirectHost:o});e.change(t=>bw(r,t))}function fw(t,e){const i=e.document;t.change(t=>{if(!uw.has(i)){return}const n=uw.get(i);const o=n.get(e);t.removeAttribute("data-placeholder",o.hostElement);mw(t,o.hostElement);n.delete(e)})}function gw(t,e){if(!e.hasClass("ck-placeholder")){t.addClass("ck-placeholder",e);return true}return false}function mw(t,e){if(e.hasClass("ck-placeholder")){t.removeClass("ck-placeholder",e);return true}return false}function pw(t){if(!t.isAttached()){return false}const e=!Array.from(t.getChildren()).some(t=>!t.is("uiElement"));const i=t.document;if(!i.isFocused&&e){return true}const n=i.selection;const o=n.anchor;if(e&&o&&o.parent!==t){return true}return false}function bw(t,e){const i=uw.get(t);let n=false;for(const[t,o]of i){if(ww(e,t,o)){n=true}}return n}function ww(t,e,i){const{text:n,isDirectHost:o}=i;const r=o?e:kw(e);let s=false;if(!r){return false}i.hostElement=r;if(r.getAttribute("data-placeholder")!==n){t.setAttribute("data-placeholder",n,r);s=true}if(pw(r)){if(gw(t,r)){s=true}}else if(mw(t,r)){s=true}return s}function kw(t){if(t.childCount===1){const e=t.getChild(0);if(e.is("element")&&!e.is("uiElement")){return e}}return null}class _w extends cw{constructor(t,e){super(t);this.view=e}get element(){return this.view.editable.element}init(){const t=this.editor;const e=this.view;const i=t.plugins.get("BalloonToolbar");const n=t.editing.view;const o=e.editable;const r=n.document.getRoot();o.name=r.rootName;e.render();const s=o.element;this.setEditableElement(o.name,s);this.focusTracker.add(s);o.bind("isFocused").to(this.focusTracker);n.attachDomRoot(s);lw({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:i.toolbarView,beforeFocus(){i.show()},afterBlur(){i.hide()}});this._initPlaceholder();this.fire("ready")}destroy(){const t=this.view;const e=this.editor.editing.view;e.detachDomRoot(t.editable.name);t.destroy();super.destroy()}_initPlaceholder(){const t=this.editor;const e=t.editing.view;const i=e.document.getRoot();const n=t.sourceElement;const o=t.config.get("placeholder")||n&&n.tagName.toLowerCase()==="textarea"&&n.getAttribute("placeholder");if(o){hw({view:e,element:i,text:o,isDirectHost:false})}}}var vw="[object String]";function yw(t){return typeof t=="string"||!Je(t)&&T(t)&&_(t)==vw}var xw=yw;function Cw(t,e,i={},n=[]){const o=i&&i.xmlns;const r=o?t.createElementNS(o,e):t.createElement(e);for(const t in i){r.setAttribute(t,i[t])}if(xw(n)||!js(n)){n=[n]}for(let e of n){if(xw(e)){e=t.createTextNode(e)}r.appendChild(e)}return r}class Aw extends bp{attachToDom(){this._bodyCollectionContainer=new _p({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");if(!t){t=Cw(document,"div",{class:"ck-body-wrapper"});document.body.appendChild(t)}t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy();if(this._bodyCollectionContainer){this._bodyCollectionContainer.remove()}const t=document.querySelector(".ck-body-wrapper");if(t&&t.childElementCount==0){t.remove()}}}var Tw=i(43);class Pw extends Gp{constructor(t){super(t);this.body=new Aw(t)}render(){super.render();this.body.attachToDom()}destroy(){this.body.detachFromDom();return super.destroy()}}class Sw extends Gp{constructor(t,e,i){super(t);this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}});this.name=null;this.set("isFocused",false);this._editableElement=i;this._hasExternalElement=!!this._editableElement;this._editingView=e}render(){super.render();if(this._hasExternalElement){this.template.apply(this.element=this._editableElement)}else{this._editableElement=this.element}this.on("change:isFocused",()=>this._updateIsFocusedClasses());this._updateIsFocusedClasses()}destroy(){if(this._hasExternalElement){this.template.revert(this._editableElement)}super.destroy()}_updateIsFocusedClasses(){const t=this._editingView;if(t.isRenderingInProgress){i(this)}else{e(this)}function e(e){t.change(i=>{const n=t.document.getRoot(e.name);i.addClass(e.isFocused?"ck-focused":"ck-blurred",n);i.removeClass(e.isFocused?"ck-blurred":"ck-focused",n)})}function i(n){t.once("change:isRenderingInProgress",(t,o,r)=>{if(!r){e(n)}else{i(n)}})}}}class Ew extends Sw{constructor(t,e,i){super(t,e,i);this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const t=this._editingView;const e=this.t;t.change(i=>{const n=t.document.getRoot(this.name);i.setAttribute("aria-label",e("of",[this.name]),n)})}}class Rw extends Pw{constructor(t,e,i){super(t);this.editable=new Ew(t,e,i)}render(){super.render();this.registerChild(this.editable)}}function Ow(t,e){if(t instanceof HTMLTextAreaElement){t.value=e}t.innerHTML=e}function Iw(t){if(t instanceof HTMLTextAreaElement){return t.value}return t.innerHTML}const Vw={setData(t){this.data.set(t)},getData(t){return this.data.get(t)}};var Nw=Vw;const Mw={updateSourceElement(){if(!this.sourceElement){throw new ss["b"]("editor-missing-sourceelement: Cannot update the source element of a detached editor.",this)}Ow(this.sourceElement,this.data.get())}};var Bw=Mw;function zw(t){if(!gt(t.updateSourceElement)){throw new ss["b"]("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.",t)}const e=t.sourceElement;if(e&&e.tagName.toLowerCase()==="textarea"&&e.form){let i;const n=e.form;const o=()=>t.updateSourceElement();if(gt(n.submit)){i=n.submit;n.submit=()=>{o();i.apply(n)}}n.addEventListener("submit",o);t.on("destroy",()=>{n.removeEventListener("submit",o);if(i){n.submit=i}})}}function Lw(t){const e=t.sourceElement;if(!e){return}if(e.ckeditorInstance){throw new ss["b"]("editor-source-element-already-used: "+"The DOM element cannot be used to create multiple editor instances.",t)}e.ckeditorInstance=t;t.once("destroy",()=>{delete e.ckeditorInstance})}class Fw extends hp{constructor(t,e){super(e);if(Kr(t)){this.sourceElement=t;Lw(this)}const i=this.config.get("plugins");i.push(ow);this.config.set("plugins",i);this.config.define("balloonToolbar",this.config.get("toolbar"));this.data.processor=new gp(this.data.viewDocument);this.model.document.createRoot();const n=new Rw(this.locale,this.editing.view,this.sourceElement);this.ui=new _w(this,n);zw(this)}destroy(){const t=this.getData();this.ui.destroy();return super.destroy().then(()=>{if(this.sourceElement){Ow(this.sourceElement,t)}})}static create(t,e={}){return new Promise(i=>{const n=Kr(t);if(n&&t.tagName==="TEXTAREA"){throw new ss["b"]("editor-wrong-element: This type of editor cannot be initialized inside <textarea> element.",null)}const o=new this(t,e);i(o.initPlugins().then(()=>{o.ui.init()}).then(()=>{if(!n&&e.initialData){throw new ss["b"]("editor-create-initial-data: "+"The config.initialData option cannot be used together with initial data passed in Editor.create().",null)}const i=e.initialData||Dw(t);return o.data.init(i)}).then(()=>o.fire("ready")).then(()=>o))})}}vs(Fw,Nw);vs(Fw,Bw);function Dw(t){return Kr(t)?Iw(t):t}class jw{constructor(t){this.editor=t;this.set("value",undefined);this.set("isEnabled",false);this._disableStack=new Set;this.decorate("execute");this.listenTo(this.editor.model.document,"change",()=>{this.refresh()});this.on("execute",t=>{if(!this.isEnabled){t.stop()}},{priority:"high"});this.listenTo(t,"change:isReadOnly",(t,e,i)=>{if(i){this.forceDisabled("readOnlyMode")}else{this.clearForceDisabled("readOnlyMode")}})}refresh(){this.isEnabled=true}forceDisabled(t){this._disableStack.add(t);if(this._disableStack.size==1){this.on("set:isEnabled",Hw,{priority:"highest"});this.isEnabled=false}}clearForceDisabled(t){this._disableStack.delete(t);if(this._disableStack.size==0){this.off("set:isEnabled",Hw);this.refresh()}}execute(){}destroy(){this.stopListening()}}vs(jw,Jc);function Hw(t){t.return=false;t.stop()}function Ww(t){const e=t.next();if(e.done){return null}return e.value}const qw=["left","right","center","justify"];function Uw(t){return qw.includes(t)}function $w(t,e){if(e.contentLanguageDirection=="rtl"){return t==="right"}else{return t==="left"}}const Gw="alignment";class Kw extends jw{refresh(){const t=this.editor;const e=t.locale;const i=Ww(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!i&&this._canBeAligned(i);if(this.isEnabled&&i.hasAttribute("alignment")){this.value=i.getAttribute("alignment")}else{this.value=e.contentLanguageDirection==="rtl"?"right":"left"}}execute(t={}){const e=this.editor;const i=e.locale;const n=e.model;const o=n.document;const r=t.value;n.change(t=>{const e=Array.from(o.selection.getSelectedBlocks()).filter(t=>this._canBeAligned(t));const n=e[0].getAttribute("alignment");const s=$w(r,i)||n===r||!r;if(s){Jw(e,t)}else{Yw(e,t,r)}})}_canBeAligned(t){return this.editor.model.schema.checkAttribute(t,Gw)}}function Jw(t,e){for(const i of t){e.removeAttribute(Gw,i)}}function Yw(t,e,i){for(const n of t){e.setAttribute(Gw,i,n)}}class Qw extends mp{static get pluginName(){return"AlignmentEditing"}constructor(t){super(t);t.config.define("alignment",{options:[...qw]})}init(){const t=this.editor;const e=t.locale;const i=t.model.schema;const n=t.config.get("alignment.options").filter(Uw);i.extend("$block",{allowAttributes:"alignment"});t.model.schema.setAttributeProperties("alignment",{isFormatting:true});const o=Xw(n.filter(t=>!$w(t,e)));t.conversion.attributeToAttribute(o);t.commands.add("alignment",new Kw(t))}}function Xw(t){const e={model:{key:"alignment",values:t.slice()},view:{}};for(const i of t){e.view[i]={key:"style",value:{"text-align":i}}}return e}var Zw='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>';var tk='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>';var ek='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>';var ik='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>';const nk=new Map([["left",Zw],["right",tk],["center",ek],["justify",ik]]);class ok extends mp{get localizedOptionTitles(){const t=this.editor.t;return{left:t("iw"),right:t("ix"),center:t("iy"),justify:t("iz")}}static get pluginName(){return"AlignmentUI"}init(){const t=this.editor;const e=t.ui.componentFactory;const i=t.t;const n=t.config.get("alignment.options");n.filter(Uw).forEach(t=>this._addButton(t));e.add("alignment",t=>{const o=Wb(t);const r=n.map(t=>e.create(`alignment:${t}`));qb(o,r);o.buttonView.set({label:i("ja"),tooltip:true});o.toolbarView.isVertical=true;o.toolbarView.ariaLabel=i("jb");o.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const s=t.contentLanguageDirection==="rtl"?tk:Zw;o.buttonView.bind("icon").toMany(r,"isOn",(...t)=>{const e=t.findIndex(t=>t);if(e<0){return s}return r[e].icon});o.bind("isEnabled").toMany(r,"isEnabled",(...t)=>t.some(t=>t));return o})}_addButton(t){const e=this.editor;e.ui.componentFactory.add(`alignment:${t}`,i=>{const n=e.commands.get("alignment");const o=new hb(i);o.set({label:this.localizedOptionTitles[t],icon:nk.get(t),tooltip:true,isToggleable:true});o.bind("isEnabled").to(n);o.bind("isOn").to(n,"value",e=>e===t);this.listenTo(o,"execute",()=>{e.execute("alignment",{value:t});e.editing.view.focus()});return o})}}class rk extends mp{static get requires(){return[Qw,ok]}static get pluginName(){return"Alignment"}}class sk{constructor(t){this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return true}}vs(sk,Jc);class ak extends sk{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",false);this._actions=new ys({idProperty:"_id"});this._actions.delegate("add","remove").to(this)}add(t){if(typeof t!=="string"){throw new ss["b"]("pendingactions-add-invalid-message: The message must be a string.",this)}const e=Object.create(Jc);e.set("message",t);this._actions.add(e);this.hasAny=true;return e}remove(t){this._actions.remove(t);this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}class ck{constructor(){const t=new window.FileReader;this._reader=t;this._data=undefined;this.set("loaded",0);t.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const e=this._reader;this.total=t.size;return new Promise((i,n)=>{e.onload=()=>{const t=e.result;this._data=t;i(t)};e.onerror=()=>{n("error")};e.onabort=()=>{n("aborted")};this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}vs(ck,Jc);class lk extends mp{static get pluginName(){return"FileRepository"}static get requires(){return[ak]}init(){this.loaders=new ys;this.loaders.on("add",()=>this._updatePendingAction());this.loaders.on("remove",()=>this._updatePendingAction());this._loadersMap=new Map;this._pendingAction=null;this.set("uploaded",0);this.set("uploadTotal",null);this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0)}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter){console.warn(Object(ss["a"])("filerepository-no-upload-adapter: Upload adapter is not defined."));return null}const e=new dk(Promise.resolve(t),this.createUploadAdapter);this.loaders.add(e);this._loadersMap.set(t,e);if(t instanceof Promise){e.file.then(t=>{this._loadersMap.set(t,e)}).catch(()=>{})}e.on("change:uploaded",()=>{let t=0;for(const e of this.loaders){t+=e.uploaded}this.uploaded=t});e.on("change:uploadTotal",()=>{let t=0;for(const e of this.loaders){if(e.uploadTotal){t+=e.uploadTotal}}this.uploadTotal=t});return e}destroyLoader(t){const e=t instanceof dk?t:this.getLoader(t);e._destroy();this.loaders.remove(e);this._loadersMap.forEach((t,i)=>{if(t===e){this._loadersMap.delete(i)}})}_updatePendingAction(){const t=this.editor.plugins.get(ak);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t;const i=t=>`${e("lb")} ${parseInt(t)}%.`;this._pendingAction=t.add(i(this.uploadedPercent));this._pendingAction.bind("message").to(this,"uploadedPercent",i)}}else{t.remove(this._pendingAction);this._pendingAction=null}}}vs(lk,Jc);class dk{constructor(t,e){this.id=is();this._filePromiseWrapper=this._createFilePromiseWrapper(t);this._adapter=e(this);this._reader=new ck;this.set("status","idle");this.set("uploaded",0);this.set("uploadTotal",null);this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0);this.set("uploadResponse",null)}get file(){if(!this._filePromiseWrapper){return Promise.resolve(null)}else{return this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null)}}get data(){return this._reader.data}read(){if(this.status!="idle"){throw new ss["b"]("filerepository-read-wrong-status: You cannot call read if the status is different than idle.",this)}this.status="reading";return this.file.then(t=>this._reader.read(t)).then(t=>{this.status="idle";return t}).catch(t=>{if(t==="aborted"){this.status="aborted";throw"aborted"}this.status="error";throw this._reader.error?this._reader.error:t})}upload(){if(this.status!="idle"){throw new ss["b"]("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.",this)}this.status="uploading";return this.file.then(()=>this._adapter.upload()).then(t=>{this.uploadResponse=t;this.status="idle";return t}).catch(t=>{if(this.status==="aborted"){throw"aborted"}this.status="error";throw t})}abort(){const t=this.status;this.status="aborted";if(!this._filePromiseWrapper.isFulfilled){this._filePromiseWrapper.promise.catch(()=>{});this._filePromiseWrapper.rejecter("aborted")}else if(t=="reading"){this._reader.abort()}else if(t=="uploading"&&this._adapter.abort){this._adapter.abort()}this._destroy()}_destroy(){this._filePromiseWrapper=undefined;this._reader=undefined;this._adapter=undefined;this.uploadResponse=undefined}_createFilePromiseWrapper(t){const e={};e.promise=new Promise((i,n)=>{e.rejecter=n;e.isFulfilled=false;t.then(t=>{e.isFulfilled=true;i(t)}).catch(t=>{e.isFulfilled=true;n(t)})});return e}}vs(dk,Jc);class uk extends mp{static get requires(){return[lk]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(lk).createUploadAdapter=t=>new hk(t)}}class hk{constructor(t){this.loader=t}upload(){return new Promise((t,e)=>{const i=this.reader=new window.FileReader;i.addEventListener("load",()=>{t({default:i.result})});i.addEventListener("error",t=>{e(t)});i.addEventListener("abort",()=>{e()});this.loader.file.then(t=>{i.readAsDataURL(t)})})}abort(){this.reader.abort()}}class fk extends jw{refresh(){this.value=this._getValue();this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model;const i=e.schema;const n=e.document.selection;const o=Array.from(n.getSelectedBlocks());const r=t.forceValue===undefined?!this.value:t.forceValue;e.change(t=>{if(!r){this._removeQuote(t,o.filter(gk))}else{const e=o.filter(t=>gk(t)||pk(i,t));this._applyQuote(t,e)}})}_getValue(){const t=this.editor.model.document.selection;const e=Ww(t.getSelectedBlocks());return!!(e&&gk(e))}_checkEnabled(){if(this.value){return true}const t=this.editor.model.document.selection;const e=this.editor.model.schema;const i=Ww(t.getSelectedBlocks());if(!i){return false}return pk(e,i)}_removeQuote(t,e){mk(t,e).reverse().forEach(e=>{if(e.start.isAtStart&&e.end.isAtEnd){t.unwrap(e.start.parent);return}if(e.start.isAtStart){const i=t.createPositionBefore(e.start.parent);t.move(e,i);return}if(!e.end.isAtEnd){t.split(e.end)}const i=t.createPositionAfter(e.end.parent);t.move(e,i)})}_applyQuote(t,e){const i=[];mk(t,e).reverse().forEach(e=>{let n=gk(e.start);if(!n){n=t.createElement("blockQuote");t.wrap(e,n)}i.push(n)});i.reverse().reduce((e,i)=>{if(e.nextSibling==i){t.merge(t.createPositionAfter(e));return e}return i})}}function gk(t){return t.parent.name=="blockQuote"?t.parent:null}function mk(t,e){let i;let n=0;const o=[];while(n<e.length){const r=e[n];const s=e[n+1];if(!i){i=t.createPositionBefore(r)}if(!s||r.nextSibling!=s){o.push(t.createRange(i,t.createPositionAfter(r)));i=null}n++}return o}function pk(t,e){const i=t.checkChild(e.parent,"blockQuote");const n=t.checkChild(["$root","blockQuote"],e);return i&&n}class bk extends mp{static get pluginName(){return"BlockQuoteEditing"}init(){const t=this.editor;const e=t.model.schema;t.commands.add("blockQuote",new fk(t));e.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"});e.addChildCheck((t,e)=>{if(t.endsWith("blockQuote")&&e.name=="blockQuote"){return false}});t.conversion.elementToElement({model:"blockQuote",view:"blockquote"});t.model.document.registerPostFixer(i=>{const n=t.model.document.differ.getChanges();for(const t of n){if(t.type=="insert"){const n=t.position.nodeAfter;if(!n){continue}if(n.is("blockQuote")&&n.isEmpty){i.remove(n);return true}else if(n.is("blockQuote")&&!e.checkChild(t.position,n)){i.unwrap(n);return true}else if(n.is("element")){const t=i.createRangeIn(n);for(const n of t.getItems()){if(n.is("blockQuote")&&!e.checkChild(i.createPositionBefore(n),n)){i.unwrap(n);return true}}}}else if(t.type=="remove"){const e=t.position.parent;if(e.is("blockQuote")&&e.isEmpty){i.remove(e);return true}}}return false})}afterInit(){const t=this.editor;const e=t.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",(t,i)=>{const n=this.editor.model.document;const o=n.selection.getLastPosition().parent;if(n.selection.isCollapsed&&o.isEmpty&&e.value){this.editor.execute("blockQuote");this.editor.editing.view.scrollToTheSelection();i.preventDefault();t.stop()}})}}var wk='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>';var kk=i(45);class _k extends mp{init(){const t=this.editor;const e=t.t;t.ui.componentFactory.add("blockQuote",i=>{const n=t.commands.get("blockQuote");const o=new hb(i);o.set({label:e("jc"),icon:wk,tooltip:true,isToggleable:true});o.bind("isOn","isEnabled").to(n,"value","isEnabled");this.listenTo(o,"execute",()=>{t.execute("blockQuote");t.editing.view.focus()});return o})}}class vk extends mp{static get requires(){return[bk,_k]}static get pluginName(){return"BlockQuote"}}class yk extends jw{constructor(t,e){super(t);this.attributeKey=e}refresh(){const t=this.editor.model;const e=t.document;this.value=this._getValueFromFirstAllowedNode();this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model;const i=e.document;const n=i.selection;const o=t.forceValue===undefined?!this.value:t.forceValue;e.change(t=>{if(n.isCollapsed){if(o){t.setSelectionAttribute(this.attributeKey,true)}else{t.removeSelectionAttribute(this.attributeKey)}}else{const i=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of i){if(o){t.setAttribute(this.attributeKey,o,e)}else{t.removeAttribute(this.attributeKey,e)}}}})}_getValueFromFirstAllowedNode(){const t=this.editor.model;const e=t.schema;const i=t.document.selection;if(i.isCollapsed){return i.hasAttribute(this.attributeKey)}for(const t of i.getRanges()){for(const i of t.getItems()){if(e.checkAttribute(i,this.attributeKey)){return i.hasAttribute(this.attributeKey)}}}return false}}const xk="bold";class Ck extends mp{static get pluginName(){return"BoldEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:xk});t.model.schema.setAttributeProperties(xk,{isFormatting:true,copyOnEnter:true});t.conversion.attributeToElement({model:xk,view:"strong",upcastAlso:["b",t=>{const e=t.getStyle("font-weight");if(!e){return null}if(e=="bold"||Number(e)>=600){return{name:true,styles:["font-weight"]}}}]});t.commands.add(xk,new yk(t,xk));t.keystrokes.set("CTRL+B",xk)}}var Ak='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>';const Tk="bold";class Pk extends mp{init(){const t=this.editor;const e=t.t;t.ui.componentFactory.add(Tk,i=>{const n=t.commands.get(Tk);const o=new hb(i);o.set({label:e("ji"),icon:Ak,keystroke:"CTRL+B",tooltip:true,isToggleable:true});o.bind("isOn","isEnabled").to(n,"value","isEnabled");this.listenTo(o,"execute",()=>{t.execute(Tk);t.editing.view.focus()});return o})}}class Sk extends mp{static get requires(){return[Ck,Pk]}static get pluginName(){return"Bold"}}class Ek extends jw{constructor(t,e){super(t);this.attributeKey=e}refresh(){const t=this.editor.model;const e=t.document;this.value=e.selection.getAttribute(this.attributeKey);this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model;const i=e.document;const n=i.selection;const o=t.value;e.change(t=>{if(n.isCollapsed){if(o){t.setSelectionAttribute(this.attributeKey,o)}else{t.removeSelectionAttribute(this.attributeKey)}}else{const i=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of i){if(o){t.setAttribute(this.attributeKey,o,e)}else{t.removeAttribute(this.attributeKey,e)}}}})}}var Rk='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035L8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>';class Ok extends hb{constructor(t){super(t);const e=this.bindTemplate;this.set("color");this.set("hasBorder");this.icon=Rk;this.extendTemplate({attributes:{style:{backgroundColor:e.to("color")},class:["ck","ck-color-grid__tile",e.if("hasBorder","ck-color-table__color-tile_bordered")]}})}render(){super.render();this.iconView.fillColor="hsl(0, 0%, 100%)"}}var Ik=i(47);class Vk extends Gp{constructor(t,e){super(t);const i=e&&e.colorDefinitions||[];const n={};if(e&&e.columns){n.gridTemplateColumns=`repeat( ${e.columns}, 1fr)`}this.set("selectedColor");this.items=this.createCollection();this.focusTracker=new fb;this.keystrokes=new dp;this._focusCycler=new yb({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowleft",focusNext:"arrowright"}});this.items.on("add",(t,e)=>{e.isOn=e.color===this.selectedColor});i.forEach(t=>{const e=new Ok;e.set({color:t.color,label:t.label,tooltip:true,hasBorder:t.options.hasBorder});e.on("execute",()=>{this.fire("execute",{value:t.color,hasBorder:t.options.hasBorder,label:t.label})});this.items.add(e)});this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:n}});this.on("change:selectedColor",(t,e,i)=>{for(const t of this.items){t.isOn=t.color===i}})}focus(){if(this.items.length){this.items.first.focus()}}focusLast(){if(this.items.length){this.items.last.focus()}}render(){super.render();for(const t of this.items){this.focusTracker.add(t.element)}this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)});this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)});this.keystrokes.listenTo(this.element)}}var Nk=i(49);class Mk extends Gp{constructor(t){super(t);this.set("text");this.set("for");this.id=`ck-editor__label_${is()}`;const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:e.to("for")},children:[{text:e.to("text")}]})}}class Bk extends ys{constructor(t){super(t);this.set("isEmpty",true)}add(t,e){if(this.find(e=>e.color===t.color)){return}super.add(t,e);this.set("isEmpty",false)}remove(t){const e=super.remove(t);if(this.length===0){this.set("isEmpty",true)}return e}hasColor(t){return!!this.find(e=>e.color===t)}}vs(Bk,Jc);var zk='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.636 9.531l-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>';var Lk=i(51);class Fk extends Gp{constructor(t,{colors:e,columns:i,removeButtonLabel:n,documentColorsLabel:o,documentColorsCount:r}){super(t);this.items=this.createCollection();this.colorDefinitions=e;this.focusTracker=new fb;this.keystrokes=new dp;this.set("selectedColor");this.removeButtonLabel=n;this.columns=i;this.documentColors=new Bk;this.documentColorsCount=r;this._focusCycler=new yb({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}});this._documentColorsLabel=o;this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-table"]},children:this.items});this.items.add(this._removeColorButton())}updateDocumentColors(t,e){const i=t.document;const n=this.documentColorsCount;this.documentColors.clear();for(const o of i.getRootNames()){const r=i.getRoot(o);const s=t.createRangeIn(r);for(const t of s.getItems()){if(t.is("textProxy")&&t.hasAttribute(e)){this._addColorToDocumentColors(t.getAttribute(e));if(this.documentColors.length>=n){return}}}}}updateSelectedColors(){const t=this.documentColorsGrid;const e=this.staticColorsGrid;const i=this.selectedColor;e.selectedColor=i;if(t){t.selectedColor=i}}render(){super.render();for(const t of this.items){this.focusTracker.add(t.element)}this.keystrokes.listenTo(this.element)}appendGrids(){if(this.staticColorsGrid){return}this.staticColorsGrid=this._createStaticColorsGrid();this.items.add(this.staticColorsGrid);if(this.documentColorsCount){const t=_p.bind(this.documentColors,this.documentColors);const e=new Mk(this.locale);e.text=this._documentColorsLabel;e.extendTemplate({attributes:{class:["ck","ck-color-grid__label",t.if("isEmpty","ck-hidden")]}});this.items.add(e);this.documentColorsGrid=this._createDocumentColorsGrid();this.items.add(this.documentColorsGrid)}}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_removeColorButton(){const t=new hb;t.set({withText:true,icon:zk,tooltip:true,label:this.removeButtonLabel});t.class="ck-color-table__remove-color";t.on("execute",()=>{this.fire("execute",{value:null})});return t}_createStaticColorsGrid(){const t=new Vk(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});t.delegate("execute").to(this);return t}_createDocumentColorsGrid(){const t=_p.bind(this.documentColors,this.documentColors);const e=new Vk(this.locale,{columns:this.columns});e.delegate("execute").to(this);e.extendTemplate({attributes:{class:t.if("isEmpty","ck-hidden")}});e.items.bindTo(this.documentColors).using(t=>{const e=new Ok;e.set({color:t.color,hasBorder:t.options&&t.options.hasBorder});if(t.label){e.set({label:t.label,tooltip:true})}e.on("execute",()=>{this.fire("execute",{value:t.color})});return e});this.documentColors.on("change:isEmpty",(t,i,n)=>{if(n){e.selectedColor=null}});return e}_addColorToDocumentColors(t){const e=this.colorDefinitions.find(e=>e.color===t);if(!e){this.documentColors.add({color:t,label:t,options:{hasBorder:false}})}else{this.documentColors.add(Object.assign({},e))}}}const Dk="fontSize";const jk="fontFamily";const Hk="fontColor";const Wk="fontBackgroundColor";function qk(t,e){const i={model:{key:t,values:[]},view:{},upcastAlso:{}};for(const t of e){i.model.values.push(t.model);i.view[t.model]=t.view;if(t.upcastAlso){i.upcastAlso[t.model]=t.upcastAlso}}return i}function Uk(t){return e=>Kk(e.getStyle(t))}function $k(t){return(e,i)=>i.createAttributeElement("span",{style:`${t}:${e}`},{priority:7})}function Gk({dropdownView:t,colors:e,columns:i,removeButtonLabel:n,documentColorsLabel:o,documentColorsCount:r}){const s=t.locale;const a=new Fk(s,{colors:e,columns:i,removeButtonLabel:n,documentColorsLabel:o,documentColorsCount:r});t.colorTableView=a;t.panelView.children.add(a);a.delegate("execute").to(t,"execute");return a}function Kk(t){return t.replace(/\s/g,"")}class Jk extends Ek{constructor(t){super(t,jk)}}function Yk(t){return t.map(Qk).filter(t=>!!t)}function Qk(t){if(typeof t==="object"){return t}if(t==="default"){return{title:"Default",model:undefined}}if(typeof t!=="string"){return}return Xk(t)}function Xk(t){const e=t.replace(/"|'/g,"").split(",");const i=e[0];const n=e.map(Zk).join(", ");return{title:i,model:i,view:{name:"span",styles:{"font-family":n},priority:7}}}function Zk(t){t=t.trim();if(t.indexOf(" ")>0){t=`'${t}'`}return t}class t_ extends mp{static get pluginName(){return"FontFamilyEditing"}constructor(t){super(t);t.config.define(jk,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"]})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:jk});t.model.schema.setAttributeProperties(jk,{isFormatting:true,copyOnEnter:true});const e=Yk(t.config.get("fontFamily.options")).filter(t=>t.model);const i=qk(jk,e);t.conversion.attributeToElement(i);t.commands.add(jk,new Jk(t))}}class e_{constructor(t,e){if(e){qc(this,e)}if(t){this.set(t)}}}vs(e_,Jc);var i_='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>';class n_ extends mp{init(){const t=this.editor;const e=t.t;const i=this._getLocalizedOptions();const n=t.commands.get(jk);t.ui.componentFactory.add(jk,o=>{const r=Wb(o);Ub(r,o_(i,n));r.buttonView.set({label:e("jo"),icon:i_,tooltip:true});r.extendTemplate({attributes:{class:"ck-font-family-dropdown"}});r.bind("isEnabled").to(n);this.listenTo(r,"execute",e=>{t.execute(e.source.commandName,{value:e.source.commandParam});t.editing.view.focus()});return r})}_getLocalizedOptions(){const t=this.editor;const e=t.t;const i=Yk(t.config.get(jk).options);return i.map(t=>{if(t.title==="Default"){t.title=e("jp")}return t})}}function o_(t,e){const i=new ys;for(const n of t){const t={type:"button",model:new e_({commandName:jk,commandParam:n.model,label:n.title,withText:true})};t.model.bind("isOn").to(e,"value",t=>t===n.model);if(n.view&&n.view.styles){t.model.set("labelStyle",`font-family: ${n.view.styles["font-family"]}`)}i.add(t)}return i}class r_ extends mp{static get requires(){return[t_,n_]}static get pluginName(){return"FontFamily"}}class s_ extends Ek{constructor(t){super(t,Dk)}}function a_(t){return t.map(l_).filter(t=>!!t)}const c_={tiny:{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}},small:{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}},big:{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}},huge:{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}};function l_(t){if(typeof t==="object"){return t}if(c_[t]){return c_[t]}if(t==="default"){return{model:undefined,title:"Default"}}const e=parseFloat(t);if(isNaN(e)){return}return d_(e)}function d_(t){const e=String(t);return{title:e,model:t,view:{name:"span",styles:{"font-size":`${t}px`},priority:7}}}class u_ extends mp{static get pluginName(){return"FontSizeEditing"}constructor(t){super(t);t.config.define(Dk,{options:["tiny","small","default","big","huge"]});const e=a_(this.editor.config.get("fontSize.options")).filter(t=>t.model);const i=qk(Dk,e);t.conversion.attributeToElement(i);t.commands.add(Dk,new s_(t))}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Dk});t.model.schema.setAttributeProperties(Dk,{isFormatting:true,copyOnEnter:true})}}var h_='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5L7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279l.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>';var f_=i(53);class g_ extends mp{init(){const t=this.editor;const e=t.t;const i=this._getLocalizedOptions();const n=t.commands.get(Dk);t.ui.componentFactory.add(Dk,o=>{const r=Wb(o);Ub(r,m_(i,n));r.buttonView.set({label:e("jq"),icon:h_,tooltip:true});r.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}});r.bind("isEnabled").to(n);this.listenTo(r,"execute",e=>{t.execute(e.source.commandName,{value:e.source.commandParam});t.editing.view.focus()});return r})}_getLocalizedOptions(){const t=this.editor;const e=t.t;const i={Default:e("jp"),Tiny:e("jr"),Small:e("js"),Big:e("jt"),Huge:e("ju")};const n=a_(t.config.get(Dk).options);return n.map(t=>{const e=i[t.title];if(e&&e!=t.title){t=Object.assign({},t,{title:e})}return t})}}function m_(t,e){const i=new ys;for(const n of t){const t={type:"button",model:new e_({commandName:Dk,commandParam:n.model,label:n.title,class:"ck-fontsize-option",withText:true})};if(n.view&&n.view.styles){t.model.set("labelStyle",`font-size:${n.view.styles["font-size"]}`)}if(n.view&&n.view.classes){t.model.set("class",`${t.model.class} ${n.view.classes}`)}t.model.bind("isOn").to(e,"value",t=>t===n.model);i.add(t)}return i}class p_ extends mp{static get requires(){return[u_,g_]}static get pluginName(){return"FontSize"}}class b_ extends Ek{constructor(t){super(t,Hk)}}class w_ extends mp{static get pluginName(){return"FontColorEditing"}constructor(t){super(t);t.config.define(Hk,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:true},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5});t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:Hk,value:Uk("color")}});t.conversion.for("downcast").attributeToElement({model:Hk,view:$k("color")});t.commands.add(Hk,new b_(t));t.model.schema.extend("$text",{allowAttributes:Hk});t.model.schema.setAttributeProperties(Hk,{isFormatting:true,copyOnEnter:true})}}function k_(t,e){const i=t.t;const n={Black:i("lx"),"Dim grey":i("ly"),Grey:i("lz"),"Light grey":i("ma"),White:i("mb"),Red:i("mc"),Orange:i("md"),Yellow:i("me"),"Light green":i("mf"),Green:i("mg"),Aquamarine:i("mh"),Turquoise:i("mi"),"Light blue":i("mj"),Blue:i("mk"),Purple:i("ml")};return e.map(t=>{const e=n[t.label];if(e&&e!=t.label){t.label=e}return t})}function __(t){return t.map(v_).filter(t=>!!t)}function v_(t){if(typeof t==="string"){return{model:t.replace(/ /g,""),label:t,hasBorder:false,view:{name:"span",styles:{color:t}}}}else{return{model:t.color.replace(/ /g,""),label:t.label||t.color,hasBorder:t.hasBorder===undefined?false:t.hasBorder,view:{name:"span",styles:{color:`${t.color}`}}}}}class y_ extends mp{constructor(t,{commandName:e,icon:i,componentName:n,dropdownLabel:o}){super(t);this.commandName=e;this.componentName=n;this.icon=i;this.dropdownLabel=o;this.columns=t.config.get(`${this.componentName}.columns`);this.colorTableView}init(){const t=this.editor;const e=t.locale;const i=e.t;const n=t.commands.get(this.commandName);const o=__(t.config.get(this.componentName).colors);const r=k_(e,o);const s=t.config.get(`${this.componentName}.documentColors`);t.ui.componentFactory.add(this.componentName,e=>{const o=Wb(e);this.colorTableView=Gk({dropdownView:o,colors:r.map(t=>({label:t.label,color:t.model,options:{hasBorder:t.hasBorder}})),columns:this.columns,removeButtonLabel:i("li"),documentColorsLabel:s!==0?i("lj"):undefined,documentColorsCount:s===undefined?this.columns:s});this.colorTableView.bind("selectedColor").to(n,"value");o.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:true});o.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}});o.bind("isEnabled").to(n);o.on("execute",(e,i)=>{t.execute(this.commandName,i);t.editing.view.focus()});o.on("change:isOpen",(e,i,n)=>{o.colorTableView.appendGrids();if(n){if(s!==0){this.colorTableView.updateDocumentColors(t.model,this.componentName)}this.colorTableView.updateSelectedColors()}});return o})}}var x_='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3L10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>';class C_ extends y_{constructor(t){const e=t.locale.t;super(t,{commandName:Hk,componentName:Hk,icon:x_,dropdownLabel:e("jv")})}static get pluginName(){return"FontColorUI"}}class A_ extends mp{static get requires(){return[w_,C_]}static get pluginName(){return"FontColor"}}class T_ extends Ek{constructor(t){super(t,Wk)}}class P_ extends mp{static get pluginName(){return"FontBackgroundColorEditing"}constructor(t){super(t);t.config.define(Wk,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:true},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5});t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:Wk,value:Uk("background-color")}});t.conversion.for("downcast").attributeToElement({model:Wk,view:$k("background-color")});t.commands.add(Wk,new T_(t));t.model.schema.extend("$text",{allowAttributes:Wk});t.model.schema.setAttributeProperties(Wk,{isFormatting:true,copyOnEnter:true})}}var S_='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>';class E_ extends y_{constructor(t){const e=t.locale.t;super(t,{commandName:Wk,componentName:Wk,icon:S_,dropdownLabel:e("jw")})}static get pluginName(){return"FontBackgroundColorUI"}}class R_ extends mp{static get requires(){return[P_,E_]}static get pluginName(){return"FontBackgroundColor"}}class O_ extends jw{refresh(){const t=this.editor.model;const e=t.document;const i=Ww(e.selection.getSelectedBlocks());this.value=!!i&&i.is("paragraph");this.isEnabled=!!i&&I_(i,t.schema)}execute(t={}){const e=this.editor.model;const i=e.document;e.change(n=>{const o=(t.selection||i.selection).getSelectedBlocks();for(const t of o){if(!t.is("paragraph")&&I_(t,e.schema)){n.rename(t,"paragraph")}}})}}function I_(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}class V_ extends mp{static get pluginName(){return"Paragraph"}init(){const t=this.editor;const e=t.model;const i=t.data;t.commands.add("paragraph",new O_(t));e.schema.register("paragraph",{inheritAllFrom:"$block"});t.conversion.elementToElement({model:"paragraph",view:"p"});t.conversion.for("upcast").elementToElement({model:(t,e)=>{if(!V_.paragraphLikeElements.has(t.name)){return null}if(t.isEmpty){return null}return e.createElement("paragraph")},converterPriority:"low"});i.upcastDispatcher.on("element",(t,e,i)=>{if(!i.consumable.test(e.viewItem,{name:e.viewItem.name})){return}if(M_(e.viewItem,e.modelCursor,i.schema)){Object.assign(e,N_(e.viewItem,e.modelCursor,i))}},{priority:"low"});i.upcastDispatcher.on("text",(t,e,i)=>{if(e.modelRange){return}if(M_(e.viewItem,e.modelCursor,i.schema)){Object.assign(e,N_(e.viewItem,e.modelCursor,i))}},{priority:"lowest"});e.document.registerPostFixer(t=>this._autoparagraphEmptyRoots(t));t.data.on("ready",()=>{e.enqueueChange("transparent",t=>this._autoparagraphEmptyRoots(t))},{priority:"lowest"})}_autoparagraphEmptyRoots(t){const e=this.editor.model;for(const i of e.document.getRootNames()){const n=e.document.getRoot(i);if(n.isEmpty&&n.rootName!="$graveyard"){if(e.schema.checkChild(n,"paragraph")){t.insertElement("paragraph",n);return true}}}}}V_.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);function N_(t,e,i){const n=i.writer.createElement("paragraph");i.writer.insert(n,e);return i.convertItem(t,i.writer.createPositionAt(n,0))}function M_(t,e,i){const n=i.createContext(e);if(!i.checkChild(n,"paragraph")){return false}if(!i.checkChild(n.push("paragraph"),t)){return false}return true}class B_ extends jw{constructor(t,e){super(t);this.modelElements=e}refresh(){const t=Ww(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name;this.isEnabled=!!t&&this.modelElements.some(e=>z_(t,e,this.editor.model.schema))}execute(t){const e=this.editor.model;const i=e.document;const n=t.value;e.change(t=>{const o=Array.from(i.selection.getSelectedBlocks()).filter(t=>z_(t,n,e.schema));for(const e of o){if(!e.is(n)){t.rename(e,n)}}})}}function z_(t,e,i){return i.checkChild(t.parent,e)&&!i.isObject(t)}const L_="paragraph";class F_ extends mp{static get pluginName(){return"HeadingEditing"}constructor(t){super(t);t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[V_]}init(){const t=this.editor;const e=t.config.get("heading.options");const i=[];for(const n of e){if(n.model!==L_){t.model.schema.register(n.model,{inheritAllFrom:"$block"});t.conversion.elementToElement(n);i.push(n.model)}}this._addDefaultH1Conversion(t);t.commands.add("heading",new B_(t,i))}afterInit(){const t=this.editor;const e=t.commands.get("enter");const i=t.config.get("heading.options");if(e){this.listenTo(e,"afterExecute",(e,n)=>{const o=t.model.document.selection.getFirstPosition().parent;const r=i.some(t=>o.is(t.model));if(r&&!o.is(L_)&&o.childCount===0){n.writer.rename(o,L_)}})}}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:os.get("low")+1})}}function D_(t){const e=t.t;const i={Paragraph:e("ny"),"Heading 1":e("nz"),"Heading 2":e("oa"),"Heading 3":e("ob"),"Heading 4":e("oc"),"Heading 5":e("od"),"Heading 6":e("oe")};return t.config.get("heading.options").map(t=>{const e=i[t.title];if(e&&e!=t.title){t.title=e}return t})}var j_=i(11);class H_ extends mp{init(){const t=this.editor;const e=t.t;const i=D_(t);const n=e("jd");const o=e("je");t.ui.componentFactory.add("heading",e=>{const r={};const s=new ys;const a=t.commands.get("heading");const c=t.commands.get("paragraph");const l=[a];for(const t of i){const e={type:"button",model:new e_({label:t.title,class:t.class,withText:true})};if(t.model==="paragraph"){e.model.bind("isOn").to(c,"value");e.model.set("commandName","paragraph");l.push(c)}else{e.model.bind("isOn").to(a,"value",e=>e===t.model);e.model.set({commandName:"heading",commandValue:t.model})}s.add(e);r[t.model]=t.title}const d=Wb(e);Ub(d,s);d.buttonView.set({isOn:false,withText:true,tooltip:o});d.extendTemplate({attributes:{class:["ck-heading-dropdown"]}});d.bind("isEnabled").toMany(l,"isEnabled",(...t)=>t.some(t=>t));d.buttonView.bind("label").to(a,"value",c,"value",(t,e)=>{const i=t||e&&"paragraph";return r[i]?r[i]:n});this.listenTo(d,"execute",e=>{t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:undefined);t.editing.view.focus()});return d})}}class W_ extends mp{static get requires(){return[F_,H_]}static get pluginName(){return"Heading"}}class q_{constructor(){this._stack=[]}add(t,e){const i=this._stack;const n=i[0];this._insertDescriptor(t);const o=i[0];if(n!==o&&!U_(n,o)){this.fire("change:top",{oldDescriptor:n,newDescriptor:o,writer:e})}}remove(t,e){const i=this._stack;const n=i[0];this._removeDescriptor(t);const o=i[0];if(n!==o&&!U_(n,o)){this.fire("change:top",{oldDescriptor:n,newDescriptor:o,writer:e})}}_insertDescriptor(t){const e=this._stack;const i=e.findIndex(e=>e.id===t.id);if(U_(t,e[i])){return}if(i>-1){e.splice(i,1)}let n=0;while(e[n]&&$_(e[n],t)){n++}e.splice(n,0,t)}_removeDescriptor(t){const e=this._stack;const i=e.findIndex(e=>e.id===t);if(i>-1){e.splice(i,1)}}}vs(q_,ds);function U_(t,e){return t&&e&&t.priority==e.priority&&G_(t.classes)==G_(e.classes)}function $_(t,e){if(t.priority>e.priority){return true}else if(t.priority<e.priority){return false}return G_(t.classes)>G_(e.classes)}function G_(t){return Array.isArray(t)?t.sort().join(","):t}var K_='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';const J_="ck-widget";const Y_="ck-widget_selected";function Q_(t){if(!t.is("element")){return false}return!!t.getCustomProperty("widget")}function X_(t,e,i={}){if(!Al.isEdge){e.setAttribute("contenteditable","false",t)}e.addClass(J_,t);e.setCustomProperty("widget",true,t);t.getFillerOffset=rv;if(i.label){tv(t,i.label,e)}if(i.hasSelectionHandle){sv(t,e)}Z_(t,e,(t,e,i)=>i.addClass(n(e.classes),t),(t,e,i)=>i.removeClass(n(e.classes),t));return t;function n(t){return Array.isArray(t)?t:[t]}}function Z_(t,e,i,n){const o=new q_;o.on("change:top",(e,o)=>{if(o.oldDescriptor){n(t,o.oldDescriptor,o.writer)}if(o.newDescriptor){i(t,o.newDescriptor,o.writer)}});e.setCustomProperty("addHighlight",(t,e,i)=>o.add(e,i),t);e.setCustomProperty("removeHighlight",(t,e,i)=>o.remove(e,i),t)}function tv(t,e,i){i.setCustomProperty("widgetLabel",e,t)}function ev(t){const e=t.getCustomProperty("widgetLabel");if(!e){return""}return typeof e=="function"?e():e}function iv(t,e){e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t);if(!Al.isEdge){e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t);t.on("change:isReadOnly",(i,n,o)=>{e.setAttribute("contenteditable",o?"false":"true",t)})}t.on("change:isFocused",(i,n,o)=>{if(o){e.addClass("ck-editor__nested-editable_focused",t)}else{e.removeClass("ck-editor__nested-editable_focused",t)}});return t}function nv(t,e){const i=t.getSelectedElement();if(i&&e.schema.isBlock(i)){return e.createPositionAfter(i)}const n=t.getSelectedBlocks().next().value;if(n){if(n.isEmpty){return e.createPositionAt(n,0)}const i=e.createPositionAfter(n);if(t.focus.isTouching(i)){return i}return e.createPositionBefore(n)}return t.focus}function ov(t,e){return(i,n)=>{const{mapper:o,viewPosition:r}=n;const s=o.findMappedViewAncestor(r);if(!e(s)){return}const a=o.toModelElement(s);n.modelPosition=t.createPositionAt(a,r.isAtStart?"before":"after")}}function rv(){return null}function sv(t,e){const i=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(t){const e=this.toDomElement(t);const i=new cb;i.set("content",K_);i.render();e.appendChild(i.element);return e}));e.insert(e.createPositionAt(t,0),i);e.addClass(["ck-widget_with-selection-handle"],t)}class av extends jw{refresh(){this.isEnabled=cv(this.editor.model)}execute(){const t=this.editor.model;t.change(e=>{const i=e.createElement("horizontalLine");t.insertContent(i);let n=i.nextSibling;const o=n&&t.schema.checkChild(n,"$text");if(!o&&t.schema.checkChild(i.parent,"paragraph")){n=e.createElement("paragraph");t.insertContent(n,e.createPositionAfter(i))}if(n){e.setSelection(n,0)}})}}function cv(t){const e=t.schema;const i=t.document.selection;return lv(i,e,t)&&!dv(i,e)}function lv(t,e,i){const n=uv(t,i);return e.checkChild(n,"horizontalLine")}function dv(t,e){const i=t.getSelectedElement();return i&&e.isObject(i)}function uv(t,e){const i=nv(t,e);const n=i.parent;if(n.isEmpty&&!n.is("$root")){return n.parent}return n}var hv=i(56);class fv extends mp{static get pluginName(){return"HorizontalLineEditing"}init(){const t=this.editor;const e=t.model.schema;const i=t.t;const n=t.conversion;e.register("horizontalLine",{isObject:true,allowWhere:"$block"});n.for("dataDowncast").elementToElement({model:"horizontalLine",view:(t,e)=>e.createEmptyElement("hr")});n.for("editingDowncast").elementToElement({model:"horizontalLine",view:(t,e)=>{const n=i("jf");const o=e.createContainerElement("div");const r=e.createEmptyElement("hr");e.addClass("ck-horizontal-line",o);e.setCustomProperty("hr",true,o);e.insert(e.createPositionAt(o,0),r);return gv(o,e,n)}});n.for("upcast").elementToElement({view:"hr",model:"horizontalLine"});t.commands.add("horizontalLine",new av(t))}}function gv(t,e,i){e.setCustomProperty("horizontalLine",true,t);return X_(t,e,{label:i})}var mv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>';class pv extends mp{init(){const t=this.editor;const e=t.t;t.ui.componentFactory.add("horizontalLine",i=>{const n=t.commands.get("horizontalLine");const o=new hb(i);o.set({label:e("jf"),icon:mv,tooltip:true});o.bind("isEnabled").to(n,"isEnabled");this.listenTo(o,"execute",()=>{t.execute("horizontalLine");t.editing.view.focus()});return o})}}class bv extends mp{static get requires(){return[fv,pv]}static get pluginName(){return"HorizontalLine"}}class wv extends Gd{observe(t){this.listenTo(t,"load",(t,e)=>{const i=e.target;if(i.tagName=="IMG"){this._fireEvents(e)}},{useCapture:true})}_fireEvents(t){if(this.isEnabled){this.document.fire("layoutChanged");this.document.fire("imageLoaded",t)}}}function kv(t,e,i){e.setCustomProperty("image",true,t);return X_(t,e,{label:n});function n(){const e=Av(t);const n=e.getAttribute("alt");return n?`${n} ${i}`:i}}function _v(t){return!!t.getCustomProperty("image")&&Q_(t)}function vv(t){const e=t.getSelectedElement();if(e&&_v(e)){return e}return null}function yv(t){return!!t&&t.is("image")}function xv(t,e,i={}){const n=t.createElement("image",i);const o=nv(e.document.selection,e);e.insertContent(n,o);if(n.parent){t.setSelection(n,"on")}}function Cv(t){const e=t.schema;const i=t.document.selection;return Tv(i,e,t)&&!Pv(i,e)&&Sv(i)}function Av(t){return Array.from(t.getChildren()).find(t=>t.is("img"))}function Tv(t,e,i){const n=Ev(t,i);return e.checkChild(n,"image")}function Pv(t,e){const i=t.getSelectedElement();return i&&e.isObject(i)}function Sv(t){return[...t.focus.getAncestors()].every(t=>!t.is("image"))}function Ev(t,e){const i=nv(t,e);const n=i.parent;if(n.isEmpty&&!n.is("$root")){return n.parent}return n}function Rv(){return e=>{e.on("element:figure",t)};function t(t,e,i){if(!i.consumable.test(e.viewItem,{name:true,classes:"image"})){return}const n=Av(e.viewItem);if(!n||!n.hasAttribute("src")||!i.consumable.test(n,{name:true})){return}const o=i.convertItem(n,e.modelCursor);const r=Ww(o.modelRange.getItems());if(!r){return}i.convertChildren(e.viewItem,i.writer.createPositionAt(r,0));e.modelRange=o.modelRange;e.modelCursor=o.modelCursor}}function Ov(){return e=>{e.on("attribute:srcset:image",t)};function t(t,e,i){if(!i.consumable.consume(e.item,t.name)){return}const n=i.writer;const o=i.mapper.toViewElement(e.item);const r=Av(o);if(e.attributeNewValue===null){const t=e.attributeOldValue;if(t.data){n.removeAttribute("srcset",r);n.removeAttribute("sizes",r);if(t.width){n.removeAttribute("width",r)}}}else{const t=e.attributeNewValue;if(t.data){n.setAttribute("srcset",t.data,r);n.setAttribute("sizes","100vw",r);if(t.width){n.setAttribute("width",t.width,r)}}}}}function Iv(t){return i=>{i.on(`attribute:${t}:image`,e)};function e(t,e,i){if(!i.consumable.consume(e.item,t.name)){return}const n=i.writer;const o=i.mapper.toViewElement(e.item);const r=Av(o);if(e.attributeNewValue!==null){n.setAttribute(e.attributeKey,e.attributeNewValue,r)}else{n.removeAttribute(e.attributeKey,r)}}}class Vv extends jw{refresh(){this.isEnabled=Cv(this.editor.model)}execute(t){const e=this.editor.model;e.change(i=>{const n=Array.isArray(t.source)?t.source:[t.source];for(const t of n){xv(i,e,{src:t})}})}}class Nv extends mp{static get pluginName(){return"ImageEditing"}init(){const t=this.editor;const e=t.model.schema;const i=t.t;const n=t.conversion;t.editing.view.addObserver(wv);e.register("image",{isObject:true,isBlock:true,allowWhere:"$block",allowAttributes:["alt","src","srcset"]});n.for("dataDowncast").elementToElement({model:"image",view:(t,e)=>Mv(e)});n.for("editingDowncast").elementToElement({model:"image",view:(t,e)=>kv(Mv(e),e,i("jx"))});n.for("downcast").add(Iv("src")).add(Iv("alt")).add(Ov());n.for("upcast").elementToElement({view:{name:"img",attributes:{src:true}},model:(t,e)=>e.createElement("image",{src:t.getAttribute("src")})}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:t=>{const e={data:t.getAttribute("srcset")};if(t.hasAttribute("width")){e.width=t.getAttribute("width")}return e}}}).add(Rv());t.commands.add("imageInsert",new Vv(t))}}function Mv(t){const e=t.createEmptyElement("img");const i=t.createContainerElement("figure",{class:"image"});t.insert(t.createPositionAt(i,0),e);return i}class Bv extends Ju{constructor(t){super(t);this.domEventType="mousedown"}onDomEvent(t){this.fire(t.type,t)}}var zv=i(58);const Lv=Bl("Ctrl+A");class Fv extends mp{static get pluginName(){return"Widget"}init(){const t=this.editor.editing.view;const e=t.document;this._previouslySelected=new Set;this.editor.editing.downcastDispatcher.on("selection",(t,e,i)=>{this._clearPreviouslySelectedWidgets(i.writer);const n=i.writer;const o=n.document.selection;const r=o.getSelectedElement();let s=null;for(const t of o.getRanges()){for(const e of t){const t=e.item;if(Q_(t)&&!Wv(t,s)){n.addClass(Y_,t);this._previouslySelected.add(t);s=t;if(t==r){n.setSelection(o.getRanges(),{fake:true,label:ev(r)})}}}}},{priority:"low"});t.addObserver(Bv);this.listenTo(e,"mousedown",(...t)=>this._onMousedown(...t));this.listenTo(e,"keydown",(...t)=>this._onKeydown(...t),{priority:"high"});this.listenTo(e,"delete",(t,e)=>{if(this._handleDelete(e.direction=="forward")){e.preventDefault();t.stop()}},{priority:"high"})}_onMousedown(t,e){const i=this.editor;const n=i.editing.view;const o=n.document;let r=e.target;if(Hv(r)){if(Al.isSafari&&e.domEvent.detail>=3){const t=i.editing.mapper;const n=t.toModelElement(r);this.editor.model.change(t=>{e.preventDefault();t.setSelection(n,"in")})}return}if(!Q_(r)){r=r.findAncestor(Q_);if(!r){return}}e.preventDefault();if(!o.isFocused){n.focus()}const s=i.editing.mapper.toModelElement(r);this._setSelectionOverElement(s)}_onKeydown(t,e){const i=e.keyCode;const n=this.editor.locale.contentLanguageDirection==="ltr";const o=i==Nl.arrowdown||i==Nl[n?"arrowright":"arrowleft"];let r=false;if(Dv(i)){r=this._handleArrowKeys(o)}else if(jv(e)){r=this._selectAllNestedEditableContent()||this._selectAllContent()}else if(i===Nl.enter){r=this._handleEnterKey(e.shiftKey)}if(r){e.preventDefault();t.stop()}}_handleDelete(t){if(this.editor.isReadOnly){return}const e=this.editor.model.document;const i=e.selection;if(!i.isCollapsed){return}const n=this._getObjectElementNextToSelection(t);if(n){this.editor.model.change(t=>{let e=i.anchor.parent;while(e.isEmpty){const i=e;e=i.parent;t.remove(i)}this._setSelectionOverElement(n)});return true}}_handleArrowKeys(t){const e=this.editor.model;const i=e.schema;const n=e.document;const o=n.selection;const r=o.getSelectedElement();if(r&&i.isObject(r)){const n=t?o.getLastPosition():o.getFirstPosition();const r=i.getNearestSelectionRange(n,t?"forward":"backward");if(r){e.change(t=>{t.setSelection(r)})}return true}if(!o.isCollapsed){return}const s=this._getObjectElementNextToSelection(t);if(!!s&&i.isObject(s)){this._setSelectionOverElement(s);return true}}_handleEnterKey(t){const e=this.editor.model;const i=e.document.selection;const n=i.getSelectedElement();if(qv(n,e.schema)){e.change(i=>{let o=i.createPositionAt(n,t?"before":"after");const r=i.createElement("paragraph");if(e.schema.isBlock(n.parent)){const t=e.schema.findAllowedParent(o,r);o=i.split(o,t).position}i.insert(r,o);i.setSelection(r,"in")});return true}}_selectAllNestedEditableContent(){const t=this.editor.model;const e=t.document.selection;const i=t.schema.getLimitElement(e);if(e.getFirstRange().root==i){return false}t.change(t=>{t.setSelection(t.createRangeIn(i))});return true}_selectAllContent(){const t=this.editor.model;const e=this.editor.editing;const i=e.view;const n=i.document;const o=n.selection;const r=o.getSelectedElement();if(r&&Q_(r)){const i=e.mapper.toModelElement(r.parent);t.change(t=>{t.setSelection(t.createRangeIn(i))});return true}return false}_setSelectionOverElement(t){this.editor.model.change(e=>{e.setSelection(e.createRangeOn(t))})}_getObjectElementNextToSelection(t){const e=this.editor.model;const i=e.schema;const n=e.document.selection;const o=e.createSelection(n);e.modifySelection(o,{direction:t?"forward":"backward"});const r=t?o.focus.nodeBefore:o.focus.nodeAfter;if(!!r&&i.isObject(r)){return r}return null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected){t.removeClass(Y_,e)}this._previouslySelected.clear()}}function Dv(t){return t==Nl.arrowright||t==Nl.arrowleft||t==Nl.arrowup||t==Nl.arrowdown}function jv(t){return Ml(t)==Lv}function Hv(t){while(t){if(t.is("editableElement")&&!t.is("rootElement")){return true}if(Q_(t)){return false}t=t.parent}return false}function Wv(t,e){if(!e){return false}return Array.from(t.getAncestors()).includes(e)}function qv(t,e){return t&&e.isObject(t)&&!e.isInline(t)}class Uv extends jw{refresh(){const t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=yv(t);if(yv(t)&&t.hasAttribute("alt")){this.value=t.getAttribute("alt")}else{this.value=false}}execute(t){const e=this.editor.model;const i=e.document.selection.getSelectedElement();e.change(e=>{e.setAttribute("alt",t.newValue,i)})}}class $v extends mp{static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Uv(this.editor))}}var Gv=i(60);class Kv extends Gp{constructor(t,e){super(t);const i=`ck-input-${is()}`;const n=`ck-status-${is()}`;this.set("label");this.set("value");this.set("isReadOnly",false);this.set("errorText",null);this.set("infoText",null);this.labelView=this._createLabelView(i);this.inputView=this._createInputView(e,i,n);this.statusView=this._createStatusView(n);this.bind("_statusText").to(this,"errorText",this,"infoText",(t,e)=>t||e);const o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input",o.if("isReadOnly","ck-disabled")]},children:[this.labelView,this.inputView,this.statusView]})}_createLabelView(t){const e=new Mk(this.locale);e.for=t;e.bind("text").to(this,"label");return e}_createInputView(t,e,i){const n=new t(this.locale,i);n.id=e;n.ariaDescribedById=i;n.bind("value").to(this);n.bind("isReadOnly").to(this);n.bind("hasError").to(this,"errorText",t=>!!t);n.on("input",()=>{this.errorText=null});return n}_createStatusView(t){const e=new Gp(this.locale);const i=this.bindTemplate;e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input__status",i.if("errorText","ck-labeled-input__status_error"),i.if("_statusText","ck-hidden",t=>!t)],id:t,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]});return e}select(){this.inputView.select()}focus(){this.inputView.focus()}}var Jv=i(62);class Yv extends Gp{constructor(t){super(t);this.set("value");this.set("id");this.set("placeholder");this.set("isReadOnly",false);this.set("hasError",false);this.set("ariaDescribedById");const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",true),"aria-describedby":e.to("ariaDescribedById")},on:{input:e.to("input")}})}render(){super.render();const t=t=>{this.element.value=!t&&t!==0?"":t};t(this.value);this.on("change:value",(e,i,n)=>{t(n)})}select(){this.element.select()}focus(){this.element.focus()}}function Qv({view:t}){t.listenTo(t.element,"submit",(e,i)=>{i.preventDefault();t.fire("submit")},{useCapture:true})}var Xv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>';var Zv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';var ty=i(64);class ey extends Gp{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new fb;this.keystrokes=new dp;this.labeledInput=this._createLabeledInputView();this.saveButtonView=this._createButton(e("lo"),Xv,"ck-button-save");this.saveButtonView.type="submit";this.cancelButtonView=this._createButton(e("lp"),Zv,"ck-button-cancel","cancel");this._focusables=new bp;this._focusCycler=new yb({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render();this.keystrokes.listenTo(this.element);Qv({view:this});[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t);this.focusTracker.add(t.element)})}_createButton(t,e,i,n){const o=new hb(this.locale);o.set({label:t,icon:e,tooltip:true});o.extendTemplate({attributes:{class:i}});if(n){o.delegate("execute").to(this,n)}return o}_createLabeledInputView(){const t=this.locale.t;const e=new Kv(this.locale,Yv);e.label=t("lt");e.inputView.placeholder=t("lt");return e}}var iy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>';function ny(t){const e=t.plugins.get("ContextualBalloon");if(vv(t.editing.view.document.selection)){const i=oy(t);e.updatePosition(i)}}function oy(t){const e=t.editing.view;const i=nb.defaultPositions;return{target:e.domConverter.viewToDom(e.document.selection.getSelectedElement()),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast]}}class ry extends mp{static get requires(){return[kb]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton();this._createForm()}destroy(){super.destroy();this._form.destroy()}_createButton(){const t=this.editor;const e=t.t;t.ui.componentFactory.add("imageTextAlternative",i=>{const n=t.commands.get("imageTextAlternative");const o=new hb(i);o.set({label:e("lh"),icon:iy,tooltip:true});o.bind("isEnabled").to(n,"isEnabled");this.listenTo(o,"execute",()=>{this._showForm()});return o})}_createForm(){const t=this.editor;const e=t.editing.view;const i=e.document;this._balloon=this.editor.plugins.get("ContextualBalloon");this._form=new ey(t.locale);this._form.render();this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.inputView.element.value});this._hideForm(true)});this.listenTo(this._form,"cancel",()=>{this._hideForm(true)});this._form.keystrokes.set("Esc",(t,e)=>{this._hideForm(true);e()});this.listenTo(t.ui,"update",()=>{if(!vv(i.selection)){this._hideForm(true)}else if(this._isVisible){ny(t)}});Db({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible){return}const t=this.editor;const e=t.commands.get("imageTextAlternative");const i=this._form.labeledInput;if(!this._isInBalloon){this._balloon.add({view:this._form,position:oy(t)})}i.value=i.inputView.element.value=e.value||"";this._form.labeledInput.select()}_hideForm(t){if(!this._isInBalloon){return}if(this._form.focusTracker.isFocused){this._form.saveButtonView.focus()}this._balloon.remove(this._form);if(t){this.editor.editing.view.focus()}}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class sy extends mp{static get requires(){return[$v,ry]}static get pluginName(){return"ImageTextAlternative"}}var ay=i(66);class cy extends mp{static get requires(){return[Nv,Fv,sy]}static get pluginName(){return"Image"}}class ly extends mp{static get requires(){return[kb]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",e=>{if(hy(t.editing.view.document.selection)){e.stop()}},{priority:"high"})}this._toolbarDefinitions=new Map;this._balloon=this.editor.plugins.get("ContextualBalloon");this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()});this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()});this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values()){t.view.destroy()}}register(t,{ariaLabel:e,items:i,getRelatedElement:n,balloonClassName:o="ck-toolbar-container"}){const r=this.editor;const s=r.t;const a=new Xb(r.locale);a.ariaLabel=e||s("kf");if(this._toolbarDefinitions.has(t)){throw new ss["b"]("widget-toolbar-duplicated: Toolbar with the given id was already added.",this,{toolbarId:t})}a.fillFromConfig(i,r.ui.componentFactory);this._toolbarDefinitions.set(t,{view:a,getRelatedElement:n,balloonClassName:o})}_updateToolbarsVisibility(){let t=0;let e=null;let i=null;for(const n of this._toolbarDefinitions.values()){const o=n.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!o){if(this._isToolbarInBalloon(n)){this._hideToolbar(n)}}else if(!this.editor.ui.focusTracker.isFocused){if(this._isToolbarVisible(n)){this._hideToolbar(n)}}else{const r=o.getAncestors().length;if(r>t){t=r;e=o;i=n}}}if(i){this._showToolbar(i,e)}}_hideToolbar(t){this._balloon.remove(t.view);this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,e){if(this._isToolbarVisible(t)){dy(this.editor,e)}else if(!this._isToolbarInBalloon(t)){this._balloon.add({view:t.view,position:uy(this.editor,e),balloonClassName:t.balloonClassName});this.listenTo(this._balloon,"change:visibleView",()=>{for(const t of this._toolbarDefinitions.values()){if(this._isToolbarVisible(t)){const e=t.getRelatedElement(this.editor.editing.view.document.selection);dy(this.editor,e)}}})}}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function dy(t,e){const i=t.plugins.get("ContextualBalloon");const n=uy(t,e);i.updatePosition(n)}function uy(t,e){const i=t.editing.view;const n=nb.defaultPositions;return{target:i.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}function hy(t){const e=t.getSelectedElement();return!!(e&&Q_(e))}class fy extends mp{static get requires(){return[ly]}static get pluginName(){return"ImageToolbar"}afterInit(){const t=this.editor;const e=t.t;const i=t.plugins.get(ly);i.register("image",{ariaLabel:e("a"),items:t.config.get("image.toolbar")||[],getRelatedElement:vv})}}class gy extends jw{constructor(t,e){super(t);this.defaultStyle=false;this.styles=e.reduce((t,e)=>{t[e.name]=e;if(e.isDefault){this.defaultStyle=e.name}return t},{})}refresh(){const t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=yv(t);if(!t){this.value=false}else if(t.hasAttribute("imageStyle")){const e=t.getAttribute("imageStyle");this.value=this.styles[e]?e:false}else{this.value=this.defaultStyle}}execute(t){const e=t.value;const i=this.editor.model;const n=i.document.selection.getSelectedElement();i.change(t=>{if(this.styles[e].isDefault){t.removeAttribute("imageStyle",n)}else{t.setAttribute("imageStyle",e,n)}})}}function my(t){return(e,i,n)=>{if(!n.consumable.consume(i.item,e.name)){return}const o=by(i.attributeNewValue,t);const r=by(i.attributeOldValue,t);const s=n.mapper.toViewElement(i.item);const a=n.writer;if(r){a.removeClass(r.className,s)}if(o){a.addClass(o.className,s)}}}function py(t){const e=t.filter(t=>!t.isDefault);return(t,i,n)=>{if(!i.modelRange){return}const o=i.viewItem;const r=Ww(i.modelRange.getItems());if(!n.schema.checkAttribute(r,"imageStyle")){return}for(const t of e){if(n.consumable.consume(o,{classes:t.className})){n.writer.setAttribute("imageStyle",t.name,r)}}}}function by(t,e){for(const i of e){if(i.name===t){return i}}}var wy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>';var ky='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>';var _y='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>';var vy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>';const yy={full:{name:"full",title:"Full size image",icon:wy,isDefault:true},side:{name:"side",title:"Side image",icon:vy,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:ky,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:_y,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:vy,className:"image-style-align-right"}};const xy={full:wy,left:ky,right:vy,center:_y};function Cy(t=[]){return t.map(Ay)}function Ay(t){if(typeof t=="string"){const e=t;if(yy[e]){t=Object.assign({},yy[e])}else{console.warn(Object(ss["a"])("image-style-not-found: There is no such image style of given name."),{name:e});t={name:e}}}else if(yy[t.name]){const e=yy[t.name];const i=Object.assign({},t);for(const n in e){if(!t.hasOwnProperty(n)){i[n]=e[n]}}t=i}if(typeof t.icon=="string"&&xy[t.icon]){t.icon=xy[t.icon]}return t}class Ty extends mp{static get pluginName(){return"ImageStyleEditing"}init(){const t=this.editor;const e=t.model.schema;const i=t.data;const n=t.editing;t.config.define("image.styles",["full","side"]);const o=Cy(t.config.get("image.styles"));e.extend("image",{allowAttributes:"imageStyle"});const r=my(o);n.downcastDispatcher.on("attribute:imageStyle:image",r);i.downcastDispatcher.on("attribute:imageStyle:image",r);i.upcastDispatcher.on("element:figure",py(o),{priority:"low"});t.commands.add("imageStyle",new gy(t,o))}}var Py=i(68);class Sy extends mp{static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Full size image":t("jy"),"Side image":t("jz"),"Left aligned image":t("ka"),"Centered image":t("kb"),"Right aligned image":t("kc")}}init(){const t=this.editor;const e=t.config.get("image.styles");const i=Ey(Cy(e),this.localizedDefaultStylesTitles);for(const t of i){this._createButton(t)}}_createButton(t){const e=this.editor;const i=`imageStyle:${t.name}`;e.ui.componentFactory.add(i,i=>{const n=e.commands.get("imageStyle");const o=new hb(i);o.set({label:t.title,icon:t.icon,tooltip:true,isToggleable:true});o.bind("isEnabled").to(n,"isEnabled");o.bind("isOn").to(n,"value",e=>e===t.name);this.listenTo(o,"execute",()=>{e.execute("imageStyle",{value:t.name});e.editing.view.focus()});return o})}}function Ey(t,e){for(const i of t){if(e[i.title]){i.title=e[i.title]}}return t}class Ry extends mp{static get requires(){return[Ty,Sy]}static get pluginName(){return"ImageStyle"}}class Oy{constructor(t){this.set("activeHandlePosition",null);this.set("proposedWidthPercents",null);this.set("proposedWidth",null);this.set("proposedHeight",null);this.set("proposedHandleHostWidth",null);this.set("proposedHandleHostHeight",null);this._options=t;this._referenceCoordinates=null}begin(t,e,i){const n=new vh(e);this.activeHandlePosition=My(t);this._referenceCoordinates=Vy(e,By(this.activeHandlePosition));this.originalWidth=n.width;this.originalHeight=n.height;this.aspectRatio=n.width/n.height;const o=i.style.width;if(o&&o.match(/^\d+\.?\d*%$/)){this.originalWidthPercents=parseFloat(o)}else{this.originalWidthPercents=Iy(i,n)}}update(t){this.proposedWidth=t.width;this.proposedHeight=t.height;this.proposedWidthPercents=t.widthPercents;this.proposedHandleHostWidth=t.handleHostWidth;this.proposedHandleHostHeight=t.handleHostHeight}}vs(Oy,Jc);function Iy(t,e){const i=t.parentElement;const n=parseFloat(i.ownerDocument.defaultView.getComputedStyle(i).width);return e.width/n*100}function Vy(t,e){const i=new vh(t);const n=e.split("-");const o={x:n[1]=="right"?i.right:i.left,y:n[0]=="bottom"?i.bottom:i.top};o.x+=t.ownerDocument.defaultView.scrollX;o.y+=t.ownerDocument.defaultView.scrollY;return o}function Ny(t){return`ck-widget__resizer__handle-${t}`}function My(t){const e=["top-left","top-right","bottom-right","bottom-left"];for(const i of e){if(t.classList.contains(Ny(i))){return i}}}function By(t){const e=t.split("-");const i={top:"bottom",bottom:"top",left:"right",right:"left"};return`${i[e[0]]}-${i[e[1]]}`}class zy{constructor(t){this._options=t;this._domResizerWrapper=null;this._viewResizerWrapper=null;this.set("isEnabled",true);this.decorate("begin");this.decorate("cancel");this.decorate("commit");this.decorate("updateSize");this.on("commit",t=>{if(!this.state.proposedWidth&&!this.state.proposedWidthPercents){this._cleanup();t.stop()}},{priority:"high"})}attach(){const t=this;const e=this._options.viewElement;const i=this._options.editor.editing.view;i.change(i=>{const n=i.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},(function(e){const i=this.toDomElement(e);t._appendHandles(i);t._appendSizeUI(i);t._domResizerWrapper=i;t.on("change:isEnabled",(t,e,n)=>{i.style.display=n?"":"none"});i.style.display=t.isEnabled?"":"none";return i}));i.insert(i.createPositionAt(e,"end"),n);i.addClass("ck-widget_with-resizer",e);this._viewResizerWrapper=n})}begin(t){this.state=new Oy(this._options);this._sizeUI.bindToState(this._options,this.state);this.state.begin(t,this._getHandleHost(),this._getResizeHost())}updateSize(t){const e=this._proposeNewSize(t);const i=this._options.editor.editing.view;i.change(t=>{const i=this._options.unit||"%";const n=(i==="%"?e.widthPercents:e.width)+i;t.setStyle("width",n,this._options.viewElement)});const n=this._getHandleHost();const o=new vh(n);e.handleHostWidth=Math.round(o.width);e.handleHostHeight=Math.round(o.height);const r=new vh(n);e.width=Math.round(r.width);e.height=Math.round(r.height);this.redraw(o);this.state.update(e)}commit(){const t=this._options.unit||"%";const e=(t==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+t;this._options.onCommit(e);this._cleanup()}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(t){const e=this._domResizerWrapper;if(i(e)){this._options.editor.editing.view.change(i=>{const n=e.parentElement;const o=this._getHandleHost();const r=t||new vh(o);i.setStyle("width",r.width+"px",this._viewResizerWrapper);i.setStyle("height",r.height+"px",this._viewResizerWrapper);const s={left:o.offsetLeft,top:o.offsetTop,height:o.offsetHeight,width:o.offsetWidth};if(!n.isSameNode(o)){i.setStyle("left",s.left+"px",this._viewResizerWrapper);i.setStyle("top",s.top+"px",this._viewResizerWrapper);i.setStyle("height",s.height+"px",this._viewResizerWrapper);i.setStyle("width",s.width+"px",this._viewResizerWrapper)}})}function i(t){return t&&t.ownerDocument&&t.ownerDocument.contains(t)}}containsHandle(t){return this._domResizerWrapper.contains(t)}static isResizeHandle(t){return t.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeUI.dismiss();this._sizeUI.isVisible=false}_proposeNewSize(t){const e=this.state;const i=Dy(t);const n=this._options.isCentered?this._options.isCentered(this):true;const o={x:e._referenceCoordinates.x-(i.x+e.originalWidth),y:i.y-e.originalHeight-e._referenceCoordinates.y};if(n&&e.activeHandlePosition.endsWith("-right")){o.x=i.x-(e._referenceCoordinates.x+e.originalWidth)}if(n){o.x*=2}const r={width:Math.abs(e.originalWidth+o.x),height:Math.abs(e.originalHeight+o.y)};r.dominant=r.width/e.aspectRatio>r.height?"width":"height";r.max=r[r.dominant];const s={width:r.width,height:r.height};if(r.dominant=="width"){s.height=s.width/e.aspectRatio}else{s.width=s.height*e.aspectRatio}return{width:Math.round(s.width),height:Math.round(s.height),widthPercents:Math.min(Math.round(e.originalWidthPercents/e.originalWidth*s.width*100)/100,100)}}_getResizeHost(){const t=this._domResizerWrapper.parentElement;return this._options.getResizeHost(t)}_getHandleHost(){const t=this._domResizerWrapper.parentElement;return this._options.getHandleHost(t)}_appendHandles(t){const e=["top-left","top-right","bottom-right","bottom-left"];for(const i of e){t.appendChild(new _p({tag:"div",attributes:{class:`ck-widget__resizer__handle ${Fy(i)}`}}).render())}}_appendSizeUI(t){const e=new Ly;e.render();this._sizeUI=e;t.appendChild(e.element)}}vs(zy,Jc);class Ly extends Gp{constructor(){super();const t=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",t.to("activeHandlePosition",t=>t?`ck-orientation-${t}`:"")],style:{display:t.if("isVisible","none",t=>!t)}},children:[{text:t.to("label")}]})}bindToState(t,e){this.bind("isVisible").to(e,"proposedWidth",e,"proposedHeight",(t,e)=>t!==null&&e!==null);this.bind("label").to(e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",e,"proposedWidthPercents",(e,i,n)=>{if(t.unit==="px"){return`${e}×${i}`}else{return`${n}%`}});this.bind("activeHandlePosition").to(e)}dismiss(){this.unbind();this.isVisible=false}}function Fy(t){return`ck-widget__resizer__handle-${t}`}function Dy(t){return{x:t.pageX,y:t.pageY}}var jy="Expected a function";function Hy(t,e,i){var n=true,o=true;if(typeof t!="function"){throw new TypeError(jy)}if(ct(i)){n="leading"in i?!!i.leading:n;o="trailing"in i?!!i.trailing:o}return uh(t,e,{leading:n,maxWait:e,trailing:o})}var Wy=Hy;var qy=i(70);class Uy extends mp{static get pluginName(){return"WidgetResize"}init(){this.set("_visibleResizer",null);this.set("_activeResizer",null);this._resizers=new Map;const t=Id.window.document;this.editor.model.schema.setAttributeProperties("width",{isFormatting:true});this._observer=Object.create(qd);this._observer.listenTo(t,"mousedown",this._mouseDownListener.bind(this));this._observer.listenTo(t,"mousemove",this._mouseMoveListener.bind(this));this._observer.listenTo(t,"mouseup",this._mouseUpListener.bind(this));const e=()=>{if(this._visibleResizer){this._visibleResizer.redraw()}};const i=Wy(e,200);this.on("change:_visibleResizer",e);this.editor.ui.on("update",i);this._observer.listenTo(Id.window,"resize",i);const n=this.editor.editing.view.document.selection;n.on("change",()=>{const t=n.getSelectedElement();this._visibleResizer=this._getResizerByViewElement(t)||null})}destroy(){this._observer.stopListening();for(const t of this._resizers.values()){t.destroy()}}attachTo(t){const e=new zy(t);const i=this.editor.plugins;e.attach();if(i.has("WidgetToolbarRepository")){const t=i.get("WidgetToolbarRepository");e.on("begin",()=>{t.forceDisabled("resize")},{priority:"lowest"});e.on("cancel",()=>{t.clearForceDisabled("resize")},{priority:"highest"});e.on("commit",()=>{t.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(t.viewElement,e);return e}_getResizerByHandle(t){for(const e of this._resizers.values()){if(e.containsHandle(t)){return e}}}_getResizerByViewElement(t){return this._resizers.get(t)}_mouseDownListener(t,e){if(!zy.isResizeHandle(e.target)){return}const i=e.target;this._activeResizer=this._getResizerByHandle(i);if(this._activeResizer){this._activeResizer.begin(i)}}_mouseMoveListener(t,e){if(this._activeResizer){this._activeResizer.updateSize(e)}}_mouseUpListener(){if(this._activeResizer){this._activeResizer.commit();this._activeResizer=null}}}vs(Uy,Jc);class $y extends jw{refresh(){const t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=yv(t);if(!t||!t.hasAttribute("width")){this.value=null}else{this.value={width:t.getAttribute("width"),height:null}}}execute(t){const e=this.editor.model;const i=e.document.selection.getSelectedElement();e.change(e=>{e.setAttribute("width",t.width,i)})}}var Gy=i(72);class Ky extends mp{static get requires(){return[Uy]}static get pluginName(){return"ImageResize"}init(){const t=this.editor;const e=new $y(t);this._registerSchema();this._registerConverters();t.commands.add("imageResize",e);t.editing.downcastDispatcher.on("insert:image",(i,n,o)=>{const r=o.mapper.toViewElement(n.item);const s=t.plugins.get(Uy).attachTo({unit:t.config.get("image.resizeUnit")||"%",modelElement:n.item,viewElement:r,editor:t,getHandleHost(t){return t.querySelector("img")},getResizeHost(t){return t},isCentered(){const t=n.item.getAttribute("imageStyle");return!t||t=="full"||t=="alignCenter"},onCommit(e){t.execute("imageResize",{width:e})}});s.on("updateSize",()=>{if(!r.hasClass("image_resized")){t.editing.view.change(t=>{t.addClass("image_resized",r)})}});s.bind("isEnabled").to(e)},{priority:"low"})}_registerSchema(){this.editor.model.schema.extend("image",{allowAttributes:"width"})}_registerConverters(){const t=this.editor;t.conversion.for("downcast").add(t=>t.on("attribute:width:image",(t,e,i)=>{if(!i.consumable.consume(e.item,t.name)){return}const n=i.writer;const o=i.mapper.toViewElement(e.item);if(e.attributeNewValue!==null){n.setStyle("width",e.attributeNewValue,o);n.addClass("image_resized",o)}else{n.removeStyle("width",o);n.removeClass("image_resized",o)}}));t.conversion.for("upcast").attributeToAttribute({view:{name:"figure",styles:{width:/.+/}},model:{key:"width",value:t=>t.getStyle("width")}})}}class Jy extends Gp{constructor(t){super(t);this.buttonView=new hb(t);this._fileInputView=new Yy(t);this._fileInputView.bind("acceptedType").to(this);this._fileInputView.bind("allowMultipleFiles").to(this);this._fileInputView.delegate("done").to(this);this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]});this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class Yy extends Gp{constructor(t){super(t);this.set("acceptedType");this.set("allowMultipleFiles",false);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{if(this.element&&this.element.files&&this.element.files.length){this.fire("done",this.element.files)}this.element.value=""})}})}open(){this.element.click()}}var Qy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>';function Xy(t){const e=t.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function Zy(t){return new Promise((e,i)=>{const n=t.getAttribute("src");fetch(n).then(t=>t.blob()).then(t=>{const o=ex(t,n);const r=o.replace("image/","");const s=`image.${r}`;const a=ix(t,s,o);a?e(a):i()}).catch(i)})}function tx(t){if(!t.is("element","img")||!t.getAttribute("src")){return false}return t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g)}function ex(t,e){if(t.type){return t.type}else if(e.match(/data:(image\/\w+);base64/)){return e.match(/data:(image\/\w+);base64/)[1].toLowerCase()}else{return"image/jpeg"}}function ix(t,e,i){try{return new File([t],e,{type:i})}catch(t){return null}}class nx extends mp{init(){const t=this.editor;const e=t.t;t.ui.componentFactory.add("imageUpload",i=>{const n=new Jy(i);const o=t.commands.get("imageUpload");const r=t.config.get("image.upload.types");const s=Xy(r);n.set({acceptedType:r.map(t=>`image/${t}`).join(","),allowMultipleFiles:true});n.buttonView.set({label:e("kd"),icon:Qy,tooltip:true});n.buttonView.bind("isEnabled").to(o);n.on("done",(e,i)=>{const n=Array.from(i).filter(t=>s.test(t.type));if(n.length){t.execute("imageUpload",{file:n})}});return n})}}var ox='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>';var rx=i(74);var sx=i(76);var ax=i(78);class cx extends mp{constructor(t){super(t);this.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent(ox)}init(){const t=this.editor;t.editing.downcastDispatcher.on("attribute:uploadStatus:image",(...t)=>this.uploadStatusChange(...t))}uploadStatusChange(t,e,i){const n=this.editor;const o=e.item;const r=o.getAttribute("uploadId");if(!i.consumable.consume(e.item,t.name)){return}const s=n.plugins.get(lk);const a=r?e.attributeNewValue:null;const c=this.placeholder;const l=n.editing.mapper.toViewElement(o);const d=i.writer;if(a=="reading"){lx(l,d);ux(c,l,d);return}if(a=="uploading"){const t=s.loaders.get(r);lx(l,d);if(!t){ux(c,l,d)}else{hx(l,d);fx(l,d,t,n.editing.view);_x(l,d,t)}return}if(a=="complete"&&s.loaders.get(r)&&!Al.isEdge){mx(l,d,n.editing.view)}gx(l,d);hx(l,d);dx(l,d)}}function lx(t,e){if(!t.hasClass("ck-appear")){e.addClass("ck-appear",t)}}function dx(t,e){e.removeClass("ck-appear",t)}function ux(t,e,i){if(!e.hasClass("ck-image-upload-placeholder")){i.addClass("ck-image-upload-placeholder",e)}const n=Av(e);if(n.getAttribute("src")!==t){i.setAttribute("src",t,n)}if(!wx(e,"placeholder")){i.insert(i.createPositionAfter(n),bx(i))}}function hx(t,e){if(t.hasClass("ck-image-upload-placeholder")){e.removeClass("ck-image-upload-placeholder",t)}kx(t,e,"placeholder")}function fx(t,e,i,n){const o=px(e);e.insert(e.createPositionAt(t,"end"),o);i.on("change:uploadedPercent",(t,e,i)=>{n.change(t=>{t.setStyle("width",i+"%",o)})})}function gx(t,e){kx(t,e,"progressBar")}function mx(t,e,i){const n=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),n);setTimeout(()=>{i.change(t=>t.remove(t.createRangeOn(n)))},3e3)}function px(t){const e=t.createUIElement("div",{class:"ck-progress-bar"});t.setCustomProperty("progressBar",true,e);return e}function bx(t){const e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});t.setCustomProperty("placeholder",true,e);return e}function wx(t,e){for(const i of t.getChildren()){if(i.getCustomProperty(e)){return i}}}function kx(t,e,i){const n=wx(t,i);if(n){e.remove(e.createRangeOn(n))}}function _x(t,e,i){if(i.data){const n=Av(t);e.setAttribute("src",i.data,n)}}class vx extends sk{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,e)=>{window.alert(e.message)},{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){const e=`show:${t.type}`+(t.namespace?`:${t.namespace}`:"");this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}class yx{constructor(t){this.files=xx(t);this._native=t}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}}function xx(t){const e=t.files?Array.from(t.files):[];const i=t.items?Array.from(t.items):[];if(e.length){return e}return i.filter(t=>t.kind==="file").map(t=>t.getAsFile())}class Cx extends Ju{constructor(t){super(t);const e=this.document;this.domEventType=["paste","copy","cut","drop","dragover"];this.listenTo(e,"paste",i,{priority:"low"});this.listenTo(e,"drop",i,{priority:"low"});function i(t,i){i.preventDefault();const n=i.dropRange?[i.dropRange]:Array.from(e.selection.getRanges());const o=new ts(e,"clipboardInput");e.fire(o,{dataTransfer:i.dataTransfer,targetRanges:n});if(o.stop.called){i.stopPropagation()}}}onDomEvent(t){const e={dataTransfer:new yx(t.clipboardData?t.clipboardData:t.dataTransfer)};if(t.type=="drop"){e.dropRange=Ax(this.view,t)}this.fire(t.type,t,e)}}function Ax(t,e){const i=e.target.ownerDocument;const n=e.clientX;const o=e.clientY;let r;if(i.caretRangeFromPoint&&i.caretRangeFromPoint(n,o)){r=i.caretRangeFromPoint(n,o)}else if(e.rangeParent){r=i.createRange();r.setStart(e.rangeParent,e.rangeOffset);r.collapse(true)}if(r){return t.domConverter.domRangeToView(r)}else{return t.document.selection.getFirstRange()}}function Tx(t){t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;");if(t.indexOf("</p><p>")>-1){t=`<p>${t}</p>`}return t}function Px(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>{if(e.length==1){return" "}return e})}const Sx=["figcaption","li"];function Ex(t){let e="";if(t.is("text")||t.is("textProxy")){e=t.data}else if(t.is("img")&&t.hasAttribute("alt")){e=t.getAttribute("alt")}else{let i=null;for(const n of t.getChildren()){const t=Ex(n);if(i&&(i.is("containerElement")||n.is("containerElement"))){if(Sx.includes(i.name)||Sx.includes(n.name)){e+="\n"}else{e+="\n\n"}}e+=t;i=n}}return e}class Rx extends mp{static get pluginName(){return"Clipboard"}init(){const t=this.editor;const e=t.model.document;const i=t.editing.view;const n=i.document;this._htmlDataProcessor=new gp(n);i.addObserver(Cx);this.listenTo(n,"clipboardInput",e=>{if(t.isReadOnly){e.stop()}},{priority:"highest"});this.listenTo(n,"clipboardInput",(t,e)=>{const n=e.dataTransfer;let o="";if(n.getData("text/html")){o=Px(n.getData("text/html"))}else if(n.getData("text/plain")){o=Tx(n.getData("text/plain"))}o=this._htmlDataProcessor.toView(o);this.fire("inputTransformation",{content:o,dataTransfer:n});i.scrollToTheSelection()},{priority:"low"});this.listenTo(this,"inputTransformation",(t,e)=>{if(!e.content.isEmpty){const t=this.editor.data;const i=this.editor.model;const n=t.toModel(e.content,"$clipboardHolder");if(n.childCount==0){return}i.insertContent(n)}},{priority:"low"});function o(i,o){const r=o.dataTransfer;o.preventDefault();const s=t.data.toView(t.model.getSelectedContent(e.selection));n.fire("clipboardOutput",{dataTransfer:r,content:s,method:i.name})}this.listenTo(n,"copy",o,{priority:"low"});this.listenTo(n,"cut",(e,i)=>{if(t.isReadOnly){i.preventDefault()}else{o(e,i)}},{priority:"low"});this.listenTo(n,"clipboardOutput",(i,n)=>{if(!n.content.isEmpty){n.dataTransfer.setData("text/html",this._htmlDataProcessor.toData(n.content));n.dataTransfer.setData("text/plain",Ex(n.content))}if(n.method=="cut"){t.model.deleteContent(e.selection)}},{priority:"low"})}}class Ox{constructor(t){this.document=t}createDocumentFragment(t){return new ql(this.document,t)}createElement(t,e,i){return new zc(this.document,t,e,i)}createText(t){return new Ls(this.document,t)}clone(t,e=false){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,i){return i._insertChild(t,e)}removeChildren(t,e,i){return i._removeChildren(t,e)}remove(t){const e=t.parent;if(e){return this.removeChildren(e.getChildIndex(t),1,e)}return[]}replace(t,e){const i=t.parent;if(i){const n=i.getChildIndex(t);this.removeChildren(n,1,i);this.insertChild(n,e,i);return true}return false}unwrapElement(t){const e=t.parent;if(e){const i=e.getChildIndex(t);this.remove(t);this.insertChild(i,t.getChildren(),e)}}rename(t,e){const i=new zc(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,i)?i:null}setAttribute(t,e,i){i._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,i){if(N(t)&&i===undefined){i=e}i._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,i){i._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return dl._createAt(t,e)}createPositionAfter(t){return dl._createAfter(t)}createPositionBefore(t){return dl._createBefore(t)}createRange(t,e){return new ul(t,e)}createRangeOn(t){return ul._createOn(t)}createRangeIn(t){return ul._createIn(t)}createSelection(t,e,i){return new gl(t,e,i)}}class Ix extends jw{refresh(){this.isEnabled=Cv(this.editor.model)}execute(t){const e=this.editor;const i=e.model;const n=e.plugins.get(lk);i.change(e=>{const o=Array.isArray(t.file)?t.file:[t.file];for(const t of o){Vx(e,i,n,t)}})}}function Vx(t,e,i,n){const o=i.createLoader(n);if(!o){return}xv(t,e,{uploadId:o.id})}class Nx extends mp{static get requires(){return[lk,vx,Rx]}static get pluginName(){return"ImageUploadEditing"}constructor(t){super(t);t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}})}init(){const t=this.editor;const e=t.model.document;const i=t.model.schema;const n=t.conversion;const o=t.plugins.get(lk);const r=Xy(t.config.get("image.upload.types"));i.extend("image",{allowAttributes:["uploadId","uploadStatus"]});t.commands.add("imageUpload",new Ix(t));n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"});this.listenTo(t.editing.view.document,"clipboardInput",(e,i)=>{if(Mx(i.dataTransfer)){return}const n=Array.from(i.dataTransfer.files).filter(t=>{if(!t){return false}return r.test(t.type)});const o=i.targetRanges.map(e=>t.editing.mapper.toModelRange(e));t.model.change(i=>{i.setSelection(o);if(n.length){e.stop();t.model.enqueueChange("default",()=>{t.execute("imageUpload",{file:n})})}})});this.listenTo(t.plugins.get(Rx),"inputTransformation",(e,i)=>{const n=Array.from(t.editing.view.createRangeIn(i.content)).filter(t=>tx(t.item)&&!t.item.getAttribute("uploadProcessed")).map(t=>({promise:Zy(t.item),imageElement:t.item}));if(!n.length){return}const r=new Ox(t.editing.view.document);for(const t of n){r.setAttribute("uploadProcessed",true,t.imageElement);const e=o.createLoader(t.promise);if(e){r.setAttribute("src","",t.imageElement);r.setAttribute("uploadId",e.id,t.imageElement)}}});t.editing.view.document.on("dragover",(t,e)=>{e.preventDefault()});e.on("change",()=>{const i=e.differ.getChanges({includeChangesInGraveyard:true});for(const e of i){if(e.type=="insert"&&e.name!="$text"){const i=e.position.nodeAfter;const n=e.position.root.rootName=="$graveyard";for(const e of Bx(t,i)){const t=e.getAttribute("uploadId");if(!t){continue}const i=o.loaders.get(t);if(!i){continue}if(n){i.abort()}else if(i.status=="idle"){this._readAndUpload(i,e)}}}}})}_readAndUpload(t,e){const i=this.editor;const n=i.model;const o=i.locale.t;const r=i.plugins.get(lk);const s=i.plugins.get(vx);n.enqueueChange("transparent",t=>{t.setAttribute("uploadStatus","reading",e)});return t.read().then(()=>{const o=t.upload();if(Al.isSafari){const t=i.editing.mapper.toViewElement(e);const n=Av(t);i.editing.view.once("render",()=>{if(!n.parent){return}const t=i.editing.view.domConverter.mapViewToDom(n.parent);if(!t){return}const e=t.style.display;t.style.display="none";t._ckHack=t.offsetHeight;t.style.display=e})}n.enqueueChange("transparent",t=>{t.setAttribute("uploadStatus","uploading",e)});return o}).then(t=>{n.enqueueChange("transparent",i=>{i.setAttributes({uploadStatus:"complete",src:t.default},e);this._parseAndSetSrcsetAttributeOnImage(t,e,i)});a()}).catch(i=>{if(t.status!=="error"&&t.status!=="aborted"){throw i}if(t.status=="error"&&i){s.showWarning(i,{title:o("ke"),namespace:"upload"})}a();n.enqueueChange("transparent",t=>{t.remove(e)})});function a(){n.enqueueChange("transparent",t=>{t.removeAttribute("uploadId",e);t.removeAttribute("uploadStatus",e)});r.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,e,i){let n=0;const o=Object.keys(t).filter(t=>{const e=parseInt(t,10);if(!isNaN(e)){n=Math.max(n,e);return true}}).map(e=>`${t[e]} ${e}w`).join(", ");if(o!=""){i.setAttribute("srcset",{data:o,width:n},e)}}}function Mx(t){return Array.from(t.types).includes("text/html")&&t.getData("text/html")!==""}function Bx(t,e){return Array.from(t.model.createRangeOn(e)).filter(t=>t.item.is("image")).map(t=>t.item)}class zx extends mp{static get pluginName(){return"ImageUpload"}static get requires(){return[Nx,nx,cx]}}class Lx extends jw{constructor(t){super(t);this._childCommands=[]}refresh(){}execute(...t){const e=this._getFirstEnabledCommand();e.execute(t)}registerChildCommand(t){this._childCommands.push(t);t.on("change:isEnabled",()=>this._checkEnabled());this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){return this._childCommands.find(t=>t.isEnabled)}}class Fx extends mp{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new Lx(t));t.commands.add("outdent",new Lx(t))}}var Dx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>';var jx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class Hx extends mp{static get pluginName(){return"IndentUI"}init(){const t=this.editor;const e=t.locale;const i=t.t;const n=e.uiLanguageDirection=="ltr"?Dx:jx;const o=e.uiLanguageDirection=="ltr"?jx:Dx;this._defineButton("indent",i("jg"),n);this._defineButton("outdent",i("jh"),o)}_defineButton(t,e,i){const n=this.editor;n.ui.componentFactory.add(t,o=>{const r=n.commands.get(t);const s=new hb(o);s.set({label:e,icon:i,tooltip:true});s.bind("isOn","isEnabled").to(r,"value","isEnabled");this.listenTo(s,"execute",()=>{n.execute(t);n.editing.view.focus()});return s})}}class Wx extends mp{static get pluginName(){return"Indent"}static get requires(){return[Fx,Hx]}}class qx extends jw{constructor(t,e){super(t);this._indentBehavior=e}refresh(){const t=this.editor;const e=t.model;const i=Ww(e.document.selection.getSelectedBlocks());if(!i||!e.schema.checkAttribute(i,"blockIndent")){this.isEnabled=false;return}this.isEnabled=this._indentBehavior.checkEnabled(i.getAttribute("blockIndent"))}execute(){const t=this.editor.model;const e=Ux(t);t.change(t=>{for(const i of e){const e=i.getAttribute("blockIndent");const n=this._indentBehavior.getNextIndent(e);if(n){t.setAttribute("blockIndent",n,i)}else{t.removeAttribute("blockIndent",i)}}})}}function Ux(t){const e=t.document.selection;const i=t.schema;const n=Array.from(e.getSelectedBlocks());return n.filter(t=>i.checkAttribute(t,"blockIndent"))}class $x{constructor(t){this.isForward=t.direction==="forward";this.offset=t.offset;this.unit=t.unit}checkEnabled(t){const e=parseFloat(t||0);return this.isForward||e>0}getNextIndent(t){const e=parseFloat(t||0);const i=!t||t.endsWith(this.unit);if(!i){return this.isForward?this.offset+this.unit:undefined}const n=this.isForward?this.offset:-this.offset;const o=e+n;return o>0?o+this.unit:undefined}}class Gx{constructor(t){this.isForward=t.direction==="forward";this.classes=t.classes}checkEnabled(t){const e=this.classes.indexOf(t);if(this.isForward){return e<this.classes.length-1}else{return e>=0}}getNextIndent(t){const e=this.classes.indexOf(t);const i=this.isForward?1:-1;return this.classes[e+i]}}const Kx=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i;const Jx=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i;const Yx=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i;const Qx=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i;const Xx=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i;const Zx=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","rebeccapurple","currentcolor","transparent"]);function tC(t){if(t.startsWith("#")){return Kx.test(t)}if(t.startsWith("rgb")){return Jx.test(t)||Yx.test(t)}if(t.startsWith("hsl")){return Qx.test(t)||Xx.test(t)}return Zx.has(t.toLowerCase())}const eC=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function iC(t){return eC.includes(t)}const nC=/^([+-]?[0-9]*[.]?[0-9]+(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function oC(t){return nC.test(t)}const rC=/^[+-]?[0-9]*[.]?[0-9]+%$/;function sC(t){return rC.test(t)}const aC=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function cC(t){return aC.includes(t)}const lC=["center","top","bottom","left","right"];function dC(t){return lC.includes(t)}const uC=["fixed","scroll","local"];function hC(t){return uC.includes(t)}const fC=/^url\(/;function gC(t){return fC.test(t)}function mC(t=""){if(t===""){return{top:undefined,right:undefined,bottom:undefined,left:undefined}}const e=kC(t);const i=e[0];const n=e[2]||i;const o=e[1]||i;const r=e[3]||o;return{top:i,bottom:n,right:o,left:r}}function pC(t){return e=>{const{top:i,right:n,bottom:o,left:r}=e;const s=[];if(![i,n,r,o].every(t=>!!t)){if(i){s.push([t+"-top",i])}if(n){s.push([t+"-right",n])}if(o){s.push([t+"-bottom",o])}if(r){s.push([t+"-left",r])}}else{s.push([t,bC(e)])}return s}}function bC({top:t,right:e,bottom:i,left:n}){const o=[];if(n!==e){o.push(t,e,i,n)}else if(i!==t){o.push(t,e,i)}else if(e!==t){o.push(t,e)}else{o.push(t)}return o.join(" ")}function wC(t){return e=>({path:t,value:mC(e)})}function kC(t){return t.replace(/, /g,",").split(" ").map(t=>t.replace(/,/g,", "))}function _C(t){t.setNormalizer("margin",wC("margin"));t.setNormalizer("margin-top",t=>({path:"margin.top",value:t}));t.setNormalizer("margin-right",t=>({path:"margin.right",value:t}));t.setNormalizer("margin-bottom",t=>({path:"margin.bottom",value:t}));t.setNormalizer("margin-left",t=>({path:"margin.left",value:t}));t.setReducer("margin",pC("margin"));t.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}class vC extends mp{constructor(t){super(t);t.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const t=this.editor;const e=t.config.get("indentBlock");const i=!e.classes||!e.classes.length;const n=Object.assign({direction:"forward"},e);const o=Object.assign({direction:"backward"},e);if(i){t.data.addStyleProcessorRules(_C);this._setupConversionUsingOffset(t.conversion);t.commands.add("indentBlock",new qx(t,new $x(n)));t.commands.add("outdentBlock",new qx(t,new $x(o)))}else{this._setupConversionUsingClasses(e.classes);t.commands.add("indentBlock",new qx(t,new Gx(n)));t.commands.add("outdentBlock",new qx(t,new Gx(o)))}}afterInit(){const t=this.editor;const e=t.model.schema;const i=t.commands.get("indent");const n=t.commands.get("outdent");const o=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];o.forEach(t=>{if(e.isRegistered(t)){e.extend(t,{allowAttributes:"blockIndent"})}});i.registerChildCommand(t.commands.get("indentBlock"));n.registerChildCommand(t.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const t=this.editor.conversion;const e=this.editor.locale;const i=e.contentLanguageDirection==="rtl"?"margin-right":"margin-left";t.for("upcast").attributeToAttribute({view:{styles:{[i]:/[\s\S]+/}},model:{key:"blockIndent",value:t=>t.getStyle(i)}});t.for("downcast").attributeToAttribute({model:"blockIndent",view:t=>({key:"style",value:{[i]:t}})})}_setupConversionUsingClasses(t){const e={model:{key:"blockIndent",values:[]},view:{}};for(const i of t){e.model.values.push(i);e.view[i]={key:"class",value:[i]}}this.editor.conversion.attributeToAttribute(e)}}const yC="italic";class xC extends mp{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:yC});t.model.schema.setAttributeProperties(yC,{isFormatting:true,copyOnEnter:true});t.conversion.attributeToElement({model:yC,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]});t.commands.add(yC,new yk(t,yC));t.keystrokes.set("CTRL+I",yC)}}var CC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';const AC="italic";class TC extends mp{init(){const t=this.editor;const e=t.t;t.ui.componentFactory.add(AC,i=>{const n=t.commands.get(AC);const o=new hb(i);o.set({label:e("jj"),icon:CC,keystroke:"CTRL+I",tooltip:true,isToggleable:true});o.bind("isOn","isEnabled").to(n,"value","isEnabled");this.listenTo(o,"execute",()=>{t.execute(AC);t.editing.view.focus()});return o})}}class PC extends mp{static get requires(){return[xC,TC]}static get pluginName(){return"Italic"}}function SC(t,e,i){return i.createRange(EC(t,e,true,i),EC(t,e,false,i))}function EC(t,e,i,n){let o=t.textNode||(i?t.nodeBefore:t.nodeAfter);let r=null;while(o&&o.getAttribute("linkHref")==e){r=o;o=i?o.previousSibling:o.nextSibling}return r?n.createPositionAt(r,i?"before":"after"):t}class RC extends jw{constructor(t){super(t);this.manualDecorators=new ys}restoreManualDecoratorStates(){for(const t of this.manualDecorators){t.value=this._getDecoratorStateFromModel(t.id)}}refresh(){const t=this.editor.model;const e=t.document;this.value=e.selection.getAttribute("linkHref");for(const t of this.manualDecorators){t.value=this._getDecoratorStateFromModel(t.id)}this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"linkHref")}execute(t,e={}){const i=this.editor.model;const n=i.document.selection;const o=[];const r=[];for(const t in e){if(e[t]){o.push(t)}else{r.push(t)}}i.change(e=>{if(n.isCollapsed){const s=n.getFirstPosition();if(n.hasAttribute("linkHref")){const a=SC(s,n.getAttribute("linkHref"),i);e.setAttribute("linkHref",t,a);o.forEach(t=>{e.setAttribute(t,true,a)});r.forEach(t=>{e.removeAttribute(t,a)});e.setSelection(a)}else if(t!==""){const r=Hs(n.getAttributes());r.set("linkHref",t);o.forEach(t=>{r.set(t,true)});const a=e.createText(t,r);i.insertContent(a,s);e.setSelection(e.createRangeOn(a))}}else{const s=i.schema.getValidRanges(n.getRanges(),"linkHref");for(const i of s){e.setAttribute("linkHref",t,i);o.forEach(t=>{e.setAttribute(t,true,i)});r.forEach(t=>{e.removeAttribute(t,i)})}}})}_getDecoratorStateFromModel(t){const e=this.editor.model.document;return e.selection.getAttribute(t)||false}}class OC extends jw{refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref")}execute(){const t=this.editor;const e=this.editor.model;const i=e.document.selection;const n=t.commands.get("link");e.change(t=>{const o=i.isCollapsed?[SC(i.getFirstPosition(),i.getAttribute("linkHref"),e)]:i.getRanges();for(const e of o){t.removeAttribute("linkHref",e);if(n){for(const i of n.manualDecorators){t.removeAttribute(i.id,e)}}}})}}function IC(t,e,i){var n=t.length;i=i===undefined?n:i;return!e&&i>=n?t:Oa(t,e,i)}var VC=IC;var NC="\\ud800-\\udfff",MC="\\u0300-\\u036f",BC="\\ufe20-\\ufe2f",zC="\\u20d0-\\u20ff",LC=MC+BC+zC,FC="\\ufe0e\\ufe0f";var DC="\\u200d";var jC=RegExp("["+DC+NC+LC+FC+"]");function HC(t){return jC.test(t)}var WC=HC;function qC(t){return t.split("")}var UC=qC;var $C="\\ud800-\\udfff",GC="\\u0300-\\u036f",KC="\\ufe20-\\ufe2f",JC="\\u20d0-\\u20ff",YC=GC+KC+JC,QC="\\ufe0e\\ufe0f";var XC="["+$C+"]",ZC="["+YC+"]",tA="\\ud83c[\\udffb-\\udfff]",eA="(?:"+ZC+"|"+tA+")",iA="[^"+$C+"]",nA="(?:\\ud83c[\\udde6-\\uddff]){2}",oA="[\\ud800-\\udbff][\\udc00-\\udfff]",rA="\\u200d";var sA=eA+"?",aA="["+QC+"]?",cA="(?:"+rA+"(?:"+[iA,nA,oA].join("|")+")"+aA+sA+")*",lA=aA+sA+cA,dA="(?:"+[iA+ZC+"?",ZC,nA,oA,XC].join("|")+")";var uA=RegExp(tA+"(?="+tA+")|"+dA+lA,"g");function hA(t){return t.match(uA)||[]}var fA=hA;function gA(t){return WC(t)?fA(t):UC(t)}var mA=gA;function pA(t){return function(e){e=_a(e);var i=WC(e)?mA(e):undefined;var n=i?i[0]:e.charAt(0);var o=i?VC(i,1).join(""):e.slice(1);return n[t]()+o}}var bA=pA;var wA=bA("toUpperCase");var kA=wA;const _A=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;const vA=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function yA(t){return t.is("attributeElement")&&!!t.getCustomProperty("link")}function xA(t,e){const i=e.createAttributeElement("a",{href:t},{priority:5});e.setCustomProperty("link",true,i);return i}function CA(t){t=String(t);return AA(t)?t:"#"}function AA(t){const e=t.replace(_A,"");return e.match(vA)}function TA(t,e){const i={"Open in a new tab":t("mm"),Downloadable:t("mn")};e.forEach(t=>{if(t.label&&i[t.label]){t.label=i[t.label]}return t});return e}function PA(t){const e=[];if(t){for(const[i,n]of Object.entries(t)){const t=Object.assign({},n,{id:`link${kA(i)}`});e.push(t)}}return e}class SA{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){if(Array.isArray(t)){t.forEach(t=>this._definitions.add(t))}else{this._definitions.add(t)}}getDispatcher(){return t=>{t.on("attribute:linkHref",(t,e,i)=>{if(!i.consumable.test(e.item,"attribute:linkHref")){return}const n=i.writer;const o=n.document.selection;for(const t of this._definitions){const r=n.createAttributeElement("a",t.attributes,{priority:5});n.setCustomProperty("link",true,r);if(t.callback(e.attributeNewValue)){if(e.item.is("selection")){n.wrap(o.getFirstRange(),r)}else{n.wrap(i.mapper.toViewRange(e.range),r)}}else{n.unwrap(i.mapper.toViewRange(e.range),r)}}},{priority:"high"})}}}class EA{constructor({id:t,label:e,attributes:i}){this.id=t;this.set("value");this.label=e;this.attributes=i}}vs(EA,Jc);function RA({view:t,model:e,emitter:i,attribute:n,locale:o}){const r=new OA(e,i,n);const s=e.document.selection;i.listenTo(t.document,"keydown",(t,e)=>{if(!s.isCollapsed){return}if(e.shiftKey||e.altKey||e.ctrlKey){return}const i=e.keyCode==Nl.arrowright;const n=e.keyCode==Nl.arrowleft;if(!i&&!n){return}const a=s.getFirstPosition();const c=o.contentLanguageDirection;let l;if(c==="ltr"&&i||c==="rtl"&&n){l=r.handleForwardMovement(a,e)}else{l=r.handleBackwardMovement(a,e)}if(l){t.stop()}},{priority:os.get("high")+1})}class OA{constructor(t,e,i){this.model=t;this.attribute=i;this._modelSelection=t.document.selection;this._overrideUid=null;this._isNextGravityRestorationSkipped=false;e.listenTo(this._modelSelection,"change:range",(t,e)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=false;return}if(!this._isGravityOverridden){return}if(!e.directChange&&IA(this._modelSelection.getFirstPosition(),i)){return}this._restoreGravity()})}handleForwardMovement(t,e){const i=this.attribute;if(this._isGravityOverridden){return}if(t.isAtStart&&this._hasSelectionAttribute){return}if(MA(t,i)&&this._hasSelectionAttribute){this._preventCaretMovement(e);this._removeSelectionAttribute();return true}if(VA(t,i)){this._preventCaretMovement(e);this._overrideGravity();return true}if(NA(t,i)&&this._hasSelectionAttribute){this._preventCaretMovement(e);this._overrideGravity();return true}}handleBackwardMovement(t,e){const i=this.attribute;if(this._isGravityOverridden){if(MA(t,i)&&this._hasSelectionAttribute){this._preventCaretMovement(e);this._restoreGravity();this._removeSelectionAttribute();return true}else{this._preventCaretMovement(e);this._restoreGravity();if(t.isAtStart){this._removeSelectionAttribute()}return true}}else{if(MA(t,i)&&!this._hasSelectionAttribute){this._preventCaretMovement(e);this._setSelectionAttributeFromTheNodeBefore(t);return true}if(t.isAtEnd&&NA(t,i)){if(this._hasSelectionAttribute){if(BA(t,i)){this._skipNextAutomaticGravityRestoration();this._overrideGravity()}return}else{this._preventCaretMovement(e);this._setSelectionAttributeFromTheNodeBefore(t);return true}}if(t.isAtStart){if(this._hasSelectionAttribute){this._removeSelectionAttribute();this._preventCaretMovement(e);return true}return}if(BA(t,i)){this._skipNextAutomaticGravityRestoration();this._overrideGravity()}}}get _isGravityOverridden(){return!!this._overrideUid}get _hasSelectionAttribute(){return this._modelSelection.hasAttribute(this.attribute)}_overrideGravity(){this._overrideUid=this.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.model.change(t=>{t.restoreSelectionGravity(this._overrideUid);this._overrideUid=null})}_preventCaretMovement(t){t.preventDefault()}_removeSelectionAttribute(){this.model.change(t=>{t.removeSelectionAttribute(this.attribute)})}_setSelectionAttributeFromTheNodeBefore(t){const e=this.attribute;this.model.change(i=>{i.setSelectionAttribute(this.attribute,t.nodeBefore.getAttribute(e))})}_skipNextAutomaticGravityRestoration(){this._isNextGravityRestorationSkipped=true}}function IA(t,e){return VA(t,e)||NA(t,e)}function VA(t,e){const{nodeBefore:i,nodeAfter:n}=t;const o=i?i.hasAttribute(e):false;const r=n?n.hasAttribute(e):false;return r&&(!o||i.getAttribute(e)!==n.getAttribute(e))}function NA(t,e){const{nodeBefore:i,nodeAfter:n}=t;const o=i?i.hasAttribute(e):false;const r=n?n.hasAttribute(e):false;return o&&(!r||i.getAttribute(e)!==n.getAttribute(e))}function MA(t,e){const{nodeBefore:i,nodeAfter:n}=t;const o=i?i.hasAttribute(e):false;const r=n?n.hasAttribute(e):false;if(!r||!o){return}return n.getAttribute(e)!==i.getAttribute(e)}function BA(t,e){return IA(t.getShiftedBy(-1),e)}var zA=i(80);const LA="ck-link_selected";const FA="automatic";const DA="manual";const jA=/^(https?:)?\/\//;class HA extends mp{static get pluginName(){return"LinkEditing"}constructor(t){super(t);t.config.define("link",{addTargetToExternalLinks:false})}init(){const t=this.editor;const e=t.locale;t.model.schema.extend("$text",{allowAttributes:"linkHref"});t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:xA});t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(t,e)=>xA(CA(t),e)});t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:true}},model:{key:"linkHref",value:t=>t.getAttribute("href")}});t.commands.add("link",new RC(t));t.commands.add("unlink",new OC(t));const i=TA(t.t,PA(t.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(t=>t.mode===FA));this._enableManualDecorators(i.filter(t=>t.mode===DA));RA({view:t.editing.view,model:t.model,emitter:this,attribute:"linkHref",locale:e});this._setupLinkHighlight()}_enableAutomaticDecorators(t){const e=this.editor;const i=new SA;if(e.config.get("link.addTargetToExternalLinks")){i.add({id:"linkIsExternal",mode:FA,callback:t=>jA.test(t),attributes:{target:"_blank",rel:"noopener noreferrer"}})}i.add(t);if(i.length){e.conversion.for("downcast").add(i.getDispatcher())}}_enableManualDecorators(t){if(!t.length){return}const e=this.editor;const i=e.commands.get("link");const n=i.manualDecorators;t.forEach(t=>{e.model.schema.extend("$text",{allowAttributes:t.id});n.add(new EA(t));e.conversion.for("downcast").attributeToElement({model:t.id,view:(e,i)=>{if(e){const e=n.get(t.id).attributes;const o=i.createAttributeElement("a",e,{priority:5});i.setCustomProperty("link",true,o);return o}}});e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:n.get(t.id).attributes},model:{key:t.id}})})}_setupLinkHighlight(){const t=this.editor;const e=t.editing.view;const i=new Set;e.document.registerPostFixer(e=>{const n=t.model.document.selection;let o=false;if(n.hasAttribute("linkHref")){const r=SC(n.getFirstPosition(),n.getAttribute("linkHref"),t.model);const s=t.editing.mapper.toViewRange(r);for(const t of s.getItems()){if(t.is("a")&&!t.hasClass(LA)){e.addClass(LA,t);i.add(t);o=true}}}return o});t.conversion.for("editingDowncast").add(t=>{t.on("insert",n,{priority:"highest"});t.on("remove",n,{priority:"highest"});t.on("attribute",n,{priority:"highest"});t.on("selection",n,{priority:"highest"});function n(){e.change(t=>{for(const e of i.values()){t.removeClass(LA,e);i.delete(e)}})}})}}class WA extends Ju{constructor(t){super(t);this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}var qA=i(82);class UA extends Gp{constructor(t,e=[]){super(t);const i=t.t;this.focusTracker=new fb;this.keystrokes=new dp;this.urlInputView=this._createUrlInput();this.saveButtonView=this._createButton(i("lo"),Xv,"ck-button-save");this.saveButtonView.type="submit";this.cancelButtonView=this._createButton(i("lp"),Zv,"ck-button-cancel","cancel");this._manualDecoratorSwitches=this._createManualDecoratorSwitches(e);this.children=this._createFormChildren(e);this._focusables=new bp;this._focusCycler=new yb({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const n=["ck","ck-link-form"];if(e.length){n.push("ck-link-form_layout-vertical")}this.setTemplate({tag:"form",attributes:{class:n,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((t,e)=>{t[e.name]=e.isOn;return t},{})}render(){super.render();Qv({view:this});const t=[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView];t.forEach(t=>{this._focusables.add(t);this.focusTracker.add(t.element)});this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t;const e=new Kv(this.locale,Yv);e.label=t("lq");e.inputView.placeholder="https://example.com";return e}_createButton(t,e,i,n){const o=new hb(this.locale);o.set({label:t,icon:e,tooltip:true});o.extendTemplate({attributes:{class:i}});if(n){o.delegate("execute").to(this,n)}return o}_createManualDecoratorSwitches(t){const e=this.createCollection();for(const i of t){const t=new Fb(this.locale);t.set({name:i.id,label:i.label,withText:true});t.bind("isOn").to(i,"value");t.on("execute",()=>{i.set("value",!t.isOn)});e.add(t)}return e}_createFormChildren(t){const e=this.createCollection();e.add(this.urlInputView);if(t.length){const t=new Gp;t.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(t=>({tag:"li",children:[t],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}});e.add(t)}e.add(this.saveButtonView);e.add(this.cancelButtonView);return e}}var $A='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';var GA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>';var KA=i(84);class JA extends Gp{constructor(t){super(t);const e=t.t;this.focusTracker=new fb;this.keystrokes=new dp;this.previewButtonView=this._createPreviewButton();this.unlinkButtonView=this._createButton(e("lk"),$A,"unlink");this.editButtonView=this._createButton(e("ll"),GA,"edit");this.set("href");this._focusables=new bp;this._focusCycler=new yb({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render();const t=[this.previewButtonView,this.editButtonView,this.unlinkButtonView];t.forEach(t=>{this._focusables.add(t);this.focusTracker.add(t.element)});this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(t,e,i){const n=new hb(this.locale);n.set({label:t,icon:e,tooltip:true});n.delegate("execute").to(this,i);return n}_createPreviewButton(){const t=new hb(this.locale);const e=this.bindTemplate;const i=this.t;t.set({withText:true,tooltip:i("lm")});t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",t=>t&&CA(t)),target:"_blank",rel:"noopener noreferrer"}});t.bind("label").to(this,"href",t=>t||i("ln"));t.bind("isEnabled").to(this,"href",t=>!!t);t.template.tag="a";t.template.eventListeners={};return t}}var YA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';const QA="Ctrl+K";class XA extends mp{static get requires(){return[kb]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(WA);this.actionsView=this._createActionsView();this.formView=this._createFormView();this._balloon=t.plugins.get(kb);this._createToolbarLinkButton();this._enableUserBalloonInteractions()}destroy(){super.destroy();this.formView.destroy()}_createActionsView(){const t=this.editor;const e=new JA(t.locale);const i=t.commands.get("link");const n=t.commands.get("unlink");e.bind("href").to(i,"value");e.editButtonView.bind("isEnabled").to(i);e.unlinkButtonView.bind("isEnabled").to(n);this.listenTo(e,"edit",()=>{this._addFormView()});this.listenTo(e,"unlink",()=>{t.execute("unlink");this._hideUI()});e.keystrokes.set("Esc",(t,e)=>{this._hideUI();e()});e.keystrokes.set(QA,(t,e)=>{this._addFormView();e()});return e}_createFormView(){const t=this.editor;const e=t.commands.get("link");const i=new UA(t.locale,e.manualDecorators);i.urlInputView.bind("value").to(e,"value");i.urlInputView.bind("isReadOnly").to(e,"isEnabled",t=>!t);i.saveButtonView.bind("isEnabled").to(e);this.listenTo(i,"submit",()=>{t.execute("link",i.urlInputView.inputView.element.value,i.getDecoratorSwitchesState());this._closeFormView()});this.listenTo(i,"cancel",()=>{this._closeFormView()});i.keystrokes.set("Esc",(t,e)=>{this._closeFormView();e()});return i}_createToolbarLinkButton(){const t=this.editor;const e=t.commands.get("link");const i=t.t;t.keystrokes.set(QA,(t,e)=>{e();this._showUI(true)});t.ui.componentFactory.add("link",t=>{const n=new hb(t);n.isEnabled=true;n.label=i("lf");n.icon=YA;n.keystroke=QA;n.tooltip=true;n.isToggleable=true;n.bind("isEnabled").to(e,"isEnabled");n.bind("isOn").to(e,"value",t=>!!t);this.listenTo(n,"execute",()=>this._showUI(true));return n})}_enableUserBalloonInteractions(){const t=this.editor.editing.view.document;this.listenTo(t,"click",()=>{const t=this._getSelectedLinkElement();if(t){this._showUI()}});this.editor.keystrokes.set("Tab",(t,e)=>{if(this._areActionsVisible&&!this.actionsView.focusTracker.isFocused){this.actionsView.focus();e()}},{priority:"high"});this.editor.keystrokes.set("Esc",(t,e)=>{if(this._isUIVisible){this._hideUI();e()}});Db({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){if(this._areActionsInPanel){return}this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel){return}const t=this.editor;const e=t.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()});if(this._balloon.visibleView===this.formView){this.formView.urlInputView.select()}this.formView.urlInputView.inputView.element.value=e.value||""}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates();if(t.value!==undefined){this._removeFormView()}else{this._hideUI()}}_removeFormView(){if(this._isFormInPanel){this.formView.saveButtonView.focus();this._balloon.remove(this.formView);this.editor.editing.view.focus()}}_showUI(t=false){if(!this._getSelectedLinkElement()){this._addActionsView();if(t){this._balloon.showStack("main")}this._addFormView()}else{if(this._areActionsVisible){this._addFormView()}else{this._addActionsView()}if(t){this._balloon.showStack("main")}}this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel){return}const t=this.editor;this.stopListening(t.ui,"update");this.stopListening(this._balloon,"change:visibleView");t.editing.view.focus();this._removeFormView();this._balloon.remove(this.actionsView)}_startUpdatingUI(){const t=this.editor;const e=t.editing.view.document;let i=this._getSelectedLinkElement();let n=r();const o=()=>{const t=this._getSelectedLinkElement();const e=r();if(i&&!t||!i&&e!==n){this._hideUI()}else if(this._isUIVisible){this._balloon.updatePosition(this._getBalloonPositionData())}i=t;n=e};function r(){return e.selection.focus.getAncestors().reverse().find(t=>t.is("element"))}this.listenTo(t.ui,"update",o);this.listenTo(this._balloon,"change:visibleView",o)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const t=this._balloon.visibleView;return t==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view;const e=t.document;const i=this._getSelectedLinkElement();const n=i?t.domConverter.mapViewToDom(i):t.domConverter.viewRangeToDom(e.selection.getFirstRange());return{target:n}}_getSelectedLinkElement(){const t=this.editor.editing.view;const e=t.document.selection;if(e.isCollapsed){return ZA(e.getFirstPosition())}else{const i=e.getFirstRange().getTrimmed();const n=ZA(i.start);const o=ZA(i.end);if(!n||n!=o){return null}if(t.createRangeIn(n).getTrimmed().isEqual(i)){return n}else{return null}}}}function ZA(t){return t.getAncestors().find(t=>yA(t))}class tT extends mp{static get requires(){return[HA,XA]}static get pluginName(){return"Link"}}class eT extends jw{constructor(t,e){super(t);this.type=e}refresh(){this.value=this._getValue();this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;const e=t.document;const i=Array.from(e.selection.getSelectedBlocks()).filter(e=>nT(e,t.schema));const n=this.value===true;t.change(t=>{if(n){let e=i[i.length-1].nextSibling;let n=Number.POSITIVE_INFINITY;let o=[];while(e&&e.name=="listItem"&&e.getAttribute("listIndent")!==0){const t=e.getAttribute("listIndent");if(t<n){n=t}const i=t-n;o.push({element:e,listIndent:i});e=e.nextSibling}o=o.reverse();for(const e of o){t.setAttribute("listIndent",e.listIndent,e.element)}}if(!n){let t=Number.POSITIVE_INFINITY;for(const e of i){if(e.is("listItem")&&e.getAttribute("listIndent")<t){t=e.getAttribute("listIndent")}}t=t===0?1:t;iT(i,true,t);iT(i,false,t)}for(const e of i.reverse()){if(n&&e.name=="listItem"){t.rename(e,"paragraph")}else if(!n&&e.name!="listItem"){t.setAttributes({listType:this.type,listIndent:0},e);t.rename(e,"listItem")}else if(!n&&e.name=="listItem"&&e.getAttribute("listType")!=this.type){t.setAttribute("listType",this.type,e)}}})}_getValue(){const t=Ww(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value){return true}const t=this.editor.model.document.selection;const e=this.editor.model.schema;const i=Ww(t.getSelectedBlocks());if(!i){return false}return nT(i,e)}}function iT(t,e,i){const n=e?t[0]:t[t.length-1];if(n.is("listItem")){let o=n[e?"previousSibling":"nextSibling"];let r=n.getAttribute("listIndent");while(o&&o.is("listItem")&&o.getAttribute("listIndent")>=i){if(r>o.getAttribute("listIndent")){r=o.getAttribute("listIndent")}if(o.getAttribute("listIndent")==r){t[e?"unshift":"push"](o)}o=o[e?"previousSibling":"nextSibling"]}}}function nT(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t)}class oT extends jw{constructor(t,e){super(t);this._indentBy=e=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;const e=t.document;let i=Array.from(e.selection.getSelectedBlocks());t.change(t=>{const e=i[i.length-1];let n=e.nextSibling;while(n&&n.name=="listItem"&&n.getAttribute("listIndent")>e.getAttribute("listIndent")){i.push(n);n=n.nextSibling}if(this._indentBy<0){i=i.reverse()}for(const e of i){const i=e.getAttribute("listIndent")+this._indentBy;if(i<0){t.rename(e,"paragraph")}else{t.setAttribute("listIndent",i,e)}}})}_checkEnabled(){const t=Ww(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("listItem")){return false}if(this._indentBy>0){const e=t.getAttribute("listIndent");const i=t.getAttribute("listType");let n=t.previousSibling;while(n&&n.is("listItem")&&n.getAttribute("listIndent")>=e){if(n.getAttribute("listIndent")==e){return n.getAttribute("listType")==i}n=n.previousSibling}return false}return true}}function rT(t){const e=t.createContainerElement("li");e.getFillerOffset=hT;return e}function sT(t,e){const i=e.mapper;const n=e.writer;const o=t.getAttribute("listType")=="numbered"?"ol":"ul";const r=rT(n);const s=n.createContainerElement(o,null);n.insert(n.createPositionAt(s,0),r);i.bindElements(t,r);return r}function aT(t,e,i,n){const o=e.parent;const r=i.mapper;const s=i.writer;let a=r.toViewPosition(n.createPositionBefore(t));const c=dT(t.previousSibling,{sameIndent:true,smallerIndent:true,listIndent:t.getAttribute("listIndent")});const l=t.previousSibling;if(c&&c.getAttribute("listIndent")==t.getAttribute("listIndent")){const t=r.toViewElement(c);a=s.breakContainer(s.createPositionAfter(t))}else{if(l&&l.name=="listItem"){a=r.toViewPosition(n.createPositionAt(l,"end"))}else{a=r.toViewPosition(n.createPositionBefore(t))}}a=lT(a);s.insert(a,o);if(l&&l.name=="listItem"){const t=r.toViewElement(l);const i=s.createRange(s.createPositionAt(t,0),a);const n=i.getWalker({ignoreElementEnd:true});for(const t of n){if(t.item.is("li")){const i=s.breakContainer(s.createPositionBefore(t.item));const o=t.item.parent;const r=s.createPositionAt(e,"end");cT(s,r.nodeBefore,r.nodeAfter);s.move(s.createRangeOn(o),r);n.position=i}}}else{const i=o.nextSibling;if(i&&(i.is("ul")||i.is("ol"))){let n=null;for(const e of i.getChildren()){const i=r.toModelElement(e);if(i&&i.getAttribute("listIndent")>t.getAttribute("listIndent")){n=e}else{break}}if(n){s.breakContainer(s.createPositionAfter(n));s.move(s.createRangeOn(n.parent),s.createPositionAt(e,"end"))}}}cT(s,o,o.nextSibling);cT(s,o.previousSibling,o)}function cT(t,e,i){if(!e||!i||e.name!="ul"&&e.name!="ol"){return null}if(e.name!=i.name||e.getAttribute("class")!==i.getAttribute("class")){return null}return t.mergeContainers(t.createPositionAfter(e))}function lT(t){return t.getLastMatchingPosition(t=>t.item.is("uiElement"))}function dT(t,e){const i=!!e.sameIndent;const n=!!e.smallerIndent;const o=e.listIndent;let r=t;while(r&&r.name=="listItem"){const t=r.getAttribute("listIndent");if(i&&o==t||n&&o>t){return r}r=r.previousSibling}return null}function uT(t,e,i,n){t.ui.componentFactory.add(e,o=>{const r=t.commands.get(e);const s=new hb(o);s.set({label:i,icon:n,tooltip:true,isToggleable:true});s.bind("isOn","isEnabled").to(r,"value","isEnabled");s.on("execute",()=>{t.execute(e);t.editing.view.focus()});return s})}function hT(){const t=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");if(this.isEmpty||t){return 0}return Hc.call(this)}function fT(t){return(e,i,n)=>{const o=n.consumable;if(!o.test(i.item,"insert")||!o.test(i.item,"attribute:listType")||!o.test(i.item,"attribute:listIndent")){return}o.consume(i.item,"insert");o.consume(i.item,"attribute:listType");o.consume(i.item,"attribute:listIndent");const r=i.item;const s=sT(r,n);aT(r,s,n,t)}}function gT(t){return(e,i,n)=>{const o=n.mapper.toViewPosition(i.position).getLastMatchingPosition(t=>!t.item.is("li"));const r=o.nodeAfter;const s=n.writer;s.breakContainer(s.createPositionBefore(r));s.breakContainer(s.createPositionAfter(r));const a=r.parent;const c=a.previousSibling;const l=s.createRangeOn(a);const d=s.remove(l);if(c&&c.nextSibling){cT(s,c,c.nextSibling)}const u=n.mapper.toModelElement(r);ET(u.getAttribute("listIndent")+1,i.position,l.start,r,n,t);for(const t of s.createRangeIn(d).getItems()){n.mapper.unbindViewElement(t)}e.stop()}}function mT(t,e,i){if(!i.consumable.consume(e.item,"attribute:listType")){return}const n=i.mapper.toViewElement(e.item);const o=i.writer;o.breakContainer(o.createPositionBefore(n));o.breakContainer(o.createPositionAfter(n));const r=n.parent;const s=e.attributeNewValue=="numbered"?"ol":"ul";o.rename(s,r)}function pT(t,e,i){const n=i.mapper.toViewElement(e.item);const o=n.parent;const r=i.writer;cT(r,o,o.nextSibling);cT(r,o.previousSibling,o);for(const t of e.item.getChildren()){i.consumable.consume(t,"insert")}}function bT(t){return(e,i,n)=>{if(!n.consumable.consume(i.item,"attribute:listIndent")){return}const o=n.mapper.toViewElement(i.item);const r=n.writer;r.breakContainer(r.createPositionBefore(o));r.breakContainer(r.createPositionAfter(o));const s=o.parent;const a=s.previousSibling;const c=r.createRangeOn(s);r.remove(c);if(a&&a.nextSibling){cT(r,a,a.nextSibling)}ET(i.attributeOldValue+1,i.range.start,c.start,o,n,t);aT(i.item,o,n,t);for(const t of i.item.getChildren()){n.consumable.consume(t,"insert")}}}function wT(t,e,i){if(e.item.name!="listItem"){let t=i.mapper.toViewPosition(e.range.start);const n=i.writer;const o=[];while(t.parent.name=="ul"||t.parent.name=="ol"){t=n.breakContainer(t);if(t.parent.name!="li"){break}const e=t;const i=n.createPositionAt(t.parent,"end");if(!e.isEqual(i)){const t=n.remove(n.createRange(e,i));o.push(t)}t=n.createPositionAfter(t.parent)}if(o.length>0){for(let e=0;e<o.length;e++){const i=t.nodeBefore;const r=n.insert(t,o[e]);t=r.end;if(e>0){const e=cT(n,i,i.nextSibling);if(e&&e.parent==i){t.offset--}}}cT(n,t.nodeBefore,t.nodeAfter)}}}function kT(t,e,i){const n=i.mapper.toViewPosition(e.position);const o=n.nodeBefore;const r=n.nodeAfter;cT(i.writer,o,r)}function _T(t,e,i){if(i.consumable.consume(e.viewItem,{name:true})){const t=i.writer;const n=t.createElement("listItem");const o=OT(e.viewItem);t.setAttribute("listIndent",o,n);const r=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";t.setAttribute("listType",r,n);const s=i.splitToAllowedParent(n,e.modelCursor);if(!s){return}t.insert(n,s.position);const a=PT(n,e.viewItem.getChildren(),i);e.modelRange=t.createRange(e.modelCursor,a);if(s.cursorParent){e.modelCursor=t.createPositionAt(s.cursorParent,0)}else{e.modelCursor=e.modelRange.end}}}function vT(t,e,i){if(i.consumable.test(e.viewItem,{name:true})){const t=Array.from(e.viewItem.getChildren());for(const e of t){const t=!(e.is("li")||RT(e));if(t){e._remove()}}}}function yT(t,e,i){if(i.consumable.test(e.viewItem,{name:true})){if(e.viewItem.childCount===0){return}const t=[...e.viewItem.getChildren()];let i=false;let n=true;for(const e of t){if(i&&!RT(e)){e._remove()}if(e.is("text")){if(n){e._data=e.data.replace(/^\s+/,"")}if(!e.nextSibling||RT(e.nextSibling)){e._data=e.data.replace(/\s+$/,"")}}else if(RT(e)){i=true}n=false}}}function xT(t){return(e,i)=>{if(i.isPhantom){return}const n=i.modelPosition.nodeBefore;if(n&&n.is("listItem")){const e=i.mapper.toViewElement(n);const o=e.getAncestors().find(RT);const r=t.createPositionAt(e,0).getWalker();for(const t of r){if(t.type=="elementStart"&&t.item.is("li")){i.viewPosition=t.previousPosition;break}else if(t.type=="elementEnd"&&t.item==o){i.viewPosition=t.nextPosition;break}}}}}function CT(t){return(e,i)=>{const n=i.viewPosition;const o=n.parent;const r=i.mapper;if(o.name=="ul"||o.name=="ol"){if(!n.isAtEnd){const e=r.toModelElement(n.nodeAfter);i.modelPosition=t.createPositionBefore(e)}else{const e=r.toModelElement(n.nodeBefore);const o=r.getModelLength(n.nodeBefore);i.modelPosition=t.createPositionBefore(e).getShiftedBy(o)}e.stop()}else if(o.name=="li"&&n.nodeBefore&&(n.nodeBefore.name=="ul"||n.nodeBefore.name=="ol")){const s=r.toModelElement(o);let a=1;let c=n.nodeBefore;while(c&&RT(c)){a+=r.getModelLength(c);c=c.previousSibling}i.modelPosition=t.createPositionBefore(s).getShiftedBy(a);e.stop()}}}function AT(t,e){const i=t.document.differ.getChanges();const n=new Map;let o=false;for(const n of i){if(n.type=="insert"&&n.name=="listItem"){r(n.position)}else if(n.type=="insert"&&n.name!="listItem"){if(n.name!="$text"){const i=n.position.nodeAfter;if(i.hasAttribute("listIndent")){e.removeAttribute("listIndent",i);o=true}if(i.hasAttribute("listType")){e.removeAttribute("listType",i);o=true}for(const e of Array.from(t.createRangeIn(i)).filter(t=>t.item.is("listItem"))){r(e.previousPosition)}}const i=n.position.getShiftedBy(n.length);r(i)}else if(n.type=="remove"&&n.name=="listItem"){r(n.position)}else if(n.type=="attribute"&&n.attributeKey=="listIndent"){r(n.range.start)}else if(n.type=="attribute"&&n.attributeKey=="listType"){r(n.range.start)}}for(const t of n.values()){s(t);a(t)}return o;function r(t){const e=t.nodeBefore;if(!e||!e.is("listItem")){const e=t.nodeAfter;if(e&&e.is("listItem")){n.set(e,e)}}else{let i=e;if(n.has(i)){return}while(i.previousSibling&&i.previousSibling.is("listItem")){i=i.previousSibling;if(n.has(i)){return}}n.set(t.nodeBefore,i)}}function s(t){let i=0;let n=null;while(t&&t.is("listItem")){const r=t.getAttribute("listIndent");if(r>i){let s;if(n===null){n=r-i;s=i}else{if(n>r){n=r}s=r-n}e.setAttribute("listIndent",s,t);o=true}else{n=null;i=t.getAttribute("listIndent")+1}t=t.nextSibling}}function a(t){let i=[];let n=null;while(t&&t.is("listItem")){const r=t.getAttribute("listIndent");if(n&&n.getAttribute("listIndent")>r){i=i.slice(0,r+1)}if(r!=0){if(i[r]){const n=i[r];if(t.getAttribute("listType")!=n){e.setAttribute("listType",n,t);o=true}}else{i[r]=t.getAttribute("listType")}}n=t;t=t.nextSibling}}}function TT(t,[e,i]){let n=e.is("documentFragment")?e.getChild(0):e;let o;if(!i){o=this.document.selection}else{o=this.createSelection(i)}if(n&&n.is("listItem")){const t=o.getFirstPosition();let e=null;if(t.parent.is("listItem")){e=t.parent}else if(t.nodeBefore&&t.nodeBefore.is("listItem")){e=t.nodeBefore}if(e){const t=e.getAttribute("listIndent");if(t>0){while(n&&n.is("listItem")){n._setAttribute("listIndent",n.getAttribute("listIndent")+t);n=n.nextSibling}}}}}function PT(t,e,i){const{writer:n,schema:o}=i;let r=n.createPositionAfter(t);for(const s of e){if(s.name=="ul"||s.name=="ol"){r=i.convertItem(s,r).modelCursor}else{const e=i.convertItem(s,n.createPositionAt(t,"end"));const a=e.modelRange.start.nodeAfter;const c=a&&a.is("element")&&!o.checkChild(t,a.name);if(c){if(e.modelCursor.parent.is("listItem")){t=e.modelCursor.parent}else{t=ST(e.modelCursor)}r=n.createPositionAfter(t)}}}return r}function ST(t){const e=new Wh({startPosition:t});let i;do{i=e.next()}while(!i.value.item.is("listItem"));return i.value.item}function ET(t,e,i,n,o,r){const s=dT(e.nodeBefore,{sameIndent:true,smallerIndent:true,listIndent:t,foo:"b"});const a=o.mapper;const c=o.writer;const l=s?s.getAttribute("listIndent"):null;let d;if(!s){d=i}else if(l==t){const t=a.toViewElement(s).parent;d=c.createPositionAfter(t)}else{const t=r.createPositionAt(s,"end");d=a.toViewPosition(t)}d=lT(d);for(const t of[...n.getChildren()]){if(RT(t)){d=c.move(c.createRangeOn(t),d).end;cT(c,t,t.nextSibling);cT(c,t.previousSibling,t)}}}function RT(t){return t.is("ol")||t.is("ul")}function OT(t){let e=0;let i=t.parent;while(i){if(i.is("li")){e++}else{const t=i.previousSibling;if(t&&t.is("li")){e++}}i=i.parent}return e}class IT extends mp{static get pluginName(){return"ListEditing"}static get requires(){return[V_]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const e=t.data;const i=t.editing;t.model.document.registerPostFixer(e=>AT(t.model,e));i.mapper.registerViewToModelLength("li",VT);e.mapper.registerViewToModelLength("li",VT);i.mapper.on("modelToViewPosition",xT(i.view));i.mapper.on("viewToModelPosition",CT(t.model));e.mapper.on("modelToViewPosition",xT(i.view));t.conversion.for("editingDowncast").add(e=>{e.on("insert",wT,{priority:"high"});e.on("insert:listItem",fT(t.model));e.on("attribute:listType:listItem",mT,{priority:"high"});e.on("attribute:listType:listItem",pT,{priority:"low"});e.on("attribute:listIndent:listItem",bT(t.model));e.on("remove:listItem",gT(t.model));e.on("remove",kT,{priority:"low"})});t.conversion.for("dataDowncast").add(e=>{e.on("insert",wT,{priority:"high"});e.on("insert:listItem",fT(t.model))});t.conversion.for("upcast").add(t=>{t.on("element:ul",vT,{priority:"high"});t.on("element:ol",vT,{priority:"high"});t.on("element:li",yT,{priority:"high"});t.on("element:li",_T)});t.model.on("insertContent",TT,{priority:"high"});t.commands.add("numberedList",new eT(t,"numbered"));t.commands.add("bulletedList",new eT(t,"bulleted"));t.commands.add("indentList",new oT(t,"forward"));t.commands.add("outdentList",new oT(t,"backward"));const n=i.view.document;this.listenTo(n,"enter",(t,e)=>{const i=this.editor.model.document;const n=i.selection.getLastPosition().parent;if(i.selection.isCollapsed&&n.name=="listItem"&&n.isEmpty){this.editor.execute("outdentList");e.preventDefault();t.stop()}});this.listenTo(n,"delete",(t,e)=>{if(e.direction!=="backward"){return}const i=this.editor.model.document.selection;if(!i.isCollapsed){return}const n=i.getFirstPosition();if(!n.isAtStart){return}const o=n.parent;if(o.name!=="listItem"){return}const r=o.previousSibling&&o.previousSibling.name==="listItem";if(r){return}this.editor.execute("outdentList");e.preventDefault();t.stop()},{priority:"high"});const o=t=>(e,i)=>{const n=this.editor.commands.get(t);if(n.isEnabled){this.editor.execute(t);i()}};t.keystrokes.set("Tab",o("indentList"));t.keystrokes.set("Shift+Tab",o("outdentList"))}afterInit(){const t=this.editor.commands;const e=t.get("indent");const i=t.get("outdent");if(e){e.registerChildCommand(t.get("indentList"))}if(i){i.registerChildCommand(t.get("outdentList"))}}}function VT(t){let e=1;for(const i of t.getChildren()){if(i.name=="ul"||i.name=="ol"){for(const t of i.getChildren()){e+=VT(t)}}}return e}var NT='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>';var MT='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class BT extends mp{init(){const t=this.editor.t;uT(this.editor,"numberedList",t("lc"),NT);uT(this.editor,"bulletedList",t("ld"),MT)}}class zT extends mp{static get requires(){return[IT,BT]}static get pluginName(){return"List"}}var LT='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>';const FT="removeFormat";class DT extends mp{static get pluginName(){return"RemoveFormatUI"}init(){const t=this.editor;const e=t.t;t.ui.componentFactory.add(FT,i=>{const n=t.commands.get(FT);const o=new hb(i);o.set({label:e("la"),icon:LT,tooltip:true});o.bind("isOn","isEnabled").to(n,"value","isEnabled");this.listenTo(o,"execute",()=>{t.execute(FT);t.editing.view.focus()});return o})}}class jT extends jw{refresh(){const t=this.editor.model;this.isEnabled=!!Ww(this._getFormattingItems(t.document.selection,t.schema))}execute(){const t=this.editor.model;const e=t.schema;t.change(i=>{for(const n of this._getFormattingItems(t.document.selection,e)){if(n.is("selection")){for(const t of this._getFormattingAttributes(n,e)){i.removeSelectionAttribute(t)}}else{const t=i.createRangeOn(n);for(const o of this._getFormattingAttributes(n,e)){i.removeAttribute(o,t)}}}})}*_getFormattingItems(t,e){const i=t=>!!Ww(this._getFormattingAttributes(t,e));for(const e of t.getRanges()){for(const t of e.getItems()){if(i(t)){yield t}}}if(i(t)){yield t}}*_getFormattingAttributes(t,e){for(const[i]of t.getAttributes()){const t=e.getAttributeProperties(i);if(t&&t.isFormatting){yield i}}}}class HT extends mp{static get pluginName(){return"RemoveFormatEditing"}init(){const t=this.editor;t.commands.add("removeFormat",new jT(t))}}class WT extends mp{static get requires(){return[HT,DT]}static get pluginName(){return"RemoveFormat"}}class qT{constructor(t,e=20){this.model=t;this.size=0;this.limit=e;this.isLocked=false;this._changeCallback=(t,e)=>{if(e.type!="transparent"&&e!==this._batch){this._reset(true)}};this._selectionChangeCallback=()=>{this._reset()};this.model.document.on("change",this._changeCallback);this.model.document.selection.on("change:range",this._selectionChangeCallback);this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){if(!this._batch){this._batch=this.model.createBatch()}return this._batch}input(t){this.size+=t;if(this.size>=this.limit){this._reset(true)}}lock(){this.isLocked=true}unlock(){this.isLocked=false}destroy(){this.model.document.off("change",this._changeCallback);this.model.document.selection.off("change:range",this._selectionChangeCallback);this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t){if(!this.isLocked||t){this._batch=null;this.size=0}}}class UT extends jw{constructor(t,e){super(t);this._buffer=new qT(t.model,e);this._batches=new WeakSet}get buffer(){return this._buffer}destroy(){super.destroy();this._buffer.destroy()}execute(t={}){const e=this.editor.model;const i=e.document;const n=t.text||"";const o=n.length;const r=t.range?e.createSelection(t.range):i.selection;const s=t.resultRange;e.enqueueChange(this._buffer.batch,t=>{this._buffer.lock();e.deleteContent(r);if(n){e.insertContent(t.createText(n,i.selection.getAttributes()),r)}if(s){t.setSelection(s)}else if(!r.is("documentSelection")){t.setSelection(r)}this._buffer.unlock();this._buffer.input(o);this._batches.add(this._buffer.batch)})}}function $T(t){let e=null;const i=t.model;const n=t.editing.view;const o=t.commands.get("input");if(Al.isAndroid){n.document.on("beforeinput",(t,e)=>r(e),{priority:"lowest"})}else{n.document.on("keydown",(t,e)=>r(e),{priority:"lowest"})}n.document.on("compositionstart",s,{priority:"lowest"});n.document.on("compositionend",()=>{e=i.createSelection(i.document.selection)},{priority:"lowest"});function r(t){const r=i.document;const s=n.document.isComposing;const c=e&&e.isEqual(r.selection);e=null;if(!o.isEnabled){return}if(KT(t)||r.selection.isCollapsed){return}if(s&&t.keyCode===229){return}if(!s&&t.keyCode===229&&c){return}a()}function s(){const t=i.document;const e=t.selection.rangeCount===1?t.selection.getFirstRange().isFlat:true;if(t.selection.isCollapsed||e){return}a()}function a(){const t=o.buffer;t.lock();i.enqueueChange(t.batch,()=>{i.deleteContent(i.document.selection)});t.unlock()}}const GT=[Ml("arrowUp"),Ml("arrowRight"),Ml("arrowDown"),Ml("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let t=112;t<=135;t++){GT.push(t)}function KT(t){if(t.ctrlKey){return true}return GT.includes(t.keyCode)}function JT(t,e){const i=[];let n=0;let o;t.forEach(t=>{if(t=="equal"){r();n++}else if(t=="insert"){if(s("insert")){o.values.push(e[n])}else{r();o={type:"insert",index:n,values:[e[n]]}}n++}else{if(s("delete")){o.howMany++}else{r();o={type:"delete",index:n,howMany:1}}}});r();return i;function r(){if(o){i.push(o);o=null}}function s(t){return o&&o.type==t}}function YT(t){if(t.length==0){return false}for(const e of t){if(e.type==="children"&&!QT(e)){return true}}return false}function QT(t){if(t.newChildren.length-t.oldChildren.length!=1){return}const e=_d(t.oldChildren,t.newChildren,XT);const i=JT(e,t.newChildren);if(i.length>1){return}const n=i[0];if(!(!!n.values[0]&&n.values[0].is("text"))){return}return n}function XT(t,e){if(!!t&&t.is("text")&&!!e&&e.is("text")){return t.data===e.data}else{return t===e}}function ZT(t){t.editing.view.document.on("mutations",(e,i,n)=>{new tP(t).handle(i,n)})}class tP{constructor(t){this.editor=t;this.editing=this.editor.editing}handle(t,e){if(YT(t)){this._handleContainerChildrenMutations(t,e)}else{for(const i of t){this._handleTextMutation(i,e);this._handleTextNodeInsertion(i)}}}_handleContainerChildrenMutations(t,e){const i=eP(t);if(!i){return}const n=this.editor.editing.view.domConverter;const o=n.mapViewToDom(i);const r=new zd(this.editor.editing.view.document);const s=this.editor.data.toModel(r.domToView(o)).getChild(0);const a=this.editor.editing.mapper.toModelElement(i);if(!a){return}const c=Array.from(s.getChildren());const l=Array.from(a.getChildren());const d=c[c.length-1];const u=l[l.length-1];if(d&&d.is("softBreak")&&u&&!u.is("softBreak")){c.pop()}const h=this.editor.model.schema;if(!iP(c,h)||!iP(l,h)){return}const f=c.map(t=>t.is("text")?t.data:"@").join("").replace(/\u00A0/g," ");const g=l.map(t=>t.is("text")?t.data:"@").join("").replace(/\u00A0/g," ");if(g===f){return}const m=_d(g,f);const{firstChangeAt:p,insertions:b,deletions:w}=nP(m);let k=null;if(e){k=this.editing.mapper.toModelRange(e.getFirstRange())}const _=f.substr(p,b);const v=this.editor.model.createRange(this.editor.model.createPositionAt(a,p),this.editor.model.createPositionAt(a,p+w));this.editor.execute("input",{text:_,range:v,resultRange:k})}_handleTextMutation(t,e){if(t.type!="text"){return}const i=t.newText.replace(/\u00A0/g," ");const n=t.oldText.replace(/\u00A0/g," ");if(n===i){return}const o=_d(n,i);const{firstChangeAt:r,insertions:s,deletions:a}=nP(o);let c=null;if(e){c=this.editing.mapper.toModelRange(e.getFirstRange())}const l=this.editing.view.createPositionAt(t.node,r);const d=this.editing.mapper.toModelPosition(l);const u=this.editor.model.createRange(d,d.getShiftedBy(a));const h=i.substr(r,s);this.editor.execute("input",{text:h,range:u,resultRange:c})}_handleTextNodeInsertion(t){if(t.type!="children"){return}const e=QT(t);const i=this.editing.view.createPositionAt(t.node,e.index);const n=this.editing.mapper.toModelPosition(i);const o=e.values[0].data;this.editor.execute("input",{text:o.replace(/\u00A0/g," "),range:this.editor.model.createRange(n)})}}function eP(t){const e=t.map(t=>t.node).reduce((t,e)=>t.getCommonAncestor(e,{includeSelf:true}));if(!e){return}return e.getAncestors({includeSelf:true,parentFirst:true}).find(t=>t.is("containerElement")||t.is("rootElement"))}function iP(t,e){return t.every(t=>e.isInline(t))}function nP(t){let e=null;let i=null;for(let n=0;n<t.length;n++){const o=t[n];if(o!="equal"){e=e===null?n:e;i=n}}let n=0;let o=0;for(let r=e;r<=i;r++){if(t[r]!="insert"){n++}if(t[r]!="delete"){o++}}return{insertions:o,deletions:n,firstChangeAt:e}}class oP extends mp{static get pluginName(){return"Input"}init(){const t=this.editor;const e=new UT(t,t.config.get("typing.undoStep")||20);t.commands.add("input",e);$T(t);ZT(t)}isInput(t){const e=this.editor.commands.get("input");return e._batches.has(t)}}class rP extends jw{constructor(t,e){super(t);this.direction=e;this._buffer=new qT(t.model,t.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model;const i=e.document;e.enqueueChange(this._buffer.batch,n=>{this._buffer.lock();const o=n.createSelection(t.selection||i.selection);const r=o.isCollapsed;if(o.isCollapsed){e.modifySelection(o,{direction:this.direction,unit:t.unit})}if(this._shouldEntireContentBeReplacedWithParagraph(t.sequence||1)){this._replaceEntireContentWithParagraph(n);return}if(o.isCollapsed){return}let s=0;o.getFirstRange().getMinimalFlatRanges().forEach(t=>{s+=fl(t.getWalker({singleCharacters:true,ignoreElementEnd:true,shallow:true}))});e.deleteContent(o,{doNotResetEntireContent:r,direction:this.direction});this._buffer.input(s);n.setSelection(o);this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1){return false}const e=this.editor.model;const i=e.document;const n=i.selection;const o=e.schema.getLimitElement(n);const r=n.isCollapsed&&n.containsEntireContent(o);if(!r){return false}if(!e.schema.checkChild(o,"paragraph")){return false}const s=o.getChild(0);if(s&&s.name==="paragraph"){return false}return true}_replaceEntireContentWithParagraph(t){const e=this.editor.model;const i=e.document;const n=i.selection;const o=e.schema.getLimitElement(n);const r=t.createElement("paragraph");t.remove(t.createRangeIn(o));t.insert(r,o);t.setSelection(r,0)}}class sP extends Gd{constructor(t){super(t);const e=t.document;let i=0;e.on("keyup",(t,e)=>{if(e.keyCode==Nl.delete||e.keyCode==Nl.backspace){i=0}});e.on("keydown",(t,e)=>{const o={};if(e.keyCode==Nl.delete){o.direction="forward";o.unit="character"}else if(e.keyCode==Nl.backspace){o.direction="backward";o.unit="codePoint"}else{return}const r=Al.isMac?e.altKey:e.ctrlKey;o.unit=r?"word":o.unit;o.sequence=++i;n(t,e.domEvent,o)});if(Al.isAndroid){e.on("beforeinput",(e,i)=>{if(i.domEvent.inputType!="deleteContentBackward"){return}const o={unit:"codepoint",direction:"backward",sequence:1};const r=i.domTarget.ownerDocument.defaultView.getSelection();if(r.anchorNode==r.focusNode&&r.anchorOffset+1!=r.focusOffset){o.selectionToRemove=t.domConverter.domSelectionToView(r)}n(e,i.domEvent,o)})}function n(t,i,n){let o;e.once("delete",t=>o=t,{priority:Number.POSITIVE_INFINITY});e.fire("delete",new Ku(e,i,n));if(o&&o.stop.called){t.stop()}}}observe(){}}class aP extends mp{static get pluginName(){return"Delete"}init(){const t=this.editor;const e=t.editing.view;const i=e.document;e.addObserver(sP);t.commands.add("forwardDelete",new rP(t,"forward"));t.commands.add("delete",new rP(t,"backward"));this.listenTo(i,"delete",(i,n)=>{const o={unit:n.unit,sequence:n.sequence};if(n.selectionToRemove){const e=t.model.createSelection();const i=[];for(const e of n.selectionToRemove.getRanges()){i.push(t.editing.mapper.toModelRange(e))}e.setTo(i);o.selection=e}t.execute(n.direction=="forward"?"forwardDelete":"delete",o);n.preventDefault();e.scrollToTheSelection()});if(Al.isAndroid){let t=null;this.listenTo(i,"delete",(e,i)=>{const n=i.domTarget.ownerDocument.defaultView.getSelection();t={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}},{priority:"lowest"});this.listenTo(i,"keyup",(e,i)=>{if(t){const e=i.domTarget.ownerDocument.defaultView.getSelection();e.collapse(t.anchorNode,t.anchorOffset);e.extend(t.focusNode,t.focusOffset);t=null}})}}}class cP extends mp{static get requires(){return[oP,aP]}static get pluginName(){return"Typing"}}class lP extends Gp{constructor(t,e){super(t);const i=t.t;this.labelView=new Mk(t);this.labelView.text=i("b");this.groupDropdownView=this._createGroupDropdown(e);this.groupDropdownView.panelPosition=t.uiLanguageDirection==="rtl"?"se":"sw";this.setTemplate({tag:"div",attributes:{class:["ck","ck-special-characters-navigation"]},children:[this.labelView,this.groupDropdownView]})}get currentGroupName(){return this.groupDropdownView.value}_createGroupDropdown(t){const e=this.locale;const i=e.t;const n=Wb(e);const o=this._getCharacterGroupListItemDefinitions(n,t);n.set("value",o.first.model.label);n.buttonView.bind("label").to(n,"value");n.buttonView.set({isOn:false,withText:true,tooltip:i("le")});n.on("execute",t=>{n.value=t.source.label});n.delegate("execute").to(this);Ub(n,o);return n}_getCharacterGroupListItemDefinitions(t,e){const i=new ys;for(const n of e){const e={type:"button",model:new e_({label:n,withText:true})};e.model.bind("isOn").to(t,"value",t=>t===e.model.label);i.add(e)}return i}}var dP=i(86);class uP extends Gp{constructor(t){super(t);this.tiles=this.createCollection();this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}})}createTile(t,e){const i=new hb(this.locale);i.set({label:t,withText:true,class:"ck-character-grid__tile"});i.extendTemplate({attributes:{title:e},on:{mouseover:i.bindTemplate.to("mouseover")}});i.on("mouseover",()=>{this.fire("tileHover",{name:e,character:t})});i.on("execute",()=>{this.fire("execute",{name:e,character:t})});return i}}var hP=i(88);class fP extends Gp{constructor(t){super(t);const e=this.bindTemplate;this.set("character",null);this.set("name",null);this.bind("code").to(this,"character",gP);this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:e.to("name",t=>t?t:"​")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:e.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function gP(t){if(t===null){return""}const e=t.codePointAt(0).toString(16);return"U+"+("0000"+e).slice(-4)}var mP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>';var pP=i(90);const bP="All";class wP extends mp{static get requires(){return[cP]}static get pluginName(){return"SpecialCharacters"}constructor(t){super(t);this._characters=new Map;this._groups=new Map}init(){const t=this.editor;const e=t.t;const i=t.commands.get("input");t.ui.componentFactory.add("specialCharacters",n=>{const o=Wb(n);let r;o.buttonView.set({label:e("b"),icon:mP,tooltip:true});o.bind("isEnabled").to(i);o.on("execute",(e,i)=>{t.execute("input",{text:i.character});t.editing.view.focus()});o.on("change:isOpen",()=>{if(!r){r=this._createDropdownPanelContent(n,o);o.panelView.children.add(r.navigationView);o.panelView.children.add(r.gridView);o.panelView.children.add(r.infoView)}r.infoView.set({character:null,name:null})});return o})}addItems(t,e){if(t===bP){throw new ss["b"](`special-character-invalid-group-name: The name "${bP}" is reserved and cannot be used.`)}const i=this._getGroup(t);for(const t of e){i.add(t.title);this._characters.set(t.title,t.character)}}getGroups(){return this._groups.keys()}getCharactersForGroup(t){if(t===bP){return new Set(this._characters.keys())}return this._groups.get(t)}getCharacter(t){return this._characters.get(t)}_getGroup(t){if(!this._groups.has(t)){this._groups.set(t,new Set)}return this._groups.get(t)}_updateGrid(t,e){e.tiles.clear();const i=this.getCharactersForGroup(t);for(const t of i){const i=this.getCharacter(t);e.tiles.add(e.createTile(i,t))}}_createDropdownPanelContent(t,e){const i=[...this.getGroups()];i.unshift(bP);const n=new lP(t,i);const o=new uP(t);const r=new fP(t);o.delegate("execute").to(e);o.on("tileHover",(t,e)=>{r.set(e)});n.on("execute",()=>{this._updateGrid(n.currentGroupName,o)});this._updateGrid(n.currentGroupName,o);return{navigationView:n,gridView:o,infoView:r}}}class kP extends mp{init(){const t=this.editor;const e=t.t;t.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:e("u")},{character:"€",title:e("v")},{character:"¥",title:e("w")},{character:"£",title:e("x")},{character:"¢",title:e("y")},{character:"₠",title:e("z")},{character:"₡",title:e("aa")},{character:"₢",title:e("ab")},{character:"₣",title:e("ac")},{character:"₤",title:e("ad")},{character:"¤",title:e("ae")},{character:"₿",title:e("af")},{character:"₥",title:e("ag")},{character:"₦",title:e("ah")},{character:"₧",title:e("ai")},{character:"₨",title:e("aj")},{character:"₩",title:e("ak")},{character:"₪",title:e("al")},{character:"₫",title:e("am")},{character:"₭",title:e("an")},{character:"₮",title:e("ao")},{character:"₯",title:e("ap")},{character:"₰",title:e("aq")},{character:"₱",title:e("ar")},{character:"₲",title:e("as")},{character:"₳",title:e("at")},{character:"₴",title:e("au")},{character:"₵",title:e("av")},{character:"₶",title:e("aw")},{character:"₷",title:e("ax")},{character:"₸",title:e("ay")},{character:"₹",title:e("az")},{character:"₺",title:e("ba")},{character:"₻",title:e("bb")},{character:"₼",title:e("bc")},{character:"₽",title:e("bd")}])}}class _P extends mp{init(){const t=this.editor;const e=t.t;t.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:e("gc")},{character:">",title:e("gd")},{character:"≤",title:e("ge")},{character:"≥",title:e("gf")},{character:"–",title:e("gg")},{character:"—",title:e("gh")},{character:"¯",title:e("gi")},{character:"‾",title:e("gj")},{character:"°",title:e("gk")},{character:"−",title:e("gl")},{character:"±",title:e("gm")},{character:"÷",title:e("gn")},{character:"⁄",title:e("go")},{character:"×",title:e("gp")},{character:"ƒ",title:e("gq")},{character:"∫",title:e("gr")},{character:"∑",title:e("gs")},{character:"∞",title:e("gt")},{character:"√",title:e("gu")},{character:"∼",title:e("gv")},{character:"≅",title:e("gw")},{character:"≈",title:e("gx")},{character:"≠",title:e("gy")},{character:"≡",title:e("gz")},{character:"∈",title:e("ha")},{character:"∉",title:e("hb")},{character:"∋",title:e("hc")},{character:"∏",title:e("hd")},{character:"∧",title:e("he")},{character:"∨",title:e("hf")},{character:"¬",title:e("hg")},{character:"∩",title:e("hh")},{character:"∪",title:e("hi")},{character:"∂",title:e("hj")},{character:"∀",title:e("hk")},{character:"∃",title:e("hl")},{character:"∅",title:e("hm")},{character:"∇",title:e("hn")},{character:"∗",title:e("ho")},{character:"∝",title:e("hp")},{character:"∠",title:e("hq")},{character:"¼",title:e("hr")},{character:"½",title:e("hs")},{character:"¾",title:e("ht")}])}}class vP extends mp{init(){const t=this.editor;const e=t.t;t.plugins.get("SpecialCharacters").addItems("Arrows",[{title:e("c"),character:"⇐"},{title:e("d"),character:"⇒"},{title:e("e"),character:"⇑"},{title:e("f"),character:"⇓"},{title:e("g"),character:"⇠"},{title:e("h"),character:"⇢"},{title:e("i"),character:"⇡"},{title:e("j"),character:"⇣"},{title:e("k"),character:"⇤"},{title:e("l"),character:"⇥"},{title:e("m"),character:"⤒"},{title:e("n"),character:"⤓"},{title:e("o"),character:"↨"},{title:e("p"),character:"🔙"},{title:e("q"),character:"🔚"},{title:e("r"),character:"🔛"},{title:e("s"),character:"🔜"},{title:e("t"),character:"🔝"}])}}class yP extends mp{init(){const t=this.editor;const e=t.t;t.plugins.get("SpecialCharacters").addItems("Latin",[{character:"Ā",title:e("be")},{character:"ā",title:e("bf")},{character:"Ă",title:e("bg")},{character:"ă",title:e("bh")},{character:"Ą",title:e("bi")},{character:"ą",title:e("bj")},{character:"Ć",title:e("bk")},{character:"ć",title:e("bl")},{character:"Ĉ",title:e("bm")},{character:"ĉ",title:e("bn")},{character:"Ċ",title:e("bo")},{character:"ċ",title:e("bp")},{character:"Č",title:e("bq")},{character:"č",title:e("br")},{character:"Ď",title:e("bs")},{character:"ď",title:e("bt")},{character:"Đ",title:e("bu")},{character:"đ",title:e("bv")},{character:"Ē",title:e("bw")},{character:"ē",title:e("bx")},{character:"Ĕ",title:e("by")},{character:"ĕ",title:e("bz")},{character:"Ė",title:e("ca")},{character:"ė",title:e("cb")},{character:"Ę",title:e("cc")},{character:"ę",title:e("cd")},{character:"Ě",title:e("ce")},{character:"ě",title:e("cf")},{character:"Ĝ",title:e("cg")},{character:"ĝ",title:e("ch")},{character:"Ğ",title:e("ci")},{character:"ğ",title:e("cj")},{character:"Ġ",title:e("ck")},{character:"ġ",title:e("cl")},{character:"Ģ",title:e("cm")},{character:"ģ",title:e("cn")},{character:"Ĥ",title:e("co")},{character:"ĥ",title:e("cp")},{character:"Ħ",title:e("cq")},{character:"ħ",title:e("cr")},{character:"Ĩ",title:e("cs")},{character:"ĩ",title:e("ct")},{character:"Ī",title:e("cu")},{character:"ī",title:e("cv")},{character:"Ĭ",title:e("cw")},{character:"ĭ",title:e("cx")},{character:"Į",title:e("cy")},{character:"į",title:e("cz")},{character:"İ",title:e("da")},{character:"ı",title:e("db")},{character:"Ĳ",title:e("dc")},{character:"ĳ",title:e("dd")},{character:"Ĵ",title:e("de")},{character:"ĵ",title:e("df")},{character:"Ķ",title:e("dg")},{character:"ķ",title:e("dh")},{character:"ĸ",title:e("di")},{character:"Ĺ",title:e("dj")},{character:"ĺ",title:e("dk")},{character:"Ļ",title:e("dl")},{character:"ļ",title:e("dm")},{character:"Ľ",title:e("dn")},{character:"ľ",title:e("do")},{character:"Ŀ",title:e("dp")},{character:"ŀ",title:e("dq")},{character:"Ł",title:e("dr")},{character:"ł",title:e("ds")},{character:"Ń",title:e("dt")},{character:"ń",title:e("du")},{character:"Ņ",title:e("dv")},{character:"ņ",title:e("dw")},{character:"Ň",title:e("dx")},{character:"ň",title:e("dy")},{character:"ŉ",title:e("dz")},{character:"Ŋ",title:e("ea")},{character:"ŋ",title:e("eb")},{character:"Ō",title:e("ec")},{character:"ō",title:e("ed")},{character:"Ŏ",title:e("ee")},{character:"ŏ",title:e("ef")},{character:"Ő",title:e("eg")},{character:"ő",title:e("eh")},{character:"Œ",title:e("ei")},{character:"œ",title:e("ej")},{character:"Ŕ",title:e("ek")},{character:"ŕ",title:e("el")},{character:"Ŗ",title:e("em")},{character:"ŗ",title:e("en")},{character:"Ř",title:e("eo")},{character:"ř",title:e("ep")},{character:"Ś",title:e("eq")},{character:"ś",title:e("er")},{character:"Ŝ",title:e("es")},{character:"ŝ",title:e("et")},{character:"Ş",title:e("eu")},{character:"ş",title:e("ev")},{character:"Š",title:e("ew")},{character:"š",title:e("ex")},{character:"Ţ",title:e("ey")},{character:"ţ",title:e("ez")},{character:"Ť",title:e("fa")},{character:"ť",title:e("fb")},{character:"Ŧ",title:e("fc")},{character:"ŧ",title:e("fd")},{character:"Ũ",title:e("fe")},{character:"ũ",title:e("ff")},{character:"Ū",title:e("fg")},{character:"ū",title:e("fh")},{character:"Ŭ",title:e("fi")},{character:"ŭ",title:e("fj")},{character:"Ů",title:e("fk")},{character:"ů",title:e("fl")},{character:"Ű",title:e("fm")},{character:"ű",title:e("fn")},{character:"Ų",title:e("fo")},{character:"ų",title:e("fp")},{character:"Ŵ",title:e("fq")},{character:"ŵ",title:e("fr")},{character:"Ŷ",title:e("fs")},{character:"ŷ",title:e("ft")},{character:"Ÿ",title:e("fu")},{character:"Ź",title:e("fv")},{character:"ź",title:e("fw")},{character:"Ż",title:e("fx")},{character:"ż",title:e("fy")},{character:"Ž",title:e("fz")},{character:"ž",title:e("ga")},{character:"ſ",title:e("gb")}])}}class xP extends mp{init(){const t=this.editor;const e=t.t;t.plugins.get("SpecialCharacters").addItems("Text",[{character:"‹",title:e("hu")},{character:"›",title:e("hv")},{character:"«",title:e("hw")},{character:"»",title:e("hx")},{character:"‘",title:e("hy")},{character:"’",title:e("hz")},{character:"“",title:e("ia")},{character:"”",title:e("ib")},{character:"‚",title:e("ic")},{character:"„",title:e("id")},{character:"¡",title:e("ie")},{character:"¿",title:e("if")},{character:"‥",title:e("ig")},{character:"…",title:e("ih")},{character:"‡",title:e("ii")},{character:"‰",title:e("ij")},{character:"‱",title:e("ik")},{character:"‼",title:e("il")},{character:"⁈",title:e("im")},{character:"⁉",title:e("in")},{character:"⁇",title:e("io")},{character:"©",title:e("ip")},{character:"®",title:e("iq")},{character:"™",title:e("ir")},{character:"§",title:e("is")},{character:"¶",title:e("it")},{character:"⁋",title:e("iu")}])}}class CP extends mp{static get requires(){return[kP,xP,_P,vP,yP]}}const AP="strikethrough";class TP extends mp{static get pluginName(){return"StrikethroughEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:AP});t.model.schema.setAttributeProperties(AP,{isFormatting:true,copyOnEnter:true});t.conversion.attributeToElement({model:AP,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]});t.commands.add(AP,new yk(t,AP));t.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}var PP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9L6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>';const SP="strikethrough";class EP extends mp{init(){const t=this.editor;const e=t.t;t.ui.componentFactory.add(SP,i=>{const n=t.commands.get(SP);const o=new hb(i);o.set({label:e("jk"),icon:PP,keystroke:"CTRL+SHIFT+X",tooltip:true,isToggleable:true});o.bind("isOn","isEnabled").to(n,"value","isEnabled");this.listenTo(o,"execute",()=>{t.execute(SP);t.editing.view.focus()});return o})}}class RP extends mp{static get requires(){return[TP,EP]}static get pluginName(){return"Strikethrough"}}const OP="subscript";class IP extends mp{static get pluginName(){return"SubscriptEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:OP});t.model.schema.setAttributeProperties(OP,{isFormatting:true,copyOnEnter:true});t.conversion.attributeToElement({model:OP,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]});t.commands.add(OP,new yk(t,OP))}}var VP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>';const NP="subscript";class MP extends mp{init(){const t=this.editor;const e=t.t;t.ui.componentFactory.add(NP,i=>{const n=t.commands.get(NP);const o=new hb(i);o.set({label:e("jl"),icon:VP,tooltip:true,isToggleable:true});o.bind("isOn","isEnabled").to(n,"value","isEnabled");this.listenTo(o,"execute",()=>{t.execute(NP);t.editing.view.focus()});return o})}}class BP extends mp{static get requires(){return[IP,MP]}static get pluginName(){return"Subscript"}}const zP="superscript";class LP extends mp{static get pluginName(){return"SuperscriptEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:zP});t.model.schema.setAttributeProperties(zP,{isFormatting:true,copyOnEnter:true});t.conversion.attributeToElement({model:zP,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]});t.commands.add(zP,new yk(t,zP))}}var FP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>';const DP="superscript";class jP extends mp{init(){const t=this.editor;const e=t.t;t.ui.componentFactory.add(DP,i=>{const n=t.commands.get(DP);const o=new hb(i);o.set({label:e("jm"),icon:FP,tooltip:true,isToggleable:true});o.bind("isOn","isEnabled").to(n,"value","isEnabled");this.listenTo(o,"execute",()=>{t.execute(DP);t.editing.view.focus()});return o})}}class HP extends mp{static get requires(){return[LP,jP]}static get pluginName(){return"Superscript"}}function WP(t,e){let i=e.parent;while(i){if(i.name===t){return i}i=i.parent}}function qP(t,e,i,n,o=1){if(e>o){n.setAttribute(t,e,i)}else{n.removeAttribute(t,i)}}function UP(t,e,i={}){const n=t.createElement("tableCell",i);t.insertElement("paragraph",n);t.insert(n,e)}function $P(t){if(!t||!ct(t)){return t}const{top:e,right:i,bottom:n,left:o}=t;if(e==i&&i==n&&n==o){return e}}function GP(t,e){const i=parseFloat(t);if(Number.isNaN(i)){return t}if(String(i)!==String(t)){return t}return`${i}${e}`}function KP(t,e){const i=e.parent.parent;const n=parseInt(i.getAttribute("headingColumns")||0);const{column:o}=t.getCellLocation(e);return!!n&&o<n}function JP(){return t=>{t.on("element:table",(t,e,i)=>{const n=e.viewItem;if(!i.consumable.test(n,{name:true})){return}const{rows:o,headingRows:r,headingColumns:s}=QP(n);const a={};if(s){a.headingColumns=s}if(r){a.headingRows=r}const c=i.writer.createElement("table",a);const l=i.splitToAllowedParent(c,e.modelCursor);if(!l){return}i.writer.insert(c,l.position);i.consumable.consume(n,{name:true});if(o.length){o.forEach(t=>i.convertItem(t,i.writer.createPositionAt(c,"end")))}else{const t=i.writer.createElement("tableRow");i.writer.insert(t,i.writer.createPositionAt(c,"end"));UP(i.writer,i.writer.createPositionAt(t,"end"))}e.modelRange=i.writer.createRange(i.writer.createPositionBefore(c),i.writer.createPositionAfter(c));if(l.cursorParent){e.modelCursor=i.writer.createPositionAt(l.cursorParent,0)}else{e.modelCursor=e.modelRange.end}})}}function YP(t){return e=>{e.on(`element:${t}`,(t,e,i)=>{const n=e.viewItem;if(!i.consumable.test(n,{name:true})){return}const o=i.writer.createElement("tableCell");const r=i.splitToAllowedParent(o,e.modelCursor);if(!r){return}i.writer.insert(o,r.position);i.consumable.consume(n,{name:true});const s=i.writer.createPositionAt(o,0);i.convertChildren(n,s);if(!o.childCount){i.writer.insertElement("paragraph",s)}e.modelRange=i.writer.createRange(i.writer.createPositionBefore(o),i.writer.createPositionAfter(o));e.modelCursor=e.modelRange.end})}}function QP(t){const e={headingRows:0,headingColumns:0};const i=[];const n=[];let o;for(const r of Array.from(t.getChildren())){if(r.name==="tbody"||r.name==="thead"||r.name==="tfoot"){if(r.name==="thead"&&!o){o=r}const t=Array.from(r.getChildren()).filter(t=>t.is("element","tr"));for(const r of t){if(r.parent.name==="thead"&&r.parent===o){e.headingRows++;i.push(r)}else{n.push(r);const t=XP(r,e,o);if(t>e.headingColumns){e.headingColumns=t}}}}}e.rows=[...i,...n];return e}function XP(t){let e=0;let i=0;const n=Array.from(t.getChildren()).filter(t=>t.name==="th"||t.name==="td");while(i<n.length&&n[i].name==="th"){const t=n[i];const o=parseInt(t.getAttribute("colspan")||1);e=e+o;i++}return e}class ZP{constructor(t,e={}){this.table=t;this.startRow=e.startRow||0;this.endRow=typeof e.endRow=="number"?e.endRow:undefined;this.includeSpanned=!!e.includeSpanned;this.column=typeof e.column=="number"?e.column:undefined;this._skipRows=new Set;this._row=0;this._column=0;this._cellIndex=0;this._spannedCells=new Map;this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const t=this.table.getChild(this._row);if(!t||this._isOverEndRow()){return{done:true}}let e,i,n;if(this._isSpanned(this._row,this._column)){e=this._getSpanned(this._row,this._column);i=!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn();n=this._formatOutValue(e,this._column,true)}else{e=t.getChild(this._cellIndex);if(!e){this._row++;this._column=0;this._cellIndex=0;this._nextCellAtColumn=-1;return this.next()}const o=parseInt(e.getAttribute("colspan")||1);const r=parseInt(e.getAttribute("rowspan")||1);if(o>1||r>1){this._recordSpans(this._row,this._column,r,o,e)}this._nextCellAtColumn=this._column+o;i=this._shouldSkipRow()||this._shouldSkipColumn();n=this._formatOutValue(e,this._column,false,r,o)}this._column++;if(this._column==this._nextCellAtColumn){this._cellIndex++}return i?this.next():n}skipRow(t){this._skipRows.add(t)}_isOverEndRow(){return this.endRow!==undefined&&this._row>this.endRow}_formatOutValue(t,e,i,n=1,o=1){return{done:false,value:{cell:t,row:this._row,column:e,isSpanned:i,rowspan:n,colspan:o,cellIndex:this._cellIndex}}}_shouldSkipRow(){const t=this._row<this.startRow;const e=this._skipRows.has(this._row);return t||e}_shouldSkipColumn(){if(this.column===undefined){return false}return this.column!=this._column}_isSpanned(t,e){if(!this._spannedCells.has(t)){return false}const i=this._spannedCells.get(t);return i.has(e)}_getSpanned(t,e){return this._spannedCells.get(t).get(e)}_recordSpans(t,e,i,n,o){for(let i=e+1;i<=e+n-1;i++){this._markSpannedCell(t,i,o)}for(let r=t+1;r<t+i;r++){for(let t=e;t<=e+n-1;t++){this._markSpannedCell(r,t,o)}}}_markSpannedCell(t,e,i){if(!this._spannedCells.has(t)){this._spannedCells.set(t,new Map)}const n=this._spannedCells.get(t);n.set(e,i)}}function tS(t,e){e.setCustomProperty("table",true,t);return X_(t,e,{hasSelectionHandle:true})}function eS(t){return!!t.getCustomProperty("table")&&Q_(t)}function iS(t){const e=t.getSelectedElement();if(e&&eS(e)){return e}return null}function nS(t){const e=WP("table",t.getFirstPosition());if(e&&eS(e.parent)){return e.parent}return null}function oS(t){const e=[];for(const i of aS(t.getRanges())){const t=i.getContainedElement();if(t&&t.is("tableCell")){e.push(t)}}return e}function rS(t){const e=[];for(const i of t.getRanges()){const t=WP("tableCell",i.start);if(t){e.push(t)}}return e}function sS(t){const e=oS(t);if(e.length){return e}return rS(t)}function aS(t){return Array.from(t).sort(cS)}function cS(t,e){const i=t.start;const n=e.start;if(i.isEqual(n)){return 0}return i.isBefore(n)?-1:1}function lS(t={}){return e=>e.on("insert:table",(e,i,n)=>{const o=i.item;if(!n.consumable.consume(o,"insert")){return}n.consumable.consume(o,"attribute:headingRows:table");n.consumable.consume(o,"attribute:headingColumns:table");const r=t&&t.asWidget;const s=n.writer.createContainerElement("figure",{class:"table"});const a=n.writer.createContainerElement("table");n.writer.insert(n.writer.createPositionAt(s,0),a);let c;if(r){c=tS(s,n.writer)}const l=new ZP(o);const d={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0};const u=new Map;for(const e of l){const{row:i,cell:r}=e;const s=vS(_S(i,d),a,n);const c=o.getChild(i);const l=u.get(i)||wS(c,i,s,n);u.set(i,l);n.consumable.consume(r,"insert");const h=n.writer.createPositionAt(l,"end");bS(e,d,h,n,t)}const h=n.mapper.toViewPosition(i.range.start);n.mapper.bindElements(o,r?c:s);n.writer.insert(h,r?c:s)})}function dS(t={}){return e=>e.on("insert:tableRow",(e,i,n)=>{const o=i.item;if(!n.consumable.consume(o,"insert")){return}const r=o.parent;const s=n.mapper.toViewElement(r);const a=TS(s);const c=r.getChildIndex(o);const l=new ZP(r,{startRow:c,endRow:c});const d={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0};const u=new Map;for(const e of l){const i=vS(_S(c,d),a,n);const r=u.get(c)||wS(o,c,i,n);u.set(c,r);n.consumable.consume(e.cell,"insert");const s=n.writer.createPositionAt(r,"end");bS(e,d,s,n,t)}})}function uS(t={}){return e=>e.on("insert:tableCell",(e,i,n)=>{const o=i.item;if(!n.consumable.consume(o,"insert")){return}const r=o.parent;const s=r.parent;const a=s.getChildIndex(r);const c=new ZP(s,{startRow:a,endRow:a});const l={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0};for(const e of c){if(e.cell===o){const i=n.mapper.toViewElement(r);const s=n.writer.createPositionAt(i,r.getChildIndex(o));bS(e,l,s,n,t);return}}})}function hS(t={}){const e=!!t.asWidget;return t=>t.on("attribute:headingRows:table",(t,i,n)=>{const o=i.item;if(!n.consumable.consume(i.item,t.name)){return}const r=n.mapper.toViewElement(o);const s=TS(r);const a=i.attributeOldValue;const c=i.attributeNewValue;if(c>a){const t=Array.from(o.getChildren()).filter(({index:t})=>l(t,a-1,c));const i=vS("thead",s,n);AS(t,i,n,"end");for(const i of t){for(const t of i.getChildren()){mS(t,"th",n,e)}}CS("tbody",s,n)}else{const t=Array.from(o.getChildren()).filter(({index:t})=>l(t,c-1,a)).reverse();const i=vS("tbody",s,n);AS(t,i,n,0);const r=new ZP(o,{startRow:c?c-1:c,endRow:a-1});const d={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0};for(const t of r){pS(t,d,n,e)}CS("thead",s,n)}function l(t,e,i){return t>e&&t<i}})}function fS(t={}){const e=!!t.asWidget;return t=>t.on("attribute:headingColumns:table",(t,i,n)=>{const o=i.item;if(!n.consumable.consume(i.item,t.name)){return}const r={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0};const s=i.attributeOldValue;const a=i.attributeNewValue;const c=(s>a?s:a)-1;for(const t of new ZP(o)){if(t.column>c){continue}pS(t,r,n,e)}})}function gS(){return t=>t.on("remove:tableRow",(t,e,i)=>{t.stop();const n=i.writer;const o=i.mapper;const r=o.toViewPosition(e.position).getLastMatchingPosition(t=>!t.item.is("tr"));const s=r.nodeAfter;const a=s.parent;const c=n.createRangeOn(s);const l=n.remove(c);for(const t of n.createRangeIn(l).getItems()){o.unbindViewElement(t)}if(!a.childCount){n.remove(n.createRangeOn(a))}},{priority:"higher"})}function mS(t,e,i,n){const o=i.writer;const r=i.mapper.toViewElement(t);if(!r){return}let s;if(n){const t=o.createEditableElement(e,r.getAttributes());s=iv(t,o);o.insert(o.createPositionAfter(r),s);o.move(o.createRangeIn(r),o.createPositionAt(s,0));o.remove(o.createRangeOn(r))}else{s=o.rename(e,r)}i.mapper.unbindViewElement(r);i.mapper.bindElements(t,s)}function pS(t,e,i,n){const{cell:o}=t;const r=kS(t,e);const s=i.mapper.toViewElement(o);if(s&&s.name!==r){mS(o,r,i,n)}}function bS(t,e,i,n,o){const r=o&&o.asWidget;const s=kS(t,e);const a=r?iv(n.writer.createEditableElement(s),n.writer):n.writer.createContainerElement(s);const c=t.cell;const l=c.getChild(0);const d=c.childCount===1&&l.name==="paragraph";n.writer.insert(i,a);if(d&&!PS(l)){const t=c.getChild(0);const e=n.writer.createPositionAt(a,"end");n.consumable.consume(t,"insert");if(o.asWidget){const i=n.writer.createContainerElement("span",{style:"display:inline-block"});n.mapper.bindElements(t,i);n.writer.insert(e,i);n.mapper.bindElements(c,a)}else{n.mapper.bindElements(c,a);n.mapper.bindElements(t,a)}}else{n.mapper.bindElements(c,a)}}function wS(t,e,i,n){n.consumable.consume(t,"insert");const o=n.writer.createContainerElement("tr");n.mapper.bindElements(t,o);const r=t.parent.getAttribute("headingRows")||0;const s=r>0&&e>=r?e-r:e;const a=n.writer.createPositionAt(i,s);n.writer.insert(a,o);return o}function kS(t,e){const{row:i,column:n}=t;const{headingColumns:o,headingRows:r}=e;const s=r&&r>i;if(s){return"th"}const a=o&&o>n;return a?"th":"td"}function _S(t,e){return t<e.headingRows?"thead":"tbody"}function vS(t,e,i){const n=yS(t,e);return n?n:xS(t,e,i)}function yS(t,e){for(const i of e.getChildren()){if(i.name==t){return i}}}function xS(t,e,i){const n=i.writer.createContainerElement(t);const o=i.writer.createPositionAt(e,t=="tbody"?"end":0);i.writer.insert(o,n);return n}function CS(t,e,i){const n=yS(t,e);if(n&&n.childCount===0){i.writer.remove(i.writer.createRangeOn(n))}}function AS(t,e,i,n){for(const o of t){const t=i.mapper.toViewElement(o);if(t){i.writer.move(i.writer.createRangeOn(t),i.writer.createPositionAt(e,n))}}}function TS(t){for(const e of t.getChildren()){if(e.name==="table"){return e}}}function PS(t){return!![...t.getAttributeKeys()].length}class SS extends jw{refresh(){const t=this.editor.model;const e=t.document.selection;const i=t.schema;const n=ES(e.getFirstPosition());this.isEnabled=i.checkChild(n,"table")}execute(t={}){const e=this.editor.model;const i=e.document.selection;const n=this.editor.plugins.get("TableUtils");const o=parseInt(t.rows)||2;const r=parseInt(t.columns)||2;const s=nv(i,e);e.change(t=>{const i=n.createTable(t,o,r);e.insertContent(i,s);t.setSelection(t.createPositionAt(i.getNodeByPath([0,0,0]),0))})}}function ES(t){const e=t.parent;return e===e.root?e:e.parent}class RS extends jw{constructor(t,e={}){super(t);this.order=e.order||"below"}refresh(){const t=this.editor.model.document.selection;const e=WP("table",t.getFirstPosition());this.isEnabled=!!e}execute(){const t=this.editor;const e=t.model.document.selection;const i=t.plugins.get("TableUtils");const n=this.order==="above";const o=n?e.getFirstPosition():e.getLastPosition();const r=n?e.getFirstRange():e.getLastRange();const s=r.getContainedElement()||WP("tableCell",o);const a=s.parent;const c=a.parent;const l=c.getChildIndex(a);i.insertRows(c,{rows:1,at:this.order==="below"?l+1:l})}}class OS extends jw{constructor(t,e={}){super(t);this.order=e.order||"right"}refresh(){const t=this.editor.model.document.selection;const e=WP("table",t.getFirstPosition());this.isEnabled=!!e}execute(){const t=this.editor;const e=t.model.document.selection;const i=t.plugins.get("TableUtils");const n=this.order==="left";const o=n?e.getFirstPosition():e.getLastPosition();const r=n?e.getFirstRange():e.getLastRange();const s=r.getContainedElement()||WP("tableCell",o);const a=s.parent.parent;const{column:c}=i.getCellLocation(s);i.insertColumns(a,{columns:1,at:n?c:c+1})}}class IS extends jw{constructor(t,e={}){super(t);this.direction=e.direction||"horizontally"}refresh(){const t=sS(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const t=sS(this.editor.model.document.selection)[0];const e=this.direction==="horizontally";const i=this.editor.plugins.get("TableUtils");if(e){i.splitCellHorizontally(t,2)}else{i.splitCellVertically(t,2)}}}class VS extends jw{constructor(t,e){super(t);this.direction=e.direction;this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const t=this._getMergeableCell();this.value=t;this.isEnabled=!!t}execute(){const t=this.editor.model;const e=t.document;const i=rS(e.selection)[0];const n=this.value;const o=this.direction;t.change(t=>{const e=o=="right"||o=="down";const r=e?i:n;const s=e?n:i;const a=s.parent;zS(s,r,t);const c=this.isHorizontal?"colspan":"rowspan";const l=parseInt(i.getAttribute(c)||1);const d=parseInt(n.getAttribute(c)||1);t.setAttribute(c,l+d,r);t.setSelection(t.createRangeIn(r));if(!a.childCount){BS(a,t)}})}_getMergeableCell(){const t=this.editor.model;const e=t.document;const i=rS(e.selection)[0];if(!i){return}const n=this.editor.plugins.get("TableUtils");const o=this.isHorizontal?NS(i,this.direction,n):MS(i,this.direction);if(!o){return}const r=this.isHorizontal?"rowspan":"colspan";const s=parseInt(i.getAttribute(r)||1);const a=parseInt(o.getAttribute(r)||1);if(a===s){return o}}}function NS(t,e,i){const n=t.parent;const o=n.parent;const r=e=="right"?t.nextSibling:t.previousSibling;const s=(o.getAttribute("headingColumns")||0)>0;if(!r){return}const a=e=="right"?t:r;const c=e=="right"?r:t;const{column:l}=i.getCellLocation(a);const{column:d}=i.getCellLocation(c);const u=parseInt(a.getAttribute("colspan")||1);const h=KP(i,a,o);const f=KP(i,c,o);if(s&&h!=f){return}const g=l+u===d;return g?r:undefined}function MS(t,e){const i=t.parent;const n=i.parent;const o=n.getChildIndex(i);if(e=="down"&&o===n.childCount-1||e=="up"&&o===0){return}const r=parseInt(t.getAttribute("rowspan")||1);const s=n.getAttribute("headingRows")||0;const a=e=="down"&&o+r===s;const c=e=="up"&&o===s;if(s&&(a||c)){return}const l=parseInt(t.getAttribute("rowspan")||1);const d=e=="down"?o+l:o;const u=[...new ZP(n,{endRow:d})];const h=u.find(e=>e.cell===t);const f=h.column;const g=u.find(({row:t,rowspan:i,column:n})=>{if(n!==f){return false}if(e=="down"){return t===d}else{return d===t+i}});return g&&g.cell}function BS(t,e){const i=t.parent;const n=i.getChildIndex(t);for(const{cell:t,row:o,rowspan:r}of new ZP(i,{endRow:n})){const i=o+r-1>=n;if(i){qP("rowspan",r-1,t,e)}}e.remove(t)}function zS(t,e,i){if(!LS(t)){if(LS(e)){i.remove(i.createRangeIn(e))}i.move(i.createRangeIn(t),i.createPositionAt(e,"end"))}i.remove(t)}function LS(t){return t.childCount==1&&t.getChild(0).is("paragraph")&&t.getChild(0).isEmpty}class FS extends jw{refresh(){const t=sS(this.editor.model.document.selection);const e=t[0];if(e){const i=e.parent.parent;const n=this.editor.plugins.get("TableUtils").getRows(i);const o=[...new ZP(i)];const r=o.filter(e=>t.includes(e.cell)).map(t=>t.row);const s=r[0];const a=r[r.length-1];this.isEnabled=a-s<n-1}else{this.isEnabled=false}}execute(){const t=sS(this.editor.model.document.selection);const e=DS(t);const i=t[0];const n=i.parent.parent;const o=[...new ZP(n,{endRow:e.last})];const r=this.editor.model.createBatch();const s=HS(o,i);this.editor.model.enqueueChange(r,t=>{t.setSelection(t.createSelection(n,"on"))});let a;for(let t=e.last;t>=e.first;t--){this.editor.model.enqueueChange(r,e=>{const i=t;this._removeRow(i,n,e,o);a=jS(n,i,s)})}this.editor.model.enqueueChange(r,t=>{t.setSelection(t.createPositionAt(a,0))})}_removeRow(t,e,i,n){const o=new Map;const r=e.getChild(t);const s=e.getAttribute("headingRows")||0;if(s&&t<s){qP("headingRows",s-1,e,i,0)}n.filter(({row:e,rowspan:i})=>e===t&&i>1).forEach(({column:t,cell:e,rowspan:i})=>o.set(t,{cell:e,rowspanToSet:i-1}));n.filter(({row:e,rowspan:i})=>e<=t-1&&e+i>t).forEach(({cell:t,rowspan:e})=>qP("rowspan",e-1,t,i));const a=t+1;const c=new ZP(e,{includeSpanned:true,startRow:a,endRow:a});let l;for(const{row:t,column:n,cell:r}of[...c]){if(o.has(n)){const{cell:r,rowspanToSet:s}=o.get(n);const a=l?i.createPositionAfter(l):i.createPositionAt(e.getChild(t),0);i.move(i.createRangeOn(r),a);qP("rowspan",s,r,i);l=r}else{l=r}}i.remove(r)}}function DS(t){const e=t.map(t=>t.parent.index).sort();return{first:e[0],last:e[e.length-1]}}function jS(t,e,i){const n=t.getChild(e)||t.getChild(t.childCount-1);let o=n.getChild(0);let r=0;for(const t of n.getChildren()){if(r>i){return o}o=t;r+=parseInt(t.getAttribute("colspan")||1)}return o}function HS(t,e){const i=t.find(t=>t.cell===e);return i.column}class WS extends jw{refresh(){const t=sS(this.editor.model.document.selection);const e=t[0];if(e){const i=e.parent.parent;const n=this.editor.plugins.get("TableUtils").getColumns(i);const o=[...new ZP(i)];const r=o.filter(e=>t.includes(e.cell)).map(t=>t.column).sort();const s=r[0];const a=r[r.length-1];this.isEnabled=a-s<n-1}else{this.isEnabled=false}}execute(){const[t,e]=$S(this.editor.model.document.selection);const i=t.parent.parent;const n=[...new ZP(i)];const o={first:n.find(e=>e.cell===t).column,last:n.find(t=>t.cell===e).column};const r=US(n,t,e,o);this.editor.model.change(t=>{t.setSelection(t.createRangeOn(i));qS(i,o,t);for(let e=o.last;e>=o.first;e--){for(const{cell:i,column:o,colspan:r}of n){if(o<=e&&r>1&&o+r>e){qP("colspan",r-1,i,t)}else if(o===e){const e=i.parent;t.remove(i);if(!e.childCount){t.remove(e)}}}}t.setSelection(t.createPositionAt(r,0))})}}function qS(t,e,i){const n=t.getAttribute("headingColumns")||0;if(n&&e.first<=n){const o=Math.min(n-1,e.last)-e.first+1;i.setAttribute("headingColumns",n-o,t)}}function US(t,e,i,n){const o=parseInt(i.getAttribute("colspan")||1);if(o>1){return i}else if(e.previousSibling||i.nextSibling){return i.nextSibling||e.previousSibling}else{if(n.first){return t.reverse().find(({column:t})=>t<n.first).cell}else{return t.reverse().find(({column:t})=>t>n.last).cell}}}function $S(t){const e=sS(t);const i=e[0];const n=e.pop();const o=[i,n];return i.isBefore(n)?o:o.reverse()}class GS extends jw{refresh(){const t=this.editor.model;const e=sS(t.document.selection);const i=e.length>0;this.isEnabled=i;this.value=i&&e.every(t=>this._isInHeading(t,t.parent.parent))}execute(t={}){const e=this.editor.model;const i=sS(e.document.selection);const n=i[0];const o=i[i.length-1];const r=n.parent.parent;const s=r.getAttribute("headingRows")||0;const[a,c]=[n.parent.index,o.parent.index].sort();if(t.forceValue===this.value){return}const l=this.value?a:c+1;e.change(t=>{if(l){const e=KS(r,l,s);for(const i of e){JS(i,l,t)}}qP("headingRows",l,r,t,0)})}_isInHeading(t,e){const i=parseInt(e.getAttribute("headingRows")||0);return!!i&&t.parent.index<i}}function KS(t,e,i){const n=[];const o=e>i?i:0;const r=e-1;const s=new ZP(t,{startRow:o,endRow:r});for(const{row:t,rowspan:i,cell:o}of s){if(i>1&&t+i>e){n.push(o)}}return n}function JS(t,e,i){const n=t.parent;const o=n.parent;const r=n.index;const s=parseInt(t.getAttribute("rowspan"));const a=e-r;const c={};const l=s-a;if(l>1){c.rowspan=l}const d=parseInt(t.getAttribute("colspan")||1);if(d>1){c.colspan=d}const u=o.getChildIndex(n);const h=u+a;const f=[...new ZP(o,{startRow:u,endRow:h,includeSpanned:true})];let g;for(const{row:e,column:n,cell:r,cellIndex:s}of f){if(r===t&&g===undefined){g=n}if(g!==undefined&&g===n&&e===h){const t=o.getChild(e);const n=i.createPositionAt(t,s);UP(i,n,c)}}qP("rowspan",a,t,i)}class YS extends jw{refresh(){const t=this.editor.model;const e=sS(t.document.selection);const i=this.editor.plugins.get("TableUtils");const n=e.length>0;this.isEnabled=n;this.value=n&&e.every(t=>KP(i,t))}execute(t={}){const e=this.editor.model;const i=this.editor.plugins.get("TableUtils");const n=sS(e.document.selection);const o=n[0];const r=n[n.length-1];const s=o.parent;const a=s.parent;const[c,l]=[i.getCellLocation(o).column,i.getCellLocation(r).column].sort();if(t.forceValue===this.value){return}const d=this.value?c:l+1;e.change(t=>{qP("headingColumns",d,a,t,0)})}}class QS extends mp{static get pluginName(){return"TableUtils"}getCellLocation(t){const e=t.parent;const i=e.parent;const n=i.getChildIndex(e);const o=new ZP(i,{startRow:n,endRow:n});for(const{cell:e,row:i,column:n}of o){if(e===t){return{row:i,column:n}}}}createTable(t,e,i){const n=t.createElement("table");XS(t,n,0,e,i);return n}insertRows(t,e={}){const i=this.editor.model;const n=e.at||0;const o=e.rows||1;i.change(e=>{const i=t.getAttribute("headingRows")||0;if(i>n){e.setAttribute("headingRows",i+o,t)}if(n===0||n===t.childCount){XS(e,t,n,o,this.getColumns(t));return}const r=new ZP(t,{endRow:n});let s=0;for(const{row:t,rowspan:i,colspan:a,cell:c}of r){const r=t<n;const l=t+i>n;if(r&&l){e.setAttribute("rowspan",i+o,c)}if(t===n){s+=a}}XS(e,t,n,o,s)})}insertColumns(t,e={}){const i=this.editor.model;const n=e.at||0;const o=e.columns||1;i.change(e=>{const i=t.getAttribute("headingColumns");if(n<i){e.setAttribute("headingColumns",i+o,t)}const r=this.getColumns(t);if(n===0||r===n){for(const i of t.getChildren()){ZS(o,e,e.createPositionAt(i,n?"end":0))}return}const s=new ZP(t,{column:n,includeSpanned:true});for(const{row:i,cell:r,cellIndex:a}of s){const c=parseInt(r.getAttribute("rowspan")||1);const l=parseInt(r.getAttribute("colspan")||1);if(r.index!==n&&l>1){e.setAttribute("colspan",l+o,r);s.skipRow(i);if(c>1){for(let t=i+1;t<i+c;t++){s.skipRow(t)}}}else{const n=e.createPositionAt(t.getChild(i),a);ZS(o,e,n)}}})}splitCellVertically(t,e=2){const i=this.editor.model;const n=t.parent;const o=n.parent;const r=parseInt(t.getAttribute("rowspan")||1);const s=parseInt(t.getAttribute("colspan")||1);i.change(i=>{if(s>1){const{newCellsSpan:n,updatedSpan:o}=tE(s,e);qP("colspan",o,t,i);const a={};if(n>1){a.colspan=n}if(r>1){a.rowspan=r}const c=s>e?e-1:s-1;ZS(c,i,i.createPositionAfter(t),a)}if(s<e){const n=e-s;const a=[...new ZP(o)];const{column:c}=a.find(({cell:e})=>e===t);const l=a.filter(({cell:e,colspan:i,column:n})=>{const o=e!==t&&n===c;const r=n<c&&n+i>c;return o||r});for(const{cell:t,colspan:e}of l){i.setAttribute("colspan",e+n,t)}const d={};if(r>1){d.rowspan=r}ZS(n,i,i.createPositionAfter(t),d);const u=o.getAttribute("headingColumns")||0;if(u>c){qP("headingColumns",u+n,o,i)}}})}splitCellHorizontally(t,e=2){const i=this.editor.model;const n=t.parent;const o=n.parent;const r=o.getChildIndex(n);const s=parseInt(t.getAttribute("rowspan")||1);const a=parseInt(t.getAttribute("colspan")||1);i.change(i=>{if(s>1){const n=[...new ZP(o,{startRow:r,endRow:r+s-1,includeSpanned:true})];const{newCellsSpan:c,updatedSpan:l}=tE(s,e);qP("rowspan",l,t,i);const{column:d}=n.find(({cell:e})=>e===t);const u={};if(c>1){u.rowspan=c}if(a>1){u.colspan=a}for(const{column:t,row:e,cellIndex:s}of n){const n=e>=r+l;const a=t===d;const h=(e+r+l)%c===0;if(n&&a&&h){const t=i.createPositionAt(o.getChild(e),s);ZS(1,i,t,u)}}}if(s<e){const n=e-s;const c=[...new ZP(o,{startRow:0,endRow:r})];for(const{cell:e,rowspan:o,row:s}of c){if(e!==t&&s+o>r){const t=o+n;i.setAttribute("rowspan",t,e)}}const l={};if(a>1){l.colspan=a}XS(i,o,r+1,n,1,l);const d=o.getAttribute("headingRows")||0;if(d>r){qP("headingRows",d+n,o,i)}}})}getColumns(t){const e=t.getChild(0);return[...e.getChildren()].reduce((t,e)=>{const i=parseInt(e.getAttribute("colspan")||1);return t+i},0)}getRows(t){return t.childCount}}function XS(t,e,i,n,o,r={}){for(let s=0;s<n;s++){const n=t.createElement("tableRow");t.insert(n,e,i);ZS(o,t,t.createPositionAt(n,"end"),r)}}function ZS(t,e,i,n={}){for(let o=0;o<t;o++){UP(e,i,n)}}function tE(t,e){if(t<e){return{newCellsSpan:1,updatedSpan:1}}const i=Math.floor(t/e);const n=t-i*e+i;return{newCellsSpan:i,updatedSpan:n}}function eE(t){t.document.registerPostFixer(e=>iE(e,t))}function iE(t,e){const i=e.document.differ.getChanges();let n=false;const o=new Set;for(const e of i){let i;if(e.name=="table"&&e.type=="insert"){i=e.position.nodeAfter}if(e.name=="tableRow"||e.name=="tableCell"){i=WP("table",e.position)}if(aE(e)){i=WP("table",e.range.start)}if(i&&!o.has(i)){n=nE(i,t)||n;n=oE(i,t)||n;o.add(i)}}return n}function nE(t,e){let i=false;const n=rE(t);if(n.length){i=true;for(const t of n){qP("rowspan",t.rowspan,t.cell,e,1)}}return i}function oE(t,e){let i=false;const n=sE(t);const o=n[0];const r=Object.values(n).every(t=>t===o);if(!r){const o=Object.values(n).reduce((t,e)=>e>t?e:t,0);for(const[r,s]of Object.entries(n)){const n=o-s;if(n){for(let i=0;i<n;i++){UP(e,e.createPositionAt(t.getChild(r),"end"))}i=true}}}return i}function rE(t){const e=parseInt(t.getAttribute("headingRows")||0);const i=t.childCount;const n=[];for(const{row:o,rowspan:r,cell:s}of new ZP(t)){if(r<2){continue}const t=o<e;const a=t?e:i;if(o+r>a){const t=a-o;n.push({cell:s,rowspan:t})}}return n}function sE(t){const e={};for(const{row:i}of new ZP(t,{includeSpanned:true})){if(!e[i]){e[i]=0}e[i]+=1}return e}function aE(t){const e=t.type==="attribute";const i=t.attributeKey;return e&&(i==="headingRows"||i==="colspan"||i==="rowspan")}function cE(t){t.document.registerPostFixer(e=>lE(e,t))}function lE(t,e){const i=e.document.differ.getChanges();let n=false;for(const e of i){if(e.type=="insert"&&e.name=="table"){n=dE(e.position.nodeAfter,t)||n}if(e.type=="insert"&&e.name=="tableRow"){n=uE(e.position.nodeAfter,t)||n}if(e.type=="insert"&&e.name=="tableCell"){n=hE(e.position.nodeAfter,t)||n}if(fE(e)){n=hE(e.position.parent,t)||n}}return n}function dE(t,e){let i=false;for(const n of t.getChildren()){i=uE(n,e)||i}return i}function uE(t,e){let i=false;for(const n of t.getChildren()){i=hE(n,e)||i}return i}function hE(t,e){if(t.childCount==0){e.insertElement("paragraph",t);return true}const i=Array.from(t.getChildren()).filter(t=>t.is("text"));for(const t of i){e.wrap(e.createRangeOn(t),"paragraph")}return!!i.length}function fE(t){if(!t.position||!t.position.parent.is("tableCell")){return false}return t.type=="insert"&&t.name=="$text"||t.type=="remove"}function gE(t){t.document.registerPostFixer(()=>mE(t))}function mE(t){const e=t.document.differ;const i=new Set;for(const t of e.getChanges()){const e=t.type=="insert"||t.type=="remove"?t.position.parent:t.range.start.parent;if(e.is("tableCell")&&pE(e,t.type)){i.add(e)}}if(i.size){for(const t of i.values()){e.refreshItem(t)}return true}return false}function pE(t,e){const i=Array.from(t.getChildren()).some(t=>t.is("paragraph"));if(!i){return false}if(e=="attribute"){const e=Array.from(t.getChild(0).getAttributeKeys()).length;return t.childCount===1&&e<2}return t.childCount<=(e=="insert"?2:1)}var bE=i(92);class wE extends mp{static get pluginName(){return"TableEditing"}init(){const t=this.editor;const e=t.model;const i=e.schema;const n=t.conversion;i.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:true,isObject:true,isBlock:true});i.register("tableRow",{allowIn:"table",isLimit:true});i.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isObject:true});i.extend("$block",{allowIn:"tableCell"});i.addChildCheck((t,e)=>{if(e.name=="table"&&Array.from(t.getNames()).includes("table")){return false}});n.for("upcast").add(JP());n.for("editingDowncast").add(lS({asWidget:true}));n.for("dataDowncast").add(lS());n.for("upcast").elementToElement({model:"tableRow",view:"tr"});n.for("editingDowncast").add(dS({asWidget:true}));n.for("dataDowncast").add(dS());n.for("downcast").add(gS());n.for("upcast").add(YP("td"));n.for("upcast").add(YP("th"));n.for("editingDowncast").add(uS({asWidget:true}));n.for("dataDowncast").add(uS());n.attributeToAttribute({model:"colspan",view:"colspan"});n.attributeToAttribute({model:"rowspan",view:"rowspan"});n.for("editingDowncast").add(fS({asWidget:true}));n.for("dataDowncast").add(fS());n.for("editingDowncast").add(hS({asWidget:true}));n.for("dataDowncast").add(hS());t.commands.add("insertTable",new SS(t));t.commands.add("insertTableRowAbove",new RS(t,{order:"above"}));t.commands.add("insertTableRowBelow",new RS(t,{order:"below"}));t.commands.add("insertTableColumnLeft",new OS(t,{order:"left"}));t.commands.add("insertTableColumnRight",new OS(t,{order:"right"}));t.commands.add("removeTableRow",new FS(t));t.commands.add("removeTableColumn",new WS(t));t.commands.add("splitTableCellVertically",new IS(t,{direction:"vertically"}));t.commands.add("splitTableCellHorizontally",new IS(t,{direction:"horizontally"}));t.commands.add("mergeTableCellRight",new VS(t,{direction:"right"}));t.commands.add("mergeTableCellLeft",new VS(t,{direction:"left"}));t.commands.add("mergeTableCellDown",new VS(t,{direction:"down"}));t.commands.add("mergeTableCellUp",new VS(t,{direction:"up"}));t.commands.add("setTableColumnHeader",new YS(t));t.commands.add("setTableRowHeader",new GS(t));eE(e);gE(e);cE(e);this.editor.keystrokes.set("Tab",(...t)=>this._handleTabOnSelectedTable(...t),{priority:"low"});this.editor.keystrokes.set("Tab",this._getTabHandler(true),{priority:"low"});this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(false),{priority:"low"})}static get requires(){return[QS]}_handleTabOnSelectedTable(t,e){const i=this.editor;const n=i.model.document.selection;if(!n.isCollapsed&&n.rangeCount===1&&n.getFirstRange().isFlat){const t=n.getSelectedElement();if(!t||!t.is("table")){return}e();i.model.change(e=>{e.setSelection(e.createRangeIn(t.getChild(0).getChild(0)))})}}_getTabHandler(t){const e=this.editor;return(i,n)=>{const o=e.model.document.selection;const r=rS(o)[0];if(!r){return}n();const s=r.parent;const a=s.parent;const c=a.getChildIndex(s);const l=s.getChildIndex(r);const d=l===0;if(!t&&d&&c===0){return}const u=l===s.childCount-1;const h=c===a.childCount-1;if(t&&h&&u){e.execute("insertTableRowBelow");if(c===a.childCount-1){return}}let f;if(t&&u){const t=a.getChild(c+1);f=t.getChild(0)}else if(!t&&d){const t=a.getChild(c-1);f=t.getChild(t.childCount-1)}else{f=s.getChild(l+(t?1:-1))}e.model.change(t=>{t.setSelection(t.createRangeIn(f))})}}}var kE=i(94);class _E extends Gp{constructor(t){super(t);const e=this.bindTemplate;this.items=this.createCollection();this.set("rows",0);this.set("columns",0);this.bind("label").to(this,"columns",this,"rows",(t,e)=>`${e} × ${t}`);this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:e.to("label")}]}],on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(()=>{this.fire("execute")})}});for(let t=0;t<100;t++){const e=new vE;e.on("over",()=>{const e=Math.floor(t/10);const i=t%10;this.set("rows",e+1);this.set("columns",i+1)});this.items.add(e)}this.on("change:columns",()=>{this._highlightGridBoxes()});this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const t=this.rows;const e=this.columns;this.items.map((i,n)=>{const o=Math.floor(n/10);const r=n%10;const s=o<t&&r<e;i.set("isOn",s)})}}class vE extends Gp{constructor(t){super(t);const e=this.bindTemplate;this.set("isOn",false);this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",e.if("isOn","ck-on")]},on:{mouseover:e.to("over")}})}}var yE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>';var xE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>';var CE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>';var AE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';class TE extends mp{init(){const t=this.editor;const e=this.editor.t;const i=t.locale.contentLanguageDirection;const n=i==="ltr";t.ui.componentFactory.add("insertTable",i=>{const n=t.commands.get("insertTable");const o=Wb(i);o.bind("isEnabled").to(n);o.buttonView.set({icon:yE,label:e("ki"),tooltip:true});let r;o.on("change:isOpen",()=>{if(r){return}r=new _E(i);o.panelView.children.add(r);r.delegate("execute").to(o);o.buttonView.on("open",()=>{r.rows=0;r.columns=0});o.on("execute",()=>{t.execute("insertTable",{rows:r.rows,columns:r.columns});t.editing.view.focus()})});return o});t.ui.componentFactory.add("tableColumn",t=>{const i=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("kj"),bindIsOn:true}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:e("kk")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:e("kl")}},{type:"button",model:{commandName:"removeTableColumn",label:e("km")}}];return this._prepareDropdown(e("kn"),xE,i,t)});t.ui.componentFactory.add("tableRow",t=>{const i=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("ko"),bindIsOn:true}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowBelow",label:e("kp")}},{type:"button",model:{commandName:"insertTableRowAbove",label:e("kq")}},{type:"button",model:{commandName:"removeTableRow",label:e("kr")}}];return this._prepareDropdown(e("ks"),CE,i,t)});t.ui.componentFactory.add("mergeTableCells",t=>{const i=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("kt")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:e("ku")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("kv")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:e("kw")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("kx")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("ky")}}];return this._prepareDropdown(e("kz"),AE,i,t)})}_prepareDropdown(t,e,i,n){const o=this.editor;const r=Wb(n);const s=[];const a=new ys;for(const t of i){PE(t,o,s,a)}Ub(r,a,o.ui.componentFactory);r.buttonView.set({label:t,icon:e,tooltip:true});r.bind("isEnabled").toMany(s,"isEnabled",(...t)=>t.some(t=>t));this.listenTo(r,"execute",t=>{o.execute(t.source.commandName);o.editing.view.focus()});return r}}function PE(t,e,i,n){const o=t.model=new e_(t.model);const{commandName:r,bindIsOn:s}=t.model;if(t.type==="button"||t.type==="switchbutton"){const t=e.commands.get(r);i.push(t);o.set({commandName:r});o.bind("isEnabled").to(t);if(s){o.bind("isOn").to(t,"value")}}o.set({withText:true});n.add(t)}class SE extends Ju{constructor(t){super(t);this.domEventType=["mousemove","mouseup","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}function EE(t,e,i){const n=Array.from(t);const o=n[0];const r=n[n.length-1];const{row:s,column:a}=e.getCellLocation(o);const c=RE(n,a,i,e);const{row:l,column:d}=e.getCellLocation(r);const u=d-a+1;const h=l-s+1;IE(c,u,h,i,e);const f=WP("table",o);VE(c,f,s,a,i);return c}function RE(t,e,i,n){const o=i.createElement("table");const r=new Map;const s=new Map;for(const e of t){const t=WP("tableRow",e);if(!r.has(t)){const e=t._clone();i.append(e,o);r.set(t,e)}const a=e._clone(true);const{column:c}=n.getCellLocation(e);s.set(a,c);i.append(a,r.get(t))}OE(o,e,s,i,n);return o}function OE(t,e,i,n,o){for(const r of t.getChildren()){for(const t of Array.from(r.getChildren())){const{column:r}=o.getCellLocation(t);const s=i.get(t);const a=s-e;if(r!==a){for(let e=0;e<a-r;e++){const e=n.createElement("tableCell");n.insert(e,n.createPositionBefore(t));const i=n.createElement("paragraph");n.insert(i,e,0);n.insertText("",i,0)}}}}}function IE(t,e,i,n,o){for(const r of t.getChildren()){for(const t of r.getChildren()){const r=parseInt(t.getAttribute("colspan")||1);const s=parseInt(t.getAttribute("rowspan")||1);const{row:a,column:c}=o.getCellLocation(t);if(c+r>e){const i=e-c;if(i>1){n.setAttribute("colspan",i,t)}else{n.removeAttribute("colspan",t)}}if(a+s>i){const e=i-a;if(e>1){n.setAttribute("rowspan",e,t)}else{n.removeAttribute("rowspan",t)}}}}}function VE(t,e,i,n,o){const r=parseInt(e.getAttribute("headingRows")||0);if(r>0){const e=r-i;o.setAttribute("headingRows",e,t)}const s=parseInt(e.getAttribute("headingColumns")||0);if(s>0){const e=s-n;o.setAttribute("headingColumns",e,t)}}var NE=i(96);class ME extends mp{static get pluginName(){return"TableSelection"}static get requires(){return[QS]}init(){const t=this.editor;const e=t.model;this.listenTo(e,"deleteContent",(t,e)=>this._handleDeleteContent(t,e),{priority:"high"});t.editing.view.addObserver(SE);this._defineSelectionConverter();this._enableShiftClickSelection();this._enableMouseDragSelection()}getSelectedTableCells(){const t=this.editor.model.document.selection;const e=oS(t);if(e.length==0){return null}return e}getSelectionAsFragment(){const t=this.getSelectedTableCells();if(!t){return null}return this.editor.model.change(e=>{const i=e.createDocumentFragment();const n=EE(t,this.editor.plugins.get("TableUtils"),e);e.insert(n,i,0);return i})}_defineSelectionConverter(){const t=this.editor;const e=new Set;t.conversion.for("editingDowncast").add(t=>t.on("selection",(t,n,o)=>{const r=o.writer;i(r);const s=this.getSelectedTableCells();if(!s){return}for(const t of s){const i=o.mapper.toViewElement(t);r.addClass("ck-editor__editable_selected",i);e.add(i)}const a=o.mapper.toViewElement(s[s.length-1]);r.setSelection(a,0)},{priority:"lowest"}));function i(t){for(const i of e){t.removeClass("ck-editor__editable_selected",i)}e.clear()}}_enableShiftClickSelection(){const t=this.editor;let e=false;this.listenTo(t.editing.view.document,"mousedown",(i,n)=>{if(!this.isEnabled){return}if(!n.domEvent.shiftKey){return}const o=rS(t.model.document.selection)[0];if(!o){return}const r=this._getModelTableCellFromDomEvent(n);if(r&&zE(o,r)){e=true;this._setCellSelection(o,r);n.preventDefault()}});this.listenTo(t.editing.view.document,"mouseup",()=>{e=false});this.listenTo(t.editing.view.document,"selectionChange",t=>{if(e){t.stop()}},{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,i;let n=false;let o=false;this.listenTo(t.editing.view.document,"mousedown",(t,i)=>{if(!this.isEnabled){return}if(i.domEvent.shiftKey||i.domEvent.ctrlKey||i.domEvent.altKey){return}e=this._getModelTableCellFromDomEvent(i)});this.listenTo(t.editing.view.document,"mousemove",(t,r)=>{if(!r.domEvent.buttons){return}if(!e){return}const s=this._getModelTableCellFromDomEvent(r);if(s&&zE(e,s)){i=s;if(!n&&i!=e){n=true}}if(!n){return}o=true;this._setCellSelection(e,i);r.preventDefault()});this.listenTo(t.editing.view.document,"mouseup",()=>{n=false;o=false;e=null;i=null});this.listenTo(t.editing.view.document,"selectionChange",t=>{if(o){t.stop()}},{priority:"highest"})}_handleDeleteContent(t,e){const[i,n]=e;const o=this.editor.model;const r=!n||n.direction=="backward";const s=oS(i);if(!s.length){return}t.stop();o.change(t=>{const e=s[r?s.length-1:0];o.change(t=>{for(const e of s){o.deleteContent(t.createSelection(e,"in"))}});const n=o.schema.getNearestSelectionRange(t.createPositionAt(e,0));if(n){if(i.is("documentSelection")){t.setSelection(n)}else{i.setTo(n)}}})}_setCellSelection(t,e){const i=this._getCellsToSelect(t,e);this.editor.model.change(t=>{t.setSelection(i.cells.map(e=>t.createRangeOn(e)),{backward:i.backward})})}_getModelTableCellFromDomEvent(t){const e=t.target;const i=this.editor.editing.view.createPositionAt(e,0);const n=this.editor.editing.mapper.toModelPosition(i);const o=n.parent;if(!o){return}if(o.is("tableCell")){return o}return WP("tableCell",o)}_getCellsToSelect(t,e){const i=this.editor.plugins.get("TableUtils");const n=i.getCellLocation(t);const o=i.getCellLocation(e);const r=Math.min(n.row,o.row);const s=Math.max(n.row,o.row);const a=Math.min(n.column,o.column);const c=Math.max(n.column,o.column);const l=[];for(const e of new ZP(WP("table",t),{startRow:r,endRow:s})){if(e.column>=a&&e.column<=c){l.push(e.cell)}}if(BE(n,o)){return{cells:l.reverse(),backward:true}}return{cells:l,backward:false}}}function BE(t,e){if(t.row>e.row){return true}if(t.row==e.row&&t.column>e.column){return true}return false}function zE(t,e){return t.parent.parent==e.parent.parent}class LE extends mp{static get pluginName(){return"TableClipboard"}static get requires(){return[ME]}init(){const t=this.editor;const e=t.editing.view.document;this.listenTo(e,"copy",(t,e)=>this._onCopyCut(t,e));this.listenTo(e,"cut",(t,e)=>this._onCopyCut(t,e))}_onCopyCut(t,e){const i=this.editor.plugins.get("TableSelection");if(!i.getSelectedTableCells()){return}if(t.name=="cut"&&this.editor.isReadOnly){return}e.preventDefault();t.stop();const n=this.editor.data;const o=this.editor.editing.view.document;const r=n.toView(i.getSelectionAsFragment());o.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:r,method:t.name})}}var FE=i(98);class DE extends mp{static get requires(){return[wE,TE,ME,LE,Fv]}static get pluginName(){return"Table"}}var jE=i(100);class HE extends Gp{constructor(t,e){super(t);const i=`ck-labeled-view-${is()}`;const n=`ck-labeled-view-status-${is()}`;this.view=e(this,i,n);this.set("label");this.set("isEnabled",true);this.set("errorText",null);this.set("infoText",null);this.set("class");this.labelView=this._createLabelView(i);this.statusView=this._createStatusView(n);this.bind("_statusText").to(this,"errorText",this,"infoText",(t,e)=>t||e);const o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-view",o.to("class"),o.if("isEnabled","ck-disabled",t=>!t)]},children:[this.labelView,this.view,this.statusView]})}_createLabelView(t){const e=new Mk(this.locale);e.for=t;e.bind("text").to(this,"label");return e}_createStatusView(t){const e=new Gp(this.locale);const i=this.bindTemplate;e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-view__status",i.if("errorText","ck-labeled-view__status_error"),i.if("_statusText","ck-hidden",t=>!t)],id:t,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]});return e}focus(){this.view.focus()}}function WE(t,e,i){const n=new Yv(t.locale);n.set({id:e,ariaDescribedById:i});n.bind("isReadOnly").to(t,"isEnabled",t=>!t);n.bind("hasError").to(t,"errorText",t=>!!t);n.on("input",()=>{t.errorText=null});return n}function qE(t,e,i){const n=Wb(t.locale);n.set({id:e,ariaDescribedById:i});n.bind("isEnabled").to(t);return n}var UE=i(102);class $E extends Gp{constructor(t,e){super(t);const i=this.bindTemplate;this.set("value","");this.set("id");this.set("isReadOnly",false);this.set("hasError",false);this.set("ariaDescribedById");this.options=e;this._dropdownView=this._createDropdownView(t);this._inputView=this._createInputTextView(t);this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color",i.if("hasError","ck-error")],id:i.to("id"),"aria-invalid":i.if("hasError",true),"aria-describedby":i.to("ariaDescribedById")},children:[this._inputView,this._dropdownView]})}focus(){this._inputView.focus()}_createDropdownView(){const t=this.locale;const e=this.bindTemplate;const i=this._createColorGrid(t);const n=Wb(t);const o=new Gp;const r=this._createRemoveColorButton(t);o.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:e.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",e.if("value","ck-hidden",t=>t!="")]}}]});n.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}});n.buttonView.children.add(o);n.panelPosition=t.uiLanguageDirection==="rtl"?"se":"sw";n.panelView.children.add(r);n.panelView.children.add(i);n.bind("isEnabled").to(this,"isReadOnly",t=>!t);return n}_createInputTextView(){const t=this.locale;const e=new Yv(t);e.bind("value").to(this);e.bind("isReadOnly").to(this);e.bind("hasError").to(this);e.on("input",()=>{this.value=e.element.value});e.delegate("input").to(this);return e}_createRemoveColorButton(){const t=this.locale;const e=t.t;const i=new hb(t);i.class="ck-input-color__remove-color";i.withText=true;i.icon=zk;i.label=e("li");i.on("execute",()=>{this.value="";this._dropdownView.isOpen=false;this.fire("input")});return i}_createColorGrid(t){const e=new Vk(t,{colorDefinitions:this.options.colorDefinitions,columns:this.options.columns});e.on("execute",(t,e)=>{this.value=e.value;this._dropdownView.isOpen=false;this.fire("input")});e.bind("selectedColor").to(this,"value");return e}}const GE=nb.defaultPositions;const KE=[GE.northArrowSouth,GE.northArrowSouthWest,GE.northArrowSouthEast,GE.southArrowNorth,GE.southArrowNorthWest,GE.southArrowNorthEast];const JE=t=>t==="";function YE(t,e){const i=t.plugins.get("ContextualBalloon");if(nS(t.editing.view.document.selection)){let n;if(e==="cell"){n=XE(t)}else{n=QE(t)}i.updatePosition(n)}}function QE(t){const e=t.model.document.selection.getFirstPosition();const i=WP("table",e);const n=t.editing.mapper.toViewElement(i);return{target:t.editing.view.domConverter.viewToDom(n),positions:KE}}function XE(t){const e=uR(t.model.document.selection.getFirstPosition());const i=t.editing.mapper.toViewElement(e);return{target:t.editing.view.domConverter.viewToDom(i),positions:KE}}function ZE(t){return{none:t("mq"),solid:t("mr"),dotted:t("ms"),dashed:t("mt"),double:t("mu"),groove:t("mv"),ridge:t("mw"),inset:t("mx"),outset:t("my")}}function tR(t){return t("mz")}function eR(t){return t("na")}function iR(t){t=t.trim();return JE(t)||tC(t)}function nR(t){t=t.trim();return JE(t)||lR(t)||oC(t)||sC(t)}function oR(t){t=t.trim();return JE(t)||lR(t)||oC(t)}function rR(t){const e=new ys;const i=ZE(t.t);for(const n in i){const o={type:"button",model:new e_({_borderStyleValue:n==="none"?"":n,label:i[n],withText:true})};if(n==="none"){o.model.bind("isOn").to(t,"borderStyle",t=>!t)}else{o.model.bind("isOn").to(t,"borderStyle",t=>t===n)}e.add(o)}return e}function sR({view:t,icons:e,toolbar:i,labels:n,propertyName:o,nameToValue:r}){for(const s in n){const a=new hb(t.locale);a.set({label:n[s],icon:e[s]});a.bind("isOn").to(t,o,t=>t===r(s));a.on("execute",()=>{t[o]=r(s)});i.items.add(a)}}const aR=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:true},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function cR(t){return(e,i,n)=>{const o=new $E(e.locale,{colorDefinitions:dR(t.colorConfig),columns:t.columns});o.set({id:i,ariaDescribedById:n});o.bind("isReadOnly").to(e,"isEnabled",t=>!t);o.bind("errorText").to(e);o.on("input",()=>{e.errorText=null});return o}}function lR(t){const e=parseFloat(t);return!Number.isNaN(e)&&t===String(e)}function dR(t){return t.map(t=>({color:t.model,label:t.label,options:{hasBorder:t.hasBorder}}))}function uR(t){const e=t.nodeAfter&&t.nodeAfter.is("tableCell");return e?t.nodeAfter:WP("tableCell",t)}var hR=i(104);class fR extends Gp{constructor(t,e={}){super(t);const i=this.bindTemplate;this.set("class",e.class||null);this.children=this.createCollection();if(e.children){e.children.forEach(t=>this.children.add(t))}this.set("_role",null);this.set("_ariaLabelledBy",null);if(e.labelView){this.set({_role:"group",_ariaLabelledBy:e.labelView.id})}this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",i.to("class")],role:i.to("_role"),"aria-labelledby":i.to("_ariaLabelledBy")},children:this.children})}}var gR=i(106);class mR extends Gp{constructor(t,e={}){super(t);const i=this.bindTemplate;this.children=this.createCollection();this.set("class",e.class||null);this.set("label",e.label||"");const n=new Gp(t);n.setTemplate({tag:"span",attributes:{class:["ck","ck-form__header__label"]},children:[{text:i.to("label")}]});this.children.add(n);this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",i.to("class")]},children:this.children})}}var pR='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.261 7.062l2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>';var bR='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>';var wR='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.239 13.938l-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>';var kR=i(12);var _R=i(13);var vR=i(110);const yR={left:Zw,center:ek,right:tk,justify:ik,top:pR,middle:bR,bottom:wR};class xR extends Gp{constructor(t,e){super(t);this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""});this.options=e;const{borderStyleDropdown:i,borderWidthInput:n,borderColorInput:o,borderRowLabel:r}=this._createBorderFields();const{widthInput:s,operatorLabel:a,heightInput:c,dimensionsLabel:l}=this._createDimensionFields();const{horizontalAlignmentToolbar:d,verticalAlignmentToolbar:u,alignmentLabel:h}=this._createAlignmentFields();this.focusTracker=new fb;this.keystrokes=new dp;this.children=this.createCollection();this.borderStyleDropdown=i;this.borderWidthInput=n;this.borderColorInput=o;this.backgroundInput=this._createBackgroundField();this.paddingInput=this._createPaddingField();this.widthInput=s;this.heightInput=c;this.horizontalAlignmentToolbar=d;this.verticalAlignmentToolbar=u;const{saveButtonView:f,cancelButtonView:g}=this._createActionButtons();this.saveButtonView=f;this.cancelButtonView=g;this._focusables=new bp;this._focusCycler=new yb({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});this.children.add(new mR(t,{label:this.t("Cell properties")}));this.children.add(new fR(t,{labelView:r,children:[r,i,o,n],class:"ck-table-form__border-row"}));this.children.add(new fR(t,{children:[this.backgroundInput]}));this.children.add(new fR(t,{children:[new fR(t,{labelView:l,children:[l,s,a,c],class:"ck-table-form__dimensions-row"}),new fR(t,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]}));this.children.add(new fR(t,{labelView:h,children:[h,d,u],class:"ck-table-cell-properties-form__alignment-row"}));this.children.add(new fR(t,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render();Qv({view:this});[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t);this.focusTracker.add(t.element)});this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const t=cR({colorConfig:this.options.borderColors,columns:5});const e=this.locale;const i=this.t;const n=new Mk(e);n.text=i("nb");const o=ZE(i);const r=new HE(e,qE);r.set({label:i("nc"),class:"ck-table-form__border-style"});r.view.buttonView.set({isOn:false,withText:true,tooltip:i("nc")});r.view.buttonView.bind("label").to(this,"borderStyle",t=>o[t?t:"none"]);r.view.on("execute",t=>{this.borderStyle=t.source._borderStyleValue});Ub(r.view,rR(this));const s=new HE(e,WE);s.set({label:i("nd"),class:"ck-table-form__border-width"});s.view.bind("value").to(this,"borderWidth");s.bind("isEnabled").to(this,"borderStyle",CR);s.view.on("input",()=>{this.borderWidth=s.view.element.value});const a=new HE(e,t);a.set({label:i("ne"),class:"ck-table-form__border-color"});a.view.bind("value").to(this,"borderColor");a.bind("isEnabled").to(this,"borderStyle",CR);a.view.on("input",()=>{this.borderColor=a.view.value});this.on("change:borderStyle",(t,e,i)=>{if(!CR(i)){this.borderColor="";this.borderWidth=""}});return{borderRowLabel:n,borderStyleDropdown:r,borderColorInput:a,borderWidthInput:s}}_createBackgroundField(){const t=this.locale;const e=this.t;const i=cR({colorConfig:this.options.backgroundColors,columns:5});const n=new HE(t,i);n.set({label:e("nf"),class:"ck-table-cell-properties-form__background"});n.view.bind("value").to(this,"backgroundColor");n.view.on("input",()=>{this.backgroundColor=n.view.value});return n}_createDimensionFields(){const t=this.locale;const e=this.t;const i=new Mk(t);i.text=e("ng");const n=new HE(t,WE);n.set({label:e("nd"),class:"ck-table-form__dimensions-row__width"});n.view.bind("value").to(this,"width");n.view.on("input",()=>{this.width=n.view.element.value});const o=new Gp(t);o.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"×"}]});const r=new HE(t,WE);r.set({label:e("nh"),class:"ck-table-form__dimensions-row__height"});r.view.bind("value").to(this,"height");r.view.on("input",()=>{this.height=r.view.element.value});return{dimensionsLabel:i,widthInput:n,operatorLabel:o,heightInput:r}}_createPaddingField(){const t=this.locale;const e=this.t;const i=new HE(t,WE);i.set({label:e("ni"),class:"ck-table-cell-properties-form__padding"});i.view.bind("value").to(this,"padding");i.view.on("input",()=>{this.padding=i.view.element.value});return i}_createAlignmentFields(){const t=this.locale;const e=this.t;const i=new Mk(t);i.text=e("nj");const n=new Xb(t);const o=this.locale.contentLanguageDirection==="rtl";n.set({isCompact:true,ariaLabel:e("nk")});sR({view:this,icons:yR,toolbar:n,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:t=>t===(o?"right":"left")?"":t});const r=new Xb(t);r.set({isCompact:true,ariaLabel:e("nl")});sR({view:this,icons:yR,toolbar:r,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",nameToValue:t=>t==="middle"?"":t});return{horizontalAlignmentToolbar:n,verticalAlignmentToolbar:r,alignmentLabel:i}}_createActionButtons(){const t=this.locale;const e=this.t;const i=new hb(t);const n=new hb(t);const o=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];i.set({label:e("lo"),icon:Xv,class:"ck-button-save",type:"submit",withText:true});i.bind("isEnabled").toMany(o,"errorText",(...t)=>t.every(t=>!t));n.set({label:e("lp"),icon:Zv,class:"ck-button-cancel",type:"cancel",withText:true});n.delegate("execute").to(this,"cancel");return{saveButtonView:i,cancelButtonView:n}}get _horizontalAlignmentLabels(){const t=this.locale;const e=this.t;const i=e("nm");const n=e("nn");const o=e("no");const r=e("np");if(t.uiLanguageDirection==="rtl"){return{right:o,center:n,left:i,justify:r}}else{return{left:i,center:n,right:o,justify:r}}}get _verticalAlignmentLabels(){const t=this.t;return{top:t("nq"),middle:t("nr"),bottom:t("ns")}}}function CR(t){return!!t}var AR='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.105 18l-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="M15.5 11.5l1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>';const TR=500;class PR extends mp{static get requires(){return[kb]}static get pluginName(){return"TableCellPropertiesUI"}constructor(t){super(t);t.config.define("table.tableCellProperties",{borderColors:aR,backgroundColors:aR})}init(){const t=this.editor;const e=t.t;this._balloon=t.plugins.get(kb);this.view=this._createPropertiesView();this._undoStepBatch=null;t.ui.componentFactory.add("tableCellProperties",t=>{const i=new hb(t);i.set({label:e("kh"),icon:AR,tooltip:true});this.listenTo(i,"execute",()=>this._showView());return i})}destroy(){super.destroy();this.view.destroy()}_createPropertiesView(){const t=this.editor;const e=t.editing.view.document;const i=t.config.get("table.tableCellProperties");const n=__(i.borderColors);const o=k_(t.locale,n);const r=__(i.backgroundColors);const s=k_(t.locale,r);const a=new xR(t.locale,{borderColors:o,backgroundColors:s});const c=t.t;a.render();this.listenTo(a,"submit",()=>{this._hideView()});this.listenTo(a,"cancel",()=>{if(this._undoStepBatch.operations.length){t.execute("undo",this._undoStepBatch)}this._hideView()});a.keystrokes.set("Esc",(t,e)=>{this._hideView();e()});this.listenTo(t.ui,"update",()=>{if(!nS(e.selection)){this._hideView()}else if(this._isViewVisible){YE(t,"cell")}});Db({emitter:a,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const l=tR(c);const d=eR(c);a.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle"));a.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:a.borderColorInput,commandName:"tableCellBorderColor",errorText:l,validator:iR}));a.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:a.borderWidthInput,commandName:"tableCellBorderWidth",errorText:d,validator:oR}));a.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:a.paddingInput,commandName:"tableCellPadding",errorText:d,validator:nR}));a.on("change:width",this._getValidatedPropertyChangeCallback({viewField:a.widthInput,commandName:"tableCellWidth",errorText:d,validator:nR}));a.on("change:height",this._getValidatedPropertyChangeCallback({viewField:a.heightInput,commandName:"tableCellHeight",errorText:d,validator:nR}));a.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:a.backgroundInput,commandName:"tableCellBackgroundColor",errorText:l,validator:iR}));a.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment"));a.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment"));return a}_fillViewFormFromCommandValues(){const t=this.editor.commands;this.view.set({borderStyle:t.get("tableCellBorderStyle").value||"",borderColor:t.get("tableCellBorderColor").value||"",borderWidth:t.get("tableCellBorderWidth").value||"",width:t.get("tableCellWidth").value||"",height:t.get("tableCellHeight").value||"",padding:t.get("tableCellPadding").value||"",backgroundColor:t.get("tableCellBackgroundColor").value||"",horizontalAlignment:t.get("tableCellHorizontalAlignment").value||"",verticalAlignment:t.get("tableCellVerticalAlignment").value||""})}_showView(){const t=this.editor;this._balloon.add({view:this.view,position:XE(t)});this._undoStepBatch=t.model.createBatch();this._fillViewFormFromCommandValues();this.view.focus()}_hideView(){if(!this._isViewInBalloon){return}const t=this.editor;this.stopListening(t.ui,"update");this.view.saveButtonView.focus();this._balloon.remove(this.view);this.editor.editing.view.focus()}get _isViewVisible(){return this._balloon.visibleView===this.view}get _isViewInBalloon(){return this._balloon.hasView(this.view)}_getPropertyChangeCallback(t){return(e,i,n)=>{this.editor.execute(t,{value:n,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback({commandName:t,viewField:e,validator:i,errorText:n}){const o=uh(()=>{e.errorText=n},TR);return(n,r,s)=>{o.cancel();if(i(s)){this.editor.execute(t,{value:s,batch:this._undoStepBatch});e.errorText=null}else{o()}}}}function SR(t){t.setNormalizer("border",ER);t.setNormalizer("border-top",RR("top"));t.setNormalizer("border-right",RR("right"));t.setNormalizer("border-bottom",RR("bottom"));t.setNormalizer("border-left",RR("left"));t.setNormalizer("border-color",OR("color"));t.setNormalizer("border-width",OR("width"));t.setNormalizer("border-style",OR("style"));t.setNormalizer("border-top-color",VR("color","top"));t.setNormalizer("border-top-style",VR("style","top"));t.setNormalizer("border-top-width",VR("width","top"));t.setNormalizer("border-right-color",VR("color","right"));t.setNormalizer("border-right-style",VR("style","right"));t.setNormalizer("border-right-width",VR("width","right"));t.setNormalizer("border-bottom-color",VR("color","bottom"));t.setNormalizer("border-bottom-style",VR("style","bottom"));t.setNormalizer("border-bottom-width",VR("width","bottom"));t.setNormalizer("border-left-color",VR("color","left"));t.setNormalizer("border-left-style",VR("style","left"));t.setNormalizer("border-left-width",VR("width","left"));t.setExtractor("border-top",NR("top"));t.setExtractor("border-right",NR("right"));t.setExtractor("border-bottom",NR("bottom"));t.setExtractor("border-left",NR("left"));t.setExtractor("border-top-color","border.color.top");t.setExtractor("border-right-color","border.color.right");t.setExtractor("border-bottom-color","border.color.bottom");t.setExtractor("border-left-color","border.color.left");t.setExtractor("border-top-width","border.width.top");t.setExtractor("border-right-width","border.width.right");t.setExtractor("border-bottom-width","border.width.bottom");t.setExtractor("border-left-width","border.width.left");t.setExtractor("border-top-style","border.style.top");t.setExtractor("border-right-style","border.style.right");t.setExtractor("border-bottom-style","border.style.bottom");t.setExtractor("border-left-style","border.style.left");t.setReducer("border-color",pC("border-color"));t.setReducer("border-style",pC("border-style"));t.setReducer("border-width",pC("border-width"));t.setReducer("border-top",LR("top"));t.setReducer("border-right",LR("right"));t.setReducer("border-bottom",LR("bottom"));t.setReducer("border-left",LR("left"));t.setReducer("border",zR);t.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]);t.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]);t.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]);t.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]);t.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]);t.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]);t.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]);t.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function ER(t){const{color:e,style:i,width:n}=BR(t);return{path:"border",value:{color:mC(e),style:mC(i),width:mC(n)}}}function RR(t){return e=>{const{color:i,style:n,width:o}=BR(e);const r={};if(i!==undefined){r.color={[t]:i}}if(n!==undefined){r.style={[t]:n}}if(o!==undefined){r.width={[t]:o}}return{path:"border",value:r}}}function OR(t){return e=>({path:"border",value:IR(e,t)})}function IR(t,e){return{[e]:mC(t)}}function VR(t,e){return i=>({path:"border",value:{[t]:{[e]:i}}})}function NR(t){return(e,i)=>{if(i.border){return MR(i.border,t)}}}function MR(t,e){const i={};if(t.width&&t.width[e]){i.width=t.width[e]}if(t.style&&t.style[e]){i.style=t.style[e]}if(t.color&&t.color[e]){i.color=t.color[e]}return i}function BR(t){const e={};const i=kC(t);for(const t of i){if(oC(t)||/thin|medium|thick/.test(t)){e.width=t}else if(iC(t)){e.style=t}else{e.color=t}}return e}function zR(t){const e=[];e.push(...FR(MR(t,"top"),"top"));e.push(...FR(MR(t,"right"),"right"));e.push(...FR(MR(t,"bottom"),"bottom"));e.push(...FR(MR(t,"left"),"left"));return e}function LR(t){return e=>FR(e,t)}function FR(t,e){const i=[];if(t&&t.width!==undefined){i.push(t.width)}if(t&&t.style!==undefined){i.push(t.style)}if(t&&t.color!==undefined){i.push(t.color)}if(i.length){return[[`border-${e}`,i.join(" ")]]}return[]}function DR(t){t.setNormalizer("padding",wC("padding"));t.setNormalizer("padding-top",t=>({path:"padding.top",value:t}));t.setNormalizer("padding-right",t=>({path:"padding.right",value:t}));t.setNormalizer("padding-bottom",t=>({path:"padding.bottom",value:t}));t.setNormalizer("padding-left",t=>({path:"padding.left",value:t}));t.setReducer("padding",pC("padding"));t.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}function jR(t){t.setNormalizer("background",HR);t.setNormalizer("background-color",t=>({path:"background.color",value:t}));t.setReducer("background",t=>{const e=[];e.push(["background-color",t.color]);return e})}function HR(t){const e={};const i=kC(t);for(const t of i){if(cC(t)){e.repeat=e.repeat||[];e.repeat.push(t)}else if(dC(t)){e.position=e.position||[];e.position.push(t)}else if(hC(t)){e.attachment=t}else if(tC(t)){e.color=t}else if(gC(t)){e.image=t}}return{path:"background",value:e}}function WR(t,e,i,n){t.for("upcast").attributeToAttribute({view:{styles:{[n]:/[\s\S]+/}},model:{name:e,key:i,value:t=>t.getNormalizedStyle(n)}})}function qR(t,e){t.for("upcast").add(t=>t.on("element:"+e,(t,e,i)=>{const n=["border-top","border-right","border-bottom","border-left"].filter(t=>e.viewItem.hasStyle(t));if(!n.length){return}const o={styles:n};if(!i.consumable.test(e.viewItem,o)){return}if(!e.modelRange){e=Object.assign(e,i.convertChildren(e.viewItem,e.modelCursor))}const r=[...e.modelRange.getItems({shallow:true})].pop();i.consumable.consume(e.viewItem,o);i.writer.setAttribute("borderStyle",e.viewItem.getNormalizedStyle("border-style"),r);i.writer.setAttribute("borderColor",e.viewItem.getNormalizedStyle("border-color"),r);i.writer.setAttribute("borderWidth",e.viewItem.getNormalizedStyle("border-width"),r)}))}function UR(t,e,i,n){t.for("downcast").attributeToAttribute({model:{name:e,key:i},view:t=>({key:"style",value:{[n]:t}})})}function $R(t,e,i){t.for("downcast").add(t=>t.on(`attribute:${e}:table`,(t,e,n)=>{const{item:o,attributeNewValue:r}=e;const{mapper:s,writer:a}=n;if(!n.consumable.consume(e.item,t.name)){return}const c=[...s.toViewElement(o).getChildren()].find(t=>t.is("table"));if(r){a.setStyle(i,r,c)}else{a.removeStyle(i,c)}}))}class GR extends jw{constructor(t,e){super(t);this.attributeName=e}refresh(){const t=this.editor;const e=sS(t.model.document.selection);this.isEnabled=!!e.length;this.value=this._getSingleValue(e)}execute(t={}){const{value:e,batch:i}=t;const n=this.editor.model;const o=sS(n.document.selection);const r=this._getValueToSet(e);n.enqueueChange(i||"default",t=>{if(r){o.forEach(e=>t.setAttribute(this.attributeName,r,e))}else{o.forEach(e=>t.removeAttribute(this.attributeName,e))}})}_getAttribute(t){if(!t){return}return t.getAttribute(this.attributeName)}_getValueToSet(t){return t}_getSingleValue(t){const e=this._getAttribute(t[0]);const i=t.every(t=>this._getAttribute(t)===e);return i?e:undefined}}class KR extends GR{constructor(t){super(t,"padding")}_getAttribute(t){if(!t){return}return $P(t.getAttribute(this.attributeName))}_getValueToSet(t){return GP(t,"px")}}class JR extends GR{constructor(t){super(t,"width")}_getValueToSet(t){return GP(t,"px")}}class YR extends GR{constructor(t){super(t,"height")}_getValueToSet(t){return GP(t,"px")}}class QR extends GR{constructor(t){super(t,"backgroundColor")}}class XR extends GR{constructor(t){super(t,"verticalAlignment")}}class ZR extends GR{constructor(t){super(t,"horizontalAlignment")}}class tO extends GR{constructor(t){super(t,"borderStyle")}_getAttribute(t){if(!t){return}return $P(t.getAttribute(this.attributeName))}}class eO extends GR{constructor(t){super(t,"borderColor")}_getAttribute(t){if(!t){return}return $P(t.getAttribute(this.attributeName))}}class iO extends GR{constructor(t){super(t,"borderWidth")}_getAttribute(t){if(!t){return}return $P(t.getAttribute(this.attributeName))}_getValueToSet(t){return GP(t,"px")}}const nO=/^(top|bottom)$/;class oO extends mp{static get pluginName(){return"TableCellPropertiesEditing"}static get requires(){return[wE]}init(){const t=this.editor;const e=t.model.schema;const i=t.conversion;t.data.addStyleProcessorRules(SR);rO(e,i);t.commands.add("tableCellBorderStyle",new tO(t));t.commands.add("tableCellBorderColor",new eO(t));t.commands.add("tableCellBorderWidth",new iO(t));sO(e,i);t.commands.add("tableCellHorizontalAlignment",new ZR(t));cO(e,i,"width","width");t.commands.add("tableCellWidth",new JR(t));cO(e,i,"height","height");t.commands.add("tableCellHeight",new YR(t));t.data.addStyleProcessorRules(DR);cO(e,i,"padding","padding");t.commands.add("tableCellPadding",new KR(t));t.data.addStyleProcessorRules(jR);cO(e,i,"backgroundColor","background-color");t.commands.add("tableCellBackgroundColor",new QR(t));aO(e,i);t.commands.add("tableCellVerticalAlignment",new XR(t))}}function rO(t,e){t.extend("tableCell",{allowAttributes:["borderWidth","borderColor","borderStyle"]});qR(e,"td");qR(e,"th");UR(e,"tableCell","borderStyle","border-style");UR(e,"tableCell","borderColor","border-color");UR(e,"tableCell","borderWidth","border-width")}function sO(t,e){t.extend("tableCell",{allowAttributes:["horizontalAlignment"]});e.attributeToAttribute({model:{name:"tableCell",key:"horizontalAlignment",values:["right","center","justify"]},view:{right:{key:"style",value:{"text-align":"right"}},center:{key:"style",value:{"text-align":"center"}},justify:{key:"style",value:{"text-align":"justify"}}}})}function aO(t,e){t.extend("tableCell",{allowAttributes:["verticalAlignment"]});e.attributeToAttribute({model:{name:"tableCell",key:"verticalAlignment",values:["top","bottom"]},view:{top:{key:"style",value:{"vertical-align":"top"}},bottom:{key:"style",value:{"vertical-align":"bottom"}}}});e.for("upcast").attributeToAttribute({view:{attributes:{valign:nO}},model:{name:"tableCell",key:"verticalAlignment",value:t=>t.getAttribute("valign")}})}function cO(t,e,i,n){t.extend("tableCell",{allowAttributes:[i]});WR(e,"tableCell",i,n);UR(e,"tableCell",i,n)}class lO extends mp{static get pluginName(){return"TableCellProperties"}static get requires(){return[oO,PR]}}class dO extends mp{static get requires(){return[ly]}static get pluginName(){return"TableToolbar"}afterInit(){const t=this.editor;const e=t.t;const i=t.plugins.get(ly);const n=t.config.get("table.contentToolbar");const o=t.config.get("table.tableToolbar");if(n){i.register("tableContent",{ariaLabel:e("iv"),items:n,getRelatedElement:nS})}if(o){i.register("table",{ariaLabel:e("iv"),items:o,getRelatedElement:iS})}}}class uO extends jw{constructor(t,e){super(t);this.attributeName=e}refresh(){const t=this.editor;const e=t.model.document.selection;const i=WP("table",e.getFirstPosition());this.isEnabled=!!i;this.value=this._getValue(i)}execute(t={}){const e=this.editor.model;const i=e.document.selection;const{value:n,batch:o}=t;const r=WP("table",i.getFirstPosition());const s=this._getValueToSet(n);e.enqueueChange(o||"default",t=>{if(s){t.setAttribute(this.attributeName,s,r)}else{t.removeAttribute(this.attributeName,r)}})}_getValue(t){if(!t){return}return t.getAttribute(this.attributeName)}_getValueToSet(t){return t}}class hO extends uO{constructor(t){super(t,"backgroundColor")}}class fO extends uO{constructor(t){super(t,"borderColor")}_getValue(t){if(!t){return}return $P(t.getAttribute(this.attributeName))}}class gO extends uO{constructor(t){super(t,"borderStyle")}_getValue(t){if(!t){return}return $P(t.getAttribute(this.attributeName))}}class mO extends uO{constructor(t){super(t,"borderWidth")}_getValue(t){if(!t){return}return $P(t.getAttribute(this.attributeName))}_getValueToSet(t){return GP(t,"px")}}class pO extends uO{constructor(t){super(t,"width")}_getValueToSet(t){return GP(t,"px")}}class bO extends uO{constructor(t){super(t,"height")}_getValueToSet(t){return GP(t,"px")}}class wO extends uO{constructor(t){super(t,"alignment")}}const kO=/^(left|right)$/;class _O extends mp{static get pluginName(){return"TablePropertiesEditing"}static get requires(){return[wE]}init(){const t=this.editor;const e=t.model.schema;const i=t.conversion;t.data.addStyleProcessorRules(SR);vO(e,i);t.commands.add("tableBorderColor",new fO(t));t.commands.add("tableBorderStyle",new gO(t));t.commands.add("tableBorderWidth",new mO(t));yO(e,i);t.commands.add("tableAlignment",new wO(t));CO(e,i,"width","width");t.commands.add("tableWidth",new pO(t));CO(e,i,"height","height");t.commands.add("tableHeight",new bO(t));t.data.addStyleProcessorRules(jR);xO(e,i,"backgroundColor","background-color");t.commands.add("tableBackgroundColor",new hO(t))}}function vO(t,e){t.extend("table",{allowAttributes:["borderWidth","borderColor","borderStyle"]});qR(e,"table");$R(e,"borderColor","border-color");$R(e,"borderStyle","border-style");$R(e,"borderWidth","border-width")}function yO(t,e){t.extend("table",{allowAttributes:["alignment"]});e.attributeToAttribute({model:{name:"table",key:"alignment",values:["left","right"]},view:{left:{key:"style",value:{float:"left"}},right:{key:"style",value:{float:"right"}}},converterPriority:"high"});e.for("upcast").attributeToAttribute({view:{attributes:{align:kO}},model:{name:"table",key:"alignment",value:t=>t.getAttribute("align")}})}function xO(t,e,i,n){t.extend("table",{allowAttributes:[i]});WR(e,"table",i,n);$R(e,i,n)}function CO(t,e,i,n){t.extend("table",{allowAttributes:[i]});WR(e,"table",i,n);UR(e,"table",i,n)}var AO=i(112);const TO={left:ky,center:_y,right:vy};class PO extends Gp{constructor(t,e){super(t);this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""});this.options=e;const{borderStyleDropdown:i,borderWidthInput:n,borderColorInput:o,borderRowLabel:r}=this._createBorderFields();const{widthInput:s,operatorLabel:a,heightInput:c,dimensionsLabel:l}=this._createDimensionFields();const{alignmentToolbar:d,alignmentLabel:u}=this._createAlignmentFields();this.focusTracker=new fb;this.keystrokes=new dp;this.children=this.createCollection();this.borderStyleDropdown=i;this.borderWidthInput=n;this.borderColorInput=o;this.backgroundInput=this._createBackgroundField();this.widthInput=s;this.heightInput=c;this.alignmentToolbar=d;const{saveButtonView:h,cancelButtonView:f}=this._createActionButtons();this.saveButtonView=h;this.cancelButtonView=f;this._focusables=new bp;this._focusCycler=new yb({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});this.children.add(new mR(t,{label:this.t("Table properties")}));this.children.add(new fR(t,{labelView:r,children:[r,i,o,n],class:"ck-table-form__border-row"}));this.children.add(new fR(t,{children:[this.backgroundInput]}));this.children.add(new fR(t,{children:[new fR(t,{labelView:l,children:[l,s,a,c],class:"ck-table-form__dimensions-row"}),new fR(t,{labelView:u,children:[u,d],class:"ck-table-properties-form__alignment-row"})]}));this.children.add(new fR(t,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render();Qv({view:this});[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t);this.focusTracker.add(t.element)});this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const t=cR({colorConfig:this.options.borderColors,columns:5});const e=this.locale;const i=this.t;const n=new Mk(e);n.text=i("nb");const o=ZE(this.t);const r=new HE(e,qE);r.set({label:i("nc"),class:"ck-table-form__border-style"});r.view.buttonView.set({isOn:false,withText:true,tooltip:i("nc")});r.view.buttonView.bind("label").to(this,"borderStyle",t=>o[t?t:"none"]);r.view.on("execute",t=>{this.borderStyle=t.source._borderStyleValue});Ub(r.view,rR(this));const s=new HE(e,WE);s.set({label:i("nd"),class:"ck-table-form__border-width"});s.view.bind("value").to(this,"borderWidth");s.bind("isEnabled").to(this,"borderStyle",SO);s.view.on("input",()=>{this.borderWidth=s.view.element.value});const a=new HE(e,t);a.set({label:i("ne"),class:"ck-table-form__border-color"});a.view.bind("value").to(this,"borderColor");a.bind("isEnabled").to(this,"borderStyle",SO);a.view.on("input",()=>{this.borderColor=a.view.value});this.on("change:borderStyle",(t,e,i)=>{if(!SO(i)){this.borderColor="";this.borderWidth=""}});return{borderRowLabel:n,borderStyleDropdown:r,borderColorInput:a,borderWidthInput:s}}_createBackgroundField(){const t=cR({colorConfig:this.options.backgroundColors,columns:5});const e=this.locale;const i=this.t;const n=new HE(e,t);n.set({label:i("nf"),class:"ck-table-properties-form__background"});n.view.bind("value").to(this,"backgroundColor");n.view.on("input",()=>{this.backgroundColor=n.view.value});return n}_createDimensionFields(){const t=this.locale;const e=this.t;const i=new Mk(t);i.text=e("ng");const n=new HE(t,WE);n.set({label:e("nd"),class:"ck-table-form__dimensions-row__width"});n.view.bind("value").to(this,"width");n.view.on("input",()=>{this.width=n.view.element.value});const o=new Gp(t);o.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"×"}]});const r=new HE(t,WE);r.set({label:e("nh"),class:"ck-table-form__dimensions-row__height"});r.view.bind("value").to(this,"height");r.view.on("input",()=>{this.height=r.view.element.value});return{dimensionsLabel:i,widthInput:n,operatorLabel:o,heightInput:r}}_createAlignmentFields(){const t=this.locale;const e=this.t;const i=new Mk(t);i.text=e("nt");const n=new Xb(t);n.set({isCompact:true,ariaLabel:e("nu")});sR({view:this,icons:TO,toolbar:n,labels:this._alignmentLabels,propertyName:"alignment",nameToValue:t=>t==="center"?"":t});return{alignmentLabel:i,alignmentToolbar:n}}_createActionButtons(){const t=this.locale;const e=this.t;const i=new hb(t);const n=new hb(t);const o=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];i.set({label:e("lo"),icon:Xv,class:"ck-button-save",type:"submit",withText:true});i.bind("isEnabled").toMany(o,"errorText",(...t)=>t.every(t=>!t));n.set({label:e("lp"),icon:Zv,class:"ck-button-cancel",type:"cancel",withText:true});n.delegate("execute").to(this,"cancel");return{saveButtonView:i,cancelButtonView:n}}get _alignmentLabels(){const t=this.locale;const e=this.t;const i=e("nv");const n=e("nw");const o=e("nx");if(t.uiLanguageDirection==="rtl"){return{right:o,center:n,left:i}}else{return{left:i,center:n,right:o}}}}function SO(t){return!!t}var EO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="M15.5 11.5l1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>';const RO=500;class OO extends mp{static get requires(){return[kb]}static get pluginName(){return"TablePropertiesUI"}constructor(t){super(t);t.config.define("table.tableProperties",{borderColors:aR,backgroundColors:aR})}init(){const t=this.editor;const e=t.t;this._balloon=t.plugins.get(kb);this.view=this._createPropertiesView();this._undoStepBatch=null;t.ui.componentFactory.add("tableProperties",t=>{const i=new hb(t);i.set({label:e("kg"),icon:EO,tooltip:true});this.listenTo(i,"execute",()=>this._showView());return i})}destroy(){super.destroy();this.view.destroy()}_createPropertiesView(){const t=this.editor;const e=t.editing.view.document;const i=t.config.get("table.tableProperties");const n=__(i.borderColors);const o=k_(t.locale,n);const r=__(i.backgroundColors);const s=k_(t.locale,r);const a=new PO(t.locale,{borderColors:o,backgroundColors:s});const c=t.t;a.render();this.listenTo(a,"submit",()=>{this._hideView()});this.listenTo(a,"cancel",()=>{if(this._undoStepBatch.operations.length){t.execute("undo",this._undoStepBatch)}this._hideView()});a.keystrokes.set("Esc",(t,e)=>{this._hideView();e()});this.listenTo(t.ui,"update",()=>{if(!nS(e.selection)){this._hideView()}else if(this._isViewVisible){YE(t,"table")}});Db({emitter:a,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const l=tR(c);const d=eR(c);a.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle"));a.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:a.borderColorInput,commandName:"tableBorderColor",errorText:l,validator:iR}));a.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:a.borderWidthInput,commandName:"tableBorderWidth",errorText:d,validator:oR}));a.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:a.backgroundInput,commandName:"tableBackgroundColor",errorText:l,validator:iR}));a.on("change:width",this._getValidatedPropertyChangeCallback({viewField:a.widthInput,commandName:"tableWidth",errorText:d,validator:nR}));a.on("change:height",this._getValidatedPropertyChangeCallback({viewField:a.heightInput,commandName:"tableHeight",errorText:d,validator:nR}));a.on("change:alignment",this._getPropertyChangeCallback("tableAlignment"));return a}_fillViewFormFromCommandValues(){const t=this.editor.commands;this.view.set({borderStyle:t.get("tableBorderStyle").value||"",borderColor:t.get("tableBorderColor").value||"",borderWidth:t.get("tableBorderWidth").value||"",backgroundColor:t.get("tableBackgroundColor").value||"",width:t.get("tableWidth").value||"",height:t.get("tableHeight").value||"",alignment:t.get("tableAlignment").value||""})}_showView(){const t=this.editor;this._balloon.add({view:this.view,position:QE(t)});this._undoStepBatch=t.model.createBatch();this._fillViewFormFromCommandValues();this.view.focus()}_hideView(){if(!this._isViewInBalloon){return}const t=this.editor;this.stopListening(t.ui,"update");this.view.saveButtonView.focus();this._balloon.remove(this.view);this.editor.editing.view.focus()}get _isViewVisible(){return this._balloon.visibleView===this.view}get _isViewInBalloon(){return this._balloon.hasView(this.view)}_getPropertyChangeCallback(t){return(e,i,n)=>{this.editor.execute(t,{value:n,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback({commandName:t,viewField:e,validator:i,errorText:n}){const o=uh(()=>{e.errorText=n},RO);return(n,r,s)=>{o.cancel();if(i(s)){this.editor.execute(t,{value:s,batch:this._undoStepBatch});e.errorText=null}else{o()}}}}class IO extends mp{static get pluginName(){return"TableProperties"}static get requires(){return[_O,OO]}}const VO="underline";class NO extends mp{static get pluginName(){return"UnderlineEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:VO});t.model.schema.setAttributeProperties(VO,{isFormatting:true,copyOnEnter:true});t.conversion.attributeToElement({model:VO,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}});t.commands.add(VO,new yk(t,VO));t.keystrokes.set("CTRL+U","underline")}}var MO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>';const BO="underline";class zO extends mp{init(){const t=this.editor;const e=t.t;t.ui.componentFactory.add(BO,i=>{const n=t.commands.get(BO);const o=new hb(i);o.set({label:e("jn"),icon:MO,keystroke:"CTRL+U",tooltip:true,isToggleable:true});o.bind("isOn","isEnabled").to(n,"value","isEnabled");this.listenTo(o,"execute",()=>{t.execute(BO);t.editing.view.focus()});return o})}}class LO extends mp{static get requires(){return[NO,zO]}static get pluginName(){return"Underline"}}function*FO(t,e){for(const i of e){if(i&&t.getAttributeProperties(i[0]).copyOnEnter){yield i}}}class DO extends jw{execute(){const t=this.editor.model;const e=t.document;t.change(i=>{jO(this.editor.model,i,e.selection,t.schema);this.fire("afterExecute",{writer:i})})}}function jO(t,e,i,n){const o=i.isCollapsed;const r=i.getFirstRange();const s=r.start.parent;const a=r.end.parent;if(n.isLimit(s)||n.isLimit(a)){if(!o&&s==a){t.deleteContent(i)}return}if(o){const t=FO(e.model.schema,i.getAttributes());HO(e,r.start);e.setSelectionAttribute(t)}else{const n=!(r.start.isAtStart&&r.end.isAtEnd);const o=s==a;t.deleteContent(i,{leaveUnmerged:n});if(n){if(o){HO(e,i.focus)}else{e.setSelection(a,0)}}}}function HO(t,e){t.split(e);t.setSelection(e.parent.nextSibling,0)}class WO extends Gd{constructor(t){super(t);const e=this.document;e.on("keydown",(t,i)=>{if(this.isEnabled&&i.keyCode==Nl.enter){let n;e.once("enter",t=>n=t,{priority:"highest"});e.fire("enter",new Ku(e,i.domEvent,{isSoft:i.shiftKey}));if(n&&n.stop.called){t.stop()}}})}observe(){}}class qO extends mp{static get pluginName(){return"Enter"}init(){const t=this.editor;const e=t.editing.view;const i=e.document;e.addObserver(WO);t.commands.add("enter",new DO(t));this.listenTo(i,"enter",(i,n)=>{n.preventDefault();if(n.isSoft){return}t.execute("enter");e.scrollToTheSelection()},{priority:"low"})}}class UO extends jw{execute(){const t=this.editor.model;const e=t.document;t.change(i=>{GO(t,i,e.selection);this.fire("afterExecute",{writer:i})})}refresh(){const t=this.editor.model;const e=t.document;this.isEnabled=$O(t.schema,e.selection)}}function $O(t,e){if(e.rangeCount>1){return false}const i=e.anchor;if(!i||!t.checkChild(i,"softBreak")){return false}const n=e.getFirstRange();const o=n.start.parent;const r=n.end.parent;if((JO(o,t)||JO(r,t))&&o!==r){return false}return true}function GO(t,e,i){const n=i.isCollapsed;const o=i.getFirstRange();const r=o.start.parent;const s=o.end.parent;const a=r==s;if(n){const n=FO(t.schema,i.getAttributes());KO(t,e,o.end);e.removeSelectionAttribute(i.getAttributeKeys());e.setSelectionAttribute(n)}else{const n=!(o.start.isAtStart&&o.end.isAtEnd);t.deleteContent(i,{leaveUnmerged:n});if(a){KO(t,e,i.focus)}else{if(n){e.setSelection(s,0)}}}}function KO(t,e,i){const n=e.createElement("softBreak");t.insertContent(n,i);e.setSelection(n,"after")}function JO(t,e){if(t.is("rootElement")){return false}return e.isLimit(t)||JO(t.parent,e)}class YO extends mp{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor;const e=t.model.schema;const i=t.conversion;const n=t.editing.view;const o=n.document;e.register("softBreak",{allowWhere:"$text",isInline:true});i.for("upcast").elementToElement({model:"softBreak",view:"br"});i.for("downcast").elementToElement({model:"softBreak",view:(t,e)=>e.createEmptyElement("br")});n.addObserver(WO);t.commands.add("shiftEnter",new UO(t));this.listenTo(o,"enter",(e,i)=>{i.preventDefault();if(!i.isSoft){return}t.execute("shiftEnter");n.scrollToTheSelection()},{priority:"low"})}}const QO=new Map;function XO(t,e,i){let n=QO.get(t);if(!n){n=new Map;QO.set(t,n)}n.set(e,i)}function ZO(t,e){const i=QO.get(t);if(i&&i.has(e)){return i.get(e)}return tI}function tI(t){return[t]}function eI(t,e,i={}){const n=ZO(t.constructor,e.constructor);try{t=t.clone();return n(t,e,i)}catch(t){throw t}}function iI(t,e,i){t=t.slice();e=e.slice();const n=new nI(i.document,i.useRelations,i.forceWeakRemove);n.setOriginalOperations(t);n.setOriginalOperations(e);const o=n.originalOperations;if(t.length==0||e.length==0){return{operationsA:t,operationsB:e,originalOperations:o}}const r=new WeakMap;for(const e of t){r.set(e,0)}const s={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length};let a=0;while(a<t.length){const i=t[a];const o=r.get(i);if(o==e.length){a++;continue}const s=e[o];const c=eI(i,s,n.getContext(i,s,true));const l=eI(s,i,n.getContext(s,i,false));n.updateRelation(i,s);n.setOriginalOperations(c,i);n.setOriginalOperations(l,s);for(const t of c){r.set(t,o+l.length)}t.splice(a,1,...c);e.splice(o,1,...l)}if(i.padWithNoOps){const i=t.length-s.originalOperationsACount;const n=e.length-s.originalOperationsBCount;rI(t,n-i);rI(e,i-n)}oI(t,s.nextBaseVersionB);oI(e,s.nextBaseVersionA);return{operationsA:t,operationsB:e,originalOperations:o}}class nI{constructor(t,e,i=false){this.originalOperations=new Map;this._history=t.history;this._useRelations=e;this._forceWeakRemove=!!i;this._relations=new Map}setOriginalOperations(t,e=null){const i=e?this.originalOperations.get(e):null;for(const e of t){this.originalOperations.set(e,i||e)}}updateRelation(t,e){switch(t.constructor){case Zg:{switch(e.constructor){case om:{if(t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)){this._setRelation(t,e,"insertAtSource")}else if(t.targetPosition.isEqual(e.deletionPosition)){this._setRelation(t,e,"insertBetween")}else if(t.targetPosition.isAfter(e.sourcePosition)){this._setRelation(t,e,"moveTargetAfter")}break}case Zg:{if(t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)){this._setRelation(t,e,"insertBefore")}else{this._setRelation(t,e,"insertAfter")}break}}break}case rm:{switch(e.constructor){case om:{if(t.splitPosition.isBefore(e.sourcePosition)){this._setRelation(t,e,"splitBefore")}break}case Zg:{if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition)){this._setRelation(t,e,"splitBefore")}break}}break}case om:{switch(e.constructor){case om:{if(!t.targetPosition.isEqual(e.sourcePosition)){this._setRelation(t,e,"mergeTargetNotMoved")}if(t.sourcePosition.isEqual(e.targetPosition)){this._setRelation(t,e,"mergeSourceNotMoved")}if(t.sourcePosition.isEqual(e.sourcePosition)){this._setRelation(t,e,"mergeSameElement")}break}case rm:{if(t.sourcePosition.isEqual(e.splitPosition)){this._setRelation(t,e,"splitAtSource")}}}break}case em:{const i=t.newRange;if(!i){return}switch(e.constructor){case Zg:{const n=$h._createFromPositionAndShift(e.sourcePosition,e.howMany);const o=n.containsPosition(i.start)||n.start.isEqual(i.start);const r=n.containsPosition(i.end)||n.end.isEqual(i.end);if((o||r)&&!n.containsRange(i)){this._setRelation(t,e,{side:o?"left":"right",path:o?i.start.path.slice():i.end.path.slice()})}break}case om:{const n=i.start.isEqual(e.targetPosition);const o=i.start.isEqual(e.deletionPosition);const r=i.end.isEqual(e.deletionPosition);const s=i.end.isEqual(e.sourcePosition);if(n||o||r||s){this._setRelation(t,e,{wasInLeftElement:n,wasStartBeforeMergedElement:o,wasEndBeforeMergedElement:r,wasInRightElement:s})}break}}break}}}getContext(t,e,i){return{aIsStrong:i,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const i=this.originalOperations.get(e);const n=this._history.getUndoneOperation(i);if(!n){return null}const o=this.originalOperations.get(t);const r=this._relations.get(o);if(r){return r.get(n)||null}return null}_setRelation(t,e,i){const n=this.originalOperations.get(t);const o=this.originalOperations.get(e);let r=this._relations.get(n);if(!r){r=new Map;this._relations.set(n,r)}r.set(o,i)}}function oI(t,e){for(const i of t){i.baseVersion=e++}}function rI(t,e){for(let i=0;i<e;i++){t.push(new Sm(0))}}XO(Qg,Qg,(t,e,i)=>{if(t.key===e.key){const n=t.range.getDifference(e.range).map(e=>new Qg(e,t.key,t.oldValue,t.newValue,0));const o=t.range.getIntersection(e.range);if(o){if(i.aIsStrong){n.push(new Qg(o,e.key,e.newValue,t.newValue,0))}}if(n.length==0){return[new Sm(0)]}return n}else{return[t]}});XO(Qg,tm,(t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const i=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes);const n=i.map(e=>new Qg(e,t.key,t.oldValue,t.newValue,t.baseVersion));if(e.shouldReceiveAttributes){const i=sI(e,t.key,t.oldValue);if(i){n.unshift(i)}}return n}t.range=t.range._getTransformedByInsertion(e.position,e.howMany,false)[0];return[t]});function sI(t,e,i){const n=t.nodes;const o=n.getNode(0).getAttribute(e);if(o==i){return null}const r=new $h(t.position,t.position.getShiftedBy(t.howMany));return new Qg(r,e,o,i,0)}XO(Qg,om,(t,e)=>{const i=[];if(t.range.start.hasSameParentAs(e.deletionPosition)){if(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition)){i.push($h._createFromPositionAndShift(e.graveyardPosition,1))}}const n=t.range._getTransformedByMergeOperation(e);if(!n.isCollapsed){i.push(n)}return i.map(e=>new Qg(e,t.key,t.oldValue,t.newValue,t.baseVersion))});XO(Qg,Zg,(t,e)=>{const i=aI(t.range,e);return i.map(e=>new Qg(e,t.key,t.oldValue,t.newValue,t.baseVersion))});function aI(t,e){const i=$h._createFromPositionAndShift(e.sourcePosition,e.howMany);let n=null;let o=[];if(i.containsRange(t,true)){n=t}else if(t.start.hasSameParentAs(i.start)){o=t.getDifference(i);n=t.getIntersection(i)}else{o=[t]}const r=[];for(let t of o){t=t._getTransformedByDeletion(e.sourcePosition,e.howMany);const i=e.getMovedRangeStart();const n=t.start.hasSameParentAs(i);t=t._getTransformedByInsertion(i,e.howMany,n);r.push(...t)}if(n){r.push(n._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,false)[0])}return r}XO(Qg,rm,(t,e)=>{if(t.range.end.isEqual(e.insertionPosition)){if(!e.graveyardPosition){t.range.end.offset++}return[t]}if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const i=t.clone();i.range=new $h(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition));t.range.end=e.splitPosition.clone();t.range.end.stickiness="toPrevious";return[t,i]}t.range=t.range._getTransformedBySplitOperation(e);return[t]});XO(tm,Qg,(t,e)=>{const i=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const n=sI(t,e.key,e.newValue);if(n){i.push(n)}}return i});XO(tm,tm,(t,e,i)=>{if(t.position.isEqual(e.position)&&i.aIsStrong){return[t]}t.position=t.position._getTransformedByInsertOperation(e);return[t]});XO(tm,Zg,(t,e)=>{t.position=t.position._getTransformedByMoveOperation(e);return[t]});XO(tm,rm,(t,e)=>{t.position=t.position._getTransformedBySplitOperation(e);return[t]});XO(tm,om,(t,e)=>{t.position=t.position._getTransformedByMergeOperation(e);return[t]});XO(em,tm,(t,e)=>{if(t.oldRange){t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]}if(t.newRange){t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]}return[t]});XO(em,em,(t,e,i)=>{if(t.name==e.name){if(i.aIsStrong){t.oldRange=e.newRange?e.newRange.clone():null}else{return[new Sm(0)]}}return[t]});XO(em,om,(t,e)=>{if(t.oldRange){t.oldRange=t.oldRange._getTransformedByMergeOperation(e)}if(t.newRange){t.newRange=t.newRange._getTransformedByMergeOperation(e)}return[t]});XO(em,Zg,(t,e,i)=>{if(t.oldRange){t.oldRange=$h._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))}if(t.newRange){if(i.abRelation){const n=$h._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if(i.abRelation.side=="left"&&e.targetPosition.isEqual(t.newRange.start)){t.newRange.start.path=i.abRelation.path;t.newRange.end=n.end;return[t]}else if(i.abRelation.side=="right"&&e.targetPosition.isEqual(t.newRange.end)){t.newRange.start=n.start;t.newRange.end.path=i.abRelation.path;return[t]}}t.newRange=$h._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]});XO(em,rm,(t,e,i)=>{if(t.oldRange){t.oldRange=t.oldRange._getTransformedBySplitOperation(e)}if(t.newRange){if(i.abRelation){const n=t.newRange._getTransformedBySplitOperation(e);if(t.newRange.start.isEqual(e.splitPosition)&&i.abRelation.wasStartBeforeMergedElement){t.newRange.start=Uh._createAt(e.insertionPosition)}else if(t.newRange.start.isEqual(e.splitPosition)&&!i.abRelation.wasInLeftElement){t.newRange.start=Uh._createAt(e.moveTargetPosition)}if(t.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasInRightElement){t.newRange.end=Uh._createAt(e.moveTargetPosition)}else if(t.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasEndBeforeMergedElement){t.newRange.end=Uh._createAt(e.insertionPosition)}else{t.newRange.end=n.end}return[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]});XO(om,tm,(t,e)=>{if(t.sourcePosition.hasSameParentAs(e.position)){t.howMany+=e.howMany}t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e);t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e);return[t]});XO(om,om,(t,e,i)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(!i.bWasUndone){return[new Sm(0)]}else{const i=e.graveyardPosition.path.slice();i.push(0);t.sourcePosition=new Uh(e.graveyardPosition.root,i);t.howMany=0;return[t]}}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!i.bWasUndone&&i.abRelation!="splitAtSource"){const n=t.targetPosition.root.rootName=="$graveyard";const o=e.targetPosition.root.rootName=="$graveyard";const r=n&&!o;const s=o&&!n;const a=s||!r&&i.aIsStrong;if(a){const i=e.targetPosition._getTransformedByMergeOperation(e);const n=t.targetPosition._getTransformedByMergeOperation(e);return[new Zg(i,t.howMany,n,0)]}else{return[new Sm(0)]}}if(t.sourcePosition.hasSameParentAs(e.targetPosition)){t.howMany+=e.howMany}t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e);t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e);if(!t.graveyardPosition.isEqual(e.graveyardPosition)||!i.aIsStrong){t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)}return[t]});XO(om,Zg,(t,e,i)=>{const n=$h._createFromPositionAndShift(e.sourcePosition,e.howMany);if(e.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove){if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.sourcePosition)){return[new Sm(0)]}}if(t.sourcePosition.hasSameParentAs(e.targetPosition)){t.howMany+=e.howMany}if(t.sourcePosition.hasSameParentAs(e.sourcePosition)){t.howMany-=e.howMany}t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e);t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e);if(!t.graveyardPosition.isEqual(e.targetPosition)){t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}return[t]});XO(om,rm,(t,e,i)=>{if(e.graveyardPosition){t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1);if(t.deletionPosition.isEqual(e.graveyardPosition)){t.howMany=e.howMany}}if(t.targetPosition.isEqual(e.splitPosition)){const n=e.howMany!=0;const o=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(n||o||i.abRelation=="mergeTargetNotMoved"){t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e);return[t]}}if(t.sourcePosition.isEqual(e.splitPosition)){if(i.abRelation=="mergeSourceNotMoved"){t.howMany=0;t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e);return[t]}if(i.abRelation=="mergeSameElement"||t.sourcePosition.offset>0){t.sourcePosition=e.moveTargetPosition.clone();t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e);return[t]}}if(t.sourcePosition.hasSameParentAs(e.splitPosition)){t.howMany=e.splitPosition.offset}t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e);t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e);return[t]});XO(Zg,tm,(t,e)=>{const i=$h._createFromPositionAndShift(t.sourcePosition,t.howMany);const n=i._getTransformedByInsertOperation(e,false)[0];t.sourcePosition=n.start;t.howMany=n.end.offset-n.start.offset;if(!t.targetPosition.isEqual(e.position)){t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)}return[t]});XO(Zg,Zg,(t,e,i)=>{const n=$h._createFromPositionAndShift(t.sourcePosition,t.howMany);const o=$h._createFromPositionAndShift(e.sourcePosition,e.howMany);let r=i.aIsStrong;let s=!i.aIsStrong;if(i.abRelation=="insertBefore"||i.baRelation=="insertAfter"){s=true}else if(i.abRelation=="insertAfter"||i.baRelation=="insertBefore"){s=false}let a;if(t.targetPosition.isEqual(e.targetPosition)&&s){a=t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}else{a=t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}if(cI(t,e)&&cI(e,t)){return[e.getReversed()]}const c=n.containsPosition(e.targetPosition);if(c&&n.containsRange(o,true)){n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany);n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany);return lI([n],a)}const l=o.containsPosition(t.targetPosition);if(l&&o.containsRange(n,true)){n.start=n.start._getCombined(e.sourcePosition,e.getMovedRangeStart());n.end=n.end._getCombined(e.sourcePosition,e.getMovedRangeStart());return lI([n],a)}const d=Vs(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(d=="prefix"||d=="extension"){n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany);n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany);return lI([n],a)}if(t.type=="remove"&&e.type!="remove"&&!i.aWasUndone&&!i.forceWeakRemove){r=true}else if(t.type!="remove"&&e.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove){r=false}const u=[];const h=n.getDifference(o);for(const t of h){t.start=t.start._getTransformedByDeletion(e.sourcePosition,e.howMany);t.end=t.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const i=Vs(t.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same";const n=t._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,i);u.push(...n)}const f=n.getIntersection(o);if(f!==null&&r){f.start=f.start._getCombined(e.sourcePosition,e.getMovedRangeStart());f.end=f.end._getCombined(e.sourcePosition,e.getMovedRangeStart());if(u.length===0){u.push(f)}else if(u.length==1){if(o.start.isBefore(n.start)||o.start.isEqual(n.start)){u.unshift(f)}else{u.push(f)}}else{u.splice(1,0,f)}}if(u.length===0){return[new Sm(t.baseVersion)]}return lI(u,a)});XO(Zg,rm,(t,e,i)=>{let n=t.targetPosition.clone();if(!t.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||i.abRelation=="moveTargetAfter"){n=t.targetPosition._getTransformedBySplitOperation(e)}const o=$h._createFromPositionAndShift(t.sourcePosition,t.howMany);if(o.end.isEqual(e.insertionPosition)){if(!e.graveyardPosition){t.howMany++}t.targetPosition=n;return[t]}if(o.start.hasSameParentAs(e.splitPosition)&&o.containsPosition(e.splitPosition)){let t=new $h(e.splitPosition,o.end);t=t._getTransformedBySplitOperation(e);const i=[new $h(o.start,e.splitPosition),t];return lI(i,n)}if(t.targetPosition.isEqual(e.splitPosition)&&i.abRelation=="insertAtSource"){n=e.moveTargetPosition}if(t.targetPosition.isEqual(e.insertionPosition)&&i.abRelation=="insertBetween"){n=t.targetPosition}const r=o._getTransformedBySplitOperation(e);const s=[r];if(e.graveyardPosition){const n=o.start.isEqual(e.graveyardPosition)||o.containsPosition(e.graveyardPosition);if(t.howMany>1&&n&&!i.aWasUndone){s.push($h._createFromPositionAndShift(e.insertionPosition,1))}}return lI(s,n)});XO(Zg,om,(t,e,i)=>{const n=$h._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.sourcePosition)){if(t.type=="remove"&&!i.forceWeakRemove){if(!i.aWasUndone){const i=[];let n=e.graveyardPosition.clone();let o=e.targetPosition._getTransformedByMergeOperation(e);if(t.howMany>1){i.push(new Zg(t.sourcePosition,t.howMany-1,t.targetPosition,0));n=n._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1);o=o._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1)}const r=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition);const s=new Zg(n,1,r,0);const a=s.getMovedRangeStart().path.slice();a.push(0);const c=new Uh(s.targetPosition.root,a);o=o._getTransformedByMove(n,r,1);const l=new Zg(o,e.howMany,c,0);i.push(s);i.push(l);return i}}else{if(t.howMany==1){if(!i.bWasUndone){return[new Sm(0)]}else{t.sourcePosition=e.graveyardPosition.clone();t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e);return[t]}}}}const o=$h._createFromPositionAndShift(t.sourcePosition,t.howMany);const r=o._getTransformedByMergeOperation(e);t.sourcePosition=r.start;t.howMany=r.end.offset-r.start.offset;t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e);return[t]});XO(im,tm,(t,e)=>{t.position=t.position._getTransformedByInsertOperation(e);return[t]});XO(im,om,(t,e)=>{if(t.position.isEqual(e.deletionPosition)){t.position=e.graveyardPosition.clone();t.position.stickiness="toNext";return[t]}t.position=t.position._getTransformedByMergeOperation(e);return[t]});XO(im,Zg,(t,e)=>{t.position=t.position._getTransformedByMoveOperation(e);return[t]});XO(im,im,(t,e,i)=>{if(t.position.isEqual(e.position)){if(i.aIsStrong){t.oldName=e.newName}else{return[new Sm(0)]}}return[t]});XO(im,rm,(t,e)=>{const i=t.position.path;const n=e.splitPosition.getParentPath();if(Vs(i,n)=="same"&&!e.graveyardPosition){const e=new im(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,e]}t.position=t.position._getTransformedBySplitOperation(e);return[t]});XO(nm,nm,(t,e,i)=>{if(t.root===e.root&&t.key===e.key){if(!i.aIsStrong||t.newValue===e.newValue){return[new Sm(0)]}else{t.oldValue=e.newValue}}return[t]});XO(rm,tm,(t,e)=>{if(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset){t.howMany+=e.howMany}t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e);t.insertionPosition=rm.getInsertionPosition(t.splitPosition);return[t]});XO(rm,om,(t,e,i)=>{if(!t.graveyardPosition&&!i.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const i=e.graveyardPosition.path.slice();i.push(0);const n=new Uh(e.graveyardPosition.root,i);const o=rm.getInsertionPosition(new Uh(e.graveyardPosition.root,i));const r=new rm(n,0,null,0);r.insertionPosition=o;t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e);t.insertionPosition=rm.getInsertionPosition(t.splitPosition);t.graveyardPosition=r.insertionPosition.clone();t.graveyardPosition.stickiness="toNext";return[r,t]}if(t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)){t.howMany--}if(t.splitPosition.hasSameParentAs(e.targetPosition)){t.howMany+=e.howMany}t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e);t.insertionPosition=rm.getInsertionPosition(t.splitPosition);if(t.graveyardPosition){t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)}return[t]});XO(rm,Zg,(t,e,i)=>{const n=$h._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const o=n.start.isEqual(t.graveyardPosition)||n.containsPosition(t.graveyardPosition);if(!i.bWasUndone&&o){const i=t.splitPosition._getTransformedByMoveOperation(e);const n=t.graveyardPosition._getTransformedByMoveOperation(e);const o=n.path.slice();o.push(0);const r=new Uh(n.root,o);const s=new Zg(i,t.howMany,r,0);return[s]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.splitPosition)){const i=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);t.howMany-=i;if(t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset){t.howMany+=e.howMany}t.splitPosition=e.sourcePosition.clone();t.insertionPosition=rm.getInsertionPosition(t.splitPosition);return[t]}const o=t.splitPosition.isEqual(e.targetPosition);if(o&&(i.baRelation=="insertAtSource"||i.abRelation=="splitBefore")){t.howMany+=e.howMany;t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany);t.insertionPosition=rm.getInsertionPosition(t.splitPosition);return[t]}if(!e.sourcePosition.isEqual(e.targetPosition)){if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset){t.howMany-=e.howMany}if(t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset){t.howMany+=e.howMany}}t.splitPosition.stickiness="toNone";t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e);t.splitPosition.stickiness="toNext";if(t.graveyardPosition){t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e)}else{t.insertionPosition=rm.getInsertionPosition(t.splitPosition)}return[t]});XO(rm,rm,(t,e,i)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition){return[new Sm(0)]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){return[new Sm(0)]}if(i.abRelation=="splitBefore"){t.howMany=0;t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e);return[t]}}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const n=t.splitPosition.root.rootName=="$graveyard";const o=e.splitPosition.root.rootName=="$graveyard";const r=n&&!o;const s=o&&!n;const a=s||!r&&i.aIsStrong;if(a){const i=[];if(e.howMany){i.push(new Zg(e.moveTargetPosition,e.howMany,e.splitPosition,0))}if(t.howMany){i.push(new Zg(t.splitPosition,t.howMany,t.moveTargetPosition,0))}return i}else{return[new Sm(0)]}}if(t.graveyardPosition){t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)}if(t.splitPosition.isEqual(e.insertionPosition)&&i.abRelation=="splitBefore"){t.howMany++;return[t]}if(e.splitPosition.isEqual(t.insertionPosition)&&i.baRelation=="splitBefore"){const i=e.insertionPosition.path.slice();i.push(0);const n=new Uh(e.insertionPosition.root,i);const o=new Zg(t.insertionPosition,1,n,0);return[t,o]}if(t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset){t.howMany-=e.howMany}t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e);t.insertionPosition=rm.getInsertionPosition(t.splitPosition);return[t]});function cI(t,e){return t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function lI(t,e){const i=[];for(let n=0;n<t.length;n++){const o=t[n];const r=new Zg(o.start,o.end.offset-o.start.offset,e,0);i.push(r);for(let e=n+1;e<t.length;e++){t[e]=t[e]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0]}e=e._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return i}class dI extends jw{constructor(t){super(t);this._stack=[];this._createdBatches=new WeakSet;this.refresh()}refresh(){this.isEnabled=this._stack.length>0}addBatch(t){const e=this.editor.model.document.selection;const i={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:i});this.refresh()}clearStack(){this._stack=[];this.refresh()}_restoreSelection(t,e,i){const n=this.editor.model;const o=n.document;const r=[];for(const e of t){const t=uI(e,i);const n=t.find(t=>t.start.root!=o.graveyard);if(n){r.push(n)}}if(r.length){n.change(t=>{t.setSelection(r,{backward:e})})}}_undo(t,e){const i=this.editor.model;const n=i.document;this._createdBatches.add(e);const o=t.operations.slice().filter(t=>t.isDocumentOperation);o.reverse();for(const t of o){const o=t.baseVersion+1;const r=Array.from(n.history.getOperations(o));const s=iI([t.getReversed()],r,{useRelations:true,document:this.editor.model.document,padWithNoOps:false,forceWeakRemove:true});const a=s.operationsA;for(const o of a){e.addOperation(o);i.applyOperation(o);n.history.setOperationAsUndone(t,o)}}}}function uI(t,e){const i=t.getTransformedByOperations(e);i.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let t=1;t<i.length;t++){const e=i[t-1];const n=i[t];if(e.end.isTouching(n.start)){e.end=n.end;i.splice(t,1);t--}}return i}class hI extends dI{execute(t=null){const e=t?this._stack.findIndex(e=>e.batch==t):this._stack.length-1;const i=this._stack.splice(e,1)[0];const n=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(n,()=>{this._undo(i.batch,n);const t=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,t);this.fire("revert",i.batch,n)});this.refresh()}}class fI extends dI{execute(){const t=this._stack.pop();const e=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(e,()=>{const i=t.batch.operations[t.batch.operations.length-1];const n=i.baseVersion+1;const o=this.editor.model.document.history.getOperations(n);this._restoreSelection(t.selection.ranges,t.selection.isBackward,o);this._undo(t.batch,e)});this.refresh()}}class gI extends mp{static get pluginName(){return"UndoEditing"}constructor(t){super(t);this._batchRegistry=new WeakSet}init(){const t=this.editor;this._undoCommand=new hI(t);this._redoCommand=new fI(t);t.commands.add("undo",this._undoCommand);t.commands.add("redo",this._redoCommand);this.listenTo(t.model,"applyOperation",(t,e)=>{const i=e[0];if(!i.isDocumentOperation){return}const n=i.batch;const o=this._redoCommand._createdBatches.has(n);const r=this._undoCommand._createdBatches.has(n);const s=this._batchRegistry.has(n);if(s||n.type=="transparent"&&!o&&!r){return}else{if(o){this._undoCommand.addBatch(n)}else if(!r){this._undoCommand.addBatch(n);this._redoCommand.clearStack()}}this._batchRegistry.add(n)},{priority:"highest"});this.listenTo(this._undoCommand,"revert",(t,e,i)=>{this._redoCommand.addBatch(i)});t.keystrokes.set("CTRL+Z","undo");t.keystrokes.set("CTRL+Y","redo");t.keystrokes.set("CTRL+SHIFT+Z","redo")}}var mI='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>';var pI='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class bI extends mp{init(){const t=this.editor;const e=t.locale;const i=t.t;const n=e.uiLanguageDirection=="ltr"?mI:pI;const o=e.uiLanguageDirection=="ltr"?pI:mI;this._addButton("undo",i("mo"),"CTRL+Z",n);this._addButton("redo",i("mp"),"CTRL+Y",o)}_addButton(t,e,i,n){const o=this.editor;o.ui.componentFactory.add(t,r=>{const s=o.commands.get(t);const a=new hb(r);a.set({label:e,icon:n,keystroke:i,tooltip:true});a.bind("isEnabled").to(s,"isEnabled");this.listenTo(a,"execute",()=>{o.execute(t);o.editing.view.focus()});return a})}}class wI extends mp{static get requires(){return[gI,bI]}static get pluginName(){return"Undo"}}class kI extends mp{static get requires(){return[Rx,qO,YO,cP,wI]}static get pluginName(){return"Essentials"}}class _I extends Fw{}_I.builtinPlugins=[rk,uk,vk,Sk,r_,p_,A_,R_,W_,bv,cy,fy,Ry,Ky,zx,Wx,vC,PC,tT,zT,WT,wP,CP,vP,kP,yP,_P,xP,RP,BP,HP,DE,lO,dO,IO,LO,kI,V_]}])["default"]}));

},{}],2:[function(require,module,exports){
var css = ".container,\n.container-fluid {\n  margin-right: auto;\n  margin-left: auto;\n}\n.container-fluid {\n  padding-right: 2rem;\n  padding-left: 2rem;\n}\n.row {\n  box-sizing: border-box;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 0;\n  -ms-flex: 0 1 auto;\n  flex: 0 1 auto;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: row;\n  flex-direction: row;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  margin-right: -.5rem;\n  margin-left: -.5rem;\n}\n.row.reverse {\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: reverse;\n  -ms-flex-direction: row-reverse;\n  flex-direction: row-reverse;\n}\n.col.reverse {\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: reverse;\n  -ms-flex-direction: column-reverse;\n  flex-direction: column-reverse;\n}\n.col-xs,\n.col-xs-1,\n.col-xs-10,\n.col-xs-11,\n.col-xs-12,\n.col-xs-2,\n.col-xs-3,\n.col-xs-4,\n.col-xs-5,\n.col-xs-6,\n.col-xs-7,\n.col-xs-8,\n.col-xs-9,\n.col-xs-offset-0,\n.col-xs-offset-1,\n.col-xs-offset-10,\n.col-xs-offset-11,\n.col-xs-offset-12,\n.col-xs-offset-2,\n.col-xs-offset-3,\n.col-xs-offset-4,\n.col-xs-offset-5,\n.col-xs-offset-6,\n.col-xs-offset-7,\n.col-xs-offset-8,\n.col-xs-offset-9 {\n  box-sizing: border-box;\n  -webkit-box-flex: 0;\n  -ms-flex: 0 0 auto;\n  flex: 0 0 auto;\n  padding-right: .5rem;\n  padding-left: .5rem;\n}\n.col-xs {\n  -webkit-box-flex: 1;\n  -ms-flex-positive: 1;\n  flex-grow: 1;\n  -ms-flex-preferred-size: 0;\n  flex-basis: 0;\n  max-width: 100%;\n}\n.col-xs-1 {\n  -ms-flex-preferred-size: 8.33333333%;\n  flex-basis: 8.33333333%;\n  max-width: 8.33333333%;\n}\n.col-xs-2 {\n  -ms-flex-preferred-size: 16.66666667%;\n  flex-basis: 16.66666667%;\n  max-width: 16.66666667%;\n}\n.col-xs-3 {\n  -ms-flex-preferred-size: 25%;\n  flex-basis: 25%;\n  max-width: 25%;\n}\n.col-xs-4 {\n  -ms-flex-preferred-size: 33.33333333%;\n  flex-basis: 33.33333333%;\n  max-width: 33.33333333%;\n}\n.col-xs-5 {\n  -ms-flex-preferred-size: 41.66666667%;\n  flex-basis: 41.66666667%;\n  max-width: 41.66666667%;\n}\n.col-xs-6 {\n  -ms-flex-preferred-size: 50%;\n  flex-basis: 50%;\n  max-width: 50%;\n}\n.col-xs-7 {\n  -ms-flex-preferred-size: 58.33333333%;\n  flex-basis: 58.33333333%;\n  max-width: 58.33333333%;\n}\n.col-xs-8 {\n  -ms-flex-preferred-size: 66.66666667%;\n  flex-basis: 66.66666667%;\n  max-width: 66.66666667%;\n}\n.col-xs-9 {\n  -ms-flex-preferred-size: 75%;\n  flex-basis: 75%;\n  max-width: 75%;\n}\n.col-xs-10 {\n  -ms-flex-preferred-size: 83.33333333%;\n  flex-basis: 83.33333333%;\n  max-width: 83.33333333%;\n}\n.col-xs-11 {\n  -ms-flex-preferred-size: 91.66666667%;\n  flex-basis: 91.66666667%;\n  max-width: 91.66666667%;\n}\n.col-xs-12 {\n  -ms-flex-preferred-size: 100%;\n  flex-basis: 100%;\n  max-width: 100%;\n}\n.col-xs-offset-0 {\n  margin-left: 0;\n}\n.col-xs-offset-1 {\n  margin-left: 8.33333333%;\n}\n.col-xs-offset-2 {\n  margin-left: 16.66666667%;\n}\n.col-xs-offset-3 {\n  margin-left: 25%;\n}\n.col-xs-offset-4 {\n  margin-left: 33.33333333%;\n}\n.col-xs-offset-5 {\n  margin-left: 41.66666667%;\n}\n.col-xs-offset-6 {\n  margin-left: 50%;\n}\n.col-xs-offset-7 {\n  margin-left: 58.33333333%;\n}\n.col-xs-offset-8 {\n  margin-left: 66.66666667%;\n}\n.col-xs-offset-9 {\n  margin-left: 75%;\n}\n.col-xs-offset-10 {\n  margin-left: 83.33333333%;\n}\n.col-xs-offset-11 {\n  margin-left: 91.66666667%;\n}\n.start-xs {\n  -webkit-box-pack: start;\n  -ms-flex-pack: start;\n  justify-content: flex-start;\n  text-align: start;\n}\n.center-xs {\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  text-align: center;\n}\n.end-xs {\n  -webkit-box-pack: end;\n  -ms-flex-pack: end;\n  justify-content: flex-end;\n  text-align: end;\n}\n.top-xs {\n  -webkit-box-align: start;\n  -ms-flex-align: start;\n  align-items: flex-start;\n}\n.middle-xs {\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n.bottom-xs {\n  -webkit-box-align: end;\n  -ms-flex-align: end;\n  align-items: flex-end;\n}\n.around-xs {\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n}\n.between-xs {\n  -webkit-box-pack: justify;\n  -ms-flex-pack: justify;\n  justify-content: space-between;\n}\n.first-xs {\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n}\n.last-xs {\n  -webkit-box-ordinal-group: 2;\n  -ms-flex-order: 1;\n  order: 1;\n}\n@media only screen and (min-width:48em) {\n  .container {\n    width: 49rem;\n  }\n\n  .col-sm,\n  .col-sm-1,\n  .col-sm-10,\n  .col-sm-11,\n  .col-sm-12,\n  .col-sm-2,\n  .col-sm-3,\n  .col-sm-4,\n  .col-sm-5,\n  .col-sm-6,\n  .col-sm-7,\n  .col-sm-8,\n  .col-sm-9,\n  .col-sm-offset-0,\n  .col-sm-offset-1,\n  .col-sm-offset-10,\n  .col-sm-offset-11,\n  .col-sm-offset-12,\n  .col-sm-offset-2,\n  .col-sm-offset-3,\n  .col-sm-offset-4,\n  .col-sm-offset-5,\n  .col-sm-offset-6,\n  .col-sm-offset-7,\n  .col-sm-offset-8,\n  .col-sm-offset-9 {\n    box-sizing: border-box;\n    -webkit-box-flex: 0;\n    -ms-flex: 0 0 auto;\n    flex: 0 0 auto;\n    padding-right: .5rem;\n    padding-left: .5rem;\n  }\n\n  .col-sm {\n    -webkit-box-flex: 1;\n    -ms-flex-positive: 1;\n    flex-grow: 1;\n    -ms-flex-preferred-size: 0;\n    flex-basis: 0;\n    max-width: 100%;\n  }\n\n  .col-sm-1 {\n    -ms-flex-preferred-size: 8.33333333%;\n    flex-basis: 8.33333333%;\n    max-width: 8.33333333%;\n  }\n\n  .col-sm-2 {\n    -ms-flex-preferred-size: 16.66666667%;\n    flex-basis: 16.66666667%;\n    max-width: 16.66666667%;\n  }\n\n  .col-sm-3 {\n    -ms-flex-preferred-size: 25%;\n    flex-basis: 25%;\n    max-width: 25%;\n  }\n\n  .col-sm-4 {\n    -ms-flex-preferred-size: 33.33333333%;\n    flex-basis: 33.33333333%;\n    max-width: 33.33333333%;\n  }\n\n  .col-sm-5 {\n    -ms-flex-preferred-size: 41.66666667%;\n    flex-basis: 41.66666667%;\n    max-width: 41.66666667%;\n  }\n\n  .col-sm-6 {\n    -ms-flex-preferred-size: 50%;\n    flex-basis: 50%;\n    max-width: 50%;\n  }\n\n  .col-sm-7 {\n    -ms-flex-preferred-size: 58.33333333%;\n    flex-basis: 58.33333333%;\n    max-width: 58.33333333%;\n  }\n\n  .col-sm-8 {\n    -ms-flex-preferred-size: 66.66666667%;\n    flex-basis: 66.66666667%;\n    max-width: 66.66666667%;\n  }\n\n  .col-sm-9 {\n    -ms-flex-preferred-size: 75%;\n    flex-basis: 75%;\n    max-width: 75%;\n  }\n\n  .col-sm-10 {\n    -ms-flex-preferred-size: 83.33333333%;\n    flex-basis: 83.33333333%;\n    max-width: 83.33333333%;\n  }\n\n  .col-sm-11 {\n    -ms-flex-preferred-size: 91.66666667%;\n    flex-basis: 91.66666667%;\n    max-width: 91.66666667%;\n  }\n\n  .col-sm-12 {\n    -ms-flex-preferred-size: 100%;\n    flex-basis: 100%;\n    max-width: 100%;\n  }\n\n  .col-sm-offset-0 {\n    margin-left: 0;\n  }\n\n  .col-sm-offset-1 {\n    margin-left: 8.33333333%;\n  }\n\n  .col-sm-offset-2 {\n    margin-left: 16.66666667%;\n  }\n\n  .col-sm-offset-3 {\n    margin-left: 25%;\n  }\n\n  .col-sm-offset-4 {\n    margin-left: 33.33333333%;\n  }\n\n  .col-sm-offset-5 {\n    margin-left: 41.66666667%;\n  }\n\n  .col-sm-offset-6 {\n    margin-left: 50%;\n  }\n\n  .col-sm-offset-7 {\n    margin-left: 58.33333333%;\n  }\n\n  .col-sm-offset-8 {\n    margin-left: 66.66666667%;\n  }\n\n  .col-sm-offset-9 {\n    margin-left: 75%;\n  }\n\n  .col-sm-offset-10 {\n    margin-left: 83.33333333%;\n  }\n\n  .col-sm-offset-11 {\n    margin-left: 91.66666667%;\n  }\n\n  .start-sm {\n    -webkit-box-pack: start;\n    -ms-flex-pack: start;\n    justify-content: flex-start;\n    text-align: start;\n  }\n\n  .center-sm {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    text-align: center;\n  }\n\n  .end-sm {\n    -webkit-box-pack: end;\n    -ms-flex-pack: end;\n    justify-content: flex-end;\n    text-align: end;\n  }\n\n  .top-sm {\n    -webkit-box-align: start;\n    -ms-flex-align: start;\n    align-items: flex-start;\n  }\n\n  .middle-sm {\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n  }\n\n  .bottom-sm {\n    -webkit-box-align: end;\n    -ms-flex-align: end;\n    align-items: flex-end;\n  }\n\n  .around-sm {\n    -ms-flex-pack: distribute;\n    justify-content: space-around;\n  }\n\n  .between-sm {\n    -webkit-box-pack: justify;\n    -ms-flex-pack: justify;\n    justify-content: space-between;\n  }\n\n  .first-sm {\n    -webkit-box-ordinal-group: 0;\n    -ms-flex-order: -1;\n    order: -1;\n  }\n\n  .last-sm {\n    -webkit-box-ordinal-group: 2;\n    -ms-flex-order: 1;\n    order: 1;\n  }\n}\n@media only screen and (min-width:64em) {\n  .container {\n    width: 65rem;\n  }\n\n  .col-md,\n  .col-md-1,\n  .col-md-10,\n  .col-md-11,\n  .col-md-12,\n  .col-md-2,\n  .col-md-3,\n  .col-md-4,\n  .col-md-5,\n  .col-md-6,\n  .col-md-7,\n  .col-md-8,\n  .col-md-9,\n  .col-md-offset-0,\n  .col-md-offset-1,\n  .col-md-offset-10,\n  .col-md-offset-11,\n  .col-md-offset-12,\n  .col-md-offset-2,\n  .col-md-offset-3,\n  .col-md-offset-4,\n  .col-md-offset-5,\n  .col-md-offset-6,\n  .col-md-offset-7,\n  .col-md-offset-8,\n  .col-md-offset-9 {\n    box-sizing: border-box;\n    -webkit-box-flex: 0;\n    -ms-flex: 0 0 auto;\n    flex: 0 0 auto;\n    padding-right: .5rem;\n    padding-left: .5rem;\n  }\n\n  .col-md {\n    -webkit-box-flex: 1;\n    -ms-flex-positive: 1;\n    flex-grow: 1;\n    -ms-flex-preferred-size: 0;\n    flex-basis: 0;\n    max-width: 100%;\n  }\n\n  .col-md-1 {\n    -ms-flex-preferred-size: 8.33333333%;\n    flex-basis: 8.33333333%;\n    max-width: 8.33333333%;\n  }\n\n  .col-md-2 {\n    -ms-flex-preferred-size: 16.66666667%;\n    flex-basis: 16.66666667%;\n    max-width: 16.66666667%;\n  }\n\n  .col-md-3 {\n    -ms-flex-preferred-size: 25%;\n    flex-basis: 25%;\n    max-width: 25%;\n  }\n\n  .col-md-4 {\n    -ms-flex-preferred-size: 33.33333333%;\n    flex-basis: 33.33333333%;\n    max-width: 33.33333333%;\n  }\n\n  .col-md-5 {\n    -ms-flex-preferred-size: 41.66666667%;\n    flex-basis: 41.66666667%;\n    max-width: 41.66666667%;\n  }\n\n  .col-md-6 {\n    -ms-flex-preferred-size: 50%;\n    flex-basis: 50%;\n    max-width: 50%;\n  }\n\n  .col-md-7 {\n    -ms-flex-preferred-size: 58.33333333%;\n    flex-basis: 58.33333333%;\n    max-width: 58.33333333%;\n  }\n\n  .col-md-8 {\n    -ms-flex-preferred-size: 66.66666667%;\n    flex-basis: 66.66666667%;\n    max-width: 66.66666667%;\n  }\n\n  .col-md-9 {\n    -ms-flex-preferred-size: 75%;\n    flex-basis: 75%;\n    max-width: 75%;\n  }\n\n  .col-md-10 {\n    -ms-flex-preferred-size: 83.33333333%;\n    flex-basis: 83.33333333%;\n    max-width: 83.33333333%;\n  }\n\n  .col-md-11 {\n    -ms-flex-preferred-size: 91.66666667%;\n    flex-basis: 91.66666667%;\n    max-width: 91.66666667%;\n  }\n\n  .col-md-12 {\n    -ms-flex-preferred-size: 100%;\n    flex-basis: 100%;\n    max-width: 100%;\n  }\n\n  .col-md-offset-0 {\n    margin-left: 0;\n  }\n\n  .col-md-offset-1 {\n    margin-left: 8.33333333%;\n  }\n\n  .col-md-offset-2 {\n    margin-left: 16.66666667%;\n  }\n\n  .col-md-offset-3 {\n    margin-left: 25%;\n  }\n\n  .col-md-offset-4 {\n    margin-left: 33.33333333%;\n  }\n\n  .col-md-offset-5 {\n    margin-left: 41.66666667%;\n  }\n\n  .col-md-offset-6 {\n    margin-left: 50%;\n  }\n\n  .col-md-offset-7 {\n    margin-left: 58.33333333%;\n  }\n\n  .col-md-offset-8 {\n    margin-left: 66.66666667%;\n  }\n\n  .col-md-offset-9 {\n    margin-left: 75%;\n  }\n\n  .col-md-offset-10 {\n    margin-left: 83.33333333%;\n  }\n\n  .col-md-offset-11 {\n    margin-left: 91.66666667%;\n  }\n\n  .start-md {\n    -webkit-box-pack: start;\n    -ms-flex-pack: start;\n    justify-content: flex-start;\n    text-align: start;\n  }\n\n  .center-md {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    text-align: center;\n  }\n\n  .end-md {\n    -webkit-box-pack: end;\n    -ms-flex-pack: end;\n    justify-content: flex-end;\n    text-align: end;\n  }\n\n  .top-md {\n    -webkit-box-align: start;\n    -ms-flex-align: start;\n    align-items: flex-start;\n  }\n\n  .middle-md {\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n  }\n\n  .bottom-md {\n    -webkit-box-align: end;\n    -ms-flex-align: end;\n    align-items: flex-end;\n  }\n\n  .around-md {\n    -ms-flex-pack: distribute;\n    justify-content: space-around;\n  }\n\n  .between-md {\n    -webkit-box-pack: justify;\n    -ms-flex-pack: justify;\n    justify-content: space-between;\n  }\n\n  .first-md {\n    -webkit-box-ordinal-group: 0;\n    -ms-flex-order: -1;\n    order: -1;\n  }\n\n  .last-md {\n    -webkit-box-ordinal-group: 2;\n    -ms-flex-order: 1;\n    order: 1;\n  }\n}\n@media only screen and (min-width:75em) {\n  .container {\n    width: 76rem;\n  }\n\n  .col-lg,\n  .col-lg-1,\n  .col-lg-10,\n  .col-lg-11,\n  .col-lg-12,\n  .col-lg-2,\n  .col-lg-3,\n  .col-lg-4,\n  .col-lg-5,\n  .col-lg-6,\n  .col-lg-7,\n  .col-lg-8,\n  .col-lg-9,\n  .col-lg-offset-0,\n  .col-lg-offset-1,\n  .col-lg-offset-10,\n  .col-lg-offset-11,\n  .col-lg-offset-12,\n  .col-lg-offset-2,\n  .col-lg-offset-3,\n  .col-lg-offset-4,\n  .col-lg-offset-5,\n  .col-lg-offset-6,\n  .col-lg-offset-7,\n  .col-lg-offset-8,\n  .col-lg-offset-9 {\n    box-sizing: border-box;\n    -webkit-box-flex: 0;\n    -ms-flex: 0 0 auto;\n    flex: 0 0 auto;\n    padding-right: .5rem;\n    padding-left: .5rem;\n  }\n\n  .col-lg {\n    -webkit-box-flex: 1;\n    -ms-flex-positive: 1;\n    flex-grow: 1;\n    -ms-flex-preferred-size: 0;\n    flex-basis: 0;\n    max-width: 100%;\n  }\n\n  .col-lg-1 {\n    -ms-flex-preferred-size: 8.33333333%;\n    flex-basis: 8.33333333%;\n    max-width: 8.33333333%;\n  }\n\n  .col-lg-2 {\n    -ms-flex-preferred-size: 16.66666667%;\n    flex-basis: 16.66666667%;\n    max-width: 16.66666667%;\n  }\n\n  .col-lg-3 {\n    -ms-flex-preferred-size: 25%;\n    flex-basis: 25%;\n    max-width: 25%;\n  }\n\n  .col-lg-4 {\n    -ms-flex-preferred-size: 33.33333333%;\n    flex-basis: 33.33333333%;\n    max-width: 33.33333333%;\n  }\n\n  .col-lg-5 {\n    -ms-flex-preferred-size: 41.66666667%;\n    flex-basis: 41.66666667%;\n    max-width: 41.66666667%;\n  }\n\n  .col-lg-6 {\n    -ms-flex-preferred-size: 50%;\n    flex-basis: 50%;\n    max-width: 50%;\n  }\n\n  .col-lg-7 {\n    -ms-flex-preferred-size: 58.33333333%;\n    flex-basis: 58.33333333%;\n    max-width: 58.33333333%;\n  }\n\n  .col-lg-8 {\n    -ms-flex-preferred-size: 66.66666667%;\n    flex-basis: 66.66666667%;\n    max-width: 66.66666667%;\n  }\n\n  .col-lg-9 {\n    -ms-flex-preferred-size: 75%;\n    flex-basis: 75%;\n    max-width: 75%;\n  }\n\n  .col-lg-10 {\n    -ms-flex-preferred-size: 83.33333333%;\n    flex-basis: 83.33333333%;\n    max-width: 83.33333333%;\n  }\n\n  .col-lg-11 {\n    -ms-flex-preferred-size: 91.66666667%;\n    flex-basis: 91.66666667%;\n    max-width: 91.66666667%;\n  }\n\n  .col-lg-12 {\n    -ms-flex-preferred-size: 100%;\n    flex-basis: 100%;\n    max-width: 100%;\n  }\n\n  .col-lg-offset-0 {\n    margin-left: 0;\n  }\n\n  .col-lg-offset-1 {\n    margin-left: 8.33333333%;\n  }\n\n  .col-lg-offset-2 {\n    margin-left: 16.66666667%;\n  }\n\n  .col-lg-offset-3 {\n    margin-left: 25%;\n  }\n\n  .col-lg-offset-4 {\n    margin-left: 33.33333333%;\n  }\n\n  .col-lg-offset-5 {\n    margin-left: 41.66666667%;\n  }\n\n  .col-lg-offset-6 {\n    margin-left: 50%;\n  }\n\n  .col-lg-offset-7 {\n    margin-left: 58.33333333%;\n  }\n\n  .col-lg-offset-8 {\n    margin-left: 66.66666667%;\n  }\n\n  .col-lg-offset-9 {\n    margin-left: 75%;\n  }\n\n  .col-lg-offset-10 {\n    margin-left: 83.33333333%;\n  }\n\n  .col-lg-offset-11 {\n    margin-left: 91.66666667%;\n  }\n\n  .start-lg {\n    -webkit-box-pack: start;\n    -ms-flex-pack: start;\n    justify-content: flex-start;\n    text-align: start;\n  }\n\n  .center-lg {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    text-align: center;\n  }\n\n  .end-lg {\n    -webkit-box-pack: end;\n    -ms-flex-pack: end;\n    justify-content: flex-end;\n    text-align: end;\n  }\n\n  .top-lg {\n    -webkit-box-align: start;\n    -ms-flex-align: start;\n    align-items: flex-start;\n  }\n\n  .middle-lg {\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n  }\n\n  .bottom-lg {\n    -webkit-box-align: end;\n    -ms-flex-align: end;\n    align-items: flex-end;\n  }\n\n  .around-lg {\n    -ms-flex-pack: distribute;\n    justify-content: space-around;\n  }\n\n  .between-lg {\n    -webkit-box-pack: justify;\n    -ms-flex-pack: justify;\n    justify-content: space-between;\n  }\n\n  .first-lg {\n    -webkit-box-ordinal-group: 0;\n    -ms-flex-order: -1;\n    order: -1;\n  }\n\n  .last-lg {\n    -webkit-box-ordinal-group: 2;\n    -ms-flex-order: 1;\n    order: 1;\n  }\n}\n"; (require("browserify-css").createStyle(css, { "href": "dependencies\\flexboxgrid\\flexboxgrid.min.css" }, { "insertAt": "bottom" })); module.exports = css;
},{"browserify-css":4}],3:[function(require,module,exports){
module.exports = function atoa (a, n) { return Array.prototype.slice.call(a, n); }

},{}],4:[function(require,module,exports){
'use strict';
// For more information about browser field, check out the browser field at https://github.com/substack/browserify-handbook#browser-field.

var styleElementsInsertedAtTop = [];

var insertStyleElement = function(styleElement, options) {
    var head = document.head || document.getElementsByTagName('head')[0];
    var lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];

    options = options || {};
    options.insertAt = options.insertAt || 'bottom';

    if (options.insertAt === 'top') {
        if (!lastStyleElementInsertedAtTop) {
            head.insertBefore(styleElement, head.firstChild);
        } else if (lastStyleElementInsertedAtTop.nextSibling) {
            head.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);
        } else {
            head.appendChild(styleElement);
        }
        styleElementsInsertedAtTop.push(styleElement);
    } else if (options.insertAt === 'bottom') {
        head.appendChild(styleElement);
    } else {
        throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.');
    }
};

module.exports = {
    // Create a <link> tag with optional data attributes
    createLink: function(href, attributes) {
        var head = document.head || document.getElementsByTagName('head')[0];
        var link = document.createElement('link');

        link.href = href;
        link.rel = 'stylesheet';

        for (var key in attributes) {
            if ( ! attributes.hasOwnProperty(key)) {
                continue;
            }
            var value = attributes[key];
            link.setAttribute('data-' + key, value);
        }

        head.appendChild(link);
    },
    // Create a <style> tag with optional data attributes
    createStyle: function(cssText, attributes, extraOptions) {
        extraOptions = extraOptions || {};

        var style = document.createElement('style');
        style.type = 'text/css';

        for (var key in attributes) {
            if ( ! attributes.hasOwnProperty(key)) {
                continue;
            }
            var value = attributes[key];
            style.setAttribute('data-' + key, value);
        }

        if (style.sheet) { // for jsdom and IE9+
            style.innerHTML = cssText;
            style.sheet.cssText = cssText;
            insertStyleElement(style, { insertAt: extraOptions.insertAt });
        } else if (style.styleSheet) { // for IE8 and below
            insertStyleElement(style, { insertAt: extraOptions.insertAt });
            style.styleSheet.cssText = cssText;
        } else { // for Chrome, Firefox, and Safari
            style.appendChild(document.createTextNode(cssText));
            insertStyleElement(style, { insertAt: extraOptions.insertAt });
        }
    }
};

},{}],5:[function(require,module,exports){
'use strict';

var ticky = require('ticky');

module.exports = function debounce (fn, args, ctx) {
  if (!fn) { return; }
  ticky(function run () {
    fn.apply(ctx || null, args || []);
  });
};

},{"ticky":17}],6:[function(require,module,exports){
'use strict';

var atoa = require('atoa');
var debounce = require('./debounce');

module.exports = function emitter (thing, options) {
  var opts = options || {};
  var evt = {};
  if (thing === undefined) { thing = {}; }
  thing.on = function (type, fn) {
    if (!evt[type]) {
      evt[type] = [fn];
    } else {
      evt[type].push(fn);
    }
    return thing;
  };
  thing.once = function (type, fn) {
    fn._once = true; // thing.off(fn) still works!
    thing.on(type, fn);
    return thing;
  };
  thing.off = function (type, fn) {
    var c = arguments.length;
    if (c === 1) {
      delete evt[type];
    } else if (c === 0) {
      evt = {};
    } else {
      var et = evt[type];
      if (!et) { return thing; }
      et.splice(et.indexOf(fn), 1);
    }
    return thing;
  };
  thing.emit = function () {
    var args = atoa(arguments);
    return thing.emitterSnapshot(args.shift()).apply(this, args);
  };
  thing.emitterSnapshot = function (type) {
    var et = (evt[type] || []).slice(0);
    return function () {
      var args = atoa(arguments);
      var ctx = this || thing;
      if (type === 'error' && opts.throws !== false && !et.length) { throw args.length === 1 ? args[0] : args; }
      et.forEach(function emitter (listen) {
        if (opts.async) { debounce(listen, args, ctx); } else { listen.apply(ctx, args); }
        if (listen._once) { thing.off(type, listen); }
      });
      return thing;
    };
  };
  return thing;
};

},{"./debounce":5,"atoa":3}],7:[function(require,module,exports){
(function (global){
'use strict';

var customEvent = require('custom-event');
var eventmap = require('./eventmap');
var doc = global.document;
var addEvent = addEventEasy;
var removeEvent = removeEventEasy;
var hardCache = [];

if (!global.addEventListener) {
  addEvent = addEventHard;
  removeEvent = removeEventHard;
}

module.exports = {
  add: addEvent,
  remove: removeEvent,
  fabricate: fabricateEvent
};

function addEventEasy (el, type, fn, capturing) {
  return el.addEventListener(type, fn, capturing);
}

function addEventHard (el, type, fn) {
  return el.attachEvent('on' + type, wrap(el, type, fn));
}

function removeEventEasy (el, type, fn, capturing) {
  return el.removeEventListener(type, fn, capturing);
}

function removeEventHard (el, type, fn) {
  var listener = unwrap(el, type, fn);
  if (listener) {
    return el.detachEvent('on' + type, listener);
  }
}

function fabricateEvent (el, type, model) {
  var e = eventmap.indexOf(type) === -1 ? makeCustomEvent() : makeClassicEvent();
  if (el.dispatchEvent) {
    el.dispatchEvent(e);
  } else {
    el.fireEvent('on' + type, e);
  }
  function makeClassicEvent () {
    var e;
    if (doc.createEvent) {
      e = doc.createEvent('Event');
      e.initEvent(type, true, true);
    } else if (doc.createEventObject) {
      e = doc.createEventObject();
    }
    return e;
  }
  function makeCustomEvent () {
    return new customEvent(type, { detail: model });
  }
}

function wrapperFactory (el, type, fn) {
  return function wrapper (originalEvent) {
    var e = originalEvent || global.event;
    e.target = e.target || e.srcElement;
    e.preventDefault = e.preventDefault || function preventDefault () { e.returnValue = false; };
    e.stopPropagation = e.stopPropagation || function stopPropagation () { e.cancelBubble = true; };
    e.which = e.which || e.keyCode;
    fn.call(el, e);
  };
}

function wrap (el, type, fn) {
  var wrapper = unwrap(el, type, fn) || wrapperFactory(el, type, fn);
  hardCache.push({
    wrapper: wrapper,
    element: el,
    type: type,
    fn: fn
  });
  return wrapper;
}

function unwrap (el, type, fn) {
  var i = find(el, type, fn);
  if (i) {
    var wrapper = hardCache[i].wrapper;
    hardCache.splice(i, 1); // free up a tad of memory
    return wrapper;
  }
}

function find (el, type, fn) {
  var i, item;
  for (i = 0; i < hardCache.length; i++) {
    item = hardCache[i];
    if (item.element === el && item.type === type && item.fn === fn) {
      return i;
    }
  }
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./eventmap":8,"custom-event":9}],8:[function(require,module,exports){
(function (global){
'use strict';

var eventmap = [];
var eventname = '';
var ron = /^on/;

for (eventname in global) {
  if (ron.test(eventname)) {
    eventmap.push(eventname.slice(2));
  }
}

module.exports = eventmap;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],9:[function(require,module,exports){
(function (global){

var NativeCustomEvent = global.CustomEvent;

function useNative () {
  try {
    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });
    return  'cat' === p.type && 'bar' === p.detail.foo;
  } catch (e) {
  }
  return false;
}

/**
 * Cross-browser `CustomEvent` constructor.
 *
 * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent
 *
 * @public
 */

module.exports = useNative() ? NativeCustomEvent :

// IE >= 9
'function' === typeof document.createEvent ? function CustomEvent (type, params) {
  var e = document.createEvent('CustomEvent');
  if (params) {
    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);
  } else {
    e.initCustomEvent(type, false, false, void 0);
  }
  return e;
} :

// IE <= 8
function CustomEvent (type, params) {
  var e = document.createEventObject();
  e.type = type;
  if (params) {
    e.bubbles = Boolean(params.bubbles);
    e.cancelable = Boolean(params.cancelable);
    e.detail = params.detail;
  } else {
    e.bubbles = false;
    e.cancelable = false;
    e.detail = void 0;
  }
  return e;
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],10:[function(require,module,exports){
'use strict';

var cache = {};
var start = '(?:^|\\s)';
var end = '(?:\\s|$)';

function lookupClass (className) {
  var cached = cache[className];
  if (cached) {
    cached.lastIndex = 0;
  } else {
    cache[className] = cached = new RegExp(start + className + end, 'g');
  }
  return cached;
}

function addClass (el, className) {
  var current = el.className;
  if (!current.length) {
    el.className = className;
  } else if (!lookupClass(className).test(current)) {
    el.className += ' ' + className;
  }
}

function rmClass (el, className) {
  el.className = el.className.replace(lookupClass(className), ' ').trim();
}

module.exports = {
  add: addClass,
  rm: rmClass
};

},{}],11:[function(require,module,exports){
var css = ".gu-mirror {\n  position: fixed!important;\n  margin: 0!important;\n  z-index: 9999!important;\n  opacity: .8;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)\";\n  filter: alpha(opacity=80);\n}\n.gu-hide {\n  display: none!important;\n}\n.gu-unselectable {\n  -webkit-user-select: none!important;\n  -moz-user-select: none!important;\n  -ms-user-select: none!important;\n  user-select: none!important;\n}\n.gu-transit {\n  opacity: .2;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";\n  filter: alpha(opacity=20);\n}\n"; (require("browserify-css").createStyle(css, { "href": "node_modules\\dragula\\dist\\dragula.min.css" }, { "insertAt": "bottom" })); module.exports = css;
},{"browserify-css":4}],12:[function(require,module,exports){
(function (global){
'use strict';

var emitter = require('contra/emitter');
var crossvent = require('crossvent');
var classes = require('./classes');
var doc = document;
var documentElement = doc.documentElement;

function dragula (initialContainers, options) {
  var len = arguments.length;
  if (len === 1 && Array.isArray(initialContainers) === false) {
    options = initialContainers;
    initialContainers = [];
  }
  var _mirror; // mirror image
  var _source; // source container
  var _item; // item being dragged
  var _offsetX; // reference x
  var _offsetY; // reference y
  var _moveX; // reference move x
  var _moveY; // reference move y
  var _initialSibling; // reference sibling when grabbed
  var _currentSibling; // reference sibling now
  var _copy; // item used for copying
  var _renderTimer; // timer for setTimeout renderMirrorImage
  var _lastDropTarget = null; // last container item was over
  var _grabbed; // holds mousedown context until first mousemove

  var o = options || {};
  if (o.moves === void 0) { o.moves = always; }
  if (o.accepts === void 0) { o.accepts = always; }
  if (o.invalid === void 0) { o.invalid = invalidTarget; }
  if (o.containers === void 0) { o.containers = initialContainers || []; }
  if (o.isContainer === void 0) { o.isContainer = never; }
  if (o.copy === void 0) { o.copy = false; }
  if (o.copySortSource === void 0) { o.copySortSource = false; }
  if (o.revertOnSpill === void 0) { o.revertOnSpill = false; }
  if (o.removeOnSpill === void 0) { o.removeOnSpill = false; }
  if (o.direction === void 0) { o.direction = 'vertical'; }
  if (o.ignoreInputTextSelection === void 0) { o.ignoreInputTextSelection = true; }
  if (o.mirrorContainer === void 0) { o.mirrorContainer = doc.body; }

  var drake = emitter({
    containers: o.containers,
    start: manualStart,
    end: end,
    cancel: cancel,
    remove: remove,
    destroy: destroy,
    canMove: canMove,
    dragging: false
  });

  if (o.removeOnSpill === true) {
    drake.on('over', spillOver).on('out', spillOut);
  }

  events();

  return drake;

  function isContainer (el) {
    return drake.containers.indexOf(el) !== -1 || o.isContainer(el);
  }

  function events (remove) {
    var op = remove ? 'remove' : 'add';
    touchy(documentElement, op, 'mousedown', grab);
    touchy(documentElement, op, 'mouseup', release);
  }

  function eventualMovements (remove) {
    var op = remove ? 'remove' : 'add';
    touchy(documentElement, op, 'mousemove', startBecauseMouseMoved);
  }

  function movements (remove) {
    var op = remove ? 'remove' : 'add';
    crossvent[op](documentElement, 'selectstart', preventGrabbed); // IE8
    crossvent[op](documentElement, 'click', preventGrabbed);
  }

  function destroy () {
    events(true);
    release({});
  }

  function preventGrabbed (e) {
    if (_grabbed) {
      e.preventDefault();
    }
  }

  function grab (e) {
    _moveX = e.clientX;
    _moveY = e.clientY;

    var ignore = whichMouseButton(e) !== 1 || e.metaKey || e.ctrlKey;
    if (ignore) {
      return; // we only care about honest-to-god left clicks and touch events
    }
    var item = e.target;
    var context = canStart(item);
    if (!context) {
      return;
    }
    _grabbed = context;
    eventualMovements();
    if (e.type === 'mousedown') {
      if (isInput(item)) { // see also: https://github.com/bevacqua/dragula/issues/208
        item.focus(); // fixes https://github.com/bevacqua/dragula/issues/176
      } else {
        e.preventDefault(); // fixes https://github.com/bevacqua/dragula/issues/155
      }
    }
  }

  function startBecauseMouseMoved (e) {
    if (!_grabbed) {
      return;
    }
    if (whichMouseButton(e) === 0) {
      release({});
      return; // when text is selected on an input and then dragged, mouseup doesn't fire. this is our only hope
    }
    // truthy check fixes #239, equality fixes #207
    if (e.clientX !== void 0 && e.clientX === _moveX && e.clientY !== void 0 && e.clientY === _moveY) {
      return;
    }
    if (o.ignoreInputTextSelection) {
      var clientX = getCoord('clientX', e);
      var clientY = getCoord('clientY', e);
      var elementBehindCursor = doc.elementFromPoint(clientX, clientY);
      if (isInput(elementBehindCursor)) {
        return;
      }
    }

    var grabbed = _grabbed; // call to end() unsets _grabbed
    eventualMovements(true);
    movements();
    end();
    start(grabbed);

    var offset = getOffset(_item);
    _offsetX = getCoord('pageX', e) - offset.left;
    _offsetY = getCoord('pageY', e) - offset.top;

    classes.add(_copy || _item, 'gu-transit');
    renderMirrorImage();
    drag(e);
  }

  function canStart (item) {
    if (drake.dragging && _mirror) {
      return;
    }
    if (isContainer(item)) {
      return; // don't drag container itself
    }
    var handle = item;
    while (getParent(item) && isContainer(getParent(item)) === false) {
      if (o.invalid(item, handle)) {
        return;
      }
      item = getParent(item); // drag target should be a top element
      if (!item) {
        return;
      }
    }
    var source = getParent(item);
    if (!source) {
      return;
    }
    if (o.invalid(item, handle)) {
      return;
    }

    var movable = o.moves(item, source, handle, nextEl(item));
    if (!movable) {
      return;
    }

    return {
      item: item,
      source: source
    };
  }

  function canMove (item) {
    return !!canStart(item);
  }

  function manualStart (item) {
    var context = canStart(item);
    if (context) {
      start(context);
    }
  }

  function start (context) {
    if (isCopy(context.item, context.source)) {
      _copy = context.item.cloneNode(true);
      drake.emit('cloned', _copy, context.item, 'copy');
    }

    _source = context.source;
    _item = context.item;
    _initialSibling = _currentSibling = nextEl(context.item);

    drake.dragging = true;
    drake.emit('drag', _item, _source);
  }

  function invalidTarget () {
    return false;
  }

  function end () {
    if (!drake.dragging) {
      return;
    }
    var item = _copy || _item;
    drop(item, getParent(item));
  }

  function ungrab () {
    _grabbed = false;
    eventualMovements(true);
    movements(true);
  }

  function release (e) {
    ungrab();

    if (!drake.dragging) {
      return;
    }
    var item = _copy || _item;
    var clientX = getCoord('clientX', e);
    var clientY = getCoord('clientY', e);
    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);
    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);
    if (dropTarget && ((_copy && o.copySortSource) || (!_copy || dropTarget !== _source))) {
      drop(item, dropTarget);
    } else if (o.removeOnSpill) {
      remove();
    } else {
      cancel();
    }
  }

  function drop (item, target) {
    var parent = getParent(item);
    if (_copy && o.copySortSource && target === _source) {
      parent.removeChild(_item);
    }
    if (isInitialPlacement(target)) {
      drake.emit('cancel', item, _source, _source);
    } else {
      drake.emit('drop', item, target, _source, _currentSibling);
    }
    cleanup();
  }

  function remove () {
    if (!drake.dragging) {
      return;
    }
    var item = _copy || _item;
    var parent = getParent(item);
    if (parent) {
      parent.removeChild(item);
    }
    drake.emit(_copy ? 'cancel' : 'remove', item, parent, _source);
    cleanup();
  }

  function cancel (revert) {
    if (!drake.dragging) {
      return;
    }
    var reverts = arguments.length > 0 ? revert : o.revertOnSpill;
    var item = _copy || _item;
    var parent = getParent(item);
    var initial = isInitialPlacement(parent);
    if (initial === false && reverts) {
      if (_copy) {
        if (parent) {
          parent.removeChild(_copy);
        }
      } else {
        _source.insertBefore(item, _initialSibling);
      }
    }
    if (initial || reverts) {
      drake.emit('cancel', item, _source, _source);
    } else {
      drake.emit('drop', item, parent, _source, _currentSibling);
    }
    cleanup();
  }

  function cleanup () {
    var item = _copy || _item;
    ungrab();
    removeMirrorImage();
    if (item) {
      classes.rm(item, 'gu-transit');
    }
    if (_renderTimer) {
      clearTimeout(_renderTimer);
    }
    drake.dragging = false;
    if (_lastDropTarget) {
      drake.emit('out', item, _lastDropTarget, _source);
    }
    drake.emit('dragend', item);
    _source = _item = _copy = _initialSibling = _currentSibling = _renderTimer = _lastDropTarget = null;
  }

  function isInitialPlacement (target, s) {
    var sibling;
    if (s !== void 0) {
      sibling = s;
    } else if (_mirror) {
      sibling = _currentSibling;
    } else {
      sibling = nextEl(_copy || _item);
    }
    return target === _source && sibling === _initialSibling;
  }

  function findDropTarget (elementBehindCursor, clientX, clientY) {
    var target = elementBehindCursor;
    while (target && !accepted()) {
      target = getParent(target);
    }
    return target;

    function accepted () {
      var droppable = isContainer(target);
      if (droppable === false) {
        return false;
      }

      var immediate = getImmediateChild(target, elementBehindCursor);
      var reference = getReference(target, immediate, clientX, clientY);
      var initial = isInitialPlacement(target, reference);
      if (initial) {
        return true; // should always be able to drop it right back where it was
      }
      return o.accepts(_item, target, _source, reference);
    }
  }

  function drag (e) {
    if (!_mirror) {
      return;
    }
    e.preventDefault();

    var clientX = getCoord('clientX', e);
    var clientY = getCoord('clientY', e);
    var x = clientX - _offsetX;
    var y = clientY - _offsetY;

    _mirror.style.left = x + 'px';
    _mirror.style.top = y + 'px';

    var item = _copy || _item;
    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);
    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);
    var changed = dropTarget !== null && dropTarget !== _lastDropTarget;
    if (changed || dropTarget === null) {
      out();
      _lastDropTarget = dropTarget;
      over();
    }
    var parent = getParent(item);
    if (dropTarget === _source && _copy && !o.copySortSource) {
      if (parent) {
        parent.removeChild(item);
      }
      return;
    }
    var reference;
    var immediate = getImmediateChild(dropTarget, elementBehindCursor);
    if (immediate !== null) {
      reference = getReference(dropTarget, immediate, clientX, clientY);
    } else if (o.revertOnSpill === true && !_copy) {
      reference = _initialSibling;
      dropTarget = _source;
    } else {
      if (_copy && parent) {
        parent.removeChild(item);
      }
      return;
    }
    if (
      (reference === null && changed) ||
      reference !== item &&
      reference !== nextEl(item)
    ) {
      _currentSibling = reference;
      dropTarget.insertBefore(item, reference);
      drake.emit('shadow', item, dropTarget, _source);
    }
    function moved (type) { drake.emit(type, item, _lastDropTarget, _source); }
    function over () { if (changed) { moved('over'); } }
    function out () { if (_lastDropTarget) { moved('out'); } }
  }

  function spillOver (el) {
    classes.rm(el, 'gu-hide');
  }

  function spillOut (el) {
    if (drake.dragging) { classes.add(el, 'gu-hide'); }
  }

  function renderMirrorImage () {
    if (_mirror) {
      return;
    }
    var rect = _item.getBoundingClientRect();
    _mirror = _item.cloneNode(true);
    _mirror.style.width = getRectWidth(rect) + 'px';
    _mirror.style.height = getRectHeight(rect) + 'px';
    classes.rm(_mirror, 'gu-transit');
    classes.add(_mirror, 'gu-mirror');
    o.mirrorContainer.appendChild(_mirror);
    touchy(documentElement, 'add', 'mousemove', drag);
    classes.add(o.mirrorContainer, 'gu-unselectable');
    drake.emit('cloned', _mirror, _item, 'mirror');
  }

  function removeMirrorImage () {
    if (_mirror) {
      classes.rm(o.mirrorContainer, 'gu-unselectable');
      touchy(documentElement, 'remove', 'mousemove', drag);
      getParent(_mirror).removeChild(_mirror);
      _mirror = null;
    }
  }

  function getImmediateChild (dropTarget, target) {
    var immediate = target;
    while (immediate !== dropTarget && getParent(immediate) !== dropTarget) {
      immediate = getParent(immediate);
    }
    if (immediate === documentElement) {
      return null;
    }
    return immediate;
  }

  function getReference (dropTarget, target, x, y) {
    var horizontal = o.direction === 'horizontal';
    var reference = target !== dropTarget ? inside() : outside();
    return reference;

    function outside () { // slower, but able to figure out any position
      var len = dropTarget.children.length;
      var i;
      var el;
      var rect;
      for (i = 0; i < len; i++) {
        el = dropTarget.children[i];
        rect = el.getBoundingClientRect();
        if (horizontal && (rect.left + rect.width / 2) > x) { return el; }
        if (!horizontal && (rect.top + rect.height / 2) > y) { return el; }
      }
      return null;
    }

    function inside () { // faster, but only available if dropped inside a child element
      var rect = target.getBoundingClientRect();
      if (horizontal) {
        return resolve(x > rect.left + getRectWidth(rect) / 2);
      }
      return resolve(y > rect.top + getRectHeight(rect) / 2);
    }

    function resolve (after) {
      return after ? nextEl(target) : target;
    }
  }

  function isCopy (item, container) {
    return typeof o.copy === 'boolean' ? o.copy : o.copy(item, container);
  }
}

function touchy (el, op, type, fn) {
  var touch = {
    mouseup: 'touchend',
    mousedown: 'touchstart',
    mousemove: 'touchmove'
  };
  var pointers = {
    mouseup: 'pointerup',
    mousedown: 'pointerdown',
    mousemove: 'pointermove'
  };
  var microsoft = {
    mouseup: 'MSPointerUp',
    mousedown: 'MSPointerDown',
    mousemove: 'MSPointerMove'
  };
  if (global.navigator.pointerEnabled) {
    crossvent[op](el, pointers[type], fn);
  } else if (global.navigator.msPointerEnabled) {
    crossvent[op](el, microsoft[type], fn);
  } else {
    crossvent[op](el, touch[type], fn);
    crossvent[op](el, type, fn);
  }
}

function whichMouseButton (e) {
  if (e.touches !== void 0) { return e.touches.length; }
  if (e.which !== void 0 && e.which !== 0) { return e.which; } // see https://github.com/bevacqua/dragula/issues/261
  if (e.buttons !== void 0) { return e.buttons; }
  var button = e.button;
  if (button !== void 0) { // see https://github.com/jquery/jquery/blob/99e8ff1baa7ae341e94bb89c3e84570c7c3ad9ea/src/event.js#L573-L575
    return button & 1 ? 1 : button & 2 ? 3 : (button & 4 ? 2 : 0);
  }
}

function getOffset (el) {
  var rect = el.getBoundingClientRect();
  return {
    left: rect.left + getScroll('scrollLeft', 'pageXOffset'),
    top: rect.top + getScroll('scrollTop', 'pageYOffset')
  };
}

function getScroll (scrollProp, offsetProp) {
  if (typeof global[offsetProp] !== 'undefined') {
    return global[offsetProp];
  }
  if (documentElement.clientHeight) {
    return documentElement[scrollProp];
  }
  return doc.body[scrollProp];
}

function getElementBehindPoint (point, x, y) {
  var p = point || {};
  var state = p.className;
  var el;
  p.className += ' gu-hide';
  el = doc.elementFromPoint(x, y);
  p.className = state;
  return el;
}

function never () { return false; }
function always () { return true; }
function getRectWidth (rect) { return rect.width || (rect.right - rect.left); }
function getRectHeight (rect) { return rect.height || (rect.bottom - rect.top); }
function getParent (el) { return el.parentNode === doc ? null : el.parentNode; }
function isInput (el) { return el.tagName === 'INPUT' || el.tagName === 'TEXTAREA' || el.tagName === 'SELECT' || isEditable(el); }
function isEditable (el) {
  if (!el) { return false; } // no parents were editable
  if (el.contentEditable === 'false') { return false; } // stop the lookup
  if (el.contentEditable === 'true') { return true; } // found a contentEditable element in the chain
  return isEditable(getParent(el)); // contentEditable is set to 'inherit'
}

function nextEl (el) {
  return el.nextElementSibling || manually();
  function manually () {
    var sibling = el;
    do {
      sibling = sibling.nextSibling;
    } while (sibling && sibling.nodeType !== 1);
    return sibling;
  }
}

function getEventHost (e) {
  // on touchend event, we have to use `e.changedTouches`
  // see http://stackoverflow.com/questions/7192563/touchend-event-properties
  // see https://github.com/bevacqua/dragula/issues/34
  if (e.targetTouches && e.targetTouches.length) {
    return e.targetTouches[0];
  }
  if (e.changedTouches && e.changedTouches.length) {
    return e.changedTouches[0];
  }
  return e;
}

function getCoord (coord, e) {
  var host = getEventHost(e);
  var missMap = {
    pageX: 'clientX', // IE8
    pageY: 'clientY' // IE8
  };
  if (coord in missMap && !(coord in host) && missMap[coord] in host) {
    coord = missMap[coord];
  }
  return host[coord];
}

module.exports = dragula;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./classes":10,"contra/emitter":6,"crossvent":7}],13:[function(require,module,exports){
/*!
 * html2canvas 1.0.0-rc.5 <https://html2canvas.hertzen.com>
 * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    (global = global || self, global.html2canvas = factory());
}(this, function () { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    /* global Reflect, Promise */

    var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };

    function __extends(d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }

    var __assign = function() {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };

    function __awaiter(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
            function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }

    function __generator(thisArg, body) {
        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f) throw new TypeError("Generator is already executing.");
            while (_) try {
                if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
                if (y = 0, t) op = [op[0] & 2, t.value];
                switch (op[0]) {
                    case 0: case 1: t = op; break;
                    case 4: _.label++; return { value: op[1], done: false };
                    case 5: _.label++; y = op[1]; op = [0]; continue;
                    case 7: op = _.ops.pop(); _.trys.pop(); continue;
                    default:
                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                        if (t[2]) _.ops.pop();
                        _.trys.pop(); continue;
                }
                op = body.call(thisArg, _);
            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
        }
    }

    var Bounds = /** @class */ (function () {
        function Bounds(x, y, w, h) {
            this.left = x;
            this.top = y;
            this.width = w;
            this.height = h;
        }
        Bounds.prototype.add = function (x, y, w, h) {
            return new Bounds(this.left + x, this.top + y, this.width + w, this.height + h);
        };
        Bounds.fromClientRect = function (clientRect) {
            return new Bounds(clientRect.left, clientRect.top, clientRect.width, clientRect.height);
        };
        return Bounds;
    }());
    var parseBounds = function (node) {
        return Bounds.fromClientRect(node.getBoundingClientRect());
    };
    var parseDocumentSize = function (document) {
        var body = document.body;
        var documentElement = document.documentElement;
        if (!body || !documentElement) {
            throw new Error("Unable to get document size");
        }
        var width = Math.max(Math.max(body.scrollWidth, documentElement.scrollWidth), Math.max(body.offsetWidth, documentElement.offsetWidth), Math.max(body.clientWidth, documentElement.clientWidth));
        var height = Math.max(Math.max(body.scrollHeight, documentElement.scrollHeight), Math.max(body.offsetHeight, documentElement.offsetHeight), Math.max(body.clientHeight, documentElement.clientHeight));
        return new Bounds(0, 0, width, height);
    };

    /*
     * css-line-break 1.1.1 <https://github.com/niklasvh/css-line-break#readme>
     * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>
     * Released under MIT License
     */
    var toCodePoints = function (str) {
        var codePoints = [];
        var i = 0;
        var length = str.length;
        while (i < length) {
            var value = str.charCodeAt(i++);
            if (value >= 0xd800 && value <= 0xdbff && i < length) {
                var extra = str.charCodeAt(i++);
                if ((extra & 0xfc00) === 0xdc00) {
                    codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);
                }
                else {
                    codePoints.push(value);
                    i--;
                }
            }
            else {
                codePoints.push(value);
            }
        }
        return codePoints;
    };
    var fromCodePoint = function () {
        var codePoints = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            codePoints[_i] = arguments[_i];
        }
        if (String.fromCodePoint) {
            return String.fromCodePoint.apply(String, codePoints);
        }
        var length = codePoints.length;
        if (!length) {
            return '';
        }
        var codeUnits = [];
        var index = -1;
        var result = '';
        while (++index < length) {
            var codePoint = codePoints[index];
            if (codePoint <= 0xffff) {
                codeUnits.push(codePoint);
            }
            else {
                codePoint -= 0x10000;
                codeUnits.push((codePoint >> 10) + 0xd800, codePoint % 0x400 + 0xdc00);
            }
            if (index + 1 === length || codeUnits.length > 0x4000) {
                result += String.fromCharCode.apply(String, codeUnits);
                codeUnits.length = 0;
            }
        }
        return result;
    };
    var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
    // Use a lookup table to find the index.
    var lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);
    for (var i = 0; i < chars.length; i++) {
        lookup[chars.charCodeAt(i)] = i;
    }
    var decode = function (base64) {
        var bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;
        if (base64[base64.length - 1] === '=') {
            bufferLength--;
            if (base64[base64.length - 2] === '=') {
                bufferLength--;
            }
        }
        var buffer = typeof ArrayBuffer !== 'undefined' &&
            typeof Uint8Array !== 'undefined' &&
            typeof Uint8Array.prototype.slice !== 'undefined'
            ? new ArrayBuffer(bufferLength)
            : new Array(bufferLength);
        var bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);
        for (i = 0; i < len; i += 4) {
            encoded1 = lookup[base64.charCodeAt(i)];
            encoded2 = lookup[base64.charCodeAt(i + 1)];
            encoded3 = lookup[base64.charCodeAt(i + 2)];
            encoded4 = lookup[base64.charCodeAt(i + 3)];
            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);
            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);
            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);
        }
        return buffer;
    };
    var polyUint16Array = function (buffer) {
        var length = buffer.length;
        var bytes = [];
        for (var i = 0; i < length; i += 2) {
            bytes.push((buffer[i + 1] << 8) | buffer[i]);
        }
        return bytes;
    };
    var polyUint32Array = function (buffer) {
        var length = buffer.length;
        var bytes = [];
        for (var i = 0; i < length; i += 4) {
            bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);
        }
        return bytes;
    };

    /** Shift size for getting the index-2 table offset. */
    var UTRIE2_SHIFT_2 = 5;
    /** Shift size for getting the index-1 table offset. */
    var UTRIE2_SHIFT_1 = 6 + 5;
    /**
     * Shift size for shifting left the index array values.
     * Increases possible data size with 16-bit index values at the cost
     * of compactability.
     * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.
     */
    var UTRIE2_INDEX_SHIFT = 2;
    /**
     * Difference between the two shift sizes,
     * for getting an index-1 offset from an index-2 offset. 6=11-5
     */
    var UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;
    /**
     * The part of the index-2 table for U+D800..U+DBFF stores values for
     * lead surrogate code _units_ not code _points_.
     * Values for lead surrogate code _points_ are indexed with this portion of the table.
     * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)
     */
    var UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;
    /** Number of entries in a data block. 32=0x20 */
    var UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;
    /** Mask for getting the lower bits for the in-data-block offset. */
    var UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;
    var UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;
    /** Count the lengths of both BMP pieces. 2080=0x820 */
    var UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;
    /**
     * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.
     * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.
     */
    var UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;
    var UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */
    /**
     * The index-1 table, only used for supplementary code points, at offset 2112=0x840.
     * Variable length, for code points up to highStart, where the last single-value range starts.
     * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.
     * (For 0x100000 supplementary code points U+10000..U+10ffff.)
     *
     * The part of the index-2 table for supplementary code points starts
     * after this index-1 table.
     *
     * Both the index-1 table and the following part of the index-2 table
     * are omitted completely if there is only BMP data.
     */
    var UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;
    /**
     * Number of index-1 entries for the BMP. 32=0x20
     * This part of the index-1 table is omitted from the serialized form.
     */
    var UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;
    /** Number of entries in an index-2 block. 64=0x40 */
    var UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;
    /** Mask for getting the lower bits for the in-index-2-block offset. */
    var UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;
    var slice16 = function (view, start, end) {
        if (view.slice) {
            return view.slice(start, end);
        }
        return new Uint16Array(Array.prototype.slice.call(view, start, end));
    };
    var slice32 = function (view, start, end) {
        if (view.slice) {
            return view.slice(start, end);
        }
        return new Uint32Array(Array.prototype.slice.call(view, start, end));
    };
    var createTrieFromBase64 = function (base64) {
        var buffer = decode(base64);
        var view32 = Array.isArray(buffer) ? polyUint32Array(buffer) : new Uint32Array(buffer);
        var view16 = Array.isArray(buffer) ? polyUint16Array(buffer) : new Uint16Array(buffer);
        var headerLength = 24;
        var index = slice16(view16, headerLength / 2, view32[4] / 2);
        var data = view32[5] === 2
            ? slice16(view16, (headerLength + view32[4]) / 2)
            : slice32(view32, Math.ceil((headerLength + view32[4]) / 4));
        return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);
    };
    var Trie = /** @class */ (function () {
        function Trie(initialValue, errorValue, highStart, highValueIndex, index, data) {
            this.initialValue = initialValue;
            this.errorValue = errorValue;
            this.highStart = highStart;
            this.highValueIndex = highValueIndex;
            this.index = index;
            this.data = data;
        }
        /**
         * Get the value for a code point as stored in the Trie.
         *
         * @param codePoint the code point
         * @return the value
         */
        Trie.prototype.get = function (codePoint) {
            var ix;
            if (codePoint >= 0) {
                if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {
                    // Ordinary BMP code point, excluding leading surrogates.
                    // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.
                    // 16 bit data is stored in the index array itself.
                    ix = this.index[codePoint >> UTRIE2_SHIFT_2];
                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);
                    return this.data[ix];
                }
                if (codePoint <= 0xffff) {
                    // Lead Surrogate Code Point.  A Separate index section is stored for
                    // lead surrogate code units and code points.
                    //   The main index has the code unit data.
                    //   For this function, we need the code point data.
                    // Note: this expression could be refactored for slightly improved efficiency, but
                    //       surrogate code points will be so rare in practice that it's not worth it.
                    ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)];
                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);
                    return this.data[ix];
                }
                if (codePoint < this.highStart) {
                    // Supplemental code point, use two-level lookup.
                    ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);
                    ix = this.index[ix];
                    ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK;
                    ix = this.index[ix];
                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);
                    return this.data[ix];
                }
                if (codePoint <= 0x10ffff) {
                    return this.data[this.highValueIndex];
                }
            }
            // Fall through.  The code point is outside of the legal range of 0..0x10ffff.
            return this.errorValue;
        };
        return Trie;
    }());

    var base64 = 'KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA';

    /* @flow */
    var LETTER_NUMBER_MODIFIER = 50;
    // Non-tailorable Line Breaking Classes
    var BK = 1; //  Cause a line break (after)
    var CR = 2; //  Cause a line break (after), except between CR and LF
    var LF = 3; //  Cause a line break (after)
    var CM = 4; //  Prohibit a line break between the character and the preceding character
    var NL = 5; //  Cause a line break (after)
    var WJ = 7; //  Prohibit line breaks before and after
    var ZW = 8; //  Provide a break opportunity
    var GL = 9; //  Prohibit line breaks before and after
    var SP = 10; // Enable indirect line breaks
    var ZWJ = 11; // Prohibit line breaks within joiner sequences
    // Break Opportunities
    var B2 = 12; //  Provide a line break opportunity before and after the character
    var BA = 13; //  Generally provide a line break opportunity after the character
    var BB = 14; //  Generally provide a line break opportunity before the character
    var HY = 15; //  Provide a line break opportunity after the character, except in numeric context
    var CB = 16; //   Provide a line break opportunity contingent on additional information
    // Characters Prohibiting Certain Breaks
    var CL = 17; //  Prohibit line breaks before
    var CP = 18; //  Prohibit line breaks before
    var EX = 19; //  Prohibit line breaks before
    var IN = 20; //  Allow only indirect line breaks between pairs
    var NS = 21; //  Allow only indirect line breaks before
    var OP = 22; //  Prohibit line breaks after
    var QU = 23; //  Act like they are both opening and closing
    // Numeric Context
    var IS = 24; //  Prevent breaks after any and before numeric
    var NU = 25; //  Form numeric expressions for line breaking purposes
    var PO = 26; //  Do not break following a numeric expression
    var PR = 27; //  Do not break in front of a numeric expression
    var SY = 28; //  Prevent a break before; and allow a break after
    // Other Characters
    var AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID
    var AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters
    var CJ = 31; //  Treat as NS or ID for strict or normal breaking.
    var EB = 32; //  Do not break from following Emoji Modifier
    var EM = 33; //  Do not break from preceding Emoji Base
    var H2 = 34; //  Form Korean syllable blocks
    var H3 = 35; //  Form Korean syllable blocks
    var HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic
    var ID = 37; //  Break before or after; except in some numeric context
    var JL = 38; //  Form Korean syllable blocks
    var JV = 39; //  Form Korean syllable blocks
    var JT = 40; //  Form Korean syllable blocks
    var RI = 41; //  Keep pairs together. For pairs; break before and after other classes
    var SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis
    var XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions
    var BREAK_MANDATORY = '!';
    var BREAK_NOT_ALLOWED = '×';
    var BREAK_ALLOWED = '÷';
    var UnicodeTrie = createTrieFromBase64(base64);
    var ALPHABETICS = [AL, HL];
    var HARD_LINE_BREAKS = [BK, CR, LF, NL];
    var SPACE = [SP, ZW];
    var PREFIX_POSTFIX = [PR, PO];
    var LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);
    var KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];
    var HYPHEN = [HY, BA];
    var codePointsToCharacterClasses = function (codePoints, lineBreak) {
        if (lineBreak === void 0) { lineBreak = 'strict'; }
        var types = [];
        var indicies = [];
        var categories = [];
        codePoints.forEach(function (codePoint, index) {
            var classType = UnicodeTrie.get(codePoint);
            if (classType > LETTER_NUMBER_MODIFIER) {
                categories.push(true);
                classType -= LETTER_NUMBER_MODIFIER;
            }
            else {
                categories.push(false);
            }
            if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {
                // U+2010, – U+2013, 〜 U+301C, ゠ U+30A0
                if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {
                    indicies.push(index);
                    return types.push(CB);
                }
            }
            if (classType === CM || classType === ZWJ) {
                // LB10 Treat any remaining combining mark or ZWJ as AL.
                if (index === 0) {
                    indicies.push(index);
                    return types.push(AL);
                }
                // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of
                // the base character in all of the following rules. Treat ZWJ as if it were CM.
                var prev = types[index - 1];
                if (LINE_BREAKS.indexOf(prev) === -1) {
                    indicies.push(indicies[index - 1]);
                    return types.push(prev);
                }
                indicies.push(index);
                return types.push(AL);
            }
            indicies.push(index);
            if (classType === CJ) {
                return types.push(lineBreak === 'strict' ? NS : ID);
            }
            if (classType === SA) {
                return types.push(AL);
            }
            if (classType === AI) {
                return types.push(AL);
            }
            // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL
            // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised
            // to take into account the actual line breaking properties for these characters.
            if (classType === XX) {
                if ((codePoint >= 0x20000 && codePoint <= 0x2fffd) || (codePoint >= 0x30000 && codePoint <= 0x3fffd)) {
                    return types.push(ID);
                }
                else {
                    return types.push(AL);
                }
            }
            types.push(classType);
        });
        return [indicies, types, categories];
    };
    var isAdjacentWithSpaceIgnored = function (a, b, currentIndex, classTypes) {
        var current = classTypes[currentIndex];
        if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {
            var i = currentIndex;
            while (i <= classTypes.length) {
                i++;
                var next = classTypes[i];
                if (next === b) {
                    return true;
                }
                if (next !== SP) {
                    break;
                }
            }
        }
        if (current === SP) {
            var i = currentIndex;
            while (i > 0) {
                i--;
                var prev = classTypes[i];
                if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {
                    var n = currentIndex;
                    while (n <= classTypes.length) {
                        n++;
                        var next = classTypes[n];
                        if (next === b) {
                            return true;
                        }
                        if (next !== SP) {
                            break;
                        }
                    }
                }
                if (prev !== SP) {
                    break;
                }
            }
        }
        return false;
    };
    var previousNonSpaceClassType = function (currentIndex, classTypes) {
        var i = currentIndex;
        while (i >= 0) {
            var type = classTypes[i];
            if (type === SP) {
                i--;
            }
            else {
                return type;
            }
        }
        return 0;
    };
    var _lineBreakAtIndex = function (codePoints, classTypes, indicies, index, forbiddenBreaks) {
        if (indicies[index] === 0) {
            return BREAK_NOT_ALLOWED;
        }
        var currentIndex = index - 1;
        if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {
            return BREAK_NOT_ALLOWED;
        }
        var beforeIndex = currentIndex - 1;
        var afterIndex = currentIndex + 1;
        var current = classTypes[currentIndex];
        // LB4 Always break after hard line breaks.
        // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.
        var before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;
        var next = classTypes[afterIndex];
        if (current === CR && next === LF) {
            return BREAK_NOT_ALLOWED;
        }
        if (HARD_LINE_BREAKS.indexOf(current) !== -1) {
            return BREAK_MANDATORY;
        }
        // LB6 Do not break before hard line breaks.
        if (HARD_LINE_BREAKS.indexOf(next) !== -1) {
            return BREAK_NOT_ALLOWED;
        }
        // LB7 Do not break before spaces or zero width space.
        if (SPACE.indexOf(next) !== -1) {
            return BREAK_NOT_ALLOWED;
        }
        // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.
        if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {
            return BREAK_ALLOWED;
        }
        // LB8a Do not break between a zero width joiner and an ideograph, emoji base or emoji modifier.
        if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ && (next === ID || next === EB || next === EM)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB11 Do not break before or after Word joiner and related characters.
        if (current === WJ || next === WJ) {
            return BREAK_NOT_ALLOWED;
        }
        // LB12 Do not break after NBSP and related characters.
        if (current === GL) {
            return BREAK_NOT_ALLOWED;
        }
        // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.
        if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {
            return BREAK_NOT_ALLOWED;
        }
        // LB13 Do not break before ‘]’ or ‘!’ or ‘;’ or ‘/’, even after spaces.
        if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {
            return BREAK_NOT_ALLOWED;
        }
        // LB14 Do not break after ‘[’, even after spaces.
        if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {
            return BREAK_NOT_ALLOWED;
        }
        // LB15 Do not break within ‘”[’, even with intervening spaces.
        if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.
        if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB17 Do not break within ‘——’, even with intervening spaces.
        if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB18 Break after spaces.
        if (current === SP) {
            return BREAK_ALLOWED;
        }
        // LB19 Do not break before or after quotation marks, such as ‘ ” ’.
        if (current === QU || next === QU) {
            return BREAK_NOT_ALLOWED;
        }
        // LB20 Break before and after unresolved CB.
        if (next === CB || current === CB) {
            return BREAK_ALLOWED;
        }
        // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.
        if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {
            return BREAK_NOT_ALLOWED;
        }
        // LB21a Don't break after Hebrew + Hyphen.
        if (before === HL && HYPHEN.indexOf(current) !== -1) {
            return BREAK_NOT_ALLOWED;
        }
        // LB21b Don’t break between Solidus and Hebrew letters.
        if (current === SY && next === HL) {
            return BREAK_NOT_ALLOWED;
        }
        // LB22 Do not break between two ellipses, or between letters, numbers or exclamations and ellipsis.
        if (next === IN && ALPHABETICS.concat(IN, EX, NU, ID, EB, EM).indexOf(current) !== -1) {
            return BREAK_NOT_ALLOWED;
        }
        // LB23 Do not break between digits and letters.
        if ((ALPHABETICS.indexOf(next) !== -1 && current === NU) || (ALPHABETICS.indexOf(current) !== -1 && next === NU)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.
        if ((current === PR && [ID, EB, EM].indexOf(next) !== -1) ||
            ([ID, EB, EM].indexOf(current) !== -1 && next === PO)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.
        if ((ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1) ||
            (PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB25 Do not break between the following pairs of classes relevant to numbers:
        if (
        // (PR | PO) × ( OP | HY )? NU
        ([PR, PO].indexOf(current) !== -1 &&
            (next === NU || ([OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU))) ||
            // ( OP | HY ) × NU
            ([OP, HY].indexOf(current) !== -1 && next === NU) ||
            // NU ×	(NU | SY | IS)
            (current === NU && [NU, SY, IS].indexOf(next) !== -1)) {
            return BREAK_NOT_ALLOWED;
        }
        // NU (NU | SY | IS)* × (NU | SY | IS | CL | CP)
        if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {
            var prevIndex = currentIndex;
            while (prevIndex >= 0) {
                var type = classTypes[prevIndex];
                if (type === NU) {
                    return BREAK_NOT_ALLOWED;
                }
                else if ([SY, IS].indexOf(type) !== -1) {
                    prevIndex--;
                }
                else {
                    break;
                }
            }
        }
        // NU (NU | SY | IS)* (CL | CP)? × (PO | PR))
        if ([PR, PO].indexOf(next) !== -1) {
            var prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;
            while (prevIndex >= 0) {
                var type = classTypes[prevIndex];
                if (type === NU) {
                    return BREAK_NOT_ALLOWED;
                }
                else if ([SY, IS].indexOf(type) !== -1) {
                    prevIndex--;
                }
                else {
                    break;
                }
            }
        }
        // LB26 Do not break a Korean syllable.
        if ((JL === current && [JL, JV, H2, H3].indexOf(next) !== -1) ||
            ([JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1) ||
            ([JT, H3].indexOf(current) !== -1 && next === JT)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB27 Treat a Korean Syllable Block the same as ID.
        if ((KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1) ||
            (KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB28 Do not break between alphabetics (“at”).
        if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {
            return BREAK_NOT_ALLOWED;
        }
        // LB29 Do not break between numeric punctuation and alphabetics (“e.g.”).
        if (current === IS && ALPHABETICS.indexOf(next) !== -1) {
            return BREAK_NOT_ALLOWED;
        }
        // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.
        if ((ALPHABETICS.concat(NU).indexOf(current) !== -1 && next === OP) ||
            (ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB30a Break between two regional indicator symbols if and only if there are an even number of regional
        // indicators preceding the position of the break.
        if (current === RI && next === RI) {
            var i = indicies[currentIndex];
            var count = 1;
            while (i > 0) {
                i--;
                if (classTypes[i] === RI) {
                    count++;
                }
                else {
                    break;
                }
            }
            if (count % 2 !== 0) {
                return BREAK_NOT_ALLOWED;
            }
        }
        // LB30b Do not break between an emoji base and an emoji modifier.
        if (current === EB && next === EM) {
            return BREAK_NOT_ALLOWED;
        }
        return BREAK_ALLOWED;
    };
    var cssFormattedClasses = function (codePoints, options) {
        if (!options) {
            options = { lineBreak: 'normal', wordBreak: 'normal' };
        }
        var _a = codePointsToCharacterClasses(codePoints, options.lineBreak), indicies = _a[0], classTypes = _a[1], isLetterNumber = _a[2];
        if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {
            classTypes = classTypes.map(function (type) { return ([NU, AL, SA].indexOf(type) !== -1 ? ID : type); });
        }
        var forbiddenBreakpoints = options.wordBreak === 'keep-all'
            ? isLetterNumber.map(function (letterNumber, i) {
                return letterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;
            })
            : undefined;
        return [indicies, classTypes, forbiddenBreakpoints];
    };
    var Break = /** @class */ (function () {
        function Break(codePoints, lineBreak, start, end) {
            this.codePoints = codePoints;
            this.required = lineBreak === BREAK_MANDATORY;
            this.start = start;
            this.end = end;
        }
        Break.prototype.slice = function () {
            return fromCodePoint.apply(void 0, this.codePoints.slice(this.start, this.end));
        };
        return Break;
    }());
    var LineBreaker = function (str, options) {
        var codePoints = toCodePoints(str);
        var _a = cssFormattedClasses(codePoints, options), indicies = _a[0], classTypes = _a[1], forbiddenBreakpoints = _a[2];
        var length = codePoints.length;
        var lastEnd = 0;
        var nextIndex = 0;
        return {
            next: function () {
                if (nextIndex >= length) {
                    return { done: true, value: null };
                }
                var lineBreak = BREAK_NOT_ALLOWED;
                while (nextIndex < length &&
                    (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) ===
                        BREAK_NOT_ALLOWED) { }
                if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {
                    var value = new Break(codePoints, lineBreak, lastEnd, nextIndex);
                    lastEnd = nextIndex;
                    return { value: value, done: false };
                }
                return { done: true, value: null };
            },
        };
    };

    // https://www.w3.org/TR/css-syntax-3
    var TokenType;
    (function (TokenType) {
        TokenType[TokenType["STRING_TOKEN"] = 0] = "STRING_TOKEN";
        TokenType[TokenType["BAD_STRING_TOKEN"] = 1] = "BAD_STRING_TOKEN";
        TokenType[TokenType["LEFT_PARENTHESIS_TOKEN"] = 2] = "LEFT_PARENTHESIS_TOKEN";
        TokenType[TokenType["RIGHT_PARENTHESIS_TOKEN"] = 3] = "RIGHT_PARENTHESIS_TOKEN";
        TokenType[TokenType["COMMA_TOKEN"] = 4] = "COMMA_TOKEN";
        TokenType[TokenType["HASH_TOKEN"] = 5] = "HASH_TOKEN";
        TokenType[TokenType["DELIM_TOKEN"] = 6] = "DELIM_TOKEN";
        TokenType[TokenType["AT_KEYWORD_TOKEN"] = 7] = "AT_KEYWORD_TOKEN";
        TokenType[TokenType["PREFIX_MATCH_TOKEN"] = 8] = "PREFIX_MATCH_TOKEN";
        TokenType[TokenType["DASH_MATCH_TOKEN"] = 9] = "DASH_MATCH_TOKEN";
        TokenType[TokenType["INCLUDE_MATCH_TOKEN"] = 10] = "INCLUDE_MATCH_TOKEN";
        TokenType[TokenType["LEFT_CURLY_BRACKET_TOKEN"] = 11] = "LEFT_CURLY_BRACKET_TOKEN";
        TokenType[TokenType["RIGHT_CURLY_BRACKET_TOKEN"] = 12] = "RIGHT_CURLY_BRACKET_TOKEN";
        TokenType[TokenType["SUFFIX_MATCH_TOKEN"] = 13] = "SUFFIX_MATCH_TOKEN";
        TokenType[TokenType["SUBSTRING_MATCH_TOKEN"] = 14] = "SUBSTRING_MATCH_TOKEN";
        TokenType[TokenType["DIMENSION_TOKEN"] = 15] = "DIMENSION_TOKEN";
        TokenType[TokenType["PERCENTAGE_TOKEN"] = 16] = "PERCENTAGE_TOKEN";
        TokenType[TokenType["NUMBER_TOKEN"] = 17] = "NUMBER_TOKEN";
        TokenType[TokenType["FUNCTION"] = 18] = "FUNCTION";
        TokenType[TokenType["FUNCTION_TOKEN"] = 19] = "FUNCTION_TOKEN";
        TokenType[TokenType["IDENT_TOKEN"] = 20] = "IDENT_TOKEN";
        TokenType[TokenType["COLUMN_TOKEN"] = 21] = "COLUMN_TOKEN";
        TokenType[TokenType["URL_TOKEN"] = 22] = "URL_TOKEN";
        TokenType[TokenType["BAD_URL_TOKEN"] = 23] = "BAD_URL_TOKEN";
        TokenType[TokenType["CDC_TOKEN"] = 24] = "CDC_TOKEN";
        TokenType[TokenType["CDO_TOKEN"] = 25] = "CDO_TOKEN";
        TokenType[TokenType["COLON_TOKEN"] = 26] = "COLON_TOKEN";
        TokenType[TokenType["SEMICOLON_TOKEN"] = 27] = "SEMICOLON_TOKEN";
        TokenType[TokenType["LEFT_SQUARE_BRACKET_TOKEN"] = 28] = "LEFT_SQUARE_BRACKET_TOKEN";
        TokenType[TokenType["RIGHT_SQUARE_BRACKET_TOKEN"] = 29] = "RIGHT_SQUARE_BRACKET_TOKEN";
        TokenType[TokenType["UNICODE_RANGE_TOKEN"] = 30] = "UNICODE_RANGE_TOKEN";
        TokenType[TokenType["WHITESPACE_TOKEN"] = 31] = "WHITESPACE_TOKEN";
        TokenType[TokenType["EOF_TOKEN"] = 32] = "EOF_TOKEN";
    })(TokenType || (TokenType = {}));
    var FLAG_UNRESTRICTED = 1 << 0;
    var FLAG_ID = 1 << 1;
    var FLAG_INTEGER = 1 << 2;
    var FLAG_NUMBER = 1 << 3;
    var LINE_FEED = 0x000a;
    var SOLIDUS = 0x002f;
    var REVERSE_SOLIDUS = 0x005c;
    var CHARACTER_TABULATION = 0x0009;
    var SPACE$1 = 0x0020;
    var QUOTATION_MARK = 0x0022;
    var EQUALS_SIGN = 0x003d;
    var NUMBER_SIGN = 0x0023;
    var DOLLAR_SIGN = 0x0024;
    var PERCENTAGE_SIGN = 0x0025;
    var APOSTROPHE = 0x0027;
    var LEFT_PARENTHESIS = 0x0028;
    var RIGHT_PARENTHESIS = 0x0029;
    var LOW_LINE = 0x005f;
    var HYPHEN_MINUS = 0x002d;
    var EXCLAMATION_MARK = 0x0021;
    var LESS_THAN_SIGN = 0x003c;
    var GREATER_THAN_SIGN = 0x003e;
    var COMMERCIAL_AT = 0x0040;
    var LEFT_SQUARE_BRACKET = 0x005b;
    var RIGHT_SQUARE_BRACKET = 0x005d;
    var CIRCUMFLEX_ACCENT = 0x003d;
    var LEFT_CURLY_BRACKET = 0x007b;
    var QUESTION_MARK = 0x003f;
    var RIGHT_CURLY_BRACKET = 0x007d;
    var VERTICAL_LINE = 0x007c;
    var TILDE = 0x007e;
    var CONTROL = 0x0080;
    var REPLACEMENT_CHARACTER = 0xfffd;
    var ASTERISK = 0x002a;
    var PLUS_SIGN = 0x002b;
    var COMMA = 0x002c;
    var COLON = 0x003a;
    var SEMICOLON = 0x003b;
    var FULL_STOP = 0x002e;
    var NULL = 0x0000;
    var BACKSPACE = 0x0008;
    var LINE_TABULATION = 0x000b;
    var SHIFT_OUT = 0x000e;
    var INFORMATION_SEPARATOR_ONE = 0x001f;
    var DELETE = 0x007f;
    var EOF = -1;
    var ZERO = 0x0030;
    var a = 0x0061;
    var e = 0x0065;
    var f = 0x0066;
    var u = 0x0075;
    var z = 0x007a;
    var A = 0x0041;
    var E = 0x0045;
    var F = 0x0046;
    var U = 0x0055;
    var Z = 0x005a;
    var isDigit = function (codePoint) { return codePoint >= ZERO && codePoint <= 0x0039; };
    var isSurrogateCodePoint = function (codePoint) { return codePoint >= 0xd800 && codePoint <= 0xdfff; };
    var isHex = function (codePoint) {
        return isDigit(codePoint) || (codePoint >= A && codePoint <= F) || (codePoint >= a && codePoint <= f);
    };
    var isLowerCaseLetter = function (codePoint) { return codePoint >= a && codePoint <= z; };
    var isUpperCaseLetter = function (codePoint) { return codePoint >= A && codePoint <= Z; };
    var isLetter = function (codePoint) { return isLowerCaseLetter(codePoint) || isUpperCaseLetter(codePoint); };
    var isNonASCIICodePoint = function (codePoint) { return codePoint >= CONTROL; };
    var isWhiteSpace = function (codePoint) {
        return codePoint === LINE_FEED || codePoint === CHARACTER_TABULATION || codePoint === SPACE$1;
    };
    var isNameStartCodePoint = function (codePoint) {
        return isLetter(codePoint) || isNonASCIICodePoint(codePoint) || codePoint === LOW_LINE;
    };
    var isNameCodePoint = function (codePoint) {
        return isNameStartCodePoint(codePoint) || isDigit(codePoint) || codePoint === HYPHEN_MINUS;
    };
    var isNonPrintableCodePoint = function (codePoint) {
        return ((codePoint >= NULL && codePoint <= BACKSPACE) ||
            codePoint === LINE_TABULATION ||
            (codePoint >= SHIFT_OUT && codePoint <= INFORMATION_SEPARATOR_ONE) ||
            codePoint === DELETE);
    };
    var isValidEscape = function (c1, c2) {
        if (c1 !== REVERSE_SOLIDUS) {
            return false;
        }
        return c2 !== LINE_FEED;
    };
    var isIdentifierStart = function (c1, c2, c3) {
        if (c1 === HYPHEN_MINUS) {
            return isNameStartCodePoint(c2) || isValidEscape(c2, c3);
        }
        else if (isNameStartCodePoint(c1)) {
            return true;
        }
        else if (c1 === REVERSE_SOLIDUS && isValidEscape(c1, c2)) {
            return true;
        }
        return false;
    };
    var isNumberStart = function (c1, c2, c3) {
        if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {
            if (isDigit(c2)) {
                return true;
            }
            return c2 === FULL_STOP && isDigit(c3);
        }
        if (c1 === FULL_STOP) {
            return isDigit(c2);
        }
        return isDigit(c1);
    };
    var stringToNumber = function (codePoints) {
        var c = 0;
        var sign = 1;
        if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {
            if (codePoints[c] === HYPHEN_MINUS) {
                sign = -1;
            }
            c++;
        }
        var integers = [];
        while (isDigit(codePoints[c])) {
            integers.push(codePoints[c++]);
        }
        var int = integers.length ? parseInt(fromCodePoint.apply(void 0, integers), 10) : 0;
        if (codePoints[c] === FULL_STOP) {
            c++;
        }
        var fraction = [];
        while (isDigit(codePoints[c])) {
            fraction.push(codePoints[c++]);
        }
        var fracd = fraction.length;
        var frac = fracd ? parseInt(fromCodePoint.apply(void 0, fraction), 10) : 0;
        if (codePoints[c] === E || codePoints[c] === e) {
            c++;
        }
        var expsign = 1;
        if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {
            if (codePoints[c] === HYPHEN_MINUS) {
                expsign = -1;
            }
            c++;
        }
        var exponent = [];
        while (isDigit(codePoints[c])) {
            exponent.push(codePoints[c++]);
        }
        var exp = exponent.length ? parseInt(fromCodePoint.apply(void 0, exponent), 10) : 0;
        return sign * (int + frac * Math.pow(10, -fracd)) * Math.pow(10, expsign * exp);
    };
    var LEFT_PARENTHESIS_TOKEN = {
        type: TokenType.LEFT_PARENTHESIS_TOKEN
    };
    var RIGHT_PARENTHESIS_TOKEN = {
        type: TokenType.RIGHT_PARENTHESIS_TOKEN
    };
    var COMMA_TOKEN = { type: TokenType.COMMA_TOKEN };
    var SUFFIX_MATCH_TOKEN = { type: TokenType.SUFFIX_MATCH_TOKEN };
    var PREFIX_MATCH_TOKEN = { type: TokenType.PREFIX_MATCH_TOKEN };
    var COLUMN_TOKEN = { type: TokenType.COLUMN_TOKEN };
    var DASH_MATCH_TOKEN = { type: TokenType.DASH_MATCH_TOKEN };
    var INCLUDE_MATCH_TOKEN = { type: TokenType.INCLUDE_MATCH_TOKEN };
    var LEFT_CURLY_BRACKET_TOKEN = {
        type: TokenType.LEFT_CURLY_BRACKET_TOKEN
    };
    var RIGHT_CURLY_BRACKET_TOKEN = {
        type: TokenType.RIGHT_CURLY_BRACKET_TOKEN
    };
    var SUBSTRING_MATCH_TOKEN = { type: TokenType.SUBSTRING_MATCH_TOKEN };
    var BAD_URL_TOKEN = { type: TokenType.BAD_URL_TOKEN };
    var BAD_STRING_TOKEN = { type: TokenType.BAD_STRING_TOKEN };
    var CDO_TOKEN = { type: TokenType.CDO_TOKEN };
    var CDC_TOKEN = { type: TokenType.CDC_TOKEN };
    var COLON_TOKEN = { type: TokenType.COLON_TOKEN };
    var SEMICOLON_TOKEN = { type: TokenType.SEMICOLON_TOKEN };
    var LEFT_SQUARE_BRACKET_TOKEN = {
        type: TokenType.LEFT_SQUARE_BRACKET_TOKEN
    };
    var RIGHT_SQUARE_BRACKET_TOKEN = {
        type: TokenType.RIGHT_SQUARE_BRACKET_TOKEN
    };
    var WHITESPACE_TOKEN = { type: TokenType.WHITESPACE_TOKEN };
    var EOF_TOKEN = { type: TokenType.EOF_TOKEN };
    var Tokenizer = /** @class */ (function () {
        function Tokenizer() {
            this._value = [];
        }
        Tokenizer.prototype.write = function (chunk) {
            this._value = this._value.concat(toCodePoints(chunk));
        };
        Tokenizer.prototype.read = function () {
            var tokens = [];
            var token = this.consumeToken();
            while (token !== EOF_TOKEN) {
                tokens.push(token);
                token = this.consumeToken();
            }
            return tokens;
        };
        Tokenizer.prototype.consumeToken = function () {
            var codePoint = this.consumeCodePoint();
            switch (codePoint) {
                case QUOTATION_MARK:
                    return this.consumeStringToken(QUOTATION_MARK);
                case NUMBER_SIGN:
                    var c1 = this.peekCodePoint(0);
                    var c2 = this.peekCodePoint(1);
                    var c3 = this.peekCodePoint(2);
                    if (isNameCodePoint(c1) || isValidEscape(c2, c3)) {
                        var flags = isIdentifierStart(c1, c2, c3) ? FLAG_ID : FLAG_UNRESTRICTED;
                        var value = this.consumeName();
                        return { type: TokenType.HASH_TOKEN, value: value, flags: flags };
                    }
                    break;
                case DOLLAR_SIGN:
                    if (this.peekCodePoint(0) === EQUALS_SIGN) {
                        this.consumeCodePoint();
                        return SUFFIX_MATCH_TOKEN;
                    }
                    break;
                case APOSTROPHE:
                    return this.consumeStringToken(APOSTROPHE);
                case LEFT_PARENTHESIS:
                    return LEFT_PARENTHESIS_TOKEN;
                case RIGHT_PARENTHESIS:
                    return RIGHT_PARENTHESIS_TOKEN;
                case ASTERISK:
                    if (this.peekCodePoint(0) === EQUALS_SIGN) {
                        this.consumeCodePoint();
                        return SUBSTRING_MATCH_TOKEN;
                    }
                    break;
                case PLUS_SIGN:
                    if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {
                        this.reconsumeCodePoint(codePoint);
                        return this.consumeNumericToken();
                    }
                    break;
                case COMMA:
                    return COMMA_TOKEN;
                case HYPHEN_MINUS:
                    var e1 = codePoint;
                    var e2 = this.peekCodePoint(0);
                    var e3 = this.peekCodePoint(1);
                    if (isNumberStart(e1, e2, e3)) {
                        this.reconsumeCodePoint(codePoint);
                        return this.consumeNumericToken();
                    }
                    if (isIdentifierStart(e1, e2, e3)) {
                        this.reconsumeCodePoint(codePoint);
                        return this.consumeIdentLikeToken();
                    }
                    if (e2 === HYPHEN_MINUS && e3 === GREATER_THAN_SIGN) {
                        this.consumeCodePoint();
                        this.consumeCodePoint();
                        return CDC_TOKEN;
                    }
                    break;
                case FULL_STOP:
                    if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {
                        this.reconsumeCodePoint(codePoint);
                        return this.consumeNumericToken();
                    }
                    break;
                case SOLIDUS:
                    if (this.peekCodePoint(0) === ASTERISK) {
                        this.consumeCodePoint();
                        while (true) {
                            var c = this.consumeCodePoint();
                            if (c === ASTERISK) {
                                c = this.consumeCodePoint();
                                if (c === SOLIDUS) {
                                    return this.consumeToken();
                                }
                            }
                            if (c === EOF) {
                                return this.consumeToken();
                            }
                        }
                    }
                    break;
                case COLON:
                    return COLON_TOKEN;
                case SEMICOLON:
                    return SEMICOLON_TOKEN;
                case LESS_THAN_SIGN:
                    if (this.peekCodePoint(0) === EXCLAMATION_MARK &&
                        this.peekCodePoint(1) === HYPHEN_MINUS &&
                        this.peekCodePoint(2) === HYPHEN_MINUS) {
                        this.consumeCodePoint();
                        this.consumeCodePoint();
                        return CDO_TOKEN;
                    }
                    break;
                case COMMERCIAL_AT:
                    var a1 = this.peekCodePoint(0);
                    var a2 = this.peekCodePoint(1);
                    var a3 = this.peekCodePoint(2);
                    if (isIdentifierStart(a1, a2, a3)) {
                        var value = this.consumeName();
                        return { type: TokenType.AT_KEYWORD_TOKEN, value: value };
                    }
                    break;
                case LEFT_SQUARE_BRACKET:
                    return LEFT_SQUARE_BRACKET_TOKEN;
                case REVERSE_SOLIDUS:
                    if (isValidEscape(codePoint, this.peekCodePoint(0))) {
                        this.reconsumeCodePoint(codePoint);
                        return this.consumeIdentLikeToken();
                    }
                    break;
                case RIGHT_SQUARE_BRACKET:
                    return RIGHT_SQUARE_BRACKET_TOKEN;
                case CIRCUMFLEX_ACCENT:
                    if (this.peekCodePoint(0) === EQUALS_SIGN) {
                        this.consumeCodePoint();
                        return PREFIX_MATCH_TOKEN;
                    }
                    break;
                case LEFT_CURLY_BRACKET:
                    return LEFT_CURLY_BRACKET_TOKEN;
                case RIGHT_CURLY_BRACKET:
                    return RIGHT_CURLY_BRACKET_TOKEN;
                case u:
                case U:
                    var u1 = this.peekCodePoint(0);
                    var u2 = this.peekCodePoint(1);
                    if (u1 === PLUS_SIGN && (isHex(u2) || u2 === QUESTION_MARK)) {
                        this.consumeCodePoint();
                        this.consumeUnicodeRangeToken();
                    }
                    this.reconsumeCodePoint(codePoint);
                    return this.consumeIdentLikeToken();
                case VERTICAL_LINE:
                    if (this.peekCodePoint(0) === EQUALS_SIGN) {
                        this.consumeCodePoint();
                        return DASH_MATCH_TOKEN;
                    }
                    if (this.peekCodePoint(0) === VERTICAL_LINE) {
                        this.consumeCodePoint();
                        return COLUMN_TOKEN;
                    }
                    break;
                case TILDE:
                    if (this.peekCodePoint(0) === EQUALS_SIGN) {
                        this.consumeCodePoint();
                        return INCLUDE_MATCH_TOKEN;
                    }
                    break;
                case EOF:
                    return EOF_TOKEN;
            }
            if (isWhiteSpace(codePoint)) {
                this.consumeWhiteSpace();
                return WHITESPACE_TOKEN;
            }
            if (isDigit(codePoint)) {
                this.reconsumeCodePoint(codePoint);
                return this.consumeNumericToken();
            }
            if (isNameStartCodePoint(codePoint)) {
                this.reconsumeCodePoint(codePoint);
                return this.consumeIdentLikeToken();
            }
            return { type: TokenType.DELIM_TOKEN, value: fromCodePoint(codePoint) };
        };
        Tokenizer.prototype.consumeCodePoint = function () {
            var value = this._value.shift();
            return typeof value === 'undefined' ? -1 : value;
        };
        Tokenizer.prototype.reconsumeCodePoint = function (codePoint) {
            this._value.unshift(codePoint);
        };
        Tokenizer.prototype.peekCodePoint = function (delta) {
            if (delta >= this._value.length) {
                return -1;
            }
            return this._value[delta];
        };
        Tokenizer.prototype.consumeUnicodeRangeToken = function () {
            var digits = [];
            var codePoint = this.consumeCodePoint();
            while (isHex(codePoint) && digits.length < 6) {
                digits.push(codePoint);
                codePoint = this.consumeCodePoint();
            }
            var questionMarks = false;
            while (codePoint === QUESTION_MARK && digits.length < 6) {
                digits.push(codePoint);
                codePoint = this.consumeCodePoint();
                questionMarks = true;
            }
            if (questionMarks) {
                var start_1 = parseInt(fromCodePoint.apply(void 0, digits.map(function (digit) { return (digit === QUESTION_MARK ? ZERO : digit); })), 16);
                var end = parseInt(fromCodePoint.apply(void 0, digits.map(function (digit) { return (digit === QUESTION_MARK ? F : digit); })), 16);
                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start_1, end: end };
            }
            var start = parseInt(fromCodePoint.apply(void 0, digits), 16);
            if (this.peekCodePoint(0) === HYPHEN_MINUS && isHex(this.peekCodePoint(1))) {
                this.consumeCodePoint();
                codePoint = this.consumeCodePoint();
                var endDigits = [];
                while (isHex(codePoint) && endDigits.length < 6) {
                    endDigits.push(codePoint);
                    codePoint = this.consumeCodePoint();
                }
                var end = parseInt(fromCodePoint.apply(void 0, endDigits), 16);
                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start, end: end };
            }
            else {
                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start, end: start };
            }
        };
        Tokenizer.prototype.consumeIdentLikeToken = function () {
            var value = this.consumeName();
            if (value.toLowerCase() === 'url' && this.peekCodePoint(0) === LEFT_PARENTHESIS) {
                this.consumeCodePoint();
                return this.consumeUrlToken();
            }
            else if (this.peekCodePoint(0) === LEFT_PARENTHESIS) {
                this.consumeCodePoint();
                return { type: TokenType.FUNCTION_TOKEN, value: value };
            }
            return { type: TokenType.IDENT_TOKEN, value: value };
        };
        Tokenizer.prototype.consumeUrlToken = function () {
            var value = [];
            this.consumeWhiteSpace();
            if (this.peekCodePoint(0) === EOF) {
                return { type: TokenType.URL_TOKEN, value: '' };
            }
            var next = this.peekCodePoint(0);
            if (next === APOSTROPHE || next === QUOTATION_MARK) {
                var stringToken = this.consumeStringToken(this.consumeCodePoint());
                if (stringToken.type === TokenType.STRING_TOKEN) {
                    this.consumeWhiteSpace();
                    if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {
                        this.consumeCodePoint();
                        return { type: TokenType.URL_TOKEN, value: stringToken.value };
                    }
                }
                this.consumeBadUrlRemnants();
                return BAD_URL_TOKEN;
            }
            while (true) {
                var codePoint = this.consumeCodePoint();
                if (codePoint === EOF || codePoint === RIGHT_PARENTHESIS) {
                    return { type: TokenType.URL_TOKEN, value: fromCodePoint.apply(void 0, value) };
                }
                else if (isWhiteSpace(codePoint)) {
                    this.consumeWhiteSpace();
                    if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {
                        this.consumeCodePoint();
                        return { type: TokenType.URL_TOKEN, value: fromCodePoint.apply(void 0, value) };
                    }
                    this.consumeBadUrlRemnants();
                    return BAD_URL_TOKEN;
                }
                else if (codePoint === QUOTATION_MARK ||
                    codePoint === APOSTROPHE ||
                    codePoint === LEFT_PARENTHESIS ||
                    isNonPrintableCodePoint(codePoint)) {
                    this.consumeBadUrlRemnants();
                    return BAD_URL_TOKEN;
                }
                else if (codePoint === REVERSE_SOLIDUS) {
                    if (isValidEscape(codePoint, this.peekCodePoint(0))) {
                        value.push(this.consumeEscapedCodePoint());
                    }
                    else {
                        this.consumeBadUrlRemnants();
                        return BAD_URL_TOKEN;
                    }
                }
                else {
                    value.push(codePoint);
                }
            }
        };
        Tokenizer.prototype.consumeWhiteSpace = function () {
            while (isWhiteSpace(this.peekCodePoint(0))) {
                this.consumeCodePoint();
            }
        };
        Tokenizer.prototype.consumeBadUrlRemnants = function () {
            while (true) {
                var codePoint = this.consumeCodePoint();
                if (codePoint === RIGHT_PARENTHESIS || codePoint === EOF) {
                    return;
                }
                if (isValidEscape(codePoint, this.peekCodePoint(0))) {
                    this.consumeEscapedCodePoint();
                }
            }
        };
        Tokenizer.prototype.consumeStringSlice = function (count) {
            var SLICE_STACK_SIZE = 60000;
            var value = '';
            while (count > 0) {
                var amount = Math.min(SLICE_STACK_SIZE, count);
                value += fromCodePoint.apply(void 0, this._value.splice(0, amount));
                count -= amount;
            }
            this._value.shift();
            return value;
        };
        Tokenizer.prototype.consumeStringToken = function (endingCodePoint) {
            var value = '';
            var i = 0;
            do {
                var codePoint = this._value[i];
                if (codePoint === EOF || codePoint === undefined || codePoint === endingCodePoint) {
                    value += this.consumeStringSlice(i);
                    return { type: TokenType.STRING_TOKEN, value: value };
                }
                if (codePoint === LINE_FEED) {
                    this._value.splice(0, i);
                    return BAD_STRING_TOKEN;
                }
                if (codePoint === REVERSE_SOLIDUS) {
                    var next = this._value[i + 1];
                    if (next !== EOF && next !== undefined) {
                        if (next === LINE_FEED) {
                            value += this.consumeStringSlice(i);
                            i = -1;
                            this._value.shift();
                        }
                        else if (isValidEscape(codePoint, next)) {
                            value += this.consumeStringSlice(i);
                            value += fromCodePoint(this.consumeEscapedCodePoint());
                            i = -1;
                        }
                    }
                }
                i++;
            } while (true);
        };
        Tokenizer.prototype.consumeNumber = function () {
            var repr = [];
            var type = FLAG_INTEGER;
            var c1 = this.peekCodePoint(0);
            if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {
                repr.push(this.consumeCodePoint());
            }
            while (isDigit(this.peekCodePoint(0))) {
                repr.push(this.consumeCodePoint());
            }
            c1 = this.peekCodePoint(0);
            var c2 = this.peekCodePoint(1);
            if (c1 === FULL_STOP && isDigit(c2)) {
                repr.push(this.consumeCodePoint(), this.consumeCodePoint());
                type = FLAG_NUMBER;
                while (isDigit(this.peekCodePoint(0))) {
                    repr.push(this.consumeCodePoint());
                }
            }
            c1 = this.peekCodePoint(0);
            c2 = this.peekCodePoint(1);
            var c3 = this.peekCodePoint(2);
            if ((c1 === E || c1 === e) && (((c2 === PLUS_SIGN || c2 === HYPHEN_MINUS) && isDigit(c3)) || isDigit(c2))) {
                repr.push(this.consumeCodePoint(), this.consumeCodePoint());
                type = FLAG_NUMBER;
                while (isDigit(this.peekCodePoint(0))) {
                    repr.push(this.consumeCodePoint());
                }
            }
            return [stringToNumber(repr), type];
        };
        Tokenizer.prototype.consumeNumericToken = function () {
            var _a = this.consumeNumber(), number = _a[0], flags = _a[1];
            var c1 = this.peekCodePoint(0);
            var c2 = this.peekCodePoint(1);
            var c3 = this.peekCodePoint(2);
            if (isIdentifierStart(c1, c2, c3)) {
                var unit = this.consumeName();
                return { type: TokenType.DIMENSION_TOKEN, number: number, flags: flags, unit: unit };
            }
            if (c1 === PERCENTAGE_SIGN) {
                this.consumeCodePoint();
                return { type: TokenType.PERCENTAGE_TOKEN, number: number, flags: flags };
            }
            return { type: TokenType.NUMBER_TOKEN, number: number, flags: flags };
        };
        Tokenizer.prototype.consumeEscapedCodePoint = function () {
            var codePoint = this.consumeCodePoint();
            if (isHex(codePoint)) {
                var hex = fromCodePoint(codePoint);
                while (isHex(this.peekCodePoint(0)) && hex.length < 6) {
                    hex += fromCodePoint(this.consumeCodePoint());
                }
                if (isWhiteSpace(this.peekCodePoint(0))) {
                    this.consumeCodePoint();
                }
                var hexCodePoint = parseInt(hex, 16);
                if (hexCodePoint === 0 || isSurrogateCodePoint(hexCodePoint) || hexCodePoint > 0x10ffff) {
                    return REPLACEMENT_CHARACTER;
                }
                return hexCodePoint;
            }
            if (codePoint === EOF) {
                return REPLACEMENT_CHARACTER;
            }
            return codePoint;
        };
        Tokenizer.prototype.consumeName = function () {
            var result = '';
            while (true) {
                var codePoint = this.consumeCodePoint();
                if (isNameCodePoint(codePoint)) {
                    result += fromCodePoint(codePoint);
                }
                else if (isValidEscape(codePoint, this.peekCodePoint(0))) {
                    result += fromCodePoint(this.consumeEscapedCodePoint());
                }
                else {
                    this.reconsumeCodePoint(codePoint);
                    return result;
                }
            }
        };
        return Tokenizer;
    }());

    var Parser = /** @class */ (function () {
        function Parser(tokens) {
            this._tokens = tokens;
        }
        Parser.create = function (value) {
            var tokenizer = new Tokenizer();
            tokenizer.write(value);
            return new Parser(tokenizer.read());
        };
        Parser.parseValue = function (value) {
            return Parser.create(value).parseComponentValue();
        };
        Parser.parseValues = function (value) {
            return Parser.create(value).parseComponentValues();
        };
        Parser.prototype.parseComponentValue = function () {
            var token = this.consumeToken();
            while (token.type === TokenType.WHITESPACE_TOKEN) {
                token = this.consumeToken();
            }
            if (token.type === TokenType.EOF_TOKEN) {
                throw new SyntaxError("Error parsing CSS component value, unexpected EOF");
            }
            this.reconsumeToken(token);
            var value = this.consumeComponentValue();
            do {
                token = this.consumeToken();
            } while (token.type === TokenType.WHITESPACE_TOKEN);
            if (token.type === TokenType.EOF_TOKEN) {
                return value;
            }
            throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one");
        };
        Parser.prototype.parseComponentValues = function () {
            var values = [];
            while (true) {
                var value = this.consumeComponentValue();
                if (value.type === TokenType.EOF_TOKEN) {
                    return values;
                }
                values.push(value);
                values.push();
            }
        };
        Parser.prototype.consumeComponentValue = function () {
            var token = this.consumeToken();
            switch (token.type) {
                case TokenType.LEFT_CURLY_BRACKET_TOKEN:
                case TokenType.LEFT_SQUARE_BRACKET_TOKEN:
                case TokenType.LEFT_PARENTHESIS_TOKEN:
                    return this.consumeSimpleBlock(token.type);
                case TokenType.FUNCTION_TOKEN:
                    return this.consumeFunction(token);
            }
            return token;
        };
        Parser.prototype.consumeSimpleBlock = function (type) {
            var block = { type: type, values: [] };
            var token = this.consumeToken();
            while (true) {
                if (token.type === TokenType.EOF_TOKEN || isEndingTokenFor(token, type)) {
                    return block;
                }
                this.reconsumeToken(token);
                block.values.push(this.consumeComponentValue());
                token = this.consumeToken();
            }
        };
        Parser.prototype.consumeFunction = function (functionToken) {
            var cssFunction = {
                name: functionToken.value,
                values: [],
                type: TokenType.FUNCTION
            };
            while (true) {
                var token = this.consumeToken();
                if (token.type === TokenType.EOF_TOKEN || token.type === TokenType.RIGHT_PARENTHESIS_TOKEN) {
                    return cssFunction;
                }
                this.reconsumeToken(token);
                cssFunction.values.push(this.consumeComponentValue());
            }
        };
        Parser.prototype.consumeToken = function () {
            var token = this._tokens.shift();
            return typeof token === 'undefined' ? EOF_TOKEN : token;
        };
        Parser.prototype.reconsumeToken = function (token) {
            this._tokens.unshift(token);
        };
        return Parser;
    }());
    var isDimensionToken = function (token) { return token.type === TokenType.DIMENSION_TOKEN; };
    var isNumberToken = function (token) { return token.type === TokenType.NUMBER_TOKEN; };
    var isIdentToken = function (token) { return token.type === TokenType.IDENT_TOKEN; };
    var isStringToken = function (token) { return token.type === TokenType.STRING_TOKEN; };
    var isIdentWithValue = function (token, value) {
        return isIdentToken(token) && token.value === value;
    };
    var nonWhiteSpace = function (token) { return token.type !== TokenType.WHITESPACE_TOKEN; };
    var nonFunctionArgSeparator = function (token) {
        return token.type !== TokenType.WHITESPACE_TOKEN && token.type !== TokenType.COMMA_TOKEN;
    };
    var parseFunctionArgs = function (tokens) {
        var args = [];
        var arg = [];
        tokens.forEach(function (token) {
            if (token.type === TokenType.COMMA_TOKEN) {
                if (arg.length === 0) {
                    throw new Error("Error parsing function args, zero tokens for arg");
                }
                args.push(arg);
                arg = [];
                return;
            }
            if (token.type !== TokenType.WHITESPACE_TOKEN) {
                arg.push(token);
            }
        });
        if (arg.length) {
            args.push(arg);
        }
        return args;
    };
    var isEndingTokenFor = function (token, type) {
        if (type === TokenType.LEFT_CURLY_BRACKET_TOKEN && token.type === TokenType.RIGHT_CURLY_BRACKET_TOKEN) {
            return true;
        }
        if (type === TokenType.LEFT_SQUARE_BRACKET_TOKEN && token.type === TokenType.RIGHT_SQUARE_BRACKET_TOKEN) {
            return true;
        }
        return type === TokenType.LEFT_PARENTHESIS_TOKEN && token.type === TokenType.RIGHT_PARENTHESIS_TOKEN;
    };

    var isLength = function (token) {
        return token.type === TokenType.NUMBER_TOKEN || token.type === TokenType.DIMENSION_TOKEN;
    };

    var isLengthPercentage = function (token) {
        return token.type === TokenType.PERCENTAGE_TOKEN || isLength(token);
    };
    var parseLengthPercentageTuple = function (tokens) {
        return tokens.length > 1 ? [tokens[0], tokens[1]] : [tokens[0]];
    };
    var ZERO_LENGTH = {
        type: TokenType.NUMBER_TOKEN,
        number: 0,
        flags: FLAG_INTEGER
    };
    var FIFTY_PERCENT = {
        type: TokenType.PERCENTAGE_TOKEN,
        number: 50,
        flags: FLAG_INTEGER
    };
    var HUNDRED_PERCENT = {
        type: TokenType.PERCENTAGE_TOKEN,
        number: 100,
        flags: FLAG_INTEGER
    };
    var getAbsoluteValueForTuple = function (tuple, width, height) {
        var x = tuple[0], y = tuple[1];
        return [getAbsoluteValue(x, width), getAbsoluteValue(typeof y !== 'undefined' ? y : x, height)];
    };
    var getAbsoluteValue = function (token, parent) {
        if (token.type === TokenType.PERCENTAGE_TOKEN) {
            return (token.number / 100) * parent;
        }
        if (isDimensionToken(token)) {
            switch (token.unit) {
                case 'rem':
                case 'em':
                    return 16 * token.number; // TODO use correct font-size
                case 'px':
                default:
                    return token.number;
            }
        }
        return token.number;
    };

    var DEG = 'deg';
    var GRAD = 'grad';
    var RAD = 'rad';
    var TURN = 'turn';
    var angle = {
        name: 'angle',
        parse: function (value) {
            if (value.type === TokenType.DIMENSION_TOKEN) {
                switch (value.unit) {
                    case DEG:
                        return (Math.PI * value.number) / 180;
                    case GRAD:
                        return (Math.PI / 200) * value.number;
                    case RAD:
                        return value.number;
                    case TURN:
                        return Math.PI * 2 * value.number;
                }
            }
            throw new Error("Unsupported angle type");
        }
    };
    var isAngle = function (value) {
        if (value.type === TokenType.DIMENSION_TOKEN) {
            if (value.unit === DEG || value.unit === GRAD || value.unit === RAD || value.unit === TURN) {
                return true;
            }
        }
        return false;
    };
    var parseNamedSide = function (tokens) {
        var sideOrCorner = tokens
            .filter(isIdentToken)
            .map(function (ident) { return ident.value; })
            .join(' ');
        switch (sideOrCorner) {
            case 'to bottom right':
            case 'to right bottom':
            case 'left top':
            case 'top left':
                return [ZERO_LENGTH, ZERO_LENGTH];
            case 'to top':
            case 'bottom':
                return deg(0);
            case 'to bottom left':
            case 'to left bottom':
            case 'right top':
            case 'top right':
                return [ZERO_LENGTH, HUNDRED_PERCENT];
            case 'to right':
            case 'left':
                return deg(90);
            case 'to top left':
            case 'to left top':
            case 'right bottom':
            case 'bottom right':
                return [HUNDRED_PERCENT, HUNDRED_PERCENT];
            case 'to bottom':
            case 'top':
                return deg(180);
            case 'to top right':
            case 'to right top':
            case 'left bottom':
            case 'bottom left':
                return [HUNDRED_PERCENT, ZERO_LENGTH];
            case 'to left':
            case 'right':
                return deg(270);
        }
        return 0;
    };
    var deg = function (deg) { return (Math.PI * deg) / 180; };

    var color = {
        name: 'color',
        parse: function (value) {
            if (value.type === TokenType.FUNCTION) {
                var colorFunction = SUPPORTED_COLOR_FUNCTIONS[value.name];
                if (typeof colorFunction === 'undefined') {
                    throw new Error("Attempting to parse an unsupported color function \"" + value.name + "\"");
                }
                return colorFunction(value.values);
            }
            if (value.type === TokenType.HASH_TOKEN) {
                if (value.value.length === 3) {
                    var r = value.value.substring(0, 1);
                    var g = value.value.substring(1, 2);
                    var b = value.value.substring(2, 3);
                    return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), 1);
                }
                if (value.value.length === 4) {
                    var r = value.value.substring(0, 1);
                    var g = value.value.substring(1, 2);
                    var b = value.value.substring(2, 3);
                    var a = value.value.substring(3, 4);
                    return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), parseInt(a + a, 16) / 255);
                }
                if (value.value.length === 6) {
                    var r = value.value.substring(0, 2);
                    var g = value.value.substring(2, 4);
                    var b = value.value.substring(4, 6);
                    return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), 1);
                }
                if (value.value.length === 8) {
                    var r = value.value.substring(0, 2);
                    var g = value.value.substring(2, 4);
                    var b = value.value.substring(4, 6);
                    var a = value.value.substring(6, 8);
                    return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), parseInt(a, 16) / 255);
                }
            }
            if (value.type === TokenType.IDENT_TOKEN) {
                var namedColor = COLORS[value.value.toUpperCase()];
                if (typeof namedColor !== 'undefined') {
                    return namedColor;
                }
            }
            return COLORS.TRANSPARENT;
        }
    };
    var isTransparent = function (color) { return (0xff & color) === 0; };
    var asString = function (color) {
        var alpha = 0xff & color;
        var blue = 0xff & (color >> 8);
        var green = 0xff & (color >> 16);
        var red = 0xff & (color >> 24);
        return alpha < 255 ? "rgba(" + red + "," + green + "," + blue + "," + alpha / 255 + ")" : "rgb(" + red + "," + green + "," + blue + ")";
    };
    var pack = function (r, g, b, a) {
        return ((r << 24) | (g << 16) | (b << 8) | (Math.round(a * 255) << 0)) >>> 0;
    };
    var getTokenColorValue = function (token, i) {
        if (token.type === TokenType.NUMBER_TOKEN) {
            return token.number;
        }
        if (token.type === TokenType.PERCENTAGE_TOKEN) {
            var max = i === 3 ? 1 : 255;
            return i === 3 ? (token.number / 100) * max : Math.round((token.number / 100) * max);
        }
        return 0;
    };
    var rgb = function (args) {
        var tokens = args.filter(nonFunctionArgSeparator);
        if (tokens.length === 3) {
            var _a = tokens.map(getTokenColorValue), r = _a[0], g = _a[1], b = _a[2];
            return pack(r, g, b, 1);
        }
        if (tokens.length === 4) {
            var _b = tokens.map(getTokenColorValue), r = _b[0], g = _b[1], b = _b[2], a = _b[3];
            return pack(r, g, b, a);
        }
        return 0;
    };
    function hue2rgb(t1, t2, hue) {
        if (hue < 0) {
            hue += 1;
        }
        if (hue >= 1) {
            hue -= 1;
        }
        if (hue < 1 / 6) {
            return (t2 - t1) * hue * 6 + t1;
        }
        else if (hue < 1 / 2) {
            return t2;
        }
        else if (hue < 2 / 3) {
            return (t2 - t1) * 6 * (2 / 3 - hue) + t1;
        }
        else {
            return t1;
        }
    }
    var hsl = function (args) {
        var tokens = args.filter(nonFunctionArgSeparator);
        var hue = tokens[0], saturation = tokens[1], lightness = tokens[2], alpha = tokens[3];
        var h = (hue.type === TokenType.NUMBER_TOKEN ? deg(hue.number) : angle.parse(hue)) / (Math.PI * 2);
        var s = isLengthPercentage(saturation) ? saturation.number / 100 : 0;
        var l = isLengthPercentage(lightness) ? lightness.number / 100 : 0;
        var a = typeof alpha !== 'undefined' && isLengthPercentage(alpha) ? getAbsoluteValue(alpha, 1) : 1;
        if (s === 0) {
            return pack(l * 255, l * 255, l * 255, 1);
        }
        var t2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;
        var t1 = l * 2 - t2;
        var r = hue2rgb(t1, t2, h + 1 / 3);
        var g = hue2rgb(t1, t2, h);
        var b = hue2rgb(t1, t2, h - 1 / 3);
        return pack(r * 255, g * 255, b * 255, a);
    };
    var SUPPORTED_COLOR_FUNCTIONS = {
        hsl: hsl,
        hsla: hsl,
        rgb: rgb,
        rgba: rgb
    };
    var COLORS = {
        ALICEBLUE: 0xf0f8ffff,
        ANTIQUEWHITE: 0xfaebd7ff,
        AQUA: 0x00ffffff,
        AQUAMARINE: 0x7fffd4ff,
        AZURE: 0xf0ffffff,
        BEIGE: 0xf5f5dcff,
        BISQUE: 0xffe4c4ff,
        BLACK: 0x000000ff,
        BLANCHEDALMOND: 0xffebcdff,
        BLUE: 0x0000ffff,
        BLUEVIOLET: 0x8a2be2ff,
        BROWN: 0xa52a2aff,
        BURLYWOOD: 0xdeb887ff,
        CADETBLUE: 0x5f9ea0ff,
        CHARTREUSE: 0x7fff00ff,
        CHOCOLATE: 0xd2691eff,
        CORAL: 0xff7f50ff,
        CORNFLOWERBLUE: 0x6495edff,
        CORNSILK: 0xfff8dcff,
        CRIMSON: 0xdc143cff,
        CYAN: 0x00ffffff,
        DARKBLUE: 0x00008bff,
        DARKCYAN: 0x008b8bff,
        DARKGOLDENROD: 0xb886bbff,
        DARKGRAY: 0xa9a9a9ff,
        DARKGREEN: 0x006400ff,
        DARKGREY: 0xa9a9a9ff,
        DARKKHAKI: 0xbdb76bff,
        DARKMAGENTA: 0x8b008bff,
        DARKOLIVEGREEN: 0x556b2fff,
        DARKORANGE: 0xff8c00ff,
        DARKORCHID: 0x9932ccff,
        DARKRED: 0x8b0000ff,
        DARKSALMON: 0xe9967aff,
        DARKSEAGREEN: 0x8fbc8fff,
        DARKSLATEBLUE: 0x483d8bff,
        DARKSLATEGRAY: 0x2f4f4fff,
        DARKSLATEGREY: 0x2f4f4fff,
        DARKTURQUOISE: 0x00ced1ff,
        DARKVIOLET: 0x9400d3ff,
        DEEPPINK: 0xff1493ff,
        DEEPSKYBLUE: 0x00bfffff,
        DIMGRAY: 0x696969ff,
        DIMGREY: 0x696969ff,
        DODGERBLUE: 0x1e90ffff,
        FIREBRICK: 0xb22222ff,
        FLORALWHITE: 0xfffaf0ff,
        FORESTGREEN: 0x228b22ff,
        FUCHSIA: 0xff00ffff,
        GAINSBORO: 0xdcdcdcff,
        GHOSTWHITE: 0xf8f8ffff,
        GOLD: 0xffd700ff,
        GOLDENROD: 0xdaa520ff,
        GRAY: 0x808080ff,
        GREEN: 0x008000ff,
        GREENYELLOW: 0xadff2fff,
        GREY: 0x808080ff,
        HONEYDEW: 0xf0fff0ff,
        HOTPINK: 0xff69b4ff,
        INDIANRED: 0xcd5c5cff,
        INDIGO: 0x4b0082ff,
        IVORY: 0xfffff0ff,
        KHAKI: 0xf0e68cff,
        LAVENDER: 0xe6e6faff,
        LAVENDERBLUSH: 0xfff0f5ff,
        LAWNGREEN: 0x7cfc00ff,
        LEMONCHIFFON: 0xfffacdff,
        LIGHTBLUE: 0xadd8e6ff,
        LIGHTCORAL: 0xf08080ff,
        LIGHTCYAN: 0xe0ffffff,
        LIGHTGOLDENRODYELLOW: 0xfafad2ff,
        LIGHTGRAY: 0xd3d3d3ff,
        LIGHTGREEN: 0x90ee90ff,
        LIGHTGREY: 0xd3d3d3ff,
        LIGHTPINK: 0xffb6c1ff,
        LIGHTSALMON: 0xffa07aff,
        LIGHTSEAGREEN: 0x20b2aaff,
        LIGHTSKYBLUE: 0x87cefaff,
        LIGHTSLATEGRAY: 0x778899ff,
        LIGHTSLATEGREY: 0x778899ff,
        LIGHTSTEELBLUE: 0xb0c4deff,
        LIGHTYELLOW: 0xffffe0ff,
        LIME: 0x00ff00ff,
        LIMEGREEN: 0x32cd32ff,
        LINEN: 0xfaf0e6ff,
        MAGENTA: 0xff00ffff,
        MAROON: 0x800000ff,
        MEDIUMAQUAMARINE: 0x66cdaaff,
        MEDIUMBLUE: 0x0000cdff,
        MEDIUMORCHID: 0xba55d3ff,
        MEDIUMPURPLE: 0x9370dbff,
        MEDIUMSEAGREEN: 0x3cb371ff,
        MEDIUMSLATEBLUE: 0x7b68eeff,
        MEDIUMSPRINGGREEN: 0x00fa9aff,
        MEDIUMTURQUOISE: 0x48d1ccff,
        MEDIUMVIOLETRED: 0xc71585ff,
        MIDNIGHTBLUE: 0x191970ff,
        MINTCREAM: 0xf5fffaff,
        MISTYROSE: 0xffe4e1ff,
        MOCCASIN: 0xffe4b5ff,
        NAVAJOWHITE: 0xffdeadff,
        NAVY: 0x000080ff,
        OLDLACE: 0xfdf5e6ff,
        OLIVE: 0x808000ff,
        OLIVEDRAB: 0x6b8e23ff,
        ORANGE: 0xffa500ff,
        ORANGERED: 0xff4500ff,
        ORCHID: 0xda70d6ff,
        PALEGOLDENROD: 0xeee8aaff,
        PALEGREEN: 0x98fb98ff,
        PALETURQUOISE: 0xafeeeeff,
        PALEVIOLETRED: 0xdb7093ff,
        PAPAYAWHIP: 0xffefd5ff,
        PEACHPUFF: 0xffdab9ff,
        PERU: 0xcd853fff,
        PINK: 0xffc0cbff,
        PLUM: 0xdda0ddff,
        POWDERBLUE: 0xb0e0e6ff,
        PURPLE: 0x800080ff,
        REBECCAPURPLE: 0x663399ff,
        RED: 0xff0000ff,
        ROSYBROWN: 0xbc8f8fff,
        ROYALBLUE: 0x4169e1ff,
        SADDLEBROWN: 0x8b4513ff,
        SALMON: 0xfa8072ff,
        SANDYBROWN: 0xf4a460ff,
        SEAGREEN: 0x2e8b57ff,
        SEASHELL: 0xfff5eeff,
        SIENNA: 0xa0522dff,
        SILVER: 0xc0c0c0ff,
        SKYBLUE: 0x87ceebff,
        SLATEBLUE: 0x6a5acdff,
        SLATEGRAY: 0x708090ff,
        SLATEGREY: 0x708090ff,
        SNOW: 0xfffafaff,
        SPRINGGREEN: 0x00ff7fff,
        STEELBLUE: 0x4682b4ff,
        TAN: 0xd2b48cff,
        TEAL: 0x008080ff,
        THISTLE: 0xd8bfd8ff,
        TOMATO: 0xff6347ff,
        TRANSPARENT: 0x00000000,
        TURQUOISE: 0x40e0d0ff,
        VIOLET: 0xee82eeff,
        WHEAT: 0xf5deb3ff,
        WHITE: 0xffffffff,
        WHITESMOKE: 0xf5f5f5ff,
        YELLOW: 0xffff00ff,
        YELLOWGREEN: 0x9acd32ff
    };

    var PropertyDescriptorParsingType;
    (function (PropertyDescriptorParsingType) {
        PropertyDescriptorParsingType[PropertyDescriptorParsingType["VALUE"] = 0] = "VALUE";
        PropertyDescriptorParsingType[PropertyDescriptorParsingType["LIST"] = 1] = "LIST";
        PropertyDescriptorParsingType[PropertyDescriptorParsingType["IDENT_VALUE"] = 2] = "IDENT_VALUE";
        PropertyDescriptorParsingType[PropertyDescriptorParsingType["TYPE_VALUE"] = 3] = "TYPE_VALUE";
        PropertyDescriptorParsingType[PropertyDescriptorParsingType["TOKEN_VALUE"] = 4] = "TOKEN_VALUE";
    })(PropertyDescriptorParsingType || (PropertyDescriptorParsingType = {}));

    var BACKGROUND_CLIP;
    (function (BACKGROUND_CLIP) {
        BACKGROUND_CLIP[BACKGROUND_CLIP["BORDER_BOX"] = 0] = "BORDER_BOX";
        BACKGROUND_CLIP[BACKGROUND_CLIP["PADDING_BOX"] = 1] = "PADDING_BOX";
        BACKGROUND_CLIP[BACKGROUND_CLIP["CONTENT_BOX"] = 2] = "CONTENT_BOX";
    })(BACKGROUND_CLIP || (BACKGROUND_CLIP = {}));
    var backgroundClip = {
        name: 'background-clip',
        initialValue: 'border-box',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return tokens.map(function (token) {
                if (isIdentToken(token)) {
                    switch (token.value) {
                        case 'padding-box':
                            return BACKGROUND_CLIP.PADDING_BOX;
                        case 'content-box':
                            return BACKGROUND_CLIP.CONTENT_BOX;
                    }
                }
                return BACKGROUND_CLIP.BORDER_BOX;
            });
        }
    };

    var backgroundColor = {
        name: "background-color",
        initialValue: 'transparent',
        prefix: false,
        type: PropertyDescriptorParsingType.TYPE_VALUE,
        format: 'color'
    };

    var parseColorStop = function (args) {
        var color$1 = color.parse(args[0]);
        var stop = args[1];
        return stop && isLengthPercentage(stop) ? { color: color$1, stop: stop } : { color: color$1, stop: null };
    };
    var processColorStops = function (stops, lineLength) {
        var first = stops[0];
        var last = stops[stops.length - 1];
        if (first.stop === null) {
            first.stop = ZERO_LENGTH;
        }
        if (last.stop === null) {
            last.stop = HUNDRED_PERCENT;
        }
        var processStops = [];
        var previous = 0;
        for (var i = 0; i < stops.length; i++) {
            var stop_1 = stops[i].stop;
            if (stop_1 !== null) {
                var absoluteValue = getAbsoluteValue(stop_1, lineLength);
                if (absoluteValue > previous) {
                    processStops.push(absoluteValue);
                }
                else {
                    processStops.push(previous);
                }
                previous = absoluteValue;
            }
            else {
                processStops.push(null);
            }
        }
        var gapBegin = null;
        for (var i = 0; i < processStops.length; i++) {
            var stop_2 = processStops[i];
            if (stop_2 === null) {
                if (gapBegin === null) {
                    gapBegin = i;
                }
            }
            else if (gapBegin !== null) {
                var gapLength = i - gapBegin;
                var beforeGap = processStops[gapBegin - 1];
                var gapValue = (stop_2 - beforeGap) / (gapLength + 1);
                for (var g = 1; g <= gapLength; g++) {
                    processStops[gapBegin + g - 1] = gapValue * g;
                }
                gapBegin = null;
            }
        }
        return stops.map(function (_a, i) {
            var color = _a.color;
            return { color: color, stop: Math.max(Math.min(1, processStops[i] / lineLength), 0) };
        });
    };
    var getAngleFromCorner = function (corner, width, height) {
        var centerX = width / 2;
        var centerY = height / 2;
        var x = getAbsoluteValue(corner[0], width) - centerX;
        var y = centerY - getAbsoluteValue(corner[1], height);
        return (Math.atan2(y, x) + Math.PI * 2) % (Math.PI * 2);
    };
    var calculateGradientDirection = function (angle, width, height) {
        var radian = typeof angle === 'number' ? angle : getAngleFromCorner(angle, width, height);
        var lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));
        var halfWidth = width / 2;
        var halfHeight = height / 2;
        var halfLineLength = lineLength / 2;
        var yDiff = Math.sin(radian - Math.PI / 2) * halfLineLength;
        var xDiff = Math.cos(radian - Math.PI / 2) * halfLineLength;
        return [lineLength, halfWidth - xDiff, halfWidth + xDiff, halfHeight - yDiff, halfHeight + yDiff];
    };
    var distance = function (a, b) { return Math.sqrt(a * a + b * b); };
    var findCorner = function (width, height, x, y, closest) {
        var corners = [[0, 0], [0, height], [width, 0], [width, height]];
        return corners.reduce(function (stat, corner) {
            var cx = corner[0], cy = corner[1];
            var d = distance(x - cx, y - cy);
            if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {
                return {
                    optimumCorner: corner,
                    optimumDistance: d
                };
            }
            return stat;
        }, {
            optimumDistance: closest ? Infinity : -Infinity,
            optimumCorner: null
        }).optimumCorner;
    };
    var calculateRadius = function (gradient, x, y, width, height) {
        var rx = 0;
        var ry = 0;
        switch (gradient.size) {
            case CSSRadialExtent.CLOSEST_SIDE:
                // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradient’s center.
                // If the shape is an ellipse, it exactly meets the closest side in each dimension.
                if (gradient.shape === CSSRadialShape.CIRCLE) {
                    rx = ry = Math.min(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));
                }
                else if (gradient.shape === CSSRadialShape.ELLIPSE) {
                    rx = Math.min(Math.abs(x), Math.abs(x - width));
                    ry = Math.min(Math.abs(y), Math.abs(y - height));
                }
                break;
            case CSSRadialExtent.CLOSEST_CORNER:
                // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradient’s center.
                // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.
                if (gradient.shape === CSSRadialShape.CIRCLE) {
                    rx = ry = Math.min(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));
                }
                else if (gradient.shape === CSSRadialShape.ELLIPSE) {
                    // Compute the ratio ry/rx (which is to be the same as for "closest-side")
                    var c = Math.min(Math.abs(y), Math.abs(y - height)) / Math.min(Math.abs(x), Math.abs(x - width));
                    var _a = findCorner(width, height, x, y, true), cx = _a[0], cy = _a[1];
                    rx = distance(cx - x, (cy - y) / c);
                    ry = c * rx;
                }
                break;
            case CSSRadialExtent.FARTHEST_SIDE:
                // Same as closest-side, except the ending shape is sized based on the farthest side(s)
                if (gradient.shape === CSSRadialShape.CIRCLE) {
                    rx = ry = Math.max(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));
                }
                else if (gradient.shape === CSSRadialShape.ELLIPSE) {
                    rx = Math.max(Math.abs(x), Math.abs(x - width));
                    ry = Math.max(Math.abs(y), Math.abs(y - height));
                }
                break;
            case CSSRadialExtent.FARTHEST_CORNER:
                // Same as closest-corner, except the ending shape is sized based on the farthest corner.
                // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.
                if (gradient.shape === CSSRadialShape.CIRCLE) {
                    rx = ry = Math.max(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));
                }
                else if (gradient.shape === CSSRadialShape.ELLIPSE) {
                    // Compute the ratio ry/rx (which is to be the same as for "farthest-side")
                    var c = Math.max(Math.abs(y), Math.abs(y - height)) / Math.max(Math.abs(x), Math.abs(x - width));
                    var _b = findCorner(width, height, x, y, false), cx = _b[0], cy = _b[1];
                    rx = distance(cx - x, (cy - y) / c);
                    ry = c * rx;
                }
                break;
        }
        if (Array.isArray(gradient.size)) {
            rx = getAbsoluteValue(gradient.size[0], width);
            ry = gradient.size.length === 2 ? getAbsoluteValue(gradient.size[1], height) : rx;
        }
        return [rx, ry];
    };

    var linearGradient = function (tokens) {
        var angle$1 = deg(180);
        var stops = [];
        parseFunctionArgs(tokens).forEach(function (arg, i) {
            if (i === 0) {
                var firstToken = arg[0];
                if (firstToken.type === TokenType.IDENT_TOKEN && firstToken.value === 'to') {
                    angle$1 = parseNamedSide(arg);
                    return;
                }
                else if (isAngle(firstToken)) {
                    angle$1 = angle.parse(firstToken);
                    return;
                }
            }
            var colorStop = parseColorStop(arg);
            stops.push(colorStop);
        });
        return { angle: angle$1, stops: stops, type: CSSImageType.LINEAR_GRADIENT };
    };

    var prefixLinearGradient = function (tokens) {
        var angle$1 = deg(180);
        var stops = [];
        parseFunctionArgs(tokens).forEach(function (arg, i) {
            if (i === 0) {
                var firstToken = arg[0];
                if (firstToken.type === TokenType.IDENT_TOKEN &&
                    ['top', 'left', 'right', 'bottom'].indexOf(firstToken.value) !== -1) {
                    angle$1 = parseNamedSide(arg);
                    return;
                }
                else if (isAngle(firstToken)) {
                    angle$1 = (angle.parse(firstToken) + deg(270)) % deg(360);
                    return;
                }
            }
            var colorStop = parseColorStop(arg);
            stops.push(colorStop);
        });
        return {
            angle: angle$1,
            stops: stops,
            type: CSSImageType.LINEAR_GRADIENT
        };
    };

    var testRangeBounds = function (document) {
        var TEST_HEIGHT = 123;
        if (document.createRange) {
            var range = document.createRange();
            if (range.getBoundingClientRect) {
                var testElement = document.createElement('boundtest');
                testElement.style.height = TEST_HEIGHT + "px";
                testElement.style.display = 'block';
                document.body.appendChild(testElement);
                range.selectNode(testElement);
                var rangeBounds = range.getBoundingClientRect();
                var rangeHeight = Math.round(rangeBounds.height);
                document.body.removeChild(testElement);
                if (rangeHeight === TEST_HEIGHT) {
                    return true;
                }
            }
        }
        return false;
    };
    var testCORS = function () { return typeof new Image().crossOrigin !== 'undefined'; };
    var testResponseType = function () { return typeof new XMLHttpRequest().responseType === 'string'; };
    var testSVG = function (document) {
        var img = new Image();
        var canvas = document.createElement('canvas');
        var ctx = canvas.getContext('2d');
        if (!ctx) {
            return false;
        }
        img.src = "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";
        try {
            ctx.drawImage(img, 0, 0);
            canvas.toDataURL();
        }
        catch (e) {
            return false;
        }
        return true;
    };
    var isGreenPixel = function (data) {
        return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;
    };
    var testForeignObject = function (document) {
        var canvas = document.createElement('canvas');
        var size = 100;
        canvas.width = size;
        canvas.height = size;
        var ctx = canvas.getContext('2d');
        if (!ctx) {
            return Promise.reject(false);
        }
        ctx.fillStyle = 'rgb(0, 255, 0)';
        ctx.fillRect(0, 0, size, size);
        var img = new Image();
        var greenImageSrc = canvas.toDataURL();
        img.src = greenImageSrc;
        var svg = createForeignObjectSVG(size, size, 0, 0, img);
        ctx.fillStyle = 'red';
        ctx.fillRect(0, 0, size, size);
        return loadSerializedSVG(svg)
            .then(function (img) {
            ctx.drawImage(img, 0, 0);
            var data = ctx.getImageData(0, 0, size, size).data;
            ctx.fillStyle = 'red';
            ctx.fillRect(0, 0, size, size);
            var node = document.createElement('div');
            node.style.backgroundImage = "url(" + greenImageSrc + ")";
            node.style.height = size + "px";
            // Firefox 55 does not render inline <img /> tags
            return isGreenPixel(data)
                ? loadSerializedSVG(createForeignObjectSVG(size, size, 0, 0, node))
                : Promise.reject(false);
        })
            .then(function (img) {
            ctx.drawImage(img, 0, 0);
            // Edge does not render background-images
            return isGreenPixel(ctx.getImageData(0, 0, size, size).data);
        })
            .catch(function () { return false; });
    };
    var createForeignObjectSVG = function (width, height, x, y, node) {
        var xmlns = 'http://www.w3.org/2000/svg';
        var svg = document.createElementNS(xmlns, 'svg');
        var foreignObject = document.createElementNS(xmlns, 'foreignObject');
        svg.setAttributeNS(null, 'width', width.toString());
        svg.setAttributeNS(null, 'height', height.toString());
        foreignObject.setAttributeNS(null, 'width', '100%');
        foreignObject.setAttributeNS(null, 'height', '100%');
        foreignObject.setAttributeNS(null, 'x', x.toString());
        foreignObject.setAttributeNS(null, 'y', y.toString());
        foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');
        svg.appendChild(foreignObject);
        foreignObject.appendChild(node);
        return svg;
    };
    var loadSerializedSVG = function (svg) {
        return new Promise(function (resolve, reject) {
            var img = new Image();
            img.onload = function () { return resolve(img); };
            img.onerror = reject;
            img.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(new XMLSerializer().serializeToString(svg));
        });
    };
    var FEATURES = {
        get SUPPORT_RANGE_BOUNDS() {
            var value = testRangeBounds(document);
            Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', { value: value });
            return value;
        },
        get SUPPORT_SVG_DRAWING() {
            var value = testSVG(document);
            Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', { value: value });
            return value;
        },
        get SUPPORT_FOREIGNOBJECT_DRAWING() {
            var value = typeof Array.from === 'function' && typeof window.fetch === 'function'
                ? testForeignObject(document)
                : Promise.resolve(false);
            Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', { value: value });
            return value;
        },
        get SUPPORT_CORS_IMAGES() {
            var value = testCORS();
            Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', { value: value });
            return value;
        },
        get SUPPORT_RESPONSE_TYPE() {
            var value = testResponseType();
            Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', { value: value });
            return value;
        },
        get SUPPORT_CORS_XHR() {
            var value = 'withCredentials' in new XMLHttpRequest();
            Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', { value: value });
            return value;
        }
    };

    var Logger = /** @class */ (function () {
        function Logger(_a) {
            var id = _a.id, enabled = _a.enabled;
            this.id = id;
            this.enabled = enabled;
            this.start = Date.now();
        }
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        Logger.prototype.debug = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            if (this.enabled) {
                // eslint-disable-next-line no-console
                if (typeof window !== 'undefined' && window.console && typeof console.debug === 'function') {
                    // eslint-disable-next-line no-console
                    console.debug.apply(console, [this.id, this.getTime() + "ms"].concat(args));
                }
                else {
                    this.info.apply(this, args);
                }
            }
        };
        Logger.prototype.getTime = function () {
            return Date.now() - this.start;
        };
        Logger.create = function (options) {
            Logger.instances[options.id] = new Logger(options);
        };
        Logger.destroy = function (id) {
            delete Logger.instances[id];
        };
        Logger.getInstance = function (id) {
            var instance = Logger.instances[id];
            if (typeof instance === 'undefined') {
                throw new Error("No logger instance found with id " + id);
            }
            return instance;
        };
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        Logger.prototype.info = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            if (this.enabled) {
                // eslint-disable-next-line no-console
                if (typeof window !== 'undefined' && window.console && typeof console.info === 'function') {
                    // eslint-disable-next-line no-console
                    console.info.apply(console, [this.id, this.getTime() + "ms"].concat(args));
                }
            }
        };
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        Logger.prototype.error = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            if (this.enabled) {
                // eslint-disable-next-line no-console
                if (typeof window !== 'undefined' && window.console && typeof console.error === 'function') {
                    // eslint-disable-next-line no-console
                    console.error.apply(console, [this.id, this.getTime() + "ms"].concat(args));
                }
                else {
                    this.info.apply(this, args);
                }
            }
        };
        Logger.instances = {};
        return Logger;
    }());

    var CacheStorage = /** @class */ (function () {
        function CacheStorage() {
        }
        CacheStorage.create = function (name, options) {
            return (CacheStorage._caches[name] = new Cache(name, options));
        };
        CacheStorage.destroy = function (name) {
            delete CacheStorage._caches[name];
        };
        CacheStorage.open = function (name) {
            var cache = CacheStorage._caches[name];
            if (typeof cache !== 'undefined') {
                return cache;
            }
            throw new Error("Cache with key \"" + name + "\" not found");
        };
        CacheStorage.getOrigin = function (url) {
            var link = CacheStorage._link;
            if (!link) {
                return 'about:blank';
            }
            link.href = url;
            link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/
            return link.protocol + link.hostname + link.port;
        };
        CacheStorage.isSameOrigin = function (src) {
            return CacheStorage.getOrigin(src) === CacheStorage._origin;
        };
        CacheStorage.setContext = function (window) {
            CacheStorage._link = window.document.createElement('a');
            CacheStorage._origin = CacheStorage.getOrigin(window.location.href);
        };
        CacheStorage.getInstance = function () {
            var current = CacheStorage._current;
            if (current === null) {
                throw new Error("No cache instance attached");
            }
            return current;
        };
        CacheStorage.attachInstance = function (cache) {
            CacheStorage._current = cache;
        };
        CacheStorage.detachInstance = function () {
            CacheStorage._current = null;
        };
        CacheStorage._caches = {};
        CacheStorage._origin = 'about:blank';
        CacheStorage._current = null;
        return CacheStorage;
    }());
    var Cache = /** @class */ (function () {
        function Cache(id, options) {
            this.id = id;
            this._options = options;
            this._cache = {};
        }
        Cache.prototype.addImage = function (src) {
            var result = Promise.resolve();
            if (this.has(src)) {
                return result;
            }
            if (isBlobImage(src) || isRenderable(src)) {
                this._cache[src] = this.loadImage(src);
                return result;
            }
            return result;
        };
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        Cache.prototype.match = function (src) {
            return this._cache[src];
        };
        Cache.prototype.loadImage = function (key) {
            return __awaiter(this, void 0, void 0, function () {
                var isSameOrigin, useCORS, useProxy, src;
                var _this = this;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            isSameOrigin = CacheStorage.isSameOrigin(key);
                            useCORS = !isInlineImage(key) && this._options.useCORS === true && FEATURES.SUPPORT_CORS_IMAGES && !isSameOrigin;
                            useProxy = !isInlineImage(key) &&
                                !isSameOrigin &&
                                typeof this._options.proxy === 'string' &&
                                FEATURES.SUPPORT_CORS_XHR &&
                                !useCORS;
                            if (!isSameOrigin && this._options.allowTaint === false && !isInlineImage(key) && !useProxy && !useCORS) {
                                return [2 /*return*/];
                            }
                            src = key;
                            if (!useProxy) return [3 /*break*/, 2];
                            return [4 /*yield*/, this.proxy(src)];
                        case 1:
                            src = _a.sent();
                            _a.label = 2;
                        case 2:
                            Logger.getInstance(this.id).debug("Added image " + key.substring(0, 256));
                            return [4 /*yield*/, new Promise(function (resolve, reject) {
                                    var img = new Image();
                                    img.onload = function () { return resolve(img); };
                                    img.onerror = reject;
                                    //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous
                                    if (isInlineBase64Image(src) || useCORS) {
                                        img.crossOrigin = 'anonymous';
                                    }
                                    img.src = src;
                                    if (img.complete === true) {
                                        // Inline XML images may fail to parse, throwing an Error later on
                                        setTimeout(function () { return resolve(img); }, 500);
                                    }
                                    if (_this._options.imageTimeout > 0) {
                                        setTimeout(function () { return reject("Timed out (" + _this._options.imageTimeout + "ms) loading image"); }, _this._options.imageTimeout);
                                    }
                                })];
                        case 3: return [2 /*return*/, _a.sent()];
                    }
                });
            });
        };
        Cache.prototype.has = function (key) {
            return typeof this._cache[key] !== 'undefined';
        };
        Cache.prototype.keys = function () {
            return Promise.resolve(Object.keys(this._cache));
        };
        Cache.prototype.proxy = function (src) {
            var _this = this;
            var proxy = this._options.proxy;
            if (!proxy) {
                throw new Error('No proxy defined');
            }
            var key = src.substring(0, 256);
            return new Promise(function (resolve, reject) {
                var responseType = FEATURES.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';
                var xhr = new XMLHttpRequest();
                xhr.onload = function () {
                    if (xhr.status === 200) {
                        if (responseType === 'text') {
                            resolve(xhr.response);
                        }
                        else {
                            var reader_1 = new FileReader();
                            reader_1.addEventListener('load', function () { return resolve(reader_1.result); }, false);
                            reader_1.addEventListener('error', function (e) { return reject(e); }, false);
                            reader_1.readAsDataURL(xhr.response);
                        }
                    }
                    else {
                        reject("Failed to proxy resource " + key + " with status code " + xhr.status);
                    }
                };
                xhr.onerror = reject;
                xhr.open('GET', proxy + "?url=" + encodeURIComponent(src) + "&responseType=" + responseType);
                if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {
                    xhr.responseType = responseType;
                }
                if (_this._options.imageTimeout) {
                    var timeout_1 = _this._options.imageTimeout;
                    xhr.timeout = timeout_1;
                    xhr.ontimeout = function () { return reject("Timed out (" + timeout_1 + "ms) proxying " + key); };
                }
                xhr.send();
            });
        };
        return Cache;
    }());
    var INLINE_SVG = /^data:image\/svg\+xml/i;
    var INLINE_BASE64 = /^data:image\/.*;base64,/i;
    var INLINE_IMG = /^data:image\/.*/i;
    var isRenderable = function (src) { return FEATURES.SUPPORT_SVG_DRAWING || !isSVG(src); };
    var isInlineImage = function (src) { return INLINE_IMG.test(src); };
    var isInlineBase64Image = function (src) { return INLINE_BASE64.test(src); };
    var isBlobImage = function (src) { return src.substr(0, 4) === 'blob'; };
    var isSVG = function (src) { return src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src); };

    var webkitGradient = function (tokens) {
        var angle = deg(180);
        var stops = [];
        var type = CSSImageType.LINEAR_GRADIENT;
        var shape = CSSRadialShape.CIRCLE;
        var size = CSSRadialExtent.FARTHEST_CORNER;
        var position = [];
        parseFunctionArgs(tokens).forEach(function (arg, i) {
            var firstToken = arg[0];
            if (i === 0) {
                if (isIdentToken(firstToken) && firstToken.value === 'linear') {
                    type = CSSImageType.LINEAR_GRADIENT;
                    return;
                }
                else if (isIdentToken(firstToken) && firstToken.value === 'radial') {
                    type = CSSImageType.RADIAL_GRADIENT;
                    return;
                }
            }
            if (firstToken.type === TokenType.FUNCTION) {
                if (firstToken.name === 'from') {
                    var color$1 = color.parse(firstToken.values[0]);
                    stops.push({ stop: ZERO_LENGTH, color: color$1 });
                }
                else if (firstToken.name === 'to') {
                    var color$1 = color.parse(firstToken.values[0]);
                    stops.push({ stop: HUNDRED_PERCENT, color: color$1 });
                }
                else if (firstToken.name === 'color-stop') {
                    var values = firstToken.values.filter(nonFunctionArgSeparator);
                    if (values.length === 2) {
                        var color$1 = color.parse(values[1]);
                        var stop_1 = values[0];
                        if (isNumberToken(stop_1)) {
                            stops.push({
                                stop: { type: TokenType.PERCENTAGE_TOKEN, number: stop_1.number * 100, flags: stop_1.flags },
                                color: color$1
                            });
                        }
                    }
                }
            }
        });
        return type === CSSImageType.LINEAR_GRADIENT
            ? {
                angle: (angle + deg(180)) % deg(360),
                stops: stops,
                type: type
            }
            : { size: size, shape: shape, stops: stops, position: position, type: type };
    };

    var CLOSEST_SIDE = 'closest-side';
    var FARTHEST_SIDE = 'farthest-side';
    var CLOSEST_CORNER = 'closest-corner';
    var FARTHEST_CORNER = 'farthest-corner';
    var CIRCLE = 'circle';
    var ELLIPSE = 'ellipse';
    var COVER = 'cover';
    var CONTAIN = 'contain';
    var radialGradient = function (tokens) {
        var shape = CSSRadialShape.CIRCLE;
        var size = CSSRadialExtent.FARTHEST_CORNER;
        var stops = [];
        var position = [];
        parseFunctionArgs(tokens).forEach(function (arg, i) {
            var isColorStop = true;
            if (i === 0) {
                var isAtPosition_1 = false;
                isColorStop = arg.reduce(function (acc, token) {
                    if (isAtPosition_1) {
                        if (isIdentToken(token)) {
                            switch (token.value) {
                                case 'center':
                                    position.push(FIFTY_PERCENT);
                                    return acc;
                                case 'top':
                                case 'left':
                                    position.push(ZERO_LENGTH);
                                    return acc;
                                case 'right':
                                case 'bottom':
                                    position.push(HUNDRED_PERCENT);
                                    return acc;
                            }
                        }
                        else if (isLengthPercentage(token) || isLength(token)) {
                            position.push(token);
                        }
                    }
                    else if (isIdentToken(token)) {
                        switch (token.value) {
                            case CIRCLE:
                                shape = CSSRadialShape.CIRCLE;
                                return false;
                            case ELLIPSE:
                                shape = CSSRadialShape.ELLIPSE;
                                return false;
                            case 'at':
                                isAtPosition_1 = true;
                                return false;
                            case CLOSEST_SIDE:
                                size = CSSRadialExtent.CLOSEST_SIDE;
                                return false;
                            case COVER:
                            case FARTHEST_SIDE:
                                size = CSSRadialExtent.FARTHEST_SIDE;
                                return false;
                            case CONTAIN:
                            case CLOSEST_CORNER:
                                size = CSSRadialExtent.CLOSEST_CORNER;
                                return false;
                            case FARTHEST_CORNER:
                                size = CSSRadialExtent.FARTHEST_CORNER;
                                return false;
                        }
                    }
                    else if (isLength(token) || isLengthPercentage(token)) {
                        if (!Array.isArray(size)) {
                            size = [];
                        }
                        size.push(token);
                        return false;
                    }
                    return acc;
                }, isColorStop);
            }
            if (isColorStop) {
                var colorStop = parseColorStop(arg);
                stops.push(colorStop);
            }
        });
        return { size: size, shape: shape, stops: stops, position: position, type: CSSImageType.RADIAL_GRADIENT };
    };

    var prefixRadialGradient = function (tokens) {
        var shape = CSSRadialShape.CIRCLE;
        var size = CSSRadialExtent.FARTHEST_CORNER;
        var stops = [];
        var position = [];
        parseFunctionArgs(tokens).forEach(function (arg, i) {
            var isColorStop = true;
            if (i === 0) {
                isColorStop = arg.reduce(function (acc, token) {
                    if (isIdentToken(token)) {
                        switch (token.value) {
                            case 'center':
                                position.push(FIFTY_PERCENT);
                                return false;
                            case 'top':
                            case 'left':
                                position.push(ZERO_LENGTH);
                                return false;
                            case 'right':
                            case 'bottom':
                                position.push(HUNDRED_PERCENT);
                                return false;
                        }
                    }
                    else if (isLengthPercentage(token) || isLength(token)) {
                        position.push(token);
                        return false;
                    }
                    return acc;
                }, isColorStop);
            }
            else if (i === 1) {
                isColorStop = arg.reduce(function (acc, token) {
                    if (isIdentToken(token)) {
                        switch (token.value) {
                            case CIRCLE:
                                shape = CSSRadialShape.CIRCLE;
                                return false;
                            case ELLIPSE:
                                shape = CSSRadialShape.ELLIPSE;
                                return false;
                            case CONTAIN:
                            case CLOSEST_SIDE:
                                size = CSSRadialExtent.CLOSEST_SIDE;
                                return false;
                            case FARTHEST_SIDE:
                                size = CSSRadialExtent.FARTHEST_SIDE;
                                return false;
                            case CLOSEST_CORNER:
                                size = CSSRadialExtent.CLOSEST_CORNER;
                                return false;
                            case COVER:
                            case FARTHEST_CORNER:
                                size = CSSRadialExtent.FARTHEST_CORNER;
                                return false;
                        }
                    }
                    else if (isLength(token) || isLengthPercentage(token)) {
                        if (!Array.isArray(size)) {
                            size = [];
                        }
                        size.push(token);
                        return false;
                    }
                    return acc;
                }, isColorStop);
            }
            if (isColorStop) {
                var colorStop = parseColorStop(arg);
                stops.push(colorStop);
            }
        });
        return { size: size, shape: shape, stops: stops, position: position, type: CSSImageType.RADIAL_GRADIENT };
    };

    var CSSImageType;
    (function (CSSImageType) {
        CSSImageType[CSSImageType["URL"] = 0] = "URL";
        CSSImageType[CSSImageType["LINEAR_GRADIENT"] = 1] = "LINEAR_GRADIENT";
        CSSImageType[CSSImageType["RADIAL_GRADIENT"] = 2] = "RADIAL_GRADIENT";
    })(CSSImageType || (CSSImageType = {}));
    var isLinearGradient = function (background) {
        return background.type === CSSImageType.LINEAR_GRADIENT;
    };
    var isRadialGradient = function (background) {
        return background.type === CSSImageType.RADIAL_GRADIENT;
    };
    var CSSRadialShape;
    (function (CSSRadialShape) {
        CSSRadialShape[CSSRadialShape["CIRCLE"] = 0] = "CIRCLE";
        CSSRadialShape[CSSRadialShape["ELLIPSE"] = 1] = "ELLIPSE";
    })(CSSRadialShape || (CSSRadialShape = {}));
    var CSSRadialExtent;
    (function (CSSRadialExtent) {
        CSSRadialExtent[CSSRadialExtent["CLOSEST_SIDE"] = 0] = "CLOSEST_SIDE";
        CSSRadialExtent[CSSRadialExtent["FARTHEST_SIDE"] = 1] = "FARTHEST_SIDE";
        CSSRadialExtent[CSSRadialExtent["CLOSEST_CORNER"] = 2] = "CLOSEST_CORNER";
        CSSRadialExtent[CSSRadialExtent["FARTHEST_CORNER"] = 3] = "FARTHEST_CORNER";
    })(CSSRadialExtent || (CSSRadialExtent = {}));
    var image = {
        name: 'image',
        parse: function (value) {
            if (value.type === TokenType.URL_TOKEN) {
                var image_1 = { url: value.value, type: CSSImageType.URL };
                CacheStorage.getInstance().addImage(value.value);
                return image_1;
            }
            if (value.type === TokenType.FUNCTION) {
                var imageFunction = SUPPORTED_IMAGE_FUNCTIONS[value.name];
                if (typeof imageFunction === 'undefined') {
                    throw new Error("Attempting to parse an unsupported image function \"" + value.name + "\"");
                }
                return imageFunction(value.values);
            }
            throw new Error("Unsupported image type");
        }
    };
    function isSupportedImage(value) {
        return value.type !== TokenType.FUNCTION || SUPPORTED_IMAGE_FUNCTIONS[value.name];
    }
    var SUPPORTED_IMAGE_FUNCTIONS = {
        'linear-gradient': linearGradient,
        '-moz-linear-gradient': prefixLinearGradient,
        '-ms-linear-gradient': prefixLinearGradient,
        '-o-linear-gradient': prefixLinearGradient,
        '-webkit-linear-gradient': prefixLinearGradient,
        'radial-gradient': radialGradient,
        '-moz-radial-gradient': prefixRadialGradient,
        '-ms-radial-gradient': prefixRadialGradient,
        '-o-radial-gradient': prefixRadialGradient,
        '-webkit-radial-gradient': prefixRadialGradient,
        '-webkit-gradient': webkitGradient
    };

    var backgroundImage = {
        name: 'background-image',
        initialValue: 'none',
        type: PropertyDescriptorParsingType.LIST,
        prefix: false,
        parse: function (tokens) {
            if (tokens.length === 0) {
                return [];
            }
            var first = tokens[0];
            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {
                return [];
            }
            return tokens.filter(function (value) { return nonFunctionArgSeparator(value) && isSupportedImage(value); }).map(image.parse);
        }
    };

    var backgroundOrigin = {
        name: 'background-origin',
        initialValue: 'border-box',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return tokens.map(function (token) {
                if (isIdentToken(token)) {
                    switch (token.value) {
                        case 'padding-box':
                            return 1 /* PADDING_BOX */;
                        case 'content-box':
                            return 2 /* CONTENT_BOX */;
                    }
                }
                return 0 /* BORDER_BOX */;
            });
        }
    };

    var backgroundPosition = {
        name: 'background-position',
        initialValue: '0% 0%',
        type: PropertyDescriptorParsingType.LIST,
        prefix: false,
        parse: function (tokens) {
            return parseFunctionArgs(tokens)
                .map(function (values) { return values.filter(isLengthPercentage); })
                .map(parseLengthPercentageTuple);
        }
    };

    var BACKGROUND_REPEAT;
    (function (BACKGROUND_REPEAT) {
        BACKGROUND_REPEAT[BACKGROUND_REPEAT["REPEAT"] = 0] = "REPEAT";
        BACKGROUND_REPEAT[BACKGROUND_REPEAT["NO_REPEAT"] = 1] = "NO_REPEAT";
        BACKGROUND_REPEAT[BACKGROUND_REPEAT["REPEAT_X"] = 2] = "REPEAT_X";
        BACKGROUND_REPEAT[BACKGROUND_REPEAT["REPEAT_Y"] = 3] = "REPEAT_Y";
    })(BACKGROUND_REPEAT || (BACKGROUND_REPEAT = {}));
    var backgroundRepeat = {
        name: 'background-repeat',
        initialValue: 'repeat',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return parseFunctionArgs(tokens)
                .map(function (values) {
                return values
                    .filter(isIdentToken)
                    .map(function (token) { return token.value; })
                    .join(' ');
            })
                .map(parseBackgroundRepeat);
        }
    };
    var parseBackgroundRepeat = function (value) {
        switch (value) {
            case 'no-repeat':
                return BACKGROUND_REPEAT.NO_REPEAT;
            case 'repeat-x':
            case 'repeat no-repeat':
                return BACKGROUND_REPEAT.REPEAT_X;
            case 'repeat-y':
            case 'no-repeat repeat':
                return BACKGROUND_REPEAT.REPEAT_Y;
            case 'repeat':
            default:
                return BACKGROUND_REPEAT.REPEAT;
        }
    };

    var BACKGROUND_SIZE;
    (function (BACKGROUND_SIZE) {
        BACKGROUND_SIZE["AUTO"] = "auto";
        BACKGROUND_SIZE["CONTAIN"] = "contain";
        BACKGROUND_SIZE["COVER"] = "cover";
    })(BACKGROUND_SIZE || (BACKGROUND_SIZE = {}));
    var backgroundSize = {
        name: 'background-size',
        initialValue: '0',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return parseFunctionArgs(tokens).map(function (values) { return values.filter(isBackgroundSizeInfoToken); });
        }
    };
    var isBackgroundSizeInfoToken = function (value) {
        return isIdentToken(value) || isLengthPercentage(value);
    };

    var borderColorForSide = function (side) { return ({
        name: "border-" + side + "-color",
        initialValue: 'transparent',
        prefix: false,
        type: PropertyDescriptorParsingType.TYPE_VALUE,
        format: 'color'
    }); };
    var borderTopColor = borderColorForSide('top');
    var borderRightColor = borderColorForSide('right');
    var borderBottomColor = borderColorForSide('bottom');
    var borderLeftColor = borderColorForSide('left');

    var borderRadiusForSide = function (side) { return ({
        name: "border-radius-" + side,
        initialValue: '0 0',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) { return parseLengthPercentageTuple(tokens.filter(isLengthPercentage)); }
    }); };
    var borderTopLeftRadius = borderRadiusForSide('top-left');
    var borderTopRightRadius = borderRadiusForSide('top-right');
    var borderBottomRightRadius = borderRadiusForSide('bottom-right');
    var borderBottomLeftRadius = borderRadiusForSide('bottom-left');

    var BORDER_STYLE;
    (function (BORDER_STYLE) {
        BORDER_STYLE[BORDER_STYLE["NONE"] = 0] = "NONE";
        BORDER_STYLE[BORDER_STYLE["SOLID"] = 1] = "SOLID";
    })(BORDER_STYLE || (BORDER_STYLE = {}));
    var borderStyleForSide = function (side) { return ({
        name: "border-" + side + "-style",
        initialValue: 'solid',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (style) {
            switch (style) {
                case 'none':
                    return BORDER_STYLE.NONE;
            }
            return BORDER_STYLE.SOLID;
        }
    }); };
    var borderTopStyle = borderStyleForSide('top');
    var borderRightStyle = borderStyleForSide('right');
    var borderBottomStyle = borderStyleForSide('bottom');
    var borderLeftStyle = borderStyleForSide('left');

    var borderWidthForSide = function (side) { return ({
        name: "border-" + side + "-width",
        initialValue: '0',
        type: PropertyDescriptorParsingType.VALUE,
        prefix: false,
        parse: function (token) {
            if (isDimensionToken(token)) {
                return token.number;
            }
            return 0;
        }
    }); };
    var borderTopWidth = borderWidthForSide('top');
    var borderRightWidth = borderWidthForSide('right');
    var borderBottomWidth = borderWidthForSide('bottom');
    var borderLeftWidth = borderWidthForSide('left');

    var color$1 = {
        name: "color",
        initialValue: 'transparent',
        prefix: false,
        type: PropertyDescriptorParsingType.TYPE_VALUE,
        format: 'color'
    };

    var display = {
        name: 'display',
        initialValue: 'inline-block',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return tokens.filter(isIdentToken).reduce(function (bit, token) {
                return bit | parseDisplayValue(token.value);
            }, 0 /* NONE */);
        }
    };
    var parseDisplayValue = function (display) {
        switch (display) {
            case 'block':
                return 2 /* BLOCK */;
            case 'inline':
                return 4 /* INLINE */;
            case 'run-in':
                return 8 /* RUN_IN */;
            case 'flow':
                return 16 /* FLOW */;
            case 'flow-root':
                return 32 /* FLOW_ROOT */;
            case 'table':
                return 64 /* TABLE */;
            case 'flex':
            case '-webkit-flex':
                return 128 /* FLEX */;
            case 'grid':
            case '-ms-grid':
                return 256 /* GRID */;
            case 'ruby':
                return 512 /* RUBY */;
            case 'subgrid':
                return 1024 /* SUBGRID */;
            case 'list-item':
                return 2048 /* LIST_ITEM */;
            case 'table-row-group':
                return 4096 /* TABLE_ROW_GROUP */;
            case 'table-header-group':
                return 8192 /* TABLE_HEADER_GROUP */;
            case 'table-footer-group':
                return 16384 /* TABLE_FOOTER_GROUP */;
            case 'table-row':
                return 32768 /* TABLE_ROW */;
            case 'table-cell':
                return 65536 /* TABLE_CELL */;
            case 'table-column-group':
                return 131072 /* TABLE_COLUMN_GROUP */;
            case 'table-column':
                return 262144 /* TABLE_COLUMN */;
            case 'table-caption':
                return 524288 /* TABLE_CAPTION */;
            case 'ruby-base':
                return 1048576 /* RUBY_BASE */;
            case 'ruby-text':
                return 2097152 /* RUBY_TEXT */;
            case 'ruby-base-container':
                return 4194304 /* RUBY_BASE_CONTAINER */;
            case 'ruby-text-container':
                return 8388608 /* RUBY_TEXT_CONTAINER */;
            case 'contents':
                return 16777216 /* CONTENTS */;
            case 'inline-block':
                return 33554432 /* INLINE_BLOCK */;
            case 'inline-list-item':
                return 67108864 /* INLINE_LIST_ITEM */;
            case 'inline-table':
                return 134217728 /* INLINE_TABLE */;
            case 'inline-flex':
                return 268435456 /* INLINE_FLEX */;
            case 'inline-grid':
                return 536870912 /* INLINE_GRID */;
        }
        return 0 /* NONE */;
    };

    var FLOAT;
    (function (FLOAT) {
        FLOAT[FLOAT["NONE"] = 0] = "NONE";
        FLOAT[FLOAT["LEFT"] = 1] = "LEFT";
        FLOAT[FLOAT["RIGHT"] = 2] = "RIGHT";
        FLOAT[FLOAT["INLINE_START"] = 3] = "INLINE_START";
        FLOAT[FLOAT["INLINE_END"] = 4] = "INLINE_END";
    })(FLOAT || (FLOAT = {}));
    var float = {
        name: 'float',
        initialValue: 'none',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (float) {
            switch (float) {
                case 'left':
                    return FLOAT.LEFT;
                case 'right':
                    return FLOAT.RIGHT;
                case 'inline-start':
                    return FLOAT.INLINE_START;
                case 'inline-end':
                    return FLOAT.INLINE_END;
            }
            return FLOAT.NONE;
        }
    };

    var letterSpacing = {
        name: 'letter-spacing',
        initialValue: '0',
        prefix: false,
        type: PropertyDescriptorParsingType.VALUE,
        parse: function (token) {
            if (token.type === TokenType.IDENT_TOKEN && token.value === 'normal') {
                return 0;
            }
            if (token.type === TokenType.NUMBER_TOKEN) {
                return token.number;
            }
            if (token.type === TokenType.DIMENSION_TOKEN) {
                return token.number;
            }
            return 0;
        }
    };

    var LINE_BREAK;
    (function (LINE_BREAK) {
        LINE_BREAK["NORMAL"] = "normal";
        LINE_BREAK["STRICT"] = "strict";
    })(LINE_BREAK || (LINE_BREAK = {}));
    var lineBreak = {
        name: 'line-break',
        initialValue: 'normal',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (lineBreak) {
            switch (lineBreak) {
                case 'strict':
                    return LINE_BREAK.STRICT;
                case 'normal':
                default:
                    return LINE_BREAK.NORMAL;
            }
        }
    };

    var lineHeight = {
        name: 'line-height',
        initialValue: 'normal',
        prefix: false,
        type: PropertyDescriptorParsingType.TOKEN_VALUE
    };
    var computeLineHeight = function (token, fontSize) {
        if (isIdentToken(token) && token.value === 'normal') {
            return 1.2 * fontSize;
        }
        else if (token.type === TokenType.NUMBER_TOKEN) {
            return fontSize * token.number;
        }
        else if (isLengthPercentage(token)) {
            return getAbsoluteValue(token, fontSize);
        }
        return fontSize;
    };

    var listStyleImage = {
        name: 'list-style-image',
        initialValue: 'none',
        type: PropertyDescriptorParsingType.VALUE,
        prefix: false,
        parse: function (token) {
            if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {
                return null;
            }
            return image.parse(token);
        }
    };

    var LIST_STYLE_POSITION;
    (function (LIST_STYLE_POSITION) {
        LIST_STYLE_POSITION[LIST_STYLE_POSITION["INSIDE"] = 0] = "INSIDE";
        LIST_STYLE_POSITION[LIST_STYLE_POSITION["OUTSIDE"] = 1] = "OUTSIDE";
    })(LIST_STYLE_POSITION || (LIST_STYLE_POSITION = {}));
    var listStylePosition = {
        name: 'list-style-position',
        initialValue: 'outside',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (position) {
            switch (position) {
                case 'inside':
                    return LIST_STYLE_POSITION.INSIDE;
                case 'outside':
                default:
                    return LIST_STYLE_POSITION.OUTSIDE;
            }
        }
    };

    var LIST_STYLE_TYPE;
    (function (LIST_STYLE_TYPE) {
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["NONE"] = -1] = "NONE";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["DISC"] = 0] = "DISC";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["CIRCLE"] = 1] = "CIRCLE";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["SQUARE"] = 2] = "SQUARE";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["DECIMAL"] = 3] = "DECIMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["CJK_DECIMAL"] = 4] = "CJK_DECIMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["DECIMAL_LEADING_ZERO"] = 5] = "DECIMAL_LEADING_ZERO";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["LOWER_ROMAN"] = 6] = "LOWER_ROMAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["UPPER_ROMAN"] = 7] = "UPPER_ROMAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["LOWER_GREEK"] = 8] = "LOWER_GREEK";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["LOWER_ALPHA"] = 9] = "LOWER_ALPHA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["UPPER_ALPHA"] = 10] = "UPPER_ALPHA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["ARABIC_INDIC"] = 11] = "ARABIC_INDIC";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["ARMENIAN"] = 12] = "ARMENIAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["BENGALI"] = 13] = "BENGALI";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["CAMBODIAN"] = 14] = "CAMBODIAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["CJK_EARTHLY_BRANCH"] = 15] = "CJK_EARTHLY_BRANCH";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["CJK_HEAVENLY_STEM"] = 16] = "CJK_HEAVENLY_STEM";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["CJK_IDEOGRAPHIC"] = 17] = "CJK_IDEOGRAPHIC";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["DEVANAGARI"] = 18] = "DEVANAGARI";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["ETHIOPIC_NUMERIC"] = 19] = "ETHIOPIC_NUMERIC";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["GEORGIAN"] = 20] = "GEORGIAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["GUJARATI"] = 21] = "GUJARATI";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["GURMUKHI"] = 22] = "GURMUKHI";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["HEBREW"] = 22] = "HEBREW";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["HIRAGANA"] = 23] = "HIRAGANA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["HIRAGANA_IROHA"] = 24] = "HIRAGANA_IROHA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["JAPANESE_FORMAL"] = 25] = "JAPANESE_FORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["JAPANESE_INFORMAL"] = 26] = "JAPANESE_INFORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["KANNADA"] = 27] = "KANNADA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["KATAKANA"] = 28] = "KATAKANA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["KATAKANA_IROHA"] = 29] = "KATAKANA_IROHA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["KHMER"] = 30] = "KHMER";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["KOREAN_HANGUL_FORMAL"] = 31] = "KOREAN_HANGUL_FORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["KOREAN_HANJA_FORMAL"] = 32] = "KOREAN_HANJA_FORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["KOREAN_HANJA_INFORMAL"] = 33] = "KOREAN_HANJA_INFORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["LAO"] = 34] = "LAO";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["LOWER_ARMENIAN"] = 35] = "LOWER_ARMENIAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["MALAYALAM"] = 36] = "MALAYALAM";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["MONGOLIAN"] = 37] = "MONGOLIAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["MYANMAR"] = 38] = "MYANMAR";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["ORIYA"] = 39] = "ORIYA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["PERSIAN"] = 40] = "PERSIAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["SIMP_CHINESE_FORMAL"] = 41] = "SIMP_CHINESE_FORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["SIMP_CHINESE_INFORMAL"] = 42] = "SIMP_CHINESE_INFORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["TAMIL"] = 43] = "TAMIL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["TELUGU"] = 44] = "TELUGU";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["THAI"] = 45] = "THAI";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["TIBETAN"] = 46] = "TIBETAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["TRAD_CHINESE_FORMAL"] = 47] = "TRAD_CHINESE_FORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["TRAD_CHINESE_INFORMAL"] = 48] = "TRAD_CHINESE_INFORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["UPPER_ARMENIAN"] = 49] = "UPPER_ARMENIAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["DISCLOSURE_OPEN"] = 50] = "DISCLOSURE_OPEN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["DISCLOSURE_CLOSED"] = 51] = "DISCLOSURE_CLOSED";
    })(LIST_STYLE_TYPE || (LIST_STYLE_TYPE = {}));
    var listStyleType = {
        name: 'list-style-type',
        initialValue: 'none',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (type) {
            switch (type) {
                case 'disc':
                    return LIST_STYLE_TYPE.DISC;
                case 'circle':
                    return LIST_STYLE_TYPE.CIRCLE;
                case 'square':
                    return LIST_STYLE_TYPE.SQUARE;
                case 'decimal':
                    return LIST_STYLE_TYPE.DECIMAL;
                case 'cjk-decimal':
                    return LIST_STYLE_TYPE.CJK_DECIMAL;
                case 'decimal-leading-zero':
                    return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;
                case 'lower-roman':
                    return LIST_STYLE_TYPE.LOWER_ROMAN;
                case 'upper-roman':
                    return LIST_STYLE_TYPE.UPPER_ROMAN;
                case 'lower-greek':
                    return LIST_STYLE_TYPE.LOWER_GREEK;
                case 'lower-alpha':
                    return LIST_STYLE_TYPE.LOWER_ALPHA;
                case 'upper-alpha':
                    return LIST_STYLE_TYPE.UPPER_ALPHA;
                case 'arabic-indic':
                    return LIST_STYLE_TYPE.ARABIC_INDIC;
                case 'armenian':
                    return LIST_STYLE_TYPE.ARMENIAN;
                case 'bengali':
                    return LIST_STYLE_TYPE.BENGALI;
                case 'cambodian':
                    return LIST_STYLE_TYPE.CAMBODIAN;
                case 'cjk-earthly-branch':
                    return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;
                case 'cjk-heavenly-stem':
                    return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;
                case 'cjk-ideographic':
                    return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;
                case 'devanagari':
                    return LIST_STYLE_TYPE.DEVANAGARI;
                case 'ethiopic-numeric':
                    return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;
                case 'georgian':
                    return LIST_STYLE_TYPE.GEORGIAN;
                case 'gujarati':
                    return LIST_STYLE_TYPE.GUJARATI;
                case 'gurmukhi':
                    return LIST_STYLE_TYPE.GURMUKHI;
                case 'hebrew':
                    return LIST_STYLE_TYPE.HEBREW;
                case 'hiragana':
                    return LIST_STYLE_TYPE.HIRAGANA;
                case 'hiragana-iroha':
                    return LIST_STYLE_TYPE.HIRAGANA_IROHA;
                case 'japanese-formal':
                    return LIST_STYLE_TYPE.JAPANESE_FORMAL;
                case 'japanese-informal':
                    return LIST_STYLE_TYPE.JAPANESE_INFORMAL;
                case 'kannada':
                    return LIST_STYLE_TYPE.KANNADA;
                case 'katakana':
                    return LIST_STYLE_TYPE.KATAKANA;
                case 'katakana-iroha':
                    return LIST_STYLE_TYPE.KATAKANA_IROHA;
                case 'khmer':
                    return LIST_STYLE_TYPE.KHMER;
                case 'korean-hangul-formal':
                    return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;
                case 'korean-hanja-formal':
                    return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;
                case 'korean-hanja-informal':
                    return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;
                case 'lao':
                    return LIST_STYLE_TYPE.LAO;
                case 'lower-armenian':
                    return LIST_STYLE_TYPE.LOWER_ARMENIAN;
                case 'malayalam':
                    return LIST_STYLE_TYPE.MALAYALAM;
                case 'mongolian':
                    return LIST_STYLE_TYPE.MONGOLIAN;
                case 'myanmar':
                    return LIST_STYLE_TYPE.MYANMAR;
                case 'oriya':
                    return LIST_STYLE_TYPE.ORIYA;
                case 'persian':
                    return LIST_STYLE_TYPE.PERSIAN;
                case 'simp-chinese-formal':
                    return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;
                case 'simp-chinese-informal':
                    return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;
                case 'tamil':
                    return LIST_STYLE_TYPE.TAMIL;
                case 'telugu':
                    return LIST_STYLE_TYPE.TELUGU;
                case 'thai':
                    return LIST_STYLE_TYPE.THAI;
                case 'tibetan':
                    return LIST_STYLE_TYPE.TIBETAN;
                case 'trad-chinese-formal':
                    return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;
                case 'trad-chinese-informal':
                    return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;
                case 'upper-armenian':
                    return LIST_STYLE_TYPE.UPPER_ARMENIAN;
                case 'disclosure-open':
                    return LIST_STYLE_TYPE.DISCLOSURE_OPEN;
                case 'disclosure-closed':
                    return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;
                case 'none':
                default:
                    return LIST_STYLE_TYPE.NONE;
            }
        }
    };

    var marginForSide = function (side) { return ({
        name: "margin-" + side,
        initialValue: '0',
        prefix: false,
        type: PropertyDescriptorParsingType.TOKEN_VALUE
    }); };
    var marginTop = marginForSide('top');
    var marginRight = marginForSide('right');
    var marginBottom = marginForSide('bottom');
    var marginLeft = marginForSide('left');

    var OVERFLOW;
    (function (OVERFLOW) {
        OVERFLOW[OVERFLOW["VISIBLE"] = 0] = "VISIBLE";
        OVERFLOW[OVERFLOW["HIDDEN"] = 1] = "HIDDEN";
        OVERFLOW[OVERFLOW["SCROLL"] = 2] = "SCROLL";
        OVERFLOW[OVERFLOW["AUTO"] = 3] = "AUTO";
    })(OVERFLOW || (OVERFLOW = {}));
    var overflow = {
        name: 'overflow',
        initialValue: 'visible',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return tokens.filter(isIdentToken).map(function (overflow) {
                switch (overflow.value) {
                    case 'hidden':
                        return OVERFLOW.HIDDEN;
                    case 'scroll':
                        return OVERFLOW.SCROLL;
                    case 'auto':
                        return OVERFLOW.AUTO;
                    case 'visible':
                    default:
                        return OVERFLOW.VISIBLE;
                }
            });
        }
    };

    var OVERFLOW_WRAP;
    (function (OVERFLOW_WRAP) {
        OVERFLOW_WRAP["NORMAL"] = "normal";
        OVERFLOW_WRAP["BREAK_WORD"] = "break-word";
    })(OVERFLOW_WRAP || (OVERFLOW_WRAP = {}));
    var overflowWrap = {
        name: 'overflow-wrap',
        initialValue: 'normal',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (overflow) {
            switch (overflow) {
                case 'break-word':
                    return OVERFLOW_WRAP.BREAK_WORD;
                case 'normal':
                default:
                    return OVERFLOW_WRAP.NORMAL;
            }
        }
    };

    var paddingForSide = function (side) { return ({
        name: "padding-" + side,
        initialValue: '0',
        prefix: false,
        type: PropertyDescriptorParsingType.TYPE_VALUE,
        format: 'length-percentage'
    }); };
    var paddingTop = paddingForSide('top');
    var paddingRight = paddingForSide('right');
    var paddingBottom = paddingForSide('bottom');
    var paddingLeft = paddingForSide('left');

    var TEXT_ALIGN;
    (function (TEXT_ALIGN) {
        TEXT_ALIGN[TEXT_ALIGN["LEFT"] = 0] = "LEFT";
        TEXT_ALIGN[TEXT_ALIGN["CENTER"] = 1] = "CENTER";
        TEXT_ALIGN[TEXT_ALIGN["RIGHT"] = 2] = "RIGHT";
    })(TEXT_ALIGN || (TEXT_ALIGN = {}));
    var textAlign = {
        name: 'text-align',
        initialValue: 'left',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (textAlign) {
            switch (textAlign) {
                case 'right':
                    return TEXT_ALIGN.RIGHT;
                case 'center':
                case 'justify':
                    return TEXT_ALIGN.CENTER;
                case 'left':
                default:
                    return TEXT_ALIGN.LEFT;
            }
        }
    };

    var POSITION;
    (function (POSITION) {
        POSITION[POSITION["STATIC"] = 0] = "STATIC";
        POSITION[POSITION["RELATIVE"] = 1] = "RELATIVE";
        POSITION[POSITION["ABSOLUTE"] = 2] = "ABSOLUTE";
        POSITION[POSITION["FIXED"] = 3] = "FIXED";
        POSITION[POSITION["STICKY"] = 4] = "STICKY";
    })(POSITION || (POSITION = {}));
    var position = {
        name: 'position',
        initialValue: 'static',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (position) {
            switch (position) {
                case 'relative':
                    return POSITION.RELATIVE;
                case 'absolute':
                    return POSITION.ABSOLUTE;
                case 'fixed':
                    return POSITION.FIXED;
                case 'sticky':
                    return POSITION.STICKY;
            }
            return POSITION.STATIC;
        }
    };

    var textShadow = {
        name: 'text-shadow',
        initialValue: 'none',
        type: PropertyDescriptorParsingType.LIST,
        prefix: false,
        parse: function (tokens) {
            if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {
                return [];
            }
            return parseFunctionArgs(tokens).map(function (values) {
                var shadow = {
                    color: COLORS.TRANSPARENT,
                    offsetX: ZERO_LENGTH,
                    offsetY: ZERO_LENGTH,
                    blur: ZERO_LENGTH
                };
                var c = 0;
                for (var i = 0; i < values.length; i++) {
                    var token = values[i];
                    if (isLength(token)) {
                        if (c === 0) {
                            shadow.offsetX = token;
                        }
                        else if (c === 1) {
                            shadow.offsetY = token;
                        }
                        else {
                            shadow.blur = token;
                        }
                        c++;
                    }
                    else {
                        shadow.color = color.parse(token);
                    }
                }
                return shadow;
            });
        }
    };

    var TEXT_TRANSFORM;
    (function (TEXT_TRANSFORM) {
        TEXT_TRANSFORM[TEXT_TRANSFORM["NONE"] = 0] = "NONE";
        TEXT_TRANSFORM[TEXT_TRANSFORM["LOWERCASE"] = 1] = "LOWERCASE";
        TEXT_TRANSFORM[TEXT_TRANSFORM["UPPERCASE"] = 2] = "UPPERCASE";
        TEXT_TRANSFORM[TEXT_TRANSFORM["CAPITALIZE"] = 3] = "CAPITALIZE";
    })(TEXT_TRANSFORM || (TEXT_TRANSFORM = {}));
    var textTransform = {
        name: 'text-transform',
        initialValue: 'none',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (textTransform) {
            switch (textTransform) {
                case 'uppercase':
                    return TEXT_TRANSFORM.UPPERCASE;
                case 'lowercase':
                    return TEXT_TRANSFORM.LOWERCASE;
                case 'capitalize':
                    return TEXT_TRANSFORM.CAPITALIZE;
            }
            return TEXT_TRANSFORM.NONE;
        }
    };

    var transform = {
        name: 'transform',
        initialValue: 'none',
        prefix: true,
        type: PropertyDescriptorParsingType.VALUE,
        parse: function (token) {
            if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {
                return null;
            }
            if (token.type === TokenType.FUNCTION) {
                var transformFunction = SUPPORTED_TRANSFORM_FUNCTIONS[token.name];
                if (typeof transformFunction === 'undefined') {
                    throw new Error("Attempting to parse an unsupported transform function \"" + token.name + "\"");
                }
                return transformFunction(token.values);
            }
            return null;
        }
    };
    var matrix = function (args) {
        var values = args.filter(function (arg) { return arg.type === TokenType.NUMBER_TOKEN; }).map(function (arg) { return arg.number; });
        return values.length === 6 ? values : null;
    };
    // doesn't support 3D transforms at the moment
    var matrix3d = function (args) {
        var values = args.filter(function (arg) { return arg.type === TokenType.NUMBER_TOKEN; }).map(function (arg) { return arg.number; });
        var a1 = values[0], b1 = values[1], _a = values[2], _b = values[3], a2 = values[4], b2 = values[5], _c = values[6], _d = values[7], _e = values[8], _f = values[9], _g = values[10], _h = values[11], a4 = values[12], b4 = values[13], _j = values[14], _k = values[15];
        return values.length === 16 ? [a1, b1, a2, b2, a4, b4] : null;
    };
    var SUPPORTED_TRANSFORM_FUNCTIONS = {
        matrix: matrix,
        matrix3d: matrix3d
    };

    var DEFAULT_VALUE = {
        type: TokenType.PERCENTAGE_TOKEN,
        number: 50,
        flags: FLAG_INTEGER
    };
    var DEFAULT = [DEFAULT_VALUE, DEFAULT_VALUE];
    var transformOrigin = {
        name: 'transform-origin',
        initialValue: '50% 50%',
        prefix: true,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            var origins = tokens.filter(isLengthPercentage);
            if (origins.length !== 2) {
                return DEFAULT;
            }
            return [origins[0], origins[1]];
        }
    };

    var VISIBILITY;
    (function (VISIBILITY) {
        VISIBILITY[VISIBILITY["VISIBLE"] = 0] = "VISIBLE";
        VISIBILITY[VISIBILITY["HIDDEN"] = 1] = "HIDDEN";
        VISIBILITY[VISIBILITY["COLLAPSE"] = 2] = "COLLAPSE";
    })(VISIBILITY || (VISIBILITY = {}));
    var visibility = {
        name: 'visible',
        initialValue: 'none',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (visibility) {
            switch (visibility) {
                case 'hidden':
                    return VISIBILITY.HIDDEN;
                case 'collapse':
                    return VISIBILITY.COLLAPSE;
                case 'visible':
                default:
                    return VISIBILITY.VISIBLE;
            }
        }
    };

    var WORD_BREAK;
    (function (WORD_BREAK) {
        WORD_BREAK["NORMAL"] = "normal";
        WORD_BREAK["BREAK_ALL"] = "break-all";
        WORD_BREAK["KEEP_ALL"] = "keep-all";
    })(WORD_BREAK || (WORD_BREAK = {}));
    var wordBreak = {
        name: 'word-break',
        initialValue: 'normal',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (wordBreak) {
            switch (wordBreak) {
                case 'break-all':
                    return WORD_BREAK.BREAK_ALL;
                case 'keep-all':
                    return WORD_BREAK.KEEP_ALL;
                case 'normal':
                default:
                    return WORD_BREAK.NORMAL;
            }
        }
    };

    var zIndex = {
        name: 'z-index',
        initialValue: 'auto',
        prefix: false,
        type: PropertyDescriptorParsingType.VALUE,
        parse: function (token) {
            if (token.type === TokenType.IDENT_TOKEN) {
                return { auto: true, order: 0 };
            }
            if (isNumberToken(token)) {
                return { auto: false, order: token.number };
            }
            throw new Error("Invalid z-index number parsed");
        }
    };

    var opacity = {
        name: 'opacity',
        initialValue: '1',
        type: PropertyDescriptorParsingType.VALUE,
        prefix: false,
        parse: function (token) {
            if (isNumberToken(token)) {
                return token.number;
            }
            return 1;
        }
    };

    var textDecorationColor = {
        name: "text-decoration-color",
        initialValue: 'transparent',
        prefix: false,
        type: PropertyDescriptorParsingType.TYPE_VALUE,
        format: 'color'
    };

    var textDecorationLine = {
        name: 'text-decoration-line',
        initialValue: 'none',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return tokens
                .filter(isIdentToken)
                .map(function (token) {
                switch (token.value) {
                    case 'underline':
                        return 1 /* UNDERLINE */;
                    case 'overline':
                        return 2 /* OVERLINE */;
                    case 'line-through':
                        return 3 /* LINE_THROUGH */;
                    case 'none':
                        return 4 /* BLINK */;
                }
                return 0 /* NONE */;
            })
                .filter(function (line) { return line !== 0 /* NONE */; });
        }
    };

    var fontFamily = {
        name: "font-family",
        initialValue: '',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return tokens.filter(isStringToken$1).map(function (token) { return token.value; });
        }
    };
    var isStringToken$1 = function (token) {
        return token.type === TokenType.STRING_TOKEN || token.type === TokenType.IDENT_TOKEN;
    };

    var fontSize = {
        name: "font-size",
        initialValue: '0',
        prefix: false,
        type: PropertyDescriptorParsingType.TYPE_VALUE,
        format: 'length'
    };

    var fontWeight = {
        name: 'font-weight',
        initialValue: 'normal',
        type: PropertyDescriptorParsingType.VALUE,
        prefix: false,
        parse: function (token) {
            if (isNumberToken(token)) {
                return token.number;
            }
            if (isIdentToken(token)) {
                switch (token.value) {
                    case 'bold':
                        return 700;
                    case 'normal':
                    default:
                        return 400;
                }
            }
            return 400;
        }
    };

    var fontVariant = {
        name: 'font-variant',
        initialValue: 'none',
        type: PropertyDescriptorParsingType.LIST,
        prefix: false,
        parse: function (tokens) {
            return tokens.filter(isIdentToken).map(function (token) { return token.value; });
        }
    };

    var FONT_STYLE;
    (function (FONT_STYLE) {
        FONT_STYLE["NORMAL"] = "normal";
        FONT_STYLE["ITALIC"] = "italic";
        FONT_STYLE["OBLIQUE"] = "oblique";
    })(FONT_STYLE || (FONT_STYLE = {}));
    var fontStyle = {
        name: 'font-style',
        initialValue: 'normal',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (overflow) {
            switch (overflow) {
                case 'oblique':
                    return FONT_STYLE.OBLIQUE;
                case 'italic':
                    return FONT_STYLE.ITALIC;
                case 'normal':
                default:
                    return FONT_STYLE.NORMAL;
            }
        }
    };

    var contains = function (bit, value) { return (bit & value) !== 0; };

    var content = {
        name: 'content',
        initialValue: 'none',
        type: PropertyDescriptorParsingType.LIST,
        prefix: false,
        parse: function (tokens) {
            if (tokens.length === 0) {
                return [];
            }
            var first = tokens[0];
            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {
                return [];
            }
            return tokens;
        }
    };

    var counterIncrement = {
        name: 'counter-increment',
        initialValue: 'none',
        prefix: true,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            if (tokens.length === 0) {
                return null;
            }
            var first = tokens[0];
            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {
                return null;
            }
            var increments = [];
            var filtered = tokens.filter(nonWhiteSpace);
            for (var i = 0; i < filtered.length; i++) {
                var counter = filtered[i];
                var next = filtered[i + 1];
                if (counter.type === TokenType.IDENT_TOKEN) {
                    var increment = next && isNumberToken(next) ? next.number : 1;
                    increments.push({ counter: counter.value, increment: increment });
                }
            }
            return increments;
        }
    };

    var counterReset = {
        name: 'counter-reset',
        initialValue: 'none',
        prefix: true,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            if (tokens.length === 0) {
                return [];
            }
            var resets = [];
            var filtered = tokens.filter(nonWhiteSpace);
            for (var i = 0; i < filtered.length; i++) {
                var counter = filtered[i];
                var next = filtered[i + 1];
                if (isIdentToken(counter) && counter.value !== 'none') {
                    var reset = next && isNumberToken(next) ? next.number : 0;
                    resets.push({ counter: counter.value, reset: reset });
                }
            }
            return resets;
        }
    };

    var quotes = {
        name: 'quotes',
        initialValue: 'none',
        prefix: true,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            if (tokens.length === 0) {
                return null;
            }
            var first = tokens[0];
            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {
                return null;
            }
            var quotes = [];
            var filtered = tokens.filter(isStringToken);
            if (filtered.length % 2 !== 0) {
                return null;
            }
            for (var i = 0; i < filtered.length; i += 2) {
                var open_1 = filtered[i].value;
                var close_1 = filtered[i + 1].value;
                quotes.push({ open: open_1, close: close_1 });
            }
            return quotes;
        }
    };
    var getQuote = function (quotes, depth, open) {
        if (!quotes) {
            return '';
        }
        var quote = quotes[Math.min(depth, quotes.length - 1)];
        if (!quote) {
            return '';
        }
        return open ? quote.open : quote.close;
    };

    var boxShadow = {
        name: 'box-shadow',
        initialValue: 'none',
        type: PropertyDescriptorParsingType.LIST,
        prefix: false,
        parse: function (tokens) {
            if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {
                return [];
            }
            return parseFunctionArgs(tokens).map(function (values) {
                var shadow = {
                    color: 0x000000ff,
                    offsetX: ZERO_LENGTH,
                    offsetY: ZERO_LENGTH,
                    blur: ZERO_LENGTH,
                    spread: ZERO_LENGTH,
                    inset: false
                };
                var c = 0;
                for (var i = 0; i < values.length; i++) {
                    var token = values[i];
                    if (isIdentWithValue(token, 'inset')) {
                        shadow.inset = true;
                    }
                    else if (isLength(token)) {
                        if (c === 0) {
                            shadow.offsetX = token;
                        }
                        else if (c === 1) {
                            shadow.offsetY = token;
                        }
                        else if (c === 2) {
                            shadow.blur = token;
                        }
                        else {
                            shadow.spread = token;
                        }
                        c++;
                    }
                    else {
                        shadow.color = color.parse(token);
                    }
                }
                return shadow;
            });
        }
    };

    var CSSParsedDeclaration = /** @class */ (function () {
        function CSSParsedDeclaration(declaration) {
            this.backgroundClip = parse(backgroundClip, declaration.backgroundClip);
            this.backgroundColor = parse(backgroundColor, declaration.backgroundColor);
            this.backgroundImage = parse(backgroundImage, declaration.backgroundImage);
            this.backgroundOrigin = parse(backgroundOrigin, declaration.backgroundOrigin);
            this.backgroundPosition = parse(backgroundPosition, declaration.backgroundPosition);
            this.backgroundRepeat = parse(backgroundRepeat, declaration.backgroundRepeat);
            this.backgroundSize = parse(backgroundSize, declaration.backgroundSize);
            this.borderTopColor = parse(borderTopColor, declaration.borderTopColor);
            this.borderRightColor = parse(borderRightColor, declaration.borderRightColor);
            this.borderBottomColor = parse(borderBottomColor, declaration.borderBottomColor);
            this.borderLeftColor = parse(borderLeftColor, declaration.borderLeftColor);
            this.borderTopLeftRadius = parse(borderTopLeftRadius, declaration.borderTopLeftRadius);
            this.borderTopRightRadius = parse(borderTopRightRadius, declaration.borderTopRightRadius);
            this.borderBottomRightRadius = parse(borderBottomRightRadius, declaration.borderBottomRightRadius);
            this.borderBottomLeftRadius = parse(borderBottomLeftRadius, declaration.borderBottomLeftRadius);
            this.borderTopStyle = parse(borderTopStyle, declaration.borderTopStyle);
            this.borderRightStyle = parse(borderRightStyle, declaration.borderRightStyle);
            this.borderBottomStyle = parse(borderBottomStyle, declaration.borderBottomStyle);
            this.borderLeftStyle = parse(borderLeftStyle, declaration.borderLeftStyle);
            this.borderTopWidth = parse(borderTopWidth, declaration.borderTopWidth);
            this.borderRightWidth = parse(borderRightWidth, declaration.borderRightWidth);
            this.borderBottomWidth = parse(borderBottomWidth, declaration.borderBottomWidth);
            this.borderLeftWidth = parse(borderLeftWidth, declaration.borderLeftWidth);
            this.boxShadow = parse(boxShadow, declaration.boxShadow);
            this.color = parse(color$1, declaration.color);
            this.display = parse(display, declaration.display);
            this.float = parse(float, declaration.cssFloat);
            this.fontFamily = parse(fontFamily, declaration.fontFamily);
            this.fontSize = parse(fontSize, declaration.fontSize);
            this.fontStyle = parse(fontStyle, declaration.fontStyle);
            this.fontVariant = parse(fontVariant, declaration.fontVariant);
            this.fontWeight = parse(fontWeight, declaration.fontWeight);
            this.letterSpacing = parse(letterSpacing, declaration.letterSpacing);
            this.lineBreak = parse(lineBreak, declaration.lineBreak);
            this.lineHeight = parse(lineHeight, declaration.lineHeight);
            this.listStyleImage = parse(listStyleImage, declaration.listStyleImage);
            this.listStylePosition = parse(listStylePosition, declaration.listStylePosition);
            this.listStyleType = parse(listStyleType, declaration.listStyleType);
            this.marginTop = parse(marginTop, declaration.marginTop);
            this.marginRight = parse(marginRight, declaration.marginRight);
            this.marginBottom = parse(marginBottom, declaration.marginBottom);
            this.marginLeft = parse(marginLeft, declaration.marginLeft);
            this.opacity = parse(opacity, declaration.opacity);
            var overflowTuple = parse(overflow, declaration.overflow);
            this.overflowX = overflowTuple[0];
            this.overflowY = overflowTuple[overflowTuple.length > 1 ? 1 : 0];
            this.overflowWrap = parse(overflowWrap, declaration.overflowWrap);
            this.paddingTop = parse(paddingTop, declaration.paddingTop);
            this.paddingRight = parse(paddingRight, declaration.paddingRight);
            this.paddingBottom = parse(paddingBottom, declaration.paddingBottom);
            this.paddingLeft = parse(paddingLeft, declaration.paddingLeft);
            this.position = parse(position, declaration.position);
            this.textAlign = parse(textAlign, declaration.textAlign);
            this.textDecorationColor = parse(textDecorationColor, declaration.textDecorationColor || declaration.color);
            this.textDecorationLine = parse(textDecorationLine, declaration.textDecorationLine);
            this.textShadow = parse(textShadow, declaration.textShadow);
            this.textTransform = parse(textTransform, declaration.textTransform);
            this.transform = parse(transform, declaration.transform);
            this.transformOrigin = parse(transformOrigin, declaration.transformOrigin);
            this.visibility = parse(visibility, declaration.visibility);
            this.wordBreak = parse(wordBreak, declaration.wordBreak);
            this.zIndex = parse(zIndex, declaration.zIndex);
        }
        CSSParsedDeclaration.prototype.isVisible = function () {
            return this.display > 0 && this.opacity > 0 && this.visibility === VISIBILITY.VISIBLE;
        };
        CSSParsedDeclaration.prototype.isTransparent = function () {
            return isTransparent(this.backgroundColor);
        };
        CSSParsedDeclaration.prototype.isTransformed = function () {
            return this.transform !== null;
        };
        CSSParsedDeclaration.prototype.isPositioned = function () {
            return this.position !== POSITION.STATIC;
        };
        CSSParsedDeclaration.prototype.isPositionedWithZIndex = function () {
            return this.isPositioned() && !this.zIndex.auto;
        };
        CSSParsedDeclaration.prototype.isFloating = function () {
            return this.float !== FLOAT.NONE;
        };
        CSSParsedDeclaration.prototype.isInlineLevel = function () {
            return (contains(this.display, 4 /* INLINE */) ||
                contains(this.display, 33554432 /* INLINE_BLOCK */) ||
                contains(this.display, 268435456 /* INLINE_FLEX */) ||
                contains(this.display, 536870912 /* INLINE_GRID */) ||
                contains(this.display, 67108864 /* INLINE_LIST_ITEM */) ||
                contains(this.display, 134217728 /* INLINE_TABLE */));
        };
        return CSSParsedDeclaration;
    }());
    var CSSParsedPseudoDeclaration = /** @class */ (function () {
        function CSSParsedPseudoDeclaration(declaration) {
            this.content = parse(content, declaration.content);
            this.quotes = parse(quotes, declaration.quotes);
        }
        return CSSParsedPseudoDeclaration;
    }());
    var CSSParsedCounterDeclaration = /** @class */ (function () {
        function CSSParsedCounterDeclaration(declaration) {
            this.counterIncrement = parse(counterIncrement, declaration.counterIncrement);
            this.counterReset = parse(counterReset, declaration.counterReset);
        }
        return CSSParsedCounterDeclaration;
    }());
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    var parse = function (descriptor, style) {
        var tokenizer = new Tokenizer();
        var value = style !== null && typeof style !== 'undefined' ? style.toString() : descriptor.initialValue;
        tokenizer.write(value);
        var parser = new Parser(tokenizer.read());
        switch (descriptor.type) {
            case PropertyDescriptorParsingType.IDENT_VALUE:
                var token = parser.parseComponentValue();
                return descriptor.parse(isIdentToken(token) ? token.value : descriptor.initialValue);
            case PropertyDescriptorParsingType.VALUE:
                return descriptor.parse(parser.parseComponentValue());
            case PropertyDescriptorParsingType.LIST:
                return descriptor.parse(parser.parseComponentValues());
            case PropertyDescriptorParsingType.TOKEN_VALUE:
                return parser.parseComponentValue();
            case PropertyDescriptorParsingType.TYPE_VALUE:
                switch (descriptor.format) {
                    case 'angle':
                        return angle.parse(parser.parseComponentValue());
                    case 'color':
                        return color.parse(parser.parseComponentValue());
                    case 'image':
                        return image.parse(parser.parseComponentValue());
                    case 'length':
                        var length_1 = parser.parseComponentValue();
                        return isLength(length_1) ? length_1 : ZERO_LENGTH;
                    case 'length-percentage':
                        var value_1 = parser.parseComponentValue();
                        return isLengthPercentage(value_1) ? value_1 : ZERO_LENGTH;
                }
        }
        throw new Error("Attempting to parse unsupported css format type " + descriptor.format);
    };

    var ElementContainer = /** @class */ (function () {
        function ElementContainer(element) {
            this.styles = new CSSParsedDeclaration(window.getComputedStyle(element, null));
            this.textNodes = [];
            this.elements = [];
            if (this.styles.transform !== null && isHTMLElementNode(element)) {
                // getBoundingClientRect takes transforms into account
                element.style.transform = 'none';
            }
            this.bounds = parseBounds(element);
            this.flags = 0;
        }
        return ElementContainer;
    }());

    var TextBounds = /** @class */ (function () {
        function TextBounds(text, bounds) {
            this.text = text;
            this.bounds = bounds;
        }
        return TextBounds;
    }());
    var parseTextBounds = function (value, styles, node) {
        var textList = breakText(value, styles);
        var textBounds = [];
        var offset = 0;
        textList.forEach(function (text) {
            if (styles.textDecorationLine.length || text.trim().length > 0) {
                if (FEATURES.SUPPORT_RANGE_BOUNDS) {
                    textBounds.push(new TextBounds(text, getRangeBounds(node, offset, text.length)));
                }
                else {
                    var replacementNode = node.splitText(text.length);
                    textBounds.push(new TextBounds(text, getWrapperBounds(node)));
                    node = replacementNode;
                }
            }
            else if (!FEATURES.SUPPORT_RANGE_BOUNDS) {
                node = node.splitText(text.length);
            }
            offset += text.length;
        });
        return textBounds;
    };
    var getWrapperBounds = function (node) {
        var ownerDocument = node.ownerDocument;
        if (ownerDocument) {
            var wrapper = ownerDocument.createElement('html2canvaswrapper');
            wrapper.appendChild(node.cloneNode(true));
            var parentNode = node.parentNode;
            if (parentNode) {
                parentNode.replaceChild(wrapper, node);
                var bounds = parseBounds(wrapper);
                if (wrapper.firstChild) {
                    parentNode.replaceChild(wrapper.firstChild, wrapper);
                }
                return bounds;
            }
        }
        return new Bounds(0, 0, 0, 0);
    };
    var getRangeBounds = function (node, offset, length) {
        var ownerDocument = node.ownerDocument;
        if (!ownerDocument) {
            throw new Error('Node has no owner document');
        }
        var range = ownerDocument.createRange();
        range.setStart(node, offset);
        range.setEnd(node, offset + length);
        return Bounds.fromClientRect(range.getBoundingClientRect());
    };
    var breakText = function (value, styles) {
        return styles.letterSpacing !== 0 ? toCodePoints(value).map(function (i) { return fromCodePoint(i); }) : breakWords(value, styles);
    };
    var breakWords = function (str, styles) {
        var breaker = LineBreaker(str, {
            lineBreak: styles.lineBreak,
            wordBreak: styles.overflowWrap === OVERFLOW_WRAP.BREAK_WORD ? 'break-word' : styles.wordBreak
        });
        var words = [];
        var bk;
        while (!(bk = breaker.next()).done) {
            if (bk.value) {
                words.push(bk.value.slice());
            }
        }
        return words;
    };

    var TextContainer = /** @class */ (function () {
        function TextContainer(node, styles) {
            this.text = transform$1(node.data, styles.textTransform);
            this.textBounds = parseTextBounds(this.text, styles, node);
        }
        return TextContainer;
    }());
    var transform$1 = function (text, transform) {
        switch (transform) {
            case TEXT_TRANSFORM.LOWERCASE:
                return text.toLowerCase();
            case TEXT_TRANSFORM.CAPITALIZE:
                return text.replace(CAPITALIZE, capitalize);
            case TEXT_TRANSFORM.UPPERCASE:
                return text.toUpperCase();
            default:
                return text;
        }
    };
    var CAPITALIZE = /(^|\s|:|-|\(|\))([a-z])/g;
    var capitalize = function (m, p1, p2) {
        if (m.length > 0) {
            return p1 + p2.toUpperCase();
        }
        return m;
    };

    var ImageElementContainer = /** @class */ (function (_super) {
        __extends(ImageElementContainer, _super);
        function ImageElementContainer(img) {
            var _this = _super.call(this, img) || this;
            _this.src = img.currentSrc || img.src;
            _this.intrinsicWidth = img.naturalWidth;
            _this.intrinsicHeight = img.naturalHeight;
            CacheStorage.getInstance().addImage(_this.src);
            return _this;
        }
        return ImageElementContainer;
    }(ElementContainer));

    var CanvasElementContainer = /** @class */ (function (_super) {
        __extends(CanvasElementContainer, _super);
        function CanvasElementContainer(canvas) {
            var _this = _super.call(this, canvas) || this;
            _this.canvas = canvas;
            _this.intrinsicWidth = canvas.width;
            _this.intrinsicHeight = canvas.height;
            return _this;
        }
        return CanvasElementContainer;
    }(ElementContainer));

    var SVGElementContainer = /** @class */ (function (_super) {
        __extends(SVGElementContainer, _super);
        function SVGElementContainer(img) {
            var _this = _super.call(this, img) || this;
            var s = new XMLSerializer();
            _this.svg = "data:image/svg+xml," + encodeURIComponent(s.serializeToString(img));
            _this.intrinsicWidth = img.width.baseVal.value;
            _this.intrinsicHeight = img.height.baseVal.value;
            CacheStorage.getInstance().addImage(_this.svg);
            return _this;
        }
        return SVGElementContainer;
    }(ElementContainer));

    var LIElementContainer = /** @class */ (function (_super) {
        __extends(LIElementContainer, _super);
        function LIElementContainer(element) {
            var _this = _super.call(this, element) || this;
            _this.value = element.value;
            return _this;
        }
        return LIElementContainer;
    }(ElementContainer));

    var OLElementContainer = /** @class */ (function (_super) {
        __extends(OLElementContainer, _super);
        function OLElementContainer(element) {
            var _this = _super.call(this, element) || this;
            _this.start = element.start;
            _this.reversed = typeof element.reversed === 'boolean' && element.reversed === true;
            return _this;
        }
        return OLElementContainer;
    }(ElementContainer));

    var CHECKBOX_BORDER_RADIUS = [
        {
            type: TokenType.DIMENSION_TOKEN,
            flags: 0,
            unit: 'px',
            number: 3
        }
    ];
    var RADIO_BORDER_RADIUS = [
        {
            type: TokenType.PERCENTAGE_TOKEN,
            flags: 0,
            number: 50
        }
    ];
    var reformatInputBounds = function (bounds) {
        if (bounds.width > bounds.height) {
            return new Bounds(bounds.left + (bounds.width - bounds.height) / 2, bounds.top, bounds.height, bounds.height);
        }
        else if (bounds.width < bounds.height) {
            return new Bounds(bounds.left, bounds.top + (bounds.height - bounds.width) / 2, bounds.width, bounds.width);
        }
        return bounds;
    };
    var getInputValue = function (node) {
        var value = node.type === PASSWORD ? new Array(node.value.length + 1).join('\u2022') : node.value;
        return value.length === 0 ? node.placeholder || '' : value;
    };
    var CHECKBOX = 'checkbox';
    var RADIO = 'radio';
    var PASSWORD = 'password';
    var INPUT_COLOR = 0x2a2a2aff;
    var InputElementContainer = /** @class */ (function (_super) {
        __extends(InputElementContainer, _super);
        function InputElementContainer(input) {
            var _this = _super.call(this, input) || this;
            _this.type = input.type.toLowerCase();
            _this.checked = input.checked;
            _this.value = getInputValue(input);
            if (_this.type === CHECKBOX || _this.type === RADIO) {
                _this.styles.backgroundColor = 0xdededeff;
                _this.styles.borderTopColor = _this.styles.borderRightColor = _this.styles.borderBottomColor = _this.styles.borderLeftColor = 0xa5a5a5ff;
                _this.styles.borderTopWidth = _this.styles.borderRightWidth = _this.styles.borderBottomWidth = _this.styles.borderLeftWidth = 1;
                _this.styles.borderTopStyle = _this.styles.borderRightStyle = _this.styles.borderBottomStyle = _this.styles.borderLeftStyle =
                    BORDER_STYLE.SOLID;
                _this.styles.backgroundClip = [BACKGROUND_CLIP.BORDER_BOX];
                _this.styles.backgroundOrigin = [0 /* BORDER_BOX */];
                _this.bounds = reformatInputBounds(_this.bounds);
            }
            switch (_this.type) {
                case CHECKBOX:
                    _this.styles.borderTopRightRadius = _this.styles.borderTopLeftRadius = _this.styles.borderBottomRightRadius = _this.styles.borderBottomLeftRadius = CHECKBOX_BORDER_RADIUS;
                    break;
                case RADIO:
                    _this.styles.borderTopRightRadius = _this.styles.borderTopLeftRadius = _this.styles.borderBottomRightRadius = _this.styles.borderBottomLeftRadius = RADIO_BORDER_RADIUS;
                    break;
            }
            return _this;
        }
        return InputElementContainer;
    }(ElementContainer));

    var SelectElementContainer = /** @class */ (function (_super) {
        __extends(SelectElementContainer, _super);
        function SelectElementContainer(element) {
            var _this = _super.call(this, element) || this;
            var option = element.options[element.selectedIndex || 0];
            _this.value = option ? option.text || '' : '';
            return _this;
        }
        return SelectElementContainer;
    }(ElementContainer));

    var TextareaElementContainer = /** @class */ (function (_super) {
        __extends(TextareaElementContainer, _super);
        function TextareaElementContainer(element) {
            var _this = _super.call(this, element) || this;
            _this.value = element.value;
            return _this;
        }
        return TextareaElementContainer;
    }(ElementContainer));

    var parseColor = function (value) { return color.parse(Parser.create(value).parseComponentValue()); };
    var IFrameElementContainer = /** @class */ (function (_super) {
        __extends(IFrameElementContainer, _super);
        function IFrameElementContainer(iframe) {
            var _this = _super.call(this, iframe) || this;
            _this.src = iframe.src;
            _this.width = parseInt(iframe.width, 10) || 0;
            _this.height = parseInt(iframe.height, 10) || 0;
            _this.backgroundColor = _this.styles.backgroundColor;
            try {
                if (iframe.contentWindow &&
                    iframe.contentWindow.document &&
                    iframe.contentWindow.document.documentElement) {
                    _this.tree = parseTree(iframe.contentWindow.document.documentElement);
                    // http://www.w3.org/TR/css3-background/#special-backgrounds
                    var documentBackgroundColor = iframe.contentWindow.document.documentElement
                        ? parseColor(getComputedStyle(iframe.contentWindow.document.documentElement)
                            .backgroundColor)
                        : COLORS.TRANSPARENT;
                    var bodyBackgroundColor = iframe.contentWindow.document.body
                        ? parseColor(getComputedStyle(iframe.contentWindow.document.body).backgroundColor)
                        : COLORS.TRANSPARENT;
                    _this.backgroundColor = isTransparent(documentBackgroundColor)
                        ? isTransparent(bodyBackgroundColor)
                            ? _this.styles.backgroundColor
                            : bodyBackgroundColor
                        : documentBackgroundColor;
                }
            }
            catch (e) { }
            return _this;
        }
        return IFrameElementContainer;
    }(ElementContainer));

    var LIST_OWNERS = ['OL', 'UL', 'MENU'];
    var parseNodeTree = function (node, parent, root) {
        for (var childNode = node.firstChild, nextNode = void 0; childNode; childNode = nextNode) {
            nextNode = childNode.nextSibling;
            if (isTextNode(childNode) && childNode.data.trim().length > 0) {
                parent.textNodes.push(new TextContainer(childNode, parent.styles));
            }
            else if (isElementNode(childNode)) {
                var container = createContainer(childNode);
                if (container.styles.isVisible()) {
                    if (createsRealStackingContext(childNode, container, root)) {
                        container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */;
                    }
                    else if (createsStackingContext(container.styles)) {
                        container.flags |= 2 /* CREATES_STACKING_CONTEXT */;
                    }
                    if (LIST_OWNERS.indexOf(childNode.tagName) !== -1) {
                        container.flags |= 8 /* IS_LIST_OWNER */;
                    }
                    parent.elements.push(container);
                    if (!isTextareaElement(childNode) && !isSVGElement(childNode) && !isSelectElement(childNode)) {
                        parseNodeTree(childNode, container, root);
                    }
                }
            }
        }
    };
    var createContainer = function (element) {
        if (isImageElement(element)) {
            return new ImageElementContainer(element);
        }
        if (isCanvasElement(element)) {
            return new CanvasElementContainer(element);
        }
        if (isSVGElement(element)) {
            return new SVGElementContainer(element);
        }
        if (isLIElement(element)) {
            return new LIElementContainer(element);
        }
        if (isOLElement(element)) {
            return new OLElementContainer(element);
        }
        if (isInputElement(element)) {
            return new InputElementContainer(element);
        }
        if (isSelectElement(element)) {
            return new SelectElementContainer(element);
        }
        if (isTextareaElement(element)) {
            return new TextareaElementContainer(element);
        }
        if (isIFrameElement(element)) {
            return new IFrameElementContainer(element);
        }
        return new ElementContainer(element);
    };
    var parseTree = function (element) {
        var container = createContainer(element);
        container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */;
        parseNodeTree(element, container, container);
        return container;
    };
    var createsRealStackingContext = function (node, container, root) {
        return (container.styles.isPositionedWithZIndex() ||
            container.styles.opacity < 1 ||
            container.styles.isTransformed() ||
            (isBodyElement(node) && root.styles.isTransparent()));
    };
    var createsStackingContext = function (styles) { return styles.isPositioned() || styles.isFloating(); };
    var isTextNode = function (node) { return node.nodeType === Node.TEXT_NODE; };
    var isElementNode = function (node) { return node.nodeType === Node.ELEMENT_NODE; };
    var isHTMLElementNode = function (node) {
        return typeof node.style !== 'undefined';
    };
    var isLIElement = function (node) { return node.tagName === 'LI'; };
    var isOLElement = function (node) { return node.tagName === 'OL'; };
    var isInputElement = function (node) { return node.tagName === 'INPUT'; };
    var isHTMLElement = function (node) { return node.tagName === 'HTML'; };
    var isSVGElement = function (node) { return node.tagName === 'svg'; };
    var isBodyElement = function (node) { return node.tagName === 'BODY'; };
    var isCanvasElement = function (node) { return node.tagName === 'CANVAS'; };
    var isImageElement = function (node) { return node.tagName === 'IMG'; };
    var isIFrameElement = function (node) { return node.tagName === 'IFRAME'; };
    var isStyleElement = function (node) { return node.tagName === 'STYLE'; };
    var isScriptElement = function (node) { return node.tagName === 'SCRIPT'; };
    var isTextareaElement = function (node) { return node.tagName === 'TEXTAREA'; };
    var isSelectElement = function (node) { return node.tagName === 'SELECT'; };

    var CounterState = /** @class */ (function () {
        function CounterState() {
            this.counters = {};
        }
        CounterState.prototype.getCounterValue = function (name) {
            var counter = this.counters[name];
            if (counter && counter.length) {
                return counter[counter.length - 1];
            }
            return 1;
        };
        CounterState.prototype.getCounterValues = function (name) {
            var counter = this.counters[name];
            return counter ? counter : [];
        };
        CounterState.prototype.pop = function (counters) {
            var _this = this;
            counters.forEach(function (counter) { return _this.counters[counter].pop(); });
        };
        CounterState.prototype.parse = function (style) {
            var _this = this;
            var counterIncrement = style.counterIncrement;
            var counterReset = style.counterReset;
            var canReset = true;
            if (counterIncrement !== null) {
                counterIncrement.forEach(function (entry) {
                    var counter = _this.counters[entry.counter];
                    if (counter && entry.increment !== 0) {
                        canReset = false;
                        counter[Math.max(0, counter.length - 1)] += entry.increment;
                    }
                });
            }
            var counterNames = [];
            if (canReset) {
                counterReset.forEach(function (entry) {
                    var counter = _this.counters[entry.counter];
                    counterNames.push(entry.counter);
                    if (!counter) {
                        counter = _this.counters[entry.counter] = [];
                    }
                    counter.push(entry.reset);
                });
            }
            return counterNames;
        };
        return CounterState;
    }());
    var ROMAN_UPPER = {
        integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],
        values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']
    };
    var ARMENIAN = {
        integers: [
            9000,
            8000,
            7000,
            6000,
            5000,
            4000,
            3000,
            2000,
            1000,
            900,
            800,
            700,
            600,
            500,
            400,
            300,
            200,
            100,
            90,
            80,
            70,
            60,
            50,
            40,
            30,
            20,
            10,
            9,
            8,
            7,
            6,
            5,
            4,
            3,
            2,
            1
        ],
        values: [
            'Ք',
            'Փ',
            'Ւ',
            'Ց',
            'Ր',
            'Տ',
            'Վ',
            'Ս',
            'Ռ',
            'Ջ',
            'Պ',
            'Չ',
            'Ո',
            'Շ',
            'Ն',
            'Յ',
            'Մ',
            'Ճ',
            'Ղ',
            'Ձ',
            'Հ',
            'Կ',
            'Ծ',
            'Խ',
            'Լ',
            'Ի',
            'Ժ',
            'Թ',
            'Ը',
            'Է',
            'Զ',
            'Ե',
            'Դ',
            'Գ',
            'Բ',
            'Ա'
        ]
    };
    var HEBREW = {
        integers: [
            10000,
            9000,
            8000,
            7000,
            6000,
            5000,
            4000,
            3000,
            2000,
            1000,
            400,
            300,
            200,
            100,
            90,
            80,
            70,
            60,
            50,
            40,
            30,
            20,
            19,
            18,
            17,
            16,
            15,
            10,
            9,
            8,
            7,
            6,
            5,
            4,
            3,
            2,
            1
        ],
        values: [
            'י׳',
            'ט׳',
            'ח׳',
            'ז׳',
            'ו׳',
            'ה׳',
            'ד׳',
            'ג׳',
            'ב׳',
            'א׳',
            'ת',
            'ש',
            'ר',
            'ק',
            'צ',
            'פ',
            'ע',
            'ס',
            'נ',
            'מ',
            'ל',
            'כ',
            'יט',
            'יח',
            'יז',
            'טז',
            'טו',
            'י',
            'ט',
            'ח',
            'ז',
            'ו',
            'ה',
            'ד',
            'ג',
            'ב',
            'א'
        ]
    };
    var GEORGIAN = {
        integers: [
            10000,
            9000,
            8000,
            7000,
            6000,
            5000,
            4000,
            3000,
            2000,
            1000,
            900,
            800,
            700,
            600,
            500,
            400,
            300,
            200,
            100,
            90,
            80,
            70,
            60,
            50,
            40,
            30,
            20,
            10,
            9,
            8,
            7,
            6,
            5,
            4,
            3,
            2,
            1
        ],
        values: [
            'ჵ',
            'ჰ',
            'ჯ',
            'ჴ',
            'ხ',
            'ჭ',
            'წ',
            'ძ',
            'ც',
            'ჩ',
            'შ',
            'ყ',
            'ღ',
            'ქ',
            'ფ',
            'ჳ',
            'ტ',
            'ს',
            'რ',
            'ჟ',
            'პ',
            'ო',
            'ჲ',
            'ნ',
            'მ',
            'ლ',
            'კ',
            'ი',
            'თ',
            'ჱ',
            'ზ',
            'ვ',
            'ე',
            'დ',
            'გ',
            'ბ',
            'ა'
        ]
    };
    var createAdditiveCounter = function (value, min, max, symbols, fallback, suffix) {
        if (value < min || value > max) {
            return createCounterText(value, fallback, suffix.length > 0);
        }
        return (symbols.integers.reduce(function (string, integer, index) {
            while (value >= integer) {
                value -= integer;
                string += symbols.values[index];
            }
            return string;
        }, '') + suffix);
    };
    var createCounterStyleWithSymbolResolver = function (value, codePointRangeLength, isNumeric, resolver) {
        var string = '';
        do {
            if (!isNumeric) {
                value--;
            }
            string = resolver(value) + string;
            value /= codePointRangeLength;
        } while (value * codePointRangeLength >= codePointRangeLength);
        return string;
    };
    var createCounterStyleFromRange = function (value, codePointRangeStart, codePointRangeEnd, isNumeric, suffix) {
        var codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;
        return ((value < 0 ? '-' : '') +
            (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, function (codePoint) {
                return fromCodePoint(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart);
            }) +
                suffix));
    };
    var createCounterStyleFromSymbols = function (value, symbols, suffix) {
        if (suffix === void 0) { suffix = '. '; }
        var codePointRangeLength = symbols.length;
        return (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, false, function (codePoint) { return symbols[Math.floor(codePoint % codePointRangeLength)]; }) + suffix);
    };
    var CJK_ZEROS = 1 << 0;
    var CJK_TEN_COEFFICIENTS = 1 << 1;
    var CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;
    var CJK_HUNDRED_COEFFICIENTS = 1 << 3;
    var createCJKCounter = function (value, numbers, multipliers, negativeSign, suffix, flags) {
        if (value < -9999 || value > 9999) {
            return createCounterText(value, LIST_STYLE_TYPE.CJK_DECIMAL, suffix.length > 0);
        }
        var tmp = Math.abs(value);
        var string = suffix;
        if (tmp === 0) {
            return numbers[0] + string;
        }
        for (var digit = 0; tmp > 0 && digit <= 4; digit++) {
            var coefficient = tmp % 10;
            if (coefficient === 0 && contains(flags, CJK_ZEROS) && string !== '') {
                string = numbers[coefficient] + string;
            }
            else if (coefficient > 1 ||
                (coefficient === 1 && digit === 0) ||
                (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_COEFFICIENTS)) ||
                (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100) ||
                (coefficient === 1 && digit > 1 && contains(flags, CJK_HUNDRED_COEFFICIENTS))) {
                string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;
            }
            else if (coefficient === 1 && digit > 0) {
                string = multipliers[digit - 1] + string;
            }
            tmp = Math.floor(tmp / 10);
        }
        return (value < 0 ? negativeSign : '') + string;
    };
    var CHINESE_INFORMAL_MULTIPLIERS = '十百千萬';
    var CHINESE_FORMAL_MULTIPLIERS = '拾佰仟萬';
    var JAPANESE_NEGATIVE = 'マイナス';
    var KOREAN_NEGATIVE = '마이너스';
    var createCounterText = function (value, type, appendSuffix) {
        var defaultSuffix = appendSuffix ? '. ' : '';
        var cjkSuffix = appendSuffix ? '、' : '';
        var koreanSuffix = appendSuffix ? ', ' : '';
        var spaceSuffix = appendSuffix ? ' ' : '';
        switch (type) {
            case LIST_STYLE_TYPE.DISC:
                return '•' + spaceSuffix;
            case LIST_STYLE_TYPE.CIRCLE:
                return '◦' + spaceSuffix;
            case LIST_STYLE_TYPE.SQUARE:
                return '◾' + spaceSuffix;
            case LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:
                var string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);
                return string.length < 4 ? "0" + string : string;
            case LIST_STYLE_TYPE.CJK_DECIMAL:
                return createCounterStyleFromSymbols(value, '〇一二三四五六七八九', cjkSuffix);
            case LIST_STYLE_TYPE.LOWER_ROMAN:
                return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();
            case LIST_STYLE_TYPE.UPPER_ROMAN:
                return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);
            case LIST_STYLE_TYPE.LOWER_GREEK:
                return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);
            case LIST_STYLE_TYPE.LOWER_ALPHA:
                return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);
            case LIST_STYLE_TYPE.UPPER_ALPHA:
                return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);
            case LIST_STYLE_TYPE.ARABIC_INDIC:
                return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);
            case LIST_STYLE_TYPE.ARMENIAN:
            case LIST_STYLE_TYPE.UPPER_ARMENIAN:
                return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);
            case LIST_STYLE_TYPE.LOWER_ARMENIAN:
                return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();
            case LIST_STYLE_TYPE.BENGALI:
                return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);
            case LIST_STYLE_TYPE.CAMBODIAN:
            case LIST_STYLE_TYPE.KHMER:
                return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);
            case LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:
                return createCounterStyleFromSymbols(value, '子丑寅卯辰巳午未申酉戌亥', cjkSuffix);
            case LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:
                return createCounterStyleFromSymbols(value, '甲乙丙丁戊己庚辛壬癸', cjkSuffix);
            case LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:
            case LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:
                return createCJKCounter(value, '零一二三四五六七八九', CHINESE_INFORMAL_MULTIPLIERS, '負', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);
            case LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:
                return createCJKCounter(value, '零壹貳參肆伍陸柒捌玖', CHINESE_FORMAL_MULTIPLIERS, '負', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);
            case LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:
                return createCJKCounter(value, '零一二三四五六七八九', CHINESE_INFORMAL_MULTIPLIERS, '负', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);
            case LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:
                return createCJKCounter(value, '零壹贰叁肆伍陆柒捌玖', CHINESE_FORMAL_MULTIPLIERS, '负', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);
            case LIST_STYLE_TYPE.JAPANESE_INFORMAL:
                return createCJKCounter(value, '〇一二三四五六七八九', '十百千万', JAPANESE_NEGATIVE, cjkSuffix, 0);
            case LIST_STYLE_TYPE.JAPANESE_FORMAL:
                return createCJKCounter(value, '零壱弐参四伍六七八九', '拾百千万', JAPANESE_NEGATIVE, cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);
            case LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:
                return createCJKCounter(value, '영일이삼사오육칠팔구', '십백천만', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);
            case LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:
                return createCJKCounter(value, '零一二三四五六七八九', '十百千萬', KOREAN_NEGATIVE, koreanSuffix, 0);
            case LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:
                return createCJKCounter(value, '零壹貳參四五六七八九', '拾百千', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);
            case LIST_STYLE_TYPE.DEVANAGARI:
                return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);
            case LIST_STYLE_TYPE.GEORGIAN:
                return createAdditiveCounter(value, 1, 19999, GEORGIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);
            case LIST_STYLE_TYPE.GUJARATI:
                return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);
            case LIST_STYLE_TYPE.GURMUKHI:
                return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);
            case LIST_STYLE_TYPE.HEBREW:
                return createAdditiveCounter(value, 1, 10999, HEBREW, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);
            case LIST_STYLE_TYPE.HIRAGANA:
                return createCounterStyleFromSymbols(value, 'あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん');
            case LIST_STYLE_TYPE.HIRAGANA_IROHA:
                return createCounterStyleFromSymbols(value, 'いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす');
            case LIST_STYLE_TYPE.KANNADA:
                return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);
            case LIST_STYLE_TYPE.KATAKANA:
                return createCounterStyleFromSymbols(value, 'アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン', cjkSuffix);
            case LIST_STYLE_TYPE.KATAKANA_IROHA:
                return createCounterStyleFromSymbols(value, 'イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス', cjkSuffix);
            case LIST_STYLE_TYPE.LAO:
                return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);
            case LIST_STYLE_TYPE.MONGOLIAN:
                return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);
            case LIST_STYLE_TYPE.MYANMAR:
                return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);
            case LIST_STYLE_TYPE.ORIYA:
                return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);
            case LIST_STYLE_TYPE.PERSIAN:
                return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);
            case LIST_STYLE_TYPE.TAMIL:
                return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);
            case LIST_STYLE_TYPE.TELUGU:
                return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);
            case LIST_STYLE_TYPE.THAI:
                return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);
            case LIST_STYLE_TYPE.TIBETAN:
                return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);
            case LIST_STYLE_TYPE.DECIMAL:
            default:
                return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);
        }
    };

    var IGNORE_ATTRIBUTE = 'data-html2canvas-ignore';
    var DocumentCloner = /** @class */ (function () {
        function DocumentCloner(element, options) {
            this.options = options;
            this.scrolledElements = [];
            this.referenceElement = element;
            this.counters = new CounterState();
            this.quoteDepth = 0;
            if (!element.ownerDocument) {
                throw new Error('Cloned element does not have an owner document');
            }
            this.documentElement = this.cloneNode(element.ownerDocument.documentElement);
        }
        DocumentCloner.prototype.toIFrame = function (ownerDocument, windowSize) {
            var _this = this;
            var iframe = createIFrameContainer(ownerDocument, windowSize);
            if (!iframe.contentWindow) {
                return Promise.reject("Unable to find iframe window");
            }
            var scrollX = ownerDocument.defaultView.pageXOffset;
            var scrollY = ownerDocument.defaultView.pageYOffset;
            var cloneWindow = iframe.contentWindow;
            var documentClone = cloneWindow.document;
            /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle
             if window url is about:blank, we can assign the url to current by writing onto the document
             */
            var iframeLoad = iframeLoader(iframe).then(function () { return __awaiter(_this, void 0, void 0, function () {
                var onclone;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            this.scrolledElements.forEach(restoreNodeScroll);
                            if (cloneWindow) {
                                cloneWindow.scrollTo(windowSize.left, windowSize.top);
                                if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent) &&
                                    (cloneWindow.scrollY !== windowSize.top || cloneWindow.scrollX !== windowSize.left)) {
                                    documentClone.documentElement.style.top = -windowSize.top + 'px';
                                    documentClone.documentElement.style.left = -windowSize.left + 'px';
                                    documentClone.documentElement.style.position = 'absolute';
                                }
                            }
                            onclone = this.options.onclone;
                            if (typeof this.clonedReferenceElement === 'undefined') {
                                return [2 /*return*/, Promise.reject("Error finding the " + this.referenceElement.nodeName + " in the cloned document")];
                            }
                            if (!(documentClone.fonts && documentClone.fonts.ready)) return [3 /*break*/, 2];
                            return [4 /*yield*/, documentClone.fonts.ready];
                        case 1:
                            _a.sent();
                            _a.label = 2;
                        case 2:
                            if (typeof onclone === 'function') {
                                return [2 /*return*/, Promise.resolve()
                                        .then(function () { return onclone(documentClone); })
                                        .then(function () { return iframe; })];
                            }
                            return [2 /*return*/, iframe];
                    }
                });
            }); });
            documentClone.open();
            documentClone.write(serializeDoctype(document.doctype) + "<html></html>");
            // Chrome scrolls the parent document for some reason after the write to the cloned window???
            restoreOwnerScroll(this.referenceElement.ownerDocument, scrollX, scrollY);
            documentClone.replaceChild(documentClone.adoptNode(this.documentElement), documentClone.documentElement);
            documentClone.close();
            return iframeLoad;
        };
        DocumentCloner.prototype.createElementClone = function (node) {
            if (isCanvasElement(node)) {
                return this.createCanvasClone(node);
            }
            /*
            if (isIFrameElement(node)) {
                return this.createIFrameClone(node);
            }
    */
            if (isStyleElement(node)) {
                return this.createStyleClone(node);
            }
            return node.cloneNode(false);
        };
        DocumentCloner.prototype.createStyleClone = function (node) {
            try {
                var sheet = node.sheet;
                if (sheet && sheet.cssRules) {
                    var css = [].slice.call(sheet.cssRules, 0).reduce(function (css, rule) {
                        if (rule && typeof rule.cssText === 'string') {
                            return css + rule.cssText;
                        }
                        return css;
                    }, '');
                    var style = node.cloneNode(false);
                    style.textContent = css;
                    return style;
                }
            }
            catch (e) {
                // accessing node.sheet.cssRules throws a DOMException
                Logger.getInstance(this.options.id).error('Unable to access cssRules property', e);
                if (e.name !== 'SecurityError') {
                    throw e;
                }
            }
            return node.cloneNode(false);
        };
        DocumentCloner.prototype.createCanvasClone = function (canvas) {
            if (this.options.inlineImages && canvas.ownerDocument) {
                var img = canvas.ownerDocument.createElement('img');
                try {
                    img.src = canvas.toDataURL();
                    return img;
                }
                catch (e) {
                    Logger.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted");
                }
            }
            var clonedCanvas = canvas.cloneNode(false);
            try {
                clonedCanvas.width = canvas.width;
                clonedCanvas.height = canvas.height;
                var ctx = canvas.getContext('2d');
                var clonedCtx = clonedCanvas.getContext('2d');
                if (clonedCtx) {
                    if (ctx) {
                        clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);
                    }
                    else {
                        clonedCtx.drawImage(canvas, 0, 0);
                    }
                }
                return clonedCanvas;
            }
            catch (e) { }
            return clonedCanvas;
        };
        /*
        createIFrameClone(iframe: HTMLIFrameElement) {
            const tempIframe = <HTMLIFrameElement>iframe.cloneNode(false);
            const iframeKey = generateIframeKey();
            tempIframe.setAttribute('data-html2canvas-internal-iframe-key', iframeKey);

            const {width, height} = parseBounds(iframe);

            this.resourceLoader.cache[iframeKey] = getIframeDocumentElement(iframe, this.options)
                .then(documentElement => {
                    return this.renderer(
                        documentElement,
                        {
                            allowTaint: this.options.allowTaint,
                            backgroundColor: '#ffffff',
                            canvas: null,
                            imageTimeout: this.options.imageTimeout,
                            logging: this.options.logging,
                            proxy: this.options.proxy,
                            removeContainer: this.options.removeContainer,
                            scale: this.options.scale,
                            foreignObjectRendering: this.options.foreignObjectRendering,
                            useCORS: this.options.useCORS,
                            target: new CanvasRenderer(),
                            width,
                            height,
                            x: 0,
                            y: 0,
                            windowWidth: documentElement.ownerDocument.defaultView.innerWidth,
                            windowHeight: documentElement.ownerDocument.defaultView.innerHeight,
                            scrollX: documentElement.ownerDocument.defaultView.pageXOffset,
                            scrollY: documentElement.ownerDocument.defaultView.pageYOffset
                        },
                    );
                })
                .then(
                    (canvas: HTMLCanvasElement) =>
                        new Promise((resolve, reject) => {
                            const iframeCanvas = document.createElement('img');
                            iframeCanvas.onload = () => resolve(canvas);
                            iframeCanvas.onerror = (event) => {
                                // Empty iframes may result in empty "data:," URLs, which are invalid from the <img>'s point of view
                                // and instead of `onload` cause `onerror` and unhandled rejection warnings
                                // https://github.com/niklasvh/html2canvas/issues/1502
                                iframeCanvas.src == 'data:,' ? resolve(canvas) : reject(event);
                            };
                            iframeCanvas.src = canvas.toDataURL();
                            if (tempIframe.parentNode && iframe.ownerDocument && iframe.ownerDocument.defaultView) {
                                tempIframe.parentNode.replaceChild(
                                    copyCSSStyles(
                                        iframe.ownerDocument.defaultView.getComputedStyle(iframe),
                                        iframeCanvas
                                    ),
                                    tempIframe
                                );
                            }
                        })
                );
            return tempIframe;
        }
    */
        DocumentCloner.prototype.cloneNode = function (node) {
            if (isTextNode(node)) {
                return document.createTextNode(node.data);
            }
            if (!node.ownerDocument) {
                return node.cloneNode(false);
            }
            var window = node.ownerDocument.defaultView;
            if (isHTMLElementNode(node) && window) {
                var clone = this.createElementClone(node);
                var style = window.getComputedStyle(node);
                var styleBefore = window.getComputedStyle(node, ':before');
                var styleAfter = window.getComputedStyle(node, ':after');
                if (this.referenceElement === node) {
                    this.clonedReferenceElement = clone;
                }
                if (isBodyElement(clone)) {
                    createPseudoHideStyles(clone);
                }
                var counters = this.counters.parse(new CSSParsedCounterDeclaration(style));
                var before = this.resolvePseudoContent(node, clone, styleBefore, PseudoElementType.BEFORE);
                for (var child = node.firstChild; child; child = child.nextSibling) {
                    if (!isElementNode(child) ||
                        (!isScriptElement(child) &&
                            !child.hasAttribute(IGNORE_ATTRIBUTE) &&
                            (typeof this.options.ignoreElements !== 'function' || !this.options.ignoreElements(child)))) {
                        if (!this.options.copyStyles || !isElementNode(child) || !isStyleElement(child)) {
                            clone.appendChild(this.cloneNode(child));
                        }
                    }
                }
                if (before) {
                    clone.insertBefore(before, clone.firstChild);
                }
                var after = this.resolvePseudoContent(node, clone, styleAfter, PseudoElementType.AFTER);
                if (after) {
                    clone.appendChild(after);
                }
                this.counters.pop(counters);
                if (style && this.options.copyStyles && !isIFrameElement(node)) {
                    copyCSSStyles(style, clone);
                }
                //this.inlineAllImages(clone);
                if (node.scrollTop !== 0 || node.scrollLeft !== 0) {
                    this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);
                }
                if ((isTextareaElement(node) || isSelectElement(node)) &&
                    (isTextareaElement(clone) || isSelectElement(clone))) {
                    clone.value = node.value;
                }
                return clone;
            }
            return node.cloneNode(false);
        };
        DocumentCloner.prototype.resolvePseudoContent = function (node, clone, style, pseudoElt) {
            var _this = this;
            if (!style) {
                return;
            }
            var value = style.content;
            var document = clone.ownerDocument;
            if (!document || !value || value === 'none' || value === '-moz-alt-content' || style.display === 'none') {
                return;
            }
            this.counters.parse(new CSSParsedCounterDeclaration(style));
            var declaration = new CSSParsedPseudoDeclaration(style);
            var anonymousReplacedElement = document.createElement('html2canvaspseudoelement');
            copyCSSStyles(style, anonymousReplacedElement);
            declaration.content.forEach(function (token) {
                if (token.type === TokenType.STRING_TOKEN) {
                    anonymousReplacedElement.appendChild(document.createTextNode(token.value));
                }
                else if (token.type === TokenType.URL_TOKEN) {
                    var img = document.createElement('img');
                    img.src = token.value;
                    img.style.opacity = '1';
                    anonymousReplacedElement.appendChild(img);
                }
                else if (token.type === TokenType.FUNCTION) {
                    if (token.name === 'attr') {
                        var attr = token.values.filter(isIdentToken);
                        if (attr.length) {
                            anonymousReplacedElement.appendChild(document.createTextNode(node.getAttribute(attr[0].value) || ''));
                        }
                    }
                    else if (token.name === 'counter') {
                        var _a = token.values.filter(nonFunctionArgSeparator), counter = _a[0], counterStyle = _a[1];
                        if (counter && isIdentToken(counter)) {
                            var counterState = _this.counters.getCounterValue(counter.value);
                            var counterType = counterStyle && isIdentToken(counterStyle)
                                ? listStyleType.parse(counterStyle.value)
                                : LIST_STYLE_TYPE.DECIMAL;
                            anonymousReplacedElement.appendChild(document.createTextNode(createCounterText(counterState, counterType, false)));
                        }
                    }
                    else if (token.name === 'counters') {
                        var _b = token.values.filter(nonFunctionArgSeparator), counter = _b[0], delim = _b[1], counterStyle = _b[2];
                        if (counter && isIdentToken(counter)) {
                            var counterStates = _this.counters.getCounterValues(counter.value);
                            var counterType_1 = counterStyle && isIdentToken(counterStyle)
                                ? listStyleType.parse(counterStyle.value)
                                : LIST_STYLE_TYPE.DECIMAL;
                            var separator = delim && delim.type === TokenType.STRING_TOKEN ? delim.value : '';
                            var text = counterStates
                                .map(function (value) { return createCounterText(value, counterType_1, false); })
                                .join(separator);
                            anonymousReplacedElement.appendChild(document.createTextNode(text));
                        }
                    }
                }
                else if (token.type === TokenType.IDENT_TOKEN) {
                    switch (token.value) {
                        case 'open-quote':
                            anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, _this.quoteDepth++, true)));
                            break;
                        case 'close-quote':
                            anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, --_this.quoteDepth, false)));
                            break;
                        default:
                            // safari doesn't parse string tokens correctly because of lack of quotes
                            anonymousReplacedElement.appendChild(document.createTextNode(token.value));
                    }
                }
            });
            anonymousReplacedElement.className = PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + " " + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;
            clone.className +=
                pseudoElt === PseudoElementType.BEFORE
                    ? " " + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE
                    : " " + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;
            return anonymousReplacedElement;
        };
        DocumentCloner.destroy = function (container) {
            if (container.parentNode) {
                container.parentNode.removeChild(container);
                return true;
            }
            return false;
        };
        return DocumentCloner;
    }());
    var PseudoElementType;
    (function (PseudoElementType) {
        PseudoElementType[PseudoElementType["BEFORE"] = 0] = "BEFORE";
        PseudoElementType[PseudoElementType["AFTER"] = 1] = "AFTER";
    })(PseudoElementType || (PseudoElementType = {}));
    var createIFrameContainer = function (ownerDocument, bounds) {
        var cloneIframeContainer = ownerDocument.createElement('iframe');
        cloneIframeContainer.className = 'html2canvas-container';
        cloneIframeContainer.style.visibility = 'hidden';
        cloneIframeContainer.style.position = 'fixed';
        cloneIframeContainer.style.left = '-10000px';
        cloneIframeContainer.style.top = '0px';
        cloneIframeContainer.style.border = '0';
        cloneIframeContainer.width = bounds.width.toString();
        cloneIframeContainer.height = bounds.height.toString();
        cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it
        cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, 'true');
        ownerDocument.body.appendChild(cloneIframeContainer);
        return cloneIframeContainer;
    };
    var iframeLoader = function (iframe) {
        return new Promise(function (resolve, reject) {
            var cloneWindow = iframe.contentWindow;
            if (!cloneWindow) {
                return reject("No window assigned for iframe");
            }
            var documentClone = cloneWindow.document;
            cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = function () {
                cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = null;
                var interval = setInterval(function () {
                    if (documentClone.body.childNodes.length > 0 && documentClone.readyState === 'complete') {
                        clearInterval(interval);
                        resolve(iframe);
                    }
                }, 50);
            };
        });
    };
    var copyCSSStyles = function (style, target) {
        // Edge does not provide value for cssText
        for (var i = style.length - 1; i >= 0; i--) {
            var property = style.item(i);
            // Safari shows pseudoelements if content is set
            if (property !== 'content') {
                target.style.setProperty(property, style.getPropertyValue(property));
            }
        }
        return target;
    };
    var serializeDoctype = function (doctype) {
        var str = '';
        if (doctype) {
            str += '<!DOCTYPE ';
            if (doctype.name) {
                str += doctype.name;
            }
            if (doctype.internalSubset) {
                str += doctype.internalSubset;
            }
            if (doctype.publicId) {
                str += "\"" + doctype.publicId + "\"";
            }
            if (doctype.systemId) {
                str += "\"" + doctype.systemId + "\"";
            }
            str += '>';
        }
        return str;
    };
    var restoreOwnerScroll = function (ownerDocument, x, y) {
        if (ownerDocument &&
            ownerDocument.defaultView &&
            (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {
            ownerDocument.defaultView.scrollTo(x, y);
        }
    };
    var restoreNodeScroll = function (_a) {
        var element = _a[0], x = _a[1], y = _a[2];
        element.scrollLeft = x;
        element.scrollTop = y;
    };
    var PSEUDO_BEFORE = ':before';
    var PSEUDO_AFTER = ':after';
    var PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';
    var PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';
    var PSEUDO_HIDE_ELEMENT_STYLE = "{\n    content: \"\" !important;\n    display: none !important;\n}";
    var createPseudoHideStyles = function (body) {
        createStyles(body, "." + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + PSEUDO_BEFORE + PSEUDO_HIDE_ELEMENT_STYLE + "\n         ." + PSEUDO_HIDE_ELEMENT_CLASS_AFTER + PSEUDO_AFTER + PSEUDO_HIDE_ELEMENT_STYLE);
    };
    var createStyles = function (body, styles) {
        var document = body.ownerDocument;
        if (document) {
            var style = document.createElement('style');
            style.textContent = styles;
            body.appendChild(style);
        }
    };

    var PathType;
    (function (PathType) {
        PathType[PathType["VECTOR"] = 0] = "VECTOR";
        PathType[PathType["BEZIER_CURVE"] = 1] = "BEZIER_CURVE";
    })(PathType || (PathType = {}));
    var equalPath = function (a, b) {
        if (a.length === b.length) {
            return a.some(function (v, i) { return v === b[i]; });
        }
        return false;
    };
    var transformPath = function (path, deltaX, deltaY, deltaW, deltaH) {
        return path.map(function (point, index) {
            switch (index) {
                case 0:
                    return point.add(deltaX, deltaY);
                case 1:
                    return point.add(deltaX + deltaW, deltaY);
                case 2:
                    return point.add(deltaX + deltaW, deltaY + deltaH);
                case 3:
                    return point.add(deltaX, deltaY + deltaH);
            }
            return point;
        });
    };

    var Vector = /** @class */ (function () {
        function Vector(x, y) {
            this.type = PathType.VECTOR;
            this.x = x;
            this.y = y;
        }
        Vector.prototype.add = function (deltaX, deltaY) {
            return new Vector(this.x + deltaX, this.y + deltaY);
        };
        return Vector;
    }());

    var lerp = function (a, b, t) {
        return new Vector(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);
    };
    var BezierCurve = /** @class */ (function () {
        function BezierCurve(start, startControl, endControl, end) {
            this.type = PathType.BEZIER_CURVE;
            this.start = start;
            this.startControl = startControl;
            this.endControl = endControl;
            this.end = end;
        }
        BezierCurve.prototype.subdivide = function (t, firstHalf) {
            var ab = lerp(this.start, this.startControl, t);
            var bc = lerp(this.startControl, this.endControl, t);
            var cd = lerp(this.endControl, this.end, t);
            var abbc = lerp(ab, bc, t);
            var bccd = lerp(bc, cd, t);
            var dest = lerp(abbc, bccd, t);
            return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);
        };
        BezierCurve.prototype.add = function (deltaX, deltaY) {
            return new BezierCurve(this.start.add(deltaX, deltaY), this.startControl.add(deltaX, deltaY), this.endControl.add(deltaX, deltaY), this.end.add(deltaX, deltaY));
        };
        BezierCurve.prototype.reverse = function () {
            return new BezierCurve(this.end, this.endControl, this.startControl, this.start);
        };
        return BezierCurve;
    }());
    var isBezierCurve = function (path) { return path.type === PathType.BEZIER_CURVE; };

    var BoundCurves = /** @class */ (function () {
        function BoundCurves(element) {
            var styles = element.styles;
            var bounds = element.bounds;
            var _a = getAbsoluteValueForTuple(styles.borderTopLeftRadius, bounds.width, bounds.height), tlh = _a[0], tlv = _a[1];
            var _b = getAbsoluteValueForTuple(styles.borderTopRightRadius, bounds.width, bounds.height), trh = _b[0], trv = _b[1];
            var _c = getAbsoluteValueForTuple(styles.borderBottomRightRadius, bounds.width, bounds.height), brh = _c[0], brv = _c[1];
            var _d = getAbsoluteValueForTuple(styles.borderBottomLeftRadius, bounds.width, bounds.height), blh = _d[0], blv = _d[1];
            var factors = [];
            factors.push((tlh + trh) / bounds.width);
            factors.push((blh + brh) / bounds.width);
            factors.push((tlv + blv) / bounds.height);
            factors.push((trv + brv) / bounds.height);
            var maxFactor = Math.max.apply(Math, factors);
            if (maxFactor > 1) {
                tlh /= maxFactor;
                tlv /= maxFactor;
                trh /= maxFactor;
                trv /= maxFactor;
                brh /= maxFactor;
                brv /= maxFactor;
                blh /= maxFactor;
                blv /= maxFactor;
            }
            var topWidth = bounds.width - trh;
            var rightHeight = bounds.height - brv;
            var bottomWidth = bounds.width - brh;
            var leftHeight = bounds.height - blv;
            var borderTopWidth = styles.borderTopWidth;
            var borderRightWidth = styles.borderRightWidth;
            var borderBottomWidth = styles.borderBottomWidth;
            var borderLeftWidth = styles.borderLeftWidth;
            var paddingTop = getAbsoluteValue(styles.paddingTop, element.bounds.width);
            var paddingRight = getAbsoluteValue(styles.paddingRight, element.bounds.width);
            var paddingBottom = getAbsoluteValue(styles.paddingBottom, element.bounds.width);
            var paddingLeft = getAbsoluteValue(styles.paddingLeft, element.bounds.width);
            this.topLeftBorderBox =
                tlh > 0 || tlv > 0
                    ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT)
                    : new Vector(bounds.left, bounds.top);
            this.topRightBorderBox =
                trh > 0 || trv > 0
                    ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT)
                    : new Vector(bounds.left + bounds.width, bounds.top);
            this.bottomRightBorderBox =
                brh > 0 || brv > 0
                    ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT)
                    : new Vector(bounds.left + bounds.width, bounds.top + bounds.height);
            this.bottomLeftBorderBox =
                blh > 0 || blv > 0
                    ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT)
                    : new Vector(bounds.left, bounds.top + bounds.height);
            this.topLeftPaddingBox =
                tlh > 0 || tlv > 0
                    ? getCurvePoints(bounds.left + borderLeftWidth, bounds.top + borderTopWidth, Math.max(0, tlh - borderLeftWidth), Math.max(0, tlv - borderTopWidth), CORNER.TOP_LEFT)
                    : new Vector(bounds.left + borderLeftWidth, bounds.top + borderTopWidth);
            this.topRightPaddingBox =
                trh > 0 || trv > 0
                    ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth), bounds.top + borderTopWidth, topWidth > bounds.width + borderLeftWidth ? 0 : trh - borderLeftWidth, trv - borderTopWidth, CORNER.TOP_RIGHT)
                    : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + borderTopWidth);
            this.bottomRightPaddingBox =
                brh > 0 || brv > 0
                    ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - borderLeftWidth), bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth), Math.max(0, brh - borderRightWidth), brv - borderBottomWidth, CORNER.BOTTOM_RIGHT)
                    : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + bounds.height - borderBottomWidth);
            this.bottomLeftPaddingBox =
                blh > 0 || blv > 0
                    ? getCurvePoints(bounds.left + borderLeftWidth, bounds.top + leftHeight, Math.max(0, blh - borderLeftWidth), blv - borderBottomWidth, CORNER.BOTTOM_LEFT)
                    : new Vector(bounds.left + borderLeftWidth, bounds.top + bounds.height - borderBottomWidth);
            this.topLeftContentBox =
                tlh > 0 || tlv > 0
                    ? getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop, Math.max(0, tlh - (borderLeftWidth + paddingLeft)), Math.max(0, tlv - (borderTopWidth + paddingTop)), CORNER.TOP_LEFT)
                    : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop);
            this.topRightContentBox =
                trh > 0 || trv > 0
                    ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth + paddingLeft), bounds.top + borderTopWidth + paddingTop, topWidth > bounds.width + borderLeftWidth + paddingLeft ? 0 : trh - borderLeftWidth + paddingLeft, trv - (borderTopWidth + paddingTop), CORNER.TOP_RIGHT)
                    : new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + borderTopWidth + paddingTop);
            this.bottomRightContentBox =
                brh > 0 || brv > 0
                    ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - (borderLeftWidth + paddingLeft)), bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth + paddingTop), Math.max(0, brh - (borderRightWidth + paddingRight)), brv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_RIGHT)
                    : new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + bounds.height - (borderBottomWidth + paddingBottom));
            this.bottomLeftContentBox =
                blh > 0 || blv > 0
                    ? getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + leftHeight, Math.max(0, blh - (borderLeftWidth + paddingLeft)), blv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_LEFT)
                    : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + bounds.height - (borderBottomWidth + paddingBottom));
        }
        return BoundCurves;
    }());
    var CORNER;
    (function (CORNER) {
        CORNER[CORNER["TOP_LEFT"] = 0] = "TOP_LEFT";
        CORNER[CORNER["TOP_RIGHT"] = 1] = "TOP_RIGHT";
        CORNER[CORNER["BOTTOM_RIGHT"] = 2] = "BOTTOM_RIGHT";
        CORNER[CORNER["BOTTOM_LEFT"] = 3] = "BOTTOM_LEFT";
    })(CORNER || (CORNER = {}));
    var getCurvePoints = function (x, y, r1, r2, position) {
        var kappa = 4 * ((Math.sqrt(2) - 1) / 3);
        var ox = r1 * kappa; // control point offset horizontal
        var oy = r2 * kappa; // control point offset vertical
        var xm = x + r1; // x-middle
        var ym = y + r2; // y-middle
        switch (position) {
            case CORNER.TOP_LEFT:
                return new BezierCurve(new Vector(x, ym), new Vector(x, ym - oy), new Vector(xm - ox, y), new Vector(xm, y));
            case CORNER.TOP_RIGHT:
                return new BezierCurve(new Vector(x, y), new Vector(x + ox, y), new Vector(xm, ym - oy), new Vector(xm, ym));
            case CORNER.BOTTOM_RIGHT:
                return new BezierCurve(new Vector(xm, y), new Vector(xm, y + oy), new Vector(x + ox, ym), new Vector(x, ym));
            case CORNER.BOTTOM_LEFT:
            default:
                return new BezierCurve(new Vector(xm, ym), new Vector(xm - ox, ym), new Vector(x, y + oy), new Vector(x, y));
        }
    };
    var calculateBorderBoxPath = function (curves) {
        return [curves.topLeftBorderBox, curves.topRightBorderBox, curves.bottomRightBorderBox, curves.bottomLeftBorderBox];
    };
    var calculateContentBoxPath = function (curves) {
        return [
            curves.topLeftContentBox,
            curves.topRightContentBox,
            curves.bottomRightContentBox,
            curves.bottomLeftContentBox
        ];
    };
    var calculatePaddingBoxPath = function (curves) {
        return [
            curves.topLeftPaddingBox,
            curves.topRightPaddingBox,
            curves.bottomRightPaddingBox,
            curves.bottomLeftPaddingBox
        ];
    };

    var TransformEffect = /** @class */ (function () {
        function TransformEffect(offsetX, offsetY, matrix) {
            this.type = 0 /* TRANSFORM */;
            this.offsetX = offsetX;
            this.offsetY = offsetY;
            this.matrix = matrix;
            this.target = 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */;
        }
        return TransformEffect;
    }());
    var ClipEffect = /** @class */ (function () {
        function ClipEffect(path, target) {
            this.type = 1 /* CLIP */;
            this.target = target;
            this.path = path;
        }
        return ClipEffect;
    }());
    var isTransformEffect = function (effect) {
        return effect.type === 0 /* TRANSFORM */;
    };
    var isClipEffect = function (effect) { return effect.type === 1 /* CLIP */; };

    var StackingContext = /** @class */ (function () {
        function StackingContext(container) {
            this.element = container;
            this.inlineLevel = [];
            this.nonInlineLevel = [];
            this.negativeZIndex = [];
            this.zeroOrAutoZIndexOrTransformedOrOpacity = [];
            this.positiveZIndex = [];
            this.nonPositionedFloats = [];
            this.nonPositionedInlineLevel = [];
        }
        return StackingContext;
    }());
    var ElementPaint = /** @class */ (function () {
        function ElementPaint(element, parentStack) {
            this.container = element;
            this.effects = parentStack.slice(0);
            this.curves = new BoundCurves(element);
            if (element.styles.transform !== null) {
                var offsetX = element.bounds.left + element.styles.transformOrigin[0].number;
                var offsetY = element.bounds.top + element.styles.transformOrigin[1].number;
                var matrix = element.styles.transform;
                this.effects.push(new TransformEffect(offsetX, offsetY, matrix));
            }
            if (element.styles.overflowX !== OVERFLOW.VISIBLE) {
                var borderBox = calculateBorderBoxPath(this.curves);
                var paddingBox = calculatePaddingBoxPath(this.curves);
                if (equalPath(borderBox, paddingBox)) {
                    this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */));
                }
                else {
                    this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */));
                    this.effects.push(new ClipEffect(paddingBox, 4 /* CONTENT */));
                }
            }
        }
        ElementPaint.prototype.getParentEffects = function () {
            var effects = this.effects.slice(0);
            if (this.container.styles.overflowX !== OVERFLOW.VISIBLE) {
                var borderBox = calculateBorderBoxPath(this.curves);
                var paddingBox = calculatePaddingBoxPath(this.curves);
                if (!equalPath(borderBox, paddingBox)) {
                    effects.push(new ClipEffect(paddingBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */));
                }
            }
            return effects;
        };
        return ElementPaint;
    }());
    var parseStackTree = function (parent, stackingContext, realStackingContext, listItems) {
        parent.container.elements.forEach(function (child) {
            var treatAsRealStackingContext = contains(child.flags, 4 /* CREATES_REAL_STACKING_CONTEXT */);
            var createsStackingContext = contains(child.flags, 2 /* CREATES_STACKING_CONTEXT */);
            var paintContainer = new ElementPaint(child, parent.getParentEffects());
            if (contains(child.styles.display, 2048 /* LIST_ITEM */)) {
                listItems.push(paintContainer);
            }
            var listOwnerItems = contains(child.flags, 8 /* IS_LIST_OWNER */) ? [] : listItems;
            if (treatAsRealStackingContext || createsStackingContext) {
                var parentStack = treatAsRealStackingContext || child.styles.isPositioned() ? realStackingContext : stackingContext;
                var stack = new StackingContext(paintContainer);
                if (child.styles.isPositioned() || child.styles.opacity < 1 || child.styles.isTransformed()) {
                    var order_1 = child.styles.zIndex.order;
                    if (order_1 < 0) {
                        var index_1 = 0;
                        parentStack.negativeZIndex.some(function (current, i) {
                            if (order_1 > current.element.container.styles.zIndex.order) {
                                index_1 = i;
                                return false;
                            }
                            else if (index_1 > 0) {
                                return true;
                            }
                            return false;
                        });
                        parentStack.negativeZIndex.splice(index_1, 0, stack);
                    }
                    else if (order_1 > 0) {
                        var index_2 = 0;
                        parentStack.positiveZIndex.some(function (current, i) {
                            if (order_1 > current.element.container.styles.zIndex.order) {
                                index_2 = i + 1;
                                return false;
                            }
                            else if (index_2 > 0) {
                                return true;
                            }
                            return false;
                        });
                        parentStack.positiveZIndex.splice(index_2, 0, stack);
                    }
                    else {
                        parentStack.zeroOrAutoZIndexOrTransformedOrOpacity.push(stack);
                    }
                }
                else {
                    if (child.styles.isFloating()) {
                        parentStack.nonPositionedFloats.push(stack);
                    }
                    else {
                        parentStack.nonPositionedInlineLevel.push(stack);
                    }
                }
                parseStackTree(paintContainer, stack, treatAsRealStackingContext ? stack : realStackingContext, listOwnerItems);
            }
            else {
                if (child.styles.isInlineLevel()) {
                    stackingContext.inlineLevel.push(paintContainer);
                }
                else {
                    stackingContext.nonInlineLevel.push(paintContainer);
                }
                parseStackTree(paintContainer, stackingContext, realStackingContext, listOwnerItems);
            }
            if (contains(child.flags, 8 /* IS_LIST_OWNER */)) {
                processListItems(child, listOwnerItems);
            }
        });
    };
    var processListItems = function (owner, elements) {
        var numbering = owner instanceof OLElementContainer ? owner.start : 1;
        var reversed = owner instanceof OLElementContainer ? owner.reversed : false;
        for (var i = 0; i < elements.length; i++) {
            var item = elements[i];
            if (item.container instanceof LIElementContainer &&
                typeof item.container.value === 'number' &&
                item.container.value !== 0) {
                numbering = item.container.value;
            }
            item.listValue = createCounterText(numbering, item.container.styles.listStyleType, true);
            numbering += reversed ? -1 : 1;
        }
    };
    var parseStackingContexts = function (container) {
        var paintContainer = new ElementPaint(container, []);
        var root = new StackingContext(paintContainer);
        var listItems = [];
        parseStackTree(paintContainer, root, root, listItems);
        processListItems(paintContainer.container, listItems);
        return root;
    };

    var parsePathForBorder = function (curves, borderSide) {
        switch (borderSide) {
            case 0:
                return createPathFromCurves(curves.topLeftBorderBox, curves.topLeftPaddingBox, curves.topRightBorderBox, curves.topRightPaddingBox);
            case 1:
                return createPathFromCurves(curves.topRightBorderBox, curves.topRightPaddingBox, curves.bottomRightBorderBox, curves.bottomRightPaddingBox);
            case 2:
                return createPathFromCurves(curves.bottomRightBorderBox, curves.bottomRightPaddingBox, curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox);
            case 3:
            default:
                return createPathFromCurves(curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox, curves.topLeftBorderBox, curves.topLeftPaddingBox);
        }
    };
    var createPathFromCurves = function (outer1, inner1, outer2, inner2) {
        var path = [];
        if (isBezierCurve(outer1)) {
            path.push(outer1.subdivide(0.5, false));
        }
        else {
            path.push(outer1);
        }
        if (isBezierCurve(outer2)) {
            path.push(outer2.subdivide(0.5, true));
        }
        else {
            path.push(outer2);
        }
        if (isBezierCurve(inner2)) {
            path.push(inner2.subdivide(0.5, true).reverse());
        }
        else {
            path.push(inner2);
        }
        if (isBezierCurve(inner1)) {
            path.push(inner1.subdivide(0.5, false).reverse());
        }
        else {
            path.push(inner1);
        }
        return path;
    };

    var paddingBox = function (element) {
        var bounds = element.bounds;
        var styles = element.styles;
        return bounds.add(styles.borderLeftWidth, styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth), -(styles.borderTopWidth + styles.borderBottomWidth));
    };
    var contentBox = function (element) {
        var styles = element.styles;
        var bounds = element.bounds;
        var paddingLeft = getAbsoluteValue(styles.paddingLeft, bounds.width);
        var paddingRight = getAbsoluteValue(styles.paddingRight, bounds.width);
        var paddingTop = getAbsoluteValue(styles.paddingTop, bounds.width);
        var paddingBottom = getAbsoluteValue(styles.paddingBottom, bounds.width);
        return bounds.add(paddingLeft + styles.borderLeftWidth, paddingTop + styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth + paddingLeft + paddingRight), -(styles.borderTopWidth + styles.borderBottomWidth + paddingTop + paddingBottom));
    };

    var calculateBackgroundPositioningArea = function (backgroundOrigin, element) {
        if (backgroundOrigin === 0 /* BORDER_BOX */) {
            return element.bounds;
        }
        if (backgroundOrigin === 2 /* CONTENT_BOX */) {
            return contentBox(element);
        }
        return paddingBox(element);
    };
    var calculateBackgroundPaintingArea = function (backgroundClip, element) {
        if (backgroundClip === BACKGROUND_CLIP.BORDER_BOX) {
            return element.bounds;
        }
        if (backgroundClip === BACKGROUND_CLIP.CONTENT_BOX) {
            return contentBox(element);
        }
        return paddingBox(element);
    };
    var calculateBackgroundRendering = function (container, index, intrinsicSize) {
        var backgroundPositioningArea = calculateBackgroundPositioningArea(getBackgroundValueForIndex(container.styles.backgroundOrigin, index), container);
        var backgroundPaintingArea = calculateBackgroundPaintingArea(getBackgroundValueForIndex(container.styles.backgroundClip, index), container);
        var backgroundImageSize = calculateBackgroundSize(getBackgroundValueForIndex(container.styles.backgroundSize, index), intrinsicSize, backgroundPositioningArea);
        var sizeWidth = backgroundImageSize[0], sizeHeight = backgroundImageSize[1];
        var position = getAbsoluteValueForTuple(getBackgroundValueForIndex(container.styles.backgroundPosition, index), backgroundPositioningArea.width - sizeWidth, backgroundPositioningArea.height - sizeHeight);
        var path = calculateBackgroundRepeatPath(getBackgroundValueForIndex(container.styles.backgroundRepeat, index), position, backgroundImageSize, backgroundPositioningArea, backgroundPaintingArea);
        var offsetX = Math.round(backgroundPositioningArea.left + position[0]);
        var offsetY = Math.round(backgroundPositioningArea.top + position[1]);
        return [path, offsetX, offsetY, sizeWidth, sizeHeight];
    };
    var isAuto = function (token) { return isIdentToken(token) && token.value === BACKGROUND_SIZE.AUTO; };
    var hasIntrinsicValue = function (value) { return typeof value === 'number'; };
    var calculateBackgroundSize = function (size, _a, bounds) {
        var intrinsicWidth = _a[0], intrinsicHeight = _a[1], intrinsicProportion = _a[2];
        var first = size[0], second = size[1];
        if (isLengthPercentage(first) && second && isLengthPercentage(second)) {
            return [getAbsoluteValue(first, bounds.width), getAbsoluteValue(second, bounds.height)];
        }
        var hasIntrinsicProportion = hasIntrinsicValue(intrinsicProportion);
        if (isIdentToken(first) && (first.value === BACKGROUND_SIZE.CONTAIN || first.value === BACKGROUND_SIZE.COVER)) {
            if (hasIntrinsicValue(intrinsicProportion)) {
                var targetRatio = bounds.width / bounds.height;
                return targetRatio < intrinsicProportion !== (first.value === BACKGROUND_SIZE.COVER)
                    ? [bounds.width, bounds.width / intrinsicProportion]
                    : [bounds.height * intrinsicProportion, bounds.height];
            }
            return [bounds.width, bounds.height];
        }
        var hasIntrinsicWidth = hasIntrinsicValue(intrinsicWidth);
        var hasIntrinsicHeight = hasIntrinsicValue(intrinsicHeight);
        var hasIntrinsicDimensions = hasIntrinsicWidth || hasIntrinsicHeight;
        // If the background-size is auto or auto auto:
        if (isAuto(first) && (!second || isAuto(second))) {
            // If the image has both horizontal and vertical intrinsic dimensions, it's rendered at that size.
            if (hasIntrinsicWidth && hasIntrinsicHeight) {
                return [intrinsicWidth, intrinsicHeight];
            }
            // If the image has no intrinsic dimensions and has no intrinsic proportions,
            // it's rendered at the size of the background positioning area.
            if (!hasIntrinsicProportion && !hasIntrinsicDimensions) {
                return [bounds.width, bounds.height];
            }
            // TODO If the image has no intrinsic dimensions but has intrinsic proportions, it's rendered as if contain had been specified instead.
            // If the image has only one intrinsic dimension and has intrinsic proportions, it's rendered at the size corresponding to that one dimension.
            // The other dimension is computed using the specified dimension and the intrinsic proportions.
            if (hasIntrinsicDimensions && hasIntrinsicProportion) {
                var width_1 = hasIntrinsicWidth
                    ? intrinsicWidth
                    : intrinsicHeight * intrinsicProportion;
                var height_1 = hasIntrinsicHeight
                    ? intrinsicHeight
                    : intrinsicWidth / intrinsicProportion;
                return [width_1, height_1];
            }
            // If the image has only one intrinsic dimension but has no intrinsic proportions,
            // it's rendered using the specified dimension and the other dimension of the background positioning area.
            var width_2 = hasIntrinsicWidth ? intrinsicWidth : bounds.width;
            var height_2 = hasIntrinsicHeight ? intrinsicHeight : bounds.height;
            return [width_2, height_2];
        }
        // If the image has intrinsic proportions, it's stretched to the specified dimension.
        // The unspecified dimension is computed using the specified dimension and the intrinsic proportions.
        if (hasIntrinsicProportion) {
            var width_3 = 0;
            var height_3 = 0;
            if (isLengthPercentage(first)) {
                width_3 = getAbsoluteValue(first, bounds.width);
            }
            else if (isLengthPercentage(second)) {
                height_3 = getAbsoluteValue(second, bounds.height);
            }
            if (isAuto(first)) {
                width_3 = height_3 * intrinsicProportion;
            }
            else if (!second || isAuto(second)) {
                height_3 = width_3 / intrinsicProportion;
            }
            return [width_3, height_3];
        }
        // If the image has no intrinsic proportions, it's stretched to the specified dimension.
        // The unspecified dimension is computed using the image's corresponding intrinsic dimension,
        // if there is one. If there is no such intrinsic dimension,
        // it becomes the corresponding dimension of the background positioning area.
        var width = null;
        var height = null;
        if (isLengthPercentage(first)) {
            width = getAbsoluteValue(first, bounds.width);
        }
        else if (second && isLengthPercentage(second)) {
            height = getAbsoluteValue(second, bounds.height);
        }
        if (width !== null && (!second || isAuto(second))) {
            height =
                hasIntrinsicWidth && hasIntrinsicHeight
                    ? (width / intrinsicWidth) * intrinsicHeight
                    : bounds.height;
        }
        if (height !== null && isAuto(first)) {
            width =
                hasIntrinsicWidth && hasIntrinsicHeight
                    ? (height / intrinsicHeight) * intrinsicWidth
                    : bounds.width;
        }
        if (width !== null && height !== null) {
            return [width, height];
        }
        throw new Error("Unable to calculate background-size for element");
    };
    var getBackgroundValueForIndex = function (values, index) {
        var value = values[index];
        if (typeof value === 'undefined') {
            return values[0];
        }
        return value;
    };
    var calculateBackgroundRepeatPath = function (repeat, _a, _b, backgroundPositioningArea, backgroundPaintingArea) {
        var x = _a[0], y = _a[1];
        var width = _b[0], height = _b[1];
        switch (repeat) {
            case BACKGROUND_REPEAT.REPEAT_X:
                return [
                    new Vector(Math.round(backgroundPositioningArea.left), Math.round(backgroundPositioningArea.top + y)),
                    new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(backgroundPositioningArea.top + y)),
                    new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(height + backgroundPositioningArea.top + y)),
                    new Vector(Math.round(backgroundPositioningArea.left), Math.round(height + backgroundPositioningArea.top + y))
                ];
            case BACKGROUND_REPEAT.REPEAT_Y:
                return [
                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top)),
                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top)),
                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)),
                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top))
                ];
            case BACKGROUND_REPEAT.NO_REPEAT:
                return [
                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y)),
                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y)),
                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y + height)),
                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y + height))
                ];
            default:
                return [
                    new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.top)),
                    new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.top)),
                    new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)),
                    new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top))
                ];
        }
    };

    var SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';

    var SAMPLE_TEXT = 'Hidden Text';
    var FontMetrics = /** @class */ (function () {
        function FontMetrics(document) {
            this._data = {};
            this._document = document;
        }
        FontMetrics.prototype.parseMetrics = function (fontFamily, fontSize) {
            var container = this._document.createElement('div');
            var img = this._document.createElement('img');
            var span = this._document.createElement('span');
            var body = this._document.body;
            container.style.visibility = 'hidden';
            container.style.fontFamily = fontFamily;
            container.style.fontSize = fontSize;
            container.style.margin = '0';
            container.style.padding = '0';
            body.appendChild(container);
            img.src = SMALL_IMAGE;
            img.width = 1;
            img.height = 1;
            img.style.margin = '0';
            img.style.padding = '0';
            img.style.verticalAlign = 'baseline';
            span.style.fontFamily = fontFamily;
            span.style.fontSize = fontSize;
            span.style.margin = '0';
            span.style.padding = '0';
            span.appendChild(this._document.createTextNode(SAMPLE_TEXT));
            container.appendChild(span);
            container.appendChild(img);
            var baseline = img.offsetTop - span.offsetTop + 2;
            container.removeChild(span);
            container.appendChild(this._document.createTextNode(SAMPLE_TEXT));
            container.style.lineHeight = 'normal';
            img.style.verticalAlign = 'super';
            var middle = img.offsetTop - container.offsetTop + 2;
            body.removeChild(container);
            return { baseline: baseline, middle: middle };
        };
        FontMetrics.prototype.getMetrics = function (fontFamily, fontSize) {
            var key = fontFamily + " " + fontSize;
            if (typeof this._data[key] === 'undefined') {
                this._data[key] = this.parseMetrics(fontFamily, fontSize);
            }
            return this._data[key];
        };
        return FontMetrics;
    }());

    var MASK_OFFSET = 10000;
    var CanvasRenderer = /** @class */ (function () {
        function CanvasRenderer(options) {
            this._activeEffects = [];
            this.canvas = options.canvas ? options.canvas : document.createElement('canvas');
            this.ctx = this.canvas.getContext('2d');
            this.options = options;
            if (!options.canvas) {
                this.canvas.width = Math.floor(options.width * options.scale);
                this.canvas.height = Math.floor(options.height * options.scale);
                this.canvas.style.width = options.width + "px";
                this.canvas.style.height = options.height + "px";
            }
            this.fontMetrics = new FontMetrics(document);
            this.ctx.scale(this.options.scale, this.options.scale);
            this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);
            this.ctx.textBaseline = 'bottom';
            this._activeEffects = [];
            Logger.getInstance(options.id).debug("Canvas renderer initialized (" + options.width + "x" + options.height + " at " + options.x + "," + options.y + ") with scale " + options.scale);
        }
        CanvasRenderer.prototype.applyEffects = function (effects, target) {
            var _this = this;
            while (this._activeEffects.length) {
                this.popEffect();
            }
            effects.filter(function (effect) { return contains(effect.target, target); }).forEach(function (effect) { return _this.applyEffect(effect); });
        };
        CanvasRenderer.prototype.applyEffect = function (effect) {
            this.ctx.save();
            if (isTransformEffect(effect)) {
                this.ctx.translate(effect.offsetX, effect.offsetY);
                this.ctx.transform(effect.matrix[0], effect.matrix[1], effect.matrix[2], effect.matrix[3], effect.matrix[4], effect.matrix[5]);
                this.ctx.translate(-effect.offsetX, -effect.offsetY);
            }
            if (isClipEffect(effect)) {
                this.path(effect.path);
                this.ctx.clip();
            }
            this._activeEffects.push(effect);
        };
        CanvasRenderer.prototype.popEffect = function () {
            this._activeEffects.pop();
            this.ctx.restore();
        };
        CanvasRenderer.prototype.renderStack = function (stack) {
            return __awaiter(this, void 0, void 0, function () {
                var styles;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            styles = stack.element.container.styles;
                            if (!styles.isVisible()) return [3 /*break*/, 2];
                            this.ctx.globalAlpha = styles.opacity;
                            return [4 /*yield*/, this.renderStackContent(stack)];
                        case 1:
                            _a.sent();
                            _a.label = 2;
                        case 2: return [2 /*return*/];
                    }
                });
            });
        };
        CanvasRenderer.prototype.renderNode = function (paint) {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            if (!paint.container.styles.isVisible()) return [3 /*break*/, 3];
                            return [4 /*yield*/, this.renderNodeBackgroundAndBorders(paint)];
                        case 1:
                            _a.sent();
                            return [4 /*yield*/, this.renderNodeContent(paint)];
                        case 2:
                            _a.sent();
                            _a.label = 3;
                        case 3: return [2 /*return*/];
                    }
                });
            });
        };
        CanvasRenderer.prototype.renderTextWithLetterSpacing = function (text, letterSpacing) {
            var _this = this;
            if (letterSpacing === 0) {
                this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);
            }
            else {
                var letters = toCodePoints(text.text).map(function (i) { return fromCodePoint(i); });
                letters.reduce(function (left, letter) {
                    _this.ctx.fillText(letter, left, text.bounds.top + text.bounds.height);
                    return left + _this.ctx.measureText(letter).width;
                }, text.bounds.left);
            }
        };
        CanvasRenderer.prototype.createFontStyle = function (styles) {
            var fontVariant = styles.fontVariant
                .filter(function (variant) { return variant === 'normal' || variant === 'small-caps'; })
                .join('');
            var fontFamily = styles.fontFamily.join(', ');
            var fontSize = isDimensionToken(styles.fontSize)
                ? "" + styles.fontSize.number + styles.fontSize.unit
                : styles.fontSize.number + "px";
            return [
                [styles.fontStyle, fontVariant, styles.fontWeight, fontSize, fontFamily].join(' '),
                fontFamily,
                fontSize
            ];
        };
        CanvasRenderer.prototype.renderTextNode = function (text, styles) {
            return __awaiter(this, void 0, void 0, function () {
                var _a, font, fontFamily, fontSize;
                var _this = this;
                return __generator(this, function (_b) {
                    _a = this.createFontStyle(styles), font = _a[0], fontFamily = _a[1], fontSize = _a[2];
                    this.ctx.font = font;
                    text.textBounds.forEach(function (text) {
                        _this.ctx.fillStyle = asString(styles.color);
                        _this.renderTextWithLetterSpacing(text, styles.letterSpacing);
                        var textShadows = styles.textShadow;
                        if (textShadows.length && text.text.trim().length) {
                            textShadows
                                .slice(0)
                                .reverse()
                                .forEach(function (textShadow) {
                                _this.ctx.shadowColor = asString(textShadow.color);
                                _this.ctx.shadowOffsetX = textShadow.offsetX.number * _this.options.scale;
                                _this.ctx.shadowOffsetY = textShadow.offsetY.number * _this.options.scale;
                                _this.ctx.shadowBlur = textShadow.blur.number;
                                _this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);
                            });
                            _this.ctx.shadowColor = '';
                            _this.ctx.shadowOffsetX = 0;
                            _this.ctx.shadowOffsetY = 0;
                            _this.ctx.shadowBlur = 0;
                        }
                        if (styles.textDecorationLine.length) {
                            _this.ctx.fillStyle = asString(styles.textDecorationColor || styles.color);
                            styles.textDecorationLine.forEach(function (textDecorationLine) {
                                switch (textDecorationLine) {
                                    case 1 /* UNDERLINE */:
                                        // Draws a line at the baseline of the font
                                        // TODO As some browsers display the line as more than 1px if the font-size is big,
                                        // need to take that into account both in position and size
                                        var baseline = _this.fontMetrics.getMetrics(fontFamily, fontSize).baseline;
                                        _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top + baseline), text.bounds.width, 1);
                                        break;
                                    case 2 /* OVERLINE */:
                                        _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top), text.bounds.width, 1);
                                        break;
                                    case 3 /* LINE_THROUGH */:
                                        // TODO try and find exact position for line-through
                                        var middle = _this.fontMetrics.getMetrics(fontFamily, fontSize).middle;
                                        _this.ctx.fillRect(text.bounds.left, Math.ceil(text.bounds.top + middle), text.bounds.width, 1);
                                        break;
                                }
                            });
                        }
                    });
                    return [2 /*return*/];
                });
            });
        };
        CanvasRenderer.prototype.renderReplacedElement = function (container, curves, image) {
            if (image && container.intrinsicWidth > 0 && container.intrinsicHeight > 0) {
                var box = contentBox(container);
                var path = calculatePaddingBoxPath(curves);
                this.path(path);
                this.ctx.save();
                this.ctx.clip();
                this.ctx.drawImage(image, 0, 0, container.intrinsicWidth, container.intrinsicHeight, box.left, box.top, box.width, box.height);
                this.ctx.restore();
            }
        };
        CanvasRenderer.prototype.renderNodeContent = function (paint) {
            return __awaiter(this, void 0, void 0, function () {
                var container, curves, styles, _i, _a, child, image, e_1, image, e_2, iframeRenderer, canvas, size, bounds, x, textBounds, img, image, url, e_3, bounds;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            this.applyEffects(paint.effects, 4 /* CONTENT */);
                            container = paint.container;
                            curves = paint.curves;
                            styles = container.styles;
                            _i = 0, _a = container.textNodes;
                            _b.label = 1;
                        case 1:
                            if (!(_i < _a.length)) return [3 /*break*/, 4];
                            child = _a[_i];
                            return [4 /*yield*/, this.renderTextNode(child, styles)];
                        case 2:
                            _b.sent();
                            _b.label = 3;
                        case 3:
                            _i++;
                            return [3 /*break*/, 1];
                        case 4:
                            if (!(container instanceof ImageElementContainer)) return [3 /*break*/, 8];
                            _b.label = 5;
                        case 5:
                            _b.trys.push([5, 7, , 8]);
                            return [4 /*yield*/, this.options.cache.match(container.src)];
                        case 6:
                            image = _b.sent();
                            this.renderReplacedElement(container, curves, image);
                            return [3 /*break*/, 8];
                        case 7:
                            e_1 = _b.sent();
                            Logger.getInstance(this.options.id).error("Error loading image " + container.src);
                            return [3 /*break*/, 8];
                        case 8:
                            if (container instanceof CanvasElementContainer) {
                                this.renderReplacedElement(container, curves, container.canvas);
                            }
                            if (!(container instanceof SVGElementContainer)) return [3 /*break*/, 12];
                            _b.label = 9;
                        case 9:
                            _b.trys.push([9, 11, , 12]);
                            return [4 /*yield*/, this.options.cache.match(container.svg)];
                        case 10:
                            image = _b.sent();
                            this.renderReplacedElement(container, curves, image);
                            return [3 /*break*/, 12];
                        case 11:
                            e_2 = _b.sent();
                            Logger.getInstance(this.options.id).error("Error loading svg " + container.svg.substring(0, 255));
                            return [3 /*break*/, 12];
                        case 12:
                            if (!(container instanceof IFrameElementContainer && container.tree)) return [3 /*break*/, 14];
                            iframeRenderer = new CanvasRenderer({
                                id: this.options.id,
                                scale: this.options.scale,
                                backgroundColor: container.backgroundColor,
                                x: 0,
                                y: 0,
                                scrollX: 0,
                                scrollY: 0,
                                width: container.width,
                                height: container.height,
                                cache: this.options.cache,
                                windowWidth: container.width,
                                windowHeight: container.height
                            });
                            return [4 /*yield*/, iframeRenderer.render(container.tree)];
                        case 13:
                            canvas = _b.sent();
                            if (container.width && container.height) {
                                this.ctx.drawImage(canvas, 0, 0, container.width, container.height, container.bounds.left, container.bounds.top, container.bounds.width, container.bounds.height);
                            }
                            _b.label = 14;
                        case 14:
                            if (container instanceof InputElementContainer) {
                                size = Math.min(container.bounds.width, container.bounds.height);
                                if (container.type === CHECKBOX) {
                                    if (container.checked) {
                                        this.ctx.save();
                                        this.path([
                                            new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79),
                                            new Vector(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549),
                                            new Vector(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071),
                                            new Vector(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649),
                                            new Vector(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23),
                                            new Vector(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085),
                                            new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)
                                        ]);
                                        this.ctx.fillStyle = asString(INPUT_COLOR);
                                        this.ctx.fill();
                                        this.ctx.restore();
                                    }
                                }
                                else if (container.type === RADIO) {
                                    if (container.checked) {
                                        this.ctx.save();
                                        this.ctx.beginPath();
                                        this.ctx.arc(container.bounds.left + size / 2, container.bounds.top + size / 2, size / 4, 0, Math.PI * 2, true);
                                        this.ctx.fillStyle = asString(INPUT_COLOR);
                                        this.ctx.fill();
                                        this.ctx.restore();
                                    }
                                }
                            }
                            if (isTextInputElement(container) && container.value.length) {
                                this.ctx.font = this.createFontStyle(styles)[0];
                                this.ctx.fillStyle = asString(styles.color);
                                this.ctx.textBaseline = 'middle';
                                this.ctx.textAlign = canvasTextAlign(container.styles.textAlign);
                                bounds = contentBox(container);
                                x = 0;
                                switch (container.styles.textAlign) {
                                    case TEXT_ALIGN.CENTER:
                                        x += bounds.width / 2;
                                        break;
                                    case TEXT_ALIGN.RIGHT:
                                        x += bounds.width;
                                        break;
                                }
                                textBounds = bounds.add(x, 0, 0, -bounds.height / 2 + 1);
                                this.ctx.save();
                                this.path([
                                    new Vector(bounds.left, bounds.top),
                                    new Vector(bounds.left + bounds.width, bounds.top),
                                    new Vector(bounds.left + bounds.width, bounds.top + bounds.height),
                                    new Vector(bounds.left, bounds.top + bounds.height)
                                ]);
                                this.ctx.clip();
                                this.renderTextWithLetterSpacing(new TextBounds(container.value, textBounds), styles.letterSpacing);
                                this.ctx.restore();
                                this.ctx.textBaseline = 'bottom';
                                this.ctx.textAlign = 'left';
                            }
                            if (!contains(container.styles.display, 2048 /* LIST_ITEM */)) return [3 /*break*/, 20];
                            if (!(container.styles.listStyleImage !== null)) return [3 /*break*/, 19];
                            img = container.styles.listStyleImage;
                            if (!(img.type === CSSImageType.URL)) return [3 /*break*/, 18];
                            image = void 0;
                            url = img.url;
                            _b.label = 15;
                        case 15:
                            _b.trys.push([15, 17, , 18]);
                            return [4 /*yield*/, this.options.cache.match(url)];
                        case 16:
                            image = _b.sent();
                            this.ctx.drawImage(image, container.bounds.left - (image.width + 10), container.bounds.top);
                            return [3 /*break*/, 18];
                        case 17:
                            e_3 = _b.sent();
                            Logger.getInstance(this.options.id).error("Error loading list-style-image " + url);
                            return [3 /*break*/, 18];
                        case 18: return [3 /*break*/, 20];
                        case 19:
                            if (paint.listValue && container.styles.listStyleType !== LIST_STYLE_TYPE.NONE) {
                                this.ctx.font = this.createFontStyle(styles)[0];
                                this.ctx.fillStyle = asString(styles.color);
                                this.ctx.textBaseline = 'middle';
                                this.ctx.textAlign = 'right';
                                bounds = new Bounds(container.bounds.left, container.bounds.top + getAbsoluteValue(container.styles.paddingTop, container.bounds.width), container.bounds.width, computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 1);
                                this.renderTextWithLetterSpacing(new TextBounds(paint.listValue, bounds), styles.letterSpacing);
                                this.ctx.textBaseline = 'bottom';
                                this.ctx.textAlign = 'left';
                            }
                            _b.label = 20;
                        case 20: return [2 /*return*/];
                    }
                });
            });
        };
        CanvasRenderer.prototype.renderStackContent = function (stack) {
            return __awaiter(this, void 0, void 0, function () {
                var _i, _a, child, _b, _c, child, _d, _e, child, _f, _g, child, _h, _j, child, _k, _l, child, _m, _o, child;
                return __generator(this, function (_p) {
                    switch (_p.label) {
                        case 0: 
                        // https://www.w3.org/TR/css-position-3/#painting-order
                        // 1. the background and borders of the element forming the stacking context.
                        return [4 /*yield*/, this.renderNodeBackgroundAndBorders(stack.element)];
                        case 1:
                            // https://www.w3.org/TR/css-position-3/#painting-order
                            // 1. the background and borders of the element forming the stacking context.
                            _p.sent();
                            _i = 0, _a = stack.negativeZIndex;
                            _p.label = 2;
                        case 2:
                            if (!(_i < _a.length)) return [3 /*break*/, 5];
                            child = _a[_i];
                            return [4 /*yield*/, this.renderStack(child)];
                        case 3:
                            _p.sent();
                            _p.label = 4;
                        case 4:
                            _i++;
                            return [3 /*break*/, 2];
                        case 5: 
                        // 3. For all its in-flow, non-positioned, block-level descendants in tree order:
                        return [4 /*yield*/, this.renderNodeContent(stack.element)];
                        case 6:
                            // 3. For all its in-flow, non-positioned, block-level descendants in tree order:
                            _p.sent();
                            _b = 0, _c = stack.nonInlineLevel;
                            _p.label = 7;
                        case 7:
                            if (!(_b < _c.length)) return [3 /*break*/, 10];
                            child = _c[_b];
                            return [4 /*yield*/, this.renderNode(child)];
                        case 8:
                            _p.sent();
                            _p.label = 9;
                        case 9:
                            _b++;
                            return [3 /*break*/, 7];
                        case 10:
                            _d = 0, _e = stack.nonPositionedFloats;
                            _p.label = 11;
                        case 11:
                            if (!(_d < _e.length)) return [3 /*break*/, 14];
                            child = _e[_d];
                            return [4 /*yield*/, this.renderStack(child)];
                        case 12:
                            _p.sent();
                            _p.label = 13;
                        case 13:
                            _d++;
                            return [3 /*break*/, 11];
                        case 14:
                            _f = 0, _g = stack.nonPositionedInlineLevel;
                            _p.label = 15;
                        case 15:
                            if (!(_f < _g.length)) return [3 /*break*/, 18];
                            child = _g[_f];
                            return [4 /*yield*/, this.renderStack(child)];
                        case 16:
                            _p.sent();
                            _p.label = 17;
                        case 17:
                            _f++;
                            return [3 /*break*/, 15];
                        case 18:
                            _h = 0, _j = stack.inlineLevel;
                            _p.label = 19;
                        case 19:
                            if (!(_h < _j.length)) return [3 /*break*/, 22];
                            child = _j[_h];
                            return [4 /*yield*/, this.renderNode(child)];
                        case 20:
                            _p.sent();
                            _p.label = 21;
                        case 21:
                            _h++;
                            return [3 /*break*/, 19];
                        case 22:
                            _k = 0, _l = stack.zeroOrAutoZIndexOrTransformedOrOpacity;
                            _p.label = 23;
                        case 23:
                            if (!(_k < _l.length)) return [3 /*break*/, 26];
                            child = _l[_k];
                            return [4 /*yield*/, this.renderStack(child)];
                        case 24:
                            _p.sent();
                            _p.label = 25;
                        case 25:
                            _k++;
                            return [3 /*break*/, 23];
                        case 26:
                            _m = 0, _o = stack.positiveZIndex;
                            _p.label = 27;
                        case 27:
                            if (!(_m < _o.length)) return [3 /*break*/, 30];
                            child = _o[_m];
                            return [4 /*yield*/, this.renderStack(child)];
                        case 28:
                            _p.sent();
                            _p.label = 29;
                        case 29:
                            _m++;
                            return [3 /*break*/, 27];
                        case 30: return [2 /*return*/];
                    }
                });
            });
        };
        CanvasRenderer.prototype.mask = function (paths) {
            this.ctx.beginPath();
            this.ctx.moveTo(0, 0);
            this.ctx.lineTo(this.canvas.width, 0);
            this.ctx.lineTo(this.canvas.width, this.canvas.height);
            this.ctx.lineTo(0, this.canvas.height);
            this.ctx.lineTo(0, 0);
            this.formatPath(paths.slice(0).reverse());
            this.ctx.closePath();
        };
        CanvasRenderer.prototype.path = function (paths) {
            this.ctx.beginPath();
            this.formatPath(paths);
            this.ctx.closePath();
        };
        CanvasRenderer.prototype.formatPath = function (paths) {
            var _this = this;
            paths.forEach(function (point, index) {
                var start = isBezierCurve(point) ? point.start : point;
                if (index === 0) {
                    _this.ctx.moveTo(start.x, start.y);
                }
                else {
                    _this.ctx.lineTo(start.x, start.y);
                }
                if (isBezierCurve(point)) {
                    _this.ctx.bezierCurveTo(point.startControl.x, point.startControl.y, point.endControl.x, point.endControl.y, point.end.x, point.end.y);
                }
            });
        };
        CanvasRenderer.prototype.renderRepeat = function (path, pattern, offsetX, offsetY) {
            this.path(path);
            this.ctx.fillStyle = pattern;
            this.ctx.translate(offsetX, offsetY);
            this.ctx.fill();
            this.ctx.translate(-offsetX, -offsetY);
        };
        CanvasRenderer.prototype.resizeImage = function (image, width, height) {
            if (image.width === width && image.height === height) {
                return image;
            }
            var canvas = this.canvas.ownerDocument.createElement('canvas');
            canvas.width = width;
            canvas.height = height;
            var ctx = canvas.getContext('2d');
            ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, width, height);
            return canvas;
        };
        CanvasRenderer.prototype.renderBackgroundImage = function (container) {
            return __awaiter(this, void 0, void 0, function () {
                var index, _loop_1, this_1, _i, _a, backgroundImage;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            index = container.styles.backgroundImage.length - 1;
                            _loop_1 = function (backgroundImage) {
                                var image, url, e_4, _a, path, x, y, width, height, pattern, _b, path, x, y, width, height, _c, lineLength, x0, x1, y0, y1, canvas, ctx, gradient_1, pattern, _d, path, left, top_1, width, height, position, x, y, _e, rx, ry, radialGradient_1, midX, midY, f, invF;
                                return __generator(this, function (_f) {
                                    switch (_f.label) {
                                        case 0:
                                            if (!(backgroundImage.type === CSSImageType.URL)) return [3 /*break*/, 5];
                                            image = void 0;
                                            url = backgroundImage.url;
                                            _f.label = 1;
                                        case 1:
                                            _f.trys.push([1, 3, , 4]);
                                            return [4 /*yield*/, this_1.options.cache.match(url)];
                                        case 2:
                                            image = _f.sent();
                                            return [3 /*break*/, 4];
                                        case 3:
                                            e_4 = _f.sent();
                                            Logger.getInstance(this_1.options.id).error("Error loading background-image " + url);
                                            return [3 /*break*/, 4];
                                        case 4:
                                            if (image) {
                                                _a = calculateBackgroundRendering(container, index, [
                                                    image.width,
                                                    image.height,
                                                    image.width / image.height
                                                ]), path = _a[0], x = _a[1], y = _a[2], width = _a[3], height = _a[4];
                                                pattern = this_1.ctx.createPattern(this_1.resizeImage(image, width, height), 'repeat');
                                                this_1.renderRepeat(path, pattern, x, y);
                                            }
                                            return [3 /*break*/, 6];
                                        case 5:
                                            if (isLinearGradient(backgroundImage)) {
                                                _b = calculateBackgroundRendering(container, index, [null, null, null]), path = _b[0], x = _b[1], y = _b[2], width = _b[3], height = _b[4];
                                                _c = calculateGradientDirection(backgroundImage.angle, width, height), lineLength = _c[0], x0 = _c[1], x1 = _c[2], y0 = _c[3], y1 = _c[4];
                                                canvas = document.createElement('canvas');
                                                canvas.width = width;
                                                canvas.height = height;
                                                ctx = canvas.getContext('2d');
                                                gradient_1 = ctx.createLinearGradient(x0, y0, x1, y1);
                                                processColorStops(backgroundImage.stops, lineLength).forEach(function (colorStop) {
                                                    return gradient_1.addColorStop(colorStop.stop, asString(colorStop.color));
                                                });
                                                ctx.fillStyle = gradient_1;
                                                ctx.fillRect(0, 0, width, height);
                                                if (width > 0 && height > 0) {
                                                    pattern = this_1.ctx.createPattern(canvas, 'repeat');
                                                    this_1.renderRepeat(path, pattern, x, y);
                                                }
                                            }
                                            else if (isRadialGradient(backgroundImage)) {
                                                _d = calculateBackgroundRendering(container, index, [
                                                    null,
                                                    null,
                                                    null
                                                ]), path = _d[0], left = _d[1], top_1 = _d[2], width = _d[3], height = _d[4];
                                                position = backgroundImage.position.length === 0 ? [FIFTY_PERCENT] : backgroundImage.position;
                                                x = getAbsoluteValue(position[0], width);
                                                y = getAbsoluteValue(position[position.length - 1], height);
                                                _e = calculateRadius(backgroundImage, x, y, width, height), rx = _e[0], ry = _e[1];
                                                if (rx > 0 && rx > 0) {
                                                    radialGradient_1 = this_1.ctx.createRadialGradient(left + x, top_1 + y, 0, left + x, top_1 + y, rx);
                                                    processColorStops(backgroundImage.stops, rx * 2).forEach(function (colorStop) {
                                                        return radialGradient_1.addColorStop(colorStop.stop, asString(colorStop.color));
                                                    });
                                                    this_1.path(path);
                                                    this_1.ctx.fillStyle = radialGradient_1;
                                                    if (rx !== ry) {
                                                        midX = container.bounds.left + 0.5 * container.bounds.width;
                                                        midY = container.bounds.top + 0.5 * container.bounds.height;
                                                        f = ry / rx;
                                                        invF = 1 / f;
                                                        this_1.ctx.save();
                                                        this_1.ctx.translate(midX, midY);
                                                        this_1.ctx.transform(1, 0, 0, f, 0, 0);
                                                        this_1.ctx.translate(-midX, -midY);
                                                        this_1.ctx.fillRect(left, invF * (top_1 - midY) + midY, width, height * invF);
                                                        this_1.ctx.restore();
                                                    }
                                                    else {
                                                        this_1.ctx.fill();
                                                    }
                                                }
                                            }
                                            _f.label = 6;
                                        case 6:
                                            index--;
                                            return [2 /*return*/];
                                    }
                                });
                            };
                            this_1 = this;
                            _i = 0, _a = container.styles.backgroundImage.slice(0).reverse();
                            _b.label = 1;
                        case 1:
                            if (!(_i < _a.length)) return [3 /*break*/, 4];
                            backgroundImage = _a[_i];
                            return [5 /*yield**/, _loop_1(backgroundImage)];
                        case 2:
                            _b.sent();
                            _b.label = 3;
                        case 3:
                            _i++;
                            return [3 /*break*/, 1];
                        case 4: return [2 /*return*/];
                    }
                });
            });
        };
        CanvasRenderer.prototype.renderBorder = function (color, side, curvePoints) {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    this.path(parsePathForBorder(curvePoints, side));
                    this.ctx.fillStyle = asString(color);
                    this.ctx.fill();
                    return [2 /*return*/];
                });
            });
        };
        CanvasRenderer.prototype.renderNodeBackgroundAndBorders = function (paint) {
            return __awaiter(this, void 0, void 0, function () {
                var styles, hasBackground, borders, backgroundPaintingArea, side, _i, borders_1, border;
                var _this = this;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            this.applyEffects(paint.effects, 2 /* BACKGROUND_BORDERS */);
                            styles = paint.container.styles;
                            hasBackground = !isTransparent(styles.backgroundColor) || styles.backgroundImage.length;
                            borders = [
                                { style: styles.borderTopStyle, color: styles.borderTopColor },
                                { style: styles.borderRightStyle, color: styles.borderRightColor },
                                { style: styles.borderBottomStyle, color: styles.borderBottomColor },
                                { style: styles.borderLeftStyle, color: styles.borderLeftColor }
                            ];
                            backgroundPaintingArea = calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(styles.backgroundClip, 0), paint.curves);
                            if (!(hasBackground || styles.boxShadow.length)) return [3 /*break*/, 2];
                            this.ctx.save();
                            this.path(backgroundPaintingArea);
                            this.ctx.clip();
                            if (!isTransparent(styles.backgroundColor)) {
                                this.ctx.fillStyle = asString(styles.backgroundColor);
                                this.ctx.fill();
                            }
                            return [4 /*yield*/, this.renderBackgroundImage(paint.container)];
                        case 1:
                            _a.sent();
                            this.ctx.restore();
                            styles.boxShadow
                                .slice(0)
                                .reverse()
                                .forEach(function (shadow) {
                                _this.ctx.save();
                                var borderBoxArea = calculateBorderBoxPath(paint.curves);
                                var maskOffset = shadow.inset ? 0 : MASK_OFFSET;
                                var shadowPaintingArea = transformPath(borderBoxArea, -maskOffset + (shadow.inset ? 1 : -1) * shadow.spread.number, (shadow.inset ? 1 : -1) * shadow.spread.number, shadow.spread.number * (shadow.inset ? -2 : 2), shadow.spread.number * (shadow.inset ? -2 : 2));
                                if (shadow.inset) {
                                    _this.path(borderBoxArea);
                                    _this.ctx.clip();
                                    _this.mask(shadowPaintingArea);
                                }
                                else {
                                    _this.mask(borderBoxArea);
                                    _this.ctx.clip();
                                    _this.path(shadowPaintingArea);
                                }
                                _this.ctx.shadowOffsetX = shadow.offsetX.number + maskOffset;
                                _this.ctx.shadowOffsetY = shadow.offsetY.number;
                                _this.ctx.shadowColor = asString(shadow.color);
                                _this.ctx.shadowBlur = shadow.blur.number;
                                _this.ctx.fillStyle = shadow.inset ? asString(shadow.color) : 'rgba(0,0,0,1)';
                                _this.ctx.fill();
                                _this.ctx.restore();
                            });
                            _a.label = 2;
                        case 2:
                            side = 0;
                            _i = 0, borders_1 = borders;
                            _a.label = 3;
                        case 3:
                            if (!(_i < borders_1.length)) return [3 /*break*/, 7];
                            border = borders_1[_i];
                            if (!(border.style !== BORDER_STYLE.NONE && !isTransparent(border.color))) return [3 /*break*/, 5];
                            return [4 /*yield*/, this.renderBorder(border.color, side, paint.curves)];
                        case 4:
                            _a.sent();
                            _a.label = 5;
                        case 5:
                            side++;
                            _a.label = 6;
                        case 6:
                            _i++;
                            return [3 /*break*/, 3];
                        case 7: return [2 /*return*/];
                    }
                });
            });
        };
        CanvasRenderer.prototype.render = function (element) {
            return __awaiter(this, void 0, void 0, function () {
                var stack;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            if (this.options.backgroundColor) {
                                this.ctx.fillStyle = asString(this.options.backgroundColor);
                                this.ctx.fillRect(this.options.x - this.options.scrollX, this.options.y - this.options.scrollY, this.options.width, this.options.height);
                            }
                            stack = parseStackingContexts(element);
                            return [4 /*yield*/, this.renderStack(stack)];
                        case 1:
                            _a.sent();
                            this.applyEffects([], 2 /* BACKGROUND_BORDERS */);
                            return [2 /*return*/, this.canvas];
                    }
                });
            });
        };
        return CanvasRenderer;
    }());
    var isTextInputElement = function (container) {
        if (container instanceof TextareaElementContainer) {
            return true;
        }
        else if (container instanceof SelectElementContainer) {
            return true;
        }
        else if (container instanceof InputElementContainer && container.type !== RADIO && container.type !== CHECKBOX) {
            return true;
        }
        return false;
    };
    var calculateBackgroundCurvedPaintingArea = function (clip, curves) {
        switch (clip) {
            case BACKGROUND_CLIP.BORDER_BOX:
                return calculateBorderBoxPath(curves);
            case BACKGROUND_CLIP.CONTENT_BOX:
                return calculateContentBoxPath(curves);
            case BACKGROUND_CLIP.PADDING_BOX:
            default:
                return calculatePaddingBoxPath(curves);
        }
    };
    var canvasTextAlign = function (textAlign) {
        switch (textAlign) {
            case TEXT_ALIGN.CENTER:
                return 'center';
            case TEXT_ALIGN.RIGHT:
                return 'right';
            case TEXT_ALIGN.LEFT:
            default:
                return 'left';
        }
    };

    var ForeignObjectRenderer = /** @class */ (function () {
        function ForeignObjectRenderer(options) {
            this.canvas = options.canvas ? options.canvas : document.createElement('canvas');
            this.ctx = this.canvas.getContext('2d');
            this.options = options;
            this.canvas.width = Math.floor(options.width * options.scale);
            this.canvas.height = Math.floor(options.height * options.scale);
            this.canvas.style.width = options.width + "px";
            this.canvas.style.height = options.height + "px";
            this.ctx.scale(this.options.scale, this.options.scale);
            this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);
            Logger.getInstance(options.id).debug("EXPERIMENTAL ForeignObject renderer initialized (" + options.width + "x" + options.height + " at " + options.x + "," + options.y + ") with scale " + options.scale);
        }
        ForeignObjectRenderer.prototype.render = function (element) {
            return __awaiter(this, void 0, void 0, function () {
                var svg, img;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            svg = createForeignObjectSVG(Math.max(this.options.windowWidth, this.options.width) * this.options.scale, Math.max(this.options.windowHeight, this.options.height) * this.options.scale, this.options.scrollX * this.options.scale, this.options.scrollY * this.options.scale, element);
                            return [4 /*yield*/, loadSerializedSVG$1(svg)];
                        case 1:
                            img = _a.sent();
                            if (this.options.backgroundColor) {
                                this.ctx.fillStyle = asString(this.options.backgroundColor);
                                this.ctx.fillRect(0, 0, this.options.width * this.options.scale, this.options.height * this.options.scale);
                            }
                            this.ctx.drawImage(img, -this.options.x * this.options.scale, -this.options.y * this.options.scale);
                            return [2 /*return*/, this.canvas];
                    }
                });
            });
        };
        return ForeignObjectRenderer;
    }());
    var loadSerializedSVG$1 = function (svg) {
        return new Promise(function (resolve, reject) {
            var img = new Image();
            img.onload = function () {
                resolve(img);
            };
            img.onerror = reject;
            img.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(new XMLSerializer().serializeToString(svg));
        });
    };

    var _this = undefined;
    var parseColor$1 = function (value) { return color.parse(Parser.create(value).parseComponentValue()); };
    var html2canvas = function (element, options) {
        if (options === void 0) { options = {}; }
        return renderElement(element, options);
    };
    CacheStorage.setContext(window);
    var renderElement = function (element, opts) { return __awaiter(_this, void 0, void 0, function () {
        var ownerDocument, defaultView, instanceName, _a, width, height, left, top, defaultResourceOptions, resourceOptions, defaultOptions, options, windowBounds, documentCloner, clonedElement, container, documentBackgroundColor, bodyBackgroundColor, bgColor, defaultBackgroundColor, backgroundColor, renderOptions, canvas, renderer, root, renderer;
        return __generator(this, function (_b) {
            switch (_b.label) {
                case 0:
                    ownerDocument = element.ownerDocument;
                    if (!ownerDocument) {
                        throw new Error("Element is not attached to a Document");
                    }
                    defaultView = ownerDocument.defaultView;
                    if (!defaultView) {
                        throw new Error("Document is not attached to a Window");
                    }
                    instanceName = (Math.round(Math.random() * 1000) + Date.now()).toString(16);
                    _a = isBodyElement(element) || isHTMLElement(element) ? parseDocumentSize(ownerDocument) : parseBounds(element), width = _a.width, height = _a.height, left = _a.left, top = _a.top;
                    defaultResourceOptions = {
                        allowTaint: false,
                        imageTimeout: 15000,
                        proxy: undefined,
                        useCORS: false
                    };
                    resourceOptions = __assign({}, defaultResourceOptions, opts);
                    defaultOptions = {
                        backgroundColor: '#ffffff',
                        cache: opts.cache ? opts.cache : CacheStorage.create(instanceName, resourceOptions),
                        logging: true,
                        removeContainer: true,
                        foreignObjectRendering: false,
                        scale: defaultView.devicePixelRatio || 1,
                        windowWidth: defaultView.innerWidth,
                        windowHeight: defaultView.innerHeight,
                        scrollX: defaultView.pageXOffset,
                        scrollY: defaultView.pageYOffset,
                        x: left,
                        y: top,
                        width: Math.ceil(width),
                        height: Math.ceil(height),
                        id: instanceName
                    };
                    options = __assign({}, defaultOptions, resourceOptions, opts);
                    windowBounds = new Bounds(options.scrollX, options.scrollY, options.windowWidth, options.windowHeight);
                    Logger.create({ id: instanceName, enabled: options.logging });
                    Logger.getInstance(instanceName).debug("Starting document clone");
                    documentCloner = new DocumentCloner(element, {
                        id: instanceName,
                        onclone: options.onclone,
                        ignoreElements: options.ignoreElements,
                        inlineImages: options.foreignObjectRendering,
                        copyStyles: options.foreignObjectRendering
                    });
                    clonedElement = documentCloner.clonedReferenceElement;
                    if (!clonedElement) {
                        return [2 /*return*/, Promise.reject("Unable to find element in cloned iframe")];
                    }
                    return [4 /*yield*/, documentCloner.toIFrame(ownerDocument, windowBounds)];
                case 1:
                    container = _b.sent();
                    documentBackgroundColor = ownerDocument.documentElement
                        ? parseColor$1(getComputedStyle(ownerDocument.documentElement).backgroundColor)
                        : COLORS.TRANSPARENT;
                    bodyBackgroundColor = ownerDocument.body
                        ? parseColor$1(getComputedStyle(ownerDocument.body).backgroundColor)
                        : COLORS.TRANSPARENT;
                    bgColor = opts.backgroundColor;
                    defaultBackgroundColor = typeof bgColor === 'string' ? parseColor$1(bgColor) : bgColor === null ? COLORS.TRANSPARENT : 0xffffffff;
                    backgroundColor = element === ownerDocument.documentElement
                        ? isTransparent(documentBackgroundColor)
                            ? isTransparent(bodyBackgroundColor)
                                ? defaultBackgroundColor
                                : bodyBackgroundColor
                            : documentBackgroundColor
                        : defaultBackgroundColor;
                    renderOptions = {
                        id: instanceName,
                        cache: options.cache,
                        canvas: options.canvas,
                        backgroundColor: backgroundColor,
                        scale: options.scale,
                        x: options.x,
                        y: options.y,
                        scrollX: options.scrollX,
                        scrollY: options.scrollY,
                        width: options.width,
                        height: options.height,
                        windowWidth: options.windowWidth,
                        windowHeight: options.windowHeight
                    };
                    if (!options.foreignObjectRendering) return [3 /*break*/, 3];
                    Logger.getInstance(instanceName).debug("Document cloned, using foreign object rendering");
                    renderer = new ForeignObjectRenderer(renderOptions);
                    return [4 /*yield*/, renderer.render(clonedElement)];
                case 2:
                    canvas = _b.sent();
                    return [3 /*break*/, 5];
                case 3:
                    Logger.getInstance(instanceName).debug("Document cloned, using computed rendering");
                    CacheStorage.attachInstance(options.cache);
                    Logger.getInstance(instanceName).debug("Starting DOM parsing");
                    root = parseTree(clonedElement);
                    CacheStorage.detachInstance();
                    if (backgroundColor === root.styles.backgroundColor) {
                        root.styles.backgroundColor = COLORS.TRANSPARENT;
                    }
                    Logger.getInstance(instanceName).debug("Starting renderer");
                    renderer = new CanvasRenderer(renderOptions);
                    return [4 /*yield*/, renderer.render(root)];
                case 4:
                    canvas = _b.sent();
                    _b.label = 5;
                case 5:
                    if (options.removeContainer === true) {
                        if (!DocumentCloner.destroy(container)) {
                            Logger.getInstance(instanceName).error("Cannot detach cloned iframe as it is not in the DOM anymore");
                        }
                    }
                    Logger.getInstance(instanceName).debug("Finished rendering");
                    Logger.destroy(instanceName);
                    CacheStorage.destroy(instanceName);
                    return [2 /*return*/, canvas];
            }
        });
    }); };

    return html2canvas;

}));


},{}],14:[function(require,module,exports){
(function (process,global){
/**
 * html2pdf.js v0.9.2
 * Copyright (c) 2020 Erik Koopmans
 * Released under the MIT License.
 */
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('jspdf'), require('html2canvas')) :
	typeof define === 'function' && define.amd ? define(['jspdf', 'html2canvas'], factory) :
	(global.html2pdf = factory(global.jsPDF,global.html2canvas));
}(this, (function (jsPDF,html2canvas) { 'use strict';

jsPDF = jsPDF && jsPDF.hasOwnProperty('default') ? jsPDF['default'] : jsPDF;
html2canvas = html2canvas && html2canvas.hasOwnProperty('default') ? html2canvas['default'] : html2canvas;

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};





















var _extends = Object.assign || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];

    for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }

  return target;
};

// Determine the type of a variable/object.
var objType = function objType(obj) {
  var type = typeof obj === 'undefined' ? 'undefined' : _typeof(obj);
  if (type === 'undefined') return 'undefined';else if (type === 'string' || obj instanceof String) return 'string';else if (type === 'number' || obj instanceof Number) return 'number';else if (type === 'function' || obj instanceof Function) return 'function';else if (!!obj && obj.constructor === Array) return 'array';else if (obj && obj.nodeType === 1) return 'element';else if (type === 'object') return 'object';else return 'unknown';
};

// Create an HTML element with optional className, innerHTML, and style.
var createElement = function createElement(tagName, opt) {
  var el = document.createElement(tagName);
  if (opt.className) el.className = opt.className;
  if (opt.innerHTML) {
    el.innerHTML = opt.innerHTML;
    var scripts = el.getElementsByTagName('script');
    for (var i = scripts.length; i-- > 0; null) {
      scripts[i].parentNode.removeChild(scripts[i]);
    }
  }
  for (var key in opt.style) {
    el.style[key] = opt.style[key];
  }
  return el;
};

// Deep-clone a node and preserve contents/properties.
var cloneNode = function cloneNode(node, javascriptEnabled) {
  // Recursively clone the node.
  var clone = node.nodeType === 3 ? document.createTextNode(node.nodeValue) : node.cloneNode(false);
  for (var child = node.firstChild; child; child = child.nextSibling) {
    if (javascriptEnabled === true || child.nodeType !== 1 || child.nodeName !== 'SCRIPT') {
      clone.appendChild(cloneNode(child, javascriptEnabled));
    }
  }

  if (node.nodeType === 1) {
    // Preserve contents/properties of special nodes.
    if (node.nodeName === 'CANVAS') {
      clone.width = node.width;
      clone.height = node.height;
      clone.getContext('2d').drawImage(node, 0, 0);
    } else if (node.nodeName === 'TEXTAREA' || node.nodeName === 'SELECT') {
      clone.value = node.value;
    }

    // Preserve the node's scroll position when it loads.
    clone.addEventListener('load', function () {
      clone.scrollTop = node.scrollTop;
      clone.scrollLeft = node.scrollLeft;
    }, true);
  }

  // Return the cloned node.
  return clone;
};

// Convert units from px using the conversion value 'k' from jsPDF.
var unitConvert = function unitConvert(obj, k) {
  if (objType(obj) === 'number') {
    return obj * 72 / 96 / k;
  } else {
    var newObj = {};
    for (var key in obj) {
      newObj[key] = obj[key] * 72 / 96 / k;
    }
    return newObj;
  }
};

// Convert units to px using the conversion value 'k' from jsPDF.
var toPx = function toPx(val, k) {
  return Math.floor(val * k / 72 * 96);
};

var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

function commonjsRequire () {
	throw new Error('Dynamic requires are not currently supported by rollup-plugin-commonjs');
}



function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

var es6Promise = createCommonjsModule(function (module, exports) {
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.5+7f2b526d
 */

(function (global, factory) {
	module.exports = factory();
}(commonjsGlobal, (function () { function objectOrFunction(x) {
  var type = typeof x;
  return x !== null && (type === 'object' || type === 'function');
}

function isFunction(x) {
  return typeof x === 'function';
}



var _isArray = void 0;
if (Array.isArray) {
  _isArray = Array.isArray;
} else {
  _isArray = function (x) {
    return Object.prototype.toString.call(x) === '[object Array]';
  };
}

var isArray = _isArray;

var len = 0;
var vertxNext = void 0;
var customSchedulerFn = void 0;

var asap = function asap(callback, arg) {
  queue[len] = callback;
  queue[len + 1] = arg;
  len += 2;
  if (len === 2) {
    // If len is 2, that means that we need to schedule an async flush.
    // If additional callbacks are queued before the queue is flushed, they
    // will be processed by this flush that we are scheduling.
    if (customSchedulerFn) {
      customSchedulerFn(flush);
    } else {
      scheduleFlush();
    }
  }
};

function setScheduler(scheduleFn) {
  customSchedulerFn = scheduleFn;
}

function setAsap(asapFn) {
  asap = asapFn;
}

var browserWindow = typeof window !== 'undefined' ? window : undefined;
var browserGlobal = browserWindow || {};
var BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;
var isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';

// test for web worker but not in IE10
var isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';

// node
function useNextTick() {
  // node version 0.10.x displays a deprecation warning when nextTick is used recursively
  // see https://github.com/cujojs/when/issues/410 for details
  return function () {
    return process.nextTick(flush);
  };
}

// vertx
function useVertxTimer() {
  if (typeof vertxNext !== 'undefined') {
    return function () {
      vertxNext(flush);
    };
  }

  return useSetTimeout();
}

function useMutationObserver() {
  var iterations = 0;
  var observer = new BrowserMutationObserver(flush);
  var node = document.createTextNode('');
  observer.observe(node, { characterData: true });

  return function () {
    node.data = iterations = ++iterations % 2;
  };
}

// web worker
function useMessageChannel() {
  var channel = new MessageChannel();
  channel.port1.onmessage = flush;
  return function () {
    return channel.port2.postMessage(0);
  };
}

function useSetTimeout() {
  // Store setTimeout reference so es6-promise will be unaffected by
  // other code modifying setTimeout (like sinon.useFakeTimers())
  var globalSetTimeout = setTimeout;
  return function () {
    return globalSetTimeout(flush, 1);
  };
}

var queue = new Array(1000);
function flush() {
  for (var i = 0; i < len; i += 2) {
    var callback = queue[i];
    var arg = queue[i + 1];

    callback(arg);

    queue[i] = undefined;
    queue[i + 1] = undefined;
  }

  len = 0;
}

function attemptVertx() {
  try {
    var vertx = Function('return this')().require('vertx');
    vertxNext = vertx.runOnLoop || vertx.runOnContext;
    return useVertxTimer();
  } catch (e) {
    return useSetTimeout();
  }
}

var scheduleFlush = void 0;
// Decide what async method to use to triggering processing of queued callbacks:
if (isNode) {
  scheduleFlush = useNextTick();
} else if (BrowserMutationObserver) {
  scheduleFlush = useMutationObserver();
} else if (isWorker) {
  scheduleFlush = useMessageChannel();
} else if (browserWindow === undefined && typeof commonjsRequire === 'function') {
  scheduleFlush = attemptVertx();
} else {
  scheduleFlush = useSetTimeout();
}

function then(onFulfillment, onRejection) {
  var parent = this;

  var child = new this.constructor(noop);

  if (child[PROMISE_ID] === undefined) {
    makePromise(child);
  }

  var _state = parent._state;


  if (_state) {
    var callback = arguments[_state - 1];
    asap(function () {
      return invokeCallback(_state, child, callback, parent._result);
    });
  } else {
    subscribe(parent, child, onFulfillment, onRejection);
  }

  return child;
}

/**
  `Promise.resolve` returns a promise that will become resolved with the
  passed `value`. It is shorthand for the following:

  ```javascript
  let promise = new Promise(function(resolve, reject){
    resolve(1);
  });

  promise.then(function(value){
    // value === 1
  });
  ```

  Instead of writing the above, your code now simply becomes the following:

  ```javascript
  let promise = Promise.resolve(1);

  promise.then(function(value){
    // value === 1
  });
  ```

  @method resolve
  @static
  @param {Any} value value that the returned promise will be resolved with
  Useful for tooling.
  @return {Promise} a promise that will become fulfilled with the given
  `value`
*/
function resolve$1(object) {
  /*jshint validthis:true */
  var Constructor = this;

  if (object && typeof object === 'object' && object.constructor === Constructor) {
    return object;
  }

  var promise = new Constructor(noop);
  resolve(promise, object);
  return promise;
}

var PROMISE_ID = Math.random().toString(36).substring(2);

function noop() {}

var PENDING = void 0;
var FULFILLED = 1;
var REJECTED = 2;

var TRY_CATCH_ERROR = { error: null };

function selfFulfillment() {
  return new TypeError("You cannot resolve a promise with itself");
}

function cannotReturnOwn() {
  return new TypeError('A promises callback cannot return that same promise.');
}

function getThen(promise) {
  try {
    return promise.then;
  } catch (error) {
    TRY_CATCH_ERROR.error = error;
    return TRY_CATCH_ERROR;
  }
}

function tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {
  try {
    then$$1.call(value, fulfillmentHandler, rejectionHandler);
  } catch (e) {
    return e;
  }
}

function handleForeignThenable(promise, thenable, then$$1) {
  asap(function (promise) {
    var sealed = false;
    var error = tryThen(then$$1, thenable, function (value) {
      if (sealed) {
        return;
      }
      sealed = true;
      if (thenable !== value) {
        resolve(promise, value);
      } else {
        fulfill(promise, value);
      }
    }, function (reason) {
      if (sealed) {
        return;
      }
      sealed = true;

      reject(promise, reason);
    }, 'Settle: ' + (promise._label || ' unknown promise'));

    if (!sealed && error) {
      sealed = true;
      reject(promise, error);
    }
  }, promise);
}

function handleOwnThenable(promise, thenable) {
  if (thenable._state === FULFILLED) {
    fulfill(promise, thenable._result);
  } else if (thenable._state === REJECTED) {
    reject(promise, thenable._result);
  } else {
    subscribe(thenable, undefined, function (value) {
      return resolve(promise, value);
    }, function (reason) {
      return reject(promise, reason);
    });
  }
}

function handleMaybeThenable(promise, maybeThenable, then$$1) {
  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {
    handleOwnThenable(promise, maybeThenable);
  } else {
    if (then$$1 === TRY_CATCH_ERROR) {
      reject(promise, TRY_CATCH_ERROR.error);
      TRY_CATCH_ERROR.error = null;
    } else if (then$$1 === undefined) {
      fulfill(promise, maybeThenable);
    } else if (isFunction(then$$1)) {
      handleForeignThenable(promise, maybeThenable, then$$1);
    } else {
      fulfill(promise, maybeThenable);
    }
  }
}

function resolve(promise, value) {
  if (promise === value) {
    reject(promise, selfFulfillment());
  } else if (objectOrFunction(value)) {
    handleMaybeThenable(promise, value, getThen(value));
  } else {
    fulfill(promise, value);
  }
}

function publishRejection(promise) {
  if (promise._onerror) {
    promise._onerror(promise._result);
  }

  publish(promise);
}

function fulfill(promise, value) {
  if (promise._state !== PENDING) {
    return;
  }

  promise._result = value;
  promise._state = FULFILLED;

  if (promise._subscribers.length !== 0) {
    asap(publish, promise);
  }
}

function reject(promise, reason) {
  if (promise._state !== PENDING) {
    return;
  }
  promise._state = REJECTED;
  promise._result = reason;

  asap(publishRejection, promise);
}

function subscribe(parent, child, onFulfillment, onRejection) {
  var _subscribers = parent._subscribers;
  var length = _subscribers.length;


  parent._onerror = null;

  _subscribers[length] = child;
  _subscribers[length + FULFILLED] = onFulfillment;
  _subscribers[length + REJECTED] = onRejection;

  if (length === 0 && parent._state) {
    asap(publish, parent);
  }
}

function publish(promise) {
  var subscribers = promise._subscribers;
  var settled = promise._state;

  if (subscribers.length === 0) {
    return;
  }

  var child = void 0,
      callback = void 0,
      detail = promise._result;

  for (var i = 0; i < subscribers.length; i += 3) {
    child = subscribers[i];
    callback = subscribers[i + settled];

    if (child) {
      invokeCallback(settled, child, callback, detail);
    } else {
      callback(detail);
    }
  }

  promise._subscribers.length = 0;
}

function tryCatch(callback, detail) {
  try {
    return callback(detail);
  } catch (e) {
    TRY_CATCH_ERROR.error = e;
    return TRY_CATCH_ERROR;
  }
}

function invokeCallback(settled, promise, callback, detail) {
  var hasCallback = isFunction(callback),
      value = void 0,
      error = void 0,
      succeeded = void 0,
      failed = void 0;

  if (hasCallback) {
    value = tryCatch(callback, detail);

    if (value === TRY_CATCH_ERROR) {
      failed = true;
      error = value.error;
      value.error = null;
    } else {
      succeeded = true;
    }

    if (promise === value) {
      reject(promise, cannotReturnOwn());
      return;
    }
  } else {
    value = detail;
    succeeded = true;
  }

  if (promise._state !== PENDING) {
    // noop
  } else if (hasCallback && succeeded) {
    resolve(promise, value);
  } else if (failed) {
    reject(promise, error);
  } else if (settled === FULFILLED) {
    fulfill(promise, value);
  } else if (settled === REJECTED) {
    reject(promise, value);
  }
}

function initializePromise(promise, resolver) {
  try {
    resolver(function resolvePromise(value) {
      resolve(promise, value);
    }, function rejectPromise(reason) {
      reject(promise, reason);
    });
  } catch (e) {
    reject(promise, e);
  }
}

var id = 0;
function nextId() {
  return id++;
}

function makePromise(promise) {
  promise[PROMISE_ID] = id++;
  promise._state = undefined;
  promise._result = undefined;
  promise._subscribers = [];
}

function validationError() {
  return new Error('Array Methods must be provided an Array');
}

var Enumerator = function () {
  function Enumerator(Constructor, input) {
    this._instanceConstructor = Constructor;
    this.promise = new Constructor(noop);

    if (!this.promise[PROMISE_ID]) {
      makePromise(this.promise);
    }

    if (isArray(input)) {
      this.length = input.length;
      this._remaining = input.length;

      this._result = new Array(this.length);

      if (this.length === 0) {
        fulfill(this.promise, this._result);
      } else {
        this.length = this.length || 0;
        this._enumerate(input);
        if (this._remaining === 0) {
          fulfill(this.promise, this._result);
        }
      }
    } else {
      reject(this.promise, validationError());
    }
  }

  Enumerator.prototype._enumerate = function _enumerate(input) {
    for (var i = 0; this._state === PENDING && i < input.length; i++) {
      this._eachEntry(input[i], i);
    }
  };

  Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {
    var c = this._instanceConstructor;
    var resolve$$1 = c.resolve;


    if (resolve$$1 === resolve$1) {
      var _then = getThen(entry);

      if (_then === then && entry._state !== PENDING) {
        this._settledAt(entry._state, i, entry._result);
      } else if (typeof _then !== 'function') {
        this._remaining--;
        this._result[i] = entry;
      } else if (c === Promise$1) {
        var promise = new c(noop);
        handleMaybeThenable(promise, entry, _then);
        this._willSettleAt(promise, i);
      } else {
        this._willSettleAt(new c(function (resolve$$1) {
          return resolve$$1(entry);
        }), i);
      }
    } else {
      this._willSettleAt(resolve$$1(entry), i);
    }
  };

  Enumerator.prototype._settledAt = function _settledAt(state, i, value) {
    var promise = this.promise;


    if (promise._state === PENDING) {
      this._remaining--;

      if (state === REJECTED) {
        reject(promise, value);
      } else {
        this._result[i] = value;
      }
    }

    if (this._remaining === 0) {
      fulfill(promise, this._result);
    }
  };

  Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {
    var enumerator = this;

    subscribe(promise, undefined, function (value) {
      return enumerator._settledAt(FULFILLED, i, value);
    }, function (reason) {
      return enumerator._settledAt(REJECTED, i, reason);
    });
  };

  return Enumerator;
}();

/**
  `Promise.all` accepts an array of promises, and returns a new promise which
  is fulfilled with an array of fulfillment values for the passed promises, or
  rejected with the reason of the first passed promise to be rejected. It casts all
  elements of the passed iterable to promises as it runs this algorithm.

  Example:

  ```javascript
  let promise1 = resolve(1);
  let promise2 = resolve(2);
  let promise3 = resolve(3);
  let promises = [ promise1, promise2, promise3 ];

  Promise.all(promises).then(function(array){
    // The array here would be [ 1, 2, 3 ];
  });
  ```

  If any of the `promises` given to `all` are rejected, the first promise
  that is rejected will be given as an argument to the returned promises's
  rejection handler. For example:

  Example:

  ```javascript
  let promise1 = resolve(1);
  let promise2 = reject(new Error("2"));
  let promise3 = reject(new Error("3"));
  let promises = [ promise1, promise2, promise3 ];

  Promise.all(promises).then(function(array){
    // Code here never runs because there are rejected promises!
  }, function(error) {
    // error.message === "2"
  });
  ```

  @method all
  @static
  @param {Array} entries array of promises
  @param {String} label optional string for labeling the promise.
  Useful for tooling.
  @return {Promise} promise that is fulfilled when all `promises` have been
  fulfilled, or rejected if any of them become rejected.
  @static
*/
function all(entries) {
  return new Enumerator(this, entries).promise;
}

/**
  `Promise.race` returns a new promise which is settled in the same way as the
  first passed promise to settle.

  Example:

  ```javascript
  let promise1 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 1');
    }, 200);
  });

  let promise2 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 2');
    }, 100);
  });

  Promise.race([promise1, promise2]).then(function(result){
    // result === 'promise 2' because it was resolved before promise1
    // was resolved.
  });
  ```

  `Promise.race` is deterministic in that only the state of the first
  settled promise matters. For example, even if other promises given to the
  `promises` array argument are resolved, but the first settled promise has
  become rejected before the other promises became fulfilled, the returned
  promise will become rejected:

  ```javascript
  let promise1 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 1');
    }, 200);
  });

  let promise2 = new Promise(function(resolve, reject){
    setTimeout(function(){
      reject(new Error('promise 2'));
    }, 100);
  });

  Promise.race([promise1, promise2]).then(function(result){
    // Code here never runs
  }, function(reason){
    // reason.message === 'promise 2' because promise 2 became rejected before
    // promise 1 became fulfilled
  });
  ```

  An example real-world use case is implementing timeouts:

  ```javascript
  Promise.race([ajax('foo.json'), timeout(5000)])
  ```

  @method race
  @static
  @param {Array} promises array of promises to observe
  Useful for tooling.
  @return {Promise} a promise which settles in the same way as the first passed
  promise to settle.
*/
function race(entries) {
  /*jshint validthis:true */
  var Constructor = this;

  if (!isArray(entries)) {
    return new Constructor(function (_, reject) {
      return reject(new TypeError('You must pass an array to race.'));
    });
  } else {
    return new Constructor(function (resolve, reject) {
      var length = entries.length;
      for (var i = 0; i < length; i++) {
        Constructor.resolve(entries[i]).then(resolve, reject);
      }
    });
  }
}

/**
  `Promise.reject` returns a promise rejected with the passed `reason`.
  It is shorthand for the following:

  ```javascript
  let promise = new Promise(function(resolve, reject){
    reject(new Error('WHOOPS'));
  });

  promise.then(function(value){
    // Code here doesn't run because the promise is rejected!
  }, function(reason){
    // reason.message === 'WHOOPS'
  });
  ```

  Instead of writing the above, your code now simply becomes the following:

  ```javascript
  let promise = Promise.reject(new Error('WHOOPS'));

  promise.then(function(value){
    // Code here doesn't run because the promise is rejected!
  }, function(reason){
    // reason.message === 'WHOOPS'
  });
  ```

  @method reject
  @static
  @param {Any} reason value that the returned promise will be rejected with.
  Useful for tooling.
  @return {Promise} a promise rejected with the given `reason`.
*/
function reject$1(reason) {
  /*jshint validthis:true */
  var Constructor = this;
  var promise = new Constructor(noop);
  reject(promise, reason);
  return promise;
}

function needsResolver() {
  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');
}

function needsNew() {
  throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}

/**
  Promise objects represent the eventual result of an asynchronous operation. The
  primary way of interacting with a promise is through its `then` method, which
  registers callbacks to receive either a promise's eventual value or the reason
  why the promise cannot be fulfilled.

  Terminology
  -----------

  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.
  - `thenable` is an object or function that defines a `then` method.
  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).
  - `exception` is a value that is thrown using the throw statement.
  - `reason` is a value that indicates why a promise was rejected.
  - `settled` the final resting state of a promise, fulfilled or rejected.

  A promise can be in one of three states: pending, fulfilled, or rejected.

  Promises that are fulfilled have a fulfillment value and are in the fulfilled
  state.  Promises that are rejected have a rejection reason and are in the
  rejected state.  A fulfillment value is never a thenable.

  Promises can also be said to *resolve* a value.  If this value is also a
  promise, then the original promise's settled state will match the value's
  settled state.  So a promise that *resolves* a promise that rejects will
  itself reject, and a promise that *resolves* a promise that fulfills will
  itself fulfill.


  Basic Usage:
  ------------

  ```js
  let promise = new Promise(function(resolve, reject) {
    // on success
    resolve(value);

    // on failure
    reject(reason);
  });

  promise.then(function(value) {
    // on fulfillment
  }, function(reason) {
    // on rejection
  });
  ```

  Advanced Usage:
  ---------------

  Promises shine when abstracting away asynchronous interactions such as
  `XMLHttpRequest`s.

  ```js
  function getJSON(url) {
    return new Promise(function(resolve, reject){
      let xhr = new XMLHttpRequest();

      xhr.open('GET', url);
      xhr.onreadystatechange = handler;
      xhr.responseType = 'json';
      xhr.setRequestHeader('Accept', 'application/json');
      xhr.send();

      function handler() {
        if (this.readyState === this.DONE) {
          if (this.status === 200) {
            resolve(this.response);
          } else {
            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));
          }
        }
      };
    });
  }

  getJSON('/posts.json').then(function(json) {
    // on fulfillment
  }, function(reason) {
    // on rejection
  });
  ```

  Unlike callbacks, promises are great composable primitives.

  ```js
  Promise.all([
    getJSON('/posts'),
    getJSON('/comments')
  ]).then(function(values){
    values[0] // => postsJSON
    values[1] // => commentsJSON

    return values;
  });
  ```

  @class Promise
  @param {Function} resolver
  Useful for tooling.
  @constructor
*/

var Promise$1 = function () {
  function Promise(resolver) {
    this[PROMISE_ID] = nextId();
    this._result = this._state = undefined;
    this._subscribers = [];

    if (noop !== resolver) {
      typeof resolver !== 'function' && needsResolver();
      this instanceof Promise ? initializePromise(this, resolver) : needsNew();
    }
  }

  /**
  The primary way of interacting with a promise is through its `then` method,
  which registers callbacks to receive either a promise's eventual value or the
  reason why the promise cannot be fulfilled.
   ```js
  findUser().then(function(user){
    // user is available
  }, function(reason){
    // user is unavailable, and you are given the reason why
  });
  ```
   Chaining
  --------
   The return value of `then` is itself a promise.  This second, 'downstream'
  promise is resolved with the return value of the first promise's fulfillment
  or rejection handler, or rejected if the handler throws an exception.
   ```js
  findUser().then(function (user) {
    return user.name;
  }, function (reason) {
    return 'default name';
  }).then(function (userName) {
    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it
    // will be `'default name'`
  });
   findUser().then(function (user) {
    throw new Error('Found user, but still unhappy');
  }, function (reason) {
    throw new Error('`findUser` rejected and we're unhappy');
  }).then(function (value) {
    // never reached
  }, function (reason) {
    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.
    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.
  });
  ```
  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.
   ```js
  findUser().then(function (user) {
    throw new PedagogicalException('Upstream error');
  }).then(function (value) {
    // never reached
  }).then(function (value) {
    // never reached
  }, function (reason) {
    // The `PedgagocialException` is propagated all the way down to here
  });
  ```
   Assimilation
  ------------
   Sometimes the value you want to propagate to a downstream promise can only be
  retrieved asynchronously. This can be achieved by returning a promise in the
  fulfillment or rejection handler. The downstream promise will then be pending
  until the returned promise is settled. This is called *assimilation*.
   ```js
  findUser().then(function (user) {
    return findCommentsByAuthor(user);
  }).then(function (comments) {
    // The user's comments are now available
  });
  ```
   If the assimliated promise rejects, then the downstream promise will also reject.
   ```js
  findUser().then(function (user) {
    return findCommentsByAuthor(user);
  }).then(function (comments) {
    // If `findCommentsByAuthor` fulfills, we'll have the value here
  }, function (reason) {
    // If `findCommentsByAuthor` rejects, we'll have the reason here
  });
  ```
   Simple Example
  --------------
   Synchronous Example
   ```javascript
  let result;
   try {
    result = findResult();
    // success
  } catch(reason) {
    // failure
  }
  ```
   Errback Example
   ```js
  findResult(function(result, err){
    if (err) {
      // failure
    } else {
      // success
    }
  });
  ```
   Promise Example;
   ```javascript
  findResult().then(function(result){
    // success
  }, function(reason){
    // failure
  });
  ```
   Advanced Example
  --------------
   Synchronous Example
   ```javascript
  let author, books;
   try {
    author = findAuthor();
    books  = findBooksByAuthor(author);
    // success
  } catch(reason) {
    // failure
  }
  ```
   Errback Example
   ```js
   function foundBooks(books) {
   }
   function failure(reason) {
   }
   findAuthor(function(author, err){
    if (err) {
      failure(err);
      // failure
    } else {
      try {
        findBoooksByAuthor(author, function(books, err) {
          if (err) {
            failure(err);
          } else {
            try {
              foundBooks(books);
            } catch(reason) {
              failure(reason);
            }
          }
        });
      } catch(error) {
        failure(err);
      }
      // success
    }
  });
  ```
   Promise Example;
   ```javascript
  findAuthor().
    then(findBooksByAuthor).
    then(function(books){
      // found books
  }).catch(function(reason){
    // something went wrong
  });
  ```
   @method then
  @param {Function} onFulfilled
  @param {Function} onRejected
  Useful for tooling.
  @return {Promise}
  */

  /**
  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same
  as the catch block of a try/catch statement.
  ```js
  function findAuthor(){
  throw new Error('couldn't find that author');
  }
  // synchronous
  try {
  findAuthor();
  } catch(reason) {
  // something went wrong
  }
  // async with promises
  findAuthor().catch(function(reason){
  // something went wrong
  });
  ```
  @method catch
  @param {Function} onRejection
  Useful for tooling.
  @return {Promise}
  */


  Promise.prototype.catch = function _catch(onRejection) {
    return this.then(null, onRejection);
  };

  /**
    `finally` will be invoked regardless of the promise's fate just as native
    try/catch/finally behaves
  
    Synchronous example:
  
    ```js
    findAuthor() {
      if (Math.random() > 0.5) {
        throw new Error();
      }
      return new Author();
    }
  
    try {
      return findAuthor(); // succeed or fail
    } catch(error) {
      return findOtherAuther();
    } finally {
      // always runs
      // doesn't affect the return value
    }
    ```
  
    Asynchronous example:
  
    ```js
    findAuthor().catch(function(reason){
      return findOtherAuther();
    }).finally(function(){
      // author was either found, or not
    });
    ```
  
    @method finally
    @param {Function} callback
    @return {Promise}
  */


  Promise.prototype.finally = function _finally(callback) {
    var promise = this;
    var constructor = promise.constructor;

    if (isFunction(callback)) {
      return promise.then(function (value) {
        return constructor.resolve(callback()).then(function () {
          return value;
        });
      }, function (reason) {
        return constructor.resolve(callback()).then(function () {
          throw reason;
        });
      });
    }

    return promise.then(callback, callback);
  };

  return Promise;
}();

Promise$1.prototype.then = then;
Promise$1.all = all;
Promise$1.race = race;
Promise$1.resolve = resolve$1;
Promise$1.reject = reject$1;
Promise$1._setScheduler = setScheduler;
Promise$1._setAsap = setAsap;
Promise$1._asap = asap;

/*global self*/
function polyfill() {
  var local = void 0;

  if (typeof commonjsGlobal !== 'undefined') {
    local = commonjsGlobal;
  } else if (typeof self !== 'undefined') {
    local = self;
  } else {
    try {
      local = Function('return this')();
    } catch (e) {
      throw new Error('polyfill failed because global object is unavailable in this environment');
    }
  }

  var P = local.Promise;

  if (P) {
    var promiseToString = null;
    try {
      promiseToString = Object.prototype.toString.call(P.resolve());
    } catch (e) {
      // silently ignored
    }

    if (promiseToString === '[object Promise]' && !P.cast) {
      return;
    }
  }

  local.Promise = Promise$1;
}

// Strange compat..
Promise$1.polyfill = polyfill;
Promise$1.Promise = Promise$1;

return Promise$1;

})));




});

var Promise$1 = es6Promise.Promise;

/* ----- CONSTRUCTOR ----- */

var Worker = function Worker(opt) {
  // Create the root parent for the proto chain, and the starting Worker.
  var root = _extends(Worker.convert(Promise$1.resolve()), JSON.parse(JSON.stringify(Worker.template)));
  var self = Worker.convert(Promise$1.resolve(), root);

  // Set progress, optional settings, and return.
  self = self.setProgress(1, Worker, 1, [Worker]);
  self = self.set(opt);
  return self;
};

// Boilerplate for subclassing Promise.
Worker.prototype = Object.create(Promise$1.prototype);
Worker.prototype.constructor = Worker;

// Converts/casts promises into Workers.
Worker.convert = function convert(promise, inherit) {
  // Uses prototypal inheritance to receive changes made to ancestors' properties.
  promise.__proto__ = inherit || Worker.prototype;
  return promise;
};

Worker.template = {
  prop: {
    src: null,
    container: null,
    overlay: null,
    canvas: null,
    img: null,
    pdf: null,
    pageSize: null
  },
  progress: {
    val: 0,
    state: null,
    n: 0,
    stack: []
  },
  opt: {
    filename: 'file.pdf',
    margin: [0, 0, 0, 0],
    image: { type: 'jpeg', quality: 0.95 },
    enableLinks: true,
    html2canvas: {},
    jsPDF: {}
  }
};

/* ----- FROM / TO ----- */

Worker.prototype.from = function from(src, type) {
  function getType(src) {
    switch (objType(src)) {
      case 'string':
        return 'string';
      case 'element':
        return src.nodeName.toLowerCase === 'canvas' ? 'canvas' : 'element';
      default:
        return 'unknown';
    }
  }

  return this.then(function from_main() {
    type = type || getType(src);
    switch (type) {
      case 'string':
        return this.set({ src: createElement('div', { innerHTML: src }) });
      case 'element':
        return this.set({ src: src });
      case 'canvas':
        return this.set({ canvas: src });
      case 'img':
        return this.set({ img: src });
      default:
        return this.error('Unknown source type.');
    }
  });
};

Worker.prototype.to = function to(target) {
  // Route the 'to' request to the appropriate method.
  switch (target) {
    case 'container':
      return this.toContainer();
    case 'canvas':
      return this.toCanvas();
    case 'img':
      return this.toImg();
    case 'pdf':
      return this.toPdf();
    default:
      return this.error('Invalid target.');
  }
};

Worker.prototype.toContainer = function toContainer() {
  // Set up function prerequisites.
  var prereqs = [function checkSrc() {
    return this.prop.src || this.error('Cannot duplicate - no source HTML.');
  }, function checkPageSize() {
    return this.prop.pageSize || this.setPageSize();
  }];

  return this.thenList(prereqs).then(function toContainer_main() {
    // Define the CSS styles for the container and its overlay parent.
    var overlayCSS = {
      position: 'fixed', overflow: 'hidden', zIndex: 1000,
      left: 0, right: 0, bottom: 0, top: 0,
      backgroundColor: 'rgba(0,0,0,0.8)'
    };
    var containerCSS = {
      position: 'absolute', width: this.prop.pageSize.inner.width + this.prop.pageSize.unit,
      left: 0, right: 0, top: 0, height: 'auto', margin: 'auto',
      backgroundColor: 'white'
    };

    // Set the overlay to hidden (could be changed in the future to provide a print preview).
    overlayCSS.opacity = 0;

    // Create and attach the elements.
    var source = cloneNode(this.prop.src, this.opt.html2canvas.javascriptEnabled);
    this.prop.overlay = createElement('div', { className: 'html2pdf__overlay', style: overlayCSS });
    this.prop.container = createElement('div', { className: 'html2pdf__container', style: containerCSS });
    this.prop.container.appendChild(source);
    this.prop.overlay.appendChild(this.prop.container);
    document.body.appendChild(this.prop.overlay);
  });
};

Worker.prototype.toCanvas = function toCanvas() {
  // Set up function prerequisites.
  var prereqs = [function checkContainer() {
    return document.body.contains(this.prop.container) || this.toContainer();
  }];

  // Fulfill prereqs then create the canvas.
  return this.thenList(prereqs).then(function toCanvas_main() {
    // Handle old-fashioned 'onrendered' argument.
    var options = _extends({}, this.opt.html2canvas);
    delete options.onrendered;

    return html2canvas(this.prop.container, options);
  }).then(function toCanvas_post(canvas) {
    // Handle old-fashioned 'onrendered' argument.
    var onRendered = this.opt.html2canvas.onrendered || function () {};
    onRendered(canvas);

    this.prop.canvas = canvas;
    document.body.removeChild(this.prop.overlay);
  });
};

Worker.prototype.toImg = function toImg() {
  // Set up function prerequisites.
  var prereqs = [function checkCanvas() {
    return this.prop.canvas || this.toCanvas();
  }];

  // Fulfill prereqs then create the image.
  return this.thenList(prereqs).then(function toImg_main() {
    var imgData = this.prop.canvas.toDataURL('image/' + this.opt.image.type, this.opt.image.quality);
    this.prop.img = document.createElement('img');
    this.prop.img.src = imgData;
  });
};

Worker.prototype.toPdf = function toPdf() {
  // Set up function prerequisites.
  var prereqs = [function checkCanvas() {
    return this.prop.canvas || this.toCanvas();
  }];

  // Fulfill prereqs then create the image.
  return this.thenList(prereqs).then(function toPdf_main() {
    // Create local copies of frequently used properties.
    var canvas = this.prop.canvas;
    var opt = this.opt;

    // Calculate the number of pages.
    var pxFullHeight = canvas.height;
    var pxPageHeight = Math.floor(canvas.width * this.prop.pageSize.inner.ratio);
    var nPages = Math.ceil(pxFullHeight / pxPageHeight);

    // Define pageHeight separately so it can be trimmed on the final page.
    var pageHeight = this.prop.pageSize.inner.height;

    // Create a one-page canvas to split up the full image.
    var pageCanvas = document.createElement('canvas');
    var pageCtx = pageCanvas.getContext('2d');
    pageCanvas.width = canvas.width;
    pageCanvas.height = pxPageHeight;

    // Initialize the PDF.
    this.prop.pdf = this.prop.pdf || new jsPDF(opt.jsPDF);

    for (var page = 0; page < nPages; page++) {
      // Trim the final page to reduce file size.
      if (page === nPages - 1 && pxFullHeight % pxPageHeight !== 0) {
        pageCanvas.height = pxFullHeight % pxPageHeight;
        pageHeight = pageCanvas.height * this.prop.pageSize.inner.width / pageCanvas.width;
      }

      // Display the page.
      var w = pageCanvas.width;
      var h = pageCanvas.height;
      pageCtx.fillStyle = 'white';
      pageCtx.fillRect(0, 0, w, h);
      pageCtx.drawImage(canvas, 0, page * pxPageHeight, w, h, 0, 0, w, h);

      // Add the page to the PDF.
      if (page) this.prop.pdf.addPage();
      var imgData = pageCanvas.toDataURL('image/' + opt.image.type, opt.image.quality);
      this.prop.pdf.addImage(imgData, opt.image.type, opt.margin[1], opt.margin[0], this.prop.pageSize.inner.width, pageHeight);
    }
  });
};

/* ----- OUTPUT / SAVE ----- */

Worker.prototype.output = function output(type, options, src) {
  // Redirect requests to the correct function (outputPdf / outputImg).
  src = src || 'pdf';
  if (src.toLowerCase() === 'img' || src.toLowerCase() === 'image') {
    return this.outputImg(type, options);
  } else {
    return this.outputPdf(type, options);
  }
};

Worker.prototype.outputPdf = function outputPdf(type, options) {
  // Set up function prerequisites.
  var prereqs = [function checkPdf() {
    return this.prop.pdf || this.toPdf();
  }];

  // Fulfill prereqs then perform the appropriate output.
  return this.thenList(prereqs).then(function outputPdf_main() {
    /* Currently implemented output types:
     *    https://rawgit.com/MrRio/jsPDF/master/docs/jspdf.js.html#line992
     *  save(options), arraybuffer, blob, bloburi/bloburl,
     *  datauristring/dataurlstring, dataurlnewwindow, datauri/dataurl
     */
    return this.prop.pdf.output(type, options);
  });
};

Worker.prototype.outputImg = function outputImg(type, options) {
  // Set up function prerequisites.
  var prereqs = [function checkImg() {
    return this.prop.img || this.toImg();
  }];

  // Fulfill prereqs then perform the appropriate output.
  return this.thenList(prereqs).then(function outputImg_main() {
    switch (type) {
      case undefined:
      case 'img':
        return this.prop.img;
      case 'datauristring':
      case 'dataurlstring':
        return this.prop.img.src;
      case 'datauri':
      case 'dataurl':
        return document.location.href = this.prop.img.src;
      default:
        throw 'Image output type "' + type + '" is not supported.';
    }
  });
};

Worker.prototype.save = function save(filename) {
  // Set up function prerequisites.
  var prereqs = [function checkPdf() {
    return this.prop.pdf || this.toPdf();
  }];

  // Fulfill prereqs, update the filename (if provided), and save the PDF.
  return this.thenList(prereqs).set(filename ? { filename: filename } : null).then(function save_main() {
    this.prop.pdf.save(this.opt.filename);
  });
};

/* ----- SET / GET ----- */

Worker.prototype.set = function set$$1(opt) {
  // TODO: Implement ordered pairs?

  // Silently ignore invalid or empty input.
  if (objType(opt) !== 'object') {
    return this;
  }

  // Build an array of setter functions to queue.
  var fns = Object.keys(opt || {}).map(function (key) {
    if (key in Worker.template.prop) {
      // Set pre-defined properties.
      return function set_prop() {
        this.prop[key] = opt[key];
      };
    } else {
      switch (key) {
        case 'margin':
          return this.setMargin.bind(this, opt.margin);
        case 'jsPDF':
          return function set_jsPDF() {
            this.opt.jsPDF = opt.jsPDF;return this.setPageSize();
          };
        case 'pageSize':
          return this.setPageSize.bind(this, opt.pageSize);
        default:
          // Set any other properties in opt.
          return function set_opt() {
            this.opt[key] = opt[key];
          };
      }
    }
  }, this);

  // Set properties within the promise chain.
  return this.then(function set_main() {
    return this.thenList(fns);
  });
};

Worker.prototype.get = function get$$1(key, cbk) {
  return this.then(function get_main() {
    // Fetch the requested property, either as a predefined prop or in opt.
    var val = key in Worker.template.prop ? this.prop[key] : this.opt[key];
    return cbk ? cbk(val) : val;
  });
};

Worker.prototype.setMargin = function setMargin(margin) {
  return this.then(function setMargin_main() {
    // Parse the margin property: [top, left, bottom, right].
    switch (objType(margin)) {
      case 'number':
        margin = [margin, margin, margin, margin];
      case 'array':
        if (margin.length === 2) {
          margin = [margin[0], margin[1], margin[0], margin[1]];
        }
        if (margin.length === 4) {
          break;
        }
      default:
        return this.error('Invalid margin array.');
    }

    // Set the margin property, then update pageSize.
    this.opt.margin = margin;
  }).then(this.setPageSize);
};

Worker.prototype.setPageSize = function setPageSize(pageSize) {
  return this.then(function setPageSize_main() {
    // Retrieve page-size based on jsPDF settings, if not explicitly provided.
    pageSize = pageSize || jsPDF.getPageSize(this.opt.jsPDF);

    // Add 'inner' field if not present.
    if (!pageSize.hasOwnProperty('inner')) {
      pageSize.inner = {
        width: pageSize.width - this.opt.margin[1] - this.opt.margin[3],
        height: pageSize.height - this.opt.margin[0] - this.opt.margin[2]
      };
      pageSize.inner.px = {
        width: toPx(pageSize.inner.width, pageSize.k),
        height: toPx(pageSize.inner.height, pageSize.k)
      };
      pageSize.inner.ratio = pageSize.inner.height / pageSize.inner.width;
    }

    // Attach pageSize to this.
    this.prop.pageSize = pageSize;
  });
};

Worker.prototype.setProgress = function setProgress(val, state, n, stack) {
  // Immediately update all progress values.
  if (val != null) this.progress.val = val;
  if (state != null) this.progress.state = state;
  if (n != null) this.progress.n = n;
  if (stack != null) this.progress.stack = stack;
  this.progress.ratio = this.progress.val / this.progress.state;

  // Return this for command chaining.
  return this;
};

Worker.prototype.updateProgress = function updateProgress(val, state, n, stack) {
  // Immediately update all progress values, using setProgress.
  return this.setProgress(val ? this.progress.val + val : null, state ? state : null, n ? this.progress.n + n : null, stack ? this.progress.stack.concat(stack) : null);
};

/* ----- PROMISE MAPPING ----- */

Worker.prototype.then = function then(onFulfilled, onRejected) {
  // Wrap `this` for encapsulation.
  var self = this;

  return this.thenCore(onFulfilled, onRejected, function then_main(onFulfilled, onRejected) {
    // Update progress while queuing, calling, and resolving `then`.
    self.updateProgress(null, null, 1, [onFulfilled]);
    return Promise$1.prototype.then.call(this, function then_pre(val) {
      self.updateProgress(null, onFulfilled);
      return val;
    }).then(onFulfilled, onRejected).then(function then_post(val) {
      self.updateProgress(1);
      return val;
    });
  });
};

Worker.prototype.thenCore = function thenCore(onFulfilled, onRejected, thenBase) {
  // Handle optional thenBase parameter.
  thenBase = thenBase || Promise$1.prototype.then;

  // Wrap `this` for encapsulation and bind it to the promise handlers.
  var self = this;
  if (onFulfilled) {
    onFulfilled = onFulfilled.bind(self);
  }
  if (onRejected) {
    onRejected = onRejected.bind(self);
  }

  // Cast self into a Promise to avoid polyfills recursively defining `then`.
  var isNative = Promise$1.toString().indexOf('[native code]') !== -1 && Promise$1.name === 'Promise';
  var selfPromise = isNative ? self : Worker.convert(_extends({}, self), Promise$1.prototype);

  // Return the promise, after casting it into a Worker and preserving props.
  var returnVal = thenBase.call(selfPromise, onFulfilled, onRejected);
  return Worker.convert(returnVal, self.__proto__);
};

Worker.prototype.thenExternal = function thenExternal(onFulfilled, onRejected) {
  // Call `then` and return a standard promise (exits the Worker chain).
  return Promise$1.prototype.then.call(this, onFulfilled, onRejected);
};

Worker.prototype.thenList = function thenList(fns) {
  // Queue a series of promise 'factories' into the promise chain.
  var self = this;
  fns.forEach(function thenList_forEach(fn) {
    self = self.thenCore(fn);
  });
  return self;
};

Worker.prototype['catch'] = function (onRejected) {
  // Bind `this` to the promise handler, call `catch`, and return a Worker.
  if (onRejected) {
    onRejected = onRejected.bind(this);
  }
  var returnVal = Promise$1.prototype['catch'].call(this, onRejected);
  return Worker.convert(returnVal, this);
};

Worker.prototype.catchExternal = function catchExternal(onRejected) {
  // Call `catch` and return a standard promise (exits the Worker chain).
  return Promise$1.prototype['catch'].call(this, onRejected);
};

Worker.prototype.error = function error(msg) {
  // Throw the error in the Promise chain.
  return this.then(function error_main() {
    throw new Error(msg);
  });
};

/* ----- ALIASES ----- */

Worker.prototype.using = Worker.prototype.set;
Worker.prototype.saveAs = Worker.prototype.save;
Worker.prototype.export = Worker.prototype.output;
Worker.prototype.run = Worker.prototype.then;

// Import dependencies.
// Get dimensions of a PDF page, as determined by jsPDF.
jsPDF.getPageSize = function (orientation, unit, format) {
  // Decode options object
  if ((typeof orientation === 'undefined' ? 'undefined' : _typeof(orientation)) === 'object') {
    var options = orientation;
    orientation = options.orientation;
    unit = options.unit || unit;
    format = options.format || format;
  }

  // Default options
  unit = unit || 'mm';
  format = format || 'a4';
  orientation = ('' + (orientation || 'P')).toLowerCase();
  var format_as_string = ('' + format).toLowerCase();

  // Size in pt of various paper formats
  var pageFormats = {
    'a0': [2383.94, 3370.39], 'a1': [1683.78, 2383.94],
    'a2': [1190.55, 1683.78], 'a3': [841.89, 1190.55],
    'a4': [595.28, 841.89], 'a5': [419.53, 595.28],
    'a6': [297.64, 419.53], 'a7': [209.76, 297.64],
    'a8': [147.40, 209.76], 'a9': [104.88, 147.40],
    'a10': [73.70, 104.88], 'b0': [2834.65, 4008.19],
    'b1': [2004.09, 2834.65], 'b2': [1417.32, 2004.09],
    'b3': [1000.63, 1417.32], 'b4': [708.66, 1000.63],
    'b5': [498.90, 708.66], 'b6': [354.33, 498.90],
    'b7': [249.45, 354.33], 'b8': [175.75, 249.45],
    'b9': [124.72, 175.75], 'b10': [87.87, 124.72],
    'c0': [2599.37, 3676.54], 'c1': [1836.85, 2599.37],
    'c2': [1298.27, 1836.85], 'c3': [918.43, 1298.27],
    'c4': [649.13, 918.43], 'c5': [459.21, 649.13],
    'c6': [323.15, 459.21], 'c7': [229.61, 323.15],
    'c8': [161.57, 229.61], 'c9': [113.39, 161.57],
    'c10': [79.37, 113.39], 'dl': [311.81, 623.62],
    'letter': [612, 792],
    'government-letter': [576, 756],
    'legal': [612, 1008],
    'junior-legal': [576, 360],
    'ledger': [1224, 792],
    'tabloid': [792, 1224],
    'credit-card': [153, 243]
  };

  // Unit conversion
  switch (unit) {
    case 'pt':
      var k = 1;break;
    case 'mm':
      var k = 72 / 25.4;break;
    case 'cm':
      var k = 72 / 2.54;break;
    case 'in':
      var k = 72;break;
    case 'px':
      var k = 72 / 96;break;
    case 'pc':
      var k = 12;break;
    case 'em':
      var k = 12;break;
    case 'ex':
      var k = 6;break;
    default:
      throw 'Invalid unit: ' + unit;
  }

  // Dimensions are stored as user units and converted to points on output
  if (pageFormats.hasOwnProperty(format_as_string)) {
    var pageHeight = pageFormats[format_as_string][1] / k;
    var pageWidth = pageFormats[format_as_string][0] / k;
  } else {
    try {
      var pageHeight = format[1];
      var pageWidth = format[0];
    } catch (err) {
      throw new Error('Invalid format: ' + format);
    }
  }

  // Handle page orientation
  if (orientation === 'p' || orientation === 'portrait') {
    orientation = 'p';
    if (pageWidth > pageHeight) {
      var tmp = pageWidth;
      pageWidth = pageHeight;
      pageHeight = tmp;
    }
  } else if (orientation === 'l' || orientation === 'landscape') {
    orientation = 'l';
    if (pageHeight > pageWidth) {
      var tmp = pageWidth;
      pageWidth = pageHeight;
      pageHeight = tmp;
    }
  } else {
    throw 'Invalid orientation: ' + orientation;
  }

  // Return information (k is the unit conversion ratio from pts)
  var info = { 'width': pageWidth, 'height': pageHeight, 'unit': unit, 'k': k };
  return info;
};

/* Pagebreak plugin:

    Adds page-break functionality to the html2pdf library. Page-breaks can be
    enabled by CSS styles, set on individual elements using selectors, or
    avoided from breaking inside all elements.

    Options on the `opt.pagebreak` object:

    mode:   String or array of strings: 'avoid-all', 'css', and/or 'legacy'
            Default: ['css', 'legacy']

    before: String or array of CSS selectors for which to add page-breaks
            before each element. Can be a specific element with an ID
            ('#myID'), all elements of a type (e.g. 'img'), all of a class
            ('.myClass'), or even '*' to match every element.

    after:  Like 'before', but adds a page-break immediately after the element.

    avoid:  Like 'before', but avoids page-breaks on these elements. You can
            enable this feature on every element using the 'avoid-all' mode.
*/

// Refs to original functions.
var orig = {
  toContainer: Worker.prototype.toContainer
};

// Add pagebreak default options to the Worker template.
Worker.template.opt.pagebreak = {
  mode: ['css', 'legacy'],
  before: [],
  after: [],
  avoid: []
};

Worker.prototype.toContainer = function toContainer() {
  return orig.toContainer.call(this).then(function toContainer_pagebreak() {
    // Setup root element and inner page height.
    var root = this.prop.container;
    var pxPageHeight = this.prop.pageSize.inner.px.height;

    // Check all requested modes.
    var modeSrc = [].concat(this.opt.pagebreak.mode);
    var mode = {
      avoidAll: modeSrc.indexOf('avoid-all') !== -1,
      css: modeSrc.indexOf('css') !== -1,
      legacy: modeSrc.indexOf('legacy') !== -1
    };

    // Get arrays of all explicitly requested elements.
    var select = {};
    var self = this;
    ['before', 'after', 'avoid'].forEach(function (key) {
      var all = mode.avoidAll && key === 'avoid';
      select[key] = all ? [] : [].concat(self.opt.pagebreak[key] || []);
      if (select[key].length > 0) {
        select[key] = Array.prototype.slice.call(root.querySelectorAll(select[key].join(', ')));
      }
    });

    // Get all legacy page-break elements.
    var legacyEls = root.querySelectorAll('.html2pdf__page-break');
    legacyEls = Array.prototype.slice.call(legacyEls);

    // Loop through all elements.
    var els = root.querySelectorAll('*');
    Array.prototype.forEach.call(els, function pagebreak_loop(el) {
      // Setup pagebreak rules based on legacy and avoidAll modes.
      var rules = {
        before: false,
        after: mode.legacy && legacyEls.indexOf(el) !== -1,
        avoid: mode.avoidAll
      };

      // Add rules for css mode.
      if (mode.css) {
        // TODO: Check if this is valid with iFrames.
        var style = window.getComputedStyle(el);
        // TODO: Handle 'left' and 'right' correctly.
        // TODO: Add support for 'avoid' on breakBefore/After.
        var breakOpt = ['always', 'page', 'left', 'right'];
        var avoidOpt = ['avoid', 'avoid-page'];
        rules = {
          before: rules.before || breakOpt.indexOf(style.breakBefore || style.pageBreakBefore) !== -1,
          after: rules.after || breakOpt.indexOf(style.breakAfter || style.pageBreakAfter) !== -1,
          avoid: rules.avoid || avoidOpt.indexOf(style.breakInside || style.pageBreakInside) !== -1
        };
      }

      // Add rules for explicit requests.
      Object.keys(rules).forEach(function (key) {
        rules[key] = rules[key] || select[key].indexOf(el) !== -1;
      });

      // Get element position on the screen.
      // TODO: Subtract the top of the container from clientRect.top/bottom?
      var clientRect = el.getBoundingClientRect();

      // Avoid: Check if a break happens mid-element.
      if (rules.avoid && !rules.before) {
        var startPage = Math.floor(clientRect.top / pxPageHeight);
        var endPage = Math.floor(clientRect.bottom / pxPageHeight);
        var nPages = Math.abs(clientRect.bottom - clientRect.top) / pxPageHeight;

        // Turn on rules.before if the el is broken and is at most one page long.
        if (endPage !== startPage && nPages <= 1) {
          rules.before = true;
        }
      }

      // Before: Create a padding div to push the element to the next page.
      if (rules.before) {
        var pad = createElement('div', { style: {
            display: 'block',
            height: pxPageHeight - clientRect.top % pxPageHeight + 'px'
          } });
        el.parentNode.insertBefore(pad, el);
      }

      // After: Create a padding div to fill the remaining page.
      if (rules.after) {
        var pad = createElement('div', { style: {
            display: 'block',
            height: pxPageHeight - clientRect.bottom % pxPageHeight + 'px'
          } });
        el.parentNode.insertBefore(pad, el.nextSibling);
      }
    });
  });
};

// Add hyperlink functionality to the PDF creation.

// Main link array, and refs to original functions.
var linkInfo = [];
var orig$1 = {
  toContainer: Worker.prototype.toContainer,
  toPdf: Worker.prototype.toPdf
};

Worker.prototype.toContainer = function toContainer() {
  return orig$1.toContainer.call(this).then(function toContainer_hyperlink() {
    // Retrieve hyperlink info if the option is enabled.
    if (this.opt.enableLinks) {
      // Find all anchor tags and get the container's bounds for reference.
      var container = this.prop.container;
      var links = container.querySelectorAll('a');
      var containerRect = unitConvert(container.getBoundingClientRect(), this.prop.pageSize.k);
      linkInfo = [];

      // Loop through each anchor tag.
      Array.prototype.forEach.call(links, function (link) {
        // Treat each client rect as a separate link (for text-wrapping).
        var clientRects = link.getClientRects();
        for (var i = 0; i < clientRects.length; i++) {
          var clientRect = unitConvert(clientRects[i], this.prop.pageSize.k);
          clientRect.left -= containerRect.left;
          clientRect.top -= containerRect.top;

          var page = Math.floor(clientRect.top / this.prop.pageSize.inner.height) + 1;
          var top = this.opt.margin[0] + clientRect.top % this.prop.pageSize.inner.height;
          var left = this.opt.margin[1] + clientRect.left;

          linkInfo.push({ page: page, top: top, left: left, clientRect: clientRect, link: link });
        }
      }, this);
    }
  });
};

Worker.prototype.toPdf = function toPdf() {
  return orig$1.toPdf.call(this).then(function toPdf_hyperlink() {
    // Add hyperlinks if the option is enabled.
    if (this.opt.enableLinks) {
      // Attach each anchor tag based on info from toContainer().
      linkInfo.forEach(function (l) {
        this.prop.pdf.setPage(l.page);
        this.prop.pdf.link(l.left, l.top, l.clientRect.width, l.clientRect.height, { url: l.link.href });
      }, this);

      // Reset the active page of the PDF to the final page.
      var nPages = this.prop.pdf.internal.getNumberOfPages();
      this.prop.pdf.setPage(nPages);
    }
  });
};

/**
 * Generate a PDF from an HTML element or string using html2canvas and jsPDF.
 *
 * @param {Element|string} source The source element or HTML string.
 * @param {Object=} opt An object of optional settings: 'margin', 'filename',
 *    'image' ('type' and 'quality'), and 'html2canvas' / 'jspdf', which are
 *    sent as settings to their corresponding functions.
 */
var html2pdf = function html2pdf(src, opt) {
  // Create a new worker with the given options.
  var worker = new html2pdf.Worker(opt);

  if (src) {
    // If src is specified, perform the traditional 'simple' operation.
    return worker.from(src).save();
  } else {
    // Otherwise, return the worker for new Promise-based operation.
    return worker;
  }
};
html2pdf.Worker = Worker;

return html2pdf;

})));

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":16,"html2canvas":13,"jspdf":15}],15:[function(require,module,exports){
(function (global){
!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";
/** @license
   * jsPDF - PDF Document creation from JavaScript
   * Version 1.5.3 Built on 2018-12-27T14:11:42.696Z
   *                      CommitID d93d28db14
   *
   * Copyright (c) 2010-2016 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
   *               2010 Aaron Spike, https://github.com/acspike
   *               2012 Willow Systems Corporation, willow-systems.com
   *               2012 Pablo Hess, https://github.com/pablohess
   *               2012 Florian Jenett, https://github.com/fjenett
   *               2013 Warren Weckesser, https://github.com/warrenweckesser
   *               2013 Youssef Beddad, https://github.com/lifof
   *               2013 Lee Driscoll, https://github.com/lsdriscoll
   *               2013 Stefan Slonevskiy, https://github.com/stefslon
   *               2013 Jeremy Morel, https://github.com/jmorel
   *               2013 Christoph Hartmann, https://github.com/chris-rock
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 James Makes, https://github.com/dollaruw
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 Steven Spungin, https://github.com/Flamenco
   *               2014 Kenneth Glassey, https://github.com/Gavvers
   *
   * Licensed under the MIT License
   *
   * Contributor(s):
   *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
   *    kim3er, mfo, alnorth, Flamenco
   */function se(t){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){if("object"!==se(t.console)){t.console={};for(var e,n,r=t.console,i=function(){},o=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=o.pop();)r[e]||(r[e]={});for(;n=a.pop();)r[n]||(r[n]=i)}var s,l,h,u,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===t.btoa&&(t.btoa=function(t){var e,n,r,i,o,a=0,s=0,l="",h=[];if(!t)return t;for(;e=(o=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,h[s++]=c.charAt(e)+c.charAt(n)+c.charAt(r)+c.charAt(i),a<t.length;);l=h.join("");var u=t.length%3;return(u?l.slice(0,u-3):l)+"===".slice(u||3)}),void 0===t.atob&&(t.atob=function(t){var e,n,r,i,o,a,s=0,l=0,h=[];if(!t)return t;for(t+="";e=(a=c.indexOf(t.charAt(s++))<<18|c.indexOf(t.charAt(s++))<<12|(i=c.indexOf(t.charAt(s++)))<<6|(o=c.indexOf(t.charAt(s++))))>>16&255,n=a>>8&255,r=255&a,h[l++]=64==i?String.fromCharCode(e):64==o?String.fromCharCode(e,n):String.fromCharCode(e,n,r),s<t.length;);return h.join("")}),Array.prototype.map||(Array.prototype.map=function(t){if(null==this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),n=e.length>>>0,r=new Array(n),i=1<arguments.length?arguments[1]:void 0,o=0;o<n;o++)o in e&&(r[o]=t.call(i,e[o],o,e));return r}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if(null==this||"function"!=typeof t)throw new TypeError;for(var n=Object(this),r=n.length>>>0,i=0;i<r;i++)i in n&&t.call(e,n[i],i,n)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=e[i];if(t.call(r,o,i,e))return o;i++}},configurable:!0,writable:!0}),Object.keys||(Object.keys=(s=Object.prototype.hasOwnProperty,l=!{toString:null}.propertyIsEnumerable("toString"),u=(h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!==se(t)&&("function"!=typeof t||null===t))throw new TypeError;var e,n,r=[];for(e in t)s.call(t,e)&&r.push(e);if(l)for(n=0;n<u;n++)s.call(t,h[n])&&r.push(h[n]);return r})),"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var t,e,n,_,l,F,P,p,d,k,a,o,s,h,u,c,r,i,f,g,m,y,v,w,b,x,I,C,B,N,L,A,S,j,E,M,O,q,T,R,D,U,z,H,W,V,G,Y,J,X,K,Z,Q,$,tt,et,nt,rt,it,ot,at,st,lt=function(ie){function oe(o){if("object"!==se(o))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var a={};this.subscribe=function(t,e,n){if(n=n||!1,"string"!=typeof t||"function"!=typeof e||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");a.hasOwnProperty(t)||(a[t]={});var r=Math.random().toString(35);return a[t][r]=[e,!!n],r},this.unsubscribe=function(t){for(var e in a)if(a[e][t])return delete a[e][t],0===Object.keys(a[e]).length&&delete a[e],!0;return!1},this.publish=function(t){if(a.hasOwnProperty(t)){var e=Array.prototype.slice.call(arguments,1),n=[];for(var r in a[t]){var i=a[t][r];try{i[0].apply(o,e)}catch(t){ie.console&&console.error("jsPDF PubSub Error",t.message,t)}i[1]&&n.push(r)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return a}}function ae(t,e,i,n){var r={},o=[],a=1;"object"===se(t)&&(t=(r=t).orientation,e=r.unit||e,i=r.format||i,n=r.compress||r.compressPdf||n,o=r.filters||(!0===n?["FlateEncode"]:o),a="number"==typeof r.userUnit?Math.abs(r.userUnit):1),e=e||"mm",t=(""+(t||"P")).toLowerCase();var s=r.putOnlyUsedFonts||!0,K={},l={internal:{},__private__:{}};l.__private__.PubSub=oe;var h="1.3",u=l.__private__.getPdfVersion=function(){return h},c=(l.__private__.setPdfVersion=function(t){h=t},{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]}),f=(l.__private__.getPageFormats=function(){return c},l.__private__.getPageFormat=function(t){return c[t]});"string"==typeof i&&(i=f(i)),i=i||f("a4");var p,Z=l.f2=l.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(2)},Q=l.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return t.toFixed(3)},d="00000000000000000000000000000000",g=l.__private__.getFileId=function(){return d},m=l.__private__.setFileId=function(t){return t=t||"12345678901234567890123456789012".split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d=t};l.setFileId=function(t){return m(t),this},l.getFileId=function(){return g()};var y=l.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),n=e<0?"+":"-",r=Math.floor(Math.abs(e/60)),i=Math.abs(e%60),o=[n,P(r),"'",P(i),"'"].join("");return["D:",t.getFullYear(),P(t.getMonth()+1),P(t.getDate()),P(t.getHours()),P(t.getMinutes()),P(t.getSeconds()),o].join("")},v=l.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),n=parseInt(t.substr(6,2),10)-1,r=parseInt(t.substr(8,2),10),i=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),a=parseInt(t.substr(14,2),10);parseInt(t.substr(16,2),10),parseInt(t.substr(20,2),10);return new Date(e,n,r,i,o,a,0)},w=l.__private__.setCreationDate=function(t){var e;if(void 0===t&&(t=new Date),"object"===se(t)&&"[object Date]"===Object.prototype.toString.call(t))e=y(t);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|\-0[0-9]|\-1[0-1])\'(0[0-9]|[1-5][0-9])\'?$/.test(t))throw new Error("Invalid argument passed to jsPDF.setCreationDate");e=t}return p=e},b=l.__private__.getCreationDate=function(t){var e=p;return"jsDate"===t&&(e=v(p)),e};l.setCreationDate=function(t){return w(t),this},l.getCreationDate=function(t){return b(t)};var x,N,L,A,S,$,_,F,P=l.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},k=!1,I=[],C=[],B=0,tt=(l.__private__.setCustomOutputDestination=function(t){N=t},l.__private__.resetCustomOutputDestination=function(t){N=void 0},l.__private__.out=function(t){var e;return t="string"==typeof t?t:t.toString(),(e=void 0===N?k?I[x]:C:N).push(t),k||(B+=t.length+1),e}),j=l.__private__.write=function(t){return tt(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},E=l.__private__.getArrayBuffer=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n);e--;)r[e]=t.charCodeAt(e);return n},M=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]],et=(l.__private__.getStandardFonts=function(t){return M},r.fontSize||16),O=(l.__private__.setFontSize=l.setFontSize=function(t){return et=t,this},l.__private__.getFontSize=l.getFontSize=function(){return et}),nt=r.R2L||!1,q=(l.__private__.setR2L=l.setR2L=function(t){return nt=t,this},l.__private__.getR2L=l.getR2L=function(t){return nt},l.__private__.setZoomMode=function(t){var e=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^\d*\.?\d*\%$/.test(t))L=t;else if(isNaN(t)){if(-1===e.indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');L=t}else L=parseInt(t,10)}),T=(l.__private__.getZoomMode=function(){return L},l.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');A=t}),R=(l.__private__.getPageMode=function(){return A},l.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');S=t}),D=(l.__private__.getLayoutMode=function(){return S},l.__private__.setDisplayMode=l.setDisplayMode=function(t,e,n){return q(t),R(e),T(n),this},{title:"",subject:"",author:"",keywords:"",creator:""}),U=(l.__private__.getDocumentProperty=function(t){if(-1===Object.keys(D).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return D[t]},l.__private__.getDocumentProperties=function(t){return D},l.__private__.setDocumentProperties=l.setProperties=l.setDocumentProperties=function(t){for(var e in D)D.hasOwnProperty(e)&&t[e]&&(D[e]=t[e]);return this},l.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(D).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return D[t]=e},0),z=[],rt={},H={},W=0,V=[],G=[],it=new oe(l),Y=r.hotfixes||[],J=l.__private__.newObject=function(){var t=X();return ot(t,!0),t},X=l.__private__.newObjectDeferred=function(){return z[++U]=function(){return B},U},ot=function(t,e){return e="boolean"==typeof e&&e,z[t]=B,e&&tt(t+" 0 obj"),t},at=l.__private__.newAdditionalObject=function(){var t={objId:X(),content:""};return G.push(t),t},st=X(),lt=X(),ht=l.__private__.decodeColorString=function(t){var e=t.split(" ");if(2===e.length&&("g"===e[1]||"G"===e[1])){var n=parseFloat(e[0]);e=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(e[i])).toString(16)).slice(-2);return r},ut=l.__private__.encodeColorString=function(t){var e;"string"==typeof t&&(t={ch1:t});var n=t.ch1,r=t.ch2,i=t.ch3,o=t.ch4,a=(t.precision,"draw"===t.pdfColorType?["G","RG","K"]:["g","rg","k"]);if("string"==typeof n&&"#"!==n.charAt(0)){var s=new RGBColor(n);if(s.ok)n=s.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,i=255&l}if(void 0===r||void 0===o&&n===r&&r===i)if("string"==typeof n)e=n+" "+a[0];else switch(t.precision){case 2:e=Z(n/255)+" "+a[0];break;case 3:default:e=Q(n/255)+" "+a[0]}else if(void 0===o||"object"===se(o)){if(o&&!isNaN(o.a)&&0===o.a)return e=["1.000","1.000","1.000",a[1]].join(" ");if("string"==typeof n)e=[n,r,i,a[1]].join(" ");else switch(t.precision){case 2:e=[Z(n/255),Z(r/255),Z(i/255),a[1]].join(" ");break;default:case 3:e=[Q(n/255),Q(r/255),Q(i/255),a[1]].join(" ")}}else if("string"==typeof n)e=[n,r,i,o,a[2]].join(" ");else switch(t.precision){case 2:e=[Z(n/255),Z(r/255),Z(i/255),Z(o/255),a[2]].join(" ");break;case 3:default:e=[Q(n/255),Q(r/255),Q(i/255),Q(o/255),a[2]].join(" ")}return e},ct=l.__private__.getFilters=function(){return o},ft=l.__private__.putStream=function(t){var e=(t=t||{}).data||"",n=t.filters||ct(),r=t.alreadyAppliedFilters||[],i=t.addLength1||!1,o=e.length,a={};!0===n&&(n=["FlateEncode"]);var s=t.additionalKeyValues||[],l=(a=void 0!==ae.API.processDataByFilters?ae.API.processDataByFilters(e,n):{data:e,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());0!==a.data.length&&(s.push({key:"Length",value:a.data.length}),!0===i&&s.push({key:"Length1",value:o})),0!=l.length&&(l.split("/").length-1==1?s.push({key:"Filter",value:l}):s.push({key:"Filter",value:"["+l+"]"})),tt("<<");for(var h=0;h<s.length;h++)tt("/"+s[h].key+" "+s[h].value);tt(">>"),0!==a.data.length&&(tt("stream"),tt(a.data),tt("endstream"))},pt=l.__private__.putPage=function(t){t.mediaBox;var e=t.number,n=t.data,r=t.objId,i=t.contentsObjId;ot(r,!0);V[x].mediaBox.topRightX,V[x].mediaBox.bottomLeftX,V[x].mediaBox.topRightY,V[x].mediaBox.bottomLeftY;tt("<</Type /Page"),tt("/Parent "+t.rootDictionaryObjId+" 0 R"),tt("/Resources "+t.resourceDictionaryObjId+" 0 R"),tt("/MediaBox ["+parseFloat(Z(t.mediaBox.bottomLeftX))+" "+parseFloat(Z(t.mediaBox.bottomLeftY))+" "+Z(t.mediaBox.topRightX)+" "+Z(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&tt("/CropBox ["+Z(t.cropBox.bottomLeftX)+" "+Z(t.cropBox.bottomLeftY)+" "+Z(t.cropBox.topRightX)+" "+Z(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&tt("/BleedBox ["+Z(t.bleedBox.bottomLeftX)+" "+Z(t.bleedBox.bottomLeftY)+" "+Z(t.bleedBox.topRightX)+" "+Z(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&tt("/TrimBox ["+Z(t.trimBox.bottomLeftX)+" "+Z(t.trimBox.bottomLeftY)+" "+Z(t.trimBox.topRightX)+" "+Z(t.trimBox.topRightY)+"]"),null!==t.artBox&&tt("/ArtBox ["+Z(t.artBox.bottomLeftX)+" "+Z(t.artBox.bottomLeftY)+" "+Z(t.artBox.topRightX)+" "+Z(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&tt("/UserUnit "+t.userUnit),it.publish("putPage",{objId:r,pageContext:V[e],pageNumber:e,page:n}),tt("/Contents "+i+" 0 R"),tt(">>"),tt("endobj");var o=n.join("\n");return ot(i,!0),ft({data:o,filters:ct()}),tt("endobj"),r},dt=l.__private__.putPages=function(){var t,e,n=[];for(t=1;t<=W;t++)V[t].objId=X(),V[t].contentsObjId=X();for(t=1;t<=W;t++)n.push(pt({number:t,data:I[t],objId:V[t].objId,contentsObjId:V[t].contentsObjId,mediaBox:V[t].mediaBox,cropBox:V[t].cropBox,bleedBox:V[t].bleedBox,trimBox:V[t].trimBox,artBox:V[t].artBox,userUnit:V[t].userUnit,rootDictionaryObjId:st,resourceDictionaryObjId:lt}));ot(st,!0),tt("<</Type /Pages");var r="/Kids [";for(e=0;e<W;e++)r+=n[e]+" 0 R ";tt(r+"]"),tt("/Count "+W),tt(">>"),tt("endobj"),it.publish("postPutPages")},gt=function(){!function(){for(var t in rt)rt.hasOwnProperty(t)&&(!1===s||!0===s&&K.hasOwnProperty(t))&&(e=rt[t],it.publish("putFont",{font:e,out:tt,newObject:J,putStream:ft}),!0!==e.isAlreadyPutted&&(e.objectNumber=J(),tt("<<"),tt("/Type /Font"),tt("/BaseFont /"+e.postScriptName),tt("/Subtype /Type1"),"string"==typeof e.encoding&&tt("/Encoding /"+e.encoding),tt("/FirstChar 32"),tt("/LastChar 255"),tt(">>"),tt("endobj")));var e}(),it.publish("putResources"),ot(lt,!0),tt("<<"),function(){for(var t in tt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),tt("/Font <<"),rt)rt.hasOwnProperty(t)&&(!1===s||!0===s&&K.hasOwnProperty(t))&&tt("/"+t+" "+rt[t].objectNumber+" 0 R");tt(">>"),tt("/XObject <<"),it.publish("putXobjectDict"),tt(">>")}(),tt(">>"),tt("endobj"),it.publish("postPutResources")},mt=function(t,e,n){H.hasOwnProperty(e)||(H[e]={}),H[e][n]=t},yt=function(t,e,n,r,i){i=i||!1;var o="F"+(Object.keys(rt).length+1).toString(10),a={id:o,postScriptName:t,fontName:e,fontStyle:n,encoding:r,isStandardFont:i,metadata:{}};return it.publish("addFont",{font:a,instance:this}),void 0!==o&&(rt[o]=a,mt(o,e,n)),o},vt=l.__private__.pdfEscape=l.pdfEscape=function(t,e){return function(t,e){var n,r,i,o,a,s,l,h,u;if(i=(e=e||{}).sourceEncoding||"Unicode",a=e.outputEncoding,(e.autoencode||a)&&rt[$].metadata&&rt[$].metadata[i]&&rt[$].metadata[i].encoding&&(o=rt[$].metadata[i].encoding,!a&&rt[$].encoding&&(a=rt[$].encoding),!a&&o.codePages&&(a=o.codePages[0]),"string"==typeof a&&(a=o[a]),a)){for(l=!1,s=[],n=0,r=t.length;n<r;n++)(h=a[t.charCodeAt(n)])?s.push(String.fromCharCode(h)):s.push(t[n]),s[n].charCodeAt(0)>>8&&(l=!0);t=s.join("")}for(n=t.length;void 0===l&&0!==n;)t.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return t;for(s=e.noBOM?[]:[254,255],n=0,r=t.length;n<r;n++){if((u=(h=t.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(u),s.push(h-(u<<8))}return String.fromCharCode.apply(void 0,s)}(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wt=l.__private__.beginPage=function(t,e){var n,r="string"==typeof e&&e.toLowerCase();if("string"==typeof t&&(n=f(t.toLowerCase()))&&(t=n[0],e=n[1]),Array.isArray(t)&&(e=t[1],t=t[0]),(isNaN(t)||isNaN(e))&&(t=i[0],e=i[1]),r){switch(r.substr(0,1)){case"l":t<e&&(r="s");break;case"p":e<t&&(r="s")}"s"===r&&(n=t,t=e,e=n)}(14400<t||14400<e)&&(console.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),t=Math.min(14400,t),e=Math.min(14400,e)),i=[t,e],k=!0,I[++W]=[],V[W]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t),topRightY:Number(e)}},xt(W)},bt=function(){wt.apply(this,arguments),Dt(Rt),tt(Jt),0!==te&&tt(te+" J"),0!==ne&&tt(ne+" j"),it.publish("addPage",{pageNumber:W})},xt=function(t){0<t&&t<=W&&(x=t)},Nt=l.__private__.getNumberOfPages=l.getNumberOfPages=function(){return I.length-1},Lt=function(t,e,n){var r,i=void 0;return n=n||{},t=void 0!==t?t:rt[$].fontName,e=void 0!==e?e:rt[$].fontStyle,r=t.toLowerCase(),void 0!==H[r]&&void 0!==H[r][e]?i=H[r][e]:void 0!==H[t]&&void 0!==H[t][e]?i=H[t][e]:!1===n.disableWarning&&console.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=H.times[e])&&(i=H.times.normal),i},At=l.__private__.putInfo=function(){for(var t in J(),tt("<<"),tt("/Producer (jsPDF "+ae.version+")"),D)D.hasOwnProperty(t)&&D[t]&&tt("/"+t.substr(0,1).toUpperCase()+t.substr(1)+" ("+vt(D[t])+")");tt("/CreationDate ("+p+")"),tt(">>"),tt("endobj")},St=l.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||st;switch(J(),tt("<<"),tt("/Type /Catalog"),tt("/Pages "+e+" 0 R"),L||(L="fullwidth"),L){case"fullwidth":tt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":tt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":tt("/OpenAction [3 0 R /Fit]");break;case"original":tt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+L;"%"===n.substr(n.length-1)&&(L=parseInt(L)/100),"number"==typeof L&&tt("/OpenAction [3 0 R /XYZ null null "+Z(L)+"]")}switch(S||(S="continuous"),S){case"continuous":tt("/PageLayout /OneColumn");break;case"single":tt("/PageLayout /SinglePage");break;case"two":case"twoleft":tt("/PageLayout /TwoColumnLeft");break;case"tworight":tt("/PageLayout /TwoColumnRight")}A&&tt("/PageMode /"+A),it.publish("putCatalog"),tt(">>"),tt("endobj")},_t=l.__private__.putTrailer=function(){tt("trailer"),tt("<<"),tt("/Size "+(U+1)),tt("/Root "+U+" 0 R"),tt("/Info "+(U-1)+" 0 R"),tt("/ID [ <"+d+"> <"+d+"> ]"),tt(">>")},Ft=l.__private__.putHeader=function(){tt("%PDF-"+h),tt("%ºß¬à")},Pt=l.__private__.putXRef=function(){var t=1,e="0000000000";for(tt("xref"),tt("0 "+(U+1)),tt("0000000000 65535 f "),t=1;t<=U;t++){"function"==typeof z[t]?tt((e+z[t]()).slice(-10)+" 00000 n "):void 0!==z[t]?tt((e+z[t]).slice(-10)+" 00000 n "):tt("0000000000 00000 n ")}},kt=l.__private__.buildDocument=function(){k=!1,B=U=0,C=[],z=[],G=[],st=X(),lt=X(),it.publish("buildDocument"),Ft(),dt(),function(){it.publish("putAdditionalObjects");for(var t=0;t<G.length;t++){var e=G[t];ot(e.objId,!0),tt(e.content),tt("endobj")}it.publish("postPutAdditionalObjects")}(),gt(),At(),St();var t=B;return Pt(),_t(),tt("startxref"),tt(""+t),tt("%%EOF"),k=!0,C.join("\n")},It=l.__private__.getBlob=function(t){return new Blob([E(t)],{type:"application/pdf"})},Ct=l.output=l.__private__.output=((F=function(t,e){e=e||{};var n=kt();switch("string"==typeof e?e={filename:e}:e.filename=e.filename||"generated.pdf",t){case void 0:return n;case"save":l.save(e.filename);break;case"arraybuffer":return E(n);case"blob":return It(n);case"bloburi":case"bloburl":if(void 0!==ie.URL&&"function"==typeof ie.URL.createObjectURL)return ie.URL&&ie.URL.createObjectURL(It(n))||void 0;console.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":return"data:application/pdf;filename="+e.filename+";base64,"+btoa(n);case"dataurlnewwindow":var r='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring")+'"></iframe></body></html>',i=ie.open();if(null!==i&&i.document.write(r),i||"undefined"==typeof safari)return i;case"datauri":case"dataurl":return ie.document.location.href="data:application/pdf;filename="+e.filename+";base64,"+btoa(n);default:return null}}).foo=function(){try{return F.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!ie.console)throw new Error(n);ie.console.error(n,t),ie.alert&&alert(n)}},(F.foo.bar=F).foo),Bt=function(t){return!0===Array.isArray(Y)&&-1<Y.indexOf(t)};switch(e){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=1==Bt("px_scaling")?.75:96/72;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw new Error("Invalid unit: "+e)}w(),m();var jt=l.__private__.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:V[t].objId,pageNumber:t,pageContext:V[t]}},Et=l.__private__.getPageInfoByObjId=function(t){for(var e in V)if(V[e].objId===t)break;if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");return jt(e)},Mt=l.__private__.getCurrentPageInfo=function(){return{objId:V[x].objId,pageNumber:x,pageContext:V[x]}};l.addPage=function(){return bt.apply(this,arguments),this},l.setPage=function(){return xt.apply(this,arguments),this},l.insertPage=function(t){return this.addPage(),this.movePage(x,t),this},l.movePage=function(t,e){if(e<t){for(var n=I[t],r=V[t],i=t;e<i;i--)I[i]=I[i-1],V[i]=V[i-1];I[e]=n,V[e]=r,this.setPage(e)}else if(t<e){for(n=I[t],r=V[t],i=t;i<e;i++)I[i]=I[i+1],V[i]=V[i+1];I[e]=n,V[e]=r,this.setPage(e)}return this},l.deletePage=function(){return function(t){0<t&&t<=W&&(I.splice(t,1),--W<x&&(x=W),this.setPage(x))}.apply(this,arguments),this};l.__private__.text=l.text=function(t,e,n,i){var r;"number"!=typeof t||"number"!=typeof e||"string"!=typeof n&&!Array.isArray(n)||(r=n,n=e,e=t,t=r);var o=arguments[3],a=arguments[4],s=arguments[5];if("object"===se(o)&&null!==o||("string"==typeof a&&(s=a,a=null),"string"==typeof o&&(s=o,o=null),"number"==typeof o&&(a=o,o=null),i={flags:o,angle:a,align:s}),(o=o||{}).noBOM=o.noBOM||!0,o.autoencode=o.autoencode||!0,isNaN(e)||isNaN(n)||null==t)throw new Error("Invalid arguments passed to jsPDF.text");if(0===t.length)return c;var l,h="",u="number"==typeof i.lineHeightFactor?i.lineHeightFactor:Tt,c=i.scope||this;function f(t){for(var e,n=t.concat(),r=[],i=n.length;i--;)"string"==typeof(e=n.shift())?r.push(e):Array.isArray(t)&&1===e.length?r.push(e[0]):r.push([e[0],e[1],e[2]]);return r}function p(t,e){var n;if("string"==typeof t)n=e(t)[0];else if(Array.isArray(t)){for(var r,i,o=t.concat(),a=[],s=o.length;s--;)"string"==typeof(r=o.shift())?a.push(e(r)[0]):Array.isArray(r)&&"string"===r[0]&&(i=e(r[0],r[1],r[2]),a.push([i[0],i[1],i[2]]));n=a}return n}var d=!1,g=!0;if("string"==typeof t)d=!0;else if(Array.isArray(t)){for(var m,y=t.concat(),v=[],w=y.length;w--;)("string"!=typeof(m=y.shift())||Array.isArray(m)&&"string"!=typeof m[0])&&(g=!1);d=g}if(!1===d)throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');var b=rt[$].encoding;"WinAnsiEncoding"!==b&&"StandardEncoding"!==b||(t=p(t,function(t,e,n){return[(r=t,r=r.split("\t").join(Array(i.TabLen||9).join(" ")),vt(r,o)),e,n];var r})),"string"==typeof t&&(t=t.match(/[\r?\n]/)?t.split(/\r\n|\r|\n/g):[t]);var x=et/c.internal.scaleFactor,N=x*(Tt-1);switch(i.baseline){case"bottom":n-=N;break;case"top":n+=x-N;break;case"hanging":n+=x-2*N;break;case"middle":n+=x/2-N}0<(O=i.maxWidth||0)&&("string"==typeof t?t=c.splitTextToSize(t,O):"[object Array]"===Object.prototype.toString.call(t)&&(t=c.splitTextToSize(t.join(" "),O)));var L={text:t,x:e,y:n,options:i,mutex:{pdfEscape:vt,activeFontKey:$,fonts:rt,activeFontSize:et}};it.publish("preProcessText",L),t=L.text;a=(i=L.options).angle;var A=c.internal.scaleFactor,S=[];if(a){a*=Math.PI/180;var _=Math.cos(a),F=Math.sin(a);S=[Z(_),Z(F),Z(-1*F),Z(_)]}void 0!==(M=i.charSpace)&&(h+=Q(M*A)+" Tc\n");i.lang;var P=-1,k=void 0!==i.renderingMode?i.renderingMode:i.stroke,I=c.internal.getCurrentPageInfo().pageContext;switch(k){case 0:case!1:case"fill":P=0;break;case 1:case!0:case"stroke":P=1;break;case 2:case"fillThenStroke":P=2;break;case 3:case"invisible":P=3;break;case 4:case"fillAndAddForClipping":P=4;break;case 5:case"strokeAndAddPathForClipping":P=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":P=6;break;case 7:case"addToPathForClipping":P=7}var C=void 0!==I.usedRenderingMode?I.usedRenderingMode:-1;-1!==P?h+=P+" Tr\n":-1!==C&&(h+="0 Tr\n"),-1!==P&&(I.usedRenderingMode=P);s=i.align||"left";var B=et*u,j=c.internal.pageSize.getWidth(),E=(A=c.internal.scaleFactor,rt[$]),M=i.charSpace||Qt,O=i.maxWidth||0,q=(o={},[]);if("[object Array]"===Object.prototype.toString.call(t)){var T,R;v=f(t);"left"!==s&&(R=v.map(function(t){return c.getStringUnitWidth(t,{font:E,charSpace:M,fontSize:et})*et/A}));var D,U=Math.max.apply(Math,R),z=0;if("right"===s){e-=R[0],t=[];var H=0;for(w=v.length;H<w;H++)U-R[H],T=0===H?(D=Wt(e),Vt(n)):(D=(z-R[H])*A,-B),t.push([v[H],D,T]),z=R[H]}else if("center"===s){e-=R[0]/2,t=[];for(H=0,w=v.length;H<w;H++)(U-R[H])/2,T=0===H?(D=Wt(e),Vt(n)):(D=(z-R[H])/2*A,-B),t.push([v[H],D,T]),z=R[H]}else if("left"===s){t=[];for(H=0,w=v.length;H<w;H++)T=0===H?Vt(n):-B,D=0===H?Wt(e):0,t.push(v[H])}else{if("justify"!==s)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');t=[];for(O=0!==O?O:j,H=0,w=v.length;H<w;H++)T=0===H?Vt(n):-B,D=0===H?Wt(e):0,H<w-1&&q.push(((O-R[H])/(v[H].split(" ").length-1)*A).toFixed(2)),t.push([v[H],D,T])}}!0===("boolean"==typeof i.R2L?i.R2L:nt)&&(t=p(t,function(t,e,n){return[t.split("").reverse().join(""),e,n]}));L={text:t,x:e,y:n,options:i,mutex:{pdfEscape:vt,activeFontKey:$,fonts:rt,activeFontSize:et}};it.publish("postProcessText",L),t=L.text,l=L.mutex.isHex;v=f(t);t=[];var W,V,G,Y=0,J=(w=v.length,"");for(H=0;H<w;H++)J="",Array.isArray(v[H])?(W=parseFloat(v[H][1]),V=parseFloat(v[H][2]),G=(l?"<":"(")+v[H][0]+(l?">":")"),Y=1):(W=Wt(e),V=Vt(n),G=(l?"<":"(")+v[H]+(l?">":")")),void 0!==q&&void 0!==q[H]&&(J=q[H]+" Tw\n"),0!==S.length&&0===H?t.push(J+S.join(" ")+" "+W.toFixed(2)+" "+V.toFixed(2)+" Tm\n"+G):1===Y||0===Y&&0===H?t.push(J+W.toFixed(2)+" "+V.toFixed(2)+" Td\n"+G):t.push(J+G);t=0===Y?t.join(" Tj\nT* "):t.join(" Tj\n"),t+=" Tj\n";var X="BT\n/"+$+" "+et+" Tf\n"+(et*u).toFixed(2)+" TL\n"+Kt+"\n";return X+=h,X+=t,tt(X+="ET"),K[$]=!0,c},l.__private__.lstext=l.lstext=function(t,e,n,r){return console.warn("jsPDF.lstext is deprecated"),this.text(t,e,n,{charSpace:r})},l.__private__.clip=l.clip=function(t){tt("evenodd"===t?"W*":"W"),tt("n")},l.__private__.clip_fixed=l.clip_fixed=function(t){console.log("clip_fixed is deprecated"),l.clip(t)};var Ot=l.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","F","DF","FD","f","f*","B","B*"].indexOf(t)&&(e=!0),e},qt=l.__private__.getStyle=function(t){var e="S";return"F"===t?e="f":"FD"===t||"DF"===t?e="B":"f"!==t&&"f*"!==t&&"B"!==t&&"B*"!==t||(e=t),e};l.__private__.line=l.line=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.line");return this.lines([[n-t,r-e]],t,e)},l.__private__.lines=l.lines=function(t,e,n,r,i,o){var a,s,l,h,u,c,f,p,d,g,m,y;if("number"==typeof t&&(y=n,n=e,e=t,t=y),r=r||[1,1],o=o||!1,isNaN(e)||isNaN(n)||!Array.isArray(t)||!Array.isArray(r)||!Ot(i)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for(tt(Q(Wt(e))+" "+Q(Vt(n))+" m "),a=r[0],s=r[1],h=t.length,g=e,m=n,l=0;l<h;l++)2===(u=t[l]).length?(g=u[0]*a+g,m=u[1]*s+m,tt(Q(Wt(g))+" "+Q(Vt(m))+" l")):(c=u[0]*a+g,f=u[1]*s+m,p=u[2]*a+g,d=u[3]*s+m,g=u[4]*a+g,m=u[5]*s+m,tt(Q(Wt(c))+" "+Q(Vt(f))+" "+Q(Wt(p))+" "+Q(Vt(d))+" "+Q(Wt(g))+" "+Q(Vt(m))+" c"));return o&&tt(" h"),null!==i&&tt(qt(i)),this},l.__private__.rect=l.rect=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ot(i))throw new Error("Invalid arguments passed to jsPDF.rect");return tt([Z(Wt(t)),Z(Vt(e)),Z(n*_),Z(-r*_),"re"].join(" ")),null!==i&&tt(qt(i)),this},l.__private__.triangle=l.triangle=function(t,e,n,r,i,o,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Ot(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-t,r-e],[i-n,o-r],[t-i,e-o]],t,e,[1,1],a,!0),this},l.__private__.roundedRect=l.roundedRect=function(t,e,n,r,i,o,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Ot(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return this.lines([[n-2*i,0],[i*s,0,i,o-o*s,i,o],[0,r-2*o],[0,o*s,-i*s,o,-i,o],[2*i-n,0],[-i*s,0,-i,-o*s,-i,-o],[0,2*o-r],[0,-o*s,i*s,-o,i,-o]],t+i,e,[1,1],a),this},l.__private__.ellipse=l.ellipse=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ot(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return tt([Z(Wt(t+n)),Z(Vt(e)),"m",Z(Wt(t+n)),Z(Vt(e-a)),Z(Wt(t+o)),Z(Vt(e-r)),Z(Wt(t)),Z(Vt(e-r)),"c"].join(" ")),tt([Z(Wt(t-o)),Z(Vt(e-r)),Z(Wt(t-n)),Z(Vt(e-a)),Z(Wt(t-n)),Z(Vt(e)),"c"].join(" ")),tt([Z(Wt(t-n)),Z(Vt(e+a)),Z(Wt(t-o)),Z(Vt(e+r)),Z(Wt(t)),Z(Vt(e+r)),"c"].join(" ")),tt([Z(Wt(t+o)),Z(Vt(e+r)),Z(Wt(t+n)),Z(Vt(e+a)),Z(Wt(t+n)),Z(Vt(e)),"c"].join(" ")),null!==i&&tt(qt(i)),this},l.__private__.circle=l.circle=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||!Ot(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,n,n,r)};l.setFont=function(t,e){return $=Lt(t,e,{disableWarning:!1}),this},l.setFontStyle=l.setFontType=function(t){return $=Lt(void 0,t),this};l.__private__.getFontList=l.getFontList=function(){var t,e,n,r={};for(t in H)if(H.hasOwnProperty(t))for(e in r[t]=n=[],H[t])H[t].hasOwnProperty(e)&&n.push(e);return r};l.addFont=function(t,e,n,r){yt.call(this,t,e,n,r=r||"Identity-H")};var Tt,Rt=r.lineWidth||.200025,Dt=l.__private__.setLineWidth=l.setLineWidth=function(t){return tt((t*_).toFixed(2)+" w"),this},Ut=(l.__private__.setLineDash=ae.API.setLineDash=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map(function(t){return(t*_).toFixed(3)}).join(" "),e=parseFloat((e*_).toFixed(3)),tt("["+t+"] "+e+" d"),this},l.__private__.getLineHeight=l.getLineHeight=function(){return et*Tt}),zt=(Ut=l.__private__.getLineHeight=l.getLineHeight=function(){return et*Tt},l.__private__.setLineHeightFactor=l.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(Tt=t),this}),Ht=l.__private__.getLineHeightFactor=l.getLineHeightFactor=function(){return Tt};zt(r.lineHeight);var Wt=l.__private__.getHorizontalCoordinate=function(t){return t*_},Vt=l.__private__.getVerticalCoordinate=function(t){return V[x].mediaBox.topRightY-V[x].mediaBox.bottomLeftY-t*_},Gt=l.__private__.getHorizontalCoordinateString=function(t){return Z(t*_)},Yt=l.__private__.getVerticalCoordinateString=function(t){return Z(V[x].mediaBox.topRightY-V[x].mediaBox.bottomLeftY-t*_)},Jt=r.strokeColor||"0 G",Xt=(l.__private__.getStrokeColor=l.getDrawColor=function(){return ht(Jt)},l.__private__.setStrokeColor=l.setDrawColor=function(t,e,n,r){return Jt=ut({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),tt(Jt),this},r.fillColor||"0 g"),Kt=(l.__private__.getFillColor=l.getFillColor=function(){return ht(Xt)},l.__private__.setFillColor=l.setFillColor=function(t,e,n,r){return Xt=ut({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),tt(Xt),this},r.textColor||"0 g"),Zt=l.__private__.getTextColor=l.getTextColor=function(){return ht(Kt)},Qt=(l.__private__.setTextColor=l.setTextColor=function(t,e,n,r){return Kt=ut({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this},r.charSpace||0),$t=l.__private__.getCharSpace=l.getCharSpace=function(){return Qt},te=(l.__private__.setCharSpace=l.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qt=t,this},0);l.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2};l.__private__.setLineCap=l.setLineCap=function(t){var e=l.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tt((te=e)+" J"),this};var ee,ne=0;l.__private__.setLineJoin=l.setLineJoin=function(t){var e=l.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tt((ne=e)+" j"),this},l.__private__.setMiterLimit=l.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setMiterLimit");return ee=parseFloat(Z(t*_)),tt(ee+" M"),this};for(var re in l.save=function(r,t){if(r=r||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1!==t.returnPromise)return new Promise(function(t,e){try{var n=le(It(kt()),r);"function"==typeof le.unload&&ie.setTimeout&&setTimeout(le.unload,911),t(n)}catch(t){e(t.message)}});le(It(kt()),r),"function"==typeof le.unload&&ie.setTimeout&&setTimeout(le.unload,911)},ae.API)ae.API.hasOwnProperty(re)&&("events"===re&&ae.API.events.length?function(t,e){var n,r,i;for(i=e.length-1;-1!==i;i--)n=e[i][0],r=e[i][1],t.subscribe.apply(t,[n].concat("function"==typeof r?[r]:r))}(it,ae.API.events):l[re]=ae.API[re]);return l.internal={pdfEscape:vt,getStyle:qt,getFont:function(){return rt[Lt.apply(l,arguments)]},getFontSize:O,getCharSpace:$t,getTextColor:Zt,getLineHeight:Ut,getLineHeightFactor:Ht,write:j,getHorizontalCoordinate:Wt,getVerticalCoordinate:Vt,getCoordinateString:Gt,getVerticalCoordinateString:Yt,collections:{},newObject:J,newAdditionalObject:at,newObjectDeferred:X,newObjectDeferredBegin:ot,getFilters:ct,putStream:ft,events:it,scaleFactor:_,pageSize:{getWidth:function(){return(V[x].mediaBox.topRightX-V[x].mediaBox.bottomLeftX)/_},setWidth:function(t){V[x].mediaBox.topRightX=t*_+V[x].mediaBox.bottomLeftX},getHeight:function(){return(V[x].mediaBox.topRightY-V[x].mediaBox.bottomLeftY)/_},setHeight:function(t){V[x].mediaBox.topRightY=t*_+V[x].mediaBox.bottomLeftY}},output:Ct,getNumberOfPages:Nt,pages:I,out:tt,f2:Z,f3:Q,getPageInfo:jt,getPageInfoByObjId:Et,getCurrentPageInfo:Mt,getPDFVersion:u,hasHotfix:Bt},Object.defineProperty(l.internal.pageSize,"width",{get:function(){return(V[x].mediaBox.topRightX-V[x].mediaBox.bottomLeftX)/_},set:function(t){V[x].mediaBox.topRightX=t*_+V[x].mediaBox.bottomLeftX},enumerable:!0,configurable:!0}),Object.defineProperty(l.internal.pageSize,"height",{get:function(){return(V[x].mediaBox.topRightY-V[x].mediaBox.bottomLeftY)/_},set:function(t){V[x].mediaBox.topRightY=t*_+V[x].mediaBox.bottomLeftY},enumerable:!0,configurable:!0}),function(t){for(var e=0,n=M.length;e<n;e++){var r=yt(t[e][0],t[e][1],t[e][2],M[e][3],!0);K[r]=!0;var i=t[e][0].split("-");mt(r,i[0],i[1]||"")}it.publish("addFonts",{fonts:rt,dictionary:H})}(M),$="F1",bt(i,t),it.publish("initialized"),l}return ae.API={events:[]},ae.version="1.5.3","function"==typeof define&&define.amd?define("jsPDF",function(){return ae}):"undefined"!=typeof module&&module.exports?(module.exports=ae,module.exports.jsPDF=ae):ie.jsPDF=ae,ae}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());
/**
   * @license
   * Copyright (c) 2016 Alexander Weidt,
   * https://github.com/BiggA94
   * 
   * Licensed under the MIT License. http://opensource.org/licenses/mit-license
   */
(function(t,e){var A,n=1,S=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},y=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(2)},s=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(5)};t.__acroform__={};var r=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},v=function(t){return t*n},w=function(t){return t/n},l=function(t){var e=new j,n=Y.internal.getHeight(t)||0,r=Y.internal.getWidth(t)||0;return e.BBox=[0,0,Number(_(r)),Number(_(n))],e},i=t.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},o=t.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},a=t.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(t&1<<e)?0:1},b=t.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return a(t,e-1)},x=t.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return i(t,e-1)},N=t.__acroform__.clearBitForPdf=function(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return o(t,e-1)},c=t.__acroform__.calculateCoordinates=function(t){var e=this.internal.getHorizontalCoordinate,n=this.internal.getVerticalCoordinate,r=t[0],i=t[1],o=t[2],a=t[3],s={};return s.lowerLeft_X=e(r)||0,s.lowerLeft_Y=n(i+a)||0,s.upperRight_X=e(r+o)||0,s.upperRight_Y=n(i)||0,[Number(_(s.lowerLeft_X)),Number(_(s.lowerLeft_Y)),Number(_(s.upperRight_X)),Number(_(s.upperRight_Y))]},f=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t.V||t.DV,r=h(t,n),i=A.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(A.__private__.encodeColorString(t.color)),e.push("/"+i+" "+_(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=new l(t);return o.stream=e.join("\n"),o}},h=function(i,t){var e=i.maxFontSize||12,n=(i.fontName,{text:"",fontSize:""}),o=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" "),r=(A.__private__.encodeColorString(i.color),e),a=Y.internal.getHeight(i)||0;a=a<0?-a:a;var s=Y.internal.getWidth(i)||0;s=s<0?-s:s;var l=function(t,e,n){if(t+1<o.length){var r=e+" "+o[t+1];return F(r,i,n).width<=s-4}return!1};r++;t:for(;;){t="";var h=F("3",i,--r).height,u=i.multiline?a-r:(a-h)/2,c=-2,f=u+=2,p=0,d=0,g=0;if(r<=0){t="(...) Tj\n",t+="% Width of Text: "+F(t,i,r=12).width+", FieldWidth:"+s+"\n";break}g=F(o[0]+" ",i,r).width;var m="",y=0;for(var v in o)if(o.hasOwnProperty(v)){m=" "==(m+=o[v]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var w=parseInt(v);g=F(m+" ",i,r).width;var b=l(w,m,r),x=v>=o.length-1;if(b&&!x){m+=" ";continue}if(b||x){if(x)d=w;else if(i.multiline&&a<(h+2)*(y+2)+2)continue t}else{if(!i.multiline)continue t;if(a<(h+2)*(y+2)+2)continue t;d=w}for(var N="",L=p;L<=d;L++)N+=o[L]+" ";switch(N=" "==N.substr(N.length-1)?N.substr(0,N.length-1):N,g=F(N,i,r).width,i.textAlign){case"right":c=s-g-2;break;case"center":c=(s-g)/2;break;case"left":default:c=2}t+=_(c)+" "+_(f)+" Td\n",t+="("+S(N)+") Tj\n",t+=-_(c)+" 0 Td\n",f=-(r+2),g=0,p=d+1,y++,m=""}else;break}return n.text=t,n.fontSize=r,n},F=function(t,e,n){var r=A.internal.getFont(e.fontName,e.fontStyle),i=A.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:A.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},u={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},p=function(){A.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=A.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.objId=void 0,n.hasAnnotation&&d.call(A,n)}},d=function(t){var e={type:"reference",object:t};void 0===A.internal.getPageInfo(t.page).pageContext.annotations.find(function(t){return t.type===e.type&&t.object===e.object})&&A.internal.getPageInfo(t.page).pageContext.annotations.push(e)},g=function(){if(void 0===A.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");A.internal.write("/AcroForm "+A.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")},m=function(){A.internal.events.unsubscribe(A.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete A.internal.acroformPlugin.acroFormDictionaryRoot._eventID,A.internal.acroformPlugin.printedOut=!0},L=function(t){var e=!t;t||(A.internal.newObjectDeferredBegin(A.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),A.internal.acroformPlugin.acroFormDictionaryRoot.putStream());t=t||A.internal.acroformPlugin.acroFormDictionaryRoot.Kids;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],i=[],o=r.Rect;if(r.Rect&&(r.Rect=c.call(this,r.Rect)),A.internal.newObjectDeferredBegin(r.objId,!0),r.DA=Y.createDefaultAppearanceStream(r),"object"===se(r)&&"function"==typeof r.getKeyValueListForStream&&(i=r.getKeyValueListForStream()),r.Rect=o,r.hasAppearanceStream&&!r.appearanceStreamContent){var a=f.call(this,r);i.push({key:"AP",value:"<</N "+a+">>"}),A.internal.acroformPlugin.xForms.push(a)}if(r.appearanceStreamContent){var s="";for(var l in r.appearanceStreamContent)if(r.appearanceStreamContent.hasOwnProperty(l)){var h=r.appearanceStreamContent[l];if(s+="/"+l+" ",s+="<<",1<=Object.keys(h).length||Array.isArray(h))for(var n in h){var u;if(h.hasOwnProperty(n))"function"==typeof(u=h[n])&&(u=u.call(this,r)),s+="/"+n+" "+u+" ",0<=A.internal.acroformPlugin.xForms.indexOf(u)||A.internal.acroformPlugin.xForms.push(u)}else"function"==typeof(u=h)&&(u=u.call(this,r)),s+="/"+n+" "+u,0<=A.internal.acroformPlugin.xForms.indexOf(u)||A.internal.acroformPlugin.xForms.push(u);s+=">>"}i.push({key:"AP",value:"<<\n"+s+">>"})}A.internal.putStream({additionalKeyValues:i}),A.internal.out("endobj")}e&&P.call(this,A.internal.acroformPlugin.xForms)},P=function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=e,r=t[e];A.internal.newObjectDeferredBegin(r&&r.objId,!0),"object"===se(r)&&"function"==typeof r.putStream&&r.putStream(),delete t[n]}},k=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||!1===this.internal.acroformPlugin.isInitialized)){if(A=this,M.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(u)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");n=A.internal.scaleFactor,A.internal.acroformPlugin.acroFormDictionaryRoot=new E,A.internal.acroformPlugin.acroFormDictionaryRoot._eventID=A.internal.events.subscribe("postPutResources",m),A.internal.events.subscribe("buildDocument",p),A.internal.events.subscribe("putCatalog",g),A.internal.events.subscribe("postPutPages",L),A.internal.acroformPlugin.isInitialized=!0}},I=t.__acroform__.arrayToPdfArray=function(t){if(Array.isArray(t)){for(var e="[",n=0;n<t.length;n++)switch(0!==n&&(e+=" "),se(t[n])){case"boolean":case"number":case"object":e+=t[n].toString();break;case"string":"/"!==t[n].substr(0,1)?e+="("+S(t[n].toString())+")":e+=t[n].toString()}return e+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")};var C=function(t){return(t=t||"").toString(),t="("+S(t)+")"},B=function(){var e;Object.defineProperty(this,"objId",{configurable:!0,get:function(){if(e||(e=A.internal.newObjectDeferred()),!e)throw new Error("AcroFormPDFObject: Couldn't create Object ID");return e},set:function(t){e=t}})};B.prototype.toString=function(){return this.objId+" 0 R"},B.prototype.putStream=function(){var t=this.getKeyValueListForStream();A.internal.putStream({data:this.stream,additionalKeyValues:t}),A.internal.out("endobj")},B.prototype.getKeyValueListForStream=function(){return function(t){var e=[],n=Object.getOwnPropertyNames(t).filter(function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"_"!=t.substring(0,1)});for(var r in n)if(!1===Object.getOwnPropertyDescriptor(t,n[r]).configurable){var i=n[r],o=t[i];o&&(Array.isArray(o)?e.push({key:i,value:I(o)}):o instanceof B?e.push({key:i,value:o.objId+" 0 R"}):"function"!=typeof o&&e.push({key:i,value:o}))}return e}(this)};var j=function(){B.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writeable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writeable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writeable:!0});var e,n=[];Object.defineProperty(this,"BBox",{configurable:!1,writeable:!0,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writeable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};r(j,B);var E=function(){B.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return 0<t.length?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e)return"("+e+")"},set:function(t){e=t}})};r(E,B);var M=function t(){B.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(e,3))},set:function(t){!0===Boolean(t)?this.F=x(e,3):this.F=N(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');n=t}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(t){r=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:w(r[0])},set:function(t){r[0]=v(t)}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:w(r[1])},set:function(t){r[1]=v(t)}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:w(r[2])},set:function(t){r[2]=v(t)}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:w(r[3])},set:function(t){r[3]=v(t)}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof H)return;o="FieldObject"+t.FieldNum++}return"("+S(o)+")"},set:function(t){o=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(t){o=t}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(t){a=t}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){s=t}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return w(l)},set:function(t){l=v(t)}});var h=50;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return w(h)},set:function(t){h=v(t)}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(t){u=t}});var c="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!c||this instanceof H||this instanceof V))return C(c)},set:function(t){t=t.toString(),c=t}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof D==!1?C(f):f},set:function(t){t=t.toString(),f=this instanceof D==!1?"("===t.substr(0,1)?y(t.substr(1,t.length-2)):y(t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof D==!0?y(f.substr(1,f.length-1)):f},set:function(t){t=t.toString(),f=this instanceof D==!0?"/"+t:t}});var p=null;Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof D==!1?C(p):p},set:function(t){t=t.toString(),p=this instanceof D==!1?"("===t.substr(0,1)?y(t.substr(1,t.length-2)):y(t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof D==!0?y(p.substr(1,p.length-1)):p},set:function(t){t=t.toString(),p=this instanceof D==!0?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var d,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return g},set:function(t){t=Boolean(t),g=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writeable:!0,get:function(){if(d)return d},set:function(t){d=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,1))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,1):this.Ff=N(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,2))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,2):this.Ff=N(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,3))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,3):this.Ff=N(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');m=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t="left";switch(m){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:m=2;break;case"center":case 1:m=1;break;case"left":case 0:default:m=0}}})};r(M,B);var O=function(){M.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return I(r)},set:function(t){var e,n;n=[],"string"==typeof(e=t)&&(n=function(t,e,n){n||(n=1);for(var r,i=[];r=e.exec(t);)i.push(r[n]);return i}(e,/\((.*?)\)/g)),r=n}}),this.getOptions=function(){return r},this.setOptions=function(t){r=t,this.sort&&r.sort()},this.addOption=function(t){t=(t=t||"").toString(),r.push(t),this.sort&&r.sort()},this.removeOption=function(t,e){for(e=e||!1,t=(t=t||"").toString();-1!==r.indexOf(t)&&(r.splice(r.indexOf(t),1),!1!==e););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,18))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,18):this.Ff=N(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,19))},set:function(t){!0===this.combo&&(!0===Boolean(t)?this.Ff=x(this.Ff,19):this.Ff=N(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=x(this.Ff,20),r.sort()):this.Ff=N(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,22))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,22):this.Ff=N(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,23):this.Ff=N(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,27))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,27):this.Ff=N(this.Ff,27)}}),this.hasAppearanceStream=!1};r(O,M);var q=function(){O.call(this),this.fontName="helvetica",this.combo=!1};r(q,O);var T=function(){q.call(this),this.combo=!0};r(T,q);var R=function(){T.call(this),this.edit=!0};r(R,T);var D=function(){M.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,15))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,15):this.Ff=N(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,16))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,16):this.Ff=N(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,17))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,17):this.Ff=N(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,26):this.Ff=N(this.Ff,26)}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){if(0!==Object.keys(n).length){var t,e=[];for(t in e.push("<<"),n)e.push("/"+t+" ("+n[t]+")");return e.push(">>"),e.join("\n")}},set:function(t){"object"===se(t)&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(t){"string"==typeof t&&(n.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};r(D,M);var U=function(){D.call(this),this.pushButton=!0};r(U,D);var z=function(){D.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};r(z,D);var H=function(){var e,n;M.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(t){n=t}});var r,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t,e=[];for(t in e.push("<<"),i)e.push("/"+t+" ("+i[t]+")");return e.push(">>"),e.join("\n")},set:function(t){"object"===se(t)&&(i=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(t){"string"==typeof t&&(i.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}}),this.optionName=name,this.caption="l",this.appearanceState="Off",this._AppearanceType=Y.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(name)};r(H,M),z.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t&&"getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},z.prototype.createOption=function(t){this.Kids.length;var e=new H;return e.Parent=this,e.optionName=t,this.Kids.push(e),J.call(this,e),e};var W=function(){D.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Y.CheckBox.createAppearanceStream()};r(W,D);var V=function(){M.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,13))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,13):this.Ff=N(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,21))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,21):this.Ff=N(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,23):this.Ff=N(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,24))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,24):this.Ff=N(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,25))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,25):this.Ff=N(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,26):this.Ff=N(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};r(V,M);var G=function(){V.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,14))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,14):this.Ff=N(this.Ff,14)}}),this.password=!0};r(G,V);var Y={CheckBox:{createAppearanceStream:function(){return{N:{On:Y.CheckBox.YesNormal},D:{On:Y.CheckBox.YesPushDown,Off:Y.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=l(t),n=[],r=A.internal.getFont(t.fontName,t.fontStyle).id,i=A.__private__.encodeColorString(t.color),o=h(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+_(Y.internal.getWidth(t))+" "+_(Y.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+_(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join("\n"),e},YesNormal:function(t){var e=l(t),n=A.internal.getFont(t.fontName,t.fontStyle).id,r=A.__private__.encodeColorString(t.color),i=[],o=Y.internal.getHeight(t),a=Y.internal.getWidth(t),s=h(t,t.caption);return i.push("1 g"),i.push("0 0 "+_(a)+" "+_(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+_(a-1)+" "+_(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+_(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(t){var e=l(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+_(Y.internal.getWidth(t))+" "+_(Y.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Y.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Y.RadioButton.Circle.YesNormal,e.D[t]=Y.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=l(t),n=[],r=Y.internal.getWidth(t)<=Y.internal.getHeight(t)?Y.internal.getWidth(t)/4:Y.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Y.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+s(Y.internal.getWidth(t)/2)+" "+s(Y.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=l(t),n=[],r=Y.internal.getWidth(t)<=Y.internal.getHeight(t)?Y.internal.getWidth(t)/4:Y.internal.getHeight(t)/4,i=(r=Number((.9*r).toFixed(5)),Number((2*r).toFixed(5))),o=Number((i*Y.internal.Bezier_C).toFixed(5)),a=Number((r*Y.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+s(Y.internal.getWidth(t)/2)+" "+s(Y.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+s(Y.internal.getWidth(t)/2)+" "+s(Y.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=l(t),n=[],r=Y.internal.getWidth(t)<=Y.internal.getHeight(t)?Y.internal.getWidth(t)/4:Y.internal.getHeight(t)/4,i=(r=Number((.9*r).toFixed(5)),Number((2*r).toFixed(5))),o=Number((i*Y.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+s(Y.internal.getWidth(t)/2)+" "+s(Y.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Y.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Y.RadioButton.Cross.YesNormal,e.D[t]=Y.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=l(t),n=[],r=Y.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+_(Y.internal.getWidth(t)-2)+" "+_(Y.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(_(r.x1.x)+" "+_(r.x1.y)+" m"),n.push(_(r.x2.x)+" "+_(r.x2.y)+" l"),n.push(_(r.x4.x)+" "+_(r.x4.y)+" m"),n.push(_(r.x3.x)+" "+_(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=l(t),n=Y.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+_(Y.internal.getWidth(t))+" "+_(Y.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+_(Y.internal.getWidth(t)-2)+" "+_(Y.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(_(n.x1.x)+" "+_(n.x1.y)+" m"),r.push(_(n.x2.x)+" "+_(n.x2.y)+" l"),r.push(_(n.x4.x)+" "+_(n.x4.y)+" m"),r.push(_(n.x3.x)+" "+_(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=l(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+_(Y.internal.getWidth(t))+" "+_(Y.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=A.internal.getFont(t.fontName,t.fontStyle).id,n=A.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Y.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Y.internal.getWidth(t),n=Y.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Y.internal.getWidth=function(t){var e=0;return"object"===se(t)&&(e=v(t.Rect[2])),e},Y.internal.getHeight=function(t){var e=0;return"object"===se(t)&&(e=v(t.Rect[3])),e};var J=t.addField=function(t){if(k.call(this),!(t instanceof M))throw new Error("Invalid argument passed to jsPDF.addField.");return function(t){A.internal.acroformPlugin.printedOut&&(A.internal.acroformPlugin.printedOut=!1,A.internal.acroformPlugin.acroFormDictionaryRoot=null),A.internal.acroformPlugin.acroFormDictionaryRoot||k.call(A),A.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t)}.call(this,t),t.page=A.internal.getCurrentPageInfo().pageNumber,this};t.addButton=function(t){if(t instanceof D==!1)throw new Error("Invalid argument passed to jsPDF.addButton.");return J.call(this,t)},t.addTextField=function(t){if(t instanceof V==!1)throw new Error("Invalid argument passed to jsPDF.addTextField.");return J.call(this,t)},t.addChoiceField=function(t){if(t instanceof O==!1)throw new Error("Invalid argument passed to jsPDF.addChoiceField.");return J.call(this,t)};"object"==se(e)&&void 0===e.ChoiceField&&void 0===e.ListBox&&void 0===e.ComboBox&&void 0===e.EditBox&&void 0===e.Button&&void 0===e.PushButton&&void 0===e.RadioButton&&void 0===e.CheckBox&&void 0===e.TextField&&void 0===e.PasswordField?(e.ChoiceField=O,e.ListBox=q,e.ComboBox=T,e.EditBox=R,e.Button=D,e.PushButton=U,e.RadioButton=z,e.CheckBox=W,e.TextField=V,e.PasswordField=G,e.AcroForm={Appearance:Y}):console.warn("AcroForm-Classes are not populated into global-namespace, because the class-Names exist already."),t.AcroFormChoiceField=O,t.AcroFormListBox=q,t.AcroFormComboBox=T,t.AcroFormEditBox=R,t.AcroFormButton=D,t.AcroFormPushButton=U,t.AcroFormRadioButton=z,t.AcroFormCheckBox=W,t.AcroFormTextField=V,t.AcroFormPasswordField=G,t.AcroFormAppearance=Y,t.AcroForm={ChoiceField:O,ListBox:q,ComboBox:T,EditBox:R,Button:D,PushButton:U,RadioButton:z,CheckBox:W,TextField:V,PasswordField:G,Appearance:Y}})((window.tmp=lt).API,"undefined"!=typeof window&&window||"undefined"!=typeof global&&global),
/** @license
   * jsPDF addImage plugin
   * Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/
   *               2013 Chris Dowling, https://github.com/gingerchris
   *               2013 Trinh Ho, https://github.com/ineedfat
   *               2013 Edwin Alejandro Perez, https://github.com/eaparango
   *               2013 Norah Smith, https://github.com/burnburnrocket
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 James Robb, https://github.com/jamesbrobb
   *
   * 
   */
function(x){var N="addImage_",l={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},h=x.getImageFileTypeByImageData=function(t,e){var n,r;e=e||"UNKNOWN";var i,o,a,s="UNKNOWN";for(a in x.isArrayBufferView(t)&&(t=x.arrayBufferToBinaryString(t)),l)for(i=l[a],n=0;n<i.length;n+=1){for(o=!0,r=0;r<i[n].length;r+=1)if(void 0!==i[n][r]&&i[n][r]!==t.charCodeAt(r)){o=!1;break}if(!0===o){s=a;break}}return"UNKNOWN"===s&&"UNKNOWN"!==e&&(console.warn('FileType of Image not recognized. Processing image as "'+e+'".'),s=e),s},n=function t(e){for(var n=this.internal.newObject(),r=this.internal.write,i=this.internal.putStream,o=(0,this.internal.getFilters)();-1!==o.indexOf("FlateEncode");)o.splice(o.indexOf("FlateEncode"),1);e.n=n;var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:e.w}),a.push({key:"Height",value:e.h}),e.cs===this.color_spaces.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+("smask"in e?n+2:n+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+e.cs}),e.cs===this.color_spaces.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:e.bpc}),"dp"in e&&a.push({key:"DecodeParms",value:"<<"+e.dp+">>"}),"trns"in e&&e.trns.constructor==Array){for(var s="",l=0,h=e.trns.length;l<h;l++)s+=e.trns[l]+" "+e.trns[l]+" ";a.push({key:"Mask",value:"["+s+"]"})}"smask"in e&&a.push({key:"SMask",value:n+1+" 0 R"});var u=void 0!==e.f?["/"+e.f]:void 0;if(i({data:e.data,additionalKeyValues:a,alreadyAppliedFilters:u}),r("endobj"),"smask"in e){var c="/Predictor "+e.p+" /Colors 1 /BitsPerComponent "+e.bpc+" /Columns "+e.w,f={w:e.w,h:e.h,cs:"DeviceGray",bpc:e.bpc,dp:c,data:e.smask};"f"in e&&(f.f=e.f),t.call(this,f)}e.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),i({data:this.arrayBufferToBinaryString(new Uint8Array(e.pal))}),r("endobj"))},L=function(){var t=this.internal.collections[N+"images"];for(var e in t)n.call(this,t[e])},A=function(){var t,e=this.internal.collections[N+"images"],n=this.internal.write;for(var r in e)n("/I"+(t=e[r]).i,t.n,"0","R")},S=function(t){return"function"==typeof x["process"+t.toUpperCase()]},_=function(t){return"object"===se(t)&&1===t.nodeType},F=function(t,e){if("IMG"===t.nodeName&&t.hasAttribute("src")){var n=""+t.getAttribute("src");if(0===n.indexOf("data:image/"))return unescape(n);var r=x.loadFile(n);if(void 0!==r)return btoa(r)}if("CANVAS"===t.nodeName){var i=t;return t.toDataURL("image/jpeg",1)}(i=document.createElement("canvas")).width=t.clientWidth||t.width,i.height=t.clientHeight||t.height;var o=i.getContext("2d");if(!o)throw"addImage requires canvas to be supported by browser.";return o.drawImage(t,0,0,i.width,i.height),i.toDataURL("png"==(""+e).toLowerCase()?"image/png":"image/jpeg")},P=function(t,e){var n;if(e)for(var r in e)if(t===e[r].alias){n=e[r];break}return n};x.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},x.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},x.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x.sHashCode=function(t){var e,n=0;if(0===(t=t||"").length)return n;for(e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return n},x.isString=function(t){return"string"==typeof t},x.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+\/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9\/][A-Za-z0-9+\/]|[A-Za-z0-9+\/]=|==$/.test(t.substr(-2))&&(e=!1),e},x.extractInfoFromBase64DataURI=function(t){return/^data:([\w]+?\/([\w]+?));\S*;*base64,(.+)$/g.exec(t)},x.extractImageFromDataUrl=function(t){var e=(t=t||"").split("base64,"),n=null;if(2===e.length){var r=/^data:(\w*\/\w*);*(charset=[\w=-]*)*;*$/.exec(e[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:e[1]})}return n},x.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},x.isArrayBuffer=function(t){return!!this.supportsArrayBuffer()&&t instanceof ArrayBuffer},x.isArrayBufferView=function(t){return!!this.supportsArrayBuffer()&&("undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array))},x.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n},x.arrayBufferToBinaryString=function(t){if("function"==typeof atob)return atob(this.arrayBufferToBase64(t))},x.arrayBufferToBase64=function(t){for(var e,n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(t),o=i.byteLength,a=o%3,s=o-a,l=0;l<s;l+=3)n+=r[(16515072&(e=i[l]<<16|i[l+1]<<8|i[l+2]))>>18]+r[(258048&e)>>12]+r[(4032&e)>>6]+r[63&e];return 1==a?n+=r[(252&(e=i[s]))>>2]+r[(3&e)<<4]+"==":2==a&&(n+=r[(64512&(e=i[s]<<8|i[s+1]))>>10]+r[(1008&e)>>4]+r[(15&e)<<2]+"="),n},x.createImageInfo=function(t,e,n,r,i,o,a,s,l,h,u,c,f){var p={alias:s,w:e,h:n,cs:r,bpc:i,i:a,data:t};return o&&(p.f=o),l&&(p.dp=l),h&&(p.trns=h),u&&(p.pal=u),c&&(p.smask=c),f&&(p.p=f),p},x.addImage=function(t,e,n,r,i,o,a,s,l){var h="";if("string"!=typeof e){var u=o;o=i,i=r,r=n,n=e,e=u}if("object"===se(t)&&!_(t)&&"imageData"in t){var c=t;t=c.imageData,e=c.format||e||"UNKNOWN",n=c.x||n||0,r=c.y||r||0,i=c.w||i,o=c.h||o,a=c.alias||a,s=c.compression||s,l=c.rotation||c.angle||l}var f=this.internal.getFilters();if(void 0===s&&-1!==f.indexOf("FlateEncode")&&(s="SLOW"),"string"==typeof t&&(t=unescape(t)),isNaN(n)||isNaN(r))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var p,d,g,m,y,v,w,b=function(){var t=this.internal.collections[N+"images"];return t||(this.internal.collections[N+"images"]=t={},this.internal.events.subscribe("putResources",L),this.internal.events.subscribe("putXobjectDict",A)),t}.call(this);if(!((p=P(t,b))||(_(t)&&(t=F(t,e)),(null==(w=a)||0===w.length)&&(a="string"==typeof(v=t)?x.sHashCode(v):x.isArrayBufferView(v)?x.sHashCode(x.arrayBufferToBinaryString(v)):null),p=P(a,b)))){if(this.isString(t)&&(""!==(h=this.convertStringToImageData(t))?t=h:void 0!==(h=x.loadFile(t))&&(t=h)),e=this.getImageFileTypeByImageData(t,e),!S(e))throw new Error("addImage does not support files of type '"+e+"', please ensure that a plugin for '"+e+"' support is added.");if(this.supportsArrayBuffer()&&(t instanceof Uint8Array||(d=t,t=this.binaryStringToUint8Array(t))),!(p=this["process"+e.toUpperCase()](t,(y=0,(m=b)&&(y=Object.keys?Object.keys(m).length:function(t){var e=0;for(var n in t)t.hasOwnProperty(n)&&e++;return e}(m)),y),a,((g=s)&&"string"==typeof g&&(g=g.toUpperCase()),g in x.image_compression?g:x.image_compression.NONE),d)))throw new Error("An unknown error occurred whilst processing the image")}return function(t,e,n,r,i,o,a,s){var l=function(t,e,n){return t||e||(e=t=-96),t<0&&(t=-1*n.w*72/t/this.internal.scaleFactor),e<0&&(e=-1*n.h*72/e/this.internal.scaleFactor),0===t&&(t=e*n.w/n.h),0===e&&(e=t*n.h/n.w),[t,e]}.call(this,n,r,i),h=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;if(n=l[0],r=l[1],a[o]=i,s){s*=Math.PI/180;var c=Math.cos(s),f=Math.sin(s),p=function(t){return t.toFixed(4)},d=[p(c),p(f),p(-1*f),p(c),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,h(t),u(e+r),"cm"].join(" ")),this.internal.write(d.join(" ")),this.internal.write([h(n),"0","0",h(r),"0","0","cm"].join(" "))):this.internal.write([h(n),"0","0",h(r),h(t),u(e+r),"cm"].join(" ")),this.internal.write("/I"+i.i+" Do"),this.internal.write("Q")}.call(this,n,r,i,o,p,p.i,b,l),this},x.convertStringToImageData=function(t){var e,n="";if(this.isString(t)){var r;e=null!==(r=this.extractImageFromDataUrl(t))?r.data:t;try{n=atob(e)}catch(t){throw x.validateStringAsBase64(e)?new Error("atob-Error in jsPDF.convertStringToImageData "+t.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertStringToImageData ")}}return n};var u=function(t,e){return t.subarray(e,e+5)};x.processJPEG=function(t,e,n,r,i,o){var a,s=this.decode.DCT_DECODE;if(!this.isString(t)&&!this.isArrayBuffer(t)&&!this.isArrayBufferView(t))return null;if(this.isString(t)&&(a=function(t){var e;if("JPEG"!==h(t))throw new Error("getJpegSize requires a binary string jpeg file");for(var n=256*t.charCodeAt(4)+t.charCodeAt(5),r=4,i=t.length;r<i;){if(r+=n,255!==t.charCodeAt(r))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(r+1)||193===t.charCodeAt(r+1)||194===t.charCodeAt(r+1)||195===t.charCodeAt(r+1)||196===t.charCodeAt(r+1)||197===t.charCodeAt(r+1)||198===t.charCodeAt(r+1)||199===t.charCodeAt(r+1))return e=256*t.charCodeAt(r+5)+t.charCodeAt(r+6),[256*t.charCodeAt(r+7)+t.charCodeAt(r+8),e,t.charCodeAt(r+9)];r+=2,n=256*t.charCodeAt(r)+t.charCodeAt(r+1)}}(t)),this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)&&(a=function(t){if(65496!=(t[0]<<8|t[1]))throw new Error("Supplied data is not a JPEG");for(var e,n=t.length,r=(t[4]<<8)+t[5],i=4;i<n;){if(r=((e=u(t,i+=r))[2]<<8)+e[3],(192===e[1]||194===e[1])&&255===e[0]&&7<r)return{width:((e=u(t,i+5))[2]<<8)+e[3],height:(e[0]<<8)+e[1],numcomponents:e[4]};i+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(t),t=i||this.arrayBufferToBinaryString(t)),void 0===o)switch(a.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;default:case 3:o=this.color_spaces.DEVICE_RGB}return this.createImageInfo(t,a.width,a.height,o,8,s,e,n)},x.processJPG=function(){return this.processJPEG.apply(this,arguments)},x.getImageProperties=function(t){var e,n,r="";if(_(t)&&(t=F(t)),this.isString(t)&&(""!==(r=this.convertStringToImageData(t))?t=r:void 0!==(r=x.loadFile(t))&&(t=r)),n=this.getImageFileTypeByImageData(t),!S(n))throw new Error("addImage does not support files of type '"+n+"', please ensure that a plugin for '"+n+"' support is added.");if(this.supportsArrayBuffer()&&(t instanceof Uint8Array||(t=this.binaryStringToUint8Array(t))),!(e=this["process"+n.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return{fileType:n,width:e.w,height:e.h,colorSpace:e.cs,compressionMode:e.f,bitsPerComponent:e.bpc}}}(lt.API),
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
t=lt.API,lt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(t){for(var e=this.internal.getPageInfoByObjId(t.objId),n=t.pageContext.annotations,r=function(t){if(void 0!==t&&""!=t)return!0},i=!1,o=0;o<n.length&&!i;o++)switch((l=n[o]).type){case"link":if(r(l.options.url)||r(l.options.pageNumber)){i=!0;break}case"reference":case"text":case"freetext":i=!0}if(0!=i){this.internal.write("/Annots ["),this.internal.pageSize.height;var a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;for(o=0;o<n.length;o++){var l;switch((l=n[o]).type){case"reference":this.internal.write(" "+l.object.objId+" 0 R ");break;case"text":var h=this.internal.newAdditionalObject(),u=this.internal.newAdditionalObject(),c=l.title||"Note";m="<</Type /Annot /Subtype /Text "+(p="/Rect ["+a(l.bounds.x)+" "+s(l.bounds.y+l.bounds.h)+" "+a(l.bounds.x+l.bounds.w)+" "+s(l.bounds.y)+"] ")+"/Contents ("+l.contents+")",m+=" /Popup "+u.objId+" 0 R",m+=" /P "+e.objId+" 0 R",m+=" /T ("+c+") >>",h.content=m;var f=h.objId+" 0 R";m="<</Type /Annot /Subtype /Popup "+(p="/Rect ["+a(l.bounds.x+30)+" "+s(l.bounds.y+l.bounds.h)+" "+a(l.bounds.x+l.bounds.w+30)+" "+s(l.bounds.y)+"] ")+" /Parent "+f,l.open&&(m+=" /Open true"),m+=" >>",u.content=m,this.internal.write(h.objId,"0 R",u.objId,"0 R");break;case"freetext":var p="/Rect ["+a(l.bounds.x)+" "+s(l.bounds.y)+" "+a(l.bounds.x+l.bounds.w)+" "+s(l.bounds.y+l.bounds.h)+"] ",d=l.color||"#000000";m="<</Type /Annot /Subtype /FreeText "+p+"/Contents ("+l.contents+")",m+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+d+")",m+=" /Border [0 0 0]",m+=" >>",this.internal.write(m);break;case"link":if(l.options.name){var g=this.annotations._nameMap[l.options.name];l.options.pageNumber=g.page,l.options.top=g.y}else l.options.top||(l.options.top=0);p="/Rect ["+a(l.x)+" "+s(l.y)+" "+a(l.x+l.w)+" "+s(l.y+l.h)+"] ";var m="";if(l.options.url)m="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /A <</S /URI /URI ("+l.options.url+") >>";else if(l.options.pageNumber)switch(m="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(l.options.pageNumber).objId+" 0 R",l.options.magFactor=l.options.magFactor||"XYZ",l.options.magFactor){case"Fit":m+=" /Fit]";break;case"FitH":m+=" /FitH "+l.options.top+"]";break;case"FitV":l.options.left=l.options.left||0,m+=" /FitV "+l.options.left+"]";break;case"XYZ":default:var y=s(l.options.top);l.options.left=l.options.left||0,void 0===l.options.zoom&&(l.options.zoom=0),m+=" /XYZ "+l.options.left+" "+y+" "+l.options.zoom+"]"}""!=m&&(m+=" >>",this.internal.write(m))}}this.internal.write("]")}}]),t.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},t.link=function(t,e,n,r,i){this.internal.getCurrentPageInfo().pageContext.annotations.push({x:t,y:e,w:n,h:r,options:i,type:"link"})},t.textWithLink=function(t,e,n,r){var i=this.getTextWidth(t),o=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(t,e,n),n+=.2*o,this.link(e,n-o,i,o,r),i},t.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor},
/**
   * @license
   * Copyright (c) 2017 Aras Abbasi 
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(t){var h={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},e={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];t.__arabicParser__={};var r=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==h[t.charCodeAt(0)]},u=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},i=t.__arabicParser__.isArabicEndLetter=function(t){return u(t)&&r(t)&&h[t.charCodeAt(0)].length<=2},o=t.__arabicParser__.isArabicAlfLetter=function(t){return u(t)&&0<=n.indexOf(t.charCodeAt(0))},s=(t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return u(t)&&r(t)&&1<=h[t.charCodeAt(0)].length},t.__arabicParser__.arabicLetterHasFinalForm=function(t){return u(t)&&r(t)&&2<=h[t.charCodeAt(0)].length}),l=(t.__arabicParser__.arabicLetterHasInitialForm=function(t){return u(t)&&r(t)&&3<=h[t.charCodeAt(0)].length},t.__arabicParser__.arabicLetterHasMedialForm=function(t){return u(t)&&r(t)&&4==h[t.charCodeAt(0)].length}),c=t.__arabicParser__.resolveLigatures=function(t){var e=0,n=a,r=0,i="",o=0;for(e=0;e<t.length;e+=1)void 0!==n[t.charCodeAt(e)]?(o++,"number"==typeof(n=n[t.charCodeAt(e)])&&(r=-1!==(r=f(t.charAt(e),t.charAt(e-o),t.charAt(e+1)))?r:0,i+=String.fromCharCode(n),n=a,o=0),e===t.length-1&&(n=a,i+=t.charAt(e-(o-1)),e-=o-1,o=0)):(n=a,i+=t.charAt(e-o),e-=o,o=0);return i},f=(t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==e[t.charCodeAt(0)]},t.__arabicParser__.getCorrectForm=function(t,e,n){return u(t)?!1===r(t)?-1:!s(t)||!u(e)&&!u(n)||!u(n)&&i(e)||i(t)&&!u(e)||i(t)&&o(e)||i(t)&&i(e)?0:l(t)&&u(e)&&!i(e)&&u(n)&&s(n)?3:i(t)||!u(n)?1:2:-1}),p=t.__arabicParser__.processArabic=t.processArabic=function(t){var e=0,n=0,r=0,i="",o="",a="",s=(t=t||"").split("\\s+"),l=[];for(e=0;e<s.length;e+=1){for(l.push(""),n=0;n<s[e].length;n+=1)i=s[e][n],o=s[e][n-1],a=s[e][n+1],u(i)?(r=f(i,o,a),l[e]+=-1!==r?String.fromCharCode(h[i.charCodeAt(0)][r]):i):l[e]+=i;l[e]=c(l[e])}return l.join(" ")};t.events.push(["preProcessText",function(t){var e=t.text,n=(t.x,t.y,t.options||{}),r=(t.mutex,n.lang,[]);if("[object Array]"===Object.prototype.toString.call(e)){var i=0;for(r=[],i=0;i<e.length;i+=1)"[object Array]"===Object.prototype.toString.call(e[i])?r.push([p(e[i][0]),e[i][1],e[i][2]]):r.push([p(e[i])]);t.text=r}else t.text=p(e)}])}(lt.API),lt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
e=lt.API,(n=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(t){n=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(t){r=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(t){i=t}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(t){o=t}}),Object.defineProperty(this,"parentNode",{get:function(){return!1}})}).prototype.getContext=function(t,e){var n;if("2d"!==(t=t||"2d"))return null;for(n in e)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=e[n]);return(this.pdf.context2d._canvas=this).pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}]),
/** 
   * @license
   * ====================================================================
   * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
   *               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
   *               2013 Lee Driscoll, https://github.com/lsdriscoll
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 James Hall, james@parall.ax
   *               2014 Diego Casorran, https://github.com/diegocr
   *
   * 
   * ====================================================================
   */
_=lt.API,F={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},P=1,p=function(t,e,n,r,i){F={x:t,y:e,w:n,h:r,ln:i}},d=function(){return F},k={left:0,top:0,bottom:0},_.setHeaderFunction=function(t){l=t},_.getTextDimensions=function(t,e){var n=this.table_font_size||this.internal.getFontSize(),r=(this.internal.getFont().fontStyle,(e=e||{}).scaleFactor||this.internal.scaleFactor),i=0,o=0,a=0;if("string"==typeof t)0!=(i=this.getStringUnitWidth(t)*n)&&(o=1);else{if("[object Array]"!==Object.prototype.toString.call(t))throw new Error("getTextDimensions expects text-parameter to be of type String or an Array of Strings.");for(var s=0;s<t.length;s++)i<(a=this.getStringUnitWidth(t[s])*n)&&(i=a);0!==i&&(o=t.length)}return{w:i/=r,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/r,0)}},_.cellAddPage=function(){var t=this.margins||k;this.addPage(),p(t.left,t.top,void 0,void 0),P+=1},_.cellInitialize=function(){F={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},P=1},_.cell=function(t,e,n,r,i,o,a){var s=d(),l=!1;if(void 0!==s.ln)if(s.ln===o)t=s.x+s.w,e=s.y;else{var h=this.margins||k;s.y+s.h+r+13>=this.internal.pageSize.getHeight()-h.bottom&&(this.cellAddPage(),l=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(o,!0)),e=d().y+d().h,l&&(e=23)}if(void 0!==i[0])if(this.printingHeaderRow?this.rect(t,e,n,r,"FD"):this.rect(t,e,n,r),"right"===a){i instanceof Array||(i=[i]);for(var u=0;u<i.length;u++){var c=i[u],f=this.getStringUnitWidth(c)*this.internal.getFontSize()/this.internal.scaleFactor;this.text(c,t+n-f-3,e+this.internal.getLineHeight()*(u+1))}}else this.text(i,t+3,e+this.internal.getLineHeight());return p(t,e,n,r,o),this},_.arrayMax=function(t,e){var n,r,i,o=t[0];for(n=0,r=t.length;n<r;n+=1)i=t[n],e?-1===e(o,i)&&(o=i):o<i&&(o=i);return o},_.table=function(t,e,n,r,i){if(!n)throw"No data for PDF table";var o,a,s,l,h,u,c,f,p,d,g=[],m=[],y={},v={},w=[],b=[],x=!1,N=!0,L=12,A=k;if(A.width=this.internal.pageSize.getWidth(),i&&(!0===i.autoSize&&(x=!0),!1===i.printHeaders&&(N=!1),i.fontSize&&(L=i.fontSize),i.css&&void 0!==i.css["font-size"]&&(L=16*i.css["font-size"]),i.margins&&(A=i.margins)),this.lnMod=0,F={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},P=1,this.printHeaders=N,this.margins=A,this.setFontSize(L),this.table_font_size=L,null==r)g=Object.keys(n[0]);else if(r[0]&&"string"!=typeof r[0])for(a=0,s=r.length;a<s;a+=1)o=r[a],g.push(o.name),m.push(o.prompt),v[o.name]=o.width*(19.049976/25.4);else g=r;if(x)for(d=function(t){return t[o]},a=0,s=g.length;a<s;a+=1){for(y[o=g[a]]=n.map(d),w.push(this.getTextDimensions(m[a]||o,{scaleFactor:1}).w),c=0,l=(u=y[o]).length;c<l;c+=1)h=u[c],w.push(this.getTextDimensions(h,{scaleFactor:1}).w);v[o]=_.arrayMax(w),w=[]}if(N){var S=this.calculateLineHeight(g,v,m.length?m:g);for(a=0,s=g.length;a<s;a+=1)o=g[a],b.push([t,e,v[o],S,String(m.length?m[a]:o)]);this.setTableHeaderRow(b),this.printHeaderRow(1,!1)}for(a=0,s=n.length;a<s;a+=1)for(f=n[a],S=this.calculateLineHeight(g,v,f),c=0,p=g.length;c<p;c+=1)o=g[c],this.cell(t,e,v[o],S,f[o],a+2,o.align);return this.lastCellPos=F,this.table_x=t,this.table_y=e,this},_.calculateLineHeight=function(t,e,n){for(var r,i=0,o=0;o<t.length;o++){n[r=t[o]]=this.splitTextToSize(String(n[r]),e[r]-3);var a=this.internal.getLineHeight()*n[r].length+3;i<a&&(i=a)}return i},_.setTableHeaderRow=function(t){this.tableHeaderRow=t},_.printHeaderRow=function(t,e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var n,r,i,o;if(this.printingHeaderRow=!0,void 0!==l){var a=l(this,P);p(a[0],a[1],a[2],a[3],-1)}this.setFontStyle("bold");var s=[];for(i=0,o=this.tableHeaderRow.length;i<o;i+=1)this.setFillColor(200,200,200),n=this.tableHeaderRow[i],e&&(this.margins.top=13,n[1]=this.margins&&this.margins.top||0,s.push(n)),r=[].concat(n),this.cell.apply(this,r.concat(t));0<s.length&&this.setTableHeaderRow(s),this.setFontStyle("normal"),this.printingHeaderRow=!1},
/**
   * jsPDF Context2D PlugIn Copyright (c) 2014 Steven Spungin (TwelveTone LLC) steven@twelvetone.tv
   *
   * Licensed under the MIT License. http://opensource.org/licenses/mit-license
   */
function(t,e){var l,i,o,h,u,c=function(t){return t=t||{},this.isStrokeTransparent=t.isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new M,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new j,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new j,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new n(this),l=this.internal.f2,this.internal.f3,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,h=this.internal.getHorizontalCoordinate,u=this.internal.getVerticalCoordinate}]);var n=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,"pdf",{get:function(){return t}});var e=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return e},set:function(t){e=Boolean(t)}});var n=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n},set:function(t){n=Boolean(t)}});var r=0;Object.defineProperty(this,"posX",{get:function(){return r},set:function(t){isNaN(t)||(r=t)}});var i=0;Object.defineProperty(this,"posY",{get:function(){return i},set:function(t){isNaN(t)||(i=t)}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(t){o=Boolean(t)}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(t){a=t}});var s=[];Object.defineProperty(this,"pageBreaks",{get:function(){return s},set:function(t){s=t}});var l=new c;Object.defineProperty(this,"ctx",{get:function(){return l},set:function(t){t instanceof c&&(l=t)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(t){l.path=t}});var h=[];Object.defineProperty(this,"ctxStack",{get:function(){return h},set:function(t){h=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=f(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=f(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):(e.a,this.pdf.setDrawColor(e.r,e.g,e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))){var n=e[1],r=(e[2],e[3]),i=e[4],o=e[5],a=e[6];i="px"===o?Math.floor(parseFloat(i)):"em"===o?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)),this.pdf.setFontSize(i);var s="";("bold"===r||700<=parseInt(r,10)||"bold"===n)&&(s="bold"),"italic"===n&&(s+="italic"),0===s.length&&(s="normal");for(var l="",h=a.toLowerCase().replace(/"|'/g,"").split(/\s*,\s*/),u={arial:"Helvetica",verdana:"Helvetica",helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",courier:"Courier",times:"Times",cursive:"Times",fantasy:"Times",serif:"Times"},c=0;c<h.length;c++){if(void 0!==this.pdf.internal.getFont(h[c],s,{noFallback:!0,disableWarning:!0})){l=h[c];break}if("bolditalic"===s&&void 0!==this.pdf.internal.getFont(h[c],"bold",{noFallback:!0,disableWarning:!0}))l=h[c],s="bold";else if(void 0!==this.pdf.internal.getFont(h[c],"normal",{noFallback:!0,disableWarning:!0})){l=h[c],s="normal";break}}if(""===l)for(c=0;c<h.length;c++)if(u[h[c]]){l=u[h[c]];break}l=""===l?"Times":l,this.pdf.setFont(l,s)}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};n.prototype.fill=function(){r.call(this,"fill",!1)},n.prototype.stroke=function(){r.call(this,"stroke",!1)},n.prototype.beginPath=function(){this.path=[{type:"begin"}]},n.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new j(t,e));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new j(t,e)},n.prototype.closePath=function(){var t=new j(0,0),e=0;for(e=this.path.length-1;-1!==e;e--)if("begin"===this.path[e].type&&"object"===se(this.path[e+1])&&"number"==typeof this.path[e+1].x){t=new j(this.path[e+1].x,this.path[e+1].y),this.path.push({type:"lt",x:t.x,y:t.y});break}"object"===se(this.path[e+2])&&"number"==typeof this.path[e+2].x&&this.path.push(JSON.parse(JSON.stringify(this.path[e+2]))),this.path.push({type:"close"}),this.ctx.lastPoint=new j(t.x,t.y)},n.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new j(t,e));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new j(n.x,n.y)},n.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),r.call(this,null,!0)},n.prototype.quadraticCurveTo=function(t,e,n,r){if(isNaN(n)||isNaN(r)||isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new j(n,r)),o=this.ctx.transform.applyToPoint(new j(t,e));this.path.push({type:"qct",x1:o.x,y1:o.y,x:i.x,y:i.y}),this.ctx.lastPoint=new j(i.x,i.y)},n.prototype.bezierCurveTo=function(t,e,n,r,i,o){if(isNaN(i)||isNaN(o)||isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new j(i,o)),s=this.ctx.transform.applyToPoint(new j(t,e)),l=this.ctx.transform.applyToPoint(new j(n,r));this.path.push({type:"bct",x1:s.x,y1:s.y,x2:l.x,y2:l.y,x:a.x,y:a.y}),this.ctx.lastPoint=new j(a.x,a.y)},n.prototype.arc=function(t,e,n,r,i,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i))throw console.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new j(t,e));t=a.x,e=a.y;var s=this.ctx.transform.applyToPoint(new j(0,n)),l=this.ctx.transform.applyToPoint(new j(0,0));n=Math.sqrt(Math.pow(s.x-l.x,2)+Math.pow(s.y-l.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:n,startAngle:r,endAngle:i,counterclockwise:o})},n.prototype.arcTo=function(t,e,n,r,i){throw new Error("arcTo not implemented.")},n.prototype.rect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.lineTo(t,e),this.lineTo(t+n,e),this.lineTo(t,e)},n.prototype.fillRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!N.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},n.prototype.strokeRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");L.call(this)||(this.beginPath(),this.rect(t,e,n,r),this.stroke())},n.prototype.clearRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,n,r))},n.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},n.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},n.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(t){var e,n,r,i;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))i=r=n=e=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==o)e=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/.exec(t)))e=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=parseFloat(o[4]);else{if(i=1,"string"==typeof t&&"#"!==t.charAt(0)){var a=new RGBColor(t);t=a.ok?a.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,n=t.substring(2,3),n+=n,r=t.substring(3,4),r+=r):(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7)),e=parseInt(e,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:e,g:n,b:r,a:i,style:t}},N=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},L=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};n.prototype.fillText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw console.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!N.call(this)){n=a.call(this,n);var i=B(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;s.call(this,{text:t,x:e,y:n,scale:o,angle:i,align:this.textAlign,maxWidth:r})}},n.prototype.strokeText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw console.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!L.call(this)){r=isNaN(r)?void 0:r,n=a.call(this,n);var i=B(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;s.call(this,{text:t,x:e,y:n,scale:o,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},n.prototype.measureText=function(t){if("string"!=typeof t)throw console.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,n=this.pdf.internal.scaleFactor,r=e.internal.getFontSize(),i=e.getStringUnitWidth(t)*r/e.internal.scaleFactor;return new function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},n.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new M(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},n.prototype.rotate=function(t){if(isNaN(t))throw console.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new M(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},n.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new M(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(n)},n.prototype.transform=function(t,e,n,r,i,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o))throw console.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new M(t,e,n,r,i,o);this.ctx.transform=this.ctx.transform.multiply(a)},n.prototype.setTransform=function(t,e,n,r,i,o){t=isNaN(t)?1:t,e=isNaN(e)?0:e,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,o=isNaN(o)?0:o,this.ctx.transform=new M(t,e,n,r,i,o)},n.prototype.drawImage=function(t,e,n,r,i,o,a,s,l){var h=this.pdf.getImageProperties(t),u=1,c=1,f=1,p=1;void 0!==r&&void 0!==s&&(f=s/r,p=l/i,u=h.width/r*s/r,c=h.height/i*l/i),void 0===o&&(o=e,a=n,n=e=0),void 0!==r&&void 0===s&&(s=r,l=i),void 0===r&&void 0===s&&(s=h.width,l=h.height);var d=this.ctx.transform.decompose(),g=B(d.rotate.shx);d.scale.sx,d.scale.sy;for(var m,y=new M,v=((y=(y=(y=y.multiply(d.translate)).multiply(d.skew)).multiply(d.scale)).applyToPoint(new j(s,l)),y.applyToRectangle(new E(o-e*f,a-n*p,r*u,i*c))),w=F.call(this,v),b=[],x=0;x<w.length;x+=1)-1===b.indexOf(w[x])&&b.push(w[x]);if(b.sort(),this.autoPaging)for(var N=b[0],L=b[b.length-1],A=N;A<L+1;A++){if(this.pdf.setPage(A),0!==this.ctx.clip_path.length){var S=this.path;m=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(m,this.posX,-1*this.pdf.internal.pageSize.height*(A-1)+this.posY),k.call(this,"fill",!0),this.path=S}var _=JSON.parse(JSON.stringify(v));_=P([_],this.posX,-1*this.pdf.internal.pageSize.height*(A-1)+this.posY)[0],this.pdf.addImage(t,"jpg",_.x,_.y,_.w,_.h,null,null,g)}else this.pdf.addImage(t,"jpg",v.x,v.y,v.w,v.h,null,null,g)};var F=function(t,e,n){var r=[];switch(e=e||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height,t.type){default:case"mt":case"lt":r.push(Math.floor((t.y+this.posY)/n)+1);break;case"arc":r.push(Math.floor((t.y+this.posY-t.radius)/n)+1),r.push(Math.floor((t.y+this.posY+t.radius)/n)+1);break;case"qct":var i=w(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);r.push(Math.floor(i.y/n)+1),r.push(Math.floor((i.y+i.h)/n)+1);break;case"bct":var o=b(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);r.push(Math.floor(o.y/n)+1),r.push(Math.floor((o.y+o.h)/n)+1);break;case"rect":r.push(Math.floor((t.y+this.posY)/n)+1),r.push(Math.floor((t.y+t.h+this.posY)/n)+1)}for(var a=0;a<r.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<r[a];)v.call(this);return r},v=function(){var t=this.fillStyle,e=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=o},P=function(t,e,n){for(var r=0;r<t.length;r++)switch(t[r].type){case"bct":t[r].x2+=e,t[r].y2+=n;case"qct":t[r].x1+=e,t[r].y1+=n;case"mt":case"lt":case"arc":default:t[r].x+=e,t[r].y+=n}return t},r=function(t,e){for(var n,r,i=this.fillStyle,o=this.strokeStyle,a=(this.font,this.lineCap),s=this.lineWidth,l=this.lineJoin,h=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),c=[],f=0;f<u.length;f++)if(void 0!==u[f].x)for(var p=F.call(this,u[f]),d=0;d<p.length;d+=1)-1===c.indexOf(p[d])&&c.push(p[d]);for(f=0;f<c.length;f++)for(;this.pdf.internal.getNumberOfPages()<c[f];)v.call(this);if(c.sort(),this.autoPaging){var g=c[0],m=c[c.length-1];for(f=g;f<m+1;f++){if(this.pdf.setPage(f),this.fillStyle=i,this.strokeStyle=o,this.lineCap=a,this.lineWidth=s,this.lineJoin=l,0!==this.ctx.clip_path.length){var y=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(n,this.posX,-1*this.pdf.internal.pageSize.height*(f-1)+this.posY),k.call(this,t,!0),this.path=y}r=JSON.parse(JSON.stringify(h)),this.path=P(r,this.posX,-1*this.pdf.internal.pageSize.height*(f-1)+this.posY),!1!==e&&0!==f||k.call(this,t,e)}}else k.call(this,t,e);this.path=h},k=function(t,e){if(("stroke"!==t||e||!L.call(this))&&("stroke"===t||e||!N.call(this))){var n=[];this.ctx.globalAlpha;this.ctx.fillOpacity<1&&this.ctx.fillOpacity;for(var r,i=this.path,o=0;o<i.length;o++){var a=i[o];switch(a.type){case"begin":n.push({begin:!0});break;case"close":n.push({close:!0});break;case"mt":n.push({start:a,deltas:[],abs:[]});break;case"lt":var s=n.length;if(!isNaN(i[o-1].x)){var l=[a.x-i[o-1].x,a.y-i[o-1].y];if(0<s)for(;0<=s;s--)if(!0!==n[s-1].close&&!0!==n[s-1].begin){n[s-1].deltas.push(l),n[s-1].abs.push(a);break}}break;case"bct":l=[a.x1-i[o-1].x,a.y1-i[o-1].y,a.x2-i[o-1].x,a.y2-i[o-1].y,a.x-i[o-1].x,a.y-i[o-1].y];n[n.length-1].deltas.push(l);break;case"qct":var h=i[o-1].x+2/3*(a.x1-i[o-1].x),u=i[o-1].y+2/3*(a.y1-i[o-1].y),c=a.x+2/3*(a.x1-a.x),f=a.y+2/3*(a.y1-a.y),p=a.x,d=a.y;l=[h-i[o-1].x,u-i[o-1].y,c-i[o-1].x,f-i[o-1].y,p-i[o-1].x,d-i[o-1].y];n[n.length-1].deltas.push(l);break;case"arc":n.push({deltas:[],abs:[],arc:!0}),Array.isArray(n[n.length-1].abs)&&n[n.length-1].abs.push(a)}}r=e?null:"stroke"===t?"stroke":"fill";for(o=0;o<n.length;o++){if(n[o].arc)for(var g=n[o].abs,m=0;m<g.length;m++){var y=g[m];if(void 0!==y.startAngle){var v=B(y.startAngle),w=B(y.endAngle),b=y.x,x=y.y;A.call(this,b,x,y.radius,v,w,y.counterclockwise,r,e)}else I.call(this,y.x,y.y)}if(!n[o].arc&&!0!==n[o].close&&!0!==n[o].begin){b=n[o].start.x,x=n[o].start.y;C.call(this,n[o].deltas,b,x,null,null)}}r&&S.call(this,r),e&&_.call(this)}},a=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-n;case"top":return t+e-n;case"hanging":return t+e-2*n;case"middle":return t+e/2-n;case"ideographic":return t;case"alphabetic":default:return t}};n.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},n.prototype.createPattern=function(){return this.createLinearGradient()},n.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(t,e,n,r,i,o,a,s){this.pdf.internal.scaleFactor;for(var l=y(r),h=y(i),u=g.call(this,n,l,h,o),c=0;c<u.length;c++){var f=u[c];0===c&&p.call(this,f.x1+t,f.y1+e),d.call(this,t,e,f.x2,f.y2,f.x3,f.y3,f.x4,f.y4)}s?_.call(this):S.call(this,a)},S=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},_=function(){this.pdf.clip()},p=function(t,e){this.pdf.internal.out(i(t)+" "+o(e)+" m")},s=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;case"left":case"start":default:e="left"}var n=this.ctx.transform.applyToPoint(new j(t.x,t.y)),r=this.ctx.transform.decompose(),i=new M;i=(i=(i=i.multiply(r.translate)).multiply(r.skew)).multiply(r.scale);for(var o,a=this.pdf.getTextDimensions(t.text),s=this.ctx.transform.applyToRectangle(new E(t.x,t.y,a.w,a.h)),l=i.applyToRectangle(new E(t.x,t.y-a.h,a.w,a.h)),h=F.call(this,l),u=[],c=0;c<h.length;c+=1)-1===u.indexOf(h[c])&&u.push(h[c]);if(u.sort(),!0===this.autoPaging)for(var f=u[0],p=u[u.length-1],d=f;d<p+1;d++){if(this.pdf.setPage(d),0!==this.ctx.clip_path.length){var g=this.path;o=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(o,this.posX,-1*this.pdf.internal.pageSize.height*(d-1)+this.posY),k.call(this,"fill",!0),this.path=g}var m=JSON.parse(JSON.stringify(s));if(m=P([m],this.posX,-1*this.pdf.internal.pageSize.height*(d-1)+this.posY)[0],.01<=t.scale){var y=this.pdf.internal.getFontSize();this.pdf.setFontSize(y*t.scale)}this.pdf.text(t.text,m.x,m.y,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),.01<=t.scale&&this.pdf.setFontSize(y)}else{if(.01<=t.scale){y=this.pdf.internal.getFontSize();this.pdf.setFontSize(y*t.scale)}this.pdf.text(t.text,n.x+this.posX,n.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),.01<=t.scale&&this.pdf.setFontSize(y)}},I=function(t,e,n,r){n=n||0,r=r||0,this.pdf.internal.out(i(t+n)+" "+o(e+r)+" l")},C=function(t,e,n){return this.pdf.lines(t,e,n,null,null)},d=function(t,e,n,r,i,o,a,s){this.pdf.internal.out([l(h(n+t)),l(u(r+e)),l(h(i+t)),l(u(o+e)),l(h(a+t)),l(u(s+e)),"c"].join(" "))},g=function(t,e,n,r){var i=2*Math.PI,o=e;(o<i||i<o)&&(o%=i);var a=n;(a<i||i<a)&&(a%=i);for(var s=[],l=Math.PI/2,h=r?-1:1,u=e,c=Math.min(i,Math.abs(a-o));1e-5<c;){var f=u+h*Math.min(c,l);s.push(m.call(this,t,u,f)),c-=Math.abs(f-u),u=f}return s},m=function(t,e,n){var r=(n-e)/2,i=t*Math.cos(r),o=t*Math.sin(r),a=i,s=-o,l=a*a+s*s,h=l+a*i+s*o,u=4/3*(Math.sqrt(2*l*h)-h)/(a*o-s*i),c=a-u*s,f=s+u*a,p=c,d=-f,g=r+e,m=Math.cos(g),y=Math.sin(g);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:c*m-f*y,y2:c*y+f*m,x3:p*m-d*y,y3:p*y+d*m,x4:t*Math.cos(n),y4:t*Math.sin(n)}},B=function(t){return 180*t/Math.PI},y=function(t){return t*Math.PI/180},w=function(t,e,n,r,i,o){var a=t+.5*(n-t),s=e+.5*(r-e),l=i+.5*(n-i),h=o+.5*(r-o),u=Math.min(t,i,a,l),c=Math.max(t,i,a,l),f=Math.min(e,o,s,h),p=Math.max(e,o,s,h);return new E(u,f,c-u,p-f)},b=function(t,e,n,r,i,o,a,s){for(var l,h,u,c,f,p,d,g,m,y,v,w,b,x=n-t,N=r-e,L=i-n,A=o-r,S=a-i,_=s-o,F=0;F<41;F++)g=(p=(h=t+(l=F/40)*x)+l*((c=n+l*L)-h))+l*(c+l*(i+l*S-c)-p),m=(d=(u=e+l*N)+l*((f=r+l*A)-u))+l*(f+l*(o+l*_-f)-d),b=0==F?(w=y=g,v=m):(y=Math.min(y,g),v=Math.min(v,m),w=Math.max(w,g),Math.max(b,m));return new E(Math.round(y),Math.round(v),Math.round(w-y),Math.round(b-v))},j=function(t,e){var n=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var r=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(t){i=t.toString()}}),this},E=function(t,e,n,r){j.call(this,t,e),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}});var o=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(t){isNaN(t)||(o=parseFloat(t))}}),this},M=function(t,e,n,r,i,o){var a=[];return Object.defineProperty(this,"sx",{get:function(){return a[0]},set:function(t){a[0]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"shy",{get:function(){return a[1]},set:function(t){a[1]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"shx",{get:function(){return a[2]},set:function(t){a[2]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"sy",{get:function(){return a[3]},set:function(t){a[3]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"tx",{get:function(){return a[4]},set:function(t){a[4]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"ty",{get:function(){return a[5]},set:function(t){a[5]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(this,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(this,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(this,"isIdentity",{get:function(){return 1===this.sx&&(0===this.shy&&(0===this.shx&&(1===this.sy&&(0===this.tx&&0===this.ty))))}}),this.sx=isNaN(t)?1:t,this.shy=isNaN(e)?0:e,this.shx=isNaN(n)?0:n,this.sy=isNaN(r)?1:r,this.tx=isNaN(i)?0:i,this.ty=isNaN(o)?0:o,this};M.prototype.multiply=function(t){var e=t.sx*this.sx+t.shy*this.shx,n=t.sx*this.shy+t.shy*this.sy,r=t.shx*this.sx+t.sy*this.shx,i=t.shx*this.shy+t.sy*this.sy,o=t.tx*this.sx+t.ty*this.shx+this.tx,a=t.tx*this.shy+t.ty*this.sy+this.ty;return new M(e,n,r,i,o,a)},M.prototype.decompose=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,a=Math.sqrt(t*t+e*e),s=(t/=a)*n+(e/=a)*r;n-=t*s,r-=e*s;var l=Math.sqrt(n*n+r*r);return s/=l,t*(r/=l)<e*(n/=l)&&(t=-t,e=-e,s=-s,a=-a),{scale:new M(a,0,0,l,0,0),translate:new M(1,0,0,1,i,o),rotate:new M(t,e,-e,t,0,0),skew:new M(1,0,s,1,0,0)}},M.prototype.applyToPoint=function(t){var e=t.x*this.sx+t.y*this.shx+this.tx,n=t.x*this.shy+t.y*this.sy+this.ty;return new j(e,n)},M.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),n=this.applyToPoint(new j(t.x+t.w,t.y+t.h));return new E(e.x,e.y,n.x-e.x,n.y-e.y)},M.prototype.clone=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty;return new M(t,e,n,r,i,o)}}(lt.API,"undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),
/**
   * jsPDF filters PlugIn
   * Copyright (c) 2014 Aras Abbasi 
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
a=lt.API,o=function(t){var r,e,n,i,o,a,s,l,h,u;for(/[^\x00-\xFF]/.test(t),e=[],n=0,i=(t+=r="\0\0\0\0".slice(t.length%4||4)).length;n<i;n+=4)0!==(o=(t.charCodeAt(n)<<24)+(t.charCodeAt(n+1)<<16)+(t.charCodeAt(n+2)<<8)+t.charCodeAt(n+3))?(a=(o=((o=((o=((o=(o-(u=o%85))/85)-(h=o%85))/85)-(l=o%85))/85)-(s=o%85))/85)%85,e.push(a+33,s+33,l+33,h+33,u+33)):e.push(122);return function(t,e){for(var n=r.length;0<n;n--)t.pop()}(e),String.fromCharCode.apply(String,e)+"~>"},s=function(t){var r,e,n,i,o,a=String,s="length",l="charCodeAt",h="slice",u="replace";for(t[h](-2),t=t[h](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),n=[],i=0,o=(t+=r="uuuuu"[h](t[s]%5||5))[s];i<o;i+=5)e=52200625*(t[l](i)-33)+614125*(t[l](i+1)-33)+7225*(t[l](i+2)-33)+85*(t[l](i+3)-33)+(t[l](i+4)-33),n.push(255&e>>24,255&e>>16,255&e>>8,255&e);return function(t,e){for(var n=r[s];0<n;n--)t.pop()}(n),a.fromCharCode.apply(a,n)},h=function(t){for(var e="",n=0;n<t.length;n+=1)e+=("0"+t.charCodeAt(n).toString(16)).slice(-2);return e+=">"},u=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var n="",r=0;r<t.length;r+=2)n+=String.fromCharCode("0x"+(t[r]+t[r+1]));return n},c=function(t,e){e=Object.assign({predictor:1,colors:1,bitsPerComponent:8,columns:1},e);for(var n,r,i=[],o=t.length;o--;)i[o]=t.charCodeAt(o);return n=a.adler32cs.from(t),(r=new Deflater(6)).append(new Uint8Array(i)),t=r.flush(),(i=new Uint8Array(t.length+6)).set(new Uint8Array([120,156])),i.set(t,2),i.set(new Uint8Array([255&n,n>>8&255,n>>16&255,n>>24&255]),t.length+2),t=String.fromCharCode.apply(null,i)},a.processDataByFilters=function(t,e){var n=0,r=t||"",i=[];for("string"==typeof(e=e||[])&&(e=[e]),n=0;n<e.length;n+=1)switch(e[n]){case"ASCII85Decode":case"/ASCII85Decode":r=s(r),i.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":r=o(r),i.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":r=u(r),i.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":r=h(r),i.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":r=c(r),i.push("/FlateDecode");break;default:throw'The filter: "'+e[n]+'" is not implemented'}return{data:r,reverseChain:i.reverse().join(" ")}},(
/**
   * jsPDF fileloading PlugIn
   * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
r=lt.API).loadFile=function(t,e,n){var r;e=e||!0,n=n||function(){};try{r=function(t,e,n){var r=new XMLHttpRequest,i=[],o=0,a=function(t){var e=t.length,n=String.fromCharCode;for(o=0;o<e;o+=1)i.push(n(255&t.charCodeAt(o)));return i.join("")};if(r.open("GET",t,!e),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(r.onload=function(){return a(this.responseText)}),r.send(null),200===r.status)return e?a(r.responseText):void 0;console.warn('Unable to load file "'+t+'"')}(t,e)}catch(t){r=void 0}return r},r.loadImageFile=r.loadFile,
/**
   * Copyright (c) 2018 Erik Koopmans
   * Released under the MIT License.
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
i=lt.API,f="undefined"!=typeof window&&window||"undefined"!=typeof global&&global,g=function(t){var e=se(t);return"undefined"===e?"undefined":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?"function":t&&t.constructor===Array?"array":t&&1===t.nodeType?"element":"object"===e?"object":"unknown"},m=function(t,e){var n=document.createElement(t);if(e.className&&(n.className=e.className),e.innerHTML){n.innerHTML=e.innerHTML;for(var r=n.getElementsByTagName("script"),i=r.length;0<i--;null)r[i].parentNode.removeChild(r[i])}for(var o in e.style)n.style[o]=e.style[o];return n},(((y=function t(e){var n=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),r=t.convert(Promise.resolve(),n);return r=(r=r.setProgress(1,t,1,[t])).set(e)}).prototype=Object.create(Promise.prototype)).constructor=y).convert=function(t,e){return t.__proto__=e||y.prototype,t},y.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{}}},y.prototype.from=function(t,e){return this.then(function(){switch(e=e||function(t){switch(g(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase?"canvas":"element";default:return"unknown"}}(t)){case"string":return this.set({src:m("div",{innerHTML:t})});case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}})},y.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},y.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var t={position:"relative",display:"inline-block",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:"white"},e=function t(e,n){for(var r=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(t(i,n));return 1===e.nodeType&&("CANVAS"===e.nodeName?(r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0)):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(r.value=e.value),r.addEventListener("load",function(){r.scrollTop=e.scrollTop,r.scrollLeft=e.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=m("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=m("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(m("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},y.prototype.toCanvas=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(function(){var t=Object.assign({},this.opt.html2canvas);if(delete t.onrendered,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,t)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},y.prototype.toContext2d=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(function(){var t=this.opt.jsPDF,e=Object.assign({async:!0,allowTaint:!0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete e.onrendered,t.context2d.autoPaging=!0,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,e.windowHeight=e.windowHeight||0,e.windowHeight=0==e.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):e.windowHeight,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,e)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},y.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t})},y.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},y.prototype.output=function(t,e,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},y.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(t,e)})},y.prototype.outputImg=function(t,e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}})},y.prototype.isHtml2CanvasLoaded=function(){var t=void 0!==f.html2canvas;return t||console.error("html2canvas not loaded."),t},y.prototype.save=function(t){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},y.prototype.doCallback=function(t){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},y.prototype.set=function(e){if("object"!==g(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in y.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},y.prototype.get=function(e,n){return this.then(function(){var t=e in y.template.prop?this.prop[e]:this.opt[e];return n?n(t):t})},y.prototype.setMargin=function(t){return this.then(function(){switch(g(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t}).then(this.setPageSize)},y.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then(function(){(t=t||lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t})},y.prototype.setProgress=function(t,e,n,r){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},y.prototype.updateProgress=function(t,e,n,r){return this.setProgress(t?this.progress.val+t:null,e||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},y.prototype.then=function(t,e){var n=this;return this.thenCore(t,e,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(t){return n.updateProgress(1),t})})},y.prototype.thenCore=function(t,e,n){n=n||Promise.prototype.then;var r=this;t&&(t=t.bind(r)),e&&(e=e.bind(r));var i=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:y.convert(Object.assign({},r),Promise.prototype),o=n.call(i,t,e);return y.convert(o,r.__proto__)},y.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},y.prototype.thenList=function(t){var e=this;return t.forEach(function(t){e=e.thenCore(t)}),e},y.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return y.convert(e,this)},y.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},y.prototype.error=function(t){return this.then(function(){throw new Error(t)})},y.prototype.using=y.prototype.set,y.prototype.saveAs=y.prototype.save,y.prototype.export=y.prototype.output,y.prototype.run=y.prototype.then,lt.getPageSize=function(t,e,n){if("object"===se(t)){var r=t;t=r.orientation,e=r.unit||e,n=r.format||n}e=e||"mm",n=n||"a4",t=(""+(t||"P")).toLowerCase();var i=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(e){case"pt":var a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+e}if(o.hasOwnProperty(i))var s=o[i][1]/a,l=o[i][0]/a;else try{s=n[1],l=n[0]}catch(t){throw new Error("Invalid format: "+n)}if("p"===t||"portrait"===t){if(t="p",s<l){var h=l;l=s,s=h}}else{if("l"!==t&&"landscape"!==t)throw"Invalid orientation: "+t;t="l",l<s&&(h=l,l=s,s=h)}return{width:l,height:s,unit:e,k:a}},i.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this,e.jsPDF;var n=new y(e);return e.worker?n:n.from(t).doCallback()},lt.API.addJS=function(t){return b=t,this.internal.events.subscribe("postPutResources",function(t){v=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(v+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),w=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+b+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==v&&void 0!==w&&this.internal.out("/Names <</JavaScript "+v+" 0 R>>")}),this},(
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
x=lt.API).events.push(["postPutResources",function(){var t=this,e=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var n=t.outline.render().split(/\r\n/),r=0;r<n.length;r++){var i=n[r],o=e.exec(i);if(null!=o){var a=o[1];t.internal.newObjectDeferredBegin(a,!1)}t.internal.write(i)}if(this.outline.createNamedDestinations){var s=this.internal.pages.length,l=[];for(r=0;r<s;r++){var h=t.internal.newObject();l.push(h);var u=t.internal.getPageInfo(r+1);t.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var c=t.internal.newObject();for(t.internal.write("<< /Names [ "),r=0;r<l.length;r++)t.internal.write("(page_"+(r+1)+")"+l[r]+" 0 R");t.internal.write(" ] >>","endobj"),t.internal.newObject(),t.internal.write("<< /Dests "+c+" 0 R"),t.internal.write(">>","endobj")}}]),x.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]),x.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(t,e,n){var r={title:e,options:n,children:[]};return null==t&&(t=this.root),t.children.push(r),r},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(t){t.id=a.internal.newObjectDeferred();for(var e=0;e<t.children.length;e++)this.genIds_r(t.children[e])},a.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),0<t.children.length&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},a.outline.renderItems=function(t){this.ctx.pdf.internal.getCoordinateString;for(var e=this.ctx.pdf.internal.getVerticalCoordinateString,n=0;n<t.children.length;n++){var r=t.children[n];this.objStart(r),this.line("/Title "+this.makeString(r.title)),this.line("/Parent "+this.makeRef(t)),0<n&&this.line("/Prev "+this.makeRef(t.children[n-1])),n<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[n+1])),0<r.children.length&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1])));var i=this.count=this.count_r({count:0},r);if(0<i&&this.line("/Count "+i),r.options&&r.options.pageNumber){var o=a.internal.getPageInfo(r.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+e(0)+" 0]")}this.objEnd()}for(n=0;n<t.children.length;n++)r=t.children[n],this.renderItems(r)},a.outline.line=function(t){this.ctx.val+=t+"\r\n"},a.outline.makeRef=function(t){return t.id+" 0 R"},a.outline.makeString=function(t){return"("+a.internal.pdfEscape(t)+")"},a.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},a.outline.objEnd=function(t){this.ctx.val+=">> \r\nendobj\r\n"},a.outline.count_r=function(t,e){for(var n=0;n<e.children.length;n++)t.count++,this.count_r(t,e.children[n]);return t.count}}]),
/**
   * @license
   * 
   * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
   *
   * 
   * ====================================================================
   */
I=lt.API,C=function(){var t="function"==typeof Deflater;if(!t)throw new Error("requires deflate.js for compression");return t},B=function(t,e,n,r){var i=5,o=E;switch(r){case I.image_compression.FAST:i=3,o=j;break;case I.image_compression.MEDIUM:i=6,o=M;break;case I.image_compression.SLOW:i=9,o=O}t=A(t,e,n,o);var a=new Uint8Array(N(i)),s=L(t),l=new Deflater(i),h=l.append(t),u=l.flush(),c=a.length+h.length+u.length,f=new Uint8Array(c+4);return f.set(a),f.set(h,a.length),f.set(u,a.length+h.length),f[c++]=s>>>24&255,f[c++]=s>>>16&255,f[c++]=s>>>8&255,f[c++]=255&s,I.arrayBufferToBinaryString(f)},N=function(t,e){var n=Math.LOG2E*Math.log(32768)-8<<4|8,r=n<<8;return r|=Math.min(3,(e-1&255)>>1)<<6,r|=0,[n,255&(r+=31-r%31)]},L=function(t,e){for(var n,r=1,i=0,o=t.length,a=0;0<o;){for(o-=n=e<o?e:o;i+=r+=t[a++],--n;);r%=65521,i%=65521}return(i<<16|r)>>>0},A=function(t,e,n,r){for(var i,o,a,s=t.length/e,l=new Uint8Array(t.length+s),h=T(),u=0;u<s;u++){if(a=u*e,i=t.subarray(a,a+e),r)l.set(r(i,n,o),a+u);else{for(var c=0,f=h.length,p=[];c<f;c++)p[c]=h[c](i,n,o);var d=R(p.concat());l.set(p[d],a+u)}o=i}return l},S=function(t,e,n){var r=Array.apply([],t);return r.unshift(0),r},j=function(t,e,n){var r,i=[],o=0,a=t.length;for(i[0]=1;o<a;o++)r=t[o-e]||0,i[o+1]=t[o]-r+256&255;return i},E=function(t,e,n){var r,i=[],o=0,a=t.length;for(i[0]=2;o<a;o++)r=n&&n[o]||0,i[o+1]=t[o]-r+256&255;return i},M=function(t,e,n){var r,i,o=[],a=0,s=t.length;for(o[0]=3;a<s;a++)r=t[a-e]||0,i=n&&n[a]||0,o[a+1]=t[a]+256-(r+i>>>1)&255;return o},O=function(t,e,n){var r,i,o,a,s=[],l=0,h=t.length;for(s[0]=4;l<h;l++)r=t[l-e]||0,i=n&&n[l]||0,o=n&&n[l-e]||0,a=q(r,i,o),s[l+1]=t[l]-a+256&255;return s},q=function(t,e,n){var r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),a=Math.abs(r-n);return i<=o&&i<=a?t:o<=a?e:n},T=function(){return[S,j,E,M,O]},R=function(t){for(var e,n,r,i=0,o=t.length;i<o;)((e=D(t[i].slice(1)))<n||!n)&&(n=e,r=i),i++;return r},D=function(t){for(var e=0,n=t.length,r=0;e<n;)r+=Math.abs(t[e++]);return r},I.processPNG=function(t,e,n,r,i){var o,a,s,l,h,u,c=this.color_spaces.DEVICE_RGB,f=this.decode.FLATE_DECODE,p=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if("function"!=typeof PNG||"function"!=typeof kt)throw new Error("PNG support requires png.js and zlib.js");if(t=(o=new PNG(t)).imgData,p=o.bits,c=o.colorSpace,l=o.colors,-1!==[4,6].indexOf(o.colorType)){if(8===o.bits)for(var d,g=(_=32==o.pixelBitlength?new Uint32Array(o.decodePixels().buffer):16==o.pixelBitlength?new Uint16Array(o.decodePixels().buffer):new Uint8Array(o.decodePixels().buffer)).length,m=new Uint8Array(g*o.colors),y=new Uint8Array(g),v=o.pixelBitlength-o.bits,w=0,b=0;w<g;w++){for(x=_[w],d=0;d<v;)m[b++]=x>>>d&255,d+=o.bits;y[w]=x>>>d&255}if(16===o.bits){g=(_=new Uint32Array(o.decodePixels().buffer)).length,m=new Uint8Array(g*(32/o.pixelBitlength)*o.colors),y=new Uint8Array(g*(32/o.pixelBitlength));for(var x,N=1<o.colors,L=b=w=0;w<g;)x=_[w++],m[b++]=x>>>0&255,N&&(m[b++]=x>>>16&255,x=_[w++],m[b++]=x>>>0&255),y[L++]=x>>>16&255;p=8}r!==I.image_compression.NONE&&C()?(t=B(m,o.width*o.colors,o.colors,r),u=B(y,o.width,1,r)):(t=m,u=y,f=null)}if(3===o.colorType&&(c=this.color_spaces.INDEXED,h=o.palette,o.transparency.indexed)){var A=o.transparency.indexed,S=0;for(w=0,g=A.length;w<g;++w)S+=A[w];if((S/=255)==g-1&&-1!==A.indexOf(0))s=[A.indexOf(0)];else if(S!==g){var _=o.decodePixels();for(y=new Uint8Array(_.length),w=0,g=_.length;w<g;w++)y[w]=A[_[w]];u=B(y,o.width,1)}}var F=function(t){var e;switch(t){case I.image_compression.FAST:e=11;break;case I.image_compression.MEDIUM:e=13;break;case I.image_compression.SLOW:e=14;break;default:e=12}return e}(r);return a=f===this.decode.FLATE_DECODE?"/Predictor "+F+" /Colors "+l+" /BitsPerComponent "+p+" /Columns "+o.width:"/Colors "+l+" /BitsPerComponent "+p+" /Columns "+o.width,(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(u&&this.isArrayBuffer(u)||this.isArrayBufferView(u))&&(u=this.arrayBufferToBinaryString(u)),this.createImageInfo(t,o.width,o.height,c,p,f,e,n,a,s,h,u,F)}throw new Error("Unsupported PNG image data, try using JPEG instead.")},(
/**
   * @license
   * Copyright (c) 2017 Aras Abbasi 
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
U=lt.API).processGIF89A=function(t,e,n,r,i){var o=new At(t),a=o.width,s=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var h={data:l,width:a,height:s},u=new _t(100).encode(h,100);return U.processJPEG.call(this,u,e,n,r)},U.processGIF87A=U.processGIF89A,(
/**
   * Copyright (c) 2018 Aras Abbasi 
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
z=lt.API).processBMP=function(t,e,n,r,i){var o=new Ft(t,!1),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},h=new _t(100).encode(l,100);return z.processJPEG.call(this,h,e,n,r)},lt.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},
/** @license
   * MIT license.
   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
   *               2014 Diego Casorran, https://github.com/diegocr
   *
   * 
   * ====================================================================
   */
H=lt.API,W=H.getCharWidthsArray=function(t,e){var n,r,i,o=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:o.metadata.Unicode.widths,h=l.fof?l.fof:1,u=e.kerning?e.kerning:o.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=0,p=l[0]||h,d=[];for(n=0,r=t.length;n<r;n++)i=t.charCodeAt(n),"function"==typeof o.metadata.widthOfString?d.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+s*(1e3/a)||0)/1e3):d.push((l[i]||p)/h+(u[i]&&u[i][f]||0)/c),f=i;return d},V=H.getArraySum=function(t){for(var e=t.length,n=0;e;)n+=t[--e];return n},G=H.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(t,n,i)/n:V(W.apply(this,arguments))},Y=function(t,e,n,r){for(var i=[],o=0,a=t.length,s=0;o!==a&&s+e[o]<n;)s+=e[o],o++;i.push(t.slice(0,o));var l=o;for(s=0;o!==a;)s+e[o]>r&&(i.push(t.slice(l,o)),s=0,l=o),s+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},J=function(t,e,n){n||(n={});var r,i,o,a,s,l,h=[],u=[h],c=n.textIndent||0,f=0,p=0,d=t.split(" "),g=W.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?d[0].length+2:n.lineIndent||0){var m=Array(l).join(" "),y=[];d.map(function(t){1<(t=t.split(/\s*\n/)).length?y=y.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):y.push(t[0])}),d=y,l=G.apply(this,[m,n])}for(o=0,a=d.length;o<a;o++){var v=0;if(r=d[o],l&&"\n"==r[0]&&(r=r.substr(1),v=1),i=W.apply(this,[r,n]),e<c+f+(p=V(i))||v){if(e<p){for(s=Y.apply(this,[r,i,e-(c+f),e]),h.push(s.shift()),h=[s.pop()];s.length;)u.push([s.shift()]);p=V(i.slice(r.length-(h[0]?h[0].length:0)))}else h=[r];u.push(h),c=p+l,f=g}else h.push(r),c+=f+p,f=g}if(l)var w=function(t,e){return(e?m:"")+t.join(" ")};else w=function(t){return t.join(" ")};return u.map(w)},H.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(t){var e={0:1},n={};if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var r=this.internal.getFont(t.fontName,t.fontStyle),i="Unicode";return r.metadata[i]?{widths:r.metadata[i].widths||e,kerning:r.metadata[i].kerning||n}:{font:r.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:t.split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var s,l,h=[];for(s=0,l=r.length;s<l;s++)h=h.concat(J.apply(this,[r[s],a,o]));return h},
/** @license
   jsPDF standard_fonts_metrics plugin
   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
   * MIT license.
   * 
   * ====================================================================
   */
X=lt.API,Z={codePages:["WinAnsiEncoding"],WinAnsiEncoding:(K=function(t){for(var e="klmnopqrstuvwxyz",n={},r=0;r<e.length;r++)n[e[r]]="0123456789abcdef"[r];var i,o,a,s,l,h={},u=1,c=h,f=[],p="",d="",g=t.length-1;for(r=1;r!=g;)l=t[r],r+=1,"'"==l?o=o?(s=o.join(""),i):[]:o?o.push(l):"{"==l?(f.push([c,s]),c={},s=i):"}"==l?((a=f.pop())[0][a[1]]=c,s=i,c=a[0]):"-"==l?u=-1:s===i?n.hasOwnProperty(l)?(p+=n[l],s=parseInt(p,16)*u,u=1,p=""):p+=l:n.hasOwnProperty(l)?(d+=n[l],c[s]=parseInt(d,16)*u,u=1,s=i,d=""):d+=l;return h})("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Q={Unicode:{Courier:Z,"Courier-Bold":Z,"Courier-BoldOblique":Z,"Courier-Oblique":Z,Helvetica:Z,"Helvetica-Bold":Z,"Helvetica-BoldOblique":Z,"Helvetica-Oblique":Z,"Times-Roman":Z,"Times-Bold":Z,"Times-BoldItalic":Z,"Times-Italic":Z}},$={Unicode:{"Courier-Oblique":K("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":K("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":K("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:K("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":K("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":K("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:K("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:K("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":K("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:K("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":K("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":K("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":K("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":K("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}},X.events.push(["addFont",function(t){var e,n,r,i=t.font,o="Unicode";(e=$[o][i.postScriptName])&&((n=i.metadata[o]?i.metadata[o]:i.metadata[o]={}).widths=e.widths,n.kerning=e.kerning),(r=Q[o][i.postScriptName])&&((n=i.metadata[o]?i.metadata[o]:i.metadata[o]={}).encoding=r).codePages&&r.codePages.length&&(i.encoding=r.codePages[0])}]),
/**
   * @license
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
tt=lt,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")(),tt.API.events.push(["addFont",function(t){var e=t.font,n=t.instance;if(void 0!==n&&n.existsFileInVFS(e.postScriptName)){var r=n.getFileFromVFS(e.postScriptName);if("string"!=typeof r)throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+e.postScriptName+"').");e.metadata=tt.API.TTFFont.open(e.postScriptName,e.fontName,r,e.encoding),e.metadata.Unicode=e.metadata.Unicode||{encoding:{},kerning:{},widths:[]},e.metadata.glyIdsUsed=[0]}else if(!1===e.isStandardFont)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+e.postScriptName+"').")}]),(
/** @license
   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
   * 
   * 
   * ====================================================================
   */
et=lt.API).addSvg=function(t,e,n,r,i){if(void 0===e||void 0===n)throw new Error("addSVG needs values for 'x' and 'y'");function o(t){for(var e=parseFloat(t[1]),n=parseFloat(t[2]),r=[],i=3,o=t.length;i<o;)"c"===t[i]?(r.push([parseFloat(t[i+1]),parseFloat(t[i+2]),parseFloat(t[i+3]),parseFloat(t[i+4]),parseFloat(t[i+5]),parseFloat(t[i+6])]),i+=7):"l"===t[i]?(r.push([parseFloat(t[i+1]),parseFloat(t[i+2])]),i+=3):i+=1;return[e,n,r]}var a,s,l,h,u,c,f,p,d=(h=document,p=h.createElement("iframe"),u=".jsPDF_sillysvg_iframe {display:none;position:absolute;}",(f=(c=h).createElement("style")).type="text/css",f.styleSheet?f.styleSheet.cssText=u:f.appendChild(c.createTextNode(u)),c.getElementsByTagName("head")[0].appendChild(f),p.name="childframe",p.setAttribute("width",0),p.setAttribute("height",0),p.setAttribute("frameborder","0"),p.setAttribute("scrolling","no"),p.setAttribute("seamless","seamless"),p.setAttribute("class","jsPDF_sillysvg_iframe"),h.body.appendChild(p),p),g=(a=t,(l=((s=d).contentWindow||s.contentDocument).document).write(a),l.close(),l.getElementsByTagName("svg")[0]),m=[1,1],y=parseFloat(g.getAttribute("width")),v=parseFloat(g.getAttribute("height"));y&&v&&(r&&i?m=[r/y,i/v]:r?m=[r/y,r/y]:i&&(m=[i/v,i/v]));var w,b,x,N,L=g.childNodes;for(w=0,b=L.length;w<b;w++)(x=L[w]).tagName&&"PATH"===x.tagName.toUpperCase()&&((N=o(x.getAttribute("d").split(" ")))[0]=N[0]*m[0]+e,N[1]=N[1]*m[1]+n,this.lines.call(this,N[2],N[0],N[1],m));return this},et.addSVG=et.addSvg,et.addSvgAsImage=function(t,e,n,r,i,o,a,s){if(isNaN(e)||isNaN(n))throw console.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw console.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var h=l.getContext("2d");return h.fillStyle="#fff",h.fillRect(0,0,l.width,l.height),canvg(l,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,a,s),this},lt.API.putTotalPages=function(t){var e,n=0;n=parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},lt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),s=[],l=0,h=0,u=0,c=!0;function f(t,e){var n,r=!1;for(n=0;n<t.length;n+=1)t[n]===e&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===t||!0===e){var p=a.length;for(u=0;u<p;u+=1)n[a[u]].value=n[a[u]].defaultValue,n[a[u]].explicitSet=!1}if("object"===se(t))for(r in t)if(i=t[r],f(a,r)&&void 0!==i){if("boolean"===n[r].type&&"boolean"==typeof i)n[r].value=i;else if("name"===n[r].type&&f(n[r].valueSet,i))n[r].value=i;else if("integer"===n[r].type&&Number.isInteger(i))n[r].value=i;else if("array"===n[r].type){for(l=0;l<i.length;l+=1)if(c=!0,1===i[l].length&&"number"==typeof i[l][0])s.push(String(i[l]-1));else if(1<i[l].length){for(h=0;h<i[l].length;h+=1)"number"!=typeof i[l][h]&&(c=!1);!0===c&&s.push([i[l][0]-1,i[l][1]-1].join(" "))}n[r].value="["+s.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var t,e=[];for(t in n)!0===n[t].explicitSet&&("name"===n[t].type?e.push("/"+t+" /"+n[t].value):e.push("/"+t+" "+n[t].value));0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},
/** ==================================================================== 
   * jsPDF XMP metadata plugin
   * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
   * 
   * 
   * ====================================================================
   */
nt=lt.API,ot=it=rt="",nt.addMetadata=function(t,e){return it=e||"http://jspdf.default.namespaceuri/",rt=t,this.internal.events.subscribe("postPutResources",function(){if(rt){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+it+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(t)),r=unescape(encodeURIComponent(rt)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),a=n.length+r.length+i.length+e.length+o.length;ot=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(e+n+r+i+o),this.internal.write("endstream"),this.internal.write("endobj")}else ot=""}),this.internal.events.subscribe("putCatalog",function(){ot&&this.internal.write("/Metadata "+ot+" 0 R")}),this},function(f,t){var e=f.API;var m=e.pdfEscape16=function(t,e){for(var n,r=e.metadata.Unicode.widths,i=["","0","00","000","0000"],o=[""],a=0,s=t.length;a<s;++a){if(n=e.metadata.characterToGlyph(t.charCodeAt(a)),e.metadata.glyIdsUsed.push(n),e.metadata.toUnicode[n]=t.charCodeAt(a),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(e.metadata.widthOfGlyph(n),10)])),"0"==n)return o.join("");n=n.toString(16),o.push(i[4-n.length],n)}return o.join("")},p=function(t){var e,n,r,i,o,a,s;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],a=0,s=(n=Object.keys(t).sort(function(t,e){return t-e})).length;a<s;a++)e=n[a],100<=r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),i=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),r.push("<"+e+"><"+i+">");return r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),o+="endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(t){!function(t,e,n,r){if(t.metadata instanceof f.API.TTFFont&&"Identity-H"===t.encoding){for(var i=t.metadata.Unicode.widths,o=t.metadata.subset.encode(t.metadata.glyIdsUsed,1),a="",s=0;s<o.length;s++)a+=String.fromCharCode(o[s]);var l=n();r({data:a,addLength1:!0}),e("endobj");var h=n();r({data:p(t.metadata.toUnicode),addLength1:!0}),e("endobj");var u=n();e("<<"),e("/Type /FontDescriptor"),e("/FontName /"+t.fontName),e("/FontFile2 "+l+" 0 R"),e("/FontBBox "+f.API.PDFObject.convert(t.metadata.bbox)),e("/Flags "+t.metadata.flags),e("/StemV "+t.metadata.stemV),e("/ItalicAngle "+t.metadata.italicAngle),e("/Ascent "+t.metadata.ascender),e("/Descent "+t.metadata.decender),e("/CapHeight "+t.metadata.capHeight),e(">>"),e("endobj");var c=n();e("<<"),e("/Type /Font"),e("/BaseFont /"+t.fontName),e("/FontDescriptor "+u+" 0 R"),e("/W "+f.API.PDFObject.convert(i)),e("/CIDToGIDMap /Identity"),e("/DW 1000"),e("/Subtype /CIDFontType2"),e("/CIDSystemInfo"),e("<<"),e("/Supplement 0"),e("/Registry (Adobe)"),e("/Ordering ("+t.encoding+")"),e(">>"),e(">>"),e("endobj"),t.objectNumber=n(),e("<<"),e("/Type /Font"),e("/Subtype /Type0"),e("/ToUnicode "+h+" 0 R"),e("/BaseFont /"+t.fontName),e("/Encoding /"+t.encoding),e("/DescendantFonts ["+c+" 0 R]"),e(">>"),e("endobj"),t.isAlreadyPutted=!0}}(t.font,t.out,t.newObject,t.putStream)}]);e.events.push(["putFont",function(t){!function(t,e,n,r){if(t.metadata instanceof f.API.TTFFont&&"WinAnsiEncoding"===t.encoding){t.metadata.Unicode.widths;for(var i=t.metadata.rawData,o="",a=0;a<i.length;a++)o+=String.fromCharCode(i[a]);var s=n();r({data:o,addLength1:!0}),e("endobj");var l=n();r({data:p(t.metadata.toUnicode),addLength1:!0}),e("endobj");var h=n();for(e("<<"),e("/Descent "+t.metadata.decender),e("/CapHeight "+t.metadata.capHeight),e("/StemV "+t.metadata.stemV),e("/Type /FontDescriptor"),e("/FontFile2 "+s+" 0 R"),e("/Flags 96"),e("/FontBBox "+f.API.PDFObject.convert(t.metadata.bbox)),e("/FontName /"+t.fontName),e("/ItalicAngle "+t.metadata.italicAngle),e("/Ascent "+t.metadata.ascender),e(">>"),e("endobj"),t.objectNumber=n(),a=0;a<t.metadata.hmtx.widths.length;a++)t.metadata.hmtx.widths[a]=parseInt(t.metadata.hmtx.widths[a]*(1e3/t.metadata.head.unitsPerEm));e("<</Subtype/TrueType/Type/Font/ToUnicode "+l+" 0 R/BaseFont/"+t.fontName+"/FontDescriptor "+h+" 0 R/Encoding/"+t.encoding+" /FirstChar 29 /LastChar 255 /Widths "+f.API.PDFObject.convert(t.metadata.hmtx.widths)+">>"),e("endobj"),t.isAlreadyPutted=!0}}(t.font,t.out,t.newObject,t.putStream)}]);var h=function(t){var e,n,r=t.text||"",i=t.x,o=t.y,a=t.options||{},s=t.mutex||{},l=s.pdfEscape,h=s.activeFontKey,u=s.fonts,c=(s.activeFontSize,""),f=0,p="",d=u[n=h].encoding;if("Identity-H"!==u[n].encoding)return{text:r,x:i,y:o,options:a,mutex:s};for(p=r,n=h,"[object Array]"===Object.prototype.toString.call(r)&&(p=r[0]),f=0;f<p.length;f+=1)u[n].metadata.hasOwnProperty("cmap")&&(e=u[n].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),e?c+=p[f]:p[f].charCodeAt(0)<256&&u[n].metadata.hasOwnProperty("Unicode")?c+=p[f]:c+="";var g="";return parseInt(n.slice(1))<14||"WinAnsiEncoding"===d?g=function(t){for(var e="",n=0;n<t.length;n++)e+=""+t.charCodeAt(n).toString(16);return e}(l(c,n)):"Identity-H"===d&&(g=m(c,u[n])),s.isHex=!0,{text:g,x:i,y:o,options:a,mutex:s}};e.events.push(["postProcessText",function(t){var e=t.text||"",n=t.x,r=t.y,i=t.options,o=t.mutex,a=(i.lang,[]),s={text:e,x:n,y:r,options:i,mutex:o};if("[object Array]"===Object.prototype.toString.call(e)){var l=0;for(l=0;l<e.length;l+=1)"[object Array]"===Object.prototype.toString.call(e[l])&&3===e[l].length?a.push([h(Object.assign({},s,{text:e[l][0]})).text,e[l][1],e[l][2]]):a.push(h(Object.assign({},s,{text:e[l]})).text);t.text=a}else t.text=h(Object.assign({},s,{text:e})).text}])}(lt,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")()),at=lt.API,st=function(t){return void 0!==t&&(void 0===t.vFS&&(t.vFS={}),!0)},at.existsFileInVFS=function(t){return!!st(this.internal)&&void 0!==this.internal.vFS[t]},at.addFileToVFS=function(t,e){return st(this.internal),this.internal.vFS[t]=e,this},at.getFileFromVFS=function(t){return st(this.internal),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null},lt.API.addHTML=function(t,d,g,s,m){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof d&&(s=d,m=g),"function"==typeof s&&(m=s,s=null),"function"!=typeof m&&(m=function(){});var e=this.internal,y=e.scaleFactor,v=e.pageSize.getWidth(),w=e.pageSize.getHeight();if((s=s||{}).onrendered=function(l){d=parseInt(d)||0,g=parseInt(g)||0;var t=s.dim||{},h=Object.assign({top:0,right:0,bottom:0,left:0,useFor:"content"},s.margin),e=t.h||Math.min(w,l.height/y),u=t.w||Math.min(v,l.width/y)-d,c=s.format||"JPEG",f=s.imageCompression||"SLOW";if(l.height>w-h.top-h.bottom&&s.pagesplit){var p=function(t,e,n,r,i){var o=document.createElement("canvas");o.height=i,o.width=r;var a=o.getContext("2d");return a.mozImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=!1,a.msImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,a.fillStyle=s.backgroundColor||"#ffffff",a.fillRect(0,0,r,i),a.drawImage(t,e,n,r,i,0,0,r,i),o},n=function(){for(var t,e,n=0,r=0,i={},o=!1;;){var a;if(r=0,i.top=0!==n?h.top:g,i.left=0!==n?h.left:d,o=(v-h.left-h.right)*y<l.width,"content"===h.useFor?0===n?(t=Math.min((v-h.left)*y,l.width),e=Math.min((w-h.top)*y,l.height-n)):(t=Math.min(v*y,l.width),e=Math.min(w*y,l.height-n),i.top=0):(t=Math.min((v-h.left-h.right)*y,l.width),e=Math.min((w-h.bottom-h.top)*y,l.height-n)),o)for(;;){"content"===h.useFor&&(0===r?t=Math.min((v-h.left)*y,l.width):(t=Math.min(v*y,l.width-r),i.left=0));var s=[a=p(l,r,n,t,e),i.left,i.top,a.width/y,a.height/y,c,null,f];if(this.addImage.apply(this,s),(r+=t)>=l.width)break;this.addPage()}else s=[a=p(l,0,n,t,e),i.left,i.top,a.width/y,a.height/y,c,null,f],this.addImage.apply(this,s);if((n+=e)>=l.height)break;this.addPage()}m(u,n,null,s)}.bind(this);if("CANVAS"===l.nodeName){var r=new Image;r.onload=n,r.src=l.toDataURL("image/png"),l=r}else n()}else{var i=Math.random().toString(35),o=[l,d,g,u,e,c,i,f];this.addImage.apply(this,o),m(u,e,i,o)}}.bind(this),"undefined"!=typeof html2canvas&&!s.rstz)return html2canvas(t,s);if("undefined"==typeof rasterizeHTML)return null;var n="drawDocument";return"string"==typeof t&&(n=/^http/.test(t)?"drawURL":"drawHTML"),s.width=s.width||v*y,rasterizeHTML[n](t,void 0,s).then(function(t){s.onrendered(t.image)},function(t){m(null,t)})},
/**
   * jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser
   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 Daniel Husar, https://github.com/danielhusar
   *               2014 Wolfgang Gassler, https://github.com/woolfg
   *               2014 Steven Spungin, https://github.com/flamenco
   *
   * @license
   * 
   * ====================================================================
   */
function(t){var P,k,i,a,s,l,h,u,I,w,f,c,p,n,C,B,d,g,m,j;P=function(){return function(t){return e.prototype=t,new e};function e(){}}(),w=function(t){var e,n,r,i,o,a,s;for(n=0,r=t.length,e=void 0,a=i=!1;!i&&n!==r;)(e=t[n]=t[n].trimLeft())&&(i=!0),n++;for(n=r-1;r&&!a&&-1!==n;)(e=t[n]=t[n].trimRight())&&(a=!0),n--;for(o=/\s+$/g,s=!0,n=0;n!==r;)"\u2028"!=t[n]&&(e=t[n].replace(/\s+/g," "),s&&(e=e.trimLeft()),e&&(s=o.test(e)),t[n]=e),n++;return t},c=function(t){var e,n,r;for(e=void 0,n=(r=t.split(",")).shift();!e&&n;)e=i[n.trim().toLowerCase()],n=r.shift();return e},p=function(t){var e;return-1<(t="auto"===t?"0px":t).indexOf("em")&&!isNaN(Number(t.replace("em","")))&&(t=18.719*Number(t.replace("em",""))+"px"),-1<t.indexOf("pt")&&!isNaN(Number(t.replace("pt","")))&&(t=1.333*Number(t.replace("pt",""))+"px"),void 0,16,(e=n[t])?e:void 0!==(e={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[t])?n[t]=e/16:(e=parseFloat(t))?n[t]=e/16:(e=t.match(/([\d\.]+)(px)/),Array.isArray(e)&&3===e.length?n[t]=parseFloat(e[1])/16:n[t]=1)},I=function(t){var e,n,r,i,o;return o=t,i=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(o,null):o.currentStyle?o.currentStyle:o.style,n=void 0,(e={})["font-family"]=c((r=function(t){return t=t.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()}),i[t]})("font-family"))||"times",e["font-style"]=a[r("font-style")]||"normal",e["text-align"]=s[r("text-align")]||"left","bold"===(n=l[r("font-weight")]||"normal")&&("normal"===e["font-style"]?e["font-style"]=n:e["font-style"]=n+e["font-style"]),e["font-size"]=p(r("font-size"))||1,e["line-height"]=p(r("line-height"))||1,e.display="inline"===r("display")?"inline":"block",n="block"===e.display,e["margin-top"]=n&&p(r("margin-top"))||0,e["margin-bottom"]=n&&p(r("margin-bottom"))||0,e["padding-top"]=n&&p(r("padding-top"))||0,e["padding-bottom"]=n&&p(r("padding-bottom"))||0,e["margin-left"]=n&&p(r("margin-left"))||0,e["margin-right"]=n&&p(r("margin-right"))||0,e["padding-left"]=n&&p(r("padding-left"))||0,e["padding-right"]=n&&p(r("padding-right"))||0,e["page-break-before"]=r("page-break-before")||"auto",e.float=h[r("cssFloat")]||"none",e.clear=u[r("clear")]||"none",e.color=r("color"),e},C=function(t,e,n){var r,i,o,a,s;if(o=!1,a=i=void 0,r=n["#"+t.id])if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;if(r=n[t.nodeName],!o&&r)if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;for(s="string"==typeof t.className?t.className.split(" "):[],i=0;i<s.length;i++)if(r=n["."+s[i]],!o&&r)if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;return o},j=function(t,e){var n,r,i,o,a,s,l,h,u;for(n=[],r=[],i=0,u=t.rows[0].cells.length,l=t.clientWidth;i<u;)h=t.rows[0].cells[i],r[i]={name:h.textContent.toLowerCase().replace(/\s+/g,""),prompt:h.textContent.replace(/\r?\n/g,""),width:h.clientWidth/l*e.pdf.internal.pageSize.getWidth()},i++;for(i=1;i<t.rows.length;){for(s=t.rows[i],a={},o=0;o<s.cells.length;)a[r[o].name]=s.cells[o].textContent.replace(/\r?\n/g,""),o++;n.push(a),i++}return{rows:n,headers:r}};var E={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},M=1;k=function(t,i,e){var n,r,o,a,s,l,h,u;for(r=t.childNodes,n=void 0,(s="block"===(o=I(t)).display)&&(i.setBlockBoundary(),i.setBlockStyle(o)),a=0,l=r.length;a<l;){if("object"===se(n=r[a])){if(i.executeWatchFunctions(n),1===n.nodeType&&"HEADER"===n.nodeName){var c=n,f=i.pdf.margins_doc.top;i.pdf.internal.events.subscribe("addPage",function(t){i.y=f,k(c,i,e),i.pdf.margins_doc.top=i.y+10,i.y+=10},!1)}if(8===n.nodeType&&"#comment"===n.nodeName)~n.textContent.indexOf("ADD_PAGE")&&(i.pdf.addPage(),i.y=i.pdf.margins_doc.top);else if(1!==n.nodeType||E[n.nodeName])if(3===n.nodeType){var p=n.nodeValue;if(n.nodeValue&&"LI"===n.parentNode.nodeName)if("OL"===n.parentNode.parentNode.nodeName)p=M+++". "+p;else{var d=o["font-size"],g=(3-.75*d)*i.pdf.internal.scaleFactor,m=.75*d*i.pdf.internal.scaleFactor,y=1.74*d/i.pdf.internal.scaleFactor;u=function(t,e){this.pdf.circle(t+g,e+m,y,"FD")}}16&n.ownerDocument.body.compareDocumentPosition(n)&&i.addText(p,o)}else"string"==typeof n&&i.addText(n,o);else{var v;if("IMG"===n.nodeName){var w=n.getAttribute("src");v=B[i.pdf.sHashCode(w)||w]}if(v){i.pdf.internal.pageSize.getHeight()-i.pdf.margins_doc.bottom<i.y+n.height&&i.y>i.pdf.margins_doc.top&&(i.pdf.addPage(),i.y=i.pdf.margins_doc.top,i.executeWatchFunctions(n));var b=I(n),x=i.x,N=12/i.pdf.internal.scaleFactor,L=(b["margin-left"]+b["padding-left"])*N,A=(b["margin-right"]+b["padding-right"])*N,S=(b["margin-top"]+b["padding-top"])*N,_=(b["margin-bottom"]+b["padding-bottom"])*N;void 0!==b.float&&"right"===b.float?x+=i.settings.width-n.width-A:x+=L,i.pdf.addImage(v,x,i.y+S,n.width,n.height),v=void 0,"right"===b.float||"left"===b.float?(i.watchFunctions.push(function(t,e,n,r){return i.y>=e?(i.x+=t,i.settings.width+=n,!0):!!(r&&1===r.nodeType&&!E[r.nodeName]&&i.x+r.width>i.pdf.margins_doc.left+i.pdf.margins_doc.width)&&(i.x+=t,i.y=e,i.settings.width+=n,!0)}.bind(this,"left"===b.float?-n.width-L-A:0,i.y+n.height+S+_,n.width)),i.watchFunctions.push(function(t,e,n){return!(i.y<t&&e===i.pdf.internal.getNumberOfPages())||1===n.nodeType&&"both"===I(n).clear&&(i.y=t,!0)}.bind(this,i.y+n.height,i.pdf.internal.getNumberOfPages())),i.settings.width-=n.width+L+A,"left"===b.float&&(i.x+=n.width+L+A)):i.y+=n.height+S+_}else if("TABLE"===n.nodeName)h=j(n,i),i.y+=10,i.pdf.table(i.x,i.y,h.rows,h.headers,{autoSize:!1,printHeaders:e.printHeaders,margins:i.pdf.margins_doc,css:I(n)}),i.y=i.pdf.lastCellPos.y+i.pdf.lastCellPos.h+20;else if("OL"===n.nodeName||"UL"===n.nodeName)M=1,C(n,i,e)||k(n,i,e),i.y+=10;else if("LI"===n.nodeName){var F=i.x;i.x+=20/i.pdf.internal.scaleFactor,i.y+=3,C(n,i,e)||k(n,i,e),i.x=F}else"BR"===n.nodeName?(i.y+=o["font-size"]*i.pdf.internal.scaleFactor,i.addText("\u2028",P(o))):C(n,i,e)||k(n,i,e)}}a++}if(e.outY=i.y,s)return i.setBlockBoundary(u)},B={},d=function(t,o,e,n){var a,r=t.getElementsByTagName("img"),i=r.length,s=0;function l(){o.pdf.internal.events.publish("imagesLoaded"),n(a)}function h(e,n,r){if(e){var i=new Image;a=++s,i.crossOrigin="",i.onerror=i.onload=function(){if(i.complete&&(0===i.src.indexOf("data:image/")&&(i.width=n||i.width||0,i.height=r||i.height||0),i.width+i.height)){var t=o.pdf.sHashCode(e)||e;B[t]=B[t]||i}--s||l()},i.src=e}}for(;i--;)h(r[i].getAttribute("src"),r[i].width,r[i].height);return s||l()},g=function(t,o,a){var s=t.getElementsByTagName("footer");if(0<s.length){s=s[0];var e=o.pdf.internal.write,n=o.y;o.pdf.internal.write=function(){},k(s,o,a);var l=Math.ceil(o.y-n)+5;o.y=n,o.pdf.internal.write=e,o.pdf.margins_doc.bottom+=l;for(var r=function(t){var e=void 0!==t?t.pageNumber:1,n=o.y;o.y=o.pdf.internal.pageSize.getHeight()-o.pdf.margins_doc.bottom,o.pdf.margins_doc.bottom-=l;for(var r=s.getElementsByTagName("span"),i=0;i<r.length;++i)-1<(" "+r[i].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(r[i].innerHTML=e),-1<(" "+r[i].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(r[i].innerHTML="###jsPDFVarTotalPages###");k(s,o,a),o.pdf.margins_doc.bottom+=l,o.y=n},i=s.getElementsByTagName("span"),h=0;h<i.length;++h)-1<(" "+i[h].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&o.pdf.internal.events.subscribe("htmlRenderingFinished",o.pdf.putTotalPages.bind(o.pdf,"###jsPDFVarTotalPages###"),!0);o.pdf.internal.events.subscribe("addPage",r,!1),r(),E.FOOTER=1}},m=function(t,e,n,r,i,o){if(!e)return!1;var a,s,l,h;"string"==typeof e||e.parentNode||(e=""+e.innerHTML),"string"==typeof e&&(a=e.replace(/<\/?script[^>]*?>/gi,""),h="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),(l=document.createElement("div")).style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",l.innerHTML='<iframe style="height:1px;width:1px" name="'+h+'" />',document.body.appendChild(l),(s=window.frames[h]).document.open(),s.document.writeln(a),s.document.close(),e=s.document.body);var u,c=new f(t,n,r,i);return d.call(this,e,c,i.elementHandlers,function(t){g(e,c,i.elementHandlers),k(e,c,i.elementHandlers),c.pdf.internal.events.publish("htmlRenderingFinished"),u=c.dispose(),"function"==typeof o?o(u):t&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),u||{x:c.x,y:c.y}},(f=function(t,e,n,r){return this.pdf=t,this.x=e,this.y=n,this.settings=r,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},f.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},f.prototype.executeWatchFunctions=function(t){var e=!1,n=[];if(0<this.watchFunctions.length){for(var r=0;r<this.watchFunctions.length;++r)!0===this.watchFunctions[r](t)?e=!0:n.push(this.watchFunctions[r]);this.watchFunctions=n}return e},f.prototype.splitFragmentsIntoLines=function(t,e){var n,r,i,o,a,s,l,h,u,c,f,p,d,g;for(12,c=this.pdf.internal.scaleFactor,o={},s=l=h=g=a=i=u=r=void 0,p=[f=[]],n=0,d=this.settings.width;t.length;)if(a=t.shift(),g=e.shift(),a)if((i=o[(r=g["font-family"])+(u=g["font-style"])])||(i=this.pdf.internal.getFont(r,u).metadata.Unicode,o[r+u]=i),h={widths:i.widths,kerning:i.kerning,fontSize:12*g["font-size"],textIndent:n},l=this.pdf.getStringUnitWidth(a,h)*h.fontSize/c,"\u2028"==a)f=[],p.push(f);else if(d<n+l){for(s=this.pdf.splitTextToSize(a,d,h),f.push([s.shift(),g]);s.length;)f=[[s.shift(),g]],p.push(f);n=this.pdf.getStringUnitWidth(f[0][0],h)*h.fontSize/c}else f.push([a,g]),n+=l;if(void 0!==g["text-align"]&&("center"===g["text-align"]||"right"===g["text-align"]||"justify"===g["text-align"]))for(var m=0;m<p.length;++m){var y=this.pdf.getStringUnitWidth(p[m][0][0],h)*h.fontSize/c;0<m&&(p[m][0][1]=P(p[m][0][1]));var v=d-y;if("right"===g["text-align"])p[m][0][1]["margin-left"]=v;else if("center"===g["text-align"])p[m][0][1]["margin-left"]=v/2;else if("justify"===g["text-align"]){var w=p[m][0][0].split(" ").length-1;p[m][0][1]["word-spacing"]=v/w,m===p.length-1&&(p[m][0][1]["word-spacing"]=0)}}return p},f.prototype.RenderTextFragment=function(t,e){var n,r;r=0,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.getPdfColor(e.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),r=Math.max(r,e["line-height"],e["font-size"]),this.pdf.internal.write(0,(-12*r).toFixed(2),"Td")),n=this.pdf.internal.getFont(e["font-family"],e["font-style"]);var i=this.getPdfColor(e.color);i!==this.lastTextColor&&(this.pdf.internal.write(i),this.lastTextColor=i),void 0!==e["word-spacing"]&&0<e["word-spacing"]&&this.pdf.internal.write(e["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+n.id,(12*e["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(t)+") Tj"),void 0!==e["word-spacing"]&&this.pdf.internal.write(0,"Tw")},f.prototype.getPdfColor=function(t){var e,n,r,i=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(t);if(null!=i)e=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]);else{if("string"==typeof t&&"#"!=t.charAt(0)){var o=new RGBColor(t);t=o.ok?o.toHex():"#000000"}e=t.substring(1,3),e=parseInt(e,16),n=t.substring(3,5),n=parseInt(n,16),r=t.substring(5,7),r=parseInt(r,16)}if("string"==typeof e&&/^#[0-9A-Fa-f]{6}$/.test(e)){var a=parseInt(e.substr(1),16);e=a>>16&255,n=a>>8&255,r=255&a}var s=this.f3;return 0===e&&0===n&&0===r||void 0===n?s(e/255)+" g":[s(e/255),s(n/255),s(r/255),"rg"].join(" ")},f.prototype.f3=function(t){return t.toFixed(3)},f.prototype.renderParagraph=function(t){var e,n,r,i,o,a,s,l,h,u,c,f,p;if(r=w(this.paragraph.text),f=this.paragraph.style,e=this.paragraph.blockstyle,this.paragraph.priorblockstyle||{},this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:e},r.join("").trim()){s=this.splitFragmentsIntoLines(r,f),l=a=void 0,n=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,c=(Math.max((e["margin-top"]||0)-this.priorMarginBottom,0)+(e["padding-top"]||0))*n,u=((e["margin-bottom"]||0)+(e["padding-bottom"]||0))*n,this.priorMarginBottom=e["margin-bottom"]||0,"always"===e["page-break-before"]&&(this.pdf.addPage(),this.y=0,c=((e["margin-top"]||0)+(e["padding-top"]||0))*n),h=this.pdf.internal.write,o=i=void 0,this.y+=c,h("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var d=0;s.length;){for(i=l=0,o=(a=s.shift()).length;i!==o;)a[i][0].trim()&&(l=Math.max(l,a[i][1]["line-height"],a[i][1]["font-size"]),p=7*a[i][1]["font-size"]),i++;var g=0,m=0;for(void 0!==a[0][1]["margin-left"]&&0<a[0][1]["margin-left"]&&(g=(m=this.pdf.internal.getCoordinateString(a[0][1]["margin-left"]))-d,d=m),h(g+Math.max(e["margin-left"]||0,0)*n,(-12*l).toFixed(2),"Td"),i=0,o=a.length;i!==o;)a[i][0]&&this.RenderTextFragment(a[i][0],a[i][1]),i++;if(this.y+=l*n,this.executeWatchFunctions(a[0][1])&&0<s.length){var y=[],v=[];s.forEach(function(t){for(var e=0,n=t.length;e!==n;)t[e][0]&&(y.push(t[e][0]+" "),v.push(t[e][1])),++e}),s=this.splitFragmentsIntoLines(w(y),v),h("ET","Q"),h("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return t&&"function"==typeof t&&t.call(this,this.x-9,this.y-p/2),h("ET","Q"),this.y+=u}},f.prototype.setBlockBoundary=function(t){return this.renderParagraph(t)},f.prototype.setBlockStyle=function(t){return this.paragraph.blockstyle=t},f.prototype.addText=function(t,e){return this.paragraph.text.push(t),this.paragraph.style.push(e)},i={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},l={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},a={normal:"normal",italic:"italic",oblique:"italic"},s={left:"left",right:"right",center:"center",justify:"justify"},h={none:"none",right:"right",left:"left"},u={none:"none",both:"both"},n={normal:1},t.fromHTML=function(t,e,n,r,i,o){return this.margins_doc=o||{top:0,bottom:0},r||(r={}),r.elementHandlers||(r.elementHandlers={}),m(this,t,isNaN(e)?4:e,isNaN(n)?4:n,r,i)}}(lt.API),lt.API,("undefined"!=typeof window&&window||"undefined"!=typeof global&&global).html2pdf=function(t,a,e){var n=a.canvas;if(n){var r,i;if((n.pdf=a).annotations={_nameMap:[],createAnnotation:function(t,e){var n,r=a.context2d._wrapX(e.left),i=a.context2d._wrapY(e.top),o=(a.context2d._page(e.top),t.indexOf("#"));n=0<=o?{name:t.substring(o+1)}:{url:t},a.link(r,i,e.right-e.left,e.bottom-e.top,n)},setName:function(t,e){var n=a.context2d._wrapX(e.left),r=a.context2d._wrapY(e.top),i=a.context2d._page(e.top);this._nameMap[t]={page:i,x:n,y:r}}},n.annotations=a.annotations,a.context2d._pageBreakAt=function(t){this.pageBreaks.push(t)},a.context2d._gotoPage=function(t){for(;a.internal.getNumberOfPages()<t;)a.addPage();a.setPage(t)},"string"==typeof t){t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");var o,s,l=document.createElement("iframe");document.body.appendChild(l),null!=(o=l.contentDocument)&&null!=o||(o=l.contentWindow.document),o.open(),o.write(t),o.close(),r=o.body,s=o.body||{},t=o.documentElement||{},i=Math.max(s.scrollHeight,s.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}else s=(r=t).body||{},i=Math.max(s.scrollHeight,s.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);var h={async:!0,allowTaint:!0,backgroundColor:"#ffffff",canvas:n,imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1,windowHeight:i=a.internal.pageSize.getHeight(),scrollY:i};a.context2d.pageWrapYEnabled=!0,a.context2d.pageWrapY=a.internal.pageSize.getHeight(),html2canvas(r,h).then(function(t){e&&(l&&l.parentElement.removeChild(l),e(a))})}else alert("jsPDF canvas plugin not installed")},window.tmp=html2pdf,function(f){var r=f.BlobBuilder||f.WebKitBlobBuilder||f.MSBlobBuilder||f.MozBlobBuilder;f.URL=f.URL||f.webkitURL||function(t,e){return(e=document.createElement("a")).href=t,e};var n=f.Blob,p=URL.createObjectURL,d=URL.revokeObjectURL,o=f.Symbol&&f.Symbol.toStringTag,t=!1,e=!1,g=!!f.ArrayBuffer,i=r&&r.prototype.append&&r.prototype.getBlob;try{t=2===new Blob(["ä"]).size,e=2===new Blob([new Uint8Array([1,2])]).size}catch(t){}function a(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t})}function s(t,e){e=e||{};var n=new r;return a(t).forEach(function(t){n.append(t)}),e.type?n.getBlob(e.type):n.getBlob()}function l(t,e){return new n(a(t),e||{})}if(f.Blob&&(s.prototype=Blob.prototype,l.prototype=Blob.prototype),o)try{File.prototype[o]="File",Blob.prototype[o]="Blob",FileReader.prototype[o]="FileReader"}catch(t){}function h(){var t=!!f.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,e=f.XMLHttpRequest&&f.XMLHttpRequest.prototype.send;t&&e&&(XMLHttpRequest.prototype.send=function(t){t instanceof Blob&&this.setRequestHeader("Content-Type",t.type),e.call(this,t)});try{new File([],"")}catch(t){try{var n=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();f.File=n}catch(t){n=function(t,e,n){var r=new Blob(t,n),i=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date;return r.name=e,r.lastModifiedDate=i,r.lastModified=+i,r.toString=function(){return"[object File]"},o&&(r[o]="File"),r};f.File=n}}}t?(h(),f.Blob=e?f.Blob:l):i?(h(),f.Blob=s):function(){function a(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e.push(r):r<2048?e.push(192|r>>6,128|63&r):r<55296||57344<=r?e.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&t.charCodeAt(n)),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return e}function e(t){var e,n,r,i,o,a;for(e="",r=t.length,n=0;n<r;)switch((i=t[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(i);break;case 12:case 13:o=t[n++],e+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=t[n++],a=t[n++],e+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&a)<<0)}return e}function s(t){for(var e=new Array(t.byteLength),n=new Uint8Array(t),r=e.length;r--;)e[r]=n[r];return e}function n(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<t.length;r+=3){var i=t[r],o=r+1<t.length,a=o?t[r+1]:0,s=r+2<t.length,l=s?t[r+2]:0,h=i>>2,u=(3&i)<<4|a>>4,c=(15&a)<<2|l>>6,f=63&l;s||(f=64,o||(c=64)),n.push(e[h],e[u],e[c],e[f])}return n.join("")}var t=Object.create||function(t){function e(){}return e.prototype=t,new e};if(g)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(t){return t&&-1<r.indexOf(Object.prototype.toString.call(t))};function h(t,e){for(var n=0,r=(t=t||[]).length;n<r;n++){var i=t[n];i instanceof h?t[n]=i._buffer:"string"==typeof i?t[n]=a(i):g&&(ArrayBuffer.prototype.isPrototypeOf(i)||l(i))?t[n]=s(i):g&&(o=i)&&DataView.prototype.isPrototypeOf(o)?t[n]=s(i.buffer):t[n]=a(String(i))}var o;this._buffer=[].concat.apply([],t),this.size=this._buffer.length,this.type=e&&e.type||""}function i(t,e,n){var r=h.call(this,t,n=n||{})||this;return r.name=e,r.lastModifiedDate=n.lastModified?new Date(n.lastModified):new Date,r.lastModified=+r.lastModifiedDate,r}if(h.prototype.slice=function(t,e,n){return new h([this._buffer.slice(t||0,e||this._buffer.length)],{type:n})},h.prototype.toString=function(){return"[object Blob]"},(i.prototype=t(h.prototype)).constructor=i,Object.setPrototypeOf)Object.setPrototypeOf(i,h);else try{i.__proto__=h}catch(t){}function o(){if(!(this instanceof o))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var n=document.createDocumentFragment();this.addEventListener=n.addEventListener,this.dispatchEvent=function(t){var e=this["on"+t.type];"function"==typeof e&&e(t),n.dispatchEvent(t)},this.removeEventListener=n.removeEventListener}function u(t,e,n){if(!(e instanceof h))throw new TypeError("Failed to execute '"+n+"' on 'FileReader': parameter 1 is not of type 'Blob'.");t.result="",setTimeout(function(){this.readyState=o.LOADING,t.dispatchEvent(new Event("load")),t.dispatchEvent(new Event("loadend"))})}i.prototype.toString=function(){return"[object File]"},o.EMPTY=0,o.LOADING=1,o.DONE=2,o.prototype.error=null,o.prototype.onabort=null,o.prototype.onerror=null,o.prototype.onload=null,o.prototype.onloadend=null,o.prototype.onloadstart=null,o.prototype.onprogress=null,o.prototype.readAsDataURL=function(t){u(this,t,"readAsDataURL"),this.result="data:"+t.type+";base64,"+n(t._buffer)},o.prototype.readAsText=function(t){u(this,t,"readAsText"),this.result=e(t._buffer)},o.prototype.readAsArrayBuffer=function(t){u(this,t,"readAsText"),this.result=t._buffer.slice()},o.prototype.abort=function(){},URL.createObjectURL=function(t){return t instanceof h?"data:"+t.type+";base64,"+n(t._buffer):p.call(URL,t)},URL.revokeObjectURL=function(t){d&&d.call(URL,t)};var c=f.XMLHttpRequest&&f.XMLHttpRequest.prototype.send;c&&(XMLHttpRequest.prototype.send=function(t){t instanceof h?(this.setRequestHeader("Content-Type",t.type),c.call(this,e(t._buffer))):c.call(this,t)}),f.FileReader=o,f.File=i,f.Blob=h}()}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var ht,ut,ct,ft,pt,dt,gt,mt,yt,vt,wt,bt,xt,Nt,Lt,le=le||function(s){if(!(void 0===s||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=s.document,l=function(){return s.URL||s.webkitURL||s},h=t.createElementNS("http://www.w3.org/1999/xhtml","a"),u="download"in h,c=/constructor/i.test(s.HTMLElement)||s.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent),p=s.setImmediate||s.setTimeout,d=function(t){p(function(){throw t},0)},g=function(t){setTimeout(function(){"string"==typeof t?l().revokeObjectURL(t):t.remove()},4e4)},m=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},r=function(t,n,e){e||(t=m(t));var r,i=this,o="application/octet-stream"===t.type,a=function(){!function(t,e,n){for(var r=(e=[].concat(e)).length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(t){d(t)}}}(i,"writestart progress write writeend".split(" "))};if(i.readyState=i.INIT,u)return r=l().createObjectURL(t),void p(function(){var t,e;h.href=r,h.download=n,t=h,e=new MouseEvent("click"),t.dispatchEvent(e),a(),g(r),i.readyState=i.DONE},0);!function(){if((f||o&&c)&&s.FileReader){var e=new FileReader;return e.onloadend=function(){var t=f?e.result:e.result.replace(/^data:[^;]*;/,"data:attachment/file;");s.open(t,"_blank")||(s.location.href=t),t=void 0,i.readyState=i.DONE,a()},e.readAsDataURL(t),i.readyState=i.INIT}r||(r=l().createObjectURL(t)),o?s.location.href=r:s.open(r,"_blank")||(s.location.href=r);i.readyState=i.DONE,a(),g(r)}()},e=r.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=m(t)),navigator.msSaveOrOpenBlob(t,e)}:(e.abort=function(){},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,function(t,e,n){return new r(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0);function At(x){var t=0;if(71!==x[t++]||73!==x[t++]||70!==x[t++]||56!==x[t++]||56!=(x[t++]+1&253)||97!==x[t++])throw"Invalid GIF 87a/89a header.";var N=x[t++]|x[t++]<<8,e=x[t++]|x[t++]<<8,n=x[t++],r=n>>7,i=1<<(7&n)+1;x[t++];x[t++];var o=null;r&&(o=t,t+=3*i);var a=!0,s=[],l=0,h=null,u=0,c=null;for(this.width=N,this.height=e;a&&t<x.length;)switch(x[t++]){case 33:switch(x[t++]){case 255:if(11!==x[t]||78==x[t+1]&&69==x[t+2]&&84==x[t+3]&&83==x[t+4]&&67==x[t+5]&&65==x[t+6]&&80==x[t+7]&&69==x[t+8]&&50==x[t+9]&&46==x[t+10]&&48==x[t+11]&&3==x[t+12]&&1==x[t+13]&&0==x[t+16])t+=14,c=x[t++]|x[t++]<<8,t++;else for(t+=12;;){if(0===(A=x[t++]))break;t+=A}break;case 249:if(4!==x[t++]||0!==x[t+4])throw"Invalid graphics extension block.";var f=x[t++];l=x[t++]|x[t++]<<8,h=x[t++],0==(1&f)&&(h=null),u=f>>2&7,t++;break;case 254:for(;;){if(0===(A=x[t++]))break;t+=A}break;default:throw"Unknown graphic control label: 0x"+x[t-1].toString(16)}break;case 44:var p=x[t++]|x[t++]<<8,d=x[t++]|x[t++]<<8,g=x[t++]|x[t++]<<8,m=x[t++]|x[t++]<<8,y=x[t++],v=y>>6&1,w=o,b=!1;if(y>>7){b=!0;w=t,t+=3*(1<<(7&y)+1)}var L=t;for(t++;;){var A;if(0===(A=x[t++]))break;t+=A}s.push({x:p,y:d,width:g,height:m,has_local_palette:b,palette_offset:w,data_offset:L,data_length:t-L,transparent_index:h,interlaced:!!v,delay:l,disposal:u});break;case 59:a=!1;break;default:throw"Unknown gif block: 0x"+x[t-1].toString(16)}this.numFrames=function(){return s.length},this.loopCount=function(){return c},this.frameInfo=function(t){if(t<0||t>=s.length)throw"Frame index out of range.";return s[t]},this.decodeAndBlitFrameBGRA=function(t,e){var n=this.frameInfo(t),r=n.width*n.height,i=new Uint8Array(r);St(x,n.data_offset,i,r);var o=n.palette_offset,a=n.transparent_index;null===a&&(a=256);var s=n.width,l=N-s,h=s,u=4*(n.y*N+n.x),c=4*((n.y+n.height)*N+n.x),f=u,p=4*l;!0===n.interlaced&&(p+=4*(s+l)*7);for(var d=8,g=0,m=i.length;g<m;++g){var y=i[g];if(0===h&&(h=s,c<=(f+=p)&&(p=l+4*(s+l)*(d-1),f=u+(s+l)*(d<<1),d>>=1)),y===a)f+=4;else{var v=x[o+3*y],w=x[o+3*y+1],b=x[o+3*y+2];e[f++]=b,e[f++]=w,e[f++]=v,e[f++]=255}--h}},this.decodeAndBlitFrameRGBA=function(t,e){var n=this.frameInfo(t),r=n.width*n.height,i=new Uint8Array(r);St(x,n.data_offset,i,r);var o=n.palette_offset,a=n.transparent_index;null===a&&(a=256);var s=n.width,l=N-s,h=s,u=4*(n.y*N+n.x),c=4*((n.y+n.height)*N+n.x),f=u,p=4*l;!0===n.interlaced&&(p+=4*(s+l)*7);for(var d=8,g=0,m=i.length;g<m;++g){var y=i[g];if(0===h&&(h=s,c<=(f+=p)&&(p=l+4*(s+l)*(d-1),f=u+(s+l)*(d<<1),d>>=1)),y===a)f+=4;else{var v=x[o+3*y],w=x[o+3*y+1],b=x[o+3*y+2];e[f++]=v,e[f++]=w,e[f++]=b,e[f++]=255}--h}}}function St(t,e,n,r){for(var i=t[e++],o=1<<i,a=o+1,s=a+1,l=i+1,h=(1<<l)-1,u=0,c=0,f=0,p=t[e++],d=new Int32Array(4096),g=null;;){for(;u<16&&0!==p;)c|=t[e++]<<u,u+=8,1===p?p=t[e++]:--p;if(u<l)break;var m=c&h;if(c>>=l,u-=l,m!==o){if(m===a)break;for(var y=m<s?m:g,v=0,w=y;o<w;)w=d[w]>>8,++v;var b=w;if(r<f+v+(y!==m?1:0))return void console.log("Warning, gif stream longer than expected.");n[f++]=b;var x=f+=v;for(y!==m&&(n[f++]=b),w=y;v--;)w=d[w],n[--x]=255&w,w>>=8;null!==g&&s<4096&&(d[s++]=g<<8|b,h+1<=s&&l<12&&(++l,h=h<<1|1)),g=m}else s=a+1,h=(1<<(l=i+1))-1,g=null}return f!==r&&console.log("Warning, gif stream shorter than expected."),n}try{exports.GifWriter=function(y,t,e,n){var v=0,r=void 0===(n=void 0===n?{}:n).loop?null:n.loop,w=void 0===n.palette?null:n.palette;if(t<=0||e<=0||65535<t||65535<e)throw"Width/Height invalid.";function b(t){var e=t.length;if(e<2||256<e||e&e-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return e}y[v++]=71,y[v++]=73,y[v++]=70,y[v++]=56,y[v++]=57,y[v++]=97;var i=0,o=0;if(null!==w){for(var a=b(w);a>>=1;)++i;if(a=1<<i,--i,void 0!==n.background){if(a<=(o=n.background))throw"Background index out of range.";if(0===o)throw"Background index explicitly passed as 0."}}if(y[v++]=255&t,y[v++]=t>>8&255,y[v++]=255&e,y[v++]=e>>8&255,y[v++]=(null!==w?128:0)|i,y[v++]=o,y[v++]=0,null!==w)for(var s=0,l=w.length;s<l;++s){var h=w[s];y[v++]=h>>16&255,y[v++]=h>>8&255,y[v++]=255&h}if(null!==r){if(r<0||65535<r)throw"Loop count invalid.";y[v++]=33,y[v++]=255,y[v++]=11,y[v++]=78,y[v++]=69,y[v++]=84,y[v++]=83,y[v++]=67,y[v++]=65,y[v++]=80,y[v++]=69,y[v++]=50,y[v++]=46,y[v++]=48,y[v++]=3,y[v++]=1,y[v++]=255&r,y[v++]=r>>8&255,y[v++]=0}var x=!1;this.addFrame=function(t,e,n,r,i,o){if(!0===x&&(--v,x=!1),o=void 0===o?{}:o,t<0||e<0||65535<t||65535<e)throw"x/y invalid.";if(n<=0||r<=0||65535<n||65535<r)throw"Width/Height invalid.";if(i.length<n*r)throw"Not enough pixels for the frame size.";var a=!0,s=o.palette;if(null==s&&(a=!1,s=w),null==s)throw"Must supply either a local or global palette.";for(var l=b(s),h=0;l>>=1;)++h;l=1<<h;var u=void 0===o.delay?0:o.delay,c=void 0===o.disposal?0:o.disposal;if(c<0||3<c)throw"Disposal out of range.";var f=!1,p=0;if(void 0!==o.transparent&&null!==o.transparent&&(f=!0,(p=o.transparent)<0||l<=p))throw"Transparent color index.";if((0!==c||f||0!==u)&&(y[v++]=33,y[v++]=249,y[v++]=4,y[v++]=c<<2|(!0===f?1:0),y[v++]=255&u,y[v++]=u>>8&255,y[v++]=p,y[v++]=0),y[v++]=44,y[v++]=255&t,y[v++]=t>>8&255,y[v++]=255&e,y[v++]=e>>8&255,y[v++]=255&n,y[v++]=n>>8&255,y[v++]=255&r,y[v++]=r>>8&255,y[v++]=!0===a?128|h-1:0,!0===a)for(var d=0,g=s.length;d<g;++d){var m=s[d];y[v++]=m>>16&255,y[v++]=m>>8&255,y[v++]=255&m}v=function(e,n,t,r){e[n++]=t;var i=n++,o=1<<t,a=o-1,s=o+1,l=s+1,h=t+1,u=0,c=0;function f(t){for(;t<=u;)e[n++]=255&c,c>>=8,u-=8,n===i+256&&(e[i]=255,i=n++)}function p(t){c|=t<<u,u+=h,f(8)}var d=r[0]&a,g={};p(o);for(var m=1,y=r.length;m<y;++m){var v=r[m]&a,w=d<<8|v,b=g[w];if(void 0===b){for(c|=d<<u,u+=h;8<=u;)e[n++]=255&c,c>>=8,u-=8,n===i+256&&(e[i]=255,i=n++);4096===l?(p(o),l=s+1,h=t+1,g={}):(1<<h<=l&&++h,g[w]=l++),d=v}else d=b}return p(d),p(s),f(1),i+1===n?e[i]=0:(e[i]=n-i-1,e[n++]=0),n}(y,v,h<2?2:h,i)},this.end=function(){return!1===x&&(y[v++]=59,x=!0),v}},exports.GifReader=At}catch(t){}
/*
    Copyright (c) 2008, Adobe Systems Incorporated
    All rights reserved.

    Redistribution and use in source and binary forms, with or without 
    modification, are permitted provided that the following conditions are
    met:

    * Redistributions of source code must retain the above copyright notice, 
      this list of conditions and the following disclaimer.
    
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the 
      documentation and/or other materials provided with the distribution.
    
    * Neither the name of Adobe Systems Incorporated nor the names of its 
      contributors may be used to endorse or promote products derived from 
      this software without specific prior written permission.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
    IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
    THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
    CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
    EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
    LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */
function _t(t){var N,L,A,S,e,c=Math.floor,_=new Array(64),F=new Array(64),P=new Array(64),k=new Array(64),y=new Array(65535),v=new Array(65535),Z=new Array(64),w=new Array(64),I=[],C=0,B=7,j=new Array(64),E=new Array(64),M=new Array(64),n=new Array(256),O=new Array(2048),b=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function r(t,e){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=t[o];a++)i[e[r]]=[],i[e[r]][0]=n,i[e[r]][1]=o,r++,n++;n*=2}return i}function V(t){for(var e=t[0],n=t[1]-1;0<=n;)e&1<<n&&(C|=1<<B),n--,--B<0&&(255==C?(G(255),G(0)):G(C),B=7,C=0)}function G(t){I.push(t)}function Y(t){G(t>>8&255),G(255&t)}function J(t,e,n,r,i){for(var o,a=i[0],s=i[240],l=function(t,e){var n,r,i,o,a,s,l,h,u,c,f=0;for(u=0;u<8;++u){n=t[f],r=t[f+1],i=t[f+2],o=t[f+3],a=t[f+4],s=t[f+5],l=t[f+6];var p=n+(h=t[f+7]),d=n-h,g=r+l,m=r-l,y=i+s,v=i-s,w=o+a,b=o-a,x=p+w,N=p-w,L=g+y,A=g-y;t[f]=x+L,t[f+4]=x-L;var S=.707106781*(A+N);t[f+2]=N+S,t[f+6]=N-S;var _=.382683433*((x=b+v)-(A=m+d)),F=.5411961*x+_,P=1.306562965*A+_,k=.707106781*(L=v+m),I=d+k,C=d-k;t[f+5]=C+F,t[f+3]=C-F,t[f+1]=I+P,t[f+7]=I-P,f+=8}for(u=f=0;u<8;++u){n=t[f],r=t[f+8],i=t[f+16],o=t[f+24],a=t[f+32],s=t[f+40],l=t[f+48];var B=n+(h=t[f+56]),j=n-h,E=r+l,M=r-l,O=i+s,q=i-s,T=o+a,R=o-a,D=B+T,U=B-T,z=E+O,H=E-O;t[f]=D+z,t[f+32]=D-z;var W=.707106781*(H+U);t[f+16]=U+W,t[f+48]=U-W;var V=.382683433*((D=R+q)-(H=M+j)),G=.5411961*D+V,Y=1.306562965*H+V,J=.707106781*(z=q+M),X=j+J,K=j-J;t[f+40]=K+G,t[f+24]=K-G,t[f+8]=X+Y,t[f+56]=X-Y,f++}for(u=0;u<64;++u)c=t[u]*e[u],Z[u]=0<c?c+.5|0:c-.5|0;return Z}(t,e),h=0;h<64;++h)w[b[h]]=l[h];var u=w[0]-n;n=w[0],0==u?V(r[0]):(V(r[v[o=32767+u]]),V(y[o]));for(var c=63;0<c&&0==w[c];c--);if(0==c)return V(a),n;for(var f,p=1;p<=c;){for(var d=p;0==w[p]&&p<=c;++p);var g=p-d;if(16<=g){f=g>>4;for(var m=1;m<=f;++m)V(s);g&=15}o=32767+w[p],V(i[(g<<4)+v[o]]),V(y[o]),p++}return 63!=c&&V(a),n}function X(t){if(t<=0&&(t=1),100<t&&(t=100),e!=t){(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=c((e[n]*t+50)/100);r<1?r=1:255<r&&(r=255),_[b[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var a=c((i[o]*t+50)/100);a<1?a=1:255<a&&(a=255),F[b[o]]=a}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,h=0;h<8;h++)for(var u=0;u<8;u++)P[l]=1/(_[b[l]]*s[h]*s[u]*8),k[l]=1/(F[b[l]]*s[h]*s[u]*8),l++})(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),e=t}}this.encode=function(t,e){var n,r;(new Date).getTime();e&&X(e),I=new Array,C=0,B=7,Y(65496),Y(65504),Y(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),Y(1),Y(1),G(0),G(0),function(){Y(65499),Y(132),G(0);for(var t=0;t<64;t++)G(_[t]);G(1);for(var e=0;e<64;e++)G(F[e])}(),n=t.width,r=t.height,Y(65472),Y(17),G(8),Y(r),Y(n),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1),function(){Y(65476),Y(418),G(0);for(var t=0;t<16;t++)G(q[t+1]);for(var e=0;e<=11;e++)G(T[e]);G(16);for(var n=0;n<16;n++)G(R[n+1]);for(var r=0;r<=161;r++)G(D[r]);G(1);for(var i=0;i<16;i++)G(U[i+1]);for(var o=0;o<=11;o++)G(z[o]);G(17);for(var a=0;a<16;a++)G(H[a+1]);for(var s=0;s<=161;s++)G(W[s])}(),Y(65498),Y(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var i=0,o=0,a=0;C=0,B=7,this.encode.displayName="_encode_";for(var s,l,h,u,c,f,p,d,g,m=t.data,y=t.width,v=t.height,w=4*y,b=0;b<v;){for(s=0;s<w;){for(f=c=w*b+s,p=-1,g=d=0;g<64;g++)f=c+(d=g>>3)*w+(p=4*(7&g)),v<=b+d&&(f-=w*(b+1+d-v)),w<=s+p&&(f-=s+p-w+4),l=m[f++],h=m[f++],u=m[f++],j[g]=(O[l]+O[h+256>>0]+O[u+512>>0]>>16)-128,E[g]=(O[l+768>>0]+O[h+1024>>0]+O[u+1280>>0]>>16)-128,M[g]=(O[l+1280>>0]+O[h+1536>>0]+O[u+1792>>0]>>16)-128;i=J(j,P,i,N,A),o=J(E,k,o,L,S),a=J(M,k,a,L,S),s+=32}b+=8}if(0<=B){var x=[];x[1]=B+1,x[0]=(1<<B+1)-1,V(x)}return Y(65497),new Uint8Array(I)},function(){(new Date).getTime();t||(t=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)n[e]=t(e)}(),N=r(q,T),L=r(U,z),A=r(R,D),S=r(H,W),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var r=t;r<e;r++)v[32767+r]=n,y[32767+r]=[],y[32767+r][1]=n,y[32767+r][0]=r;for(var i=-(e-1);i<=-t;i++)v[32767+i]=n,y[32767+i]=[],y[32767+i][1]=n,y[32767+i][0]=e-1+i;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)O[t]=19595*t,O[t+256>>0]=38470*t,O[t+512>>0]=7471*t+32768,O[t+768>>0]=-11059*t,O[t+1024>>0]=-21709*t,O[t+1280>>0]=32768*t+8421375,O[t+1536>>0]=-27439*t,O[t+1792>>0]=-5329*t}(),X(t),(new Date).getTime()}()}function Ft(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}window.tmp=At,lt.API.adler32cs=(dt="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,gt=null,mt=function(){if(!dt)return function(){return!1};try{var t={};"function"==typeof t.Buffer&&(gt=t.Buffer)}catch(t){}return function(t){return t instanceof ArrayBuffer||null!==gt&&t instanceof gt}}(),yt=null!==gt?function(t){return new gt(t,"utf8").toString("binary")}:function(t){return unescape(encodeURIComponent(t))},vt=function(t,e){for(var n=65535&t,r=t>>>16,i=0,o=e.length;i<o;i++)n=(n+(255&e.charCodeAt(i)))%65521,r=(r+n)%65521;return(r<<16|n)>>>0},wt=function(t,e){for(var n=65535&t,r=t>>>16,i=0,o=e.length;i<o;i++)n=(n+e[i])%65521,r=(r+n)%65521;return(r<<16|n)>>>0},xt=(bt={}).Adler32=(((pt=(ft=function(t){if(!(this instanceof ft))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(t=null==t?1:+t))throw new Error("First arguments needs to be a finite number.");this.checksum=t>>>0}).prototype={}).constructor=ft).from=((ht=function(t){if(!(this instanceof ft))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");this.checksum=vt(1,t.toString())}).prototype=pt,ht),ft.fromUtf8=((ut=function(t){if(!(this instanceof ft))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");var e=yt(t.toString());this.checksum=vt(1,e)}).prototype=pt,ut),dt&&(ft.fromBuffer=((ct=function(t){if(!(this instanceof ft))throw new TypeError("Constructor cannot called be as a function.");if(!mt(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=wt(1,e)}).prototype=pt,ct)),pt.update=function(t){if(null==t)throw new Error("First argument needs to be a string.");return t=t.toString(),this.checksum=vt(this.checksum,t)},pt.updateUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=yt(t.toString());return this.checksum=vt(this.checksum,e)},dt&&(pt.updateBuffer=function(t){if(!mt(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=wt(this.checksum,e)}),pt.clone=function(){return new xt(this.checksum)},ft),bt.from=function(t){if(null==t)throw new Error("First argument needs to be a string.");return vt(1,t.toString())},bt.fromUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=yt(t.toString());return vt(1,e)},dt&&(bt.fromBuffer=function(t){if(!mt(t))throw new Error("First argument need to be ArrayBuffer.");var e=new Uint8Array(t);return wt(1,e)}),bt),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var d,g,c,f,i,o,a,s=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},l={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},h=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],u=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,b=0;this.__bidiEngine__={};var x=function(t){var e=t.charCodeAt(),n=e>>8,r=l[n];return void 0!==r?s[256*r+(255&e)]:252===n||253===n?"AL":u.test(n)?"L":8===n?"R":"N"},p=function(t){for(var e,n=0;n<t.length;n++){if("L"===(e=x(t.charAt(n))))return!1;if("R"===e)return!0}return!1},N=function(t,e,n,r){var i,o,a,s,l=e[r];switch(l){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(l="AN");break;case"AL":w=!0,l="R";break;case"WS":l="N";break;case"CS":r<1||r+1>=e.length||"EN"!==(i=n[r-1])&&"AN"!==i||"EN"!==(o=e[r+1])&&"AN"!==o?l="N":w&&(o="AN"),l=o===i?o:"N";break;case"ES":l="EN"===(i=0<r?n[r-1]:"B")&&r+1<e.length&&"EN"===e[r+1]?"EN":"N";break;case"ET":if(0<r&&"EN"===n[r-1]){l="EN";break}if(w){l="N";break}for(a=r+1,s=e.length;a<s&&"ET"===e[a];)a++;l=a<s&&"EN"===e[a]?"EN":"N";break;case"NSM":if(c&&!f){for(s=e.length,a=r+1;a<s&&"NSM"===e[a];)a++;if(a<s){var h=t[r],u=1425<=h&&h<=2303||64286===h;if(i=e[a],u&&("R"===i||"AL"===i)){l="R";break}}}l=r<1||"B"===(i=e[r-1])?"N":n[r-1];break;case"B":d=!(w=!1),l=b;break;case"S":g=!0,l="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":l="N"}return l},L=function(t,e,n){var r=t.split("");return n&&A(r,n,{hiLevel:b}),r.reverse(),e&&e.reverse(),r.join("")},A=function(t,e,n){var r,i,o,a,s,l=-1,h=t.length,u=0,c=[],f=b?y:m,p=[];for(g=d=w=!1,i=0;i<h;i++)p[i]=x(t[i]);for(o=0;o<h;o++){if(s=u,c[o]=N(t,p,c,o),r=240&(u=f[s][v[c[o]]]),u&=15,e[o]=a=f[u][5],0<r)if(16===r){for(i=l;i<o;i++)e[i]=1;l=-1}else l=-1;if(f[u][6])-1===l&&(l=o);else if(-1<l){for(i=l;i<o;i++)e[i]=a;l=-1}"B"===p[o]&&(e[o]=0),n.hiLevel|=a}g&&function(t,e,n){for(var r=0;r<n;r++)if("S"===t[r]){e[r]=b;for(var i=r-1;0<=i&&"WS"===t[i];i--)e[i]=b}}(p,e,h)},S=function(t,e,n,r,i){if(!(i.hiLevel<t)){if(1===t&&1===b&&!d)return e.reverse(),void(n&&n.reverse());for(var o,a,s,l,h=e.length,u=0;u<h;){if(r[u]>=t){for(s=u+1;s<h&&r[s]>=t;)s++;for(l=u,a=s-1;l<a;l++,a--)o=e[l],e[l]=e[a],e[a]=o,n&&(o=n[l],n[l]=n[a],n[a]=o);u=s}u++}}},_=function(t,e,n){var r=t.split(""),i={hiLevel:b};return n||(n=[]),A(r,n,i),function(t,e,n){if(0!==n.hiLevel&&a)for(var r,i=0;i<t.length;i++)1===e[i]&&0<=(r=h.indexOf(t[i]))&&(t[i]=h[r+1])}(r,n,i),S(2,r,e,n,i),S(1,r,e,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,n){if(function(t,e){if(e)for(var n=0;n<t.length;n++)e[n]=n;void 0===f&&(f=p(t)),void 0===o&&(o=p(t))}(t,e),c||!i||o)if(c&&i&&f^o)b=f?1:0,t=L(t,e,n);else if(!c&&i&&o)b=f?1:0,t=_(t,e,n),t=L(t,e);else if(!c||f||i||o){if(c&&!i&&f^o)t=L(t,e),t=f?(b=0,_(t,e,n)):(b=1,t=_(t,e,n),L(t,e));else if(c&&f&&!i&&o)b=1,t=_(t,e,n),t=L(t,e);else if(!c&&!i&&f^o){var r=a;f?(b=1,t=_(t,e,n),b=0,a=!1,t=_(t,e,n),a=r):(b=0,t=_(t,e,n),t=L(t,e),a=!(b=1),t=_(t,e,n),a=r,t=L(t,e))}}else b=0,t=_(t,e,n);else b=f?1:0,t=_(t,e,n);return t},this.__bidiEngine__.setOptions=function(t){t&&(c=t.isInputVisual,i=t.isOutputVisual,f=t.isInputRtl,o=t.isOutputRtl,a=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],o=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text,n=(t.x,t.y,t.options||{}),r=(t.mutex,n.lang,[]);if("[object Array]"===Object.prototype.toString.call(e)){var i=0;for(r=[],i=0;i<e.length;i+=1)"[object Array]"===Object.prototype.toString.call(e[i])?r.push([o.doBidiReorder(e[i][0]),e[i][1],e[i][2]]):r.push([o.doBidiReorder(e[i])]);t.text=r}else t.text=o.doBidiReorder(e)}])}(lt),window.tmp=_t,Ft.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ft.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(t){console.log("bit decode error:"+t)}},Ft.prototype.bit1=function(){var t=Math.ceil(this.width/8),e=t%4,n=0<=this.height?this.height-1:-this.height;for(n=this.height-1;0<=n;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[o>>7-s&1];this.data[a+4*s]=l.blue,this.data[a+4*s+1]=l.green,this.data[a+4*s+2]=l.red,this.data[a+4*s+3]=255}0!=e&&(this.pos+=4-e)}},Ft.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;0<=n;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,s=o>>4,l=15&o,h=this.palette[s];if(this.data[a]=h.blue,this.data[a+1]=h.green,this.data[a+2]=h.red,this.data[a+3]=255,2*i+1>=this.width)break;h=this.palette[l],this.data[a+4]=h.blue,this.data[a+4+1]=h.green,this.data[a+4+2]=h.red,this.data[a+4+3]=255}0!=e&&(this.pos+=4-e)}},Ft.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;0<=e;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!=t&&(this.pos+=4-t)}},Ft.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;0<=n;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,s=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,h=o>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=h}this.pos+=t}},Ft.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;0<=r;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,h=(a>>11)/e*255|0,u=i*this.width*4+4*o;this.data[u]=h,this.data[u+1]=l,this.data[u+2]=s,this.data[u+3]=255}this.pos+=t}},Ft.prototype.bit24=function(){for(var t=this.height-1;0<=t;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Ft.prototype.bit32=function(){for(var t=this.height-1;0<=t;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=a}},Ft.prototype.getData=function(){return this.data},window.tmp=Ft,
/*
   Copyright (c) 2013 Gildas Lormeau. All rights reserved.

   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright notice,
   this list of conditions and the following disclaimer.

   2. Redistributions in binary form must reproduce the above copyright 
   notice, this list of conditions and the following disclaimer in 
   the documentation and/or other materials provided with the distribution.

   3. The names of the authors may not be used to endorse or promote products
   derived from this software without specific prior written permission.

   THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
   INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
   FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
   INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
   INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
   LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
   OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
   EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   */
function(t){var d=15,g=573,e=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function ct(){var p=this;function l(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}p.build_tree=function(t){var e,n,r,i=p.dyn_tree,o=p.stat_desc.static_tree,a=p.stat_desc.elems,s=-1;for(t.heap_len=0,t.heap_max=g,e=0;e<a;e++)0!==i[2*e]?(t.heap[++t.heap_len]=s=e,t.depth[e]=0):i[2*e+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=s<2?++s:0)]=1,t.depth[r]=0,t.opt_len--,o&&(t.static_len-=o[2*r+1]);for(p.max_code=s,e=Math.floor(t.heap_len/2);1<=e;e--)t.pqdownheap(i,e);for(r=a;e=t.heap[1],t.heap[1]=t.heap[t.heap_len--],t.pqdownheap(i,1),n=t.heap[1],t.heap[--t.heap_max]=e,t.heap[--t.heap_max]=n,i[2*r]=i[2*e]+i[2*n],t.depth[r]=Math.max(t.depth[e],t.depth[n])+1,i[2*e+1]=i[2*n+1]=r,t.heap[1]=r++,t.pqdownheap(i,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t){var e,n,r,i,o,a,s=p.dyn_tree,l=p.stat_desc.static_tree,h=p.stat_desc.extra_bits,u=p.stat_desc.extra_base,c=p.stat_desc.max_length,f=0;for(i=0;i<=d;i++)t.bl_count[i]=0;for(s[2*t.heap[t.heap_max]+1]=0,e=t.heap_max+1;e<g;e++)c<(i=s[2*s[2*(n=t.heap[e])+1]+1]+1)&&(i=c,f++),s[2*n+1]=i,n>p.max_code||(t.bl_count[i]++,o=0,u<=n&&(o=h[n-u]),a=s[2*n],t.opt_len+=a*(i+o),l&&(t.static_len+=a*(l[2*n+1]+o)));if(0!==f){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,f-=2}while(0<f);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)(r=t.heap[--e])>p.max_code||(s[2*r+1]!=i&&(t.opt_len+=(i-s[2*r+1])*s[2*r],s[2*r+1]=i),n--)}}(t),function(t,e,n){var r,i,o,a=[],s=0;for(r=1;r<=d;r++)a[r]=s=s+n[r-1]<<1;for(i=0;i<=e;i++)0!==(o=t[2*i+1])&&(t[2*i]=l(a[o]++,o))}(i,p.max_code,t.bl_count)}}function ft(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i}ct._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],ct.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],ct.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],ct.d_code=function(t){return t<256?e[t]:e[256+(t>>>7)]},ct.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ct.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ct.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ct.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ft.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],ft.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],ft.static_l_desc=new ft(ft.static_ltree,ct.extra_lbits,257,286,d),ft.static_d_desc=new ft(ft.static_dtree,ct.extra_dbits,0,30,d),ft.static_bl_desc=new ft(null,ct.extra_blbits,0,19,7);function n(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}var pt=[new n(0,0,0,0,0),new n(4,4,8,4,1),new n(4,5,16,8,1),new n(4,6,32,32,1),new n(4,4,16,16,2),new n(8,16,32,32,2),new n(8,16,128,128,2),new n(8,32,128,256,2),new n(32,128,258,1024,2),new n(32,258,258,4096,2)],dt=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function gt(t,e,n,r){var i=t[2*e],o=t[2*n];return i<o||i==o&&r[e]<=r[n]}function r(){var l,h,u,c,f,p,d,g,i,m,y,v,w,a,b,x,N,L,A,S,_,F,P,k,I,C,B,j,E,M,s,O,q,T,R,D,U,o,z,H,W,V=this,G=new ct,Y=new ct,J=new ct;function X(){var t;for(t=0;t<286;t++)s[2*t]=0;for(t=0;t<30;t++)O[2*t]=0;for(t=0;t<19;t++)q[2*t]=0;s[512]=1,V.opt_len=V.static_len=0,D=o=0}function K(t,e){var n,r,i=-1,o=t[1],a=0,s=7,l=4;for(0===o&&(s=138,l=3),t[2*(e+1)+1]=65535,n=0;n<=e;n++)r=o,o=t[2*(n+1)+1],++a<s&&r==o||(a<l?q[2*r]+=a:0!==r?(r!=i&&q[2*r]++,q[32]++):a<=10?q[34]++:q[36]++,i=r,l=(a=0)===o?(s=138,3):r==o?(s=6,3):(s=7,4))}function Z(t){V.pending_buf[V.pending++]=t}function Q(t){Z(255&t),Z(t>>>8&255)}function $(t,e){var n,r=e;16-r<W?(Q(H|=(n=t)<<W&65535),H=n>>>16-W,W+=r-16):(H|=t<<W&65535,W+=r)}function tt(t,e){var n=2*t;$(65535&e[n],65535&e[n+1])}function et(t,e){var n,r,i=-1,o=t[1],a=0,s=7,l=4;for(0===o&&(s=138,l=3),n=0;n<=e;n++)if(r=o,o=t[2*(n+1)+1],!(++a<s&&r==o)){if(a<l)for(;tt(r,q),0!=--a;);else 0!==r?(r!=i&&(tt(r,q),a--),tt(16,q),$(a-3,2)):a<=10?(tt(17,q),$(a-3,3)):(tt(18,q),$(a-11,7));i=r,l=(a=0)===o?(s=138,3):r==o?(s=6,3):(s=7,4)}}function nt(){16==W?(Q(H),W=H=0):8<=W&&(Z(255&H),H>>>=8,W-=8)}function rt(t,e){var n,r,i;if(V.pending_buf[U+2*D]=t>>>8&255,V.pending_buf[U+2*D+1]=255&t,V.pending_buf[T+D]=255&e,D++,0===t?s[2*e]++:(o++,t--,s[2*(ct._length_code[e]+256+1)]++,O[2*ct.d_code(t)]++),0==(8191&D)&&2<B){for(n=8*D,r=_-N,i=0;i<30;i++)n+=O[2*i]*(5+ct.extra_dbits[i]);if(n>>>=3,o<Math.floor(D/2)&&n<Math.floor(r/2))return!0}return D==R-1}function it(t,e){var n,r,i,o,a=0;if(0!==D)for(;n=V.pending_buf[U+2*a]<<8&65280|255&V.pending_buf[U+2*a+1],r=255&V.pending_buf[T+a],a++,0===n?tt(r,t):(tt((i=ct._length_code[r])+256+1,t),0!==(o=ct.extra_lbits[i])&&$(r-=ct.base_length[i],o),tt(i=ct.d_code(--n),e),0!==(o=ct.extra_dbits[i])&&$(n-=ct.base_dist[i],o)),a<D;);tt(256,t),z=t[513]}function ot(){8<W?Q(H):0<W&&Z(255&H),W=H=0}function at(t,e,n){var r,i,o;$(0+(n?1:0),3),r=t,i=e,o=!0,ot(),z=8,o&&(Q(i),Q(~i)),V.pending_buf.set(g.subarray(r,r+i),V.pending),V.pending+=i}function e(t,e,n){var r,i,o=0;0<B?(G.build_tree(V),Y.build_tree(V),o=function(){var t;for(K(s,G.max_code),K(O,Y.max_code),J.build_tree(V),t=18;3<=t&&0===q[2*ct.bl_order[t]+1];t--);return V.opt_len+=3*(t+1)+5+5+4,t}(),r=V.opt_len+3+7>>>3,(i=V.static_len+3+7>>>3)<=r&&(r=i)):r=i=e+5,e+4<=r&&-1!=t?at(t,e,n):i==r?($(2+(n?1:0),3),it(ft.static_ltree,ft.static_dtree)):($(4+(n?1:0),3),function(t,e,n){var r;for($(t-257,5),$(e-1,5),$(n-4,4),r=0;r<n;r++)$(q[2*ct.bl_order[r]+1],3);et(s,t-1),et(O,e-1)}(G.max_code+1,Y.max_code+1,o+1),it(s,O)),X(),n&&ot()}function st(t){e(0<=N?N:-1,_-N,t),N=_,l.flush_pending()}function lt(){var t,e,n,r;do{if(0===(r=i-P-_)&&0===_&&0===P)r=f;else if(-1==r)r--;else if(f+f-262<=_){for(g.set(g.subarray(f,f+f),0),F-=f,_-=f,N-=f,n=t=w;e=65535&y[--n],y[n]=f<=e?e-f:0,0!=--t;);for(n=t=f;e=65535&m[--n],m[n]=f<=e?e-f:0,0!=--t;);r+=f}if(0===l.avail_in)return;t=l.read_buf(g,_+P,r),3<=(P+=t)&&(v=((v=255&g[_])<<x^255&g[_+1])&b)}while(P<262&&0!==l.avail_in)}function ht(t){var e,n,r=I,i=_,o=k,a=f-262<_?_-(f-262):0,s=M,l=d,h=_+258,u=g[i+o-1],c=g[i+o];E<=k&&(r>>=2),P<s&&(s=P);do{if(g[(e=t)+o]==c&&g[e+o-1]==u&&g[e]==g[i]&&g[++e]==g[i+1]){i+=2,e++;do{}while(g[++i]==g[++e]&&g[++i]==g[++e]&&g[++i]==g[++e]&&g[++i]==g[++e]&&g[++i]==g[++e]&&g[++i]==g[++e]&&g[++i]==g[++e]&&g[++i]==g[++e]&&i<h);if(n=258-(h-i),i=h-258,o<n){if(F=t,s<=(o=n))break;u=g[i+o-1],c=g[i+o]}}}while((t=65535&m[t&l])>a&&0!=--r);return o<=P?o:P}function ut(t){return t.total_in=t.total_out=0,t.msg=null,V.pending=0,V.pending_out=0,h=113,c=0,G.dyn_tree=s,G.stat_desc=ft.static_l_desc,Y.dyn_tree=O,Y.stat_desc=ft.static_d_desc,J.dyn_tree=q,J.stat_desc=ft.static_bl_desc,W=H=0,z=8,X(),function(){var t;for(i=2*f,t=y[w-1]=0;t<w-1;t++)y[t]=0;C=pt[B].max_lazy,E=pt[B].good_length,M=pt[B].nice_length,I=pt[B].max_chain,L=k=2,v=S=P=N=_=0}(),0}V.depth=[],V.bl_count=[],V.heap=[],s=[],O=[],q=[],V.pqdownheap=function(t,e){for(var n=V.heap,r=n[e],i=e<<1;i<=V.heap_len&&(i<V.heap_len&&gt(t,n[i+1],n[i],V.depth)&&i++,!gt(t,r,n[i],V.depth));)n[e]=n[i],e=i,i<<=1;n[e]=r},V.deflateInit=function(t,e,n,r,i,o){return r||(r=8),i||(i=8),o||(o=0),t.msg=null,-1==e&&(e=6),i<1||9<i||8!=r||n<9||15<n||e<0||9<e||o<0||2<o?-2:(t.dstate=V,d=(f=1<<(p=n))-1,b=(w=1<<(a=i+7))-1,x=Math.floor((a+3-1)/3),g=new Uint8Array(2*f),m=[],y=[],R=1<<i+6,V.pending_buf=new Uint8Array(4*R),u=4*R,U=Math.floor(R/2),T=3*R,B=e,j=o,ut(t))},V.deflateEnd=function(){return 42!=h&&113!=h&&666!=h?-2:(V.pending_buf=null,g=m=y=null,V.dstate=null,113==h?-3:0)},V.deflateParams=function(t,e,n){var r=0;return-1==e&&(e=6),e<0||9<e||n<0||2<n?-2:(pt[B].func!=pt[e].func&&0!==t.total_in&&(r=t.deflate(1)),B!=e&&(C=pt[B=e].max_lazy,E=pt[B].good_length,M=pt[B].nice_length,I=pt[B].max_chain),j=n,r)},V.deflateSetDictionary=function(t,e,n){var r,i=n,o=0;if(!e||42!=h)return-2;if(i<3)return 0;for(f-262<i&&(o=n-(i=f-262)),g.set(e.subarray(o,o+i),0),N=_=i,v=((v=255&g[0])<<x^255&g[1])&b,r=0;r<=i-3;r++)v=(v<<x^255&g[r+2])&b,m[r&d]=y[v],y[v]=r;return 0},V.deflate=function(t,e){var n,r,i,o,a,s;if(4<e||e<0)return-2;if(!t.next_out||!t.next_in&&0!==t.avail_in||666==h&&4!=e)return t.msg=dt[4],-2;if(0===t.avail_out)return t.msg=dt[7],-5;if(l=t,o=c,c=e,42==h&&(r=8+(p-8<<4)<<8,3<(i=(B-1&255)>>1)&&(i=3),r|=i<<6,0!==_&&(r|=32),h=113,Z((s=r+=31-r%31)>>8&255),Z(255&s)),0!==V.pending){if(l.flush_pending(),0===l.avail_out)return c=-1,0}else if(0===l.avail_in&&e<=o&&4!=e)return l.msg=dt[7],-5;if(666==h&&0!==l.avail_in)return t.msg=dt[7],-5;if(0!==l.avail_in||0!==P||0!=e&&666!=h){switch(a=-1,pt[B].func){case 0:a=function(t){var e,n=65535;for(u-5<n&&(n=u-5);;){if(P<=1){if(lt(),0===P&&0==t)return 0;if(0===P)break}if(_+=P,e=N+n,((P=0)===_||e<=_)&&(P=_-e,_=e,st(!1),0===l.avail_out))return 0;if(f-262<=_-N&&(st(!1),0===l.avail_out))return 0}return st(4==t),0===l.avail_out?4==t?2:0:4==t?3:1}(e);break;case 1:a=function(t){for(var e,n=0;;){if(P<262){if(lt(),P<262&&0==t)return 0;if(0===P)break}if(3<=P&&(v=(v<<x^255&g[_+2])&b,n=65535&y[v],m[_&d]=y[v],y[v]=_),0!==n&&(_-n&65535)<=f-262&&2!=j&&(L=ht(n)),3<=L)if(e=rt(_-F,L-3),P-=L,L<=C&&3<=P){for(L--;v=(v<<x^255&g[++_+2])&b,n=65535&y[v],m[_&d]=y[v],y[v]=_,0!=--L;);_++}else _+=L,L=0,v=((v=255&g[_])<<x^255&g[_+1])&b;else e=rt(0,255&g[_]),P--,_++;if(e&&(st(!1),0===l.avail_out))return 0}return st(4==t),0===l.avail_out?4==t?2:0:4==t?3:1}(e);break;case 2:a=function(t){for(var e,n,r=0;;){if(P<262){if(lt(),P<262&&0==t)return 0;if(0===P)break}if(3<=P&&(v=(v<<x^255&g[_+2])&b,r=65535&y[v],m[_&d]=y[v],y[v]=_),k=L,A=F,L=2,0!==r&&k<C&&(_-r&65535)<=f-262&&(2!=j&&(L=ht(r)),L<=5&&(1==j||3==L&&4096<_-F)&&(L=2)),3<=k&&L<=k){for(n=_+P-3,e=rt(_-1-A,k-3),P-=k-1,k-=2;++_<=n&&(v=(v<<x^255&g[_+2])&b,r=65535&y[v],m[_&d]=y[v],y[v]=_),0!=--k;);if(S=0,L=2,_++,e&&(st(!1),0===l.avail_out))return 0}else if(0!==S){if((e=rt(0,255&g[_-1]))&&st(!1),_++,P--,0===l.avail_out)return 0}else S=1,_++,P--}return 0!==S&&(e=rt(0,255&g[_-1]),S=0),st(4==t),0===l.avail_out?4==t?2:0:4==t?3:1}(e)}if(2!=a&&3!=a||(h=666),0==a||2==a)return 0===l.avail_out&&(c=-1),0;if(1==a){if(1==e)$(2,3),tt(256,ft.static_ltree),nt(),1+z+10-W<9&&($(2,3),tt(256,ft.static_ltree),nt()),z=7;else if(at(0,0,!1),3==e)for(n=0;n<w;n++)y[n]=0;if(l.flush_pending(),0===l.avail_out)return c=-1,0}}return 4!=e?0:1}}function i(){this.next_in_index=0,this.next_out_index=0,this.avail_in=0,this.total_in=0,this.avail_out=0,this.total_out=0}i.prototype={deflateInit:function(t,e){return this.dstate=new r,e||(e=d),this.dstate.deflateInit(this,t,e)},deflate:function(t){return this.dstate?this.dstate.deflate(this,t):-2},deflateEnd:function(){if(!this.dstate)return-2;var t=this.dstate.deflateEnd();return this.dstate=null,t},deflateParams:function(t,e){return this.dstate?this.dstate.deflateParams(this,t,e):-2},deflateSetDictionary:function(t,e){return this.dstate?this.dstate.deflateSetDictionary(this,t,e):-2},read_buf:function(t,e,n){var r=this.avail_in;return n<r&&(r=n),0===r?0:(this.avail_in-=r,t.set(this.next_in.subarray(this.next_in_index,this.next_in_index+r),e),this.next_in_index+=r,this.total_in+=r,r)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}};var o=t.zip||t;o.Deflater=o._jzlib_Deflater=function(t){var s=new i,l=new Uint8Array(512),e=t?t.level:-1;void 0===e&&(e=-1),s.deflateInit(e),s.next_out=l,this.append=function(t,e){var n,r=[],i=0,o=0,a=0;if(t.length){s.next_in_index=0,s.next_in=t,s.avail_in=t.length;do{if(s.next_out_index=0,s.avail_out=512,0!=s.deflate(0))throw new Error("deflating: "+s.msg);s.next_out_index&&(512==s.next_out_index?r.push(new Uint8Array(l)):r.push(new Uint8Array(l.subarray(0,s.next_out_index)))),a+=s.next_out_index,e&&0<s.next_in_index&&s.next_in_index!=i&&(e(s.next_in_index),i=s.next_in_index)}while(0<s.avail_in||0===s.avail_out);return n=new Uint8Array(a),r.forEach(function(t){n.set(t,o),o+=t.length}),n}},this.flush=function(){var t,e,n=[],r=0,i=0;do{if(s.next_out_index=0,s.avail_out=512,1!=(t=s.deflate(4))&&0!=t)throw new Error("deflating: "+s.msg);0<512-s.avail_out&&n.push(new Uint8Array(l.subarray(0,s.next_out_index))),i+=s.next_out_index}while(0<s.avail_in||0===s.avail_out);return s.deflateEnd(),e=new Uint8Array(i),n.forEach(function(t){e.set(t,r),r+=t.length}),e}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()).RGBColor=function(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();var n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var r in n)t==r&&(t=n[r]);for(var i=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],o=0;o<i.length;o++){var a=i[o].re,s=i[o].process,l=a.exec(t);l&&(e=s(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n}},function(t){var n="+".charCodeAt(0),r="/".charCodeAt(0),i="0".charCodeAt(0),o="a".charCodeAt(0),a="A".charCodeAt(0),s="-".charCodeAt(0),l="_".charCodeAt(0),u=function(t){var e=t.charCodeAt(0);return e===n||e===s?62:e===r||e===l?63:e<i?-1:e<i+10?e-i+26+26:e<a+26?e-a:e<o+26?e-o+26:void 0};t.API.TTFFont=function(){function i(t,e,n){var r;if(this.rawData=t,r=this.contents=new J(t),this.contents.pos=4,"ttcf"===r.readString(4)){if(!e)throw new Error("Must specify a font name for TTC files.");throw new Error("Font "+e+" not found in TTC file.")}r.pos=0,this.parse(),this.subset=new P(this),this.registerTTF()}return i.open=function(t,e,n,r){if("string"!=typeof n)throw new Error("Invalid argument supplied in TTFFont.open");return new i(function(t){var e,n,r,i,o,a;if(0<t.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var s=t.length;o="="===t.charAt(s-2)?2:"="===t.charAt(s-1)?1:0,a=new Uint8Array(3*t.length/4-o),r=0<o?t.length-4:t.length;var l=0;function h(t){a[l++]=t}for(n=e=0;e<r;e+=4,n+=3)h((16711680&(i=u(t.charAt(e))<<18|u(t.charAt(e+1))<<12|u(t.charAt(e+2))<<6|u(t.charAt(e+3))))>>16),h((65280&i)>>8),h(255&i);return 2===o?h(255&(i=u(t.charAt(e))<<2|u(t.charAt(e+1))>>4)):1===o&&(h((i=u(t.charAt(e))<<10|u(t.charAt(e+1))<<4|u(t.charAt(e+2))>>2)>>8&255),h(255&i)),a}(n),e,r)},i.prototype.parse=function(){return this.directory=new e(this.contents),this.head=new p(this),this.name=new b(this),this.cmap=new y(this),this.toUnicode=new Map,this.hhea=new g(this),this.maxp=new x(this),this.hmtx=new N(this),this.post=new v(this),this.os2=new m(this),this.loca=new F(this),this.glyf=new A(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var i,t,e,n,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.bbox).length;t<e;t++)i=n[t],r.push(Math.round(i*this.scaleFactor));return r}.call(this),this.stemV=0,this.post.exists?(e=255&(n=this.post.italic_angle),!0&(t=n>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+e)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(r=this.familyClass)||2===r||3===r||4===r||5===r||7===r,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},i.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},i.prototype.widthOfString=function(t,e,n){var r,i,o,a,s;for(i=a=o=0,s=(t=""+t).length;0<=s?a<s:s<a;i=0<=s?++a:--a)r=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return o*(e/1e3)},i.prototype.lineHeight=function(t,e){var n;return null==e&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},i}();var h,J=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return 2147483648<=(t=this.readUInt32())?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return 32768<=(t=this.readUInt16())?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,n,r;for(n=[],e=r=0;0<=t?r<t:t<r;e=0<=t?++r:--r)n[e]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(t){var e,n,r,i;for(i=[],e=n=0,r=t.length;0<=r?n<r:r<n;e=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(e)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,n,r,i,o,a,s;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^s)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*i+65536*o+256*a+s},t.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:t<n;0<=t?++n:--n)e.push(this.readByte());return e},t.prototype.write=function(t){var e,n,r,i;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(this.writeByte(e));return i},t}(),e=function(){var d;function t(t){var e,n,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:r<n;0<=r?++n:--n)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return t.prototype.encode=function(t){var e,n,r,i,o,a,s,l,h,u,c,f,p;for(p in c=Object.keys(t).length,a=Math.log(2),h=16*Math.floor(Math.log(c)/a),i=Math.floor(h/a),l=16*c-h,(n=new J).writeInt(this.scalarType),n.writeShort(c),n.writeShort(h),n.writeShort(i),n.writeShort(l),r=16*c,s=n.pos+r,o=null,f=[],t)for(u=t[p],n.writeString(p),n.writeInt(d(u)),n.writeInt(s),n.writeInt(u.length),f=f.concat(u),"head"===p&&(o=s),s+=u.length;s%4;)f.push(0),s++;return n.write(f),e=2981146554-d(n.data),n.pos=o+8,n.writeUInt32(e),n.data},d=function(t){var e,n,r,i;for(t=L.call(t);t.length%4;)t.push(0);for(n=new J(t),r=e=0,i=t.length;r<i;r+=4)e+=n.readUInt32();return 4294967295&e},t}(),c={}.hasOwnProperty,f=function(t,e){for(var n in e)c.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};h=function(){function t(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var p=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var e;return(e=new J).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},e}(),d=function(){function t(n,t){var e,r,i,o,a,s,l,h,u,c,f,p,d,g,m,y,v,w;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=t+n.readInt(),u=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=m=0;m<256;s=++m)this.codeMap[s]=n.readByte();break;case 4:for(f=n.readUInt16(),c=f/2,n.pos+=6,i=function(){var t,e;for(e=[],s=t=0;0<=c?t<c:c<t;s=0<=c?++t:--t)e.push(n.readUInt16());return e}(),n.pos+=2,d=function(){var t,e;for(e=[],s=t=0;0<=c?t<c:c<t;s=0<=c?++t:--t)e.push(n.readUInt16());return e}(),l=function(){var t,e;for(e=[],s=t=0;0<=c?t<c:c<t;s=0<=c?++t:--t)e.push(n.readUInt16());return e}(),h=function(){var t,e;for(e=[],s=t=0;0<=c?t<c:c<t;s=0<=c?++t:--t)e.push(n.readUInt16());return e}(),r=(this.length-n.pos+this.offset)/2,a=function(){var t,e;for(e=[],s=t=0;0<=r?t<r:r<t;s=0<=r?++t:--t)e.push(n.readUInt16());return e}(),s=y=0,w=i.length;y<w;s=++y)for(g=i[s],e=v=p=d[s];p<=g?v<=g:g<=v;e=p<=g?++v:--v)0===h[s]?o=e+l[s]:0!==(o=a[h[s]/2+(e-p)-(c-s)]||0)&&(o+=l[s]),this.codeMap[e]=65535&o}n.pos=u}return t.encode=function(t,e){var n,r,i,o,a,s,l,h,u,c,f,p,d,g,m,y,v,w,b,x,N,L,A,S,_,F,P,k,I,C,B,j,E,M,O,q,T,R,D,U,z,H,W,V,G,Y;switch(k=new J,o=Object.keys(t).sort(function(t,e){return t-e}),e){case"macroman":for(d=0,g=function(){var t,e;for(e=[],p=t=0;t<256;p=++t)e.push(0);return e}(),y={0:0},i={},I=0,E=o.length;I<E;I++)null==y[W=t[r=o[I]]]&&(y[W]=++d),i[r]={old:t[r],new:y[t[r]]},g[r]=y[t[r]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(g),{charMap:i,subtable:k.data,maxGlyphID:d+1};case"unicode":for(F=[],u=[],y={},n={},m=l=null,C=v=0,M=o.length;C<M;C++)null==y[b=t[r=o[C]]]&&(y[b]=++v),n[r]={old:b,new:y[b]},a=y[b]-r,null!=m&&a===l||(m&&u.push(m),F.push(r),l=a),m=r;for(m&&u.push(m),u.push(65535),F.push(65535),S=2*(A=F.length),L=2*Math.pow(Math.log(A)/Math.LN2,2),c=Math.log(L/2)/Math.LN2,N=2*A-L,s=[],x=[],f=[],p=B=0,O=F.length;B<O;p=++B){if(_=F[p],h=u[p],65535===_){s.push(0),x.push(0);break}if(32768<=_-(P=n[_].new))for(s.push(0),x.push(2*(f.length+A-p)),r=j=_;_<=h?j<=h:h<=j;r=_<=h?++j:--j)f.push(n[r].new);else s.push(P-_),x.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*A+2*f.length),k.writeUInt16(0),k.writeUInt16(S),k.writeUInt16(L),k.writeUInt16(c),k.writeUInt16(N),z=0,q=u.length;z<q;z++)r=u[z],k.writeUInt16(r);for(k.writeUInt16(0),H=0,T=F.length;H<T;H++)r=F[H],k.writeUInt16(r);for(V=0,R=s.length;V<R;V++)a=s[V],k.writeUInt16(a);for(G=0,D=x.length;G<D;G++)w=x[G],k.writeUInt16(w);for(Y=0,U=f.length;Y<U;Y++)d=f[Y],k.writeUInt16(d);return{charMap:n,subtable:k.data,maxGlyphID:v+1}}},t}(),y=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag="cmap",e.prototype.parse=function(t){var e,n,r;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:n<r;0<=n?++r:--r)e=new d(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},e.encode=function(t,e){var n,r;return null==e&&(e="macroman"),n=d.encode(t,e),(r=new J).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),g=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),m=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var t,e;for(e=[],t=0;t<10;++t)e.push(n.readByte());return e}(),this.charRange=function(){var t,e;for(e=[],t=0;t<4;++t)e.push(n.readInt());return e}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),0<this.version&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var t,e;for(e=[],t=0;t<2;++t)e.push(n.readInt());return e}(),1<this.version))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),v=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag="post",e.prototype.parse=function(r){var t,e,n,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:for(e=r.readUInt16(),this.glyphNameIndex=[],n=0;0<=e?n<e:e<n;0<=e?++n:--n)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)t=r.readByte(),i.push(this.names.push(r.readString(t)));return i;case 151552:return e=r.readUInt16(),this.offsets=r.read(e);case 196608:break;case 262144:return this.map=function(){var t,e,n;for(n=[],t=0,e=this.file.maxp.numGlyphs;0<=e?t<e:e<t;0<=e?++t:--t)n.push(r.readUInt32());return n}.call(this)}},e}(),w=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},b=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag="name",e.prototype.parse=function(t){var e,n,r,i,o,a,s,l,h,u,c,f;for(t.pos=this.offset,t.readShort(),e=t.readShort(),a=t.readShort(),n=[],i=h=0;0<=e?h<e:e<h;i=0<=e?++h:--h)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(s={},i=u=0,c=n.length;u<c;i=++u)r=n[i],t.pos=r.offset,l=t.readString(r.length),o=new w(l,r),null==s[f=r.nameID]&&(s[f]=[]),s[r.nameID].push(o);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(t){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},e}(),x=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),N=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag="hmtx",e.prototype.parse=function(n){var t,r,i,e,o,a,s;for(n.pos=this.offset,this.metrics=[],e=0,a=this.file.hhea.numberOfMetrics;0<=a?e<a:a<e;0<=a?++e:--e)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var t,e;for(e=[],t=0;0<=r?t<r:r<t;0<=r?++t:--t)e.push(n.readInt16());return e}(),this.widths=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.metrics).length;t<e;t++)i=n[t],r.push(i.advance);return r}.call(this),t=this.widths[this.widths.length-1],s=[],o=0;0<=r?o<r:r<o;0<=r?++o:--o)s.push(this.widths.push(t));return s},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),L=[].slice,A=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag="glyf",e.prototype.parse=function(t){return this.cache={}},e.prototype.glyphFor=function(t){var e,n,r,i,o,a,s,l,h,u;return(t=t)in this.cache?this.cache[t]:(i=this.file.loca,e=this.file.contents,n=i.indexOf(t),0===(r=i.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+n,o=(a=new J(e.read(r))).readShort(),l=a.readShort(),u=a.readShort(),s=a.readShort(),h=a.readShort(),this.cache[t]=-1===o?new _(a,l,u,s,h):new S(a,o,l,u,s,h),this.cache[t]))},e.prototype.encode=function(t,e,n){var r,i,o,a,s;for(o=[],i=[],a=0,s=e.length;a<s;a++)r=t[e[a]],i.push(o.length),r&&(o=o.concat(r.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),S=function(){function t(t,e,n,r,i,o){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),_=function(){function t(t,e,n,r,i){var o,a;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readShort()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return 1,8,32,64,128,t.prototype.encode=function(t){var e,n,r,i,o;for(n=new J(L.call(this.raw.data)),e=r=0,i=(o=this.glyphIDs).length;r<i;e=++r)o[e],n.pos=this.glyphOffsets[e];return n.data},t}(),F=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag="loca",e.prototype.parse=function(r){var t;return r.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,e,n;for(n=[],t=0,e=this.length;t<e;t+=2)n.push(2*r.readUInt16());return n}.call(this):function(){var t,e,n;for(n=[],t=0,e=this.length;t<e;t+=4)n.push(r.readUInt32());return n}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,o=0;o<n.length;++o)if(n[o]=r,i<e.length&&e[i]==o){++i,n[o]=r;var a=this.offsets[o],s=this.offsets[o+1]-a;0<s&&(r+=s)}for(var l=new Array(4*n.length),h=0;h<n.length;++h)l[4*h+3]=255&n[h],l[4*h+2]=(65280&n[h])>>8,l[4*h+1]=(16711680&n[h])>>16,l[4*h]=(4278190080&n[h])>>24;return l},e}(),P=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,n,r,i;for(e in r=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[e],t[e]=r[n];return t},t.prototype.glyphsFor=function(t){var e,n,r,i,o,a,s;for(r={},o=0,a=t.length;o<a;o++)r[i=t[o]]=this.font.glyf.glyphFor(i);for(i in e=[],r)(null!=(n=r[i])?n.compound:void 0)&&e.push.apply(e,n.glyphIDs);if(0<e.length)for(i in s=this.glyphsFor(e))n=s[i],r[i]=n;return r},t.prototype.encode=function(t,e){var n,r,i,o,a,s,l,h,u,c,f,p,d,g,m;for(r in n=y.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},m=n.charMap)f[(s=m[r]).old]=s.new;for(p in c=n.maxGlyphID,o)p in f||(f[p]=c++);return h=function(t){var e,n;for(e in n={},t)n[t[e]]=e;return n}(f),u=Object.keys(h).sort(function(t,e){return t-e}),d=function(){var t,e,n;for(n=[],t=0,e=u.length;t<e;t++)a=u[t],n.push(h[a]);return n}(),i=this.font.glyf.encode(o,d,f),l=this.font.loca.encode(i.offsets,d),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();t.API.PDFObject=function(){var o;function a(){}return o=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},a.convert=function(r){var i,t,e,n;if(Array.isArray(r))return"["+function(){var t,e,n;for(n=[],t=0,e=r.length;t<e;t++)i=r[t],n.push(a.convert(i));return n}().join(" ")+"]";if("string"==typeof r)return"/"+r;if(null!=r?r.isString:void 0)return"("+r+")";if(r instanceof Date)return"(D:"+o(r.getUTCFullYear(),4)+o(r.getUTCMonth(),2)+o(r.getUTCDate(),2)+o(r.getUTCHours(),2)+o(r.getUTCMinutes(),2)+o(r.getUTCSeconds(),2)+"Z)";if("[object Object]"!=={}.toString.call(r))return""+r;for(t in e=["<<"],r)n=r[t],e.push("/"+t+" "+a.convert(n));return e.push(">>"),e.join("\n")},a}()}(lt),
/*
  # PNG.js
  # Copyright (c) 2011 Devon Govett
  # MIT LICENSE
  # 
  # 
  */
Nt="undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")(),Lt=function(){var h,n,r;function i(t){var e,n,r,i,o,a,s,l,h,u,c,f,p,d;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(e=this.readUInt32(),h=function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,a.delay=1e3*o/i,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===h&&(this.pos+=4,e-=4),t=(null!=a?a.data:void 0)||this.imgData,f=0;0<=e?f<e:e<f;0<=e?++f:--f)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if(0<(u=r-this.transparency.indexed.length))for(p=0;0<=u?p<u:u<p;0<=u?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":s=(c=this.read(e)).indexOf(0),l=String.fromCharCode.apply(String,c.slice(0,s)),this.text[l]=String.fromCharCode.apply(String,c.slice(s+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(d=this.colorType)||6===d,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.load=function(t,e,n){var r;return"function"==typeof e&&(n=e),(r=new XMLHttpRequest).open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){var t;return t=new i(new Uint8Array(r.response||r.mozResponseArrayBuffer)),"function"==typeof(null!=e?e.getContext:void 0)&&t.render(e),"function"==typeof n?n(t):void 0},r.send(null)},i.prototype.read=function(t){var e,n;for(n=[],e=0;0<=t?e<t:t<e;0<=t?++e:--e)n.push(this.data[this.pos++]);return n},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(C){var B=this.pixelBitlength/8,j=new Uint8Array(this.width*this.height*B),E=0,M=this;if(null==C&&(C=this.imgData),0===C.length)return new Uint8Array(0);function t(t,e,n,r){var i,o,a,s,l,h,u,c,f,p,d,g,m,y,v,w,b,x,N,L,A,S=Math.ceil((M.width-t)/n),_=Math.ceil((M.height-e)/r),F=M.width==S&&M.height==_;for(y=B*S,g=F?j:new Uint8Array(y*_),h=C.length,o=m=0;m<_&&E<h;){switch(C[E++]){case 0:for(s=b=0;b<y;s=b+=1)g[o++]=C[E++];break;case 1:for(s=x=0;x<y;s=x+=1)i=C[E++],l=s<B?0:g[o-B],g[o++]=(i+l)%256;break;case 2:for(s=N=0;N<y;s=N+=1)i=C[E++],a=(s-s%B)/B,v=m&&g[(m-1)*y+a*B+s%B],g[o++]=(v+i)%256;break;case 3:for(s=L=0;L<y;s=L+=1)i=C[E++],a=(s-s%B)/B,l=s<B?0:g[o-B],v=m&&g[(m-1)*y+a*B+s%B],g[o++]=(i+Math.floor((l+v)/2))%256;break;case 4:for(s=A=0;A<y;s=A+=1)i=C[E++],a=(s-s%B)/B,l=s<B?0:g[o-B],0===m?v=w=0:(v=g[(m-1)*y+a*B+s%B],w=a&&g[(m-1)*y+(a-1)*B+s%B]),u=l+v-w,c=Math.abs(u-l),p=Math.abs(u-v),d=Math.abs(u-w),f=c<=p&&c<=d?l:p<=d?v:w,g[o++]=(i+f)%256;break;default:throw new Error("Invalid filter algorithm: "+C[E-1])}if(!F){var P=((e+m*r)*M.width+t)*B,k=m*y;for(s=0;s<S;s+=1){for(var I=0;I<B;I+=1)j[P++]=g[k++];P+=(n-1)*B}}m++}}return C=(C=new kt(C)).getBytes(),1==M.interlaceMethod?(t(0,0,8,8),t(4,0,8,8),t(0,4,4,8),t(2,0,4,4),t(0,2,2,4),t(1,0,2,2),t(0,1,1,2)):t(0,0,1,1),j},i.prototype.decodePalette=function(){var t,e,n,r,i,o,a,s,l;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,n.length,e=a=t=0,s=n.length;a<s;e=a+=3)i[r++]=n[e],i[r++]=n[e+1],i[r++]=n[e+2],i[r++]=null!=(l=o[t++])?l:255;return i},i.prototype.copyToImageData=function(t,e){var n,r,i,o,a,s,l,h,u,c,f;if(r=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(f=this._decodedPalette)?f:this._decodedPalette=this.decodePalette(),r=4,n=!0),h=(i=t.data||t).length,a=u||e,o=s=0,1===r)for(;o<h;)l=u?4*e[o/4]:s,c=a[l++],i[o++]=c,i[o++]=c,i[o++]=c,i[o++]=n?a[l++]:255,s=l;else for(;o<h;)l=u?4*e[o/4]:s,i[o++]=a[l++],i[o++]=a[l++],i[o++]=a[l++],i[o++]=n?a[l++]:255,s=l},i.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};try{n=Nt.document.createElement("canvas"),r=n.getContext("2d")}catch(t){return-1}return h=function(t){var e;return r.width=t.width,r.height=t.height,r.clearRect(0,0,t.width,t.height),r.putImageData(t,0,0),(e=new Image).src=n.toDataURL(),e},i.prototype.decodeFrames=function(t){var e,n,r,i,o,a,s,l;if(this.animation){for(l=[],n=o=0,a=(s=this.animation.frames).length;o<a;n=++o)e=s[n],r=t.createImageData(e.width,e.height),i=this.decodePixels(new Uint8Array(e.data)),this.copyToImageData(r,i),e.imageData=r,l.push(e.image=h(r));return l}},i.prototype.renderFrame=function(t,e){var n,r,i;return n=(r=this.animation.frames)[e],i=r[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?t.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&t.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&t.clearRect(n.xOffset,n.yOffset,n.width,n.height),t.drawImage(n.image,n.xOffset,n.yOffset)},i.prototype.animate=function(n){var r,i,o,a,s,t,l=this;return i=0,t=this.animation,a=t.numFrames,o=t.frames,s=t.numPlays,(r=function(){var t,e;if(t=i++%a,e=o[t],l.renderFrame(n,t),1<a&&i/a<s)return l.animation._timeout=setTimeout(r,e.delay)})()},i.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},i.prototype.render=function(t){var e,n;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(n=e.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),e.putImageData(n,0,0))},i}(),Nt.PNG=Lt;
/*
   * Extracted from pdf.js
   * https://github.com/andreasgal/pdf.js
   *
   * Copyright (c) 2011 Mozilla Foundation
   *
   * Contributors: Andreas Gal <gal@mozilla.com>
   *               Chris G Jones <cjones@mozilla.com>
   *               Shaon Barman <shaon.barman@gmail.com>
   *               Vivien Nicolas <21@vingtetun.org>
   *               Justin D'Arcangelo <justindarc@gmail.com>
   *               Yury Delendik
   *
   * 
   */
var Pt=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,n=e?e.byteLength:0;if(t<n)return e;for(var r=512;r<t;)r<<=1;for(var i=new Uint8Array(r),o=0;o<n;++o)i[o]=e[o];return this.buffer=i},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var n=e+t;!this.eof&&this.bufferLength<n;)this.readBlock();var r=this.bufferLength;r<n&&(n=r)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}return this.pos=n,this.buffer.subarray(e,n)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,n){for(var r=t+e;this.bufferLength<=r&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,n)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),kt=function(){if("undefined"!=typeof Uint32Array){var k=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),I=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),C=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),B=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],j=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return(t.prototype=Object.create(Pt.prototype)).getBits=function(t){for(var e,n=this.codeSize,r=this.codeBuf,i=this.bytes,o=this.bytesPos;n<t;)void 0===(e=i[o++])&&E("Bad encoding in flate stream"),r|=e<<n,n+=8;return e=r&(1<<t)-1,this.codeBuf=r>>t,this.codeSize=n-=t,this.bytesPos=o,e},t.prototype.getCode=function(t){for(var e=t[0],n=t[1],r=this.codeSize,i=this.codeBuf,o=this.bytes,a=this.bytesPos;r<n;){var s;void 0===(s=o[a++])&&E("Bad encoding in flate stream"),i|=s<<r,r+=8}var l=e[i&(1<<n)-1],h=l>>16,u=65535&l;return(0==r||r<h||0==h)&&E("Bad encoding in flate stream"),this.codeBuf=i>>h,this.codeSize=r-h,this.bytesPos=a,u},t.prototype.generateHuffmanTable=function(t){for(var e=t.length,n=0,r=0;r<e;++r)t[r]>n&&(n=t[r]);for(var i=1<<n,o=new Uint32Array(i),a=1,s=0,l=2;a<=n;++a,s<<=1,l<<=1)for(var h=0;h<e;++h)if(t[h]==a){var u=0,c=s;for(r=0;r<a;++r)u=u<<1|1&c,c>>=1;for(r=u;r<i;r+=l)o[r]=a<<16|h;++s}return[o,n]},t.prototype.readBlock=function(){function t(t,e,n,r,i){for(var o=t.getBits(n)+r;0<o--;)e[l++]=i}var e=this.getBits(3);if(1&e&&(this.eof=!0),0!=(e>>=1)){var n,r;if(1==e)n=B,r=j;else if(2==e){for(var i=this.getBits(5)+257,o=this.getBits(5)+1,a=this.getBits(4)+4,s=Array(k.length),l=0;l<a;)s[k[l++]]=this.getBits(3);for(var h=this.generateHuffmanTable(s),u=0,c=(l=0,i+o),f=new Array(c);l<c;){var p=this.getCode(h);16==p?t(this,f,2,3,u):17==p?t(this,f,3,3,u=0):18==p?t(this,f,7,11,u=0):f[l++]=u=p}n=this.generateHuffmanTable(f.slice(0,i)),r=this.generateHuffmanTable(f.slice(i,c))}else E("Unknown block type in flate stream");for(var d=(_=this.buffer)?_.length:0,g=this.bufferLength;;){var m=this.getCode(n);if(m<256)d<=g+1&&(d=(_=this.ensureBuffer(g+1)).length),_[g++]=m;else{if(256==m)return void(this.bufferLength=g);var y=(m=I[m-=257])>>16;0<y&&(y=this.getBits(y));u=(65535&m)+y;m=this.getCode(r),0<(y=(m=C[m])>>16)&&(y=this.getBits(y));var v=(65535&m)+y;d<=g+u&&(d=(_=this.ensureBuffer(g+u)).length);for(var w=0;w<u;++w,++g)_[g]=_[g-v]}}}else{var b,x=this.bytes,N=this.bytesPos;void 0===(b=x[N++])&&E("Bad block header in flate stream");var L=b;void 0===(b=x[N++])&&E("Bad block header in flate stream"),L|=b<<8,void 0===(b=x[N++])&&E("Bad block header in flate stream");var A=b;void 0===(b=x[N++])&&E("Bad block header in flate stream"),(A|=b<<8)!=(65535&~L)&&E("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var S=this.bufferLength,_=this.ensureBuffer(S+L),F=S+L;this.bufferLength=F;for(var P=S;P<F;++P){if(void 0===(b=x[N++])){this.eof=!0;break}_[P]=b}this.bytesPos=N}},t}function E(t){throw new Error(t)}function t(t){var e=0,n=t[e++],r=t[e++];-1!=n&&-1!=r||E("Invalid header in flate stream"),8!=(15&n)&&E("Unknown compression method in flate stream"),((n<<8)+r)%31!=0&&E("Bad FCHECK in flate stream"),32&r&&E("FDICT bit set in flate stream"),this.bytes=t,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,Pt.call(this)}}();window.tmp=kt});try{module.exports=jsPDF}catch(t){}
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],16:[function(require,module,exports){
// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],17:[function(require,module,exports){
(function (setImmediate){
var si = typeof setImmediate === 'function', tick;
if (si) {
  tick = function (fn) { setImmediate(fn); };
} else {
  tick = function (fn) { setTimeout(fn, 0); };
}

module.exports = tick;
}).call(this,require("timers").setImmediate)

},{"timers":18}],18:[function(require,module,exports){
(function (setImmediate,clearImmediate){
var nextTick = require('process/browser.js').nextTick;
var apply = Function.prototype.apply;
var slice = Array.prototype.slice;
var immediateIds = {};
var nextImmediateId = 0;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) { timeout.close(); };

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(window, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// That's not how node.js implements it but the exposed api is the same.
exports.setImmediate = typeof setImmediate === "function" ? setImmediate : function(fn) {
  var id = nextImmediateId++;
  var args = arguments.length < 2 ? false : slice.call(arguments, 1);

  immediateIds[id] = true;

  nextTick(function onNextTick() {
    if (immediateIds[id]) {
      // fn.call() is faster so we optimize for the common use-case
      // @see http://jsperf.com/call-apply-segu
      if (args) {
        fn.apply(null, args);
      } else {
        fn.call(null);
      }
      // Prevent ids from leaking
      exports.clearImmediate(id);
    }
  });

  return id;
};

exports.clearImmediate = typeof clearImmediate === "function" ? clearImmediate : function(id) {
  delete immediateIds[id];
};
}).call(this,require("timers").setImmediate,require("timers").clearImmediate)

},{"process/browser.js":16,"timers":18}],19:[function(require,module,exports){
// var InlineEditor = require('../../dependencies/ckeditor/ckeditor5-inline-full/build/ckeditor')
var BalloonEditor = require('../../dependencies/ckeditor/ckeditor-baloon/build/ckeditor')
// require('../../dependencies/ckeditor/ckeditor5-inline-full/build/translations/ru')
module.exports = {

    removeTextEditor: function remove(el) {

    },

    initTextEditor: function (el) {
        // !el.getAttribute('id') &&
        //el.setAttribute('id', Math.random().toString(36).substring(2));
        // el.setAttribute('contenteditable', true)

        // setTimeout(() =>
            ckEditor(el)
            // , 1000);
    }
};


function ckEditor(el) {

    if(el.classList.contains('initialized'))
        return
    el.classList.add('initialized');
    // InlineEditor
    BalloonEditor
        .create(el, {

            toolbar: {
                items: [
                    'undo',
                    'redo',
                    '|',
                    'bold',
                    'italic',
                    'underline',
                    'strikethrough',
                    'subscript',
                    'superscript',
                    // 'blockQuote',
                    // 'bulletedList',
                    // 'numberedList',
                    '|',
                    'alignment',
                    'indent',
                    'outdent',
                    'fontFamily',
                    'fontSize',
                    'fontBackgroundColor',
                    'fontColor',
                    '|',
                    'imageUpload',
                    'insertTable',
                    'specialCharacters',
                    'horizontalLine',
                    'link'
                ]
            },
            language: 'ru',
            image: {
                toolbar: [
                    'imageTextAlternative',
                    'imageStyle:full',
                    'imageStyle:side'
                ]
            },
            table: {
                contentToolbar: [
                    'tableColumn',
                    'tableRow',
                    'mergeTableCells',
                    'tableCellProperties',
                    'tableProperties'
                ]
            },
            licenseKey: '',

        }).then(editor => {
            el.editor = editor;
        })
}

},{"../../dependencies/ckeditor/ckeditor-baloon/build/ckeditor":1}],20:[function(require,module,exports){
let fill = '#432c12'

module.exports = {
    move: (w, h) => `
        <svg fill="${fill}" xmlns="http://www.w3.org/2000/svg" viewBox="-50 -50 612 612" width="${w}px"  height="${h}px">
            <path d="M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 
                0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 
                21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 
                159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 
                0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 
                15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 
                40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 
                4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z"/>
        </svg>
    `,
    copy: (w, h) => `
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="-50 -50 548 612" width="${w}px"  height="${h}px">
            <path fill="${fill}" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 
                0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 
                30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 
                13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 
                0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 
                0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"/>
        </svg>
    `
};
},{}],21:[function(require,module,exports){
require('./pdf-editor.css');
require('../../dependencies/flexboxgrid/flexboxgrid.min.css');
let TextEditor = require('./CkEditor5')

require('../../node_modules/dragula/dist/dragula.min.css');
let dragula = require('dragula');

let Icons = require('./Icons');

//https://github.com/eKoopmans/html2pdf.js/blob/master/README.md
let html2pdf = require('html2pdf.js');

let htmlTemplate = require('./html-template');
let TemplatesFactory = require('./TemplatesFactory');

let templatesFactory = new TemplatesFactory();


class PdfEditor {

    constructor(targetElement, data) {
        if (typeof targetElement === "string")
            targetElement = document.querySelector(targetElement);
        targetElement.innerHTML = htmlTemplate;
        targetElement.querySelector('.sidePanel #blocks')
            .innerHTML = templatesFactory.createBlocks();
        targetElement.querySelector('.sidePanel #elements')
            .innerHTML = templatesFactory.createElements();
        targetElement.addEventListener('mousemove',
                e => this.manageButtons(e));
        this.targetElement = targetElement;
        this.overlay = document.querySelector('.svg-overlay');
        this.overlayPath =this.overlay.querySelector('path');
        this.overlayClip =this.overlay.querySelector('polygon');
        this.initDnD()
        this.updateSelection();
        this.initEditors();

        document.querySelectorAll('.groupName')
            .forEach(groupName => {
                groupName.addEventListener('click', () => {
                    groupName.classList.toggle('collapsed')
                })
            })


        console.log('pdf-editor: v0.0.3')
    }

    updateSelection(){
        requestAnimationFrame(this.updateSelection.bind(this));
        if (!this.selectedDropzone)
            return this.overlayPath.removeAttribute('d');
        let rect = this.selectedDropzone.getBoundingClientRect();
        this.overlay.setAttribute('viewBox',
            `0 0 ${innerWidth} ${innerHeight}`);
        this.overlay.setAttribute('width', innerWidth);
        this.overlay.setAttribute('height', innerHeight);
        this.overlayPath.setAttribute('d',
            `M${rect.x},${rect.y}h${rect.width}v${rect.height}h-${rect.width}z`)


        rect = this.targetElement.querySelector('.content').getBoundingClientRect();
        let scrollWidth = 17;
        this.overlayClip.setAttribute('points', [
            rect.x, rect.y,
            rect.x+rect.width-scrollWidth, rect.y,
            rect.x+rect.width-scrollWidth, rect.y+rect.height,
            rect.x, rect.y+rect.height
        ].join(' '));
    }

    initDnD() {
        let drake = this.drake = dragula([
            document.querySelector('#blocks'),
            document.querySelector('#elements'),
            document.querySelector('.page')
        ], {
            removeOnSpill: true,
            copy: function (el, source) {
                return source.classList.contains('templates');
            },
            accepts: function (el, target) {
                let t = target.classList;
                if (t.contains('templates'))
                    return false;
               // console.log(target.parentNode)
                if (!el.querySelector('.add_editor_here'))
                    return target.classList.contains('page');
                else
                    return target.classList.contains('dropzone') && target.parentNode.getAttribute('block_no_edit') !== 'true';
            },
            moves: function (el, container, handle) {
                return handle.classList.contains('handle') ||
                    container.classList.contains('templates');
            }
        });

        drake.on('drag', e => {
            this.selecteBlock = null;
            TextEditor.removeTextEditor(null)
           // console.log(e.parentNode.parentNode.id)
        });

        drake.on('drop', el => {
            if (el.classList.contains('dropzone'))
                this.selectedDropzone = el;
            else
                this.selectedDropzone = el.parentNode.parentNode;
            this.clickOnDropzone(this.selectedDropzone)
            this.initTemplate(el, '.origin');
        });

    }

    initEditor(el) {
        this.removeBySel('.dz-buttons, .template-buttons');
        TextEditor.initTextEditor(el)
    }

    downloadPdf() {
      html2pdf()
            .from(document.querySelector('.page'))
            .set({
                pagebreak: {
                    mode: 'avoid-all',
                    after: '.page-break'
                }
            })
            .save()

    }

    viewPdf(cb) {
        return html2pdf()
            .from(document.querySelector('.page'))
            .set({
                pagebreak: {
                    mode: 'avoid-all',
                    after: '.page-break'
                }
            });
    }

    getDocument() {
        let pageContent = document.querySelector('.page').outerHTML;
        let tmp = document.createElement('div');
        tmp.innerHTML = pageContent;
        tmp.querySelectorAll('.initialized').forEach(tpl => {
           tpl.classList.remove('initialized');
        });
        return tmp.innerHTML;
    }

    rnd(){
        return Math.random().toString(36).substring(2);
    }

    initTemplate(el, dropzoneSelector){
        if (!el.id)
            el.id = 'block_' + this.rnd() + this.rnd();
        let isDropzone = el.querySelector('.dropzone');
        if (isDropzone) {
            let dropzones = el.querySelectorAll(dropzoneSelector);
            dropzones.forEach(dropzone => {
                this.drake.containers.push(dropzone);
                dropzone.classList.remove('origin');
                dropzone.addEventListener('click', () => this.clickOnDropzone(el));
            });

        } else {
            el = el.querySelector('div.add_editor_here')
            if (el && !el.classList.contains('initialized')) {
                this.initEditor(el);
                el.addEventListener('click', () => this.clickOnBlock(el));
                // el.addEventListener('dblclick', () => this.initEditor(el));
            }
        }
    }

    clickOnDropzone(el){
        this.selectedDropzone = el;

        if (!el)
            return;
        document.querySelector('#block_name').value = el.getAttribute('block_name');
        document.querySelector('#block_descr').value = el.getAttribute('block_descr');
        document.querySelector('#block_no_edit').checked = "true" !== el.getAttribute('block_no_edit');
        document.querySelector('#block_no_move').checked = "true" !== el.getAttribute('block_no_move');
        document.querySelector('#block_no_copy').checked = "true" !== el.getAttribute('block_no_copy');
    }

    clickOnBlock(el){
        this.selecteBlock = el;

       // TextEditor.removeTextEditor(el)
    }

    loadDocument(data) {
        if (!data)
            return;
        let content = document.querySelector('.content');
        content.innerHTML = data;
        let templates = content.querySelectorAll('.template');
        templates.forEach(tpl => this.initTemplate(tpl, '.dropzone'));
        this.drake.containers.push(content.querySelector('.page'));
    }

    removeBySel(sel) {
        document.querySelectorAll(sel)
            .forEach(e => e.remove());
    }

    copy(e) {
        e.stopPropagation();
        let tpl = e.target.closest('.template');
        let cloned = tpl.cloneNode(true);
        cloned.querySelector('.initialized').classList.remove('initialized');
        tpl.parentElement.insertBefore(cloned, tpl);
        let templates = cloned.querySelectorAll('.template');
        templates.forEach(tpl => this.initTemplate(tpl, '.dropzone'));
        this.initTemplate(cloned, '.dropzone');
    }

    manageButtons(e) {
        if (e.target.classList.contains('handle'))
            return;

        let closestDz = e.target.closest('.page .template:not(.col-xs)');
        if (closestDz !== this.mouseOverDz) {
            this.removeBySel('.dz-buttons');
            this.mouseOverDz = closestDz;
            if (closestDz) {
                let tb = document.createElement('div');
                tb.classList.add('dz-buttons');

                let canMove = closestDz.getAttribute('block_no_move') !== 'true';
                let canCopy = closestDz.getAttribute('block_no_copy') !== 'true';
                tb.innerHTML = `
                    <div>
                        ${canMove?`<span class='handle'>${Icons.move(30,30)}</span>`:''}
                        ${canCopy?`<span class='copy'>${Icons.copy(30,30)}</span>`:''}
                    </div>
                `;
                closestDz.insertBefore(tb, closestDz.firstChild);
                let copy = tb.querySelector('.copy')
                copy && (copy.onclick = e => this.copy(e))
            }
        }

        let closestTpl = e.target.closest('.page .template.col-xs');
        if (closestTpl !== this.mouseOverTpl) {
            this.removeBySel('.template-buttons');
            this.mouseOverTpl = closestTpl;
            let canEdit = closestDz.getAttribute('block_no_edit') !== 'true';
            if (closestTpl && canEdit) {
                let closestTpl1 = e.target.closest('.page .template.col-xs:not(.mce-edit-focus)');
                let tb = document.createElement('div');
                tb.classList.add('template-buttons');
                tb.innerHTML = `
                    <div>
                        <div class='handle'>${Icons.move(30,30)}</div>
                    </div>
                `;
                closestTpl1.insertBefore(tb, closestTpl1.firstChild)
            }
        }

    }

    initEditors() {
        let self = this;
        [
            '#block_name',
            '#block_descr',
            '#block_no_edit',
            '#block_no_move',
            '#block_no_copy'
        ].forEach(function (selector) {
            document.querySelector(selector).oninput = onInput
        });

        function onInput() {
            if (!self.selectedDropzone)
                return
           // console.log(self.selectedDropzone)
            self.selectedDropzone.setAttribute(this.id,
                this.type === 'checkbox' ? !this.checked : this.value
            );
            if (this.id !== 'block_no_edit')
                return;
            self.selectedDropzone
                .querySelectorAll('.add_editor_here')
                .forEach(el => {
                    if (this.checked)
                        el.setAttribute('contenteditable', true)
                    else
                        el.removeAttribute('contenteditable')
                })
        }
    }
}

window.PdfEditor = PdfEditor;
},{"../../dependencies/flexboxgrid/flexboxgrid.min.css":2,"../../node_modules/dragula/dist/dragula.min.css":11,"./CkEditor5":19,"./Icons":20,"./TemplatesFactory":22,"./html-template":23,"./pdf-editor.css":25,"dragula":12,"html2pdf.js":14}],22:[function(require,module,exports){
class TemplatesFactory {

    createBlocks() {
        let row = `<div class='dropzone origin row'></div>`;
        return this.createTemplate(row) + this.createTemplate(this.pageBreakBlock(), true);
    }
    
     createTemplate(content, col) {
        return `<div class='template ${col?'col-xs':''}'>${content}</div>`;
    }

     imgBlock() {
        let svg = `<svg preserveAspectRatio='xMidYMid meet' xmlns='http://www.w3.org/2000/svg' 
                            width='100px' height='100px' viewbox='0 0 100 100'>
                          <path stroke='black' fill='none' 
                                d='M10,90v-20l30,-30l15,15l35,-35v70z M5,5h90v90h-90z M30,10a10,10,0,1,0,0.001,0z'></path>
                        </svg>`;
        return `<img draggable="false" class="img" width="100px" height="100px"  src="data:image/svg+xml;base64,${btoa(svg)}" >`;
    }

     textBlock() {
        return `<p><span style="color: black">
                    Многие думают, что Lorem Ipsum - взятый с потолка псевдо-латинский набор слов, но это не совсем так. Его корни уходят в один фрагмент классической латыни 45 года н.э., то есть более двух тысячелетий назад.
                </span></p>`
    }

     tableBlock() {
        return `<table><tbody>
                    <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                    <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                    <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                    <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                </tbody></table>`
    }

     headerBlock() {
        return `<p style="text-align:center;"><span class="text-huge"><strong>Заголовок</strong></span></p>`;
    }

     pageBreakBlock() {
        return `<div class="page-break">разрыв страницы</div>`;
    }

     dividerBlock() {
         let svg = `<svg preserveAspectRatio='xMidYMid meet' xmlns='http://www.w3.org/2000/svg' 
                            width='10px' height='20px' viewbox='0 0 10 20'>
                          <path stroke='black' fill='none'  d='M0,10h10'></path>
                        </svg>`;
         return `<img draggable="false" width="100%" height="20px"  src="data:image/svg+xml;base64,${btoa(svg)}" >`;
    }

     createElements() {
        return  [
            this.headerBlock,
            this.textBlock,
            this.imgBlock,
            this.tableBlock
        ].map(fn => this.createTemplate(`<div class="add_editor_here">${fn.call(this)}</div>`, true)).join('')
    }
}

module.exports = TemplatesFactory;
},{}],23:[function(require,module,exports){
let pageStyles = require('./page-styles');
let color = '#ff6e1b';
module.exports = `
    <div class="pdf-editor wrapper">
        <div class="sidePanel bg1">
            <div class="groupName">Блоки</div>
            <div id="blocks" class="templates" style="min-height: 140px"></div>
            <div class="groupName">Элементы</div>
            <div id="elements" class="templates" style="min-height: 380px"></div>
            <div class="groupName">Настройки</div>
            <div style="padding:  0 10px; color:white; width:100%">
                <br>
                <div class="sub-label">Название блока</div>
                <input type="text" id="block_name">
                
                <br>
                <br>
                <div class="sub-label">Описание блока</div>
                <textarea  id="block_descr"></textarea>
                
                <br>
                <br>
                <div class="sub-label">Разрешить редактирование</div>
                <input id="block_no_edit" type="checkbox">
                 
                <br>
                <br>
                <div class="sub-label">Разрешить перемещение</div>
                <input id="block_no_move" type="checkbox">
                
                <br>
                <br>
                <div class="sub-label">Разрешить копирование</div>
                <input id="block_no_copy" type="checkbox">
                
                <br>
                <br>
                <button>Загрузить из БД</button>
            </div>
        </div>
        <div class="content">
            <div class="page container">${pageStyles}</div>
        </div>

        <svg class="svg-overlay">
            <defs>
                <clipPath id="editor_clip_rect">
                    <polygon></polygon>
                </clipPath>
            </defs>
            <path clip-path="url(#editor_clip_rect)"  fill="none"  stroke="${color}"></path>
        </svg>
    </div>
`;

},{"./page-styles":24}],24:[function(require,module,exports){




module.exports = `
    <style>
        p {
            margin-block-start: 0!important;
            margin-block-end: 0 !important;
            /*background-color: red;*/
        }
        .page {
            display: inline-block;
            min-height: 1110px;
            width: 790px;
            background: white;
            padding: 5px;
            text-align: left;
        }
        
        .template {
            color: black;
            width: 100%;
        }
        
        .page > .template:not(:last-child) {
            margin-bottom: 5px;
        }
        
        div.dropzone.row {
            min-height: 66px;
            margin: 0;
        }

        .page-break {
            margin-left: -20px;
            margin-right: -20px;
             background: var(--bg-col);
            height: 40px;
            color: orange;
            pointer-events:none;
            text-align: center;
            line-height: 40px;
         }
         
         /*.ck-widget__selection-handle{*/
         /*   display:none*/
         /*}*/
         /*.ck-widget_with-selection-handle{*/
         /*   margin: 0 !important;*/
         /*}*/
         
         /*td {*/
         /*   min-width: 2em;*/
         /*   border: solid #d9d9d9*/
         /*}*/
    </style>
`;
},{}],25:[function(require,module,exports){
var css = ".pdf-editor.wrapper {\n  display: flex;\n  flex-direction: row;\n  --bg-col: #444;\n}\n.pdf-editor .content {\n  flex-grow: 1;\n  background: var(--bg-col);\n  overflow-y: scroll;\n  padding: 50px 20px;\n  text-align: center;\n}\n.pdf-editor .page {\n  box-shadow: 1px 1px 4px 1px #2226;\n}\n.pdf-editor .sidePanel,\n.pdf-editor .propsPanel {\n  display: flex;\n  width: 360px;\n  /*background: #444;*/\n  flex-direction: column;\n  border-left: 1px solid gray;\n  border-right: 1px solid gray;\n  box-sizing: border-box;\n}\n.pdf-editor .templates {\n  /*flex-grow: 1;*/\n  /*overflow-y: auto;*/\n  /*overflow-x: hidden;*/\n  padding: 10px 25px;\n}\n.pdf-editor .templates .template {\n  margin-bottom: 5px;\n  padding: 5px 0;\n}\n.pdf-editor .buttons {\n  padding: 5px 5px 0 5px;\n}\n.pdf-editor .buttons button {\n  line-height: 30px;\n  border-radius: 11px;\n}\n.pdf-editor .template {\n  transition: 0.2s;\n}\n.pdf-editor #elements .template {\n  transition: 0.2s;\n  background: #eee;\n}\n.pdf-editor .sidePanel .dropzone {\n  background-color: #eee;\n}\n.pdf-editor .sidePanel .template:hover {\n  transform: scale(1.1);\n  cursor: move;\n}\n.pdf-editor .page .template:hover  .dz-buttons,\n.pdf-editor .page .template:hover  .template-buttons {\n  opacity: 1;\n}\n.dropzone {\n  background-color: #0001;\n  border: 1px solid #0003;\n  min-height: 66px;\n}\n/*div.dropzone.row:first-child,*/\n/*div.dropzone.row:last-child {*/\n/*    min-height: 0;*/\n/*}*/\n.handle {\n  cursor: move;\n}\n.copy {\n  cursor: pointer;\n}\n.dz-buttons,\n.template-buttons {\n  z-index: 111;\n}\n.dz-buttons > div {\n  /*background: #f006;*/\n  transform: translate(80px,0);\n  width: 50px;\n  user-select: none;\n  text-align: right;\n  height: 100px;\n}\n.dz-buttons svg,\n.template-buttons svg {\n  pointer-events: none;\n}\n.handle,\n.copy {\n  background-color: rgba(254, 177, 62, 0.4);\n  display: inline-block;\n  border-radius: 15%;\n  transition: 0.2s;\n  margin: 2px;\n}\n.handle:hover,\n.copy:hover {\n  background-color: rgba(254, 177, 62, 0.8);\n}\n.dz-buttons,\n.template-buttons {\n  opacity: 0;\n  position: relative;\n  overflow: visible;\n  width: 0px;\n  height: 0px;\n  line-height: 0;\n}\n.template-buttons {\n  transform: translate(-45px, 0);\n}\n.template-buttons > div {\n  width: 40px;\n  height: 60px;\n  /*background: rebeccapurple;*/\n}\ndiv.dz-buttons {\n  margin-left: 700px;\n}\n.svg-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n}\ntable td {\n  min-width: 50px;\n  min-height: 30px;\n  border: 1px solid black;\n}\n.sub-label {\n  font-size: 16px;\n  color: #999;\n  font-family: Arial, sans-serif;\n}\n.sidePanel #elements > div.template {\n  box-shadow: 0 0 0 1px gray;\n  text-align: center;\n}\n.sidePanel #elements > div.template {\n  text-align: center;\n}\ndiv.template  table {\n  border-collapse: collapse;\n}\n.sidePanel textarea {\n  height: 100px;\n}\n.sidePanel input[type=\"text\"] {\n  height: 28px;\n}\n.sidePanel textarea,\n.sidePanel input[type=\"text\"] {\n  border-radius: 4px;\n  background: #444;\n  color: white;\n  border: 1px solid #999;\n  width: 330px;\n}\n.groupName {\n  width: 360px;\n  padding-left: 15px;\n  border-top: 1px solid gray;\n  border-bottom: 1px solid gray;\n  /*text-align: center;*/\n  font-size: 20px;\n  line-height: 30px;\n  font-family: Arial, sans-serif;\n  color: #999;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.groupName + div {\n  transition: 300ms;\n  max-height: 100vh;\n  overflow: hidden;\n}\n.groupName.collapsed + div {\n  max-height: 0;\n  min-height: 0 !important;\n  padding-top: 0;\n  padding-bottom: 0;\n  overflow: hidden;\n}\n.groupName:after {\n  content: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='30' height='30'><circle fill='%23777' cx='15' cy='15' r='10' /><polyline stroke-width='3' points='10 13 15 18 20 13' fill='none' stroke='%23444'/></svg>\");\n  transition: 300ms;\n  float: right;\n  margin-right: 10px;\n  display: inline-block;\n  line-height: 0px;\n}\n.groupName.collapsed:after {\n  transform: rotate(90deg) scale(-1,-1);\n}\n"; (require("browserify-css").createStyle(css, { "href": "src\\pdf-editor\\pdf-editor.css" }, { "insertAt": "bottom" })); module.exports = css;
},{"browserify-css":4}]},{},[21])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXBlbmRlbmNpZXMvY2tlZGl0b3IvY2tlZGl0b3ItYmFsb29uL2J1aWxkL2NrZWRpdG9yLmpzIiwiZGVwZW5kZW5jaWVzL2ZsZXhib3hncmlkL2ZsZXhib3hncmlkLm1pbi5jc3MiLCJub2RlX21vZHVsZXMvYXRvYS9hdG9hLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY3NzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvY29udHJhL2RlYm91bmNlLmpzIiwibm9kZV9tb2R1bGVzL2NvbnRyYS9lbWl0dGVyLmpzIiwibm9kZV9tb2R1bGVzL2Nyb3NzdmVudC9zcmMvY3Jvc3N2ZW50LmpzIiwibm9kZV9tb2R1bGVzL2Nyb3NzdmVudC9zcmMvZXZlbnRtYXAuanMiLCJub2RlX21vZHVsZXMvY3VzdG9tLWV2ZW50L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2RyYWd1bGEvY2xhc3Nlcy5qcyIsIm5vZGVfbW9kdWxlcy9kcmFndWxhL2Rpc3QvZHJhZ3VsYS5taW4uY3NzIiwibm9kZV9tb2R1bGVzL2RyYWd1bGEvZHJhZ3VsYS5qcyIsIm5vZGVfbW9kdWxlcy9odG1sMmNhbnZhcy9kaXN0L2h0bWwyY2FudmFzLmpzIiwibm9kZV9tb2R1bGVzL2h0bWwycGRmLmpzL2Rpc3QvaHRtbDJwZGYuanMiLCJub2RlX21vZHVsZXMvanNwZGYvZGlzdC9qc3BkZi5taW4uanMiLCJub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3RpY2t5L3RpY2t5LWJyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsInNyYy9wZGYtZWRpdG9yL0NrRWRpdG9yNS5qcyIsInNyYy9wZGYtZWRpdG9yL0ljb25zLmpzIiwic3JjL3BkZi1lZGl0b3IvUGRmRWRpdG9yLmpzIiwic3JjL3BkZi1lZGl0b3IvVGVtcGxhdGVzRmFjdG9yeS5qcyIsInNyYy9wZGYtZWRpdG9yL2h0bWwtdGVtcGxhdGUuanMiLCJzcmMvcGRmLWVkaXRvci9wYWdlLXN0eWxlcy5qcyIsInNyYy9wZGYtZWRpdG9yL3BkZi1lZGl0b3IuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBOztBQ0FBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3REQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDckdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakNBOzs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNobUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDMTNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDcmtFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQzdSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN4TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQzNFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9TQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekRBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyohXHJcbiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDIwLCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZC5cclxuICovXHJcbihmdW5jdGlvbih0KXt0W1wicnVcIl09T2JqZWN0LmFzc2lnbih0W1wicnVcIl18fHt9LHthOlwiSW1hZ2UgdG9vbGJhclwiLGI6XCJTcGVjaWFsIGNoYXJhY3RlcnNcIixjOlwibGVmdHdhcmRzIGRvdWJsZSBhcnJvd1wiLGQ6XCJyaWdodHdhcmRzIGRvdWJsZSBhcnJvd1wiLGU6XCJ1cHdhcmRzIGRvdWJsZSBhcnJvd1wiLGY6XCJkb3dud2FyZHMgZG91YmxlIGFycm93XCIsZzpcImxlZnR3YXJkcyBkYXNoZWQgYXJyb3dcIixoOlwicmlnaHR3YXJkcyBkYXNoZWQgYXJyb3dcIixpOlwidXB3YXJkcyBkYXNoZWQgYXJyb3dcIixqOlwiZG93bndhcmRzIGRhc2hlZCBhcnJvd1wiLGs6XCJsZWZ0d2FyZHMgYXJyb3cgdG8gYmFyXCIsbDpcInJpZ2h0d2FyZHMgYXJyb3cgdG8gYmFyXCIsbTpcInVwd2FyZHMgYXJyb3cgdG8gYmFyXCIsbjpcImRvd253YXJkcyBhcnJvdyB0byBiYXJcIixvOlwidXAgZG93biBhcnJvdyB3aXRoIGJhc2VcIixwOlwiYmFjayB3aXRoIGxlZnR3YXJkcyBhcnJvdyBhYm92ZVwiLHE6XCJlbmQgd2l0aCBsZWZ0d2FyZHMgYXJyb3cgYWJvdmVcIixyOlwib24gd2l0aCBleGNsYW1hdGlvbiBtYXJrIHdpdGggbGVmdCByaWdodCBhcnJvdyBhYm92ZVwiLHM6XCJzb29uIHdpdGggcmlnaHR3YXJkcyBhcnJvdyBhYm92ZVwiLHQ6XCJ0b3Agd2l0aCB1cHdhcmRzIGFycm93IGFib3ZlXCIsdTpcIkRvbGxhciBzaWduXCIsdjpcIkV1cm8gc2lnblwiLHc6XCJZZW4gc2lnblwiLHg6XCJQb3VuZCBzaWduXCIseTpcIkNlbnQgc2lnblwiLHo6XCJFdXJvLWN1cnJlbmN5IHNpZ25cIixhYTpcIkNvbG9uIHNpZ25cIixhYjpcIkNydXplaXJvIHNpZ25cIixhYzpcIkZyZW5jaCBmcmFuYyBzaWduXCIsYWQ6XCJMaXJhIHNpZ25cIixhZTpcIkN1cnJlbmN5IHNpZ25cIixhZjpcIkJpdGNvaW4gc2lnblwiLGFnOlwiTWlsbCBzaWduXCIsYWg6XCJOYWlyYSBzaWduXCIsYWk6XCJQZXNldGEgc2lnblwiLGFqOlwiUnVwZWUgc2lnblwiLGFrOlwiV29uIHNpZ25cIixhbDpcIk5ldyBzaGVxZWwgc2lnblwiLGFtOlwiRG9uZyBzaWduXCIsYW46XCJLaXAgc2lnblwiLGFvOlwiVHVncmlrIHNpZ25cIixhcDpcIkRyYWNobWEgc2lnblwiLGFxOlwiR2VybWFuIHBlbm55IHNpZ25cIixhcjpcIlBlc28gc2lnblwiLGFzOlwiR3VhcmFuaSBzaWduXCIsYXQ6XCJBdXN0cmFsIHNpZ25cIixhdTpcIkhyeXZuaWEgc2lnblwiLGF2OlwiQ2VkaSBzaWduXCIsYXc6XCJMaXZyZSB0b3Vybm9pcyBzaWduXCIsYXg6XCJTcGVzbWlsbyBzaWduXCIsYXk6XCJUZW5nZSBzaWduXCIsYXo6XCJJbmRpYW4gcnVwZWUgc2lnblwiLGJhOlwiVHVya2lzaCBsaXJhIHNpZ25cIixiYjpcIk5vcmRpYyBtYXJrIHNpZ25cIixiYzpcIk1hbmF0IHNpZ25cIixiZDpcIlJ1YmxlIHNpZ25cIixiZTpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIGEgd2l0aCBtYWNyb25cIixiZjpcIkxhdGluIHNtYWxsIGxldHRlciBhIHdpdGggbWFjcm9uXCIsYmc6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBhIHdpdGggYnJldmVcIixiaDpcIkxhdGluIHNtYWxsIGxldHRlciBhIHdpdGggYnJldmVcIixiaTpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIGEgd2l0aCBvZ29uZWtcIixiajpcIkxhdGluIHNtYWxsIGxldHRlciBhIHdpdGggb2dvbmVrXCIsYms6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBjIHdpdGggYWN1dGVcIixibDpcIkxhdGluIHNtYWxsIGxldHRlciBjIHdpdGggYWN1dGVcIixibTpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIGMgd2l0aCBjaXJjdW1mbGV4XCIsYm46XCJMYXRpbiBzbWFsbCBsZXR0ZXIgYyB3aXRoIGNpcmN1bWZsZXhcIixibzpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIGMgd2l0aCBkb3QgYWJvdmVcIixicDpcIkxhdGluIHNtYWxsIGxldHRlciBjIHdpdGggZG90IGFib3ZlXCIsYnE6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBjIHdpdGggY2Fyb25cIixicjpcIkxhdGluIHNtYWxsIGxldHRlciBjIHdpdGggY2Fyb25cIixiczpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIGQgd2l0aCBjYXJvblwiLGJ0OlwiTGF0aW4gc21hbGwgbGV0dGVyIGQgd2l0aCBjYXJvblwiLGJ1OlwiTGF0aW4gY2FwaXRhbCBsZXR0ZXIgZCB3aXRoIHN0cm9rZVwiLGJ2OlwiTGF0aW4gc21hbGwgbGV0dGVyIGQgd2l0aCBzdHJva2VcIixidzpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIGUgd2l0aCBtYWNyb25cIixieDpcIkxhdGluIHNtYWxsIGxldHRlciBlIHdpdGggbWFjcm9uXCIsYnk6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBlIHdpdGggYnJldmVcIixiejpcIkxhdGluIHNtYWxsIGxldHRlciBlIHdpdGggYnJldmVcIixjYTpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIGUgd2l0aCBkb3QgYWJvdmVcIixjYjpcIkxhdGluIHNtYWxsIGxldHRlciBlIHdpdGggZG90IGFib3ZlXCIsY2M6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBlIHdpdGggb2dvbmVrXCIsY2Q6XCJMYXRpbiBzbWFsbCBsZXR0ZXIgZSB3aXRoIG9nb25la1wiLGNlOlwiTGF0aW4gY2FwaXRhbCBsZXR0ZXIgZSB3aXRoIGNhcm9uXCIsY2Y6XCJMYXRpbiBzbWFsbCBsZXR0ZXIgZSB3aXRoIGNhcm9uXCIsY2c6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBnIHdpdGggY2lyY3VtZmxleFwiLGNoOlwiTGF0aW4gc21hbGwgbGV0dGVyIGcgd2l0aCBjaXJjdW1mbGV4XCIsY2k6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBnIHdpdGggYnJldmVcIixjajpcIkxhdGluIHNtYWxsIGxldHRlciBnIHdpdGggYnJldmVcIixjazpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIGcgd2l0aCBkb3QgYWJvdmVcIixjbDpcIkxhdGluIHNtYWxsIGxldHRlciBnIHdpdGggZG90IGFib3ZlXCIsY206XCJMYXRpbiBjYXBpdGFsIGxldHRlciBnIHdpdGggY2VkaWxsYVwiLGNuOlwiTGF0aW4gc21hbGwgbGV0dGVyIGcgd2l0aCBjZWRpbGxhXCIsY286XCJMYXRpbiBjYXBpdGFsIGxldHRlciBoIHdpdGggY2lyY3VtZmxleFwiLGNwOlwiTGF0aW4gc21hbGwgbGV0dGVyIGggd2l0aCBjaXJjdW1mbGV4XCIsY3E6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBoIHdpdGggc3Ryb2tlXCIsY3I6XCJMYXRpbiBzbWFsbCBsZXR0ZXIgaCB3aXRoIHN0cm9rZVwiLGNzOlwiTGF0aW4gY2FwaXRhbCBsZXR0ZXIgaSB3aXRoIHRpbGRlXCIsY3Q6XCJMYXRpbiBzbWFsbCBsZXR0ZXIgaSB3aXRoIHRpbGRlXCIsY3U6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBpIHdpdGggbWFjcm9uXCIsY3Y6XCJMYXRpbiBzbWFsbCBsZXR0ZXIgaSB3aXRoIG1hY3JvblwiLGN3OlwiTGF0aW4gY2FwaXRhbCBsZXR0ZXIgaSB3aXRoIGJyZXZlXCIsY3g6XCJMYXRpbiBzbWFsbCBsZXR0ZXIgaSB3aXRoIGJyZXZlXCIsY3k6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBpIHdpdGggb2dvbmVrXCIsY3o6XCJMYXRpbiBzbWFsbCBsZXR0ZXIgaSB3aXRoIG9nb25la1wiLGRhOlwiTGF0aW4gY2FwaXRhbCBsZXR0ZXIgaSB3aXRoIGRvdCBhYm92ZVwiLGRiOlwiTGF0aW4gc21hbGwgbGV0dGVyIGRvdGxlc3MgaVwiLGRjOlwiTGF0aW4gY2FwaXRhbCBsaWdhdHVyZSBpalwiLGRkOlwiTGF0aW4gc21hbGwgbGlnYXR1cmUgaWpcIixkZTpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIGogd2l0aCBjaXJjdW1mbGV4XCIsZGY6XCJMYXRpbiBzbWFsbCBsZXR0ZXIgaiB3aXRoIGNpcmN1bWZsZXhcIixkZzpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIGsgd2l0aCBjZWRpbGxhXCIsZGg6XCJMYXRpbiBzbWFsbCBsZXR0ZXIgayB3aXRoIGNlZGlsbGFcIixkaTpcIkxhdGluIHNtYWxsIGxldHRlciBrcmFcIixkajpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIGwgd2l0aCBhY3V0ZVwiLGRrOlwiTGF0aW4gc21hbGwgbGV0dGVyIGwgd2l0aCBhY3V0ZVwiLGRsOlwiTGF0aW4gY2FwaXRhbCBsZXR0ZXIgbCB3aXRoIGNlZGlsbGFcIixkbTpcIkxhdGluIHNtYWxsIGxldHRlciBsIHdpdGggY2VkaWxsYVwiLGRuOlwiTGF0aW4gY2FwaXRhbCBsZXR0ZXIgbCB3aXRoIGNhcm9uXCIsZG86XCJMYXRpbiBzbWFsbCBsZXR0ZXIgbCB3aXRoIGNhcm9uXCIsZHA6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBsIHdpdGggbWlkZGxlIGRvdFwiLGRxOlwiTGF0aW4gc21hbGwgbGV0dGVyIGwgd2l0aCBtaWRkbGUgZG90XCIsZHI6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBsIHdpdGggc3Ryb2tlXCIsZHM6XCJMYXRpbiBzbWFsbCBsZXR0ZXIgbCB3aXRoIHN0cm9rZVwiLGR0OlwiTGF0aW4gY2FwaXRhbCBsZXR0ZXIgbiB3aXRoIGFjdXRlXCIsZHU6XCJMYXRpbiBzbWFsbCBsZXR0ZXIgbiB3aXRoIGFjdXRlXCIsZHY6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBuIHdpdGggY2VkaWxsYVwiLGR3OlwiTGF0aW4gc21hbGwgbGV0dGVyIG4gd2l0aCBjZWRpbGxhXCIsZHg6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBuIHdpdGggY2Fyb25cIixkeTpcIkxhdGluIHNtYWxsIGxldHRlciBuIHdpdGggY2Fyb25cIixkejpcIkxhdGluIHNtYWxsIGxldHRlciBuIHByZWNlZGVkIGJ5IGFwb3N0cm9waGVcIixlYTpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIGVuZ1wiLGViOlwiTGF0aW4gc21hbGwgbGV0dGVyIGVuZ1wiLGVjOlwiTGF0aW4gY2FwaXRhbCBsZXR0ZXIgbyB3aXRoIG1hY3JvblwiLGVkOlwiTGF0aW4gc21hbGwgbGV0dGVyIG8gd2l0aCBtYWNyb25cIixlZTpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIG8gd2l0aCBicmV2ZVwiLGVmOlwiTGF0aW4gc21hbGwgbGV0dGVyIG8gd2l0aCBicmV2ZVwiLGVnOlwiTGF0aW4gY2FwaXRhbCBsZXR0ZXIgbyB3aXRoIGRvdWJsZSBhY3V0ZVwiLGVoOlwiTGF0aW4gc21hbGwgbGV0dGVyIG8gd2l0aCBkb3VibGUgYWN1dGVcIixlaTpcIkxhdGluIGNhcGl0YWwgbGlnYXR1cmUgb2VcIixlajpcIkxhdGluIHNtYWxsIGxpZ2F0dXJlIG9lXCIsZWs6XCJMYXRpbiBjYXBpdGFsIGxldHRlciByIHdpdGggYWN1dGVcIixlbDpcIkxhdGluIHNtYWxsIGxldHRlciByIHdpdGggYWN1dGVcIixlbTpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIHIgd2l0aCBjZWRpbGxhXCIsZW46XCJMYXRpbiBzbWFsbCBsZXR0ZXIgciB3aXRoIGNlZGlsbGFcIixlbzpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIHIgd2l0aCBjYXJvblwiLGVwOlwiTGF0aW4gc21hbGwgbGV0dGVyIHIgd2l0aCBjYXJvblwiLGVxOlwiTGF0aW4gY2FwaXRhbCBsZXR0ZXIgcyB3aXRoIGFjdXRlXCIsZXI6XCJMYXRpbiBzbWFsbCBsZXR0ZXIgcyB3aXRoIGFjdXRlXCIsZXM6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBzIHdpdGggY2lyY3VtZmxleFwiLGV0OlwiTGF0aW4gc21hbGwgbGV0dGVyIHMgd2l0aCBjaXJjdW1mbGV4XCIsZXU6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBzIHdpdGggY2VkaWxsYVwiLGV2OlwiTGF0aW4gc21hbGwgbGV0dGVyIHMgd2l0aCBjZWRpbGxhXCIsZXc6XCJMYXRpbiBjYXBpdGFsIGxldHRlciBzIHdpdGggY2Fyb25cIixleDpcIkxhdGluIHNtYWxsIGxldHRlciBzIHdpdGggY2Fyb25cIixleTpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIHQgd2l0aCBjZWRpbGxhXCIsZXo6XCJMYXRpbiBzbWFsbCBsZXR0ZXIgdCB3aXRoIGNlZGlsbGFcIixmYTpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIHQgd2l0aCBjYXJvblwiLGZiOlwiTGF0aW4gc21hbGwgbGV0dGVyIHQgd2l0aCBjYXJvblwiLGZjOlwiTGF0aW4gY2FwaXRhbCBsZXR0ZXIgdCB3aXRoIHN0cm9rZVwiLGZkOlwiTGF0aW4gc21hbGwgbGV0dGVyIHQgd2l0aCBzdHJva2VcIixmZTpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIHUgd2l0aCB0aWxkZVwiLGZmOlwiTGF0aW4gc21hbGwgbGV0dGVyIHUgd2l0aCB0aWxkZVwiLGZnOlwiTGF0aW4gY2FwaXRhbCBsZXR0ZXIgdSB3aXRoIG1hY3JvblwiLGZoOlwiTGF0aW4gc21hbGwgbGV0dGVyIHUgd2l0aCBtYWNyb25cIixmaTpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIHUgd2l0aCBicmV2ZVwiLGZqOlwiTGF0aW4gc21hbGwgbGV0dGVyIHUgd2l0aCBicmV2ZVwiLGZrOlwiTGF0aW4gY2FwaXRhbCBsZXR0ZXIgdSB3aXRoIHJpbmcgYWJvdmVcIixmbDpcIkxhdGluIHNtYWxsIGxldHRlciB1IHdpdGggcmluZyBhYm92ZVwiLGZtOlwiTGF0aW4gY2FwaXRhbCBsZXR0ZXIgdSB3aXRoIGRvdWJsZSBhY3V0ZVwiLGZuOlwiTGF0aW4gc21hbGwgbGV0dGVyIHUgd2l0aCBkb3VibGUgYWN1dGVcIixmbzpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIHUgd2l0aCBvZ29uZWtcIixmcDpcIkxhdGluIHNtYWxsIGxldHRlciB1IHdpdGggb2dvbmVrXCIsZnE6XCJMYXRpbiBjYXBpdGFsIGxldHRlciB3IHdpdGggY2lyY3VtZmxleFwiLGZyOlwiTGF0aW4gc21hbGwgbGV0dGVyIHcgd2l0aCBjaXJjdW1mbGV4XCIsZnM6XCJMYXRpbiBjYXBpdGFsIGxldHRlciB5IHdpdGggY2lyY3VtZmxleFwiLGZ0OlwiTGF0aW4gc21hbGwgbGV0dGVyIHkgd2l0aCBjaXJjdW1mbGV4XCIsZnU6XCJMYXRpbiBjYXBpdGFsIGxldHRlciB5IHdpdGggZGlhZXJlc2lzXCIsZnY6XCJMYXRpbiBjYXBpdGFsIGxldHRlciB6IHdpdGggYWN1dGVcIixmdzpcIkxhdGluIHNtYWxsIGxldHRlciB6IHdpdGggYWN1dGVcIixmeDpcIkxhdGluIGNhcGl0YWwgbGV0dGVyIHogd2l0aCBkb3QgYWJvdmVcIixmeTpcIkxhdGluIHNtYWxsIGxldHRlciB6IHdpdGggZG90IGFib3ZlXCIsZno6XCJMYXRpbiBjYXBpdGFsIGxldHRlciB6IHdpdGggY2Fyb25cIixnYTpcIkxhdGluIHNtYWxsIGxldHRlciB6IHdpdGggY2Fyb25cIixnYjpcIkxhdGluIHNtYWxsIGxldHRlciBsb25nIHNcIixnYzpcIkxlc3MtdGhhbiBzaWduXCIsZ2Q6XCJHcmVhdGVyLXRoYW4gc2lnblwiLGdlOlwiTGVzcy10aGFuIG9yIGVxdWFsIHRvXCIsZ2Y6XCJHcmVhdGVyLXRoYW4gb3IgZXF1YWwgdG9cIixnZzpcIkVuIGRhc2hcIixnaDpcIkVtIGRhc2hcIixnaTpcIk1hY3JvblwiLGdqOlwiT3ZlcmxpbmVcIixnazpcIkRlZ3JlZSBzaWduXCIsZ2w6XCJNaW51cyBzaWduXCIsZ206XCJQbHVzLW1pbnVzIHNpZ25cIixnbjpcIkRpdmlzaW9uIHNpZ25cIixnbzpcIkZyYWN0aW9uIHNsYXNoXCIsZ3A6XCJNdWx0aXBsaWNhdGlvbiBzaWduXCIsZ3E6XCJMYXRpbiBzbWFsbCBsZXR0ZXIgZiB3aXRoIGhvb2tcIixncjpcIkludGVncmFsXCIsZ3M6XCJOLWFyeSBzdW1tYXRpb25cIixndDpcIkluZmluaXR5XCIsZ3U6XCJTcXVhcmUgcm9vdFwiLGd2OlwiVGlsZGUgb3BlcmF0b3JcIixndzpcIkFwcHJveGltYXRlbHkgZXF1YWwgdG9cIixneDpcIkFsbW9zdCBlcXVhbCB0b1wiLGd5OlwiTm90IGVxdWFsIHRvXCIsZ3o6XCJJZGVudGljYWwgdG9cIixoYTpcIkVsZW1lbnQgb2ZcIixoYjpcIk5vdCBhbiBlbGVtZW50IG9mXCIsaGM6XCJDb250YWlucyBhcyBtZW1iZXJcIixoZDpcIk4tYXJ5IHByb2R1Y3RcIixoZTpcIkxvZ2ljYWwgYW5kXCIsaGY6XCJMb2dpY2FsIG9yXCIsaGc6XCJOb3Qgc2lnblwiLGhoOlwiSW50ZXJzZWN0aW9uXCIsaGk6XCJVbmlvblwiLGhqOlwiUGFydGlhbCBkaWZmZXJlbnRpYWxcIixoazpcIkZvciBhbGxcIixobDpcIlRoZXJlIGV4aXN0c1wiLGhtOlwiRW1wdHkgc2V0XCIsaG46XCJOYWJsYVwiLGhvOlwiQXN0ZXJpc2sgb3BlcmF0b3JcIixocDpcIlByb3BvcnRpb25hbCB0b1wiLGhxOlwiQW5nbGVcIixocjpcIlZ1bGdhciBmcmFjdGlvbiBvbmUgcXVhcnRlclwiLGhzOlwiVnVsZ2FyIGZyYWN0aW9uIG9uZSBoYWxmXCIsaHQ6XCJWdWxnYXIgZnJhY3Rpb24gdGhyZWUgcXVhcnRlcnNcIixodTpcIlNpbmdsZSBsZWZ0LXBvaW50aW5nIGFuZ2xlIHF1b3RhdGlvbiBtYXJrXCIsaHY6XCJTaW5nbGUgcmlnaHQtcG9pbnRpbmcgYW5nbGUgcXVvdGF0aW9uIG1hcmtcIixodzpcIkxlZnQtcG9pbnRpbmcgZG91YmxlIGFuZ2xlIHF1b3RhdGlvbiBtYXJrXCIsaHg6XCJSaWdodC1wb2ludGluZyBkb3VibGUgYW5nbGUgcXVvdGF0aW9uIG1hcmtcIixoeTpcIkxlZnQgc2luZ2xlIHF1b3RhdGlvbiBtYXJrXCIsaHo6XCJSaWdodCBzaW5nbGUgcXVvdGF0aW9uIG1hcmtcIixpYTpcIkxlZnQgZG91YmxlIHF1b3RhdGlvbiBtYXJrXCIsaWI6XCJSaWdodCBkb3VibGUgcXVvdGF0aW9uIG1hcmtcIixpYzpcIlNpbmdsZSBsb3ctOSBxdW90YXRpb24gbWFya1wiLGlkOlwiRG91YmxlIGxvdy05IHF1b3RhdGlvbiBtYXJrXCIsaWU6XCJJbnZlcnRlZCBleGNsYW1hdGlvbiBtYXJrXCIsaWY6XCJJbnZlcnRlZCBxdWVzdGlvbiBtYXJrXCIsaWc6XCJUd28gZG90IGxlYWRlclwiLGloOlwiSG9yaXpvbnRhbCBlbGxpcHNpc1wiLGlpOlwiRG91YmxlIGRhZ2dlclwiLGlqOlwiUGVyIG1pbGxlIHNpZ25cIixpazpcIlBlciB0ZW4gdGhvdXNhbmQgc2lnblwiLGlsOlwiRG91YmxlIGV4Y2xhbWF0aW9uIG1hcmtcIixpbTpcIlF1ZXN0aW9uIGV4Y2xhbWF0aW9uIG1hcmtcIixpbjpcIkV4Y2xhbWF0aW9uIHF1ZXN0aW9uIG1hcmtcIixpbzpcIkRvdWJsZSBxdWVzdGlvbiBtYXJrXCIsaXA6XCJDb3B5cmlnaHQgc2lnblwiLGlxOlwiUmVnaXN0ZXJlZCBzaWduXCIsaXI6XCJUcmFkZSBtYXJrIHNpZ25cIixpczpcIlNlY3Rpb24gc2lnblwiLGl0OlwiUGFyYWdyYXBoIHNpZ25cIixpdTpcIlJldmVyc2VkIHBhcmFncmFwaCBzaWduXCIsaXY6XCJUYWJsZSB0b29sYmFyXCIsaXc6XCLQktGL0YDQsNCy0L3QuNCy0LDQvdC40LUg0L/QviDQu9C10LLQvtC80YMg0LrRgNCw0Y5cIixpeDpcItCS0YvRgNCw0LLQvdC40LLQsNC90LjQtSDQv9C+INC/0YDQsNCy0L7QvNGDINC60YDQsNGOXCIsaXk6XCLQktGL0YDQsNCy0L3QuNCy0LDQvdC40LUg0L/QviDRhtC10L3RgtGA0YNcIixpejpcItCS0YvRgNCw0LLQvdC40LLQsNC90LjQtSDQv9C+INGI0LjRgNC40L3QtVwiLGphOlwi0JLRi9GA0LDQstC90LjQstCw0L3QuNC1INGC0LXQutGB0YLQsFwiLGpiOlwi0JLRi9GA0LDQstC90LjQstCw0L3QuNC1XCIsamM6XCLQptC40YLQsNGC0LBcIixqZDpcItCS0YvQsdGA0LDRgtGMINC30LDQs9C+0LvQvtCy0L7QulwiLGplOlwi0JfQsNCz0L7Qu9C+0LLQvtC6XCIsamY6XCLQk9C+0YDQuNC30L7QvdGC0LDQu9GM0L3QsNGPINC70LjQvdC40Y9cIixqZzpcItCj0LLQtdC70LjRh9C40YLRjCDQvtGC0YHRgtGD0L9cIixqaDpcItCj0LzQtdC90YzRiNC40YLRjCDQvtGC0YHRgtGD0L9cIixqaTpcItCW0LjRgNC90YvQuVwiLGpqOlwi0JrRg9GA0YHQuNCyXCIsams6XCLQl9Cw0YfQtdGA0LrQvdGD0YLRi9C5XCIsamw6XCLQn9C+0LTRgdGC0YDQvtGH0L3Ri9C5XCIsam06XCLQndCw0LTRgdGC0YDQvtGH0L3Ri9C5XCIsam46XCLQn9C+0LTRh9C10YDQutC90YPRgtGL0LlcIixqbzpcItCh0LXQvNC10LnRgdGC0LLQviDRiNGA0LjRhNGC0L7QslwiLGpwOlwi0J/QviDRg9C80L7Qu9GH0LDQvdC40Y5cIixqcTpcItCg0LDQt9C80LXRgCDRiNGA0LjRhNGC0LBcIixqcjpcItCe0YfQtdC90Ywg0LzQtdC70LrQuNC5XCIsanM6XCLQnNC10LvQutC40LlcIixqdDpcItCa0YDRg9C/0L3Ri9C5XCIsanU6XCLQntGH0LXQvdGMINC60YDRg9C/0L3Ri9C5XCIsanY6XCLQptCy0LXRgiDRiNGA0LjRhNGC0LBcIixqdzpcItCm0LLQtdGCINGE0L7QvdCwXCIsang6XCLQktC40LTQttC10YIg0LjQt9C+0LHRgNCw0LbQtdC90LjQuVwiLGp5Olwi0J7RgNC40LPQuNC90LDQu9GM0L3Ri9C5INGA0LDQt9C80LXRgCDQuNC30L7QsdGA0LDQttC10L3QuNGPXCIsano6XCLQkdC+0LrQvtCy0L7QtSDQuNC30L7QsdGA0LDQttC10L3QuNC1XCIsa2E6XCLQktGL0YDQsNCy0L3QuNCy0LDQvdC40LUg0L/QviDQu9C10LLQvtC80YMg0LrRgNCw0Y5cIixrYjpcItCS0YvRgNCw0LLQvdC40LLQsNC90LjQtSDQv9C+INGG0LXQvdGC0YDRg1wiLGtjOlwi0JLRi9GA0LDQstC90LjQstCw0L3QuNC1INC/0L4g0L/RgNCw0LLQvtC80YMg0LrRgNCw0Y5cIixrZDpcItCS0YHRgtCw0LLQuNGC0Ywg0LjQt9C+0LHRgNCw0LbQtdC90LjQtVwiLGtlOlwi0JfQsNCz0YDRg9C30LrQsCDQvdC1INCy0YvQv9C+0LvQvdC10L3QsFwiLGtmOlwiV2lkZ2V0IHRvb2xiYXJcIixrZzpcIlRhYmxlIHByb3BlcnRpZXNcIixraDpcIkNlbGwgcHJvcGVydGllc1wiLGtpOlwi0JLRgdGC0LDQstC40YLRjCDRgtCw0LHQu9C40YbRg1wiLGtqOlwi0KHRgtC+0LvQsdC10YYg0LfQsNCz0L7Qu9C+0LLQutC+0LJcIixrazpcItCS0YHRgtCw0LLQuNGC0Ywg0YHRgtC+0LvQsdC10YYg0YHQu9C10LLQsFwiLGtsOlwi0JLRgdGC0LDQstC40YLRjCDRgdGC0L7Qu9Cx0LXRhiDRgdC/0YDQsNCy0LBcIixrbTpcItCj0LTQsNC70LjRgtGMINGB0YLQvtC70LHQtdGGXCIsa246XCLQodGC0L7Qu9Cx0LXRhlwiLGtvOlwi0KHRgtGA0L7QutCwINC30LDQs9C+0LvQvtCy0LrQvtCyXCIsa3A6XCLQktGB0YLQsNCy0LjRgtGMINGB0YLRgNC+0LrRgyDQvdC40LbQtVwiLGtxOlwi0JLRgdGC0LDQstC40YLRjCDRgdGC0YDQvtC60YMg0LLRi9GI0LVcIixrcjpcItCj0LTQsNC70LjRgtGMINGB0YLRgNC+0LrRg1wiLGtzOlwi0KHRgtGA0L7QutCwXCIsa3Q6XCLQntCx0YrQtdC00LjQvdC40YLRjCDRgSDRj9GH0LXQudC60L7QuSDRgdCy0LXRgNGF0YNcIixrdTpcItCe0LHRitC10LTQuNC90LjRgtGMINGBINGP0YfQtdC50LrQvtC5INGB0L/RgNCw0LLQsFwiLGt2Olwi0J7QsdGK0LXQtNC40L3QuNGC0Ywg0YEg0Y/Rh9C10LnQutC+0Lkg0YHQvdC40LfRg1wiLGt3Olwi0J7QsdGK0LXQtNC40L3QuNGC0Ywg0YEg0Y/Rh9C10LnQutC+0Lkg0YHQu9C10LLQsFwiLGt4Olwi0KDQsNC30LTQtdC70LjRgtGMINGP0YfQtdC50LrRgyDQstC10YDRgtC40LrQsNC70YzQvdC+XCIsa3k6XCLQoNCw0LfQtNC10LvQuNGC0Ywg0Y/Rh9C10LnQutGDINCz0L7RgNC40LfQvtC90YLQsNC70YzQvdC+XCIsa3o6XCLQntCx0YrQtdC00LjQvdC40YLRjCDRj9GH0LXQudC60LhcIixsYTpcItCj0LHRgNCw0YLRjCDRhNC+0YDQvNCw0YLQuNGA0L7QstCw0L3QuNC1XCIsbGI6XCLQmNC00ZHRgiDQt9Cw0LPRgNGD0LfQutCwXCIsbGM6XCLQndGD0LzQtdGA0L7QstCw0L3QvdGL0Lkg0YHQv9C40YHQvtC6XCIsbGQ6XCLQnNCw0YDQutC40YDQvtCy0LDQvdC90YvQuSDRgdC/0LjRgdC+0LpcIixsZTpcIkNoYXJhY3RlciBjYXRlZ29yaWVzXCIsbGY6XCLQodGB0YvQu9C60LBcIixsZzpcIkRyb3Bkb3duIHRvb2xiYXJcIixsaDpcItCg0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMINCw0LvRjNGC0LXRgNC90LDRgtC40LLQvdGL0Lkg0YLQtdC60YHRglwiLGxpOlwi0KPQsdGA0LDRgtGMINGG0LLQtdGCXCIsbGo6XCLQptCy0LXRgiDRgdGC0YDQsNC90LjRhtGLXCIsbGs6XCLQo9Cx0YDQsNGC0Ywg0YHRgdGL0LvQutGDXCIsbGw6XCLQoNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCDRgdGB0YvQu9C60YNcIixsbTpcItCe0YLQutGA0YvRgtGMINGB0YHRi9C70LrRgyDQsiDQvdC+0LLQvtC5INCy0LrQu9Cw0LTQutC1XCIsbG46XCLQlNC70Y8g0Y3RgtC+0Lkg0YHRgdGL0LvQutC4INC90LUg0YPRgdGC0LDQvdC+0LLQu9C10L0g0LDQtNGA0LXRgSBVUkxcIixsbzpcItCh0L7RhdGA0LDQvdC40YLRjFwiLGxwOlwi0J7RgtC80LXQvdCwXCIsbHE6XCLQodGB0YvQu9C60LAgVVJMXCIsbHI6XCJFZGl0b3IgdG9vbGJhclwiLGxzOlwi0JTRgNGD0LPQuNC1INC40L3RgdGC0YDRg9C80LXQvdGC0YtcIixsdDpcItCQ0LvRjNGC0LXRgNC90LDRgtC40LLQvdGL0Lkg0YLQtdC60YHRglwiLGx1OlwiJTAgb2YgJTFcIixsdjpcIlByZXZpb3VzXCIsbHc6XCJOZXh0XCIsbHg6XCLQp9GR0YDQvdGL0LlcIixseTpcItCi0ZHQvNC90L4t0YHQtdGA0YvQuVwiLGx6Olwi0KHQtdGA0YvQuVwiLG1hOlwi0KHQstC10YLQu9C+LdGB0LXRgNGL0LlcIixtYjpcItCR0LXQu9GL0LlcIixtYzpcItCa0YDQsNGB0L3Ri9C5XCIsbWQ6XCLQntGA0LDQvdC20LXQstGL0LlcIixtZTpcItCW0ZHQu9GC0YvQuVwiLG1mOlwi0KHQsNC70LDRgtC+0LLRi9C5XCIsbWc6XCLQl9C10LvRkdC90YvQuVwiLG1oOlwi0JDQutCy0LDQvNCw0YDQuNC90L7QstGL0LlcIixtaTpcItCR0LjRgNGO0LfQvtCy0YvQuVwiLG1qOlwi0JPQvtC70YPQsdC+0LlcIixtazpcItCh0LjQvdC40LlcIixtbDpcItCk0LjQvtC70LXRgtC+0LLRi9C5XCIsbW06XCJPcGVuIGluIGEgbmV3IHRhYlwiLG1uOlwiRG93bmxvYWRhYmxlXCIsbW86XCLQntGC0LzQtdC90LjRgtGMXCIsbXA6XCLQn9C+0LLRgtC+0YDQuNGC0YxcIixtcTpcIk5vbmVcIixtcjpcIlNvbGlkXCIsbXM6XCJEb3R0ZWRcIixtdDpcIkRhc2hlZFwiLG11OlwiRG91YmxlXCIsbXY6XCJHcm9vdmVcIixtdzpcIlJpZGdlXCIsbXg6XCJJbnNldFwiLG15OlwiT3V0c2V0XCIsbXo6J1RoZSBjb2xvciBpcyBpbnZhbGlkLiBUcnkgXCIjRkYwMDAwXCIgb3IgXCJyZ2IoMjU1LDAsMClcIiBvciBcInJlZFwiLicsbmE6J1RoZSB2YWx1ZSBpcyBpbnZhbGlkLiBUcnkgXCIxMHB4XCIgb3IgXCIyZW1cIiBvciBzaW1wbHkgXCIyXCIuJyxuYjpcIkJvcmRlclwiLG5jOlwiU3R5bGVcIixuZDpcIldpZHRoXCIsbmU6XCJDb2xvclwiLG5mOlwiQmFja2dyb3VuZFwiLG5nOlwiRGltZW5zaW9uc1wiLG5oOlwiSGVpZ2h0XCIsbmk6XCJQYWRkaW5nXCIsbmo6XCJUYWJsZSBjZWxsIHRleHQgYWxpZ25tZW50XCIsbms6XCJIb3Jpem9udGFsIHRleHQgYWxpZ25tZW50IHRvb2xiYXJcIixubDpcIlZlcnRpY2FsIHRleHQgYWxpZ25tZW50IHRvb2xiYXJcIixubTpcIkFsaWduIGNlbGwgdGV4dCB0byB0aGUgbGVmdFwiLG5uOlwiQWxpZ24gY2VsbCB0ZXh0IHRvIHRoZSBjZW50ZXJcIixubzpcIkFsaWduIGNlbGwgdGV4dCB0byB0aGUgcmlnaHRcIixucDpcIkp1c3RpZnkgY2VsbCB0ZXh0XCIsbnE6XCJBbGlnbiBjZWxsIHRleHQgdG8gdGhlIHRvcFwiLG5yOlwiQWxpZ24gY2VsbCB0ZXh0IHRvIHRoZSBtaWRkbGVcIixuczpcIkFsaWduIGNlbGwgdGV4dCB0byB0aGUgYm90dG9tXCIsbnQ6XCJBbGlnbm1lbnRcIixudTpcIlRhYmxlIGFsaWdubWVudCB0b29sYmFyXCIsbnY6XCJBbGlnbiB0YWJsZSB0byB0aGUgbGVmdFwiLG53OlwiQ2VudGVyIHRhYmxlXCIsbng6XCJBbGlnbiB0YWJsZSB0byB0aGUgcmlnaHRcIixueTpcItCf0LDRgNCw0LPRgNCw0YRcIixuejpcItCX0LDQs9C+0LvQvtCy0L7QuiAxXCIsb2E6XCLQl9Cw0LPQvtC70L7QstC+0LogMlwiLG9iOlwi0JfQsNCz0L7Qu9C+0LLQvtC6IDNcIixvYzpcItCX0LDQs9C+0LvQvtCy0L7QuiA0XCIsb2Q6XCLQl9Cw0LPQvtC70L7QstC+0LogNVwiLG9lOlwi0JfQsNCz0L7Qu9C+0LLQvtC6IDZcIixvZjpcItCg0LXQtNCw0LrRgtC+0YAsICUwXCJ9KX0pKHdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlN8fCh3aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TPXt9KSk7KGZ1bmN0aW9uIHQoZSxpKXtpZih0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCImJnR5cGVvZiBtb2R1bGU9PT1cIm9iamVjdFwiKW1vZHVsZS5leHBvcnRzPWkoKTtlbHNlIGlmKHR5cGVvZiBkZWZpbmU9PT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQpZGVmaW5lKFtdLGkpO2Vsc2UgaWYodHlwZW9mIGV4cG9ydHM9PT1cIm9iamVjdFwiKWV4cG9ydHNbXCJCYWxsb29uRWRpdG9yXCJdPWkoKTtlbHNlIGVbXCJCYWxsb29uRWRpdG9yXCJdPWkoKX0pKHdpbmRvdywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9e307ZnVuY3Rpb24gaShuKXtpZihlW25dKXtyZXR1cm4gZVtuXS5leHBvcnRzfXZhciBvPWVbbl09e2k6bixsOmZhbHNlLGV4cG9ydHM6e319O3Rbbl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsaSk7by5sPXRydWU7cmV0dXJuIG8uZXhwb3J0c31pLm09dDtpLmM9ZTtpLmQ9ZnVuY3Rpb24odCxlLG4pe2lmKCFpLm8odCxlKSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7ZW51bWVyYWJsZTp0cnVlLGdldDpufSl9fTtpLnI9ZnVuY3Rpb24odCl7aWYodHlwZW9mIFN5bWJvbCE9PVwidW5kZWZpbmVkXCImJlN5bWJvbC50b1N0cmluZ1RhZyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KX07aS50PWZ1bmN0aW9uKHQsZSl7aWYoZSYxKXQ9aSh0KTtpZihlJjgpcmV0dXJuIHQ7aWYoZSY0JiZ0eXBlb2YgdD09PVwib2JqZWN0XCImJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO2kucihuKTtPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTp0cnVlLHZhbHVlOnR9KTtpZihlJjImJnR5cGVvZiB0IT1cInN0cmluZ1wiKWZvcih2YXIgbyBpbiB0KWkuZChuLG8sZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxvKSk7cmV0dXJuIG59O2kubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24gZSgpe3JldHVybiB0W1wiZGVmYXVsdFwiXX06ZnVuY3Rpb24gZSgpe3JldHVybiB0fTtpLmQoZSxcImFcIixlKTtyZXR1cm4gZX07aS5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfTtpLnA9XCJcIjtyZXR1cm4gaShpLnM9MTE0KX0oW2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtpLmQoZSxcImJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTtpLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKTtjb25zdCBuPVwiaHR0cHM6Ly9ja2VkaXRvci5jb20vZG9jcy9ja2VkaXRvcjUvbGF0ZXN0L2ZyYW1ld29yay9ndWlkZXMvc3VwcG9ydC9lcnJvci1jb2Rlcy5odG1sXCI7Y2xhc3MgbyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQsZSxpKXt0PXIodCk7aWYoaSl7dCs9XCIgXCIrSlNPTi5zdHJpbmdpZnkoaSl9c3VwZXIodCk7dGhpcy5uYW1lPVwiQ0tFZGl0b3JFcnJvclwiO3RoaXMuY29udGV4dD1lO3RoaXMuZGF0YT1pfWlzKHQpe3JldHVybiB0PT09XCJDS0VkaXRvckVycm9yXCJ9c3RhdGljIHJldGhyb3dVbmV4cGVjdGVkRXJyb3IodCxlKXtpZih0LmlzJiZ0LmlzKFwiQ0tFZGl0b3JFcnJvclwiKSl7dGhyb3cgdH1jb25zdCBpPW5ldyBvKHQubWVzc2FnZSxlKTtpLnN0YWNrPXQuc3RhY2s7dGhyb3cgaX19ZnVuY3Rpb24gcih0KXtjb25zdCBlPXQubWF0Y2goL14oW146XSspOi8pO2lmKCFlKXtyZXR1cm4gdH1yZXR1cm4gdCtgIFJlYWQgbW9yZTogJHtufSNlcnJvci0ke2VbMV19XFxuYH19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1mdW5jdGlvbiB0KCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uIHQoKXtpZih0eXBlb2YgZT09PVwidW5kZWZpbmVkXCIpe2U9Qm9vbGVhbih3aW5kb3cmJmRvY3VtZW50JiZkb2N1bWVudC5hbGwmJiF3aW5kb3cuYXRvYil9cmV0dXJuIGV9fSgpO3ZhciBvPWZ1bmN0aW9uIHQoKXt2YXIgZT17fTtyZXR1cm4gZnVuY3Rpb24gdChpKXtpZih0eXBlb2YgZVtpXT09PVwidW5kZWZpbmVkXCIpe3ZhciBuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaSk7aWYod2luZG93LkhUTUxJRnJhbWVFbGVtZW50JiZuIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KXt0cnl7bj1uLmNvbnRlbnREb2N1bWVudC5oZWFkfWNhdGNoKHQpe249bnVsbH19ZVtpXT1ufXJldHVybiBlW2ldfX0oKTt2YXIgcj1bXTtmdW5jdGlvbiBzKHQpe3ZhciBlPS0xO2Zvcih2YXIgaT0wO2k8ci5sZW5ndGg7aSsrKXtpZihyW2ldLmlkZW50aWZpZXI9PT10KXtlPWk7YnJlYWt9fXJldHVybiBlfWZ1bmN0aW9uIGEodCxlKXt2YXIgaT17fTt2YXIgbj1bXTtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGE9dFtvXTt2YXIgYz1lLmJhc2U/YVswXStlLmJhc2U6YVswXTt2YXIgbD1pW2NdfHwwO3ZhciBkPVwiXCIuY29uY2F0KGMsXCIgXCIpLmNvbmNhdChsKTtpW2NdPWwrMTt2YXIgdT1zKGQpO3ZhciBoPXtjc3M6YVsxXSxtZWRpYTphWzJdLHNvdXJjZU1hcDphWzNdfTtpZih1IT09LTEpe3JbdV0ucmVmZXJlbmNlcysrO3JbdV0udXBkYXRlcihoKX1lbHNle3IucHVzaCh7aWRlbnRpZmllcjpkLHVwZGF0ZXI6bShoLGUpLHJlZmVyZW5jZXM6MX0pfW4ucHVzaChkKX1yZXR1cm4gbn1mdW5jdGlvbiBjKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTt2YXIgbj10LmF0dHJpYnV0ZXN8fHt9O2lmKHR5cGVvZiBuLm5vbmNlPT09XCJ1bmRlZmluZWRcIil7dmFyIHI9dHJ1ZT9pLm5jOnVuZGVmaW5lZDtpZihyKXtuLm5vbmNlPXJ9fU9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKHQpe2Uuc2V0QXR0cmlidXRlKHQsblt0XSl9KSk7aWYodHlwZW9mIHQuaW5zZXJ0PT09XCJmdW5jdGlvblwiKXt0Lmluc2VydChlKX1lbHNle3ZhciBzPW8odC5pbnNlcnR8fFwiaGVhZFwiKTtpZighcyl7dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKX1zLmFwcGVuZENoaWxkKGUpfXJldHVybiBlfWZ1bmN0aW9uIGwodCl7aWYodC5wYXJlbnROb2RlPT09bnVsbCl7cmV0dXJuIGZhbHNlfXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX12YXIgZD1mdW5jdGlvbiB0KCl7dmFyIGU9W107cmV0dXJuIGZ1bmN0aW9uIHQoaSxuKXtlW2ldPW47cmV0dXJuIGUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCJcXG5cIil9fSgpO2Z1bmN0aW9uIHUodCxlLGksbil7dmFyIG89aT9cIlwiOm4ubWVkaWE/XCJAbWVkaWEgXCIuY29uY2F0KG4ubWVkaWEsXCIge1wiKS5jb25jYXQobi5jc3MsXCJ9XCIpOm4uY3NzO2lmKHQuc3R5bGVTaGVldCl7dC5zdHlsZVNoZWV0LmNzc1RleHQ9ZChlLG8pfWVsc2V7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobyk7dmFyIHM9dC5jaGlsZE5vZGVzO2lmKHNbZV0pe3QucmVtb3ZlQ2hpbGQoc1tlXSl9aWYocy5sZW5ndGgpe3QuaW5zZXJ0QmVmb3JlKHIsc1tlXSl9ZWxzZXt0LmFwcGVuZENoaWxkKHIpfX19ZnVuY3Rpb24gaCh0LGUsaSl7dmFyIG49aS5jc3M7dmFyIG89aS5tZWRpYTt2YXIgcj1pLnNvdXJjZU1hcDtpZihvKXt0LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsbyl9ZWxzZXt0LnJlbW92ZUF0dHJpYnV0ZShcIm1lZGlhXCIpfWlmKHImJmJ0b2Epe24rPVwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpKSksXCIgKi9cIil9aWYodC5zdHlsZVNoZWV0KXt0LnN0eWxlU2hlZXQuY3NzVGV4dD1ufWVsc2V7d2hpbGUodC5maXJzdENoaWxkKXt0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCl9dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuKSl9fXZhciBmPW51bGw7dmFyIGc9MDtmdW5jdGlvbiBtKHQsZSl7dmFyIGk7dmFyIG47dmFyIG87aWYoZS5zaW5nbGV0b24pe3ZhciByPWcrKztpPWZ8fChmPWMoZSkpO249dS5iaW5kKG51bGwsaSxyLGZhbHNlKTtvPXUuYmluZChudWxsLGkscix0cnVlKX1lbHNle2k9YyhlKTtuPWguYmluZChudWxsLGksZSk7bz1mdW5jdGlvbiB0KCl7bChpKX19bih0KTtyZXR1cm4gZnVuY3Rpb24gZShpKXtpZihpKXtpZihpLmNzcz09PXQuY3NzJiZpLm1lZGlhPT09dC5tZWRpYSYmaS5zb3VyY2VNYXA9PT10LnNvdXJjZU1hcCl7cmV0dXJufW4odD1pKX1lbHNle28oKX19fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2U9ZXx8e307aWYoIWUuc2luZ2xldG9uJiZ0eXBlb2YgZS5zaW5nbGV0b24hPT1cImJvb2xlYW5cIil7ZS5zaW5nbGV0b249bigpfXQ9dHx8W107dmFyIGk9YSh0LGUpO3JldHVybiBmdW5jdGlvbiB0KG4pe249bnx8W107aWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pIT09XCJbb2JqZWN0IEFycmF5XVwiKXtyZXR1cm59Zm9yKHZhciBvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBjPWlbb107dmFyIGw9cyhjKTtyW2xdLnJlZmVyZW5jZXMtLX12YXIgZD1hKG4sZSk7Zm9yKHZhciB1PTA7dTxpLmxlbmd0aDt1Kyspe3ZhciBoPWlbdV07dmFyIGY9cyhoKTtpZihyW2ZdLnJlZmVyZW5jZXM9PT0wKXtyW2ZdLnVwZGF0ZXIoKTtyLnNwbGljZShmLDEpfX1pPWR9fX0sLGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDcpO3ZhciBvPXR5cGVvZiBzZWxmPT1cIm9iamVjdFwiJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZjt2YXIgcj1uW1wiYVwiXXx8b3x8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO2VbXCJhXCJdPXJ9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24odCl7dmFyIG49aSgzKTt2YXIgbz1pKDE0KTt2YXIgcj10eXBlb2YgZXhwb3J0cz09XCJvYmplY3RcIiYmZXhwb3J0cyYmIWV4cG9ydHMubm9kZVR5cGUmJmV4cG9ydHM7dmFyIHM9ciYmdHlwZW9mIHQ9PVwib2JqZWN0XCImJnQmJiF0Lm5vZGVUeXBlJiZ0O3ZhciBhPXMmJnMuZXhwb3J0cz09PXI7dmFyIGM9YT9uW1wiYVwiXS5CdWZmZXI6dW5kZWZpbmVkO3ZhciBsPWM/Yy5pc0J1ZmZlcjp1bmRlZmluZWQ7dmFyIGQ9bHx8b1tcImFcIl07ZVtcImFcIl09ZH0pLmNhbGwodGhpcyxpKDkpKHQpKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbih0KXt2YXIgbj1pKDcpO3ZhciBvPXR5cGVvZiBleHBvcnRzPT1cIm9iamVjdFwiJiZleHBvcnRzJiYhZXhwb3J0cy5ub2RlVHlwZSYmZXhwb3J0czt2YXIgcj1vJiZ0eXBlb2YgdD09XCJvYmplY3RcIiYmdCYmIXQubm9kZVR5cGUmJnQ7dmFyIHM9ciYmci5leHBvcnRzPT09bzt2YXIgYT1zJiZuW1wiYVwiXS5wcm9jZXNzO3ZhciBjPWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PXImJnIucmVxdWlyZSYmci5yZXF1aXJlKFwidXRpbFwiKS50eXBlcztpZih0KXtyZXR1cm4gdH1yZXR1cm4gYSYmYS5iaW5kaW5nJiZhLmJpbmRpbmcoXCJ1dGlsXCIpfWNhdGNoKHQpe319KCk7ZVtcImFcIl09Y30pLmNhbGwodGhpcyxpKDkpKHQpKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbih0KXt2YXIgZT1pKDApO2NvbnN0IG49XCIxOC4wLjBcIjtjb25zdCBvPXR5cGVvZiB3aW5kb3c9PT1cIm9iamVjdFwiP3dpbmRvdzp0O2lmKG8uQ0tFRElUT1JfVkVSU0lPTil7dGhyb3cgbmV3IGVbXCJiXCJdKFwiY2tlZGl0b3ItZHVwbGljYXRlZC1tb2R1bGVzOiBTb21lIENLRWRpdG9yIDUgbW9kdWxlcyBhcmUgZHVwbGljYXRlZC5cIixudWxsKX1lbHNle28uQ0tFRElUT1JfVkVSU0lPTj1ufX0pLmNhbGwodGhpcyxpKDEwKSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24odCl7dmFyIGk9dHlwZW9mIHQ9PVwib2JqZWN0XCImJnQmJnQuT2JqZWN0PT09T2JqZWN0JiZ0O2VbXCJhXCJdPWl9KS5jYWxsKHRoaXMsaSgxMCkpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHQpe3ZhciBuPWkoMyk7dmFyIG89dHlwZW9mIGV4cG9ydHM9PVwib2JqZWN0XCImJmV4cG9ydHMmJiFleHBvcnRzLm5vZGVUeXBlJiZleHBvcnRzO3ZhciByPW8mJnR5cGVvZiB0PT1cIm9iamVjdFwiJiZ0JiYhdC5ub2RlVHlwZSYmdDt2YXIgcz1yJiZyLmV4cG9ydHM9PT1vO3ZhciBhPXM/bltcImFcIl0uQnVmZmVyOnVuZGVmaW5lZCxjPWE/YS5hbGxvY1Vuc2FmZTp1bmRlZmluZWQ7ZnVuY3Rpb24gbCh0LGUpe2lmKGUpe3JldHVybiB0LnNsaWNlKCl9dmFyIGk9dC5sZW5ndGgsbj1jP2MoaSk6bmV3IHQuY29uc3RydWN0b3IoaSk7dC5jb3B5KG4pO3JldHVybiBufWVbXCJhXCJdPWx9KS5jYWxsKHRoaXMsaSg5KSh0KSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCF0LndlYnBhY2tQb2x5ZmlsbCl7dmFyIGU9T2JqZWN0LmNyZWF0ZSh0KTtpZighZS5jaGlsZHJlbillLmNoaWxkcmVuPVtdO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwibG9hZGVkXCIse2VudW1lcmFibGU6dHJ1ZSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5sfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiaWRcIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbigpe3JldHVybiBlLml9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJleHBvcnRzXCIse2VudW1lcmFibGU6dHJ1ZX0pO2Uud2VicGFja1BvbHlmaWxsPTF9cmV0dXJuIGV9fSxmdW5jdGlvbih0LGUpe3ZhciBpO2k9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7aT1pfHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKHQpe2lmKHR5cGVvZiB3aW5kb3c9PT1cIm9iamVjdFwiKWk9d2luZG93fXQuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDU1KTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSgxMDgpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDEwOSk7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7cmV0dXJuIGZhbHNlfWVbXCJhXCJdPW59LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoMTYpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay1oaWRkZW57ZGlzcGxheTpub25lIWltcG9ydGFudH0uY2suY2stcmVzZXQsLmNrLmNrLXJlc2V0X2FsbCwuY2suY2stcmVzZXRfYWxsICp7Ym94LXNpemluZzpib3JkZXItYm94O3dpZHRoOmF1dG87aGVpZ2h0OmF1dG87cG9zaXRpb246c3RhdGljfTpyb290ey0tY2stei1kZWZhdWx0OjE7LS1jay16LW1vZGFsOmNhbGModmFyKC0tY2stei1kZWZhdWx0KSArIDk5OSk7LS1jay1jb2xvci1iYXNlLWZvcmVncm91bmQ6I2ZhZmFmYTstLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZDojZmZmOy0tY2stY29sb3ItYmFzZS1ib3JkZXI6I2M0YzRjNDstLWNrLWNvbG9yLWJhc2UtYWN0aW9uOiM2MWIwNDU7LS1jay1jb2xvci1iYXNlLWZvY3VzOiM2Y2I1Zjk7LS1jay1jb2xvci1iYXNlLXRleHQ6IzMzMzstLWNrLWNvbG9yLWJhc2UtYWN0aXZlOiMxOThjZjA7LS1jay1jb2xvci1iYXNlLWFjdGl2ZS1mb2N1czojMGU3ZmUxOy0tY2stY29sb3ItYmFzZS1lcnJvcjojZGIzNzAwOy0tY2stY29sb3ItZm9jdXMtYm9yZGVyOiMxZjg5ZTU7LS1jay1jb2xvci1mb2N1cy1vdXRlci1zaGFkb3c6I2JjZGVmYjstLWNrLWNvbG9yLWZvY3VzLWRpc2FibGVkLXNoYWRvdzpyZ2JhKDExOSwxODYsMjQ4LDAuMyk7LS1jay1jb2xvci1mb2N1cy1lcnJvci1zaGFkb3c6cmdiYSgyNTUsNjQsMzEsMC4zKTstLWNrLWNvbG9yLXRleHQ6dmFyKC0tY2stY29sb3ItYmFzZS10ZXh0KTstLWNrLWNvbG9yLXNoYWRvdy1kcm9wOnJnYmEoMCwwLDAsMC4xNSk7LS1jay1jb2xvci1zaGFkb3ctZHJvcC1hY3RpdmU6cmdiYSgwLDAsMCwwLjIpOy0tY2stY29sb3Itc2hhZG93LWlubmVyOnJnYmEoMCwwLDAsMC4xKTstLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7LS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1ob3Zlci1iYWNrZ3JvdW5kOiNlNmU2ZTY7LS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1hY3RpdmUtYmFja2dyb3VuZDojZDlkOWQ5Oy0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtYWN0aXZlLXNoYWRvdzojYmZiZmJmOy0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtZGlzYWJsZWQtYmFja2dyb3VuZDp0cmFuc3BhcmVudDstLWNrLWNvbG9yLWJ1dHRvbi1vbi1iYWNrZ3JvdW5kOiNkZWRlZGU7LS1jay1jb2xvci1idXR0b24tb24taG92ZXItYmFja2dyb3VuZDojYzRjNGM0Oy0tY2stY29sb3ItYnV0dG9uLW9uLWFjdGl2ZS1iYWNrZ3JvdW5kOiNiYWJhYmE7LS1jay1jb2xvci1idXR0b24tb24tYWN0aXZlLXNoYWRvdzojYTFhMWExOy0tY2stY29sb3ItYnV0dG9uLW9uLWRpc2FibGVkLWJhY2tncm91bmQ6I2RlZGVkZTstLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWFjdGlvbik7LS1jay1jb2xvci1idXR0b24tYWN0aW9uLWhvdmVyLWJhY2tncm91bmQ6IzU3OWUzZDstLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYWN0aXZlLWJhY2tncm91bmQ6IzUzOTczYjstLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYWN0aXZlLXNoYWRvdzojNDk4NDMzOy0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1kaXNhYmxlZC1iYWNrZ3JvdW5kOiM3ZWMzNjU7LS1jay1jb2xvci1idXR0b24tYWN0aW9uLXRleHQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLWJ1dHRvbi1zYXZlOiMwMDhhMDA7LS1jay1jb2xvci1idXR0b24tY2FuY2VsOiNkYjM3MDA7LS1jay1jb2xvci1zd2l0Y2gtYnV0dG9uLW9mZi1iYWNrZ3JvdW5kOiNiMGIwYjA7LS1jay1jb2xvci1zd2l0Y2gtYnV0dG9uLW9mZi1ob3Zlci1iYWNrZ3JvdW5kOiNhM2EzYTM7LS1jay1jb2xvci1zd2l0Y2gtYnV0dG9uLW9uLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLXN3aXRjaC1idXR0b24tb24taG92ZXItYmFja2dyb3VuZDojNTc5ZTNkOy0tY2stY29sb3Itc3dpdGNoLWJ1dHRvbi1pbm5lci1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1zd2l0Y2gtYnV0dG9uLWlubmVyLXNoYWRvdzpyZ2JhKDAsMCwwLDAuMSk7LS1jay1jb2xvci1kcm9wZG93bi1wYW5lbC1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1kcm9wZG93bi1wYW5lbC1ib3JkZXI6dmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpOy0tY2stY29sb3ItaW5wdXQtYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpOy0tY2stY29sb3ItaW5wdXQtYm9yZGVyOiNjN2M3Yzc7LS1jay1jb2xvci1pbnB1dC1lcnJvci1ib3JkZXI6dmFyKC0tY2stY29sb3ItYmFzZS1lcnJvcik7LS1jay1jb2xvci1pbnB1dC10ZXh0OnZhcigtLWNrLWNvbG9yLWJhc2UtdGV4dCk7LS1jay1jb2xvci1pbnB1dC1kaXNhYmxlZC1iYWNrZ3JvdW5kOiNmMmYyZjI7LS1jay1jb2xvci1pbnB1dC1kaXNhYmxlZC1ib3JkZXI6I2M3YzdjNzstLWNrLWNvbG9yLWlucHV0LWRpc2FibGVkLXRleHQ6IzVjNWM1YzstLWNrLWNvbG9yLWxpc3QtYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpOy0tY2stY29sb3ItbGlzdC1idXR0b24taG92ZXItYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1ob3Zlci1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLWxpc3QtYnV0dG9uLW9uLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1hY3RpdmUpOy0tY2stY29sb3ItbGlzdC1idXR0b24tb24tYmFja2dyb3VuZC1mb2N1czp2YXIoLS1jay1jb2xvci1iYXNlLWFjdGl2ZS1mb2N1cyk7LS1jay1jb2xvci1saXN0LWJ1dHRvbi1vbi10ZXh0OnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1wYW5lbC1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1wYW5lbC1ib3JkZXI6dmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpOy0tY2stY29sb3ItdG9vbGJhci1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtZm9yZWdyb3VuZCk7LS1jay1jb2xvci10b29sYmFyLWJvcmRlcjp2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcik7LS1jay1jb2xvci10b29sdGlwLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS10ZXh0KTstLWNrLWNvbG9yLXRvb2x0aXAtdGV4dDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpOy0tY2stY29sb3ItZW5naW5lLXBsYWNlaG9sZGVyLXRleHQ6IzcwNzA3MDstLWNrLWNvbG9yLXVwbG9hZC1iYXItYmFja2dyb3VuZDojNmNiNWY5Oy0tY2stY29sb3ItbGluay1kZWZhdWx0OiMwMDAwZjA7LS1jay1jb2xvci1saW5rLXNlbGVjdGVkLWJhY2tncm91bmQ6cmdiYSgzMSwxNzcsMjU1LDAuMSk7LS1jay1kaXNhYmxlZC1vcGFjaXR5Oi41Oy0tY2stZm9jdXMtb3V0ZXItc2hhZG93LWdlb21ldHJ5OjAgMCAwIDNweDstLWNrLWZvY3VzLW91dGVyLXNoYWRvdzp2YXIoLS1jay1mb2N1cy1vdXRlci1zaGFkb3ctZ2VvbWV0cnkpIHZhcigtLWNrLWNvbG9yLWZvY3VzLW91dGVyLXNoYWRvdyk7LS1jay1mb2N1cy1kaXNhYmxlZC1vdXRlci1zaGFkb3c6dmFyKC0tY2stZm9jdXMtb3V0ZXItc2hhZG93LWdlb21ldHJ5KSB2YXIoLS1jay1jb2xvci1mb2N1cy1kaXNhYmxlZC1zaGFkb3cpOy0tY2stZm9jdXMtZXJyb3Itb3V0ZXItc2hhZG93OnZhcigtLWNrLWZvY3VzLW91dGVyLXNoYWRvdy1nZW9tZXRyeSkgdmFyKC0tY2stY29sb3ItZm9jdXMtZXJyb3Itc2hhZG93KTstLWNrLWZvY3VzLXJpbmc6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWZvY3VzLWJvcmRlcik7LS1jay1mb250LXNpemUtYmFzZToxM3B4Oy0tY2stbGluZS1oZWlnaHQtYmFzZToxLjg0NjE1Oy0tY2stZm9udC1mYWNlOkhlbHZldGljYSxBcmlhbCxUYWhvbWEsVmVyZGFuYSxTYW5zLVNlcmlmOy0tY2stZm9udC1zaXplLXRpbnk6MC43ZW07LS1jay1mb250LXNpemUtc21hbGw6MC43NWVtOy0tY2stZm9udC1zaXplLW5vcm1hbDoxZW07LS1jay1mb250LXNpemUtYmlnOjEuNGVtOy0tY2stZm9udC1zaXplLWxhcmdlOjEuOGVtOy0tY2stdWktY29tcG9uZW50LW1pbi1oZWlnaHQ6Mi4zZW19LmNrLmNrLXJlc2V0LC5jay5jay1yZXNldF9hbGwsLmNrLmNrLXJlc2V0X2FsbCAqe21hcmdpbjowO3BhZGRpbmc6MDtib3JkZXI6MDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O3RleHQtZGVjb3JhdGlvbjpub25lO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt0cmFuc2l0aW9uOm5vbmU7d29yZC13cmFwOmJyZWFrLXdvcmR9LmNrLmNrLXJlc2V0X2FsbCwuY2suY2stcmVzZXRfYWxsICp7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2ZvbnQ6bm9ybWFsIG5vcm1hbCBub3JtYWwgdmFyKC0tY2stZm9udC1zaXplLWJhc2UpL3ZhcigtLWNrLWxpbmUtaGVpZ2h0LWJhc2UpIHZhcigtLWNrLWZvbnQtZmFjZSk7Y29sb3I6dmFyKC0tY2stY29sb3ItdGV4dCk7dGV4dC1hbGlnbjpsZWZ0O3doaXRlLXNwYWNlOm5vd3JhcDtjdXJzb3I6YXV0bztmbG9hdDpub25lfS5jay5jay1yZXNldF9hbGwgLmNrLXJ0bCAqe3RleHQtYWxpZ246cmlnaHR9LmNrLmNrLXJlc2V0X2FsbCBpZnJhbWV7dmVydGljYWwtYWxpZ246aW5oZXJpdH0uY2suY2stcmVzZXRfYWxsIHRleHRhcmVhe3doaXRlLXNwYWNlOnByZS13cmFwfS5jay5jay1yZXNldF9hbGwgaW5wdXRbdHlwZT1wYXNzd29yZF0sLmNrLmNrLXJlc2V0X2FsbCBpbnB1dFt0eXBlPXRleHRdLC5jay5jay1yZXNldF9hbGwgdGV4dGFyZWF7Y3Vyc29yOnRleHR9LmNrLmNrLXJlc2V0X2FsbCBpbnB1dFt0eXBlPXBhc3N3b3JkXVtkaXNhYmxlZF0sLmNrLmNrLXJlc2V0X2FsbCBpbnB1dFt0eXBlPXRleHRdW2Rpc2FibGVkXSwuY2suY2stcmVzZXRfYWxsIHRleHRhcmVhW2Rpc2FibGVkXXtjdXJzb3I6ZGVmYXVsdH0uY2suY2stcmVzZXRfYWxsIGZpZWxkc2V0e3BhZGRpbmc6MTBweDtib3JkZXI6MnB4IGdyb292ZSAjZGZkZWUzfS5jay5jay1yZXNldF9hbGwgYnV0dG9uOjotbW96LWZvY3VzLWlubmVye3BhZGRpbmc6MDtib3JkZXI6MH0uY2tbZGlyPXJ0bF0sLmNrW2Rpcj1ydGxdIC5ja3t0ZXh0LWFsaWduOnJpZ2h0fTpyb290ey0tY2stYm9yZGVyLXJhZGl1czoycHg7LS1jay1pbm5lci1zaGFkb3c6MnB4IDJweCAzcHggdmFyKC0tY2stY29sb3Itc2hhZG93LWlubmVyKSBpbnNldDstLWNrLWRyb3Atc2hhZG93OjAgMXB4IDJweCAxcHggdmFyKC0tY2stY29sb3Itc2hhZG93LWRyb3ApOy0tY2stZHJvcC1zaGFkb3ctYWN0aXZlOjAgM3B4IDZweCAxcHggdmFyKC0tY2stY29sb3Itc2hhZG93LWRyb3AtYWN0aXZlKTstLWNrLXNwYWNpbmctdW5pdDowLjZlbTstLWNrLXNwYWNpbmctbGFyZ2U6Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXVuaXQpKjEuNSk7LS1jay1zcGFjaW5nLXN0YW5kYXJkOnZhcigtLWNrLXNwYWNpbmctdW5pdCk7LS1jay1zcGFjaW5nLW1lZGl1bTpjYWxjKHZhcigtLWNrLXNwYWNpbmctdW5pdCkqMC44KTstLWNrLXNwYWNpbmctc21hbGw6Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXVuaXQpKjAuNSk7LS1jay1zcGFjaW5nLXRpbnk6Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXVuaXQpKjAuMyk7LS1jay1zcGFjaW5nLWV4dHJhLXRpbnk6Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXVuaXQpKjAuMTYpfVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDE4KTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzpyb290ey0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4OmNhbGModmFyKC0tY2stei1kZWZhdWx0KSAtIDMpfS5jay5jay1iYWxsb29uLXBhbmVse2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OnZhcigtLWNrLXotbW9kYWwpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvdzphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3c6YmVmb3Jle2NvbnRlbnQ6XCJcIjtwb3NpdGlvbjphYnNvbHV0ZX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3c6YmVmb3Jle3otaW5kZXg6dmFyKC0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4KX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3c6YWZ0ZXJ7ei1pbmRleDpjYWxjKHZhcigtLWNrLWJhbGxvb24tcGFuZWwtYXJyb3ctei1pbmRleCkgKyAxKX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfbl06YmVmb3Jle3otaW5kZXg6dmFyKC0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4KX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfbl06YWZ0ZXJ7ei1pbmRleDpjYWxjKHZhcigtLWNrLWJhbGxvb24tcGFuZWwtYXJyb3ctei1pbmRleCkgKyAxKX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfc106YmVmb3Jle3otaW5kZXg6dmFyKC0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4KX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfc106YWZ0ZXJ7ei1pbmRleDpjYWxjKHZhcigtLWNrLWJhbGxvb24tcGFuZWwtYXJyb3ctei1pbmRleCkgKyAxKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3Zpc2libGV7ZGlzcGxheTpibG9ja306cm9vdHstLWNrLWJhbGxvb24tYXJyb3ctb2Zmc2V0OjJweDstLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0OjEwcHg7LS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGg6OHB4fS5jay5jay1iYWxsb29uLXBhbmVse2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1iYWxsb29uLXBhbmVsLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay1iYWxsb29uLXBhbmVse2JveC1zaGFkb3c6dmFyKC0tY2stZHJvcC1zaGFkb3cpLDAgMDttaW4taGVpZ2h0OjE1cHg7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1wYW5lbC1iYWNrZ3JvdW5kKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLXBhbmVsLWJvcmRlcil9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF93aXRoLWFycm93OmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvdzpiZWZvcmV7d2lkdGg6MDtoZWlnaHQ6MDtib3JkZXItc3R5bGU6c29saWR9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19uXTpiZWZvcmV7Ym9yZGVyLWxlZnQtd2lkdGg6dmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKTtib3JkZXItYm90dG9tLXdpZHRoOnZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KTtib3JkZXItcmlnaHQtd2lkdGg6dmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKTtib3JkZXItdG9wLXdpZHRoOjB9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmJlZm9yZXtib3JkZXItYm90dG9tLWNvbG9yOnZhcigtLWNrLWNvbG9yLXBhbmVsLWJvcmRlcil9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19uXTpiZWZvcmV7Ym9yZGVyLWxlZnQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLXJpZ2h0LWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci10b3AtY29sb3I6dHJhbnNwYXJlbnR9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmFmdGVye2JvcmRlci1ib3R0b20tY29sb3I6dmFyKC0tY2stY29sb3ItcGFuZWwtYmFja2dyb3VuZCk7bWFyZ2luLXRvcDp2YXIoLS1jay1iYWxsb29uLWFycm93LW9mZnNldCl9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19zXTpiZWZvcmV7Ym9yZGVyLWxlZnQtd2lkdGg6dmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKTtib3JkZXItYm90dG9tLXdpZHRoOjA7Ym9yZGVyLXJpZ2h0LXdpZHRoOnZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCk7Ym9yZGVyLXRvcC13aWR0aDp2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCl9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmJlZm9yZXtib3JkZXItdG9wLWNvbG9yOnZhcigtLWNrLWNvbG9yLXBhbmVsLWJvcmRlcil9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19zXTpiZWZvcmV7Ym9yZGVyLWxlZnQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbS1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItcmlnaHQtY29sb3I6dHJhbnNwYXJlbnR9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmFmdGVye2JvcmRlci10b3AtY29sb3I6dmFyKC0tY2stY29sb3ItcGFuZWwtYmFja2dyb3VuZCk7bWFyZ2luLWJvdHRvbTp2YXIoLS1jay1iYWxsb29uLWFycm93LW9mZnNldCl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19uOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfbjpiZWZvcmV7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6Y2FsYygtMSp2YXIoLS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGgpKTt0b3A6Y2FsYygtMSp2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCkpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfbnc6YWZ0ZXIsLmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19udzpiZWZvcmV7bGVmdDpjYWxjKDIqdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSk7dG9wOmNhbGMoLTEqdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X25lOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfbmU6YmVmb3Jle3JpZ2h0OmNhbGMoMip2YXIoLS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGgpKTt0b3A6Y2FsYygtMSp2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCkpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfczphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3M6YmVmb3Jle2xlZnQ6NTAlO21hcmdpbi1sZWZ0OmNhbGMoLTEqdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSk7Ym90dG9tOmNhbGMoLTEqdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3N3OmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfc3c6YmVmb3Jle2xlZnQ6Y2FsYygyKnZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCkpO2JvdHRvbTpjYWxjKC0xKnZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KSl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19zZTphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3NlOmJlZm9yZXtyaWdodDpjYWxjKDIqdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSk7Ym90dG9tOmNhbGMoLTEqdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3NtZTphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3NtZTpiZWZvcmV7cmlnaHQ6MjUlO21hcmdpbi1yaWdodDpjYWxjKDIqdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSk7Ym90dG9tOmNhbGMoLTEqdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3NtdzphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3NtdzpiZWZvcmV7bGVmdDoyNSU7bWFyZ2luLWxlZnQ6Y2FsYygyKnZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCkpO2JvdHRvbTpjYWxjKC0xKnZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KSl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19ubWU6YWZ0ZXIsLmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19ubWU6YmVmb3Jle3JpZ2h0OjI1JTttYXJnaW4tcmlnaHQ6Y2FsYygyKnZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCkpO3RvcDpjYWxjKC0xKnZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KSl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19ubXc6YWZ0ZXIsLmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19ubXc6YmVmb3Jle2xlZnQ6MjUlO21hcmdpbi1sZWZ0OmNhbGMoMip2YXIoLS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGgpKTt0b3A6Y2FsYygtMSp2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCkpfSd9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoMjApO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1pY29ue3ZlcnRpY2FsLWFsaWduOm1pZGRsZX06cm9vdHstLWNrLWljb24tc2l6ZTpjYWxjKHZhcigtLWNrLWxpbmUtaGVpZ2h0LWJhc2UpKnZhcigtLWNrLWZvbnQtc2l6ZS1ub3JtYWwpKX0uY2suY2staWNvbnt3aWR0aDp2YXIoLS1jay1pY29uLXNpemUpO2hlaWdodDp2YXIoLS1jay1pY29uLXNpemUpO2ZvbnQtc2l6ZTouODMzMzM1MDY5NGVtO3dpbGwtY2hhbmdlOnRyYW5zZm9ybX0uY2suY2staWNvbiwuY2suY2staWNvbiAqe2NvbG9yOmluaGVyaXQ7Y3Vyc29yOmluaGVyaXR9LmNrLmNrLWljb24gOm5vdChbZmlsbF0pe2ZpbGw6Y3VycmVudENvbG9yfVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDIyKTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jy5jay5jay10b29sdGlwLC5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0OmFmdGVye3Bvc2l0aW9uOmFic29sdXRlO3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OmhpZGRlbn0uY2suY2stdG9vbHRpcHt2aXNpYmlsaXR5OmhpZGRlbjtvcGFjaXR5OjA7ZGlzcGxheTpub25lO3otaW5kZXg6dmFyKC0tY2stei1tb2RhbCl9LmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHR7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHQ6YWZ0ZXJ7Y29udGVudDpcIlwiO3dpZHRoOjA7aGVpZ2h0OjB9OnJvb3R7LS1jay10b29sdGlwLWFycm93LXNpemU6NXB4fS5jay5jay10b29sdGlwe2xlZnQ6NTAlO3RvcDowO3RyYW5zaXRpb246b3BhY2l0eSAuMnMgZWFzZS1pbi1vdXQgLjJzfS5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0e2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0LC5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0LmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0e2ZvbnQtc2l6ZTouOWVtO2xpbmUtaGVpZ2h0OjEuNTtjb2xvcjp2YXIoLS1jay1jb2xvci10b29sdGlwLXRleHQpO3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zbWFsbCkgdmFyKC0tY2stc3BhY2luZy1tZWRpdW0pO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItdG9vbHRpcC1iYWNrZ3JvdW5kKTtwb3NpdGlvbjpyZWxhdGl2ZTtsZWZ0Oi01MCV9LmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHQ6YWZ0ZXJ7dHJhbnNpdGlvbjpvcGFjaXR5IC4ycyBlYXNlLWluLW91dCAuMnM7Ym9yZGVyLXN0eWxlOnNvbGlkO2xlZnQ6NTAlfS5jay5jay10b29sdGlwLmNrLXRvb2x0aXBfc3tib3R0b206Y2FsYygtMSp2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKX0uY2suY2stdG9vbHRpcC5jay10b29sdGlwX3MgLmNrLXRvb2x0aXBfX3RleHQ6YWZ0ZXJ7dG9wOmNhbGMoLTEqdmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7Ym9yZGVyLWxlZnQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbS1jb2xvcjp2YXIoLS1jay1jb2xvci10b29sdGlwLWJhY2tncm91bmQpO2JvcmRlci1yaWdodC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItdG9wLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci1sZWZ0LXdpZHRoOnZhcigtLWNrLXRvb2x0aXAtYXJyb3ctc2l6ZSk7Ym9yZGVyLWJvdHRvbS13aWR0aDp2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpO2JvcmRlci1yaWdodC13aWR0aDp2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpO2JvcmRlci10b3Atd2lkdGg6MH0uY2suY2stdG9vbHRpcC5jay10b29sdGlwX257dG9wOmNhbGMoLTEqdmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwMCUpfS5jay5jay10b29sdGlwLmNrLXRvb2x0aXBfbiAuY2stdG9vbHRpcF9fdGV4dDphZnRlcntib3R0b206Y2FsYygtMSp2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKTtib3JkZXItbGVmdC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItYm90dG9tLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci1yaWdodC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItdG9wLWNvbG9yOnZhcigtLWNrLWNvbG9yLXRvb2x0aXAtYmFja2dyb3VuZCk7Ym9yZGVyLWxlZnQtd2lkdGg6dmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKTtib3JkZXItYm90dG9tLXdpZHRoOjA7Ym9yZGVyLXJpZ2h0LXdpZHRoOnZhcigtLWNrLXRvb2x0aXAtYXJyb3ctc2l6ZSk7Ym9yZGVyLXRvcC13aWR0aDp2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpfSd9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoMjQpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1idXR0b24sYS5jay5jay1idXR0b257LW1vei11c2VyLXNlbGVjdDpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5jay5jay1idXR0b24gLmNrLXRvb2x0aXAsYS5jay5jay1idXR0b24gLmNrLXRvb2x0aXB7ZGlzcGxheTpibG9ja31AbWVkaWEgKGhvdmVyOm5vbmUpey5jay5jay1idXR0b24gLmNrLXRvb2x0aXAsYS5jay5jay1idXR0b24gLmNrLXRvb2x0aXB7ZGlzcGxheTpub25lfX0uY2suY2stYnV0dG9uLGEuY2suY2stYnV0dG9ue3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6aW5saW5lLWZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpsZWZ0fS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWwsYS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWx7ZGlzcGxheTpub25lfS5jay5jay1idXR0b24uY2stYnV0dG9uX3dpdGgtdGV4dCAuY2stYnV0dG9uX19sYWJlbCxhLmNrLmNrLWJ1dHRvbi5jay1idXR0b25fd2l0aC10ZXh0IC5jay1idXR0b25fX2xhYmVse2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5jay5jay1idXR0b246bm90KC5jay1idXR0b25fd2l0aC10ZXh0KSxhLmNrLmNrLWJ1dHRvbjpub3QoLmNrLWJ1dHRvbl93aXRoLXRleHQpe2p1c3RpZnktY29udGVudDpjZW50ZXJ9LmNrLmNrLWJ1dHRvbjpob3ZlciAuY2stdG9vbHRpcCxhLmNrLmNrLWJ1dHRvbjpob3ZlciAuY2stdG9vbHRpcHt2aXNpYmlsaXR5OnZpc2libGU7b3BhY2l0eToxfS5jay5jay1idXR0b246Zm9jdXM6bm90KDpob3ZlcikgLmNrLXRvb2x0aXAsYS5jay5jay1idXR0b246Zm9jdXM6bm90KDpob3ZlcikgLmNrLXRvb2x0aXB7ZGlzcGxheTpub25lfS5jay5jay1idXR0b24sYS5jay5jay1idXR0b257YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVyLGEuY2suY2stYnV0dG9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtaG92ZXItYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbjpub3QoLmNrLWRpc2FibGVkKTphY3RpdmUsYS5jay5jay1idXR0b246bm90KC5jay1kaXNhYmxlZCk6YWN0aXZle2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtYWN0aXZlLWJhY2tncm91bmQpO2JveC1zaGFkb3c6aW5zZXQgMCAycHggMnB4IHZhcigtLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWFjdGl2ZS1zaGFkb3cpfS5jay5jay1idXR0b24uY2stZGlzYWJsZWQsYS5jay5jay1idXR0b24uY2stZGlzYWJsZWR7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1kaXNhYmxlZC1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLGEuY2suY2stYnV0dG9ue2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1idXR0b24sLmNrLXJvdW5kZWQtY29ybmVycyBhLmNrLmNrLWJ1dHRvbiwuY2suY2stYnV0dG9uLmNrLXJvdW5kZWQtY29ybmVycyxhLmNrLmNrLWJ1dHRvbi5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKX0uY2suY2stYnV0dG9uLGEuY2suY2stYnV0dG9ue3doaXRlLXNwYWNlOm5vd3JhcDtjdXJzb3I6ZGVmYXVsdDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7cGFkZGluZzp2YXIoLS1jay1zcGFjaW5nLXRpbnkpO3RleHQtYWxpZ246Y2VudGVyO21pbi13aWR0aDp2YXIoLS1jay11aS1jb21wb25lbnQtbWluLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1jay11aS1jb21wb25lbnQtbWluLWhlaWdodCk7bGluZS1oZWlnaHQ6MTtmb250LXNpemU6aW5oZXJpdDtib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50O3RyYW5zaXRpb246Ym94LXNoYWRvdyAuMnMgZWFzZS1pbi1vdXQsYm9yZGVyIC4ycyBlYXNlLWluLW91dDstd2Via2l0LWFwcGVhcmFuY2U6bm9uZX0uY2suY2stYnV0dG9uOmFjdGl2ZSwuY2suY2stYnV0dG9uOmZvY3VzLGEuY2suY2stYnV0dG9uOmFjdGl2ZSxhLmNrLmNrLWJ1dHRvbjpmb2N1c3tvdXRsaW5lOm5vbmU7Ym9yZGVyOnZhcigtLWNrLWZvY3VzLXJpbmcpO2JveC1zaGFkb3c6dmFyKC0tY2stZm9jdXMtb3V0ZXItc2hhZG93KSwwIDB9LmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19pY29uIHVzZSwuY2suY2stYnV0dG9uIC5jay1idXR0b25fX2ljb24gdXNlICosYS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9faWNvbiB1c2UsYS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9faWNvbiB1c2UgKntjb2xvcjppbmhlcml0fS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWwsYS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWx7Zm9udC1zaXplOmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdDtjb2xvcjppbmhlcml0O2N1cnNvcjppbmhlcml0O3ZlcnRpY2FsLWFsaWduOm1pZGRsZX1bZGlyPWx0cl0gLmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19sYWJlbCxbZGlyPWx0cl0gYS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWx7dGV4dC1hbGlnbjpsZWZ0fVtkaXI9cnRsXSAuY2suY2stYnV0dG9uIC5jay1idXR0b25fX2xhYmVsLFtkaXI9cnRsXSBhLmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19sYWJlbHt0ZXh0LWFsaWduOnJpZ2h0fS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9fa2V5c3Ryb2tlLGEuY2suY2stYnV0dG9uIC5jay1idXR0b25fX2tleXN0cm9rZXtjb2xvcjppbmhlcml0fVtkaXI9bHRyXSAuY2suY2stYnV0dG9uIC5jay1idXR0b25fX2tleXN0cm9rZSxbZGlyPWx0cl0gYS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9fa2V5c3Ryb2tle21hcmdpbi1sZWZ0OnZhcigtLWNrLXNwYWNpbmctbGFyZ2UpfVtkaXI9cnRsXSAuY2suY2stYnV0dG9uIC5jay1idXR0b25fX2tleXN0cm9rZSxbZGlyPXJ0bF0gYS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9fa2V5c3Ryb2tle21hcmdpbi1yaWdodDp2YXIoLS1jay1zcGFjaW5nLWxhcmdlKX0uY2suY2stYnV0dG9uIC5jay1idXR0b25fX2tleXN0cm9rZSxhLmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19rZXlzdHJva2V7Zm9udC13ZWlnaHQ6NzAwO29wYWNpdHk6Ljd9LmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZDphY3RpdmUsLmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZDpmb2N1cyxhLmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZDphY3RpdmUsYS5jay5jay1idXR0b24uY2stZGlzYWJsZWQ6Zm9jdXN7Ym94LXNoYWRvdzp2YXIoLS1jay1mb2N1cy1kaXNhYmxlZC1vdXRlci1zaGFkb3cpLDAgMH0uY2suY2stYnV0dG9uLmNrLWRpc2FibGVkIC5jay1idXR0b25fX2ljb24sYS5jay5jay1idXR0b24uY2stZGlzYWJsZWQgLmNrLWJ1dHRvbl9faWNvbntvcGFjaXR5OnZhcigtLWNrLWRpc2FibGVkLW9wYWNpdHkpfS5jay5jay1idXR0b24uY2stZGlzYWJsZWQgLmNrLWJ1dHRvbl9fbGFiZWwsYS5jay5jay1idXR0b24uY2stZGlzYWJsZWQgLmNrLWJ1dHRvbl9fbGFiZWx7b3BhY2l0eTp2YXIoLS1jay1kaXNhYmxlZC1vcGFjaXR5KX0uY2suY2stYnV0dG9uLmNrLWRpc2FibGVkIC5jay1idXR0b25fX2tleXN0cm9rZSxhLmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZCAuY2stYnV0dG9uX19rZXlzdHJva2V7b3BhY2l0eTouM30uY2suY2stYnV0dG9uLmNrLWJ1dHRvbl93aXRoLXRleHQsYS5jay5jay1idXR0b24uY2stYnV0dG9uX3dpdGgtdGV4dHtwYWRkaW5nOnZhcigtLWNrLXNwYWNpbmctdGlueSkgdmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9W2Rpcj1sdHJdIC5jay5jay1idXR0b24uY2stYnV0dG9uX3dpdGgtdGV4dCAuY2stYnV0dG9uX19pY29uLFtkaXI9bHRyXSBhLmNrLmNrLWJ1dHRvbi5jay1idXR0b25fd2l0aC10ZXh0IC5jay1idXR0b25fX2ljb257bWFyZ2luLWxlZnQ6Y2FsYygtMSp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKSk7bWFyZ2luLXJpZ2h0OnZhcigtLWNrLXNwYWNpbmctc21hbGwpfVtkaXI9cnRsXSAuY2suY2stYnV0dG9uLmNrLWJ1dHRvbl93aXRoLXRleHQgLmNrLWJ1dHRvbl9faWNvbixbZGlyPXJ0bF0gYS5jay5jay1idXR0b24uY2stYnV0dG9uX3dpdGgtdGV4dCAuY2stYnV0dG9uX19pY29ue21hcmdpbi1yaWdodDpjYWxjKC0xKnZhcigtLWNrLXNwYWNpbmctc21hbGwpKTttYXJnaW4tbGVmdDp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKX0uY2suY2stYnV0dG9uLmNrLWJ1dHRvbl93aXRoLWtleXN0cm9rZSAuY2stYnV0dG9uX19sYWJlbCxhLmNrLmNrLWJ1dHRvbi5jay1idXR0b25fd2l0aC1rZXlzdHJva2UgLmNrLWJ1dHRvbl9fbGFiZWx7ZmxleC1ncm93OjF9LmNrLmNrLWJ1dHRvbi5jay1vbixhLmNrLmNrLWJ1dHRvbi5jay1vbntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1vbi1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLmNrLW9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVyLGEuY2suY2stYnV0dG9uLmNrLW9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLW9uLWhvdmVyLWJhY2tncm91bmQpfS5jay5jay1idXR0b24uY2stb246bm90KC5jay1kaXNhYmxlZCk6YWN0aXZlLGEuY2suY2stYnV0dG9uLmNrLW9uOm5vdCguY2stZGlzYWJsZWQpOmFjdGl2ZXtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1vbi1hY3RpdmUtYmFja2dyb3VuZCk7Ym94LXNoYWRvdzppbnNldCAwIDJweCAycHggdmFyKC0tY2stY29sb3ItYnV0dG9uLW9uLWFjdGl2ZS1zaGFkb3cpfS5jay5jay1idXR0b24uY2stb24uY2stZGlzYWJsZWQsYS5jay5jay1idXR0b24uY2stb24uY2stZGlzYWJsZWR7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tb24tZGlzYWJsZWQtYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbi5jay1idXR0b24tc2F2ZSxhLmNrLmNrLWJ1dHRvbi5jay1idXR0b24tc2F2ZXtjb2xvcjp2YXIoLS1jay1jb2xvci1idXR0b24tc2F2ZSl9LmNrLmNrLWJ1dHRvbi5jay1idXR0b24tY2FuY2VsLGEuY2suY2stYnV0dG9uLmNrLWJ1dHRvbi1jYW5jZWx7Y29sb3I6dmFyKC0tY2stY29sb3ItYnV0dG9uLWNhbmNlbCl9LmNrLmNrLWJ1dHRvbi1hY3Rpb24sYS5jay5jay1idXR0b24tYWN0aW9ue2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLWFjdGlvbjpub3QoLmNrLWRpc2FibGVkKTpob3ZlcixhLmNrLmNrLWJ1dHRvbi1hY3Rpb246bm90KC5jay1kaXNhYmxlZCk6aG92ZXJ7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tYWN0aW9uLWhvdmVyLWJhY2tncm91bmQpfS5jay5jay1idXR0b24tYWN0aW9uOm5vdCguY2stZGlzYWJsZWQpOmFjdGl2ZSxhLmNrLmNrLWJ1dHRvbi1hY3Rpb246bm90KC5jay1kaXNhYmxlZCk6YWN0aXZle2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1hY3RpdmUtYmFja2dyb3VuZCk7Ym94LXNoYWRvdzppbnNldCAwIDJweCAycHggdmFyKC0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1hY3RpdmUtc2hhZG93KX0uY2suY2stYnV0dG9uLWFjdGlvbi5jay1kaXNhYmxlZCxhLmNrLmNrLWJ1dHRvbi1hY3Rpb24uY2stZGlzYWJsZWR7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tYWN0aW9uLWRpc2FibGVkLWJhY2tncm91bmQpfS5jay5jay1idXR0b24tYWN0aW9uLGEuY2suY2stYnV0dG9uLWFjdGlvbntjb2xvcjp2YXIoLS1jay1jb2xvci1idXR0b24tYWN0aW9uLXRleHQpfS5jay5jay1idXR0b24tYm9sZCxhLmNrLmNrLWJ1dHRvbi1ib2xke2ZvbnQtd2VpZ2h0OjcwMH1cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSgyNik7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrIC5jay1iYWxsb29uLXJvdGF0b3JfX25hdmlnYXRpb257ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5jayAuY2stYmFsbG9vbi1yb3RhdG9yX19jb250ZW50IC5jay10b29sYmFye2p1c3RpZnktY29udGVudDpjZW50ZXJ9LmNrIC5jay1iYWxsb29uLXJvdGF0b3JfX25hdmlnYXRpb257YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci10b29sYmFyLWJhY2tncm91bmQpO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLXRvb2xiYXItYm9yZGVyKTtwYWRkaW5nOjAgdmFyKC0tY2stc3BhY2luZy1zbWFsbCl9LmNrIC5jay1iYWxsb29uLXJvdGF0b3JfX25hdmlnYXRpb24+KnttYXJnaW4tcmlnaHQ6dmFyKC0tY2stc3BhY2luZy1zbWFsbCk7bWFyZ2luLXRvcDp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKTttYXJnaW4tYm90dG9tOnZhcigtLWNrLXNwYWNpbmctc21hbGwpfS5jayAuY2stYmFsbG9vbi1yb3RhdG9yX19uYXZpZ2F0aW9uIC5jay1iYWxsb29uLXJvdGF0b3JfX2NvdW50ZXJ7bWFyZ2luLXJpZ2h0OnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpO21hcmdpbi1sZWZ0OnZhcigtLWNrLXNwYWNpbmctc21hbGwpfS5jayAuY2stYmFsbG9vbi1yb3RhdG9yX19jb250ZW50IC5jay5jay1hbm5vdGF0aW9uLXdyYXBwZXJ7Ym94LXNoYWRvdzpub25lfVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDI4KTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2sgLmNrLWZha2UtcGFuZWx7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDpjYWxjKHZhcigtLWNrLXotbW9kYWwpIC0gMSl9LmNrIC5jay1mYWtlLXBhbmVsIGRpdntwb3NpdGlvbjphYnNvbHV0ZX0uY2sgLmNrLWZha2UtcGFuZWwgZGl2OmZpcnN0LWNoaWxke3otaW5kZXg6Mn0uY2sgLmNrLWZha2UtcGFuZWwgZGl2Om50aC1jaGlsZCgyKXt6LWluZGV4OjF9OnJvb3R7LS1jay1iYWxsb29uLWZha2UtcGFuZWwtb2Zmc2V0LWhvcml6b250YWw6NnB4Oy0tY2stYmFsbG9vbi1mYWtlLXBhbmVsLW9mZnNldC12ZXJ0aWNhbDo2cHh9LmNrIC5jay1mYWtlLXBhbmVsIGRpdntib3gtc2hhZG93OnZhcigtLWNrLWRyb3Atc2hhZG93KSwwIDA7bWluLWhlaWdodDoxNXB4O2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItcGFuZWwtYmFja2dyb3VuZCk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1wYW5lbC1ib3JkZXIpO2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyk7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uY2sgLmNrLWZha2UtcGFuZWwgZGl2OmZpcnN0LWNoaWxke21hcmdpbi1sZWZ0OnZhcigtLWNrLWJhbGxvb24tZmFrZS1wYW5lbC1vZmZzZXQtaG9yaXpvbnRhbCk7bWFyZ2luLXRvcDp2YXIoLS1jay1iYWxsb29uLWZha2UtcGFuZWwtb2Zmc2V0LXZlcnRpY2FsKX0uY2sgLmNrLWZha2UtcGFuZWwgZGl2Om50aC1jaGlsZCgyKXttYXJnaW4tbGVmdDpjYWxjKHZhcigtLWNrLWJhbGxvb24tZmFrZS1wYW5lbC1vZmZzZXQtaG9yaXpvbnRhbCkqMik7bWFyZ2luLXRvcDpjYWxjKHZhcigtLWNrLWJhbGxvb24tZmFrZS1wYW5lbC1vZmZzZXQtdmVydGljYWwpKjIpfS5jayAuY2stZmFrZS1wYW5lbCBkaXY6bnRoLWNoaWxkKDMpe21hcmdpbi1sZWZ0OmNhbGModmFyKC0tY2stYmFsbG9vbi1mYWtlLXBhbmVsLW9mZnNldC1ob3Jpem9udGFsKSozKTttYXJnaW4tdG9wOmNhbGModmFyKC0tY2stYmFsbG9vbi1mYWtlLXBhbmVsLW9mZnNldC12ZXJ0aWNhbCkqMyl9LmNrIC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3MrLmNrLWZha2UtcGFuZWwsLmNrIC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3NlKy5jay1mYWtlLXBhbmVsLC5jayAuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19zdysuY2stZmFrZS1wYW5lbHstLWNrLWJhbGxvb24tZmFrZS1wYW5lbC1vZmZzZXQtdmVydGljYWw6LTZweH1cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSgzMCk7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWRyb3Bkb3due2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlfS5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX2Fycm93e3BvaW50ZXItZXZlbnRzOm5vbmU7ei1pbmRleDp2YXIoLS1jay16LWRlZmF1bHQpfS5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b257d2lkdGg6MTAwJX0uY2suY2stZHJvcGRvd24gLmNrLWJ1dHRvbi5jay1kcm9wZG93bl9fYnV0dG9uLmNrLW9uIC5jay10b29sdGlwe2Rpc3BsYXk6bm9uZX0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbHstd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVuO2Rpc3BsYXk6bm9uZTt6LWluZGV4OnZhcigtLWNrLXotbW9kYWwpO3Bvc2l0aW9uOmFic29sdXRlfS5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsLmNrLWRyb3Bkb3duX19wYW5lbC12aXNpYmxle2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsLmNrLWRyb3Bkb3duX19wYW5lbF9uZSwuY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbC5jay1kcm9wZG93bl9fcGFuZWxfbnd7Ym90dG9tOjEwMCV9LmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwuY2stZHJvcGRvd25fX3BhbmVsX3NlLC5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsLmNrLWRyb3Bkb3duX19wYW5lbF9zd3t0b3A6MTAwJTtib3R0b206YXV0b30uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbC5jay1kcm9wZG93bl9fcGFuZWxfbmUsLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwuY2stZHJvcGRvd25fX3BhbmVsX3Nle2xlZnQ6MH0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbC5jay1kcm9wZG93bl9fcGFuZWxfbncsLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwuY2stZHJvcGRvd25fX3BhbmVsX3N3e3JpZ2h0OjB9OnJvb3R7LS1jay1kcm9wZG93bi1hcnJvdy1zaXplOmNhbGMoMC41KnZhcigtLWNrLWljb24tc2l6ZSkpfS5jay5jay1kcm9wZG93bntmb250LXNpemU6aW5oZXJpdH0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19hcnJvd3t3aWR0aDp2YXIoLS1jay1kcm9wZG93bi1hcnJvdy1zaXplKX1bZGlyPWx0cl0gLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fYXJyb3d7cmlnaHQ6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCk7bWFyZ2luLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zbWFsbCl9W2Rpcj1ydGxdIC5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX2Fycm93e2xlZnQ6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCk7bWFyZ2luLXJpZ2h0OnZhcigtLWNrLXNwYWNpbmctc21hbGwpfS5jay5jay1kcm9wZG93bi5jay1kaXNhYmxlZCAuY2stZHJvcGRvd25fX2Fycm93e29wYWNpdHk6dmFyKC0tY2stZGlzYWJsZWQtb3BhY2l0eSl9W2Rpcj1sdHJdIC5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b246bm90KC5jay1idXR0b25fd2l0aC10ZXh0KXtwYWRkaW5nLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zbWFsbCl9W2Rpcj1ydGxdIC5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b246bm90KC5jay1idXR0b25fd2l0aC10ZXh0KXtwYWRkaW5nLXJpZ2h0OnZhcigtLWNrLXNwYWNpbmctc21hbGwpfS5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWx7d2lkdGg6N2VtO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b24uY2stZGlzYWJsZWQgLmNrLWJ1dHRvbl9fbGFiZWx7b3BhY2l0eTp2YXIoLS1jay1kaXNhYmxlZC1vcGFjaXR5KX0uY2suY2stZHJvcGRvd24gLmNrLWJ1dHRvbi5jay1kcm9wZG93bl9fYnV0dG9uLmNrLW9ue2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowfS5jay5jay1kcm9wZG93bl9fcGFuZWx7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWRyb3Bkb3duX19wYW5lbCwuY2suY2stZHJvcGRvd25fX3BhbmVsLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay1kcm9wZG93bl9fcGFuZWx7Ym94LXNoYWRvdzp2YXIoLS1jay1kcm9wLXNoYWRvdyksMCAwO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItZHJvcGRvd24tcGFuZWwtYmFja2dyb3VuZCk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1kcm9wZG93bi1wYW5lbC1ib3JkZXIpO2JvdHRvbTowO21pbi13aWR0aDoxMDAlfS5jay5jay1kcm9wZG93bl9fcGFuZWwuY2stZHJvcGRvd25fX3BhbmVsX3Nle2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0uY2suY2stZHJvcGRvd25fX3BhbmVsLmNrLWRyb3Bkb3duX19wYW5lbF9zd3tib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowfS5jay5jay1kcm9wZG93bl9fcGFuZWwuY2stZHJvcGRvd25fX3BhbmVsX25le2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MH0uY2suY2stZHJvcGRvd25fX3BhbmVsLmNrLWRyb3Bkb3duX19wYW5lbF9ud3tib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowfVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDMyKTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stbGlzdHstbW96LXVzZXItc2VsZWN0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0uY2suY2stbGlzdCAuY2stbGlzdF9faXRlbSwuY2suY2stbGlzdCAuY2stbGlzdF9fc2VwYXJhdG9ye2Rpc3BsYXk6YmxvY2t9LmNrLmNrLWxpc3QgLmNrLWxpc3RfX2l0ZW0+OmZvY3Vze3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6dmFyKC0tY2stei1kZWZhdWx0KX0uY2suY2stbGlzdHtib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stbGlzdCwuY2suY2stbGlzdC5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKX0uY2suY2stbGlzdHtsaXN0LXN0eWxlLXR5cGU6bm9uZTtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWxpc3QtYmFja2dyb3VuZCl9LmNrLmNrLWxpc3RfX2l0ZW17Y3Vyc29yOmRlZmF1bHQ7bWluLXdpZHRoOjEyZW19LmNrLmNrLWxpc3RfX2l0ZW0gLmNrLWJ1dHRvbnttaW4taGVpZ2h0OnVuc2V0O3dpZHRoOjEwMCU7dGV4dC1hbGlnbjpsZWZ0O2JvcmRlci1yYWRpdXM6MDtwYWRkaW5nOmNhbGMoMC4yKnZhcigtLWNrLWxpbmUtaGVpZ2h0LWJhc2UpKnZhcigtLWNrLWZvbnQtc2l6ZS1iYXNlKSkgY2FsYygwLjQqdmFyKC0tY2stbGluZS1oZWlnaHQtYmFzZSkqdmFyKC0tY2stZm9udC1zaXplLWJhc2UpKX0uY2suY2stbGlzdF9faXRlbSAuY2stYnV0dG9uIC5jay1idXR0b25fX2xhYmVse2xpbmUtaGVpZ2h0OmNhbGMoMS4yKnZhcigtLWNrLWxpbmUtaGVpZ2h0LWJhc2UpKnZhcigtLWNrLWZvbnQtc2l6ZS1iYXNlKSl9LmNrLmNrLWxpc3RfX2l0ZW0gLmNrLWJ1dHRvbjphY3RpdmV7Ym94LXNoYWRvdzpub25lfS5jay5jay1saXN0X19pdGVtIC5jay1idXR0b24uY2stb257YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1saXN0LWJ1dHRvbi1vbi1iYWNrZ3JvdW5kKTtjb2xvcjp2YXIoLS1jay1jb2xvci1saXN0LWJ1dHRvbi1vbi10ZXh0KX0uY2suY2stbGlzdF9faXRlbSAuY2stYnV0dG9uLmNrLW9uOmFjdGl2ZXtib3gtc2hhZG93Om5vbmV9LmNrLmNrLWxpc3RfX2l0ZW0gLmNrLWJ1dHRvbi5jay1vbjpob3Zlcjpub3QoLmNrLWRpc2FibGVkKXtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWxpc3QtYnV0dG9uLW9uLWJhY2tncm91bmQtZm9jdXMpfS5jay5jay1saXN0X19pdGVtIC5jay1idXR0b24uY2stb246Zm9jdXM6bm90KC5jay1kaXNhYmxlZCl7Ym9yZGVyLWNvbG9yOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCl9LmNrLmNrLWxpc3RfX2l0ZW0gLmNrLWJ1dHRvbjpob3Zlcjpub3QoLmNrLWRpc2FibGVkKXtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWxpc3QtYnV0dG9uLWhvdmVyLWJhY2tncm91bmQpfS5jay5jay1saXN0X19pdGVtIC5jay1zd2l0Y2hidXR0b24uY2stb257YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1saXN0LWJhY2tncm91bmQpO2NvbG9yOmluaGVyaXR9LmNrLmNrLWxpc3RfX2l0ZW0gLmNrLXN3aXRjaGJ1dHRvbi5jay1vbjpob3Zlcjpub3QoLmNrLWRpc2FibGVkKXtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWxpc3QtYnV0dG9uLWhvdmVyLWJhY2tncm91bmQpO2NvbG9yOmluaGVyaXR9LmNrLmNrLWxpc3RfX3NlcGFyYXRvcntoZWlnaHQ6MXB4O3dpZHRoOjEwMCU7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcil9XCJ9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoMzQpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSwuY2suY2stYnV0dG9uLmNrLXN3aXRjaGJ1dHRvbiAuY2stYnV0dG9uX190b2dnbGUgLmNrLWJ1dHRvbl9fdG9nZ2xlX19pbm5lcntkaXNwbGF5OmJsb2NrfTpyb290ey0tY2stc3dpdGNoLWJ1dHRvbi10b2dnbGUtd2lkdGg6Mi42MTUzODQ2MTU0ZW07LS1jay1zd2l0Y2gtYnV0dG9uLXRvZ2dsZS1pbm5lci1zaXplOjEuMDc2OTIzMDc2OWVtOy0tY2stc3dpdGNoLWJ1dHRvbi10b2dnbGUtc3BhY2luZzoxcHg7LS1jay1zd2l0Y2gtYnV0dG9uLXRyYW5zbGF0aW9uOjEuMzg0NjE1Mzg0N2VtfVtkaXI9bHRyXSAuY2suY2stYnV0dG9uLmNrLXN3aXRjaGJ1dHRvbiAuY2stYnV0dG9uX19sYWJlbHttYXJnaW4tcmlnaHQ6Y2FsYygyKnZhcigtLWNrLXNwYWNpbmctbGFyZ2UpKX1bZGlyPXJ0bF0gLmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24gLmNrLWJ1dHRvbl9fbGFiZWx7bWFyZ2luLWxlZnQ6Y2FsYygyKnZhcigtLWNrLXNwYWNpbmctbGFyZ2UpKX0uY2suY2stYnV0dG9uLmNrLXN3aXRjaGJ1dHRvbiAuY2stYnV0dG9uX190b2dnbGV7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24gLmNrLWJ1dHRvbl9fdG9nZ2xlLC5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZS5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKX1bZGlyPWx0cl0gLmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24gLmNrLWJ1dHRvbl9fdG9nZ2xle21hcmdpbi1sZWZ0OmF1dG99W2Rpcj1ydGxdIC5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZXttYXJnaW4tcmlnaHQ6YXV0b30uY2suY2stYnV0dG9uLmNrLXN3aXRjaGJ1dHRvbiAuY2stYnV0dG9uX190b2dnbGV7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kIC40cyBlYXNlO3dpZHRoOnZhcigtLWNrLXN3aXRjaC1idXR0b24tdG9nZ2xlLXdpZHRoKTtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLXN3aXRjaC1idXR0b24tb2ZmLWJhY2tncm91bmQpfS5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVye2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVyLC5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVyLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpO2JvcmRlci1yYWRpdXM6Y2FsYygwLjUqdmFyKC0tY2stYm9yZGVyLXJhZGl1cykpfS5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVye21hcmdpbjp2YXIoLS1jay1zd2l0Y2gtYnV0dG9uLXRvZ2dsZS1zcGFjaW5nKTt3aWR0aDp2YXIoLS1jay1zd2l0Y2gtYnV0dG9uLXRvZ2dsZS1pbm5lci1zaXplKTtoZWlnaHQ6dmFyKC0tY2stc3dpdGNoLWJ1dHRvbi10b2dnbGUtaW5uZXItc2l6ZSk7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1zd2l0Y2gtYnV0dG9uLWlubmVyLWJhY2tncm91bmQpO3RyYW5zaXRpb246YWxsIC4zcyBlYXNlfS5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLXN3aXRjaC1idXR0b24tb2ZmLWhvdmVyLWJhY2tncm91bmQpfS5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZTpob3ZlciAuY2stYnV0dG9uX190b2dnbGVfX2lubmVye2JveC1zaGFkb3c6MCAwIDAgNXB4IHZhcigtLWNrLWNvbG9yLXN3aXRjaC1idXR0b24taW5uZXItc2hhZG93KX0uY2suY2stYnV0dG9uLmNrLXN3aXRjaGJ1dHRvbi5jay1kaXNhYmxlZCAuY2stYnV0dG9uX190b2dnbGV7b3BhY2l0eTp2YXIoLS1jay1kaXNhYmxlZC1vcGFjaXR5KX0uY2suY2stYnV0dG9uLmNrLXN3aXRjaGJ1dHRvbi5jay1vbiAuY2stYnV0dG9uX190b2dnbGV7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1zd2l0Y2gtYnV0dG9uLW9uLWJhY2tncm91bmQpfS5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uLmNrLW9uIC5jay1idXR0b25fX3RvZ2dsZTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLXN3aXRjaC1idXR0b24tb24taG92ZXItYmFja2dyb3VuZCl9W2Rpcj1sdHJdIC5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uLmNrLW9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVye3RyYW5zZm9ybTp0cmFuc2xhdGVYKHZhcigtLWNrLXN3aXRjaC1idXR0b24tdHJhbnNsYXRpb24pKX1bZGlyPXJ0bF0gLmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24uY2stb24gLmNrLWJ1dHRvbl9fdG9nZ2xlIC5jay1idXR0b25fX3RvZ2dsZV9faW5uZXJ7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoY2FsYygtMSp2YXIoLS1jay1zd2l0Y2gtYnV0dG9uLXRyYW5zbGF0aW9uKSkpfVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDM2KTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stdG9vbGJhci1kcm9wZG93biAuY2suY2stdG9vbGJhciAuY2suY2stdG9vbGJhcl9faXRlbXN7ZmxleC13cmFwOm5vd3JhcH0uY2suY2stdG9vbGJhci1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1idXR0b246Zm9jdXN7ei1pbmRleDpjYWxjKHZhcigtLWNrLXotZGVmYXVsdCkgKyAxKX0uY2suY2stdG9vbGJhci1kcm9wZG93biAuY2stdG9vbGJhcntib3JkZXI6MH1cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSgzOCk7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWxpc3R7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWxpc3QsLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWxpc3QuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowfS5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0IC5jay1saXN0X19pdGVtOmZpcnN0LWNoaWxkIC5jay1idXR0b257Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWxpc3QgLmNrLWxpc3RfX2l0ZW06Zmlyc3QtY2hpbGQgLmNrLWJ1dHRvbiwuY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbCAuY2stbGlzdCAuY2stbGlzdF9faXRlbTpmaXJzdC1jaGlsZCAuY2stYnV0dG9uLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MH0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbCAuY2stbGlzdCAuY2stbGlzdF9faXRlbTpsYXN0LWNoaWxkIC5jay1idXR0b257Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWxpc3QgLmNrLWxpc3RfX2l0ZW06bGFzdC1jaGlsZCAuY2stYnV0dG9uLC5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0IC5jay1saXN0X19pdGVtOmxhc3QtY2hpbGQgLmNrLWJ1dHRvbi5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MH1cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSg0MCk7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLXRvb2xiYXJ7LW1vei11c2VyLXNlbGVjdDpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6cm93IG5vd3JhcDthbGlnbi1pdGVtczpjZW50ZXJ9LmNrLmNrLXRvb2xiYXI+LmNrLXRvb2xiYXJfX2l0ZW1ze2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6cm93IHdyYXA7YWxpZ24taXRlbXM6Y2VudGVyO2ZsZXgtZ3JvdzoxfS5jay5jay10b29sYmFyIC5jay5jay10b29sYmFyX19zZXBhcmF0b3J7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLmNrLXRvb2xiYXIgLmNrLmNrLXRvb2xiYXJfX3NlcGFyYXRvcjpmaXJzdC1jaGlsZCwuY2suY2stdG9vbGJhciAuY2suY2stdG9vbGJhcl9fc2VwYXJhdG9yOmxhc3QtY2hpbGR7ZGlzcGxheTpub25lfS5jay5jay10b29sYmFyLmNrLXRvb2xiYXJfZ3JvdXBpbmc+LmNrLXRvb2xiYXJfX2l0ZW1ze2ZsZXgtd3JhcDpub3dyYXB9LmNrLmNrLXRvb2xiYXIuY2stdG9vbGJhcl92ZXJ0aWNhbD4uY2stdG9vbGJhcl9faXRlbXN7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5jay5jay10b29sYmFyLmNrLXRvb2xiYXJfZmxvYXRpbmc+LmNrLXRvb2xiYXJfX2l0ZW1ze2ZsZXgtd3JhcDpub3dyYXB9LmNrLmNrLXRvb2xiYXI+LmNrLmNrLXRvb2xiYXJfX2dyb3VwZWQtZHJvcGRvd24+LmNrLWRyb3Bkb3duX19idXR0b24gLmNrLWRyb3Bkb3duX19hcnJvd3tkaXNwbGF5Om5vbmV9LmNrLmNrLXRvb2xiYXJ7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLXRvb2xiYXIsLmNrLmNrLXRvb2xiYXIuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLXRvb2xiYXJ7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci10b29sYmFyLWJhY2tncm91bmQpO3BhZGRpbmc6MCB2YXIoLS1jay1zcGFjaW5nLXNtYWxsKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLXRvb2xiYXItYm9yZGVyKX0uY2suY2stdG9vbGJhciAuY2suY2stdG9vbGJhcl9fc2VwYXJhdG9ye2FsaWduLXNlbGY6c3RyZXRjaDt3aWR0aDoxcHg7bWluLXdpZHRoOjFweDttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItdG9vbGJhci1ib3JkZXIpfS5jay5jay10b29sYmFyPi5jay10b29sYmFyX19pdGVtcz4qe21hcmdpbi10b3A6dmFyKC0tY2stc3BhY2luZy1zbWFsbCk7bWFyZ2luLWJvdHRvbTp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKTttYXJnaW4tcmlnaHQ6dmFyKC0tY2stc3BhY2luZy1zbWFsbCl9LmNrLmNrLXRvb2xiYXI+LmNrLXRvb2xiYXJfX2l0ZW1zOmVtcHR5Ky5jay5jay10b29sYmFyX19zZXBhcmF0b3J7ZGlzcGxheTpub25lfS5jay5jay10b29sYmFyPi5jay10b29sYmFyX19pdGVtcz4qLC5jay5jay10b29sYmFyPi5jay5jay10b29sYmFyX19ncm91cGVkLWRyb3Bkb3due21hcmdpbi10b3A6dmFyKC0tY2stc3BhY2luZy1zbWFsbCk7bWFyZ2luLWJvdHRvbTp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKX0uY2suY2stdG9vbGJhci5jay10b29sYmFyX3ZlcnRpY2Fse3BhZGRpbmc6MH0uY2suY2stdG9vbGJhci5jay10b29sYmFyX3ZlcnRpY2FsPi5jay10b29sYmFyX19pdGVtcz4uY2t7d2lkdGg6MTAwJTttYXJnaW46MDtib3JkZXItcmFkaXVzOjA7Ym9yZGVyOjB9LmNrLmNrLXRvb2xiYXIuY2stdG9vbGJhcl9jb21wYWN0e3BhZGRpbmc6MH0uY2suY2stdG9vbGJhci5jay10b29sYmFyX2NvbXBhY3Q+LmNrLXRvb2xiYXJfX2l0ZW1zPip7bWFyZ2luOjB9LmNrLmNrLXRvb2xiYXIuY2stdG9vbGJhcl9jb21wYWN0Pi5jay10b29sYmFyX19pdGVtcz46bm90KDpmaXJzdC1jaGlsZCk6bm90KDpsYXN0LWNoaWxkKXtib3JkZXItcmFkaXVzOjB9LmNrLmNrLXRvb2xiYXI+LmNrLmNrLXRvb2xiYXJfX2dyb3VwZWQtZHJvcGRvd24+LmNrLmNrLWJ1dHRvbi5jay1kcm9wZG93bl9fYnV0dG9ue3BhZGRpbmctbGVmdDp2YXIoLS1jay1zcGFjaW5nLXRpbnkpfS5jay10b29sYmFyLWNvbnRhaW5lciAuY2suY2stdG9vbGJhcntib3JkZXI6MH0uY2suY2stdG9vbGJhcltkaXI9cnRsXT4uY2stdG9vbGJhcl9faXRlbXM+LmNrLFtkaXI9cnRsXSAuY2suY2stdG9vbGJhcj4uY2stdG9vbGJhcl9faXRlbXM+LmNre21hcmdpbi1yaWdodDowfS5jay5jay10b29sYmFyW2Rpcj1ydGxdOm5vdCguY2stdG9vbGJhcl9jb21wYWN0KT4uY2stdG9vbGJhcl9faXRlbXM+LmNrLFtkaXI9cnRsXSAuY2suY2stdG9vbGJhcjpub3QoLmNrLXRvb2xiYXJfY29tcGFjdCk+LmNrLXRvb2xiYXJfX2l0ZW1zPi5ja3ttYXJnaW4tbGVmdDp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKX0uY2suY2stdG9vbGJhcltkaXI9cnRsXT4uY2stdG9vbGJhcl9faXRlbXM+LmNrOmxhc3QtY2hpbGQsW2Rpcj1ydGxdIC5jay5jay10b29sYmFyPi5jay10b29sYmFyX19pdGVtcz4uY2s6bGFzdC1jaGlsZHttYXJnaW4tbGVmdDowfS5jay5jay10b29sYmFyW2Rpcj1ydGxdLmNrLXRvb2xiYXJfY29tcGFjdD4uY2stdG9vbGJhcl9faXRlbXM+LmNrOmZpcnN0LWNoaWxkLFtkaXI9cnRsXSAuY2suY2stdG9vbGJhci5jay10b29sYmFyX2NvbXBhY3Q+LmNrLXRvb2xiYXJfX2l0ZW1zPi5jazpmaXJzdC1jaGlsZHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfS5jay5jay10b29sYmFyW2Rpcj1ydGxdLmNrLXRvb2xiYXJfY29tcGFjdD4uY2stdG9vbGJhcl9faXRlbXM+LmNrOmxhc3QtY2hpbGQsW2Rpcj1ydGxdIC5jay5jay10b29sYmFyLmNrLXRvb2xiYXJfY29tcGFjdD4uY2stdG9vbGJhcl9faXRlbXM+LmNrOmxhc3QtY2hpbGR7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowfS5jay5jay10b29sYmFyW2Rpcj1ydGxdPi5jay5jay10b29sYmFyX19zZXBhcmF0b3IsW2Rpcj1ydGxdIC5jay5jay10b29sYmFyPi5jay5jay10b29sYmFyX19zZXBhcmF0b3J7bWFyZ2luLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zbWFsbCl9LmNrLmNrLXRvb2xiYXJbZGlyPXJ0bF0uY2stdG9vbGJhcl9ncm91cGluZz4uY2stdG9vbGJhcl9faXRlbXM6bm90KDplbXB0eSk6bm90KDpvbmx5LWNoaWxkKSxbZGlyPXJ0bF0gLmNrLmNrLXRvb2xiYXIuY2stdG9vbGJhcl9ncm91cGluZz4uY2stdG9vbGJhcl9faXRlbXM6bm90KDplbXB0eSk6bm90KDpvbmx5LWNoaWxkKXttYXJnaW4tbGVmdDp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKX0uY2suY2stdG9vbGJhcltkaXI9bHRyXT4uY2stdG9vbGJhcl9faXRlbXM+LmNrOmxhc3QtY2hpbGQsW2Rpcj1sdHJdIC5jay5jay10b29sYmFyPi5jay10b29sYmFyX19pdGVtcz4uY2s6bGFzdC1jaGlsZHttYXJnaW4tcmlnaHQ6MH0uY2suY2stdG9vbGJhcltkaXI9bHRyXS5jay10b29sYmFyX2NvbXBhY3Q+LmNrLXRvb2xiYXJfX2l0ZW1zPi5jazpmaXJzdC1jaGlsZCxbZGlyPWx0cl0gLmNrLmNrLXRvb2xiYXIuY2stdG9vbGJhcl9jb21wYWN0Pi5jay10b29sYmFyX19pdGVtcz4uY2s6Zmlyc3QtY2hpbGR7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowfS5jay5jay10b29sYmFyW2Rpcj1sdHJdLmNrLXRvb2xiYXJfY29tcGFjdD4uY2stdG9vbGJhcl9faXRlbXM+LmNrOmxhc3QtY2hpbGQsW2Rpcj1sdHJdIC5jay5jay10b29sYmFyLmNrLXRvb2xiYXJfY29tcGFjdD4uY2stdG9vbGJhcl9faXRlbXM+LmNrOmxhc3QtY2hpbGR7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MH0uY2suY2stdG9vbGJhcltkaXI9bHRyXT4uY2suY2stdG9vbGJhcl9fc2VwYXJhdG9yLFtkaXI9bHRyXSAuY2suY2stdG9vbGJhcj4uY2suY2stdG9vbGJhcl9fc2VwYXJhdG9ye21hcmdpbi1yaWdodDp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKX0uY2suY2stdG9vbGJhcltkaXI9bHRyXS5jay10b29sYmFyX2dyb3VwaW5nPi5jay10b29sYmFyX19pdGVtczpub3QoOmVtcHR5KTpub3QoOm9ubHktY2hpbGQpLFtkaXI9bHRyXSAuY2suY2stdG9vbGJhci5jay10b29sYmFyX2dyb3VwaW5nPi5jay10b29sYmFyX19pdGVtczpub3QoOmVtcHR5KTpub3QoOm9ubHktY2hpbGQpe21hcmdpbi1yaWdodDp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKX1cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSg0Mik7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLXBsYWNlaG9sZGVyOmJlZm9yZSwuY2sgLmNrLXBsYWNlaG9sZGVyOmJlZm9yZXtjb250ZW50OmF0dHIoZGF0YS1wbGFjZWhvbGRlcik7cG9pbnRlci1ldmVudHM6bm9uZX0uY2suY2stcmVhZC1vbmx5IC5jay1wbGFjZWhvbGRlcjpiZWZvcmV7ZGlzcGxheTpub25lfS5jay5jay1wbGFjZWhvbGRlcjpiZWZvcmUsLmNrIC5jay1wbGFjZWhvbGRlcjpiZWZvcmV7Y3Vyc29yOnRleHQ7Y29sb3I6dmFyKC0tY2stY29sb3ItZW5naW5lLXBsYWNlaG9sZGVyLXRleHQpfVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDQ0KTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stZWRpdG9yX19lZGl0YWJsZTpub3QoLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlKXtib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stZWRpdG9yX19lZGl0YWJsZTpub3QoLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlKSwuY2suY2stZWRpdG9yX19lZGl0YWJsZTpub3QoLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlKS5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKX0uY2suY2stZWRpdG9yX19lZGl0YWJsZTpub3QoLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlKS5jay1mb2N1c2Vke291dGxpbmU6bm9uZTtib3JkZXI6dmFyKC0tY2stZm9jdXMtcmluZyk7Ym94LXNoYWRvdzp2YXIoLS1jay1pbm5lci1zaGFkb3cpLDAgMH0uY2suY2stZWRpdG9yX19lZGl0YWJsZV9pbmxpbmV7b3ZlcmZsb3c6YXV0bztwYWRkaW5nOjAgdmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCk7Ym9yZGVyOjFweCBzb2xpZCB0cmFuc3BhcmVudH0uY2suY2stZWRpdG9yX19lZGl0YWJsZV9pbmxpbmVbZGlyPWx0cl17dGV4dC1hbGlnbjpsZWZ0fS5jay5jay1lZGl0b3JfX2VkaXRhYmxlX2lubGluZVtkaXI9cnRsXXt0ZXh0LWFsaWduOnJpZ2h0fS5jay5jay1lZGl0b3JfX2VkaXRhYmxlX2lubGluZT46Zmlyc3QtY2hpbGR7bWFyZ2luLXRvcDp2YXIoLS1jay1zcGFjaW5nLWxhcmdlKX0uY2suY2stZWRpdG9yX19lZGl0YWJsZV9pbmxpbmU+Omxhc3QtY2hpbGR7bWFyZ2luLWJvdHRvbTp2YXIoLS1jay1zcGFjaW5nLWxhcmdlKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay10b29sYmFyLWNvbnRhaW5lcltjbGFzcyo9YXJyb3dfbl06YWZ0ZXJ7Ym9yZGVyLWJvdHRvbS1jb2xvcjp2YXIoLS1jay1jb2xvci1iYXNlLWZvcmVncm91bmQpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLXRvb2xiYXItY29udGFpbmVyW2NsYXNzKj1hcnJvd19zXTphZnRlcntib3JkZXItdG9wLWNvbG9yOnZhcigtLWNrLWNvbG9yLWJhc2UtZm9yZWdyb3VuZCl9XCJ9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoNDYpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay1jb250ZW50IGJsb2NrcXVvdGV7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmctcmlnaHQ6MS41ZW07cGFkZGluZy1sZWZ0OjEuNWVtO21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjA7Zm9udC1zdHlsZTppdGFsaWM7Ym9yZGVyLWxlZnQ6NXB4IHNvbGlkICNjY2N9LmNrLWNvbnRlbnRbZGlyPXJ0bF0gYmxvY2txdW90ZXtib3JkZXItbGVmdDowO2JvcmRlci1yaWdodDo1cHggc29saWQgI2NjY31cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSg0OCk7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWNvbG9yLWdyaWR7ZGlzcGxheTpncmlkfTpyb290ey0tY2stY29sb3ItZ3JpZC10aWxlLXNpemU6MjRweDstLWNrLWNvbG9yLWNvbG9yLWdyaWQtY2hlY2staWNvbjojMDAwfS5jay5jay1jb2xvci1ncmlke2dyaWQtZ2FwOjVweDtwYWRkaW5nOjhweH0uY2suY2stY29sb3ItZ3JpZF9fdGlsZXt3aWR0aDp2YXIoLS1jay1jb2xvci1ncmlkLXRpbGUtc2l6ZSk7aGVpZ2h0OnZhcigtLWNrLWNvbG9yLWdyaWQtdGlsZS1zaXplKTttaW4td2lkdGg6dmFyKC0tY2stY29sb3ItZ3JpZC10aWxlLXNpemUpO21pbi1oZWlnaHQ6dmFyKC0tY2stY29sb3ItZ3JpZC10aWxlLXNpemUpO3BhZGRpbmc6MDt0cmFuc2l0aW9uOmJveC1zaGFkb3cgLjJzIGVhc2U7Ym9yZGVyOjB9LmNrLmNrLWNvbG9yLWdyaWRfX3RpbGUuY2stZGlzYWJsZWR7Y3Vyc29yOnVuc2V0O3RyYW5zaXRpb246dW5zZXR9LmNrLmNrLWNvbG9yLWdyaWRfX3RpbGUuY2stY29sb3ItdGFibGVfX2NvbG9yLXRpbGVfYm9yZGVyZWR7Ym94LXNoYWRvdzowIDAgMCAxcHggdmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpfS5jay5jay1jb2xvci1ncmlkX190aWxlIC5jay5jay1pY29ue2Rpc3BsYXk6bm9uZTtjb2xvcjp2YXIoLS1jay1jb2xvci1jb2xvci1ncmlkLWNoZWNrLWljb24pfS5jay5jay1jb2xvci1ncmlkX190aWxlLmNrLW9ue2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4IHZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCksMCAwIDAgMnB4IHZhcigtLWNrLWNvbG9yLWJhc2UtdGV4dCl9LmNrLmNrLWNvbG9yLWdyaWRfX3RpbGUuY2stb24gLmNrLmNrLWljb257ZGlzcGxheTpibG9ja30uY2suY2stY29sb3ItZ3JpZF9fdGlsZS5jay1vbiwuY2suY2stY29sb3ItZ3JpZF9fdGlsZTpmb2N1czpub3QoLmNrLWRpc2FibGVkKSwuY2suY2stY29sb3ItZ3JpZF9fdGlsZTpob3Zlcjpub3QoLmNrLWRpc2FibGVkKXtib3JkZXI6MH0uY2suY2stY29sb3ItZ3JpZF9fdGlsZTpmb2N1czpub3QoLmNrLWRpc2FibGVkKSwuY2suY2stY29sb3ItZ3JpZF9fdGlsZTpob3Zlcjpub3QoLmNrLWRpc2FibGVkKXtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCB2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpLDAgMCAwIDJweCB2YXIoLS1jay1jb2xvci1mb2N1cy1ib3JkZXIpfS5jay5jay1jb2xvci1ncmlkX19sYWJlbHtwYWRkaW5nOjAgdmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9XCJ9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoNTApO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1sYWJlbHtkaXNwbGF5OmJsb2NrfS5jay5jay12b2ljZS1sYWJlbHtkaXNwbGF5Om5vbmV9LmNrLmNrLWxhYmVse2ZvbnQtd2VpZ2h0OjcwMH1cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSg1Mik7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrIC5jay1idXR0b24uY2stY29sb3ItdGFibGVfX3JlbW92ZS1jb2xvcntkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO3dpZHRoOjEwMCV9bGFiZWwuY2suY2stY29sb3ItZ3JpZF9fbGFiZWx7Zm9udC13ZWlnaHQ6dW5zZXR9LmNrIC5jay1idXR0b24uY2stY29sb3ItdGFibGVfX3JlbW92ZS1jb2xvcntwYWRkaW5nOmNhbGModmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCkvMikgdmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCk7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjB9LmNrIC5jay1idXR0b24uY2stY29sb3ItdGFibGVfX3JlbW92ZS1jb2xvcjpub3QoOmZvY3VzKXtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcil9W2Rpcj1sdHJdIC5jayAuY2stYnV0dG9uLmNrLWNvbG9yLXRhYmxlX19yZW1vdmUtY29sb3IgLmNrLmNrLWljb257bWFyZ2luLXJpZ2h0OnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfVtkaXI9cnRsXSAuY2sgLmNrLWJ1dHRvbi5jay1jb2xvci10YWJsZV9fcmVtb3ZlLWNvbG9yIC5jay5jay1pY29ue21hcmdpbi1sZWZ0OnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDU0KTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIudGV4dC10aW55e2ZvbnQtc2l6ZTouN2VtfS50ZXh0LXNtYWxse2ZvbnQtc2l6ZTouODVlbX0udGV4dC1iaWd7Zm9udC1zaXplOjEuNGVtfS50ZXh0LWh1Z2V7Zm9udC1zaXplOjEuOGVtfVwifSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1oZWFkaW5nX2hlYWRpbmcxe2ZvbnQtc2l6ZToyMHB4fS5jay5jay1oZWFkaW5nX2hlYWRpbmcye2ZvbnQtc2l6ZToxN3B4fS5jay5jay1oZWFkaW5nX2hlYWRpbmcze2ZvbnQtc2l6ZToxNHB4fS5ja1tjbGFzcyo9Y2staGVhZGluZ19oZWFkaW5nXXtmb250LXdlaWdodDo3MDB9LmNrLmNrLWRyb3Bkb3duLmNrLWhlYWRpbmctZHJvcGRvd24gLmNrLWRyb3Bkb3duX19idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWx7d2lkdGg6OGVtfS5jay5jay1kcm9wZG93bi5jay1oZWFkaW5nLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWxpc3RfX2l0ZW17bWluLXdpZHRoOjE4ZW19XCJ9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoNTcpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay1lZGl0b3JfX2VkaXRhYmxlIC5jay1ob3Jpem9udGFsLWxpbmV7b3ZlcmZsb3c6aGlkZGVufS5jay1jb250ZW50IGhye2JvcmRlcjpzb2xpZCAjNWU1ZTVlO2JvcmRlci13aWR0aDoxcHggMCAwO21hcmdpbjowfS5jay1lZGl0b3JfX2VkaXRhYmxlIC5jay1ob3Jpem9udGFsLWxpbmV7cGFkZGluZzo1cHggMH1cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSg1OSk7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiOnJvb3R7LS1jay1jb2xvci1yZXNpemVyOnZhcigtLWNrLWNvbG9yLWZvY3VzLWJvcmRlcik7LS1jay1yZXNpemVyLXNpemU6MTBweDstLWNrLXJlc2l6ZXItYm9yZGVyLXdpZHRoOjFweDstLWNrLXJlc2l6ZXItYm9yZGVyLXJhZGl1czoycHg7LS1jay1yZXNpemVyLW9mZnNldDpjYWxjKHZhcigtLWNrLXJlc2l6ZXItc2l6ZSkvLTIgLSAycHgpOy0tY2stcmVzaXplci10b29sdGlwLW9mZnNldDoxMHB4Oy0tY2stY29sb3ItcmVzaXplci10b29sdGlwLWJhY2tncm91bmQ6IzI2MjYyNjstLWNrLWNvbG9yLXJlc2l6ZXItdG9vbHRpcC10ZXh0OiNmMmYyZjJ9LmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3dpdGgtc2VsZWN0aW9uLWhhbmRsZXtwb3NpdGlvbjpyZWxhdGl2ZX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGV7cG9zaXRpb246YWJzb2x1dGV9LmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3dpdGgtc2VsZWN0aW9uLWhhbmRsZSAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlIC5jay1pY29ue2Rpc3BsYXk6YmxvY2t9LmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3dpdGgtc2VsZWN0aW9uLWhhbmRsZS5jay13aWRnZXRfc2VsZWN0ZWQgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZSwuY2sgLmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlOmhvdmVyIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGV7dmlzaWJpbGl0eTp2aXNpYmxlfS5jayAuY2stc2l6ZS12aWV3e2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItcmVzaXplci10b29sdGlwLWJhY2tncm91bmQpO2NvbG9yOnZhcigtLWNrLWNvbG9yLXJlc2l6ZXItdG9vbHRpcC10ZXh0KTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLXJlc2l6ZXItdG9vbHRpcC10ZXh0KTtib3JkZXItcmFkaXVzOnZhcigtLWNrLXJlc2l6ZXItYm9yZGVyLXJhZGl1cyk7Zm9udC1zaXplOnZhcigtLWNrLWZvbnQtc2l6ZS10aW55KTtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zbWFsbCl9LmNrIC5jay1zaXplLXZpZXcuY2stb3JpZW50YXRpb24tYm90dG9tLWxlZnQsLmNrIC5jay1zaXplLXZpZXcuY2stb3JpZW50YXRpb24tYm90dG9tLXJpZ2h0LC5jayAuY2stc2l6ZS12aWV3LmNrLW9yaWVudGF0aW9uLXRvcC1sZWZ0LC5jayAuY2stc2l6ZS12aWV3LmNrLW9yaWVudGF0aW9uLXRvcC1yaWdodHtwb3NpdGlvbjphYnNvbHV0ZX0uY2sgLmNrLXNpemUtdmlldy5jay1vcmllbnRhdGlvbi10b3AtbGVmdHt0b3A6dmFyKC0tY2stcmVzaXplci10b29sdGlwLW9mZnNldCk7bGVmdDp2YXIoLS1jay1yZXNpemVyLXRvb2x0aXAtb2Zmc2V0KX0uY2sgLmNrLXNpemUtdmlldy5jay1vcmllbnRhdGlvbi10b3AtcmlnaHR7dG9wOnZhcigtLWNrLXJlc2l6ZXItdG9vbHRpcC1vZmZzZXQpO3JpZ2h0OnZhcigtLWNrLXJlc2l6ZXItdG9vbHRpcC1vZmZzZXQpfS5jayAuY2stc2l6ZS12aWV3LmNrLW9yaWVudGF0aW9uLWJvdHRvbS1yaWdodHtib3R0b206dmFyKC0tY2stcmVzaXplci10b29sdGlwLW9mZnNldCk7cmlnaHQ6dmFyKC0tY2stcmVzaXplci10b29sdGlwLW9mZnNldCl9LmNrIC5jay1zaXplLXZpZXcuY2stb3JpZW50YXRpb24tYm90dG9tLWxlZnR7Ym90dG9tOnZhcigtLWNrLXJlc2l6ZXItdG9vbHRpcC1vZmZzZXQpO2xlZnQ6dmFyKC0tY2stcmVzaXplci10b29sdGlwLW9mZnNldCl9OnJvb3R7LS1jay13aWRnZXQtb3V0bGluZS10aGlja25lc3M6M3B4Oy0tY2std2lkZ2V0LWhhbmRsZXItaWNvbi1zaXplOjE2cHg7LS1jay13aWRnZXQtaGFuZGxlci1hbmltYXRpb24tZHVyYXRpb246MjAwbXM7LS1jay13aWRnZXQtaGFuZGxlci1hbmltYXRpb24tY3VydmU6ZWFzZTstLWNrLWNvbG9yLXdpZGdldC1ibHVycmVkLWJvcmRlcjojZGVkZWRlOy0tY2stY29sb3Itd2lkZ2V0LWhvdmVyLWJvcmRlcjojZmZjODNkOy0tY2stY29sb3Itd2lkZ2V0LWVkaXRhYmxlLWZvY3VzLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLXdpZGdldC1kcmFnLWhhbmRsZXItaWNvbi1jb2xvcjp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpfS5jayAuY2std2lkZ2V0e291dGxpbmUtd2lkdGg6dmFyKC0tY2std2lkZ2V0LW91dGxpbmUtdGhpY2tuZXNzKTtvdXRsaW5lLXN0eWxlOnNvbGlkO291dGxpbmUtY29sb3I6dHJhbnNwYXJlbnQ7dHJhbnNpdGlvbjpvdXRsaW5lLWNvbG9yIHZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1kdXJhdGlvbikgdmFyKC0tY2std2lkZ2V0LWhhbmRsZXItYW5pbWF0aW9uLWN1cnZlKX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQsLmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGVkOmhvdmVye291dGxpbmU6dmFyKC0tY2std2lkZ2V0LW91dGxpbmUtdGhpY2tuZXNzKSBzb2xpZCB2YXIoLS1jay1jb2xvci1mb2N1cy1ib3JkZXIpfS5jayAuY2std2lkZ2V0OmhvdmVye291dGxpbmUtY29sb3I6dmFyKC0tY2stY29sb3Itd2lkZ2V0LWhvdmVyLWJvcmRlcil9LmNrIC5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZXtib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50fS5jayAuY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGUuY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVfZm9jdXNlZCwuY2sgLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlOmZvY3Vze291dGxpbmU6bm9uZTtib3JkZXI6dmFyKC0tY2stZm9jdXMtcmluZyk7Ym94LXNoYWRvdzp2YXIoLS1jay1pbm5lci1zaGFkb3cpLDAgMDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNrLWNvbG9yLXdpZGdldC1lZGl0YWJsZS1mb2N1cy1iYWNrZ3JvdW5kKX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGV7cGFkZGluZzo0cHg7Ym94LXNpemluZzpib3JkZXItYm94O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7b3BhY2l0eTowO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciB2YXIoLS1jay13aWRnZXQtaGFuZGxlci1hbmltYXRpb24tZHVyYXRpb24pIHZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1jdXJ2ZSksdmlzaWJpbGl0eSB2YXIoLS1jay13aWRnZXQtaGFuZGxlci1hbmltYXRpb24tZHVyYXRpb24pIHZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1jdXJ2ZSksb3BhY2l0eSB2YXIoLS1jay13aWRnZXQtaGFuZGxlci1hbmltYXRpb24tZHVyYXRpb24pIHZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1jdXJ2ZSk7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKSB2YXIoLS1jay1ib3JkZXItcmFkaXVzKSAwIDA7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwMCUpO2xlZnQ6Y2FsYygwcHggLSB2YXIoLS1jay13aWRnZXQtb3V0bGluZS10aGlja25lc3MpKX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGUgLmNrLWljb257d2lkdGg6dmFyKC0tY2std2lkZ2V0LWhhbmRsZXItaWNvbi1zaXplKTtoZWlnaHQ6dmFyKC0tY2std2lkZ2V0LWhhbmRsZXItaWNvbi1zaXplKTtjb2xvcjp2YXIoLS1jay1jb2xvci13aWRnZXQtZHJhZy1oYW5kbGVyLWljb24tY29sb3IpfS5jayAuY2std2lkZ2V0LmNrLXdpZGdldF93aXRoLXNlbGVjdGlvbi1oYW5kbGUgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZSAuY2staWNvbiAuY2staWNvbl9fc2VsZWN0ZWQtaW5kaWNhdG9ye29wYWNpdHk6MDt0cmFuc2l0aW9uOm9wYWNpdHkgLjNzIHZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1jdXJ2ZSl9LmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3dpdGgtc2VsZWN0aW9uLWhhbmRsZSAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlOmhvdmVyIC5jay1pY29uIC5jay1pY29uX19zZWxlY3RlZC1pbmRpY2F0b3J7b3BhY2l0eToxfS5jayAuY2std2lkZ2V0LmNrLXdpZGdldF93aXRoLXNlbGVjdGlvbi1oYW5kbGU6aG92ZXIgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXtvcGFjaXR5OjE7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jay1jb2xvci13aWRnZXQtaG92ZXItYm9yZGVyKX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlLmNrLXdpZGdldF9zZWxlY3RlZCAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlLC5jayAuY2std2lkZ2V0LmNrLXdpZGdldF93aXRoLXNlbGVjdGlvbi1oYW5kbGUuY2std2lkZ2V0X3NlbGVjdGVkOmhvdmVyIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGV7b3BhY2l0eToxO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2stY29sb3ItZm9jdXMtYm9yZGVyKX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlLmNrLXdpZGdldF9zZWxlY3RlZCAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlIC5jay1pY29uIC5jay1pY29uX19zZWxlY3RlZC1pbmRpY2F0b3IsLmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3dpdGgtc2VsZWN0aW9uLWhhbmRsZS5jay13aWRnZXRfc2VsZWN0ZWQ6aG92ZXIgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZSAuY2staWNvbiAuY2staWNvbl9fc2VsZWN0ZWQtaW5kaWNhdG9ye29wYWNpdHk6MX0uY2stZWRpdG9yX19lZGl0YWJsZT4uY2std2lkZ2V0LmNrLXdpZGdldF93aXRoLXNlbGVjdGlvbi1oYW5kbGU6Zmlyc3QtY2hpbGQsLmNrLWVkaXRvcl9fZWRpdGFibGUgYmxvY2txdW90ZT4uY2std2lkZ2V0LmNrLXdpZGdldF93aXRoLXNlbGVjdGlvbi1oYW5kbGU6Zmlyc3QtY2hpbGR7bWFyZ2luLXRvcDpjYWxjKDFlbSArIHZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWljb24tc2l6ZSkpfS5ja1tkaXI9cnRsXSAuY2std2lkZ2V0LmNrLXdpZGdldF93aXRoLXNlbGVjdGlvbi1oYW5kbGUgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXtsZWZ0OmF1dG87cmlnaHQ6Y2FsYygwcHggLSB2YXIoLS1jay13aWRnZXQtb3V0bGluZS10aGlja25lc3MpKX0uY2stZWRpdG9yX19lZGl0YWJsZS5jay1ibHVycmVkIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGVkLC5jay1lZGl0b3JfX2VkaXRhYmxlLmNrLWJsdXJyZWQgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQ6aG92ZXJ7b3V0bGluZS1jb2xvcjp2YXIoLS1jay1jb2xvci13aWRnZXQtYmx1cnJlZC1ib3JkZXIpfS5jay1lZGl0b3JfX2VkaXRhYmxlLmNrLWJsdXJyZWQgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQuY2std2lkZ2V0X3dpdGgtc2VsZWN0aW9uLWhhbmRsZSAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlLC5jay1lZGl0b3JfX2VkaXRhYmxlLmNrLWJsdXJyZWQgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQuY2std2lkZ2V0X3dpdGgtc2VsZWN0aW9uLWhhbmRsZSAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlOmhvdmVyLC5jay1lZGl0b3JfX2VkaXRhYmxlLmNrLWJsdXJyZWQgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQ6aG92ZXIuY2std2lkZ2V0X3dpdGgtc2VsZWN0aW9uLWhhbmRsZSAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlLC5jay1lZGl0b3JfX2VkaXRhYmxlLmNrLWJsdXJyZWQgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQ6aG92ZXIuY2std2lkZ2V0X3dpdGgtc2VsZWN0aW9uLWhhbmRsZSAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3Itd2lkZ2V0LWJsdXJyZWQtYm9yZGVyKX0uY2stZWRpdG9yX19lZGl0YWJsZS5jay1yZWFkLW9ubHkgLmNrLXdpZGdldHstLWNrLXdpZGdldC1vdXRsaW5lLXRoaWNrbmVzczowfVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDYxKTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stbGFiZWxlZC1pbnB1dCAuY2stbGFiZWxlZC1pbnB1dF9fc3RhdHVze2ZvbnQtc2l6ZTp2YXIoLS1jay1mb250LXNpemUtc21hbGwpO21hcmdpbi10b3A6dmFyKC0tY2stc3BhY2luZy1zbWFsbCk7d2hpdGUtc3BhY2U6bm9ybWFsfS5jay5jay1sYWJlbGVkLWlucHV0IC5jay1sYWJlbGVkLWlucHV0X19zdGF0dXNfZXJyb3J7Y29sb3I6dmFyKC0tY2stY29sb3ItYmFzZS1lcnJvcil9XCJ9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoNjMpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIjpyb290ey0tY2staW5wdXQtdGV4dC13aWR0aDoxOGVtfS5jay5jay1pbnB1dC10ZXh0e2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1pbnB1dC10ZXh0LC5jay5jay1pbnB1dC10ZXh0LmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay1pbnB1dC10ZXh0e2JveC1zaGFkb3c6dmFyKC0tY2staW5uZXItc2hhZG93KSwwIDA7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1pbnB1dC1iYWNrZ3JvdW5kKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWlucHV0LWJvcmRlcik7cGFkZGluZzp2YXIoLS1jay1zcGFjaW5nLWV4dHJhLXRpbnkpIHZhcigtLWNrLXNwYWNpbmctbWVkaXVtKTttaW4td2lkdGg6dmFyKC0tY2staW5wdXQtdGV4dC13aWR0aCk7bWluLWhlaWdodDp2YXIoLS1jay11aS1jb21wb25lbnQtbWluLWhlaWdodCk7dHJhbnNpdGlvbjpib3gtc2hhZG93IC4ycyBlYXNlLWluLW91dCxib3JkZXIgLjJzIGVhc2UtaW4tb3V0fS5jay5jay1pbnB1dC10ZXh0OmZvY3Vze291dGxpbmU6bm9uZTtib3JkZXI6dmFyKC0tY2stZm9jdXMtcmluZyk7Ym94LXNoYWRvdzp2YXIoLS1jay1mb2N1cy1vdXRlci1zaGFkb3cpLHZhcigtLWNrLWlubmVyLXNoYWRvdyl9LmNrLmNrLWlucHV0LXRleHRbcmVhZG9ubHlde2JvcmRlcjoxcHggc29saWQgdmFyKC0tY2stY29sb3ItaW5wdXQtZGlzYWJsZWQtYm9yZGVyKTtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWlucHV0LWRpc2FibGVkLWJhY2tncm91bmQpO2NvbG9yOnZhcigtLWNrLWNvbG9yLWlucHV0LWRpc2FibGVkLXRleHQpfS5jay5jay1pbnB1dC10ZXh0W3JlYWRvbmx5XTpmb2N1c3tib3gtc2hhZG93OnZhcigtLWNrLWZvY3VzLWRpc2FibGVkLW91dGVyLXNoYWRvdyksdmFyKC0tY2staW5uZXItc2hhZG93KX0uY2suY2staW5wdXQtdGV4dC5jay1lcnJvcntib3JkZXItY29sb3I6dmFyKC0tY2stY29sb3ItaW5wdXQtZXJyb3ItYm9yZGVyKTthbmltYXRpb246Y2stdGV4dC1pbnB1dC1zaGFrZSAuM3MgZWFzZSBib3RofS5jay5jay1pbnB1dC10ZXh0LmNrLWVycm9yOmZvY3Vze2JveC1zaGFkb3c6dmFyKC0tY2stZm9jdXMtZXJyb3Itb3V0ZXItc2hhZG93KSx2YXIoLS1jay1pbm5lci1zaGFkb3cpfUBrZXlmcmFtZXMgY2stdGV4dC1pbnB1dC1zaGFrZXsyMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTJweCl9NDAle3RyYW5zZm9ybTp0cmFuc2xhdGVYKDJweCl9NjAle3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0xcHgpfTgwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxcHgpfX1cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSg2NSk7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybXtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtd3JhcDpub3dyYXB9LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybSAuY2stbGFiZWxlZC1pbnB1dHtkaXNwbGF5OmlubGluZS1ibG9ja30uY2suY2stdGV4dC1hbHRlcm5hdGl2ZS1mb3JtIC5jay1sYWJlbHtkaXNwbGF5Om5vbmV9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo2MDBweCl7LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybXtmbGV4LXdyYXA6d3JhcH0uY2suY2stdGV4dC1hbHRlcm5hdGl2ZS1mb3JtIC5jay1sYWJlbGVkLWlucHV0e2ZsZXgtYmFzaXM6MTAwJX0uY2suY2stdGV4dC1hbHRlcm5hdGl2ZS1mb3JtIC5jay1idXR0b257ZmxleC1iYXNpczo1MCV9fS5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm17cGFkZGluZzp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKX0uY2suY2stdGV4dC1hbHRlcm5hdGl2ZS1mb3JtOmZvY3Vze291dGxpbmU6bm9uZX1bZGlyPWx0cl0gLmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybT46bm90KDpmaXJzdC1jaGlsZCksW2Rpcj1ydGxdIC5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm0+Om5vdCg6bGFzdC1jaGlsZCl7bWFyZ2luLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo2MDBweCl7LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybXtwYWRkaW5nOjA7d2lkdGg6Y2FsYygwLjgqdmFyKC0tY2staW5wdXQtdGV4dC13aWR0aCkpfS5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm0gLmNrLWxhYmVsZWQtaW5wdXR7bWFyZ2luOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpIHZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpIDB9LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybSAuY2stbGFiZWxlZC1pbnB1dCAuY2staW5wdXQtdGV4dHttaW4td2lkdGg6MDt3aWR0aDoxMDAlfS5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm0gLmNrLWJ1dHRvbntwYWRkaW5nOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpO21hcmdpbi10b3A6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCk7Ym9yZGVyLXJhZGl1czowO2JvcmRlcjowO2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKX1bZGlyPWx0cl0gLmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybSAuY2stYnV0dG9ue21hcmdpbi1sZWZ0OjB9W2Rpcj1sdHJdIC5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm0gLmNrLWJ1dHRvbjpmaXJzdC1vZi10eXBle2JvcmRlci1yaWdodDoxcHggc29saWQgdmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpfVtkaXI9cnRsXSAuY2suY2stdGV4dC1hbHRlcm5hdGl2ZS1mb3JtIC5jay1idXR0b257bWFyZ2luLWxlZnQ6MH1bZGlyPXJ0bF0gLmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybSAuY2stYnV0dG9uOmxhc3Qtb2YtdHlwZXtib3JkZXItcmlnaHQ6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKX19XCJ9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoNjcpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay1jb250ZW50IC5pbWFnZXtkaXNwbGF5OnRhYmxlO2NsZWFyOmJvdGg7dGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luOjFlbSBhdXRvfS5jay1jb250ZW50IC5pbWFnZT5pbWd7ZGlzcGxheTpibG9jazttYXJnaW46MCBhdXRvO21heC13aWR0aDoxMDAlO21pbi13aWR0aDo1MHB4fVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDY5KTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCI6cm9vdHstLWNrLWltYWdlLXN0eWxlLXNwYWNpbmc6MS41ZW19LmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLWNlbnRlciwuY2stY29udGVudCAuaW1hZ2Utc3R5bGUtYWxpZ24tbGVmdCwuY2stY29udGVudCAuaW1hZ2Utc3R5bGUtYWxpZ24tcmlnaHQsLmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLXNpZGV7bWF4LXdpZHRoOjUwJX0uY2stY29udGVudCAuaW1hZ2Utc3R5bGUtc2lkZXtmbG9hdDpyaWdodDttYXJnaW4tbGVmdDp2YXIoLS1jay1pbWFnZS1zdHlsZS1zcGFjaW5nKX0uY2stY29udGVudCAuaW1hZ2Utc3R5bGUtYWxpZ24tbGVmdHtmbG9hdDpsZWZ0O21hcmdpbi1yaWdodDp2YXIoLS1jay1pbWFnZS1zdHlsZS1zcGFjaW5nKX0uY2stY29udGVudCAuaW1hZ2Utc3R5bGUtYWxpZ24tY2VudGVye21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG99LmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLXJpZ2h0e2Zsb2F0OnJpZ2h0O21hcmdpbi1sZWZ0OnZhcigtLWNrLWltYWdlLXN0eWxlLXNwYWNpbmcpfVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDcxKTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2sgLmNrLXdpZGdldF93aXRoLXJlc2l6ZXJ7cG9zaXRpb246cmVsYXRpdmV9LmNrIC5jay13aWRnZXRfX3Jlc2l6ZXJ7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlO3BvaW50ZXItZXZlbnRzOm5vbmU7bGVmdDowO3RvcDowO291dGxpbmU6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLXJlc2l6ZXIpfS5jay1mb2N1c2VkIC5jay13aWRnZXRfd2l0aC1yZXNpemVyLmNrLXdpZGdldF9zZWxlY3RlZD4uY2std2lkZ2V0X19yZXNpemVye2Rpc3BsYXk6YmxvY2t9LmNrIC5jay13aWRnZXRfX3Jlc2l6ZXJfX2hhbmRsZXtwb3NpdGlvbjphYnNvbHV0ZTtwb2ludGVyLWV2ZW50czphbGw7d2lkdGg6dmFyKC0tY2stcmVzaXplci1zaXplKTtoZWlnaHQ6dmFyKC0tY2stcmVzaXplci1zaXplKTtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWZvY3VzLWJvcmRlcik7Ym9yZGVyOnZhcigtLWNrLXJlc2l6ZXItYm9yZGVyLXdpZHRoKSBzb2xpZCAjZmZmO2JvcmRlci1yYWRpdXM6dmFyKC0tY2stcmVzaXplci1ib3JkZXItcmFkaXVzKX0uY2sgLmNrLXdpZGdldF9fcmVzaXplcl9faGFuZGxlLmNrLXdpZGdldF9fcmVzaXplcl9faGFuZGxlLXRvcC1sZWZ0e3RvcDp2YXIoLS1jay1yZXNpemVyLW9mZnNldCk7bGVmdDp2YXIoLS1jay1yZXNpemVyLW9mZnNldCk7Y3Vyc29yOm53c2UtcmVzaXplfS5jayAuY2std2lkZ2V0X19yZXNpemVyX19oYW5kbGUuY2std2lkZ2V0X19yZXNpemVyX19oYW5kbGUtdG9wLXJpZ2h0e3RvcDp2YXIoLS1jay1yZXNpemVyLW9mZnNldCk7cmlnaHQ6dmFyKC0tY2stcmVzaXplci1vZmZzZXQpO2N1cnNvcjpuZXN3LXJlc2l6ZX0uY2sgLmNrLXdpZGdldF9fcmVzaXplcl9faGFuZGxlLmNrLXdpZGdldF9fcmVzaXplcl9faGFuZGxlLWJvdHRvbS1yaWdodHtib3R0b206dmFyKC0tY2stcmVzaXplci1vZmZzZXQpO3JpZ2h0OnZhcigtLWNrLXJlc2l6ZXItb2Zmc2V0KTtjdXJzb3I6bndzZS1yZXNpemV9LmNrIC5jay13aWRnZXRfX3Jlc2l6ZXJfX2hhbmRsZS5jay13aWRnZXRfX3Jlc2l6ZXJfX2hhbmRsZS1ib3R0b20tbGVmdHtib3R0b206dmFyKC0tY2stcmVzaXplci1vZmZzZXQpO2xlZnQ6dmFyKC0tY2stcmVzaXplci1vZmZzZXQpO2N1cnNvcjpuZXN3LXJlc2l6ZX1cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSg3Myk7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLWNvbnRlbnQgLmltYWdlLmltYWdlX3Jlc2l6ZWR7bWF4LXdpZHRoOjEwMCU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3h9LmNrLWNvbnRlbnQgLmltYWdlLmltYWdlX3Jlc2l6ZWQgaW1ne3dpZHRoOjEwMCV9LmNrLWNvbnRlbnQgLmltYWdlLmltYWdlX3Jlc2l6ZWQ+ZmlnY2FwdGlvbntkaXNwbGF5OmJsb2NrfVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDc1KTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stZWRpdG9yX19lZGl0YWJsZSAuaW1hZ2V7cG9zaXRpb246cmVsYXRpdmV9LmNrLmNrLWVkaXRvcl9fZWRpdGFibGUgLmltYWdlIC5jay1wcm9ncmVzcy1iYXJ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowfS5jay5jay1lZGl0b3JfX2VkaXRhYmxlIC5pbWFnZS5jay1hcHBlYXJ7YW5pbWF0aW9uOmZhZGVJbiAuN3N9LmNrLmNrLWVkaXRvcl9fZWRpdGFibGUgLmltYWdlIC5jay1wcm9ncmVzcy1iYXJ7aGVpZ2h0OjJweDt3aWR0aDowO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItdXBsb2FkLWJhci1iYWNrZ3JvdW5kKTt0cmFuc2l0aW9uOndpZHRoIC4xc31Aa2V5ZnJhbWVzIGZhZGVJbnswJXtvcGFjaXR5OjB9dG97b3BhY2l0eToxfX1cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSg3Nyk7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPScuY2staW1hZ2UtdXBsb2FkLWNvbXBsZXRlLWljb257ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTBweDtyaWdodDoxMHB4O2JvcmRlci1yYWRpdXM6NTAlfS5jay1pbWFnZS11cGxvYWQtY29tcGxldGUtaWNvbjphZnRlcntjb250ZW50OlwiXCI7cG9zaXRpb246YWJzb2x1dGV9OnJvb3R7LS1jay1jb2xvci1pbWFnZS11cGxvYWQtaWNvbjojZmZmOy0tY2stY29sb3ItaW1hZ2UtdXBsb2FkLWljb24tYmFja2dyb3VuZDojMDA4YTAwOy0tY2staW1hZ2UtdXBsb2FkLWljb24tc2l6ZToyMHB4Oy0tY2staW1hZ2UtdXBsb2FkLWljb24td2lkdGg6MnB4fS5jay1pbWFnZS11cGxvYWQtY29tcGxldGUtaWNvbnt3aWR0aDp2YXIoLS1jay1pbWFnZS11cGxvYWQtaWNvbi1zaXplKTtoZWlnaHQ6dmFyKC0tY2staW1hZ2UtdXBsb2FkLWljb24tc2l6ZSk7b3BhY2l0eTowO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItaW1hZ2UtdXBsb2FkLWljb24tYmFja2dyb3VuZCk7YW5pbWF0aW9uLW5hbWU6Y2stdXBsb2FkLWNvbXBsZXRlLWljb24tc2hvdyxjay11cGxvYWQtY29tcGxldGUtaWNvbi1oaWRlO2FuaW1hdGlvbi1maWxsLW1vZGU6Zm9yd2FyZHMsZm9yd2FyZHM7YW5pbWF0aW9uLWR1cmF0aW9uOi41cywuNXM7Zm9udC1zaXplOnZhcigtLWNrLWltYWdlLXVwbG9hZC1pY29uLXNpemUpO2FuaW1hdGlvbi1kZWxheTowbXMsM3N9LmNrLWltYWdlLXVwbG9hZC1jb21wbGV0ZS1pY29uOmFmdGVye2xlZnQ6MjUlO3RvcDo1MCU7b3BhY2l0eTowO2hlaWdodDowO3dpZHRoOjA7dHJhbnNmb3JtOnNjYWxlWCgtMSkgcm90YXRlKDEzNWRlZyk7dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IHRvcDtib3JkZXItdG9wOnZhcigtLWNrLWltYWdlLXVwbG9hZC1pY29uLXdpZHRoKSBzb2xpZCB2YXIoLS1jay1jb2xvci1pbWFnZS11cGxvYWQtaWNvbik7Ym9yZGVyLXJpZ2h0OnZhcigtLWNrLWltYWdlLXVwbG9hZC1pY29uLXdpZHRoKSBzb2xpZCB2YXIoLS1jay1jb2xvci1pbWFnZS11cGxvYWQtaWNvbik7YW5pbWF0aW9uLW5hbWU6Y2stdXBsb2FkLWNvbXBsZXRlLWljb24tY2hlY2s7YW5pbWF0aW9uLWR1cmF0aW9uOi41czthbmltYXRpb24tZGVsYXk6LjVzO2FuaW1hdGlvbi1maWxsLW1vZGU6Zm9yd2FyZHM7Ym94LXNpemluZzpib3JkZXItYm94fUBrZXlmcmFtZXMgY2stdXBsb2FkLWNvbXBsZXRlLWljb24tc2hvd3swJXtvcGFjaXR5OjB9dG97b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIGNrLXVwbG9hZC1jb21wbGV0ZS1pY29uLWhpZGV7MCV7b3BhY2l0eToxfXRve29wYWNpdHk6MH19QGtleWZyYW1lcyBjay11cGxvYWQtY29tcGxldGUtaWNvbi1jaGVja3swJXtvcGFjaXR5OjE7d2lkdGg6MDtoZWlnaHQ6MH0zMyV7d2lkdGg6LjNlbTtoZWlnaHQ6MH10b3tvcGFjaXR5OjE7d2lkdGg6LjNlbTtoZWlnaHQ6LjQ1ZW19fSd9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoNzkpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nLmNrIC5jay11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVye3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt0b3A6MDtsZWZ0OjB9LmNrIC5jay11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVyOmJlZm9yZXtjb250ZW50OlwiXCI7cG9zaXRpb246cmVsYXRpdmV9OnJvb3R7LS1jay1jb2xvci11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVyOiNiM2IzYjM7LS1jay11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVyLXNpemU6MzJweH0uY2sgLmNrLWltYWdlLXVwbG9hZC1wbGFjZWhvbGRlcnt3aWR0aDoxMDAlO21hcmdpbjowfS5jayAuY2stdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlcnt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS5jayAuY2stdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlcjpiZWZvcmV7d2lkdGg6dmFyKC0tY2stdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlci1zaXplKTtoZWlnaHQ6dmFyKC0tY2stdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlci1zaXplKTtib3JkZXItcmFkaXVzOjUwJTtib3JkZXItdG9wOjNweCBzb2xpZCB2YXIoLS1jay1jb2xvci11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVyKTtib3JkZXItcmlnaHQ6MnB4IHNvbGlkIHRyYW5zcGFyZW50O2FuaW1hdGlvbjpjay11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVyIDFzIGxpbmVhciBpbmZpbml0ZX1Aa2V5ZnJhbWVzIGNrLXVwbG9hZC1wbGFjZWhvbGRlci1sb2FkZXJ7dG97dHJhbnNmb3JtOnJvdGF0ZSgxdHVybil9fSd9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoODEpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jayAuY2stbGlua19zZWxlY3RlZHtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWxpbmstc2VsZWN0ZWQtYmFja2dyb3VuZCl9XCJ9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoODMpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1saW5rLWZvcm17ZGlzcGxheTpmbGV4fS5jay5jay1saW5rLWZvcm0gLmNrLWxhYmVse2Rpc3BsYXk6bm9uZX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjYwMHB4KXsuY2suY2stbGluay1mb3Jte2ZsZXgtd3JhcDp3cmFwfS5jay5jay1saW5rLWZvcm0gLmNrLWxhYmVsZWQtaW5wdXR7ZmxleC1iYXNpczoxMDAlfS5jay5jay1saW5rLWZvcm0gLmNrLWJ1dHRvbntmbGV4LWJhc2lzOjUwJX19LmNrLmNrLWxpbmstZm9ybV9sYXlvdXQtdmVydGljYWx7ZGlzcGxheTpibG9ja30uY2suY2stbGluay1mb3Jte3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9LmNrLmNrLWxpbmstZm9ybTpmb2N1c3tvdXRsaW5lOm5vbmV9W2Rpcj1sdHJdIC5jay5jay1saW5rLWZvcm0+Om5vdCg6Zmlyc3QtY2hpbGQpLFtkaXI9cnRsXSAuY2suY2stbGluay1mb3JtPjpub3QoOmxhc3QtY2hpbGQpe21hcmdpbi1sZWZ0OnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NjAwcHgpey5jay5jay1saW5rLWZvcm17cGFkZGluZzowO3dpZHRoOmNhbGMoMC44KnZhcigtLWNrLWlucHV0LXRleHQtd2lkdGgpKX0uY2suY2stbGluay1mb3JtIC5jay1sYWJlbGVkLWlucHV0e21hcmdpbjp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKSB2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKSAwfS5jay5jay1saW5rLWZvcm0gLmNrLWxhYmVsZWQtaW5wdXQgLmNrLWlucHV0LXRleHR7bWluLXdpZHRoOjA7d2lkdGg6MTAwJX0uY2suY2stbGluay1mb3JtIC5jay1idXR0b257cGFkZGluZzp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKTttYXJnaW4tdG9wOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpO2JvcmRlci1yYWRpdXM6MDtib3JkZXI6MDtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcil9W2Rpcj1sdHJdIC5jay5jay1saW5rLWZvcm0gLmNrLWJ1dHRvbnttYXJnaW4tbGVmdDowfVtkaXI9bHRyXSAuY2suY2stbGluay1mb3JtIC5jay1idXR0b246Zmlyc3Qtb2YtdHlwZXtib3JkZXItcmlnaHQ6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKX1bZGlyPXJ0bF0gLmNrLmNrLWxpbmstZm9ybSAuY2stYnV0dG9ue21hcmdpbi1sZWZ0OjB9W2Rpcj1ydGxdIC5jay5jay1saW5rLWZvcm0gLmNrLWJ1dHRvbjpsYXN0LW9mLXR5cGV7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcil9fS5jay5jay1saW5rLWZvcm1fbGF5b3V0LXZlcnRpY2Fse3BhZGRpbmc6MDttaW4td2lkdGg6dmFyKC0tY2staW5wdXQtdGV4dC13aWR0aCl9LmNrLmNrLWxpbmstZm9ybV9sYXlvdXQtdmVydGljYWwgLmNrLWxhYmVsZWQtaW5wdXR7bWFyZ2luOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpIHZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpIHZhcigtLWNrLXNwYWNpbmctc21hbGwpfS5jay5jay1saW5rLWZvcm1fbGF5b3V0LXZlcnRpY2FsIC5jay1sYWJlbGVkLWlucHV0IC5jay1pbnB1dC10ZXh0e21pbi13aWR0aDowO3dpZHRoOjEwMCV9LmNrLmNrLWxpbmstZm9ybV9sYXlvdXQtdmVydGljYWwgLmNrLWJ1dHRvbntwYWRkaW5nOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpO21hcmdpbjowO2JvcmRlci1yYWRpdXM6MDtib3JkZXI6MDtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcik7d2lkdGg6NTAlfVtkaXI9bHRyXSAuY2suY2stbGluay1mb3JtX2xheW91dC12ZXJ0aWNhbCAuY2stYnV0dG9ue21hcmdpbi1sZWZ0OjB9W2Rpcj1sdHJdIC5jay5jay1saW5rLWZvcm1fbGF5b3V0LXZlcnRpY2FsIC5jay1idXR0b246Zmlyc3Qtb2YtdHlwZXtib3JkZXItcmlnaHQ6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKX1bZGlyPXJ0bF0gLmNrLmNrLWxpbmstZm9ybV9sYXlvdXQtdmVydGljYWwgLmNrLWJ1dHRvbnttYXJnaW4tbGVmdDowfVtkaXI9cnRsXSAuY2suY2stbGluay1mb3JtX2xheW91dC12ZXJ0aWNhbCAuY2stYnV0dG9uOmxhc3Qtb2YtdHlwZXtib3JkZXItcmlnaHQ6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKX0uY2suY2stbGluay1mb3JtX2xheW91dC12ZXJ0aWNhbCAuY2suY2stbGlzdHttYXJnaW4tbGVmdDowfS5jay5jay1saW5rLWZvcm1fbGF5b3V0LXZlcnRpY2FsIC5jay5jay1saXN0IC5jay1idXR0b24uY2stc3dpdGNoYnV0dG9ue2JvcmRlcjowO3dpZHRoOjEwMCV9LmNrLmNrLWxpbmstZm9ybV9sYXlvdXQtdmVydGljYWwgLmNrLmNrLWxpc3QgLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b246aG92ZXJ7YmFja2dyb3VuZDpub25lfVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDg1KTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stbGluay1hY3Rpb25ze2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC13cmFwOm5vd3JhcH0uY2suY2stbGluay1hY3Rpb25zIC5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXd7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stbGluay1hY3Rpb25zX19wcmV2aWV3IC5jay1idXR0b25fX2xhYmVse292ZXJmbG93OmhpZGRlbn1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjYwMHB4KXsuY2suY2stbGluay1hY3Rpb25ze2ZsZXgtd3JhcDp3cmFwfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWxpbmstYWN0aW9uc19fcHJldmlld3tmbGV4LWJhc2lzOjEwMCV9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uOm5vdCguY2stbGluay1hY3Rpb25zX19wcmV2aWV3KXtmbGV4LWJhc2lzOjUwJX19LmNrLmNrLWxpbmstYWN0aW9uc3twYWRkaW5nOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXd7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXcgLmNrLWJ1dHRvbl9fbGFiZWx7cGFkZGluZzowIHZhcigtLWNrLXNwYWNpbmctbWVkaXVtKTtjb2xvcjp2YXIoLS1jay1jb2xvci1saW5rLWRlZmF1bHQpO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7Y3Vyc29yOnBvaW50ZXI7bWF4LXdpZHRoOnZhcigtLWNrLWlucHV0LXRleHQtd2lkdGgpO21pbi13aWR0aDozZW07dGV4dC1hbGlnbjpjZW50ZXJ9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldyAuY2stYnV0dG9uX19sYWJlbDpob3Zlcnt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXcsLmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldzphY3RpdmUsLmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldzpmb2N1cywuY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3OmhvdmVye2JhY2tncm91bmQ6bm9uZX0uY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3OmFjdGl2ZXtib3gtc2hhZG93Om5vbmV9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldzpmb2N1cyAuY2stYnV0dG9uX19sYWJlbHt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5jay5jay1saW5rLWFjdGlvbnM6Zm9jdXN7b3V0bGluZTpub25lfVtkaXI9bHRyXSAuY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b246bm90KDpmaXJzdC1jaGlsZCksW2Rpcj1ydGxdIC5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbjpub3QoOmxhc3QtY2hpbGQpe21hcmdpbi1sZWZ0OnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NjAwcHgpey5jay5jay1saW5rLWFjdGlvbnN7cGFkZGluZzowO3dpZHRoOmNhbGMoMC44KnZhcigtLWNrLWlucHV0LXRleHQtd2lkdGgpKX0uY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3e21hcmdpbjp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKSB2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKSAwfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXcgLmNrLWJ1dHRvbl9fbGFiZWx7bWluLXdpZHRoOjA7bWF4LXdpZHRoOjEwMCV9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uOm5vdCguY2stbGluay1hY3Rpb25zX19wcmV2aWV3KXtwYWRkaW5nOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpO21hcmdpbi10b3A6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCk7Ym9yZGVyLXJhZGl1czowO2JvcmRlcjowO2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKX1bZGlyPWx0cl0gLmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uOm5vdCguY2stbGluay1hY3Rpb25zX19wcmV2aWV3KXttYXJnaW4tbGVmdDowfVtkaXI9bHRyXSAuY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b246bm90KC5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXcpOmZpcnN0LW9mLXR5cGV7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcil9W2Rpcj1ydGxdIC5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbjpub3QoLmNrLWxpbmstYWN0aW9uc19fcHJldmlldyl7bWFyZ2luLWxlZnQ6MH1bZGlyPXJ0bF0gLmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uOm5vdCguY2stbGluay1hY3Rpb25zX19wcmV2aWV3KTpsYXN0LW9mLXR5cGV7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcil9fVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDg3KTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stY2hhcmFjdGVyLWdyaWQgLmNrLWNoYXJhY3Rlci1ncmlkX190aWxlc3tkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdCgxMCwxZnIpfTpyb290ey0tY2stY2hhcmFjdGVyLWdyaWQtdGlsZS1zaXplOjI0cHh9LmNrLmNrLWNoYXJhY3Rlci1ncmlke292ZXJmbG93LXk6YXV0bztvdmVyZmxvdy14OmhpZGRlbjt3aWR0aDozNTBweDttYXgtaGVpZ2h0OjIwMHB4fS5jay5jay1jaGFyYWN0ZXItZ3JpZCAuY2stY2hhcmFjdGVyLWdyaWRfX3RpbGVze21hcmdpbjp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKTtncmlkLWdhcDp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKX0uY2suY2stY2hhcmFjdGVyLWdyaWQgLmNrLWNoYXJhY3Rlci1ncmlkX190aWxle3dpZHRoOnZhcigtLWNrLWNoYXJhY3Rlci1ncmlkLXRpbGUtc2l6ZSk7aGVpZ2h0OnZhcigtLWNrLWNoYXJhY3Rlci1ncmlkLXRpbGUtc2l6ZSk7bWluLXdpZHRoOnZhcigtLWNrLWNoYXJhY3Rlci1ncmlkLXRpbGUtc2l6ZSk7bWluLWhlaWdodDp2YXIoLS1jay1jaGFyYWN0ZXItZ3JpZC10aWxlLXNpemUpO2ZvbnQtc2l6ZToxLjJlbTtwYWRkaW5nOjA7dHJhbnNpdGlvbjpib3gtc2hhZG93IC4ycyBlYXNlO2JvcmRlcjowfS5jay5jay1jaGFyYWN0ZXItZ3JpZCAuY2stY2hhcmFjdGVyLWdyaWRfX3RpbGU6Zm9jdXM6bm90KC5jay1kaXNhYmxlZCksLmNrLmNrLWNoYXJhY3Rlci1ncmlkIC5jay1jaGFyYWN0ZXItZ3JpZF9fdGlsZTpob3Zlcjpub3QoLmNrLWRpc2FibGVkKXtib3JkZXI6MDtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCB2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpLDAgMCAwIDJweCB2YXIoLS1jay1jb2xvci1mb2N1cy1ib3JkZXIpfS5jay5jay1jaGFyYWN0ZXItZ3JpZCAuY2stY2hhcmFjdGVyLWdyaWRfX3RpbGUgLmNrLWJ1dHRvbl9fbGFiZWx7bGluZS1oZWlnaHQ6dmFyKC0tY2stY2hhcmFjdGVyLWdyaWQtdGlsZS1zaXplKTt3aWR0aDoxMDAlO3RleHQtYWxpZ246Y2VudGVyfVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDg5KTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stY2hhcmFjdGVyLWluZm97ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zbWFsbCkgdmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCk7Ym9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpfS5jay5jay1jaGFyYWN0ZXItaW5mbz4qe3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtmb250LXNpemU6dmFyKC0tY2stZm9udC1zaXplLXNtYWxsKX0uY2suY2stY2hhcmFjdGVyLWluZm8gLmNrLWNoYXJhY3Rlci1pbmZvX19uYW1le21heC13aWR0aDoyODBweDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO292ZXJmbG93OmhpZGRlbn0uY2suY2stY2hhcmFjdGVyLWluZm8gLmNrLWNoYXJhY3Rlci1pbmZvX19jb2Rle29wYWNpdHk6LjZ9XCJ9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoOTEpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1zcGVjaWFsLWNoYXJhY3RlcnMtbmF2aWdhdGlvbntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtd3JhcDpub3dyYXA7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKTtwYWRkaW5nOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfVtkaXI9bHRyXSAuY2suY2stc3BlY2lhbC1jaGFyYWN0ZXJzLW5hdmlnYXRpb257cGFkZGluZy1sZWZ0OnZhcigtLWNrLXNwYWNpbmctbGFyZ2UpfVtkaXI9cnRsXSAuY2suY2stc3BlY2lhbC1jaGFyYWN0ZXJzLW5hdmlnYXRpb257cGFkZGluZy1yaWdodDp2YXIoLS1jay1zcGFjaW5nLWxhcmdlKX0uY2suY2stc3BlY2lhbC1jaGFyYWN0ZXJzLW5hdmlnYXRpb24+LmNrLWxhYmVse21heC13aWR0aDoxNjBweDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO292ZXJmbG93OmhpZGRlbn0uY2suY2stc3BlY2lhbC1jaGFyYWN0ZXJzLW5hdmlnYXRpb24+LmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWx7bWF4LWhlaWdodDoyNTBweDtvdmVyZmxvdy15OmF1dG87b3ZlcmZsb3cteDpoaWRkZW59XCJ9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoOTMpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIjpyb290ey0tY2stY29sb3ItdGFibGUtZm9jdXNlZC1jZWxsLWJhY2tncm91bmQ6cmdiYSgxNTgsMjA3LDI1MCwwLjMpfS5jay13aWRnZXQudGFibGUgdGQuY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGUuY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVfZm9jdXNlZCwuY2std2lkZ2V0LnRhYmxlIHRkLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlOmZvY3VzLC5jay13aWRnZXQudGFibGUgdGguY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGUuY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVfZm9jdXNlZCwuY2std2lkZ2V0LnRhYmxlIHRoLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlOmZvY3Vze2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItdGFibGUtZm9jdXNlZC1jZWxsLWJhY2tncm91bmQpO2JvcmRlci1zdHlsZTpub25lO291dGxpbmU6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWZvY3VzLWJvcmRlcik7b3V0bGluZS1vZmZzZXQ6LTFweH1cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSg5NSk7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrIC5jay1pbnNlcnQtdGFibGUtZHJvcGRvd25fX2dyaWR7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LXdyYXA6d3JhcH06cm9vdHstLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1wYWRkaW5nOjEwcHg7LS1jay1pbnNlcnQtdGFibGUtZHJvcGRvd24tYm94LWhlaWdodDoxMXB4Oy0tY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLWJveC13aWR0aDoxMnB4Oy0tY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLWJveC1tYXJnaW46MXB4fS5jayAuY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duX19ncmlke3dpZHRoOmNhbGModmFyKC0tY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLWJveC13aWR0aCkqMTAgKyB2YXIoLS1jay1pbnNlcnQtdGFibGUtZHJvcGRvd24tYm94LW1hcmdpbikqMjAgKyB2YXIoLS1jay1pbnNlcnQtdGFibGUtZHJvcGRvd24tcGFkZGluZykqMik7cGFkZGluZzp2YXIoLS1jay1pbnNlcnQtdGFibGUtZHJvcGRvd24tcGFkZGluZykgdmFyKC0tY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLXBhZGRpbmcpIDB9LmNrIC5jay1pbnNlcnQtdGFibGUtZHJvcGRvd25fX2xhYmVse3RleHQtYWxpZ246Y2VudGVyfS5jayAuY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLWdyaWQtYm94e3dpZHRoOnZhcigtLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtd2lkdGgpO2hlaWdodDp2YXIoLS1jay1pbnNlcnQtdGFibGUtZHJvcGRvd24tYm94LWhlaWdodCk7bWFyZ2luOnZhcigtLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtbWFyZ2luKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKTtib3JkZXItcmFkaXVzOjFweH0uY2sgLmNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ncmlkLWJveC5jay1vbntib3JkZXItY29sb3I6dmFyKC0tY2stY29sb3ItZm9jdXMtYm9yZGVyKTtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWZvY3VzLW91dGVyLXNoYWRvdyl9XCJ9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoOTcpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIjpyb290ey0tY2stdGFibGUtc2VsZWN0ZWQtY2VsbC1iYWNrZ3JvdW5kOiNjZWU1ZmR9LmNrLmNrLWVkaXRvcl9fZWRpdGFibGUgLnRhYmxlIHRhYmxlIHRkLmNrLWVkaXRvcl9fZWRpdGFibGVfc2VsZWN0ZWQsLmNrLmNrLWVkaXRvcl9fZWRpdGFibGUgLnRhYmxlIHRhYmxlIHRoLmNrLWVkaXRvcl9fZWRpdGFibGVfc2VsZWN0ZWR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jay10YWJsZS1zZWxlY3RlZC1jZWxsLWJhY2tncm91bmQpIWltcG9ydGFudDtjYXJldC1jb2xvcjp0cmFuc3BhcmVudDtvdXRsaW5lOnVuc2V0O2JveC1zaGFkb3c6dW5zZXR9LmNrLmNrLWVkaXRvcl9fZWRpdGFibGUgLnRhYmxlIHRhYmxlIHRkLmNrLWVkaXRvcl9fZWRpdGFibGVfc2VsZWN0ZWQgOjpzZWxlY3Rpb24sLmNrLmNrLWVkaXRvcl9fZWRpdGFibGUgLnRhYmxlIHRhYmxlIHRoLmNrLWVkaXRvcl9fZWRpdGFibGVfc2VsZWN0ZWQgOjpzZWxlY3Rpb257YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0uY2suY2stZWRpdG9yX19lZGl0YWJsZSAudGFibGUgdGFibGUgdGQuY2stZWRpdG9yX19lZGl0YWJsZV9zZWxlY3RlZCAuY2std2lkZ2V0X3NlbGVjdGVkLC5jay5jay1lZGl0b3JfX2VkaXRhYmxlIC50YWJsZSB0YWJsZSB0aC5jay1lZGl0b3JfX2VkaXRhYmxlX3NlbGVjdGVkIC5jay13aWRnZXRfc2VsZWN0ZWR7b3V0bGluZTp1bnNldH1cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSg5OSk7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLWNvbnRlbnQgLnRhYmxle21hcmdpbjoxZW0gYXV0bztkaXNwbGF5OnRhYmxlfS5jay1jb250ZW50IC50YWJsZSB0YWJsZXtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7Ym9yZGVyLXNwYWNpbmc6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JvcmRlcjoxcHggZG91YmxlICNiM2IzYjN9LmNrLWNvbnRlbnQgLnRhYmxlIHRhYmxlIHRkLC5jay1jb250ZW50IC50YWJsZSB0YWJsZSB0aHttaW4td2lkdGg6MmVtO3BhZGRpbmc6LjRlbTtib3JkZXItY29sb3I6I2JmYmZiZn0uY2stY29udGVudCAudGFibGUgdGFibGUgdGh7Zm9udC13ZWlnaHQ6NzAwO2JhY2tncm91bmQ6aHNsYSgwLDAlLDAlLDUlKX1cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSgxMDEpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1sYWJlbGVkLXZpZXcgLmNrLWxhYmVsZWQtdmlld19fc3RhdHVze2ZvbnQtc2l6ZTp2YXIoLS1jay1mb250LXNpemUtc21hbGwpO21hcmdpbi10b3A6dmFyKC0tY2stc3BhY2luZy1zbWFsbCk7d2hpdGUtc3BhY2U6bm9ybWFsfS5jay5jay1sYWJlbGVkLXZpZXcgLmNrLWxhYmVsZWQtdmlld19fc3RhdHVzX2Vycm9ye2NvbG9yOnZhcigtLWNrLWNvbG9yLWJhc2UtZXJyb3IpfS5jay5jay1sYWJlbGVkLXZpZXc+LmNrLmNrLWxhYmVse3dpZHRoOjEwMCU7dGV4dC1vdmVyZmxvdzplbGxpcHNpcztvdmVyZmxvdzpoaWRkZW59XCJ9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoMTAzKTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2staW5wdXQtY29sb3J7d2lkdGg6MTAwJTtkaXNwbGF5OmZsZXh9LmNrLmNrLWlucHV0LWNvbG9yPmlucHV0LmNrLmNrLWlucHV0LXRleHR7bWluLXdpZHRoOmF1dG87ZmxleC1ncm93OjF9LmNrLmNrLWlucHV0LWNvbG9yPmlucHV0LmNrLmNrLWlucHV0LXRleHQ6YWN0aXZlLC5jay5jay1pbnB1dC1jb2xvcj5pbnB1dC5jay5jay1pbnB1dC10ZXh0OmZvY3Vze3otaW5kZXg6dmFyKC0tY2stei1kZWZhdWx0KX0uY2suY2staW5wdXQtY29sb3I+ZGl2LmNrLmNrLWRyb3Bkb3due21pbi13aWR0aDphdXRvfS5jay5jay1pbnB1dC1jb2xvcj5kaXYuY2suY2stZHJvcGRvd24+LmNrLWlucHV0LWNvbG9yX19idXR0b24gLmNrLWRyb3Bkb3duX19hcnJvd3tkaXNwbGF5Om5vbmV9LmNrLmNrLWlucHV0LWNvbG9yIC5jay5jay1pbnB1dC1jb2xvcl9fYnV0dG9uIC5jay5jay1pbnB1dC1jb2xvcl9fYnV0dG9uX19wcmV2aWV3e3Bvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OmhpZGRlbn0uY2suY2staW5wdXQtY29sb3IgLmNrLmNrLWlucHV0LWNvbG9yX19idXR0b24gLmNrLmNrLWlucHV0LWNvbG9yX19idXR0b25fX3ByZXZpZXc+LmNrLmNrLWlucHV0LWNvbG9yX19idXR0b25fX3ByZXZpZXdfX25vLWNvbG9yLWluZGljYXRvcntwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmJsb2NrfVtkaXI9bHRyXSAuY2suY2staW5wdXQtY29sb3I+LmNrLmNrLWlucHV0LXRleHR7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowfVtkaXI9cnRsXSAuY2suY2staW5wdXQtY29sb3I+LmNrLmNrLWlucHV0LXRleHR7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MH0uY2suY2staW5wdXQtY29sb3I+LmNrLmNrLWRyb3Bkb3duPi5jay5jay1pbnB1dC1jb2xvcl9fYnV0dG9ue3BhZGRpbmc6MH1bZGlyPWx0cl0gLmNrLmNrLWlucHV0LWNvbG9yPi5jay5jay1kcm9wZG93bj4uY2suY2staW5wdXQtY29sb3JfX2J1dHRvbntib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowO21hcmdpbi1sZWZ0Oi0xcHh9W2Rpcj1ydGxdIC5jay5jay1pbnB1dC1jb2xvcj4uY2suY2stZHJvcGRvd24+LmNrLmNrLWlucHV0LWNvbG9yX19idXR0b257Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO21hcmdpbi1yaWdodDotMXB4fS5jay5jay1pbnB1dC1jb2xvcj4uY2suY2stZHJvcGRvd24+LmNrLmNrLWlucHV0LWNvbG9yX19idXR0b24uY2stZGlzYWJsZWR7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1pbnB1dC1kaXNhYmxlZC1iYWNrZ3JvdW5kKX0uY2suY2staW5wdXQtY29sb3I+LmNrLmNrLWRyb3Bkb3duPi5jay5jay1pbnB1dC1jb2xvcl9fYnV0dG9uPi5jay5jay1pbnB1dC1jb2xvcl9fYnV0dG9uX19wcmV2aWV3e2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1pbnB1dC1jb2xvcj4uY2suY2stZHJvcGRvd24+LmNrLmNrLWlucHV0LWNvbG9yX19idXR0b24+LmNrLmNrLWlucHV0LWNvbG9yX19idXR0b25fX3ByZXZpZXcsLmNrLmNrLWlucHV0LWNvbG9yPi5jay5jay1kcm9wZG93bj4uY2suY2staW5wdXQtY29sb3JfX2J1dHRvbj4uY2suY2staW5wdXQtY29sb3JfX2J1dHRvbl9fcHJldmlldy5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKX0uY2suY2staW5wdXQtY29sb3I+LmNrLmNrLWRyb3Bkb3duPi5jay5jay1pbnB1dC1jb2xvcl9fYnV0dG9uPi5jay5jay1pbnB1dC1jb2xvcl9fYnV0dG9uX19wcmV2aWV3e3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1pbnB1dC1ib3JkZXIpfS5jay5jay1pbnB1dC1jb2xvcj4uY2suY2stZHJvcGRvd24+LmNrLmNrLWlucHV0LWNvbG9yX19idXR0b24+LmNrLmNrLWlucHV0LWNvbG9yX19idXR0b25fX3ByZXZpZXc+LmNrLmNrLWlucHV0LWNvbG9yX19idXR0b25fX3ByZXZpZXdfX25vLWNvbG9yLWluZGljYXRvcnt0b3A6LTMwJTtsZWZ0OjUwJTtoZWlnaHQ6MTUwJTt3aWR0aDo4JTtiYWNrZ3JvdW5kOnJlZDtib3JkZXItcmFkaXVzOjJweDt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTt0cmFuc2Zvcm0tb3JpZ2luOjUwJX0uY2suY2staW5wdXQtY29sb3IgLmNrLmNrLWlucHV0LWNvbG9yX19yZW1vdmUtY29sb3J7d2lkdGg6MTAwJTtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1pbnB1dC1ib3JkZXIpO3BhZGRpbmc6Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKS8yKSB2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKTtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MH1bZGlyPWx0cl0gLmNrLmNrLWlucHV0LWNvbG9yIC5jay5jay1pbnB1dC1jb2xvcl9fcmVtb3ZlLWNvbG9ye2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjB9W2Rpcj1ydGxdIC5jay5jay1pbnB1dC1jb2xvciAuY2suY2staW5wdXQtY29sb3JfX3JlbW92ZS1jb2xvcntib3JkZXItdG9wLWxlZnQtcmFkaXVzOjB9LmNrLmNrLWlucHV0LWNvbG9yIC5jay5jay1pbnB1dC1jb2xvcl9fcmVtb3ZlLWNvbG9yIC5jay5jay1pY29ue21hcmdpbi1yaWdodDp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKX1bZGlyPXJ0bF0gLmNrLmNrLWlucHV0LWNvbG9yIC5jay5jay1pbnB1dC1jb2xvcl9fcmVtb3ZlLWNvbG9yIC5jay5jay1pY29ue21hcmdpbi1yaWdodDowO21hcmdpbi1sZWZ0OnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDEwNSk7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWZvcm1fX3Jvd3tkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtd3JhcDpub3dyYXA7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59LmNrLmNrLWZvcm1fX3Jvdz46bm90KC5jay1sYWJlbCl7ZmxleC1ncm93OjF9LmNrLmNrLWZvcm1fX3Jvdy5jay10YWJsZS1mb3JtX19hY3Rpb24tcm93IC5jay1idXR0b24tY2FuY2VsLC5jay5jay1mb3JtX19yb3cuY2stdGFibGUtZm9ybV9fYWN0aW9uLXJvdyAuY2stYnV0dG9uLXNhdmV7anVzdGlmeS1jb250ZW50OmNlbnRlcn0uY2suY2stZm9ybV9fcm93e3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCkgdmFyKC0tY2stc3BhY2luZy1sYXJnZSkgMH1bZGlyPWx0cl0gLmNrLmNrLWZvcm1fX3Jvdz46bm90KC5jay1sYWJlbCkrKnttYXJnaW4tbGVmdDp2YXIoLS1jay1zcGFjaW5nLWxhcmdlKX1bZGlyPXJ0bF0gLmNrLmNrLWZvcm1fX3Jvdz46bm90KC5jay1sYWJlbCkrKnttYXJnaW4tcmlnaHQ6dmFyKC0tY2stc3BhY2luZy1sYXJnZSl9LmNrLmNrLWZvcm1fX3Jvdz4uY2stbGFiZWx7d2lkdGg6MTAwJTttaW4td2lkdGg6MTAwJX0uY2suY2stZm9ybV9fcm93LmNrLXRhYmxlLWZvcm1fX2FjdGlvbi1yb3d7bWFyZ2luLXRvcDp2YXIoLS1jay1zcGFjaW5nLWxhcmdlKX0uY2suY2stZm9ybV9fcm93LmNrLXRhYmxlLWZvcm1fX2FjdGlvbi1yb3cgLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19sYWJlbHtjb2xvcjp2YXIoLS1jay1jb2xvci10ZXh0KX1cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMSk7dmFyIG89aSgxMDcpO289by5fX2VzTW9kdWxlP28uZGVmYXVsdDpvO2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7bz1bW3QuaSxvLFwiXCJdXX12YXIgcj17aW5qZWN0VHlwZTpcInNpbmdsZXRvblN0eWxlVGFnXCJ9O3IuaW5zZXJ0PVwiaGVhZFwiO3Iuc2luZ2xldG9uPXRydWU7dmFyIHM9bihvLHIpO3ZhciBhPW8ubG9jYWxzP28ubG9jYWxzOnt9O3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIjpyb290ey0tY2stdGFibGUtZm9ybS1oZWFkZXItaGVpZ2h0OjM4cHh9LmNrLmNrLWZvcm1fX2hlYWRlcntwYWRkaW5nOjAgdmFyKC0tY2stc3BhY2luZy1sYXJnZSk7aGVpZ2h0OnZhcigtLWNrLXRhYmxlLWZvcm0taGVhZGVyLWhlaWdodCk7bGluZS1oZWlnaHQ6dmFyKC0tY2stdGFibGUtZm9ybS1oZWFkZXItaGVpZ2h0KTtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcil9LmNrLmNrLWZvcm1fX2hlYWRlciAuY2stZm9ybV9faGVhZGVyX19sYWJlbHtmb250LXdlaWdodDo3MDB9XCJ9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWZvcm17cGFkZGluZzowIDAgdmFyKC0tY2stc3BhY2luZy1sYXJnZSl9LmNrLmNrLWZvcm06Zm9jdXN7b3V0bGluZTpub25lfS5jay5jay1mb3JtIC5jay5jay1pbnB1dC10ZXh0e21pbi13aWR0aDoxMDAlO3dpZHRoOjB9LmNrLmNrLWZvcm0gLmNrLmNrLWRyb3Bkb3due21pbi13aWR0aDoxMDAlfS5jay5jay1mb3JtIC5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX2J1dHRvbjpub3QoOmZvY3VzKXtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKX0uY2suY2stZm9ybSAuY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWx7d2lkdGg6MTAwJX1cIn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jy5jay5jay10YWJsZS1mb3JtIC5jay1mb3JtX19yb3cuY2stdGFibGUtZm9ybV9fYm9yZGVyLXJvd3tmbGV4LXdyYXA6d3JhcH0uY2suY2stdGFibGUtZm9ybSAuY2stZm9ybV9fcm93LmNrLXRhYmxlLWZvcm1fX2JvcmRlci1yb3cgLmNrLWxhYmVsZWQtdmlld3tkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uLXJldmVyc2V9LmNrLmNrLXRhYmxlLWZvcm0gLmNrLWZvcm1fX3Jvdy5jay10YWJsZS1mb3JtX19ib3JkZXItcm93IC5jay1sYWJlbGVkLXZpZXcgLmNrLmNrLWRyb3Bkb3duLC5jay5jay10YWJsZS1mb3JtIC5jay1mb3JtX19yb3cuY2stdGFibGUtZm9ybV9fYm9yZGVyLXJvdyAuY2stdGFibGUtZm9ybV9fYm9yZGVyLXN0eWxlLC5jay5jay10YWJsZS1mb3JtIC5jay1mb3JtX19yb3cuY2stdGFibGUtZm9ybV9fYm9yZGVyLXJvdyAuY2stdGFibGUtZm9ybV9fYm9yZGVyLXdpZHRoe2ZsZXgtZ3JvdzowfS5jay5jay10YWJsZS1mb3JtIC5jay1mb3JtX19yb3cuY2stdGFibGUtZm9ybV9fZGltZW5zaW9ucy1yb3d7ZmxleC13cmFwOndyYXA7YWxpZ24taXRlbXM6Y2VudGVyfS5jay5jay10YWJsZS1mb3JtIC5jay1mb3JtX19yb3cuY2stdGFibGUtZm9ybV9fZGltZW5zaW9ucy1yb3cgLmNrLWxhYmVsZWQtdmlld3tkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uLXJldmVyc2U7YWxpZ24taXRlbXM6Y2VudGVyfS5jay5jay10YWJsZS1mb3JtIC5jay1mb3JtX19yb3cuY2stdGFibGUtZm9ybV9fZGltZW5zaW9ucy1yb3cgLmNrLWxhYmVsZWQtdmlldyAuY2suY2stZHJvcGRvd24sLmNrLmNrLXRhYmxlLWZvcm0gLmNrLWZvcm1fX3Jvdy5jay10YWJsZS1mb3JtX19kaW1lbnNpb25zLXJvdyAuY2stdGFibGUtZm9ybV9fZGltZW5zaW9uLW9wZXJhdG9ye2ZsZXgtZ3JvdzowfS5jay5jay10YWJsZS1mb3JtIC5jay5jay1sYWJlbGVkLXZpZXd7cG9zaXRpb246cmVsYXRpdmV9LmNrLmNrLXRhYmxlLWZvcm0gLmNrLmNrLWxhYmVsZWQtdmlldyAuY2suY2stbGFiZWxlZC12aWV3X19zdGF0dXN7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7Ym90dG9tOmNhbGMoLTEqdmFyKC0tY2stdGFibGUtcHJvcGVydGllcy1lcnJvci1hcnJvdy1zaXplKSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDEwMCUpO3otaW5kZXg6MX0uY2suY2stdGFibGUtZm9ybSAuY2suY2stbGFiZWxlZC12aWV3IC5jay5jay1sYWJlbGVkLXZpZXdfX3N0YXR1czphZnRlcntjb250ZW50OlwiXCI7cG9zaXRpb246YWJzb2x1dGU7dG9wOmNhbGMoLTEqdmFyKC0tY2stdGFibGUtcHJvcGVydGllcy1lcnJvci1hcnJvdy1zaXplKSk7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSl9OnJvb3R7LS1jay10YWJsZS1wcm9wZXJ0aWVzLWVycm9yLWFycm93LXNpemU6NnB4Oy0tY2stdGFibGUtcHJvcGVydGllcy1taW4tZXJyb3Itd2lkdGg6MTUwcHh9LmNrLmNrLXRhYmxlLWZvcm0gLmNrLWZvcm1fX3Jvdy5jay10YWJsZS1mb3JtX19ib3JkZXItcm93IC5jay1sYWJlbGVkLXZpZXc+LmNrLWxhYmVse2ZvbnQtc2l6ZTp2YXIoLS1jay1mb250LXNpemUtdGlueSk7dGV4dC1hbGlnbjpjZW50ZXJ9LmNrLmNrLXRhYmxlLWZvcm0gLmNrLWZvcm1fX3Jvdy5jay10YWJsZS1mb3JtX19ib3JkZXItcm93IC5jay10YWJsZS1mb3JtX19ib3JkZXItc3R5bGV7d2lkdGg6ODBweDttaW4td2lkdGg6ODBweH0uY2suY2stdGFibGUtZm9ybSAuY2stZm9ybV9fcm93LmNrLXRhYmxlLWZvcm1fX2JvcmRlci1yb3cgLmNrLXRhYmxlLWZvcm1fX2JvcmRlci13aWR0aHt3aWR0aDo1MHB4O21pbi13aWR0aDo1MHB4fS5jay5jay10YWJsZS1mb3JtIC5jay1mb3JtX19yb3cuY2stdGFibGUtZm9ybV9fZGltZW5zaW9ucy1yb3d7cGFkZGluZzowfS5jay5jay10YWJsZS1mb3JtIC5jay1mb3JtX19yb3cuY2stdGFibGUtZm9ybV9fZGltZW5zaW9ucy1yb3cgLmNrLWxhYmVsZWQtdmlldz4uY2stbGFiZWx7Zm9udC1zaXplOjEwcHg7dGV4dC1hbGlnbjpjZW50ZXJ9LmNrLmNrLXRhYmxlLWZvcm0gLmNrLWZvcm1fX3Jvdy5jay10YWJsZS1mb3JtX19kaW1lbnNpb25zLXJvdyAuY2stdGFibGUtZm9ybV9fZGltZW5zaW9ucy1yb3dfX2hlaWdodCwuY2suY2stdGFibGUtZm9ybSAuY2stZm9ybV9fcm93LmNrLXRhYmxlLWZvcm1fX2RpbWVuc2lvbnMtcm93IC5jay10YWJsZS1mb3JtX19kaW1lbnNpb25zLXJvd19fd2lkdGh7bWFyZ2luOjB9LmNrLmNrLXRhYmxlLWZvcm0gLmNrLWZvcm1fX3Jvdy5jay10YWJsZS1mb3JtX19kaW1lbnNpb25zLXJvdyAuY2stdGFibGUtZm9ybV9fZGltZW5zaW9uLW9wZXJhdG9ye2FsaWduLXNlbGY6c3RhcnQ7ZGlzcGxheTppbmxpbmUtYmxvY2s7aGVpZ2h0OnZhcigtLWNrLXVpLWNvbXBvbmVudC1taW4taGVpZ2h0KTtsaW5lLWhlaWdodDp2YXIoLS1jay11aS1jb21wb25lbnQtbWluLWhlaWdodCk7bWFyZ2luOjAgdmFyKC0tY2stc3BhY2luZy1zbWFsbCl9LmNrLmNrLXRhYmxlLWZvcm0gLmNrLmNrLWxhYmVsZWQtdmlldyAuY2suY2stbGFiZWxlZC12aWV3X19zdGF0dXN7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLXRhYmxlLWZvcm0gLmNrLmNrLWxhYmVsZWQtdmlldyAuY2suY2stbGFiZWxlZC12aWV3X19zdGF0dXMsLmNrLmNrLXRhYmxlLWZvcm0gLmNrLmNrLWxhYmVsZWQtdmlldyAuY2suY2stbGFiZWxlZC12aWV3X19zdGF0dXMuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLXRhYmxlLWZvcm0gLmNrLmNrLWxhYmVsZWQtdmlldyAuY2suY2stbGFiZWxlZC12aWV3X19zdGF0dXN7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWVycm9yKTtjb2xvcjp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpO3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zbWFsbCkgdmFyKC0tY2stc3BhY2luZy1tZWRpdW0pO21pbi13aWR0aDp2YXIoLS1jay10YWJsZS1wcm9wZXJ0aWVzLW1pbi1lcnJvci13aWR0aCk7dGV4dC1hbGlnbjpjZW50ZXJ9LmNrLmNrLXRhYmxlLWZvcm0gLmNrLmNrLWxhYmVsZWQtdmlldyAuY2suY2stbGFiZWxlZC12aWV3X19zdGF0dXM6YWZ0ZXJ7Ym9yZGVyLWxlZnQ6dmFyKC0tY2stdGFibGUtcHJvcGVydGllcy1lcnJvci1hcnJvdy1zaXplKSBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItYm90dG9tOnZhcigtLWNrLXRhYmxlLXByb3BlcnRpZXMtZXJyb3ItYXJyb3ctc2l6ZSkgc29saWQgdmFyKC0tY2stY29sb3ItYmFzZS1lcnJvcik7Ym9yZGVyLXJpZ2h0OnZhcigtLWNrLXRhYmxlLXByb3BlcnRpZXMtZXJyb3ItYXJyb3ctc2l6ZSkgc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXRvcDowIHNvbGlkIHRyYW5zcGFyZW50fS5jay5jay10YWJsZS1mb3JtIC5jay5jay1sYWJlbGVkLXZpZXcgLmNrLmNrLWxhYmVsZWQtdmlld19fc3RhdHVze2FuaW1hdGlvbjpjay10YWJsZS1mb3JtLWxhYmVsZWQtdmlldy1zdGF0dXMtYXBwZWFyIC4xNXMgZWFzZSBib3RofS5jay5jay10YWJsZS1mb3JtIC5jay5jay1sYWJlbGVkLXZpZXcgLmNrLWlucHV0LmNrLWVycm9yOm5vdCg6Zm9jdXMpKy5jay5jay1sYWJlbGVkLXZpZXdfX3N0YXR1c3tkaXNwbGF5Om5vbmV9QGtleWZyYW1lcyBjay10YWJsZS1mb3JtLWxhYmVsZWQtdmlldy1zdGF0dXMtYXBwZWFyezAle29wYWNpdHk6MH10b3tvcGFjaXR5OjF9fSd9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pKDEpO3ZhciBvPWkoMTExKTtvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bztpZih0eXBlb2Ygbz09PVwic3RyaW5nXCIpe289W1t0LmksbyxcIlwiXV19dmFyIHI9e2luamVjdFR5cGU6XCJzaW5nbGV0b25TdHlsZVRhZ1wifTtyLmluc2VydD1cImhlYWRcIjtyLnNpbmdsZXRvbj10cnVlO3ZhciBzPW4obyxyKTt2YXIgYT1vLmxvY2Fscz9vLmxvY2Fsczp7fTt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stdGFibGUtY2VsbC1wcm9wZXJ0aWVzLWZvcm0gLmNrLWZvcm1fX3Jvdy5jay10YWJsZS1jZWxsLXByb3BlcnRpZXMtZm9ybV9fYWxpZ25tZW50LXJvd3tmbGV4LXdyYXA6d3JhcH0uY2suY2stdGFibGUtY2VsbC1wcm9wZXJ0aWVzLWZvcm0gLmNrLWZvcm1fX3Jvdy5jay10YWJsZS1jZWxsLXByb3BlcnRpZXMtZm9ybV9fYWxpZ25tZW50LXJvdyAuY2suY2stdG9vbGJhcntmbGV4LWdyb3c6MH0uY2suY2stdGFibGUtY2VsbC1wcm9wZXJ0aWVzLWZvcm17d2lkdGg6MzIwcHh9LmNrLmNrLXRhYmxlLWNlbGwtcHJvcGVydGllcy1mb3JtIC5jay1mb3JtX19yb3cuY2stdGFibGUtY2VsbC1wcm9wZXJ0aWVzLWZvcm1fX3BhZGRpbmctcm93e3BhZGRpbmc6MDt3aWR0aDozNSV9LmNrLmNrLXRhYmxlLWNlbGwtcHJvcGVydGllcy1mb3JtIC5jay1mb3JtX19yb3cuY2stdGFibGUtY2VsbC1wcm9wZXJ0aWVzLWZvcm1fX2FsaWdubWVudC1yb3cgLmNrLmNrLXRvb2xiYXJ7YmFja2dyb3VuZDpub25lfVwifSxmdW5jdGlvbih0LGUsaSl7dmFyIG49aSgxKTt2YXIgbz1pKDExMyk7bz1vLl9fZXNNb2R1bGU/by5kZWZhdWx0Om87aWYodHlwZW9mIG89PT1cInN0cmluZ1wiKXtvPVtbdC5pLG8sXCJcIl1dfXZhciByPXtpbmplY3RUeXBlOlwic2luZ2xldG9uU3R5bGVUYWdcIn07ci5pbnNlcnQ9XCJoZWFkXCI7ci5zaW5nbGV0b249dHJ1ZTt2YXIgcz1uKG8scik7dmFyIGE9by5sb2NhbHM/by5sb2NhbHM6e307dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLXRhYmxlLXByb3BlcnRpZXMtZm9ybSAuY2stZm9ybV9fcm93LmNrLXRhYmxlLXByb3BlcnRpZXMtZm9ybV9fYWxpZ25tZW50LXJvd3tmbGV4LXdyYXA6d3JhcDtmbGV4LWJhc2lzOjA7YWxpZ24tY29udGVudDpiYXNlbGluZX0uY2suY2stdGFibGUtcHJvcGVydGllcy1mb3JtIC5jay1mb3JtX19yb3cuY2stdGFibGUtcHJvcGVydGllcy1mb3JtX19hbGlnbm1lbnQtcm93IC5jay5jay10b29sYmFyIC5jay10b29sYmFyX19pdGVtc3tmbGV4LXdyYXA6bm93cmFwfS5jay5jay10YWJsZS1wcm9wZXJ0aWVzLWZvcm17d2lkdGg6MzIwcHh9LmNrLmNrLXRhYmxlLXByb3BlcnRpZXMtZm9ybSAuY2stZm9ybV9fcm93LmNrLXRhYmxlLXByb3BlcnRpZXMtZm9ybV9fYWxpZ25tZW50LXJvd3twYWRkaW5nOjB9LmNrLmNrLXRhYmxlLXByb3BlcnRpZXMtZm9ybSAuY2stZm9ybV9fcm93LmNrLXRhYmxlLXByb3BlcnRpZXMtZm9ybV9fYWxpZ25tZW50LXJvdyAuY2suY2stdG9vbGJhcntiYWNrZ3JvdW5kOm5vbmV9LmNrLmNrLXRhYmxlLXByb3BlcnRpZXMtZm9ybSAuY2stZm9ybV9fcm93LmNrLXRhYmxlLXByb3BlcnRpZXMtZm9ybV9fYWxpZ25tZW50LXJvdyAuY2suY2stdG9vbGJhciAuY2stdG9vbGJhcl9faXRlbXM+Knt3aWR0aDo0MHB4fVwifSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7aS5yKGUpO2kuZChlLFwiZGVmYXVsdFwiLChmdW5jdGlvbigpe3JldHVybiBfSX0pKTt2YXIgbj1pKDMpO3ZhciBvPW5bXCJhXCJdLlN5bWJvbDt2YXIgcj1vO3ZhciBzPU9iamVjdC5wcm90b3R5cGU7dmFyIGE9cy5oYXNPd25Qcm9wZXJ0eTt2YXIgYz1zLnRvU3RyaW5nO3ZhciBsPXI/ci50b1N0cmluZ1RhZzp1bmRlZmluZWQ7ZnVuY3Rpb24gZCh0KXt2YXIgZT1hLmNhbGwodCxsKSxpPXRbbF07dHJ5e3RbbF09dW5kZWZpbmVkO3ZhciBuPXRydWV9Y2F0Y2godCl7fXZhciBvPWMuY2FsbCh0KTtpZihuKXtpZihlKXt0W2xdPWl9ZWxzZXtkZWxldGUgdFtsXX19cmV0dXJuIG99dmFyIHU9ZDt2YXIgaD1PYmplY3QucHJvdG90eXBlO3ZhciBmPWgudG9TdHJpbmc7ZnVuY3Rpb24gZyh0KXtyZXR1cm4gZi5jYWxsKHQpfXZhciBtPWc7dmFyIHA9XCJbb2JqZWN0IE51bGxdXCIsYj1cIltvYmplY3QgVW5kZWZpbmVkXVwiO3ZhciB3PXI/ci50b1N0cmluZ1RhZzp1bmRlZmluZWQ7ZnVuY3Rpb24gayh0KXtpZih0PT1udWxsKXtyZXR1cm4gdD09PXVuZGVmaW5lZD9iOnB9cmV0dXJuIHcmJncgaW4gT2JqZWN0KHQpP3UodCk6bSh0KX12YXIgXz1rO2Z1bmN0aW9uIHYodCxlKXtyZXR1cm4gZnVuY3Rpb24oaSl7cmV0dXJuIHQoZShpKSl9fXZhciB5PXY7dmFyIHg9eShPYmplY3QuZ2V0UHJvdG90eXBlT2YsT2JqZWN0KTt2YXIgQz14O2Z1bmN0aW9uIEEodCl7cmV0dXJuIHQhPW51bGwmJnR5cGVvZiB0PT1cIm9iamVjdFwifXZhciBUPUE7dmFyIFA9XCJbb2JqZWN0IE9iamVjdF1cIjt2YXIgUz1GdW5jdGlvbi5wcm90b3R5cGUsRT1PYmplY3QucHJvdG90eXBlO3ZhciBSPVMudG9TdHJpbmc7dmFyIE89RS5oYXNPd25Qcm9wZXJ0eTt2YXIgST1SLmNhbGwoT2JqZWN0KTtmdW5jdGlvbiBWKHQpe2lmKCFUKHQpfHxfKHQpIT1QKXtyZXR1cm4gZmFsc2V9dmFyIGU9Qyh0KTtpZihlPT09bnVsbCl7cmV0dXJuIHRydWV9dmFyIGk9Ty5jYWxsKGUsXCJjb25zdHJ1Y3RvclwiKSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdHlwZW9mIGk9PVwiZnVuY3Rpb25cIiYmaSBpbnN0YW5jZW9mIGkmJlIuY2FsbChpKT09SX12YXIgTj1WO2Z1bmN0aW9uIE0oKXt0aGlzLl9fZGF0YV9fPVtdO3RoaXMuc2l6ZT0wfXZhciBCPU07ZnVuY3Rpb24geih0LGUpe3JldHVybiB0PT09ZXx8dCE9PXQmJmUhPT1lfXZhciBMPXo7ZnVuY3Rpb24gRih0LGUpe3ZhciBpPXQubGVuZ3RoO3doaWxlKGktLSl7aWYoTCh0W2ldWzBdLGUpKXtyZXR1cm4gaX19cmV0dXJuLTF9dmFyIEQ9Rjt2YXIgaj1BcnJheS5wcm90b3R5cGU7dmFyIEg9ai5zcGxpY2U7ZnVuY3Rpb24gVyh0KXt2YXIgZT10aGlzLl9fZGF0YV9fLGk9RChlLHQpO2lmKGk8MCl7cmV0dXJuIGZhbHNlfXZhciBuPWUubGVuZ3RoLTE7aWYoaT09bil7ZS5wb3AoKX1lbHNle0guY2FsbChlLGksMSl9LS10aGlzLnNpemU7cmV0dXJuIHRydWV9dmFyIHE9VztmdW5jdGlvbiBVKHQpe3ZhciBlPXRoaXMuX19kYXRhX18saT1EKGUsdCk7cmV0dXJuIGk8MD91bmRlZmluZWQ6ZVtpXVsxXX12YXIgJD1VO2Z1bmN0aW9uIEcodCl7cmV0dXJuIEQodGhpcy5fX2RhdGFfXyx0KT4tMX12YXIgSz1HO2Z1bmN0aW9uIEoodCxlKXt2YXIgaT10aGlzLl9fZGF0YV9fLG49RChpLHQpO2lmKG48MCl7Kyt0aGlzLnNpemU7aS5wdXNoKFt0LGVdKX1lbHNle2lbbl1bMV09ZX1yZXR1cm4gdGhpc312YXIgWT1KO2Z1bmN0aW9uIFEodCl7dmFyIGU9LTEsaT10PT1udWxsPzA6dC5sZW5ndGg7dGhpcy5jbGVhcigpO3doaWxlKCsrZTxpKXt2YXIgbj10W2VdO3RoaXMuc2V0KG5bMF0sblsxXSl9fVEucHJvdG90eXBlLmNsZWFyPUI7US5wcm90b3R5cGVbXCJkZWxldGVcIl09cTtRLnByb3RvdHlwZS5nZXQ9JDtRLnByb3RvdHlwZS5oYXM9SztRLnByb3RvdHlwZS5zZXQ9WTt2YXIgWD1RO2Z1bmN0aW9uIFooKXt0aGlzLl9fZGF0YV9fPW5ldyBYO3RoaXMuc2l6ZT0wfXZhciB0dD1aO2Z1bmN0aW9uIGV0KHQpe3ZhciBlPXRoaXMuX19kYXRhX18saT1lW1wiZGVsZXRlXCJdKHQpO3RoaXMuc2l6ZT1lLnNpemU7cmV0dXJuIGl9dmFyIGl0PWV0O2Z1bmN0aW9uIG50KHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmdldCh0KX12YXIgb3Q9bnQ7ZnVuY3Rpb24gcnQodCl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHQpfXZhciBzdD1ydDtmdW5jdGlvbiBhdCh0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm4gdCE9bnVsbCYmKGU9PVwib2JqZWN0XCJ8fGU9PVwiZnVuY3Rpb25cIil9dmFyIGN0PWF0O3ZhciBsdD1cIltvYmplY3QgQXN5bmNGdW5jdGlvbl1cIixkdD1cIltvYmplY3QgRnVuY3Rpb25dXCIsdXQ9XCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiLGh0PVwiW29iamVjdCBQcm94eV1cIjtmdW5jdGlvbiBmdCh0KXtpZighY3QodCkpe3JldHVybiBmYWxzZX12YXIgZT1fKHQpO3JldHVybiBlPT1kdHx8ZT09dXR8fGU9PWx0fHxlPT1odH12YXIgZ3Q9ZnQ7dmFyIG10PW5bXCJhXCJdW1wiX19jb3JlLWpzX3NoYXJlZF9fXCJdO3ZhciBwdD1tdDt2YXIgYnQ9ZnVuY3Rpb24oKXt2YXIgdD0vW14uXSskLy5leGVjKHB0JiZwdC5rZXlzJiZwdC5rZXlzLklFX1BST1RPfHxcIlwiKTtyZXR1cm4gdD9cIlN5bWJvbChzcmMpXzEuXCIrdDpcIlwifSgpO2Z1bmN0aW9uIHd0KHQpe3JldHVybiEhYnQmJmJ0IGluIHR9dmFyIGt0PXd0O3ZhciBfdD1GdW5jdGlvbi5wcm90b3R5cGU7dmFyIHZ0PV90LnRvU3RyaW5nO2Z1bmN0aW9uIHl0KHQpe2lmKHQhPW51bGwpe3RyeXtyZXR1cm4gdnQuY2FsbCh0KX1jYXRjaCh0KXt9dHJ5e3JldHVybiB0K1wiXCJ9Y2F0Y2godCl7fX1yZXR1cm5cIlwifXZhciB4dD15dDt2YXIgQ3Q9L1tcXFxcXiQuKis/KClbXFxde318XS9nO3ZhciBBdD0vXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO3ZhciBUdD1GdW5jdGlvbi5wcm90b3R5cGUsUHQ9T2JqZWN0LnByb3RvdHlwZTt2YXIgU3Q9VHQudG9TdHJpbmc7dmFyIEV0PVB0Lmhhc093blByb3BlcnR5O3ZhciBSdD1SZWdFeHAoXCJeXCIrU3QuY2FsbChFdCkucmVwbGFjZShDdCxcIlxcXFwkJlwiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLFwiJDEuKj9cIikrXCIkXCIpO2Z1bmN0aW9uIE90KHQpe2lmKCFjdCh0KXx8a3QodCkpe3JldHVybiBmYWxzZX12YXIgZT1ndCh0KT9SdDpBdDtyZXR1cm4gZS50ZXN0KHh0KHQpKX12YXIgSXQ9T3Q7ZnVuY3Rpb24gVnQodCxlKXtyZXR1cm4gdD09bnVsbD91bmRlZmluZWQ6dFtlXX12YXIgTnQ9VnQ7ZnVuY3Rpb24gTXQodCxlKXt2YXIgaT1OdCh0LGUpO3JldHVybiBJdChpKT9pOnVuZGVmaW5lZH12YXIgQnQ9TXQ7dmFyIHp0PUJ0KG5bXCJhXCJdLFwiTWFwXCIpO3ZhciBMdD16dDt2YXIgRnQ9QnQoT2JqZWN0LFwiY3JlYXRlXCIpO3ZhciBEdD1GdDtmdW5jdGlvbiBqdCgpe3RoaXMuX19kYXRhX189RHQ/RHQobnVsbCk6e307dGhpcy5zaXplPTB9dmFyIEh0PWp0O2Z1bmN0aW9uIFd0KHQpe3ZhciBlPXRoaXMuaGFzKHQpJiZkZWxldGUgdGhpcy5fX2RhdGFfX1t0XTt0aGlzLnNpemUtPWU/MTowO3JldHVybiBlfXZhciBxdD1XdDt2YXIgVXQ9XCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fXCI7dmFyICR0PU9iamVjdC5wcm90b3R5cGU7dmFyIEd0PSR0Lmhhc093blByb3BlcnR5O2Z1bmN0aW9uIEt0KHQpe3ZhciBlPXRoaXMuX19kYXRhX187aWYoRHQpe3ZhciBpPWVbdF07cmV0dXJuIGk9PT1VdD91bmRlZmluZWQ6aX1yZXR1cm4gR3QuY2FsbChlLHQpP2VbdF06dW5kZWZpbmVkfXZhciBKdD1LdDt2YXIgWXQ9T2JqZWN0LnByb3RvdHlwZTt2YXIgUXQ9WXQuaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24gWHQodCl7dmFyIGU9dGhpcy5fX2RhdGFfXztyZXR1cm4gRHQ/ZVt0XSE9PXVuZGVmaW5lZDpRdC5jYWxsKGUsdCl9dmFyIFp0PVh0O3ZhciB0ZT1cIl9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX19cIjtmdW5jdGlvbiBlZSh0LGUpe3ZhciBpPXRoaXMuX19kYXRhX187dGhpcy5zaXplKz10aGlzLmhhcyh0KT8wOjE7aVt0XT1EdCYmZT09PXVuZGVmaW5lZD90ZTplO3JldHVybiB0aGlzfXZhciBpZT1lZTtmdW5jdGlvbiBuZSh0KXt2YXIgZT0tMSxpPXQ9PW51bGw/MDp0Lmxlbmd0aDt0aGlzLmNsZWFyKCk7d2hpbGUoKytlPGkpe3ZhciBuPXRbZV07dGhpcy5zZXQoblswXSxuWzFdKX19bmUucHJvdG90eXBlLmNsZWFyPUh0O25lLnByb3RvdHlwZVtcImRlbGV0ZVwiXT1xdDtuZS5wcm90b3R5cGUuZ2V0PUp0O25lLnByb3RvdHlwZS5oYXM9WnQ7bmUucHJvdG90eXBlLnNldD1pZTt2YXIgb2U9bmU7ZnVuY3Rpb24gcmUoKXt0aGlzLnNpemU9MDt0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyBvZSxtYXA6bmV3KEx0fHxYKSxzdHJpbmc6bmV3IG9lfX12YXIgc2U9cmU7ZnVuY3Rpb24gYWUodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuIGU9PVwic3RyaW5nXCJ8fGU9PVwibnVtYmVyXCJ8fGU9PVwic3ltYm9sXCJ8fGU9PVwiYm9vbGVhblwiP3QhPT1cIl9fcHJvdG9fX1wiOnQ9PT1udWxsfXZhciBjZT1hZTtmdW5jdGlvbiBsZSh0LGUpe3ZhciBpPXQuX19kYXRhX187cmV0dXJuIGNlKGUpP2lbdHlwZW9mIGU9PVwic3RyaW5nXCI/XCJzdHJpbmdcIjpcImhhc2hcIl06aS5tYXB9dmFyIGRlPWxlO2Z1bmN0aW9uIHVlKHQpe3ZhciBlPWRlKHRoaXMsdClbXCJkZWxldGVcIl0odCk7dGhpcy5zaXplLT1lPzE6MDtyZXR1cm4gZX12YXIgaGU9dWU7ZnVuY3Rpb24gZmUodCl7cmV0dXJuIGRlKHRoaXMsdCkuZ2V0KHQpfXZhciBnZT1mZTtmdW5jdGlvbiBtZSh0KXtyZXR1cm4gZGUodGhpcyx0KS5oYXModCl9dmFyIHBlPW1lO2Z1bmN0aW9uIGJlKHQsZSl7dmFyIGk9ZGUodGhpcyx0KSxuPWkuc2l6ZTtpLnNldCh0LGUpO3RoaXMuc2l6ZSs9aS5zaXplPT1uPzA6MTtyZXR1cm4gdGhpc312YXIgd2U9YmU7ZnVuY3Rpb24ga2UodCl7dmFyIGU9LTEsaT10PT1udWxsPzA6dC5sZW5ndGg7dGhpcy5jbGVhcigpO3doaWxlKCsrZTxpKXt2YXIgbj10W2VdO3RoaXMuc2V0KG5bMF0sblsxXSl9fWtlLnByb3RvdHlwZS5jbGVhcj1zZTtrZS5wcm90b3R5cGVbXCJkZWxldGVcIl09aGU7a2UucHJvdG90eXBlLmdldD1nZTtrZS5wcm90b3R5cGUuaGFzPXBlO2tlLnByb3RvdHlwZS5zZXQ9d2U7dmFyIF9lPWtlO3ZhciB2ZT0yMDA7ZnVuY3Rpb24geWUodCxlKXt2YXIgaT10aGlzLl9fZGF0YV9fO2lmKGkgaW5zdGFuY2VvZiBYKXt2YXIgbj1pLl9fZGF0YV9fO2lmKCFMdHx8bi5sZW5ndGg8dmUtMSl7bi5wdXNoKFt0LGVdKTt0aGlzLnNpemU9KytpLnNpemU7cmV0dXJuIHRoaXN9aT10aGlzLl9fZGF0YV9fPW5ldyBfZShuKX1pLnNldCh0LGUpO3RoaXMuc2l6ZT1pLnNpemU7cmV0dXJuIHRoaXN9dmFyIHhlPXllO2Z1bmN0aW9uIENlKHQpe3ZhciBlPXRoaXMuX19kYXRhX189bmV3IFgodCk7dGhpcy5zaXplPWUuc2l6ZX1DZS5wcm90b3R5cGUuY2xlYXI9dHQ7Q2UucHJvdG90eXBlW1wiZGVsZXRlXCJdPWl0O0NlLnByb3RvdHlwZS5nZXQ9b3Q7Q2UucHJvdG90eXBlLmhhcz1zdDtDZS5wcm90b3R5cGUuc2V0PXhlO3ZhciBBZT1DZTtmdW5jdGlvbiBUZSh0LGUpe3ZhciBpPS0xLG49dD09bnVsbD8wOnQubGVuZ3RoO3doaWxlKCsraTxuKXtpZihlKHRbaV0saSx0KT09PWZhbHNlKXticmVha319cmV0dXJuIHR9dmFyIFBlPVRlO3ZhciBTZT1mdW5jdGlvbigpe3RyeXt2YXIgdD1CdChPYmplY3QsXCJkZWZpbmVQcm9wZXJ0eVwiKTt0KHt9LFwiXCIse30pO3JldHVybiB0fWNhdGNoKHQpe319KCk7dmFyIEVlPVNlO2Z1bmN0aW9uIFJlKHQsZSxpKXtpZihlPT1cIl9fcHJvdG9fX1wiJiZFZSl7RWUodCxlLHtjb25maWd1cmFibGU6dHJ1ZSxlbnVtZXJhYmxlOnRydWUsdmFsdWU6aSx3cml0YWJsZTp0cnVlfSl9ZWxzZXt0W2VdPWl9fXZhciBPZT1SZTt2YXIgSWU9T2JqZWN0LnByb3RvdHlwZTt2YXIgVmU9SWUuaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24gTmUodCxlLGkpe3ZhciBuPXRbZV07aWYoIShWZS5jYWxsKHQsZSkmJkwobixpKSl8fGk9PT11bmRlZmluZWQmJiEoZSBpbiB0KSl7T2UodCxlLGkpfX12YXIgTWU9TmU7ZnVuY3Rpb24gQmUodCxlLGksbil7dmFyIG89IWk7aXx8KGk9e30pO3ZhciByPS0xLHM9ZS5sZW5ndGg7d2hpbGUoKytyPHMpe3ZhciBhPWVbcl07dmFyIGM9bj9uKGlbYV0sdFthXSxhLGksdCk6dW5kZWZpbmVkO2lmKGM9PT11bmRlZmluZWQpe2M9dFthXX1pZihvKXtPZShpLGEsYyl9ZWxzZXtNZShpLGEsYyl9fXJldHVybiBpfXZhciB6ZT1CZTtmdW5jdGlvbiBMZSh0LGUpe3ZhciBpPS0xLG49QXJyYXkodCk7d2hpbGUoKytpPHQpe25baV09ZShpKX1yZXR1cm4gbn12YXIgRmU9TGU7dmFyIERlPVwiW29iamVjdCBBcmd1bWVudHNdXCI7ZnVuY3Rpb24gamUodCl7cmV0dXJuIFQodCkmJl8odCk9PURlfXZhciBIZT1qZTt2YXIgV2U9T2JqZWN0LnByb3RvdHlwZTt2YXIgcWU9V2UuaGFzT3duUHJvcGVydHk7dmFyIFVlPVdlLnByb3BlcnR5SXNFbnVtZXJhYmxlO3ZhciAkZT1IZShmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpP0hlOmZ1bmN0aW9uKHQpe3JldHVybiBUKHQpJiZxZS5jYWxsKHQsXCJjYWxsZWVcIikmJiFVZS5jYWxsKHQsXCJjYWxsZWVcIil9O3ZhciBHZT0kZTt2YXIgS2U9QXJyYXkuaXNBcnJheTt2YXIgSmU9S2U7dmFyIFllPWkoNCk7dmFyIFFlPTkwMDcxOTkyNTQ3NDA5OTE7dmFyIFhlPS9eKD86MHxbMS05XVxcZCopJC87ZnVuY3Rpb24gWmUodCxlKXt2YXIgaT10eXBlb2YgdDtlPWU9PW51bGw/UWU6ZTtyZXR1cm4hIWUmJihpPT1cIm51bWJlclwifHxpIT1cInN5bWJvbFwiJiZYZS50ZXN0KHQpKSYmKHQ+LTEmJnQlMT09MCYmdDxlKX12YXIgdGk9WmU7dmFyIGVpPTkwMDcxOTkyNTQ3NDA5OTE7ZnVuY3Rpb24gaWkodCl7cmV0dXJuIHR5cGVvZiB0PT1cIm51bWJlclwiJiZ0Pi0xJiZ0JTE9PTAmJnQ8PWVpfXZhciBuaT1paTt2YXIgb2k9XCJbb2JqZWN0IEFyZ3VtZW50c11cIixyaT1cIltvYmplY3QgQXJyYXldXCIsc2k9XCJbb2JqZWN0IEJvb2xlYW5dXCIsYWk9XCJbb2JqZWN0IERhdGVdXCIsY2k9XCJbb2JqZWN0IEVycm9yXVwiLGxpPVwiW29iamVjdCBGdW5jdGlvbl1cIixkaT1cIltvYmplY3QgTWFwXVwiLHVpPVwiW29iamVjdCBOdW1iZXJdXCIsaGk9XCJbb2JqZWN0IE9iamVjdF1cIixmaT1cIltvYmplY3QgUmVnRXhwXVwiLGdpPVwiW29iamVjdCBTZXRdXCIsbWk9XCJbb2JqZWN0IFN0cmluZ11cIixwaT1cIltvYmplY3QgV2Vha01hcF1cIjt2YXIgYmk9XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiLHdpPVwiW29iamVjdCBEYXRhVmlld11cIixraT1cIltvYmplY3QgRmxvYXQzMkFycmF5XVwiLF9pPVwiW29iamVjdCBGbG9hdDY0QXJyYXldXCIsdmk9XCJbb2JqZWN0IEludDhBcnJheV1cIix5aT1cIltvYmplY3QgSW50MTZBcnJheV1cIix4aT1cIltvYmplY3QgSW50MzJBcnJheV1cIixDaT1cIltvYmplY3QgVWludDhBcnJheV1cIixBaT1cIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCIsVGk9XCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiLFBpPVwiW29iamVjdCBVaW50MzJBcnJheV1cIjt2YXIgU2k9e307U2lba2ldPVNpW19pXT1TaVt2aV09U2lbeWldPVNpW3hpXT1TaVtDaV09U2lbQWldPVNpW1RpXT1TaVtQaV09dHJ1ZTtTaVtvaV09U2lbcmldPVNpW2JpXT1TaVtzaV09U2lbd2ldPVNpW2FpXT1TaVtjaV09U2lbbGldPVNpW2RpXT1TaVt1aV09U2lbaGldPVNpW2ZpXT1TaVtnaV09U2lbbWldPVNpW3BpXT1mYWxzZTtmdW5jdGlvbiBFaSh0KXtyZXR1cm4gVCh0KSYmbmkodC5sZW5ndGgpJiYhIVNpW18odCldfXZhciBSaT1FaTtmdW5jdGlvbiBPaSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9fXZhciBJaT1PaTt2YXIgVmk9aSg1KTt2YXIgTmk9VmlbXCJhXCJdJiZWaVtcImFcIl0uaXNUeXBlZEFycmF5O3ZhciBNaT1OaT9JaShOaSk6Umk7dmFyIEJpPU1pO3ZhciB6aT1PYmplY3QucHJvdG90eXBlO3ZhciBMaT16aS5oYXNPd25Qcm9wZXJ0eTtmdW5jdGlvbiBGaSh0LGUpe3ZhciBpPUplKHQpLG49IWkmJkdlKHQpLG89IWkmJiFuJiZPYmplY3QoWWVbXCJhXCJdKSh0KSxyPSFpJiYhbiYmIW8mJkJpKHQpLHM9aXx8bnx8b3x8cixhPXM/RmUodC5sZW5ndGgsU3RyaW5nKTpbXSxjPWEubGVuZ3RoO2Zvcih2YXIgbCBpbiB0KXtpZigoZXx8TGkuY2FsbCh0LGwpKSYmIShzJiYobD09XCJsZW5ndGhcInx8byYmKGw9PVwib2Zmc2V0XCJ8fGw9PVwicGFyZW50XCIpfHxyJiYobD09XCJidWZmZXJcInx8bD09XCJieXRlTGVuZ3RoXCJ8fGw9PVwiYnl0ZU9mZnNldFwiKXx8dGkobCxjKSkpKXthLnB1c2gobCl9fXJldHVybiBhfXZhciBEaT1GaTt2YXIgamk9T2JqZWN0LnByb3RvdHlwZTtmdW5jdGlvbiBIaSh0KXt2YXIgZT10JiZ0LmNvbnN0cnVjdG9yLGk9dHlwZW9mIGU9PVwiZnVuY3Rpb25cIiYmZS5wcm90b3R5cGV8fGppO3JldHVybiB0PT09aX12YXIgV2k9SGk7dmFyIHFpPXkoT2JqZWN0LmtleXMsT2JqZWN0KTt2YXIgVWk9cWk7dmFyICRpPU9iamVjdC5wcm90b3R5cGU7dmFyIEdpPSRpLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIEtpKHQpe2lmKCFXaSh0KSl7cmV0dXJuIFVpKHQpfXZhciBlPVtdO2Zvcih2YXIgaSBpbiBPYmplY3QodCkpe2lmKEdpLmNhbGwodCxpKSYmaSE9XCJjb25zdHJ1Y3RvclwiKXtlLnB1c2goaSl9fXJldHVybiBlfXZhciBKaT1LaTtmdW5jdGlvbiBZaSh0KXtyZXR1cm4gdCE9bnVsbCYmbmkodC5sZW5ndGgpJiYhZ3QodCl9dmFyIFFpPVlpO2Z1bmN0aW9uIFhpKHQpe3JldHVybiBRaSh0KT9EaSh0KTpKaSh0KX12YXIgWmk9WGk7ZnVuY3Rpb24gdG4odCxlKXtyZXR1cm4gdCYmemUoZSxaaShlKSx0KX12YXIgZW49dG47ZnVuY3Rpb24gbm4odCl7dmFyIGU9W107aWYodCE9bnVsbCl7Zm9yKHZhciBpIGluIE9iamVjdCh0KSl7ZS5wdXNoKGkpfX1yZXR1cm4gZX12YXIgb249bm47dmFyIHJuPU9iamVjdC5wcm90b3R5cGU7dmFyIHNuPXJuLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIGFuKHQpe2lmKCFjdCh0KSl7cmV0dXJuIG9uKHQpfXZhciBlPVdpKHQpLGk9W107Zm9yKHZhciBuIGluIHQpe2lmKCEobj09XCJjb25zdHJ1Y3RvclwiJiYoZXx8IXNuLmNhbGwodCxuKSkpKXtpLnB1c2gobil9fXJldHVybiBpfXZhciBjbj1hbjtmdW5jdGlvbiBsbih0KXtyZXR1cm4gUWkodCk/RGkodCx0cnVlKTpjbih0KX12YXIgZG49bG47ZnVuY3Rpb24gdW4odCxlKXtyZXR1cm4gdCYmemUoZSxkbihlKSx0KX12YXIgaG49dW47dmFyIGZuPWkoOCk7ZnVuY3Rpb24gZ24odCxlKXt2YXIgaT0tMSxuPXQubGVuZ3RoO2V8fChlPUFycmF5KG4pKTt3aGlsZSgrK2k8bil7ZVtpXT10W2ldfXJldHVybiBlfXZhciBtbj1nbjtmdW5jdGlvbiBwbih0LGUpe3ZhciBpPS0xLG49dD09bnVsbD8wOnQubGVuZ3RoLG89MCxyPVtdO3doaWxlKCsraTxuKXt2YXIgcz10W2ldO2lmKGUocyxpLHQpKXtyW28rK109c319cmV0dXJuIHJ9dmFyIGJuPXBuO2Z1bmN0aW9uIHduKCl7cmV0dXJuW119dmFyIGtuPXduO3ZhciBfbj1PYmplY3QucHJvdG90eXBlO3ZhciB2bj1fbi5wcm9wZXJ0eUlzRW51bWVyYWJsZTt2YXIgeW49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sczt2YXIgeG49IXluP2tuOmZ1bmN0aW9uKHQpe2lmKHQ9PW51bGwpe3JldHVybltdfXQ9T2JqZWN0KHQpO3JldHVybiBibih5bih0KSwoZnVuY3Rpb24oZSl7cmV0dXJuIHZuLmNhbGwodCxlKX0pKX07dmFyIENuPXhuO2Z1bmN0aW9uIEFuKHQsZSl7cmV0dXJuIHplKHQsQ24odCksZSl9dmFyIFRuPUFuO2Z1bmN0aW9uIFBuKHQsZSl7dmFyIGk9LTEsbj1lLmxlbmd0aCxvPXQubGVuZ3RoO3doaWxlKCsraTxuKXt0W28raV09ZVtpXX1yZXR1cm4gdH12YXIgU249UG47dmFyIEVuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7dmFyIFJuPSFFbj9rbjpmdW5jdGlvbih0KXt2YXIgZT1bXTt3aGlsZSh0KXtTbihlLENuKHQpKTt0PUModCl9cmV0dXJuIGV9O3ZhciBPbj1SbjtmdW5jdGlvbiBJbih0LGUpe3JldHVybiB6ZSh0LE9uKHQpLGUpfXZhciBWbj1JbjtmdW5jdGlvbiBObih0LGUsaSl7dmFyIG49ZSh0KTtyZXR1cm4gSmUodCk/bjpTbihuLGkodCkpfXZhciBNbj1ObjtmdW5jdGlvbiBCbih0KXtyZXR1cm4gTW4odCxaaSxDbil9dmFyIHpuPUJuO2Z1bmN0aW9uIExuKHQpe3JldHVybiBNbih0LGRuLE9uKX12YXIgRm49TG47dmFyIERuPUJ0KG5bXCJhXCJdLFwiRGF0YVZpZXdcIik7dmFyIGpuPURuO3ZhciBIbj1CdChuW1wiYVwiXSxcIlByb21pc2VcIik7dmFyIFduPUhuO3ZhciBxbj1CdChuW1wiYVwiXSxcIlNldFwiKTt2YXIgVW49cW47dmFyICRuPUJ0KG5bXCJhXCJdLFwiV2Vha01hcFwiKTt2YXIgR249JG47dmFyIEtuPVwiW29iamVjdCBNYXBdXCIsSm49XCJbb2JqZWN0IE9iamVjdF1cIixZbj1cIltvYmplY3QgUHJvbWlzZV1cIixRbj1cIltvYmplY3QgU2V0XVwiLFhuPVwiW29iamVjdCBXZWFrTWFwXVwiO3ZhciBabj1cIltvYmplY3QgRGF0YVZpZXddXCI7dmFyIHRvPXh0KGpuKSxlbz14dChMdCksaW89eHQoV24pLG5vPXh0KFVuKSxvbz14dChHbik7dmFyIHJvPV87aWYoam4mJnJvKG5ldyBqbihuZXcgQXJyYXlCdWZmZXIoMSkpKSE9Wm58fEx0JiZybyhuZXcgTHQpIT1Lbnx8V24mJnJvKFduLnJlc29sdmUoKSkhPVlufHxVbiYmcm8obmV3IFVuKSE9UW58fEduJiZybyhuZXcgR24pIT1Ybil7cm89ZnVuY3Rpb24odCl7dmFyIGU9Xyh0KSxpPWU9PUpuP3QuY29uc3RydWN0b3I6dW5kZWZpbmVkLG49aT94dChpKTpcIlwiO2lmKG4pe3N3aXRjaChuKXtjYXNlIHRvOnJldHVybiBabjtjYXNlIGVvOnJldHVybiBLbjtjYXNlIGlvOnJldHVybiBZbjtjYXNlIG5vOnJldHVybiBRbjtjYXNlIG9vOnJldHVybiBYbn19cmV0dXJuIGV9fXZhciBzbz1ybzt2YXIgYW89T2JqZWN0LnByb3RvdHlwZTt2YXIgY289YW8uaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24gbG8odCl7dmFyIGU9dC5sZW5ndGgsaT1uZXcgdC5jb25zdHJ1Y3RvcihlKTtpZihlJiZ0eXBlb2YgdFswXT09XCJzdHJpbmdcIiYmY28uY2FsbCh0LFwiaW5kZXhcIikpe2kuaW5kZXg9dC5pbmRleDtpLmlucHV0PXQuaW5wdXR9cmV0dXJuIGl9dmFyIHVvPWxvO3ZhciBobz1uW1wiYVwiXS5VaW50OEFycmF5O3ZhciBmbz1obztmdW5jdGlvbiBnbyh0KXt2YXIgZT1uZXcgdC5jb25zdHJ1Y3Rvcih0LmJ5dGVMZW5ndGgpO25ldyBmbyhlKS5zZXQobmV3IGZvKHQpKTtyZXR1cm4gZX12YXIgbW89Z287ZnVuY3Rpb24gcG8odCxlKXt2YXIgaT1lP21vKHQuYnVmZmVyKTp0LmJ1ZmZlcjtyZXR1cm4gbmV3IHQuY29uc3RydWN0b3IoaSx0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKX12YXIgYm89cG87dmFyIHdvPS9cXHcqJC87ZnVuY3Rpb24ga28odCl7dmFyIGU9bmV3IHQuY29uc3RydWN0b3IodC5zb3VyY2Usd28uZXhlYyh0KSk7ZS5sYXN0SW5kZXg9dC5sYXN0SW5kZXg7cmV0dXJuIGV9dmFyIF9vPWtvO3ZhciB2bz1yP3IucHJvdG90eXBlOnVuZGVmaW5lZCx5bz12bz92by52YWx1ZU9mOnVuZGVmaW5lZDtmdW5jdGlvbiB4byh0KXtyZXR1cm4geW8/T2JqZWN0KHlvLmNhbGwodCkpOnt9fXZhciBDbz14bztmdW5jdGlvbiBBbyh0LGUpe3ZhciBpPWU/bW8odC5idWZmZXIpOnQuYnVmZmVyO3JldHVybiBuZXcgdC5jb25zdHJ1Y3RvcihpLHQuYnl0ZU9mZnNldCx0Lmxlbmd0aCl9dmFyIFRvPUFvO3ZhciBQbz1cIltvYmplY3QgQm9vbGVhbl1cIixTbz1cIltvYmplY3QgRGF0ZV1cIixFbz1cIltvYmplY3QgTWFwXVwiLFJvPVwiW29iamVjdCBOdW1iZXJdXCIsT289XCJbb2JqZWN0IFJlZ0V4cF1cIixJbz1cIltvYmplY3QgU2V0XVwiLFZvPVwiW29iamVjdCBTdHJpbmddXCIsTm89XCJbb2JqZWN0IFN5bWJvbF1cIjt2YXIgTW89XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiLEJvPVwiW29iamVjdCBEYXRhVmlld11cIix6bz1cIltvYmplY3QgRmxvYXQzMkFycmF5XVwiLExvPVwiW29iamVjdCBGbG9hdDY0QXJyYXldXCIsRm89XCJbb2JqZWN0IEludDhBcnJheV1cIixEbz1cIltvYmplY3QgSW50MTZBcnJheV1cIixqbz1cIltvYmplY3QgSW50MzJBcnJheV1cIixIbz1cIltvYmplY3QgVWludDhBcnJheV1cIixXbz1cIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCIscW89XCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiLFVvPVwiW29iamVjdCBVaW50MzJBcnJheV1cIjtmdW5jdGlvbiAkbyh0LGUsaSl7dmFyIG49dC5jb25zdHJ1Y3Rvcjtzd2l0Y2goZSl7Y2FzZSBNbzpyZXR1cm4gbW8odCk7Y2FzZSBQbzpjYXNlIFNvOnJldHVybiBuZXcgbigrdCk7Y2FzZSBCbzpyZXR1cm4gYm8odCxpKTtjYXNlIHpvOmNhc2UgTG86Y2FzZSBGbzpjYXNlIERvOmNhc2Ugam86Y2FzZSBIbzpjYXNlIFdvOmNhc2UgcW86Y2FzZSBVbzpyZXR1cm4gVG8odCxpKTtjYXNlIEVvOnJldHVybiBuZXcgbjtjYXNlIFJvOmNhc2UgVm86cmV0dXJuIG5ldyBuKHQpO2Nhc2UgT286cmV0dXJuIF9vKHQpO2Nhc2UgSW86cmV0dXJuIG5ldyBuO2Nhc2UgTm86cmV0dXJuIENvKHQpfX12YXIgR289JG87dmFyIEtvPU9iamVjdC5jcmVhdGU7dmFyIEpvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gZnVuY3Rpb24oZSl7aWYoIWN0KGUpKXtyZXR1cm57fX1pZihLbyl7cmV0dXJuIEtvKGUpfXQucHJvdG90eXBlPWU7dmFyIGk9bmV3IHQ7dC5wcm90b3R5cGU9dW5kZWZpbmVkO3JldHVybiBpfX0oKTt2YXIgWW89Sm87ZnVuY3Rpb24gUW8odCl7cmV0dXJuIHR5cGVvZiB0LmNvbnN0cnVjdG9yPT1cImZ1bmN0aW9uXCImJiFXaSh0KT9ZbyhDKHQpKTp7fX12YXIgWG89UW87dmFyIFpvPVwiW29iamVjdCBNYXBdXCI7ZnVuY3Rpb24gdHIodCl7cmV0dXJuIFQodCkmJnNvKHQpPT1ab312YXIgZXI9dHI7dmFyIGlyPVZpW1wiYVwiXSYmVmlbXCJhXCJdLmlzTWFwO3ZhciBucj1pcj9JaShpcik6ZXI7dmFyIG9yPW5yO3ZhciBycj1cIltvYmplY3QgU2V0XVwiO2Z1bmN0aW9uIHNyKHQpe3JldHVybiBUKHQpJiZzbyh0KT09cnJ9dmFyIGFyPXNyO3ZhciBjcj1WaVtcImFcIl0mJlZpW1wiYVwiXS5pc1NldDt2YXIgbHI9Y3I/SWkoY3IpOmFyO3ZhciBkcj1scjt2YXIgdXI9MSxocj0yLGZyPTQ7dmFyIGdyPVwiW29iamVjdCBBcmd1bWVudHNdXCIsbXI9XCJbb2JqZWN0IEFycmF5XVwiLHByPVwiW29iamVjdCBCb29sZWFuXVwiLGJyPVwiW29iamVjdCBEYXRlXVwiLHdyPVwiW29iamVjdCBFcnJvcl1cIixrcj1cIltvYmplY3QgRnVuY3Rpb25dXCIsX3I9XCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiLHZyPVwiW29iamVjdCBNYXBdXCIseXI9XCJbb2JqZWN0IE51bWJlcl1cIix4cj1cIltvYmplY3QgT2JqZWN0XVwiLENyPVwiW29iamVjdCBSZWdFeHBdXCIsQXI9XCJbb2JqZWN0IFNldF1cIixUcj1cIltvYmplY3QgU3RyaW5nXVwiLFByPVwiW29iamVjdCBTeW1ib2xdXCIsU3I9XCJbb2JqZWN0IFdlYWtNYXBdXCI7dmFyIEVyPVwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIixScj1cIltvYmplY3QgRGF0YVZpZXddXCIsT3I9XCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIixJcj1cIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiLFZyPVwiW29iamVjdCBJbnQ4QXJyYXldXCIsTnI9XCJbb2JqZWN0IEludDE2QXJyYXldXCIsTXI9XCJbb2JqZWN0IEludDMyQXJyYXldXCIsQnI9XCJbb2JqZWN0IFVpbnQ4QXJyYXldXCIsenI9XCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiLExyPVwiW29iamVjdCBVaW50MTZBcnJheV1cIixGcj1cIltvYmplY3QgVWludDMyQXJyYXldXCI7dmFyIERyPXt9O0RyW2dyXT1Eclttcl09RHJbRXJdPURyW1JyXT1Ecltwcl09RHJbYnJdPURyW09yXT1EcltJcl09RHJbVnJdPURyW05yXT1EcltNcl09RHJbdnJdPURyW3lyXT1Eclt4cl09RHJbQ3JdPURyW0FyXT1EcltUcl09RHJbUHJdPURyW0JyXT1Eclt6cl09RHJbTHJdPURyW0ZyXT10cnVlO0RyW3dyXT1Ecltrcl09RHJbU3JdPWZhbHNlO2Z1bmN0aW9uIGpyKHQsZSxpLG4sbyxyKXt2YXIgcyxhPWUmdXIsYz1lJmhyLGw9ZSZmcjtpZihpKXtzPW8/aSh0LG4sbyxyKTppKHQpfWlmKHMhPT11bmRlZmluZWQpe3JldHVybiBzfWlmKCFjdCh0KSl7cmV0dXJuIHR9dmFyIGQ9SmUodCk7aWYoZCl7cz11byh0KTtpZighYSl7cmV0dXJuIG1uKHQscyl9fWVsc2V7dmFyIHU9c28odCksaD11PT1rcnx8dT09X3I7aWYoT2JqZWN0KFllW1wiYVwiXSkodCkpe3JldHVybiBPYmplY3QoZm5bXCJhXCJdKSh0LGEpfWlmKHU9PXhyfHx1PT1ncnx8aCYmIW8pe3M9Y3x8aD97fTpYbyh0KTtpZighYSl7cmV0dXJuIGM/Vm4odCxobihzLHQpKTpUbih0LGVuKHMsdCkpfX1lbHNle2lmKCFEclt1XSl7cmV0dXJuIG8/dDp7fX1zPUdvKHQsdSxhKX19cnx8KHI9bmV3IEFlKTt2YXIgZj1yLmdldCh0KTtpZihmKXtyZXR1cm4gZn1yLnNldCh0LHMpO2lmKGRyKHQpKXt0LmZvckVhY2goKGZ1bmN0aW9uKG4pe3MuYWRkKGpyKG4sZSxpLG4sdCxyKSl9KSl9ZWxzZSBpZihvcih0KSl7dC5mb3JFYWNoKChmdW5jdGlvbihuLG8pe3Muc2V0KG8sanIobixlLGksbyx0LHIpKX0pKX12YXIgZz1sP2M/Rm46em46Yz9rZXlzSW46Wmk7dmFyIG09ZD91bmRlZmluZWQ6Zyh0KTtQZShtfHx0LChmdW5jdGlvbihuLG8pe2lmKG0pe289bjtuPXRbb119TWUocyxvLGpyKG4sZSxpLG8sdCxyKSl9KSk7cmV0dXJuIHN9dmFyIEhyPWpyO3ZhciBXcj0xLHFyPTQ7ZnVuY3Rpb24gVXIodCxlKXtlPXR5cGVvZiBlPT1cImZ1bmN0aW9uXCI/ZTp1bmRlZmluZWQ7cmV0dXJuIEhyKHQsV3J8cXIsZSl9dmFyICRyPVVyO2Z1bmN0aW9uIEdyKHQpe3JldHVybiBUKHQpJiZ0Lm5vZGVUeXBlPT09MSYmIU4odCl9dmFyIEtyPUdyO2NsYXNzIEpye2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fY29uZmlnPXt9O2lmKGUpe3RoaXMuZGVmaW5lKFlyKGUpKX1pZih0KXt0aGlzLl9zZXRPYmplY3RUb1RhcmdldCh0aGlzLl9jb25maWcsdCl9fXNldCh0LGUpe3RoaXMuX3NldFRvVGFyZ2V0KHRoaXMuX2NvbmZpZyx0LGUpfWRlZmluZSh0LGUpe2NvbnN0IGk9dHJ1ZTt0aGlzLl9zZXRUb1RhcmdldCh0aGlzLl9jb25maWcsdCxlLGkpfWdldCh0KXtyZXR1cm4gdGhpcy5fZ2V0RnJvbVNvdXJjZSh0aGlzLl9jb25maWcsdCl9Km5hbWVzKCl7Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXModGhpcy5fY29uZmlnKSl7eWllbGQgdH19X3NldFRvVGFyZ2V0KHQsZSxpLG49ZmFsc2Upe2lmKE4oZSkpe3RoaXMuX3NldE9iamVjdFRvVGFyZ2V0KHQsZSxuKTtyZXR1cm59Y29uc3Qgbz1lLnNwbGl0KFwiLlwiKTtlPW8ucG9wKCk7Zm9yKGNvbnN0IGUgb2Ygbyl7aWYoIU4odFtlXSkpe3RbZV09e319dD10W2VdfWlmKE4oaSkpe2lmKCFOKHRbZV0pKXt0W2VdPXt9fXQ9dFtlXTt0aGlzLl9zZXRPYmplY3RUb1RhcmdldCh0LGksbik7cmV0dXJufWlmKG4mJnR5cGVvZiB0W2VdIT1cInVuZGVmaW5lZFwiKXtyZXR1cm59dFtlXT1pfV9nZXRGcm9tU291cmNlKHQsZSl7Y29uc3QgaT1lLnNwbGl0KFwiLlwiKTtlPWkucG9wKCk7Zm9yKGNvbnN0IGUgb2YgaSl7aWYoIU4odFtlXSkpe3Q9bnVsbDticmVha310PXRbZV19cmV0dXJuIHQ/WXIodFtlXSk6dW5kZWZpbmVkfV9zZXRPYmplY3RUb1RhcmdldCh0LGUsaSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChuPT57dGhpcy5fc2V0VG9UYXJnZXQodCxuLGVbbl0saSl9KX19ZnVuY3Rpb24gWXIodCl7cmV0dXJuICRyKHQsUXIpfWZ1bmN0aW9uIFFyKHQpe3JldHVybiBLcih0KT90OnVuZGVmaW5lZH1mdW5jdGlvbiBYcigpe3JldHVybiBmdW5jdGlvbiB0KCl7dC5jYWxsZWQ9dHJ1ZX19dmFyIFpyPVhyO2NsYXNzIHRze2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5zb3VyY2U9dDt0aGlzLm5hbWU9ZTt0aGlzLnBhdGg9W107dGhpcy5zdG9wPVpyKCk7dGhpcy5vZmY9WnIoKX19Y29uc3QgZXM9bmV3IEFycmF5KDI1NikuZmlsbCgpLm1hcCgodCxlKT0+KFwiMFwiK2UudG9TdHJpbmcoMTYpKS5zbGljZSgtMikpO2Z1bmN0aW9uIGlzKCl7Y29uc3QgdD1NYXRoLnJhbmRvbSgpKjQyOTQ5NjcyOTY+Pj4wO2NvbnN0IGU9TWF0aC5yYW5kb20oKSo0Mjk0OTY3Mjk2Pj4+MDtjb25zdCBpPU1hdGgucmFuZG9tKCkqNDI5NDk2NzI5Nj4+PjA7Y29uc3Qgbj1NYXRoLnJhbmRvbSgpKjQyOTQ5NjcyOTY+Pj4wO3JldHVyblwiZVwiK2VzW3Q+PjAmMjU1XStlc1t0Pj44JjI1NV0rZXNbdD4+MTYmMjU1XStlc1t0Pj4yNCYyNTVdK2VzW2U+PjAmMjU1XStlc1tlPj44JjI1NV0rZXNbZT4+MTYmMjU1XStlc1tlPj4yNCYyNTVdK2VzW2k+PjAmMjU1XStlc1tpPj44JjI1NV0rZXNbaT4+MTYmMjU1XStlc1tpPj4yNCYyNTVdK2VzW24+PjAmMjU1XStlc1tuPj44JjI1NV0rZXNbbj4+MTYmMjU1XStlc1tuPj4yNCYyNTVdfWNvbnN0IG5zPXtnZXQodCl7aWYodHlwZW9mIHQhPVwibnVtYmVyXCIpe3JldHVybiB0aGlzW3RdfHx0aGlzLm5vcm1hbH1lbHNle3JldHVybiB0fX0saGlnaGVzdDoxZTUsaGlnaDoxZTMsbm9ybWFsOjAsbG93Oi0xZTMsbG93ZXN0Oi0xZTV9O3ZhciBvcz1uczt2YXIgcnM9aSg2KTt2YXIgc3M9aSgwKTtjb25zdCBhcz1TeW1ib2woXCJsaXN0ZW5pbmdUb1wiKTtjb25zdCBjcz1TeW1ib2woXCJlbWl0dGVySWRcIik7Y29uc3QgbHM9e29uKHQsZSxpPXt9KXt0aGlzLmxpc3RlblRvKHRoaXMsdCxlLGkpfSxvbmNlKHQsZSxpKXtsZXQgbj1mYWxzZTtjb25zdCBvPWZ1bmN0aW9uKHQsLi4uaSl7aWYoIW4pe249dHJ1ZTt0Lm9mZigpO2UuY2FsbCh0aGlzLHQsLi4uaSl9fTt0aGlzLmxpc3RlblRvKHRoaXMsdCxvLGkpfSxvZmYodCxlKXt0aGlzLnN0b3BMaXN0ZW5pbmcodGhpcyx0LGUpfSxsaXN0ZW5Ubyh0LGUsaSxuPXt9KXtsZXQgbyxyO2lmKCF0aGlzW2FzXSl7dGhpc1thc109e319Y29uc3Qgcz10aGlzW2FzXTtpZighZnModCkpe2hzKHQpfWNvbnN0IGE9ZnModCk7aWYoIShvPXNbYV0pKXtvPXNbYV09e2VtaXR0ZXI6dCxjYWxsYmFja3M6e319fWlmKCEocj1vLmNhbGxiYWNrc1tlXSkpe3I9by5jYWxsYmFja3NbZV09W119ci5wdXNoKGkpO3BzKHQsZSk7Y29uc3QgYz1icyh0LGUpO2NvbnN0IGw9b3MuZ2V0KG4ucHJpb3JpdHkpO2NvbnN0IGQ9e2NhbGxiYWNrOmkscHJpb3JpdHk6bH07Zm9yKGNvbnN0IHQgb2YgYyl7bGV0IGU9ZmFsc2U7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2lmKHRbaV0ucHJpb3JpdHk8bCl7dC5zcGxpY2UoaSwwLGQpO2U9dHJ1ZTticmVha319aWYoIWUpe3QucHVzaChkKX19fSxzdG9wTGlzdGVuaW5nKHQsZSxpKXtjb25zdCBuPXRoaXNbYXNdO2xldCBvPXQmJmZzKHQpO2NvbnN0IHI9biYmbyYmbltvXTtjb25zdCBzPXImJmUmJnIuY2FsbGJhY2tzW2VdO2lmKCFufHx0JiYhcnx8ZSYmIXMpe3JldHVybn1pZihpKXtfcyh0LGUsaSl9ZWxzZSBpZihzKXt3aGlsZShpPXMucG9wKCkpe19zKHQsZSxpKX1kZWxldGUgci5jYWxsYmFja3NbZV19ZWxzZSBpZihyKXtmb3IoZSBpbiByLmNhbGxiYWNrcyl7dGhpcy5zdG9wTGlzdGVuaW5nKHQsZSl9ZGVsZXRlIG5bb119ZWxzZXtmb3IobyBpbiBuKXt0aGlzLnN0b3BMaXN0ZW5pbmcobltvXS5lbWl0dGVyKX1kZWxldGUgdGhpc1thc119fSxmaXJlKHQsLi4uZSl7dHJ5e2NvbnN0IGk9dCBpbnN0YW5jZW9mIHRzP3Q6bmV3IHRzKHRoaXMsdCk7Y29uc3Qgbj1pLm5hbWU7bGV0IG89d3ModGhpcyxuKTtpLnBhdGgucHVzaCh0aGlzKTtpZihvKXtjb25zdCB0PVtpLC4uLmVdO289QXJyYXkuZnJvbShvKTtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrKyl7b1tlXS5jYWxsYmFjay5hcHBseSh0aGlzLHQpO2lmKGkub2ZmLmNhbGxlZCl7ZGVsZXRlIGkub2ZmLmNhbGxlZDtfcyh0aGlzLG4sb1tlXS5jYWxsYmFjayl9aWYoaS5zdG9wLmNhbGxlZCl7YnJlYWt9fX1pZih0aGlzLl9kZWxlZ2F0aW9ucyl7Y29uc3QgdD10aGlzLl9kZWxlZ2F0aW9ucy5nZXQobik7Y29uc3Qgbz10aGlzLl9kZWxlZ2F0aW9ucy5nZXQoXCIqXCIpO2lmKHQpe2tzKHQsaSxlKX1pZihvKXtrcyhvLGksZSl9fXJldHVybiBpLnJldHVybn1jYXRjaCh0KXtzc1tcImJcIl0ucmV0aHJvd1VuZXhwZWN0ZWRFcnJvcih0LHRoaXMpfX0sZGVsZWdhdGUoLi4udCl7cmV0dXJue3RvOihlLGkpPT57aWYoIXRoaXMuX2RlbGVnYXRpb25zKXt0aGlzLl9kZWxlZ2F0aW9ucz1uZXcgTWFwfXQuZm9yRWFjaCh0PT57Y29uc3Qgbj10aGlzLl9kZWxlZ2F0aW9ucy5nZXQodCk7aWYoIW4pe3RoaXMuX2RlbGVnYXRpb25zLnNldCh0LG5ldyBNYXAoW1tlLGldXSkpfWVsc2V7bi5zZXQoZSxpKX19KX19fSxzdG9wRGVsZWdhdGluZyh0LGUpe2lmKCF0aGlzLl9kZWxlZ2F0aW9ucyl7cmV0dXJufWlmKCF0KXt0aGlzLl9kZWxlZ2F0aW9ucy5jbGVhcigpfWVsc2UgaWYoIWUpe3RoaXMuX2RlbGVnYXRpb25zLmRlbGV0ZSh0KX1lbHNle2NvbnN0IGk9dGhpcy5fZGVsZWdhdGlvbnMuZ2V0KHQpO2lmKGkpe2kuZGVsZXRlKGUpfX19fTt2YXIgZHM9bHM7ZnVuY3Rpb24gdXModCxlKXtpZih0W2FzXSYmdFthc11bZV0pe3JldHVybiB0W2FzXVtlXS5lbWl0dGVyfXJldHVybiBudWxsfWZ1bmN0aW9uIGhzKHQsZSl7aWYoIXRbY3NdKXt0W2NzXT1lfHxpcygpfX1mdW5jdGlvbiBmcyh0KXtyZXR1cm4gdFtjc119ZnVuY3Rpb24gZ3ModCl7aWYoIXQuX2V2ZW50cyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfZXZlbnRzXCIse3ZhbHVlOnt9fSl9cmV0dXJuIHQuX2V2ZW50c31mdW5jdGlvbiBtcygpe3JldHVybntjYWxsYmFja3M6W10sY2hpbGRFdmVudHM6W119fWZ1bmN0aW9uIHBzKHQsZSl7Y29uc3QgaT1ncyh0KTtpZihpW2VdKXtyZXR1cm59bGV0IG49ZTtsZXQgbz1udWxsO2NvbnN0IHI9W107d2hpbGUobiE9PVwiXCIpe2lmKGlbbl0pe2JyZWFrfWlbbl09bXMoKTtyLnB1c2goaVtuXSk7aWYobyl7aVtuXS5jaGlsZEV2ZW50cy5wdXNoKG8pfW89bjtuPW4uc3Vic3RyKDAsbi5sYXN0SW5kZXhPZihcIjpcIikpfWlmKG4hPT1cIlwiKXtmb3IoY29uc3QgdCBvZiByKXt0LmNhbGxiYWNrcz1pW25dLmNhbGxiYWNrcy5zbGljZSgpfWlbbl0uY2hpbGRFdmVudHMucHVzaChvKX19ZnVuY3Rpb24gYnModCxlKXtjb25zdCBpPWdzKHQpW2VdO2lmKCFpKXtyZXR1cm5bXX1sZXQgbj1baS5jYWxsYmFja3NdO2ZvcihsZXQgZT0wO2U8aS5jaGlsZEV2ZW50cy5sZW5ndGg7ZSsrKXtjb25zdCBvPWJzKHQsaS5jaGlsZEV2ZW50c1tlXSk7bj1uLmNvbmNhdChvKX1yZXR1cm4gbn1mdW5jdGlvbiB3cyh0LGUpe2xldCBpO2lmKCF0Ll9ldmVudHN8fCEoaT10Ll9ldmVudHNbZV0pfHwhaS5jYWxsYmFja3MubGVuZ3RoKXtpZihlLmluZGV4T2YoXCI6XCIpPi0xKXtyZXR1cm4gd3ModCxlLnN1YnN0cigwLGUubGFzdEluZGV4T2YoXCI6XCIpKSl9ZWxzZXtyZXR1cm4gbnVsbH19cmV0dXJuIGkuY2FsbGJhY2tzfWZ1bmN0aW9uIGtzKHQsZSxpKXtmb3IobGV0W24sb11vZiB0KXtpZighbyl7bz1lLm5hbWV9ZWxzZSBpZih0eXBlb2Ygbz09XCJmdW5jdGlvblwiKXtvPW8oZS5uYW1lKX1jb25zdCB0PW5ldyB0cyhlLnNvdXJjZSxvKTt0LnBhdGg9Wy4uLmUucGF0aF07bi5maXJlKHQsLi4uaSl9fWZ1bmN0aW9uIF9zKHQsZSxpKXtjb25zdCBuPWJzKHQsZSk7Zm9yKGNvbnN0IHQgb2Ygbil7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2lmKHRbZV0uY2FsbGJhY2s9PWkpe3Quc3BsaWNlKGUsMSk7ZS0tfX19fWZ1bmN0aW9uIHZzKHQsLi4uZSl7ZS5mb3JFYWNoKGU9PntPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKSkuZm9yRWFjaChpPT57aWYoaSBpbiB0LnByb3RvdHlwZSl7cmV0dXJufWNvbnN0IG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGkpO24uZW51bWVyYWJsZT1mYWxzZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsaSxuKX0pfSl9Y2xhc3MgeXN7Y29uc3RydWN0b3IodD17fSl7dGhpcy5faXRlbXM9W107dGhpcy5faXRlbU1hcD1uZXcgTWFwO3RoaXMuX2lkUHJvcGVydHk9dC5pZFByb3BlcnR5fHxcImlkXCI7dGhpcy5fYmluZFRvRXh0ZXJuYWxUb0ludGVybmFsTWFwPW5ldyBXZWFrTWFwO3RoaXMuX2JpbmRUb0ludGVybmFsVG9FeHRlcm5hbE1hcD1uZXcgV2Vha01hcDt0aGlzLl9za2lwcGVkSW5kZXhlc0Zyb21FeHRlcm5hbD1bXX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2l0ZW1zLmxlbmd0aH1nZXQgZmlyc3QoKXtyZXR1cm4gdGhpcy5faXRlbXNbMF18fG51bGx9Z2V0IGxhc3QoKXtyZXR1cm4gdGhpcy5faXRlbXNbdGhpcy5sZW5ndGgtMV18fG51bGx9YWRkKHQsZSl7bGV0IGk7Y29uc3Qgbj10aGlzLl9pZFByb3BlcnR5O2lmKG4gaW4gdCl7aT10W25dO2lmKHR5cGVvZiBpIT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwiY29sbGVjdGlvbi1hZGQtaW52YWxpZC1pZFwiLHRoaXMpfWlmKHRoaXMuZ2V0KGkpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwiY29sbGVjdGlvbi1hZGQtaXRlbS1hbHJlYWR5LWV4aXN0c1wiLHRoaXMpfX1lbHNle3Rbbl09aT1pcygpfWlmKGU9PT11bmRlZmluZWQpe2U9dGhpcy5faXRlbXMubGVuZ3RofWVsc2UgaWYoZT50aGlzLl9pdGVtcy5sZW5ndGh8fGU8MCl7dGhyb3cgbmV3IHNzW1wiYlwiXShcImNvbGxlY3Rpb24tYWRkLWl0ZW0taW52YWxpZC1pbmRleFwiLHRoaXMpfXRoaXMuX2l0ZW1zLnNwbGljZShlLDAsdCk7dGhpcy5faXRlbU1hcC5zZXQoaSx0KTt0aGlzLmZpcmUoXCJhZGRcIix0LGUpO3JldHVybiB0aGlzfWdldCh0KXtsZXQgZTtpZih0eXBlb2YgdD09XCJzdHJpbmdcIil7ZT10aGlzLl9pdGVtTWFwLmdldCh0KX1lbHNlIGlmKHR5cGVvZiB0PT1cIm51bWJlclwiKXtlPXRoaXMuX2l0ZW1zW3RdfWVsc2V7dGhyb3cgbmV3IHNzW1wiYlwiXShcImNvbGxlY3Rpb24tZ2V0LWludmFsaWQtYXJnOiBJbmRleCBvciBpZCBtdXN0IGJlIGdpdmVuLlwiLHRoaXMpfXJldHVybiBlfHxudWxsfWhhcyh0KXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIil7cmV0dXJuIHRoaXMuX2l0ZW1NYXAuaGFzKHQpfWVsc2V7Y29uc3QgZT10aGlzLl9pZFByb3BlcnR5O2NvbnN0IGk9dFtlXTtyZXR1cm4gdGhpcy5faXRlbU1hcC5oYXMoaSl9fWdldEluZGV4KHQpe2xldCBlO2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXtlPXRoaXMuX2l0ZW1NYXAuZ2V0KHQpfWVsc2V7ZT10fXJldHVybiB0aGlzLl9pdGVtcy5pbmRleE9mKGUpfXJlbW92ZSh0KXtsZXQgZSxpLG47bGV0IG89ZmFsc2U7Y29uc3Qgcj10aGlzLl9pZFByb3BlcnR5O2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXtpPXQ7bj10aGlzLl9pdGVtTWFwLmdldChpKTtvPSFuO2lmKG4pe2U9dGhpcy5faXRlbXMuaW5kZXhPZihuKX19ZWxzZSBpZih0eXBlb2YgdD09XCJudW1iZXJcIil7ZT10O249dGhpcy5faXRlbXNbZV07bz0hbjtpZihuKXtpPW5bcl19fWVsc2V7bj10O2k9bltyXTtlPXRoaXMuX2l0ZW1zLmluZGV4T2Yobik7bz1lPT0tMXx8IXRoaXMuX2l0ZW1NYXAuZ2V0KGkpfWlmKG8pe3Rocm93IG5ldyBzc1tcImJcIl0oXCJjb2xsZWN0aW9uLXJlbW92ZS00MDQ6IEl0ZW0gbm90IGZvdW5kLlwiLHRoaXMpfXRoaXMuX2l0ZW1zLnNwbGljZShlLDEpO3RoaXMuX2l0ZW1NYXAuZGVsZXRlKGkpO2NvbnN0IHM9dGhpcy5fYmluZFRvSW50ZXJuYWxUb0V4dGVybmFsTWFwLmdldChuKTt0aGlzLl9iaW5kVG9JbnRlcm5hbFRvRXh0ZXJuYWxNYXAuZGVsZXRlKG4pO3RoaXMuX2JpbmRUb0V4dGVybmFsVG9JbnRlcm5hbE1hcC5kZWxldGUocyk7dGhpcy5maXJlKFwicmVtb3ZlXCIsbixlKTtyZXR1cm4gbn1tYXAodCxlKXtyZXR1cm4gdGhpcy5faXRlbXMubWFwKHQsZSl9ZmluZCh0LGUpe3JldHVybiB0aGlzLl9pdGVtcy5maW5kKHQsZSl9ZmlsdGVyKHQsZSl7cmV0dXJuIHRoaXMuX2l0ZW1zLmZpbHRlcih0LGUpfWNsZWFyKCl7aWYodGhpcy5fYmluZFRvQ29sbGVjdGlvbil7dGhpcy5zdG9wTGlzdGVuaW5nKHRoaXMuX2JpbmRUb0NvbGxlY3Rpb24pO3RoaXMuX2JpbmRUb0NvbGxlY3Rpb249bnVsbH13aGlsZSh0aGlzLmxlbmd0aCl7dGhpcy5yZW1vdmUoMCl9fWJpbmRUbyh0KXtpZih0aGlzLl9iaW5kVG9Db2xsZWN0aW9uKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwiY29sbGVjdGlvbi1iaW5kLXRvLXJlYmluZDogVGhlIGNvbGxlY3Rpb24gY2Fubm90IGJlIGJvdW5kIG1vcmUgdGhhbiBvbmNlLlwiLHRoaXMpfXRoaXMuX2JpbmRUb0NvbGxlY3Rpb249dDtyZXR1cm57YXM6dD0+e3RoaXMuX3NldFVwQmluZFRvQmluZGluZyhlPT5uZXcgdChlKSl9LHVzaW5nOnQ9PntpZih0eXBlb2YgdD09XCJmdW5jdGlvblwiKXt0aGlzLl9zZXRVcEJpbmRUb0JpbmRpbmcoZT0+dChlKSl9ZWxzZXt0aGlzLl9zZXRVcEJpbmRUb0JpbmRpbmcoZT0+ZVt0XSl9fX19X3NldFVwQmluZFRvQmluZGluZyh0KXtjb25zdCBlPXRoaXMuX2JpbmRUb0NvbGxlY3Rpb247Y29uc3QgaT0oaSxuLG8pPT57Y29uc3Qgcj1lLl9iaW5kVG9Db2xsZWN0aW9uPT10aGlzO2NvbnN0IHM9ZS5fYmluZFRvSW50ZXJuYWxUb0V4dGVybmFsTWFwLmdldChuKTtpZihyJiZzKXt0aGlzLl9iaW5kVG9FeHRlcm5hbFRvSW50ZXJuYWxNYXAuc2V0KG4scyk7dGhpcy5fYmluZFRvSW50ZXJuYWxUb0V4dGVybmFsTWFwLnNldChzLG4pfWVsc2V7Y29uc3QgaT10KG4pO2lmKCFpKXt0aGlzLl9za2lwcGVkSW5kZXhlc0Zyb21FeHRlcm5hbC5wdXNoKG8pO3JldHVybn1sZXQgcj1vO2Zvcihjb25zdCB0IG9mIHRoaXMuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsKXtpZihvPnQpe3ItLX19Zm9yKGNvbnN0IHQgb2YgZS5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWwpe2lmKHI+PXQpe3IrK319dGhpcy5fYmluZFRvRXh0ZXJuYWxUb0ludGVybmFsTWFwLnNldChuLGkpO3RoaXMuX2JpbmRUb0ludGVybmFsVG9FeHRlcm5hbE1hcC5zZXQoaSxuKTt0aGlzLmFkZChpLHIpO2ZvcihsZXQgdD0wO3Q8ZS5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWwubGVuZ3RoO3QrKyl7aWYocjw9ZS5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWxbdF0pe2UuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsW3RdKyt9fX19O2Zvcihjb25zdCB0IG9mIGUpe2kobnVsbCx0LGUuZ2V0SW5kZXgodCkpfXRoaXMubGlzdGVuVG8oZSxcImFkZFwiLGkpO3RoaXMubGlzdGVuVG8oZSxcInJlbW92ZVwiLCh0LGUsaSk9Pntjb25zdCBuPXRoaXMuX2JpbmRUb0V4dGVybmFsVG9JbnRlcm5hbE1hcC5nZXQoZSk7aWYobil7dGhpcy5yZW1vdmUobil9dGhpcy5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWw9dGhpcy5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWwucmVkdWNlKCh0LGUpPT57aWYoaTxlKXt0LnB1c2goZS0xKX1pZihpPmUpe3QucHVzaChlKX1yZXR1cm4gdH0sW10pfSl9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5faXRlbXNbU3ltYm9sLml0ZXJhdG9yXSgpfX12cyh5cyxkcyk7Y2xhc3MgeHN7Y29uc3RydWN0b3IodCxlPVtdLGk9W10pe3RoaXMuX2NvbnRleHQ9dDt0aGlzLl9wbHVnaW5zPW5ldyBNYXA7dGhpcy5fYXZhaWxhYmxlUGx1Z2lucz1uZXcgTWFwO2Zvcihjb25zdCB0IG9mIGUpe2lmKHQucGx1Z2luTmFtZSl7dGhpcy5fYXZhaWxhYmxlUGx1Z2lucy5zZXQodC5wbHVnaW5OYW1lLHQpfX10aGlzLl9jb250ZXh0UGx1Z2lucz1uZXcgTWFwO2Zvcihjb25zdFt0LGVdb2YgaSl7dGhpcy5fY29udGV4dFBsdWdpbnMuc2V0KHQsZSk7dGhpcy5fY29udGV4dFBsdWdpbnMuc2V0KGUsdCk7aWYodC5wbHVnaW5OYW1lKXt0aGlzLl9hdmFpbGFibGVQbHVnaW5zLnNldCh0LnBsdWdpbk5hbWUsdCl9fX0qW1N5bWJvbC5pdGVyYXRvcl0oKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9wbHVnaW5zKXtpZih0eXBlb2YgdFswXT09XCJmdW5jdGlvblwiKXt5aWVsZCB0fX19Z2V0KHQpe2NvbnN0IGU9dGhpcy5fcGx1Z2lucy5nZXQodCk7aWYoIWUpe2NvbnN0IGU9XCJwbHVnaW5jb2xsZWN0aW9uLXBsdWdpbi1ub3QtbG9hZGVkOiBUaGUgcmVxdWVzdGVkIHBsdWdpbiBpcyBub3QgbG9hZGVkLlwiO2xldCBpPXQ7aWYodHlwZW9mIHQ9PVwiZnVuY3Rpb25cIil7aT10LnBsdWdpbk5hbWV8fHQubmFtZX10aHJvdyBuZXcgc3NbXCJiXCJdKGUsdGhpcy5fY29udGV4dCx7cGx1Z2luOml9KX1yZXR1cm4gZX1oYXModCl7cmV0dXJuIHRoaXMuX3BsdWdpbnMuaGFzKHQpfWluaXQodCxlPVtdKXtjb25zdCBpPXRoaXM7Y29uc3Qgbj10aGlzLl9jb250ZXh0O2NvbnN0IG89bmV3IFNldDtjb25zdCByPVtdO2NvbnN0IHM9Zyh0KTtjb25zdCBhPWcoZSk7Y29uc3QgYz1mKHQpO2lmKGMpe2NvbnN0IHQ9XCJwbHVnaW5jb2xsZWN0aW9uLXBsdWdpbi1ub3QtZm91bmQ6IFNvbWUgcGx1Z2lucyBhcmUgbm90IGF2YWlsYWJsZSBhbmQgY291bGQgbm90IGJlIGxvYWRlZC5cIjtjb25zb2xlLmVycm9yKE9iamVjdChzc1tcImFcIl0pKHQpLHtwbHVnaW5zOmN9KTtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IHNzW1wiYlwiXSh0LG4se3BsdWdpbnM6Y30pKX1yZXR1cm4gUHJvbWlzZS5hbGwocy5tYXAobCkpLnRoZW4oKCk9PmQocixcImluaXRcIikpLnRoZW4oKCk9PmQocixcImFmdGVySW5pdFwiKSkudGhlbigoKT0+cik7ZnVuY3Rpb24gbCh0KXtpZihhLmluY2x1ZGVzKHQpKXtyZXR1cm59aWYoaS5fcGx1Z2lucy5oYXModCl8fG8uaGFzKHQpKXtyZXR1cm59cmV0dXJuIHUodCkuY2F0Y2goZT0+e2NvbnNvbGUuZXJyb3IoT2JqZWN0KHNzW1wiYVwiXSkoXCJwbHVnaW5jb2xsZWN0aW9uLWxvYWQ6IEl0IHdhcyBub3QgcG9zc2libGUgdG8gbG9hZCB0aGUgcGx1Z2luLlwiKSx7cGx1Z2luOnR9KTt0aHJvdyBlfSl9ZnVuY3Rpb24gZCh0LGUpe3JldHVybiB0LnJlZHVjZSgodCxuKT0+e2lmKCFuW2VdKXtyZXR1cm4gdH1pZihpLl9jb250ZXh0UGx1Z2lucy5oYXMobikpe3JldHVybiB0fXJldHVybiB0LnRoZW4obltlXS5iaW5kKG4pKX0sUHJvbWlzZS5yZXNvbHZlKCkpfWZ1bmN0aW9uIHUodCl7cmV0dXJuIG5ldyBQcm9taXNlKHM9PntvLmFkZCh0KTtpZih0LnJlcXVpcmVzKXt0LnJlcXVpcmVzLmZvckVhY2goaT0+e2NvbnN0IG89aChpKTtpZih0LmlzQ29udGV4dFBsdWdpbiYmIW8uaXNDb250ZXh0UGx1Z2luKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwicGx1Z2luY29sbGVjdGlvbi1jb250ZXh0LXJlcXVpcmVkOiBDb250ZXh0IHBsdWdpbiBjYW4gbm90IHJlcXVpcmUgcGx1Z2luIHdoaWNoIGlzIG5vdCBhIGNvbnRleHQgcGx1Z2luXCIsbnVsbCx7cGx1Z2luOm8ubmFtZSxyZXF1aXJlZEJ5OnQubmFtZX0pfWlmKGUuaW5jbHVkZXMobykpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJwbHVnaW5jb2xsZWN0aW9uLXJlcXVpcmVkOiBDYW5ub3QgbG9hZCBhIHBsdWdpbiBiZWNhdXNlIG9uZSBvZiBpdHMgZGVwZW5kZW5jaWVzIGlzIGxpc3RlZCBpblwiK1widGhlIGByZW1vdmVQbHVnaW5zYCBvcHRpb24uXCIsbix7cGx1Z2luOm8ubmFtZSxyZXF1aXJlZEJ5OnQubmFtZX0pfWwobyl9KX1jb25zdCBhPWkuX2NvbnRleHRQbHVnaW5zLmdldCh0KXx8bmV3IHQobik7aS5fYWRkKHQsYSk7ci5wdXNoKGEpO3MoKX0pfWZ1bmN0aW9uIGgodCl7aWYodHlwZW9mIHQ9PVwiZnVuY3Rpb25cIil7cmV0dXJuIHR9cmV0dXJuIGkuX2F2YWlsYWJsZVBsdWdpbnMuZ2V0KHQpfWZ1bmN0aW9uIGYodCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgaSBvZiB0KXtpZighaChpKSl7ZS5wdXNoKGkpfX1yZXR1cm4gZS5sZW5ndGg/ZTpudWxsfWZ1bmN0aW9uIGcodCl7cmV0dXJuIHQubWFwKHQ9PmgodCkpLmZpbHRlcih0PT4hIXQpfX1kZXN0cm95KCl7Y29uc3QgdD1bXTtmb3IoY29uc3RbLGVdb2YgdGhpcyl7aWYodHlwZW9mIGUuZGVzdHJveT09XCJmdW5jdGlvblwiJiYhdGhpcy5fY29udGV4dFBsdWdpbnMuaGFzKGUpKXt0LnB1c2goZS5kZXN0cm95KCkpfX1yZXR1cm4gUHJvbWlzZS5hbGwodCl9X2FkZCh0LGUpe3RoaXMuX3BsdWdpbnMuc2V0KHQsZSk7Y29uc3QgaT10LnBsdWdpbk5hbWU7aWYoIWkpe3JldHVybn1pZih0aGlzLl9wbHVnaW5zLmhhcyhpKSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcInBsdWdpbmNvbGxlY3Rpb24tcGx1Z2luLW5hbWUtY29uZmxpY3Q6IFR3byBwbHVnaW5zIHdpdGggdGhlIHNhbWUgbmFtZSB3ZXJlIGxvYWRlZC5cIixudWxsLHtwbHVnaW5OYW1lOmkscGx1Z2luMTp0aGlzLl9wbHVnaW5zLmdldChpKS5jb25zdHJ1Y3RvcixwbHVnaW4yOnR9KX10aGlzLl9wbHVnaW5zLnNldChpLGUpfX12cyh4cyxkcyk7aWYoIXdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlMpe3dpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlM9e319ZnVuY3Rpb24gQ3ModCxlKXtjb25zdCBpPXdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlNbdF18fCh3aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TW3RdPXt9KTtPYmplY3QuYXNzaWduKGksZSl9ZnVuY3Rpb24gQXModCxlKXtjb25zdCBpPVNzKCk7aWYoaT09PTEpe3Q9T2JqZWN0LmtleXMod2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OUylbMF19aWYoaT09PTB8fCFQcyh0LGUpKXtyZXR1cm4gZS5yZXBsYWNlKC8gXFxbY29udGV4dDogW15cXF1dK1xcXSQvLFwiXCIpfWNvbnN0IG49d2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OU1t0XTtyZXR1cm4gbltlXS5yZXBsYWNlKC8gXFxbY29udGV4dDogW15cXF1dK1xcXSQvLFwiXCIpfWZ1bmN0aW9uIFRzKCl7d2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OUz17fX1mdW5jdGlvbiBQcyh0LGUpe3JldHVybiB0IGluIHdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlMmJmUgaW4gd2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OU1t0XX1mdW5jdGlvbiBTcygpe3JldHVybiBPYmplY3Qua2V5cyh3aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TKS5sZW5ndGh9Y29uc3QgRXM9W1wiYXJcIixcImZhXCIsXCJoZVwiLFwia3VcIixcInVnXCJdO2NsYXNzIFJze2NvbnN0cnVjdG9yKHQ9e30pe3RoaXMudWlMYW5ndWFnZT10LnVpTGFuZ3VhZ2V8fFwiZW5cIjt0aGlzLmNvbnRlbnRMYW5ndWFnZT10LmNvbnRlbnRMYW5ndWFnZXx8dGhpcy51aUxhbmd1YWdlO3RoaXMudWlMYW5ndWFnZURpcmVjdGlvbj1Pcyh0aGlzLnVpTGFuZ3VhZ2UpO3RoaXMuY29udGVudExhbmd1YWdlRGlyZWN0aW9uPU9zKHRoaXMuY29udGVudExhbmd1YWdlKTt0aGlzLnQ9KC4uLnQpPT50aGlzLl90KC4uLnQpfWdldCBsYW5ndWFnZSgpe2NvbnNvbGUud2FybihcImxvY2FsZS1kZXByZWNhdGVkLWxhbmd1YWdlLXByb3BlcnR5OiBcIitcIlRoZSBMb2NhbGUjbGFuZ3VhZ2UgcHJvcGVydHkgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZS4gXCIrXCJQbGVhc2UgdXNlICN1aUxhbmd1YWdlIGFuZCAjY29udGVudExhbmd1YWdlIHByb3BlcnRpZXMgaW5zdGVhZC5cIik7cmV0dXJuIHRoaXMudWlMYW5ndWFnZX1fdCh0LGUpe2xldCBpPUFzKHRoaXMudWlMYW5ndWFnZSx0KTtpZihlKXtpPWkucmVwbGFjZSgvJShcXGQrKS9nLCh0LGkpPT5pPGUubGVuZ3RoP2VbaV06dCl9cmV0dXJuIGl9fWZ1bmN0aW9uIE9zKHQpe3JldHVybiBFcy5pbmNsdWRlcyh0KT9cInJ0bFwiOlwibHRyXCJ9Y2xhc3MgSXN7Y29uc3RydWN0b3IodCl7dGhpcy5jb25maWc9bmV3IEpyKHQsdGhpcy5jb25zdHJ1Y3Rvci5kZWZhdWx0Q29uZmlnKTtjb25zdCBlPXRoaXMuY29uc3RydWN0b3IuYnVpbHRpblBsdWdpbnM7dGhpcy5jb25maWcuZGVmaW5lKFwicGx1Z2luc1wiLGUpO3RoaXMucGx1Z2lucz1uZXcgeHModGhpcyxlKTtjb25zdCBpPXRoaXMuY29uZmlnLmdldChcImxhbmd1YWdlXCIpfHx7fTt0aGlzLmxvY2FsZT1uZXcgUnMoe3VpTGFuZ3VhZ2U6dHlwZW9mIGk9PT1cInN0cmluZ1wiP2k6aS51aSxjb250ZW50TGFuZ3VhZ2U6dGhpcy5jb25maWcuZ2V0KFwibGFuZ3VhZ2UuY29udGVudFwiKX0pO3RoaXMudD10aGlzLmxvY2FsZS50O3RoaXMuZWRpdG9ycz1uZXcgeXM7dGhpcy5fY29udGV4dE93bmVyPW51bGx9aW5pdFBsdWdpbnMoKXtjb25zdCB0PXRoaXMuY29uZmlnLmdldChcInBsdWdpbnNcIil8fFtdO2Zvcihjb25zdCBlIG9mIHQpe2lmKHR5cGVvZiBlIT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJjb250ZXh0LWluaXRwbHVnaW5zLWNvbnN0cnVjdG9yLW9ubHk6IE9ubHkgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBpcyBhbGxvd2VkIGFzIGEgY29udGV4dCBwbHVnaW4uXCIsbnVsbCx7UGx1Z2luOmV9KX1pZihlLmlzQ29udGV4dFBsdWdpbiE9PXRydWUpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJjb250ZXh0LWluaXRwbHVnaW5zLWludmFsaWQtcGx1Z2luOiBPbmx5IGEgcGx1Z2luIG1hcmtlZCBhcyBhIGNvbnRleHQgcGx1Z2luIGlzIGFsbG93ZWQgdG8gYmUgdXNlZCB3aXRoIGEgY29udGV4dC5cIixudWxsLHtQbHVnaW46ZX0pfX1yZXR1cm4gdGhpcy5wbHVnaW5zLmluaXQodCl9ZGVzdHJveSgpe3JldHVybiBQcm9taXNlLmFsbChBcnJheS5mcm9tKHRoaXMuZWRpdG9ycyx0PT50LmRlc3Ryb3koKSkpLnRoZW4oKCk9PnRoaXMucGx1Z2lucy5kZXN0cm95KCkpfV9hZGRFZGl0b3IodCxlKXtpZih0aGlzLl9jb250ZXh0T3duZXIpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJjb250ZXh0LWFkZEVkaXRvci1wcml2YXRlLWNvbnRleHQ6IENhbm5vdCBhZGQgbXVsdGlwbGUgZWRpdG9ycyB0byB0aGUgY29udGV4dCB3aGljaCBpcyBjcmVhdGVkIGJ5IHRoZSBlZGl0b3IuXCIpfXRoaXMuZWRpdG9ycy5hZGQodCk7aWYoZSl7dGhpcy5fY29udGV4dE93bmVyPXR9fV9yZW1vdmVFZGl0b3IodCl7aWYodGhpcy5lZGl0b3JzLmhhcyh0KSl7dGhpcy5lZGl0b3JzLnJlbW92ZSh0KX1pZih0aGlzLl9jb250ZXh0T3duZXI9PT10KXtyZXR1cm4gdGhpcy5kZXN0cm95KCl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfV9nZXRFZGl0b3JDb25maWcoKXtjb25zdCB0PXt9O2Zvcihjb25zdCBlIG9mIHRoaXMuY29uZmlnLm5hbWVzKCkpe2lmKCFbXCJwbHVnaW5zXCIsXCJyZW1vdmVQbHVnaW5zXCIsXCJleHRyYVBsdWdpbnNcIl0uaW5jbHVkZXMoZSkpe3RbZV09dGhpcy5jb25maWcuZ2V0KGUpfX1yZXR1cm4gdH1zdGF0aWMgY3JlYXRlKHQpe3JldHVybiBuZXcgUHJvbWlzZShlPT57Y29uc3QgaT1uZXcgdGhpcyh0KTtlKGkuaW5pdFBsdWdpbnMoKS50aGVuKCgpPT5pKSl9KX19ZnVuY3Rpb24gVnModCxlKXtjb25zdCBpPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKTtmb3IobGV0IG49MDtuPGk7bisrKXtpZih0W25dIT1lW25dKXtyZXR1cm4gbn19aWYodC5sZW5ndGg9PWUubGVuZ3RoKXtyZXR1cm5cInNhbWVcIn1lbHNlIGlmKHQubGVuZ3RoPGUubGVuZ3RoKXtyZXR1cm5cInByZWZpeFwifWVsc2V7cmV0dXJuXCJleHRlbnNpb25cIn19dmFyIE5zPTQ7ZnVuY3Rpb24gTXModCl7cmV0dXJuIEhyKHQsTnMpfXZhciBCcz1NcztjbGFzcyB6c3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmRvY3VtZW50PXQ7dGhpcy5wYXJlbnQ9bnVsbH1nZXQgaW5kZXgoKXtsZXQgdDtpZighdGhpcy5wYXJlbnQpe3JldHVybiBudWxsfWlmKCh0PXRoaXMucGFyZW50LmdldENoaWxkSW5kZXgodGhpcykpPT0tMSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcInZpZXctbm9kZS1ub3QtZm91bmQtaW4tcGFyZW50OiBUaGUgbm9kZSdzIHBhcmVudCBkb2VzIG5vdCBjb250YWluIHRoaXMgbm9kZS5cIix0aGlzKX1yZXR1cm4gdH1nZXQgbmV4dFNpYmxpbmcoKXtjb25zdCB0PXRoaXMuaW5kZXg7cmV0dXJuIHQhPT1udWxsJiZ0aGlzLnBhcmVudC5nZXRDaGlsZCh0KzEpfHxudWxsfWdldCBwcmV2aW91c1NpYmxpbmcoKXtjb25zdCB0PXRoaXMuaW5kZXg7cmV0dXJuIHQhPT1udWxsJiZ0aGlzLnBhcmVudC5nZXRDaGlsZCh0LTEpfHxudWxsfWdldCByb290KCl7bGV0IHQ9dGhpczt3aGlsZSh0LnBhcmVudCl7dD10LnBhcmVudH1yZXR1cm4gdH1pc0F0dGFjaGVkKCl7cmV0dXJuIHRoaXMucm9vdC5pcyhcInJvb3RFbGVtZW50XCIpfWdldFBhdGgoKXtjb25zdCB0PVtdO2xldCBlPXRoaXM7d2hpbGUoZS5wYXJlbnQpe3QudW5zaGlmdChlLmluZGV4KTtlPWUucGFyZW50fXJldHVybiB0fWdldEFuY2VzdG9ycyh0PXtpbmNsdWRlU2VsZjpmYWxzZSxwYXJlbnRGaXJzdDpmYWxzZX0pe2NvbnN0IGU9W107bGV0IGk9dC5pbmNsdWRlU2VsZj90aGlzOnRoaXMucGFyZW50O3doaWxlKGkpe2VbdC5wYXJlbnRGaXJzdD9cInB1c2hcIjpcInVuc2hpZnRcIl0oaSk7aT1pLnBhcmVudH1yZXR1cm4gZX1nZXRDb21tb25BbmNlc3Rvcih0LGU9e30pe2NvbnN0IGk9dGhpcy5nZXRBbmNlc3RvcnMoZSk7Y29uc3Qgbj10LmdldEFuY2VzdG9ycyhlKTtsZXQgbz0wO3doaWxlKGlbb109PW5bb10mJmlbb10pe28rK31yZXR1cm4gbz09PTA/bnVsbDppW28tMV19aXNCZWZvcmUodCl7aWYodGhpcz09dCl7cmV0dXJuIGZhbHNlfWlmKHRoaXMucm9vdCE9PXQucm9vdCl7cmV0dXJuIGZhbHNlfWNvbnN0IGU9dGhpcy5nZXRQYXRoKCk7Y29uc3QgaT10LmdldFBhdGgoKTtjb25zdCBuPVZzKGUsaSk7c3dpdGNoKG4pe2Nhc2VcInByZWZpeFwiOnJldHVybiB0cnVlO2Nhc2VcImV4dGVuc2lvblwiOnJldHVybiBmYWxzZTtkZWZhdWx0OnJldHVybiBlW25dPGlbbl19fWlzQWZ0ZXIodCl7aWYodGhpcz09dCl7cmV0dXJuIGZhbHNlfWlmKHRoaXMucm9vdCE9PXQucm9vdCl7cmV0dXJuIGZhbHNlfXJldHVybiF0aGlzLmlzQmVmb3JlKHQpfV9yZW1vdmUoKXt0aGlzLnBhcmVudC5fcmVtb3ZlQ2hpbGRyZW4odGhpcy5pbmRleCl9X2ZpcmVDaGFuZ2UodCxlKXt0aGlzLmZpcmUoXCJjaGFuZ2U6XCIrdCxlKTtpZih0aGlzLnBhcmVudCl7dGhpcy5wYXJlbnQuX2ZpcmVDaGFuZ2UodCxlKX19dG9KU09OKCl7Y29uc3QgdD1Ccyh0aGlzKTtkZWxldGUgdC5wYXJlbnQ7cmV0dXJuIHR9aXModCl7cmV0dXJuIHQ9PVwibm9kZVwifHx0PT1cInZpZXc6bm9kZVwifX12cyh6cyxkcyk7Y2xhc3MgTHMgZXh0ZW5kcyB6c3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpO3RoaXMuX3RleHREYXRhPWV9aXModCl7cmV0dXJuIHQ9PVwidGV4dFwifHx0PT1cInZpZXc6dGV4dFwifHxzdXBlci5pcyh0KX1nZXQgZGF0YSgpe3JldHVybiB0aGlzLl90ZXh0RGF0YX1nZXQgX2RhdGEoKXtyZXR1cm4gdGhpcy5kYXRhfXNldCBfZGF0YSh0KXt0aGlzLl9maXJlQ2hhbmdlKFwidGV4dFwiLHRoaXMpO3RoaXMuX3RleHREYXRhPXR9aXNTaW1pbGFyKHQpe2lmKCEodCBpbnN0YW5jZW9mIExzKSl7cmV0dXJuIGZhbHNlfXJldHVybiB0aGlzPT09dHx8dGhpcy5kYXRhPT09dC5kYXRhfV9jbG9uZSgpe3JldHVybiBuZXcgTHModGhpcy5kb2N1bWVudCx0aGlzLmRhdGEpfX1jbGFzcyBGc3tjb25zdHJ1Y3Rvcih0LGUsaSl7dGhpcy50ZXh0Tm9kZT10O2lmKGU8MHx8ZT50LmRhdGEubGVuZ3RoKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwidmlldy10ZXh0cHJveHktd3Jvbmctb2Zmc2V0aW50ZXh0OiBHaXZlbiBvZmZzZXRJblRleHQgdmFsdWUgaXMgaW5jb3JyZWN0LlwiLHRoaXMpfWlmKGk8MHx8ZStpPnQuZGF0YS5sZW5ndGgpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ2aWV3LXRleHRwcm94eS13cm9uZy1sZW5ndGg6IEdpdmVuIGxlbmd0aCB2YWx1ZSBpcyBpbmNvcnJlY3QuXCIsdGhpcyl9dGhpcy5kYXRhPXQuZGF0YS5zdWJzdHJpbmcoZSxlK2kpO3RoaXMub2Zmc2V0SW5UZXh0PWV9Z2V0IG9mZnNldFNpemUoKXtyZXR1cm4gdGhpcy5kYXRhLmxlbmd0aH1nZXQgaXNQYXJ0aWFsKCl7cmV0dXJuIHRoaXMuZGF0YS5sZW5ndGghPT10aGlzLnRleHROb2RlLmRhdGEubGVuZ3RofWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5wYXJlbnR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5yb290fWdldCBkb2N1bWVudCgpe3JldHVybiB0aGlzLnRleHROb2RlLmRvY3VtZW50fWlzKHQpe3JldHVybiB0PT1cInRleHRQcm94eVwifHx0PT1cInZpZXc6dGV4dFByb3h5XCJ9Z2V0QW5jZXN0b3JzKHQ9e2luY2x1ZGVTZWxmOmZhbHNlLHBhcmVudEZpcnN0OmZhbHNlfSl7Y29uc3QgZT1bXTtsZXQgaT10LmluY2x1ZGVTZWxmP3RoaXMudGV4dE5vZGU6dGhpcy5wYXJlbnQ7d2hpbGUoaSE9PW51bGwpe2VbdC5wYXJlbnRGaXJzdD9cInB1c2hcIjpcInVuc2hpZnRcIl0oaSk7aT1pLnBhcmVudH1yZXR1cm4gZX19ZnVuY3Rpb24gRHModCl7Y29uc3QgZT1uZXcgTWFwO2Zvcihjb25zdCBpIGluIHQpe2Uuc2V0KGksdFtpXSl9cmV0dXJuIGV9ZnVuY3Rpb24ganModCl7cmV0dXJuISEodCYmdFtTeW1ib2wuaXRlcmF0b3JdKX1mdW5jdGlvbiBIcyh0KXtpZihqcyh0KSl7cmV0dXJuIG5ldyBNYXAodCl9ZWxzZXtyZXR1cm4gRHModCl9fWNsYXNzIFdze2NvbnN0cnVjdG9yKC4uLnQpe3RoaXMuX3BhdHRlcm5zPVtdO3RoaXMuYWRkKC4uLnQpfWFkZCguLi50KXtmb3IobGV0IGUgb2YgdCl7aWYodHlwZW9mIGU9PVwic3RyaW5nXCJ8fGUgaW5zdGFuY2VvZiBSZWdFeHApe2U9e25hbWU6ZX19aWYoZS5jbGFzc2VzJiYodHlwZW9mIGUuY2xhc3Nlcz09XCJzdHJpbmdcInx8ZS5jbGFzc2VzIGluc3RhbmNlb2YgUmVnRXhwKSl7ZS5jbGFzc2VzPVtlLmNsYXNzZXNdfXRoaXMuX3BhdHRlcm5zLnB1c2goZSl9fW1hdGNoKC4uLnQpe2Zvcihjb25zdCBlIG9mIHQpe2Zvcihjb25zdCB0IG9mIHRoaXMuX3BhdHRlcm5zKXtjb25zdCBpPXFzKGUsdCk7aWYoaSl7cmV0dXJue2VsZW1lbnQ6ZSxwYXR0ZXJuOnQsbWF0Y2g6aX19fX1yZXR1cm4gbnVsbH1tYXRjaEFsbCguLi50KXtjb25zdCBlPVtdO2Zvcihjb25zdCBpIG9mIHQpe2Zvcihjb25zdCB0IG9mIHRoaXMuX3BhdHRlcm5zKXtjb25zdCBuPXFzKGksdCk7aWYobil7ZS5wdXNoKHtlbGVtZW50OmkscGF0dGVybjp0LG1hdGNoOm59KX19fXJldHVybiBlLmxlbmd0aD4wP2U6bnVsbH1nZXRFbGVtZW50TmFtZSgpe2lmKHRoaXMuX3BhdHRlcm5zLmxlbmd0aCE9PTEpe3JldHVybiBudWxsfWNvbnN0IHQ9dGhpcy5fcGF0dGVybnNbMF07Y29uc3QgZT10Lm5hbWU7cmV0dXJuIHR5cGVvZiB0IT1cImZ1bmN0aW9uXCImJmUmJiEoZSBpbnN0YW5jZW9mIFJlZ0V4cCk/ZTpudWxsfX1mdW5jdGlvbiBxcyh0LGUpe2lmKHR5cGVvZiBlPT1cImZ1bmN0aW9uXCIpe3JldHVybiBlKHQpfWNvbnN0IGk9e307aWYoZS5uYW1lKXtpLm5hbWU9VXMoZS5uYW1lLHQubmFtZSk7aWYoIWkubmFtZSl7cmV0dXJuIG51bGx9fWlmKGUuYXR0cmlidXRlcyl7aS5hdHRyaWJ1dGVzPSRzKGUuYXR0cmlidXRlcyx0KTtpZighaS5hdHRyaWJ1dGVzKXtyZXR1cm4gbnVsbH19aWYoZS5jbGFzc2VzKXtpLmNsYXNzZXM9R3MoZS5jbGFzc2VzLHQpO2lmKCFpLmNsYXNzZXMpe3JldHVybiBmYWxzZX19aWYoZS5zdHlsZXMpe2kuc3R5bGVzPUtzKGUuc3R5bGVzLHQpO2lmKCFpLnN0eWxlcyl7cmV0dXJuIGZhbHNlfX1yZXR1cm4gaX1mdW5jdGlvbiBVcyh0LGUpe2lmKHQgaW5zdGFuY2VvZiBSZWdFeHApe3JldHVybiB0LnRlc3QoZSl9cmV0dXJuIHQ9PT1lfWZ1bmN0aW9uICRzKHQsZSl7Y29uc3QgaT1bXTtmb3IoY29uc3QgbiBpbiB0KXtjb25zdCBvPXRbbl07aWYoZS5oYXNBdHRyaWJ1dGUobikpe2NvbnN0IHQ9ZS5nZXRBdHRyaWJ1dGUobik7aWYobz09PXRydWUpe2kucHVzaChuKX1lbHNlIGlmKG8gaW5zdGFuY2VvZiBSZWdFeHApe2lmKG8udGVzdCh0KSl7aS5wdXNoKG4pfWVsc2V7cmV0dXJuIG51bGx9fWVsc2UgaWYodD09PW8pe2kucHVzaChuKX1lbHNle3JldHVybiBudWxsfX1lbHNle3JldHVybiBudWxsfX1yZXR1cm4gaX1mdW5jdGlvbiBHcyh0LGUpe2NvbnN0IGk9W107Zm9yKGNvbnN0IG4gb2YgdCl7aWYobiBpbnN0YW5jZW9mIFJlZ0V4cCl7Y29uc3QgdD1lLmdldENsYXNzTmFtZXMoKTtmb3IoY29uc3QgZSBvZiB0KXtpZihuLnRlc3QoZSkpe2kucHVzaChlKX19aWYoaS5sZW5ndGg9PT0wKXtyZXR1cm4gbnVsbH19ZWxzZSBpZihlLmhhc0NsYXNzKG4pKXtpLnB1c2gobil9ZWxzZXtyZXR1cm4gbnVsbH19cmV0dXJuIGl9ZnVuY3Rpb24gS3ModCxlKXtjb25zdCBpPVtdO2Zvcihjb25zdCBuIGluIHQpe2NvbnN0IG89dFtuXTtpZihlLmhhc1N0eWxlKG4pKXtjb25zdCB0PWUuZ2V0U3R5bGUobik7aWYobyBpbnN0YW5jZW9mIFJlZ0V4cCl7aWYoby50ZXN0KHQpKXtpLnB1c2gobil9ZWxzZXtyZXR1cm4gbnVsbH19ZWxzZSBpZih0PT09byl7aS5wdXNoKG4pfWVsc2V7cmV0dXJuIG51bGx9fWVsc2V7cmV0dXJuIG51bGx9fXJldHVybiBpfXZhciBKcz1cIltvYmplY3QgU3ltYm9sXVwiO2Z1bmN0aW9uIFlzKHQpe3JldHVybiB0eXBlb2YgdD09XCJzeW1ib2xcInx8VCh0KSYmXyh0KT09SnN9dmFyIFFzPVlzO3ZhciBYcz0vXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFpzPS9eXFx3KiQvO2Z1bmN0aW9uIHRhKHQsZSl7aWYoSmUodCkpe3JldHVybiBmYWxzZX12YXIgaT10eXBlb2YgdDtpZihpPT1cIm51bWJlclwifHxpPT1cInN5bWJvbFwifHxpPT1cImJvb2xlYW5cInx8dD09bnVsbHx8UXModCkpe3JldHVybiB0cnVlfXJldHVybiBacy50ZXN0KHQpfHwhWHMudGVzdCh0KXx8ZSE9bnVsbCYmdCBpbiBPYmplY3QoZSl9dmFyIGVhPXRhO3ZhciBpYT1cIkV4cGVjdGVkIGEgZnVuY3Rpb25cIjtmdW5jdGlvbiBuYSh0LGUpe2lmKHR5cGVvZiB0IT1cImZ1bmN0aW9uXCJ8fGUhPW51bGwmJnR5cGVvZiBlIT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoaWEpfXZhciBpPWZ1bmN0aW9uKCl7dmFyIG49YXJndW1lbnRzLG89ZT9lLmFwcGx5KHRoaXMsbik6blswXSxyPWkuY2FjaGU7aWYoci5oYXMobykpe3JldHVybiByLmdldChvKX12YXIgcz10LmFwcGx5KHRoaXMsbik7aS5jYWNoZT1yLnNldChvLHMpfHxyO3JldHVybiBzfTtpLmNhY2hlPW5ldyhuYS5DYWNoZXx8X2UpO3JldHVybiBpfW5hLkNhY2hlPV9lO3ZhciBvYT1uYTt2YXIgcmE9NTAwO2Z1bmN0aW9uIHNhKHQpe3ZhciBlPW9hKHQsKGZ1bmN0aW9uKHQpe2lmKGkuc2l6ZT09PXJhKXtpLmNsZWFyKCl9cmV0dXJuIHR9KSk7dmFyIGk9ZS5jYWNoZTtyZXR1cm4gZX12YXIgYWE9c2E7dmFyIGNhPS9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZzt2YXIgbGE9L1xcXFwoXFxcXCk/L2c7dmFyIGRhPWFhKChmdW5jdGlvbih0KXt2YXIgZT1bXTtpZih0LmNoYXJDb2RlQXQoMCk9PT00Nil7ZS5wdXNoKFwiXCIpfXQucmVwbGFjZShjYSwoZnVuY3Rpb24odCxpLG4sbyl7ZS5wdXNoKG4/by5yZXBsYWNlKGxhLFwiJDFcIik6aXx8dCl9KSk7cmV0dXJuIGV9KSk7dmFyIHVhPWRhO2Z1bmN0aW9uIGhhKHQsZSl7dmFyIGk9LTEsbj10PT1udWxsPzA6dC5sZW5ndGgsbz1BcnJheShuKTt3aGlsZSgrK2k8bil7b1tpXT1lKHRbaV0saSx0KX1yZXR1cm4gb312YXIgZmE9aGE7dmFyIGdhPTEvMDt2YXIgbWE9cj9yLnByb3RvdHlwZTp1bmRlZmluZWQscGE9bWE/bWEudG9TdHJpbmc6dW5kZWZpbmVkO2Z1bmN0aW9uIGJhKHQpe2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXtyZXR1cm4gdH1pZihKZSh0KSl7cmV0dXJuIGZhKHQsYmEpK1wiXCJ9aWYoUXModCkpe3JldHVybiBwYT9wYS5jYWxsKHQpOlwiXCJ9dmFyIGU9dCtcIlwiO3JldHVybiBlPT1cIjBcIiYmMS90PT0tZ2E/XCItMFwiOmV9dmFyIHdhPWJhO2Z1bmN0aW9uIGthKHQpe3JldHVybiB0PT1udWxsP1wiXCI6d2EodCl9dmFyIF9hPWthO2Z1bmN0aW9uIHZhKHQsZSl7aWYoSmUodCkpe3JldHVybiB0fXJldHVybiBlYSh0LGUpP1t0XTp1YShfYSh0KSl9dmFyIHlhPXZhO2Z1bmN0aW9uIHhhKHQpe3ZhciBlPXQ9PW51bGw/MDp0Lmxlbmd0aDtyZXR1cm4gZT90W2UtMV06dW5kZWZpbmVkfXZhciBDYT14YTt2YXIgQWE9MS8wO2Z1bmN0aW9uIFRhKHQpe2lmKHR5cGVvZiB0PT1cInN0cmluZ1wifHxRcyh0KSl7cmV0dXJuIHR9dmFyIGU9dCtcIlwiO3JldHVybiBlPT1cIjBcIiYmMS90PT0tQWE/XCItMFwiOmV9dmFyIFBhPVRhO2Z1bmN0aW9uIFNhKHQsZSl7ZT15YShlLHQpO3ZhciBpPTAsbj1lLmxlbmd0aDt3aGlsZSh0IT1udWxsJiZpPG4pe3Q9dFtQYShlW2krK10pXX1yZXR1cm4gaSYmaT09bj90OnVuZGVmaW5lZH12YXIgRWE9U2E7ZnVuY3Rpb24gUmEodCxlLGkpe3ZhciBuPS0xLG89dC5sZW5ndGg7aWYoZTwwKXtlPS1lPm8/MDpvK2V9aT1pPm8/bzppO2lmKGk8MCl7aSs9b31vPWU+aT8wOmktZT4+PjA7ZT4+Pj0wO3ZhciByPUFycmF5KG8pO3doaWxlKCsrbjxvKXtyW25dPXRbbitlXX1yZXR1cm4gcn12YXIgT2E9UmE7ZnVuY3Rpb24gSWEodCxlKXtyZXR1cm4gZS5sZW5ndGg8Mj90OkVhKHQsT2EoZSwwLC0xKSl9dmFyIFZhPUlhO2Z1bmN0aW9uIE5hKHQsZSl7ZT15YShlLHQpO3Q9VmEodCxlKTtyZXR1cm4gdD09bnVsbHx8ZGVsZXRlIHRbUGEoQ2EoZSkpXX12YXIgTWE9TmE7ZnVuY3Rpb24gQmEodCxlKXtyZXR1cm4gdD09bnVsbD90cnVlOk1hKHQsZSl9dmFyIHphPUJhO2Z1bmN0aW9uIExhKHQsZSxpKXt2YXIgbj10PT1udWxsP3VuZGVmaW5lZDpFYSh0LGUpO3JldHVybiBuPT09dW5kZWZpbmVkP2k6bn12YXIgRmE9TGE7ZnVuY3Rpb24gRGEodCxlLGkpe2lmKGkhPT11bmRlZmluZWQmJiFMKHRbZV0saSl8fGk9PT11bmRlZmluZWQmJiEoZSBpbiB0KSl7T2UodCxlLGkpfX12YXIgamE9RGE7ZnVuY3Rpb24gSGEodCl7cmV0dXJuIGZ1bmN0aW9uKGUsaSxuKXt2YXIgbz0tMSxyPU9iamVjdChlKSxzPW4oZSksYT1zLmxlbmd0aDt3aGlsZShhLS0pe3ZhciBjPXNbdD9hOisrb107aWYoaShyW2NdLGMscik9PT1mYWxzZSl7YnJlYWt9fXJldHVybiBlfX12YXIgV2E9SGE7dmFyIHFhPVdhKCk7dmFyIFVhPXFhO2Z1bmN0aW9uICRhKHQpe3JldHVybiBUKHQpJiZRaSh0KX12YXIgR2E9JGE7ZnVuY3Rpb24gS2EodCxlKXtpZihlPT09XCJjb25zdHJ1Y3RvclwiJiZ0eXBlb2YgdFtlXT09PVwiZnVuY3Rpb25cIil7cmV0dXJufWlmKGU9PVwiX19wcm90b19fXCIpe3JldHVybn1yZXR1cm4gdFtlXX12YXIgSmE9S2E7ZnVuY3Rpb24gWWEodCl7cmV0dXJuIHplKHQsZG4odCkpfXZhciBRYT1ZYTtmdW5jdGlvbiBYYSh0LGUsaSxuLG8scixzKXt2YXIgYT1KYSh0LGkpLGM9SmEoZSxpKSxsPXMuZ2V0KGMpO2lmKGwpe2phKHQsaSxsKTtyZXR1cm59dmFyIGQ9cj9yKGEsYyxpK1wiXCIsdCxlLHMpOnVuZGVmaW5lZDt2YXIgdT1kPT09dW5kZWZpbmVkO2lmKHUpe3ZhciBoPUplKGMpLGY9IWgmJk9iamVjdChZZVtcImFcIl0pKGMpLGc9IWgmJiFmJiZCaShjKTtkPWM7aWYoaHx8Znx8Zyl7aWYoSmUoYSkpe2Q9YX1lbHNlIGlmKEdhKGEpKXtkPW1uKGEpfWVsc2UgaWYoZil7dT1mYWxzZTtkPU9iamVjdChmbltcImFcIl0pKGMsdHJ1ZSl9ZWxzZSBpZihnKXt1PWZhbHNlO2Q9VG8oYyx0cnVlKX1lbHNle2Q9W119fWVsc2UgaWYoTihjKXx8R2UoYykpe2Q9YTtpZihHZShhKSl7ZD1RYShhKX1lbHNlIGlmKCFjdChhKXx8Z3QoYSkpe2Q9WG8oYyl9fWVsc2V7dT1mYWxzZX19aWYodSl7cy5zZXQoYyxkKTtvKGQsYyxuLHIscyk7c1tcImRlbGV0ZVwiXShjKX1qYSh0LGksZCl9dmFyIFphPVhhO2Z1bmN0aW9uIHRjKHQsZSxpLG4sbyl7aWYodD09PWUpe3JldHVybn1VYShlLChmdW5jdGlvbihyLHMpe298fChvPW5ldyBBZSk7aWYoY3Qocikpe1phKHQsZSxzLGksdGMsbixvKX1lbHNle3ZhciBhPW4/bihKYSh0LHMpLHIscytcIlwiLHQsZSxvKTp1bmRlZmluZWQ7aWYoYT09PXVuZGVmaW5lZCl7YT1yfWphKHQscyxhKX19KSxkbil9dmFyIGVjPXRjO2Z1bmN0aW9uIGljKHQpe3JldHVybiB0fXZhciBuYz1pYztmdW5jdGlvbiBvYyh0LGUsaSl7c3dpdGNoKGkubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHQuY2FsbChlKTtjYXNlIDE6cmV0dXJuIHQuY2FsbChlLGlbMF0pO2Nhc2UgMjpyZXR1cm4gdC5jYWxsKGUsaVswXSxpWzFdKTtjYXNlIDM6cmV0dXJuIHQuY2FsbChlLGlbMF0saVsxXSxpWzJdKX1yZXR1cm4gdC5hcHBseShlLGkpfXZhciByYz1vYzt2YXIgc2M9TWF0aC5tYXg7ZnVuY3Rpb24gYWModCxlLGkpe2U9c2MoZT09PXVuZGVmaW5lZD90Lmxlbmd0aC0xOmUsMCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49YXJndW1lbnRzLG89LTEscj1zYyhuLmxlbmd0aC1lLDApLHM9QXJyYXkocik7d2hpbGUoKytvPHIpe3Nbb109bltlK29dfW89LTE7dmFyIGE9QXJyYXkoZSsxKTt3aGlsZSgrK288ZSl7YVtvXT1uW29dfWFbZV09aShzKTtyZXR1cm4gcmModCx0aGlzLGEpfX12YXIgY2M9YWM7ZnVuY3Rpb24gbGModCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fXZhciBkYz1sYzt2YXIgdWM9IUVlP25jOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEVlKHQsXCJ0b1N0cmluZ1wiLHtjb25maWd1cmFibGU6dHJ1ZSxlbnVtZXJhYmxlOmZhbHNlLHZhbHVlOmRjKGUpLHdyaXRhYmxlOnRydWV9KX07dmFyIGhjPXVjO3ZhciBmYz04MDAsZ2M9MTY7dmFyIG1jPURhdGUubm93O2Z1bmN0aW9uIHBjKHQpe3ZhciBlPTAsaT0wO3JldHVybiBmdW5jdGlvbigpe3ZhciBuPW1jKCksbz1nYy0obi1pKTtpPW47aWYobz4wKXtpZigrK2U+PWZjKXtyZXR1cm4gYXJndW1lbnRzWzBdfX1lbHNle2U9MH1yZXR1cm4gdC5hcHBseSh1bmRlZmluZWQsYXJndW1lbnRzKX19dmFyIGJjPXBjO3ZhciB3Yz1iYyhoYyk7dmFyIGtjPXdjO2Z1bmN0aW9uIF9jKHQsZSl7cmV0dXJuIGtjKGNjKHQsZSxuYyksdCtcIlwiKX12YXIgdmM9X2M7ZnVuY3Rpb24geWModCxlLGkpe2lmKCFjdChpKSl7cmV0dXJuIGZhbHNlfXZhciBuPXR5cGVvZiBlO2lmKG49PVwibnVtYmVyXCI/UWkoaSkmJnRpKGUsaS5sZW5ndGgpOm49PVwic3RyaW5nXCImJmUgaW4gaSl7cmV0dXJuIEwoaVtlXSx0KX1yZXR1cm4gZmFsc2V9dmFyIHhjPXljO2Z1bmN0aW9uIENjKHQpe3JldHVybiB2YygoZnVuY3Rpb24oZSxpKXt2YXIgbj0tMSxvPWkubGVuZ3RoLHI9bz4xP2lbby0xXTp1bmRlZmluZWQscz1vPjI/aVsyXTp1bmRlZmluZWQ7cj10Lmxlbmd0aD4zJiZ0eXBlb2Ygcj09XCJmdW5jdGlvblwiPyhvLS0scik6dW5kZWZpbmVkO2lmKHMmJnhjKGlbMF0saVsxXSxzKSl7cj1vPDM/dW5kZWZpbmVkOnI7bz0xfWU9T2JqZWN0KGUpO3doaWxlKCsrbjxvKXt2YXIgYT1pW25dO2lmKGEpe3QoZSxhLG4scil9fXJldHVybiBlfSkpfXZhciBBYz1DYzt2YXIgVGM9QWMoKGZ1bmN0aW9uKHQsZSxpKXtlYyh0LGUsaSl9KSk7dmFyIFBjPVRjO2Z1bmN0aW9uIFNjKHQsZSxpLG4pe2lmKCFjdCh0KSl7cmV0dXJuIHR9ZT15YShlLHQpO3ZhciBvPS0xLHI9ZS5sZW5ndGgscz1yLTEsYT10O3doaWxlKGEhPW51bGwmJisrbzxyKXt2YXIgYz1QYShlW29dKSxsPWk7aWYobyE9cyl7dmFyIGQ9YVtjXTtsPW4/bihkLGMsYSk6dW5kZWZpbmVkO2lmKGw9PT11bmRlZmluZWQpe2w9Y3QoZCk/ZDp0aShlW28rMV0pP1tdOnt9fX1NZShhLGMsbCk7YT1hW2NdfXJldHVybiB0fXZhciBFYz1TYztmdW5jdGlvbiBSYyh0LGUsaSl7cmV0dXJuIHQ9PW51bGw/dDpFYyh0LGUsaSl9dmFyIE9jPVJjO2NsYXNzIElje2NvbnN0cnVjdG9yKHQpe3RoaXMuX3N0eWxlcz17fTt0aGlzLl9zdHlsZVByb2Nlc3Nvcj10fWdldCBpc0VtcHR5KCl7Y29uc3QgdD1PYmplY3QuZW50cmllcyh0aGlzLl9zdHlsZXMpO2NvbnN0IGU9QXJyYXkuZnJvbSh0KTtyZXR1cm4hZS5sZW5ndGh9Z2V0IHNpemUoKXtpZih0aGlzLmlzRW1wdHkpe3JldHVybiAwfXJldHVybiB0aGlzLmdldFN0eWxlTmFtZXMoKS5sZW5ndGh9c2V0VG8odCl7dGhpcy5jbGVhcigpO2NvbnN0IGU9QXJyYXkuZnJvbShOYyh0KS5lbnRyaWVzKCkpO2Zvcihjb25zdFt0LGldb2YgZSl7dGhpcy5fc3R5bGVQcm9jZXNzb3IudG9Ob3JtYWxpemVkRm9ybSh0LGksdGhpcy5fc3R5bGVzKX19aGFzKHQpe2lmKHRoaXMuaXNFbXB0eSl7cmV0dXJuIGZhbHNlfWNvbnN0IGU9dGhpcy5fc3R5bGVQcm9jZXNzb3IuZ2V0UmVkdWNlZEZvcm0odCx0aGlzLl9zdHlsZXMpO2NvbnN0IGk9ZS5maW5kKChbZV0pPT5lPT09dCk7cmV0dXJuIEFycmF5LmlzQXJyYXkoaSl9c2V0KHQsZSl7aWYoY3QodCkpe2Zvcihjb25zdFtlLGldb2YgT2JqZWN0LmVudHJpZXModCkpe3RoaXMuX3N0eWxlUHJvY2Vzc29yLnRvTm9ybWFsaXplZEZvcm0oZSxpLHRoaXMuX3N0eWxlcyl9fWVsc2V7dGhpcy5fc3R5bGVQcm9jZXNzb3IudG9Ob3JtYWxpemVkRm9ybSh0LGUsdGhpcy5fc3R5bGVzKX19cmVtb3ZlKHQpe2NvbnN0IGU9TWModCk7emEodGhpcy5fc3R5bGVzLGUpO2RlbGV0ZSB0aGlzLl9zdHlsZXNbdF07dGhpcy5fY2xlYW5FbXB0eU9iamVjdHNPblBhdGgoZSl9Z2V0Tm9ybWFsaXplZCh0KXtyZXR1cm4gdGhpcy5fc3R5bGVQcm9jZXNzb3IuZ2V0Tm9ybWFsaXplZCh0LHRoaXMuX3N0eWxlcyl9dG9TdHJpbmcoKXtpZih0aGlzLmlzRW1wdHkpe3JldHVyblwiXCJ9cmV0dXJuIHRoaXMuX2dldFN0eWxlc0VudHJpZXMoKS5tYXAodD0+dC5qb2luKFwiOlwiKSkuc29ydCgpLmpvaW4oXCI7XCIpK1wiO1wifWdldEFzU3RyaW5nKHQpe2lmKHRoaXMuaXNFbXB0eSl7cmV0dXJufWlmKHRoaXMuX3N0eWxlc1t0XSYmIWN0KHRoaXMuX3N0eWxlc1t0XSkpe3JldHVybiB0aGlzLl9zdHlsZXNbdF19Y29uc3QgZT10aGlzLl9zdHlsZVByb2Nlc3Nvci5nZXRSZWR1Y2VkRm9ybSh0LHRoaXMuX3N0eWxlcyk7Y29uc3QgaT1lLmZpbmQoKFtlXSk9PmU9PT10KTtpZihBcnJheS5pc0FycmF5KGkpKXtyZXR1cm4gaVsxXX19Z2V0U3R5bGVOYW1lcygpe2lmKHRoaXMuaXNFbXB0eSl7cmV0dXJuW119Y29uc3QgdD10aGlzLl9nZXRTdHlsZXNFbnRyaWVzKCk7cmV0dXJuIHQubWFwKChbdF0pPT50KX1jbGVhcigpe3RoaXMuX3N0eWxlcz17fX1fZ2V0U3R5bGVzRW50cmllcygpe2NvbnN0IHQ9W107Y29uc3QgZT1PYmplY3Qua2V5cyh0aGlzLl9zdHlsZXMpO2Zvcihjb25zdCBpIG9mIGUpe3QucHVzaCguLi50aGlzLl9zdHlsZVByb2Nlc3Nvci5nZXRSZWR1Y2VkRm9ybShpLHRoaXMuX3N0eWxlcykpfXJldHVybiB0fV9jbGVhbkVtcHR5T2JqZWN0c09uUGF0aCh0KXtjb25zdCBlPXQuc3BsaXQoXCIuXCIpO2NvbnN0IGk9ZS5sZW5ndGg+MTtpZighaSl7cmV0dXJufWNvbnN0IG49ZS5zcGxpY2UoMCxlLmxlbmd0aC0xKS5qb2luKFwiLlwiKTtjb25zdCBvPUZhKHRoaXMuX3N0eWxlcyxuKTtpZighbyl7cmV0dXJufWNvbnN0IHI9IUFycmF5LmZyb20oT2JqZWN0LmtleXMobykpLmxlbmd0aDtpZihyKXt0aGlzLnJlbW92ZShuKX19fWNsYXNzIFZje2NvbnN0cnVjdG9yKCl7dGhpcy5fbm9ybWFsaXplcnM9bmV3IE1hcDt0aGlzLl9leHRyYWN0b3JzPW5ldyBNYXA7dGhpcy5fcmVkdWNlcnM9bmV3IE1hcDt0aGlzLl9jb25zdW1hYmxlcz1uZXcgTWFwfXRvTm9ybWFsaXplZEZvcm0odCxlLGkpe2lmKGN0KGUpKXtCYyhpLE1jKHQpLGUpO3JldHVybn1pZih0aGlzLl9ub3JtYWxpemVycy5oYXModCkpe2NvbnN0IG49dGhpcy5fbm9ybWFsaXplcnMuZ2V0KHQpO2NvbnN0e3BhdGg6byx2YWx1ZTpyfT1uKGUpO0JjKGksbyxyKX1lbHNle0JjKGksdCxlKX19Z2V0Tm9ybWFsaXplZCh0LGUpe2lmKCF0KXtyZXR1cm4gUGMoe30sZSl9aWYoZVt0XSE9PXVuZGVmaW5lZCl7cmV0dXJuIGVbdF19aWYodGhpcy5fZXh0cmFjdG9ycy5oYXModCkpe2NvbnN0IGk9dGhpcy5fZXh0cmFjdG9ycy5nZXQodCk7aWYodHlwZW9mIGk9PT1cInN0cmluZ1wiKXtyZXR1cm4gRmEoZSxpKX1jb25zdCBuPWkodCxlKTtpZihuKXtyZXR1cm4gbn19cmV0dXJuIEZhKGUsTWModCkpfWdldFJlZHVjZWRGb3JtKHQsZSl7Y29uc3QgaT10aGlzLmdldE5vcm1hbGl6ZWQodCxlKTtpZihpPT09dW5kZWZpbmVkKXtyZXR1cm5bXX1pZih0aGlzLl9yZWR1Y2Vycy5oYXModCkpe2NvbnN0IGU9dGhpcy5fcmVkdWNlcnMuZ2V0KHQpO3JldHVybiBlKGkpfXJldHVybltbdCxpXV19Z2V0UmVsYXRlZFN0eWxlcyh0KXtyZXR1cm4gdGhpcy5fY29uc3VtYWJsZXMuZ2V0KHQpfHxbXX1zZXROb3JtYWxpemVyKHQsZSl7dGhpcy5fbm9ybWFsaXplcnMuc2V0KHQsZSl9c2V0RXh0cmFjdG9yKHQsZSl7dGhpcy5fZXh0cmFjdG9ycy5zZXQodCxlKX1zZXRSZWR1Y2VyKHQsZSl7dGhpcy5fcmVkdWNlcnMuc2V0KHQsZSl9c2V0U3R5bGVSZWxhdGlvbih0LGUpe3RoaXMuX21hcFN0eWxlTmFtZXModCxlKTtmb3IoY29uc3QgaSBvZiBlKXt0aGlzLl9tYXBTdHlsZU5hbWVzKGksW3RdKX19X21hcFN0eWxlTmFtZXModCxlKXtpZighdGhpcy5fY29uc3VtYWJsZXMuaGFzKHQpKXt0aGlzLl9jb25zdW1hYmxlcy5zZXQodCxbXSl9dGhpcy5fY29uc3VtYWJsZXMuZ2V0KHQpLnB1c2goLi4uZSl9fWZ1bmN0aW9uIE5jKHQpe2xldCBlPW51bGw7bGV0IGk9MDtsZXQgbj0wO2xldCBvPW51bGw7Y29uc3Qgcj1uZXcgTWFwO2lmKHQ9PT1cIlwiKXtyZXR1cm4gcn1pZih0LmNoYXJBdCh0Lmxlbmd0aC0xKSE9XCI7XCIpe3Q9dCtcIjtcIn1mb3IobGV0IHM9MDtzPHQubGVuZ3RoO3MrKyl7Y29uc3QgYT10LmNoYXJBdChzKTtpZihlPT09bnVsbCl7c3dpdGNoKGEpe2Nhc2VcIjpcIjppZighbyl7bz10LnN1YnN0cihpLHMtaSk7bj1zKzF9YnJlYWs7Y2FzZSdcIic6Y2FzZVwiJ1wiOmU9YTticmVhaztjYXNlXCI7XCI6e2NvbnN0IGU9dC5zdWJzdHIobixzLW4pO2lmKG8pe3Iuc2V0KG8udHJpbSgpLGUudHJpbSgpKX1vPW51bGw7aT1zKzE7YnJlYWt9fX1lbHNlIGlmKGE9PT1lKXtlPW51bGx9fXJldHVybiByfWZ1bmN0aW9uIE1jKHQpe3JldHVybiB0LnJlcGxhY2UoXCItXCIsXCIuXCIpfWZ1bmN0aW9uIEJjKHQsZSxpKXtsZXQgbj1pO2lmKGN0KGkpKXtuPVBjKHt9LEZhKHQsZSksaSl9T2ModCxlLG4pfWNsYXNzIHpjIGV4dGVuZHMgenN7Y29uc3RydWN0b3IodCxlLGksbil7c3VwZXIodCk7dGhpcy5uYW1lPWU7dGhpcy5fYXR0cnM9TGMoaSk7dGhpcy5fY2hpbGRyZW49W107aWYobil7dGhpcy5faW5zZXJ0Q2hpbGQoMCxuKX10aGlzLl9jbGFzc2VzPW5ldyBTZXQ7aWYodGhpcy5fYXR0cnMuaGFzKFwiY2xhc3NcIikpe2NvbnN0IHQ9dGhpcy5fYXR0cnMuZ2V0KFwiY2xhc3NcIik7RmModGhpcy5fY2xhc3Nlcyx0KTt0aGlzLl9hdHRycy5kZWxldGUoXCJjbGFzc1wiKX10aGlzLl9zdHlsZXM9bmV3IEljKHRoaXMuZG9jdW1lbnQuc3R5bGVzUHJvY2Vzc29yKTtpZih0aGlzLl9hdHRycy5oYXMoXCJzdHlsZVwiKSl7dGhpcy5fc3R5bGVzLnNldFRvKHRoaXMuX2F0dHJzLmdldChcInN0eWxlXCIpKTt0aGlzLl9hdHRycy5kZWxldGUoXCJzdHlsZVwiKX10aGlzLl9jdXN0b21Qcm9wZXJ0aWVzPW5ldyBNYXB9Z2V0IGNoaWxkQ291bnQoKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ubGVuZ3RofWdldCBpc0VtcHR5KCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmxlbmd0aD09PTB9aXModCxlPW51bGwpe2NvbnN0IGk9dC5yZXBsYWNlKC9edmlldzovLFwiXCIpO2lmKCFlKXtyZXR1cm4gaT09XCJlbGVtZW50XCJ8fGk9PXRoaXMubmFtZXx8c3VwZXIuaXModCl9ZWxzZXtyZXR1cm4gaT09XCJlbGVtZW50XCImJmU9PXRoaXMubmFtZX19Z2V0Q2hpbGQodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW3RdfWdldENoaWxkSW5kZXgodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmluZGV4T2YodCl9Z2V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpfSpnZXRBdHRyaWJ1dGVLZXlzKCl7aWYodGhpcy5fY2xhc3Nlcy5zaXplPjApe3lpZWxkXCJjbGFzc1wifWlmKCF0aGlzLl9zdHlsZXMuaXNFbXB0eSl7eWllbGRcInN0eWxlXCJ9eWllbGQqdGhpcy5fYXR0cnMua2V5cygpfSpnZXRBdHRyaWJ1dGVzKCl7eWllbGQqdGhpcy5fYXR0cnMuZW50cmllcygpO2lmKHRoaXMuX2NsYXNzZXMuc2l6ZT4wKXt5aWVsZFtcImNsYXNzXCIsdGhpcy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKV19aWYoIXRoaXMuX3N0eWxlcy5pc0VtcHR5KXt5aWVsZFtcInN0eWxlXCIsdGhpcy5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKV19fWdldEF0dHJpYnV0ZSh0KXtpZih0PT1cImNsYXNzXCIpe2lmKHRoaXMuX2NsYXNzZXMuc2l6ZT4wKXtyZXR1cm5bLi4udGhpcy5fY2xhc3Nlc10uam9pbihcIiBcIil9cmV0dXJuIHVuZGVmaW5lZH1pZih0PT1cInN0eWxlXCIpe2NvbnN0IHQ9dGhpcy5fc3R5bGVzLnRvU3RyaW5nKCk7cmV0dXJuIHQ9PVwiXCI/dW5kZWZpbmVkOnR9cmV0dXJuIHRoaXMuX2F0dHJzLmdldCh0KX1oYXNBdHRyaWJ1dGUodCl7aWYodD09XCJjbGFzc1wiKXtyZXR1cm4gdGhpcy5fY2xhc3Nlcy5zaXplPjB9aWYodD09XCJzdHlsZVwiKXtyZXR1cm4hdGhpcy5fc3R5bGVzLmlzRW1wdHl9cmV0dXJuIHRoaXMuX2F0dHJzLmhhcyh0KX1pc1NpbWlsYXIodCl7aWYoISh0IGluc3RhbmNlb2YgemMpKXtyZXR1cm4gZmFsc2V9aWYodGhpcz09PXQpe3JldHVybiB0cnVlfWlmKHRoaXMubmFtZSE9dC5uYW1lKXtyZXR1cm4gZmFsc2V9aWYodGhpcy5fYXR0cnMuc2l6ZSE9PXQuX2F0dHJzLnNpemV8fHRoaXMuX2NsYXNzZXMuc2l6ZSE9PXQuX2NsYXNzZXMuc2l6ZXx8dGhpcy5fc3R5bGVzLnNpemUhPT10Ll9zdHlsZXMuc2l6ZSl7cmV0dXJuIGZhbHNlfWZvcihjb25zdFtlLGldb2YgdGhpcy5fYXR0cnMpe2lmKCF0Ll9hdHRycy5oYXMoZSl8fHQuX2F0dHJzLmdldChlKSE9PWkpe3JldHVybiBmYWxzZX19Zm9yKGNvbnN0IGUgb2YgdGhpcy5fY2xhc3Nlcyl7aWYoIXQuX2NsYXNzZXMuaGFzKGUpKXtyZXR1cm4gZmFsc2V9fWZvcihjb25zdCBlIG9mIHRoaXMuX3N0eWxlcy5nZXRTdHlsZU5hbWVzKCkpe2lmKCF0Ll9zdHlsZXMuaGFzKGUpfHx0Ll9zdHlsZXMuZ2V0QXNTdHJpbmcoZSkhPT10aGlzLl9zdHlsZXMuZ2V0QXNTdHJpbmcoZSkpe3JldHVybiBmYWxzZX19cmV0dXJuIHRydWV9aGFzQ2xhc3MoLi4udCl7Zm9yKGNvbnN0IGUgb2YgdCl7aWYoIXRoaXMuX2NsYXNzZXMuaGFzKGUpKXtyZXR1cm4gZmFsc2V9fXJldHVybiB0cnVlfWdldENsYXNzTmFtZXMoKXtyZXR1cm4gdGhpcy5fY2xhc3Nlcy5rZXlzKCl9Z2V0U3R5bGUodCl7cmV0dXJuIHRoaXMuX3N0eWxlcy5nZXRBc1N0cmluZyh0KX1nZXROb3JtYWxpemVkU3R5bGUodCl7cmV0dXJuIHRoaXMuX3N0eWxlcy5nZXROb3JtYWxpemVkKHQpfWdldFN0eWxlTmFtZXMoKXtyZXR1cm4gdGhpcy5fc3R5bGVzLmdldFN0eWxlTmFtZXMoKX1oYXNTdHlsZSguLi50KXtmb3IoY29uc3QgZSBvZiB0KXtpZighdGhpcy5fc3R5bGVzLmhhcyhlKSl7cmV0dXJuIGZhbHNlfX1yZXR1cm4gdHJ1ZX1maW5kQW5jZXN0b3IoLi4udCl7Y29uc3QgZT1uZXcgV3MoLi4udCk7bGV0IGk9dGhpcy5wYXJlbnQ7d2hpbGUoaSl7aWYoZS5tYXRjaChpKSl7cmV0dXJuIGl9aT1pLnBhcmVudH1yZXR1cm4gbnVsbH1nZXRDdXN0b21Qcm9wZXJ0eSh0KXtyZXR1cm4gdGhpcy5fY3VzdG9tUHJvcGVydGllcy5nZXQodCl9KmdldEN1c3RvbVByb3BlcnRpZXMoKXt5aWVsZCp0aGlzLl9jdXN0b21Qcm9wZXJ0aWVzLmVudHJpZXMoKX1nZXRJZGVudGl0eSgpe2NvbnN0IHQ9QXJyYXkuZnJvbSh0aGlzLl9jbGFzc2VzKS5zb3J0KCkuam9pbihcIixcIik7Y29uc3QgZT10aGlzLl9zdHlsZXMudG9TdHJpbmcoKTtjb25zdCBpPUFycmF5LmZyb20odGhpcy5fYXR0cnMpLm1hcCh0PT5gJHt0WzBdfT1cIiR7dFsxXX1cImApLnNvcnQoKS5qb2luKFwiIFwiKTtyZXR1cm4gdGhpcy5uYW1lKyh0PT1cIlwiP1wiXCI6YCBjbGFzcz1cIiR7dH1cImApKyghZT9cIlwiOmAgc3R5bGU9XCIke2V9XCJgKSsoaT09XCJcIj9cIlwiOmAgJHtpfWApfV9jbG9uZSh0PWZhbHNlKXtjb25zdCBlPVtdO2lmKHQpe2Zvcihjb25zdCBpIG9mIHRoaXMuZ2V0Q2hpbGRyZW4oKSl7ZS5wdXNoKGkuX2Nsb25lKHQpKX19Y29uc3QgaT1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmRvY3VtZW50LHRoaXMubmFtZSx0aGlzLl9hdHRycyxlKTtpLl9jbGFzc2VzPW5ldyBTZXQodGhpcy5fY2xhc3Nlcyk7aS5fc3R5bGVzLnNldCh0aGlzLl9zdHlsZXMuZ2V0Tm9ybWFsaXplZCgpKTtpLl9jdXN0b21Qcm9wZXJ0aWVzPW5ldyBNYXAodGhpcy5fY3VzdG9tUHJvcGVydGllcyk7aS5nZXRGaWxsZXJPZmZzZXQ9dGhpcy5nZXRGaWxsZXJPZmZzZXQ7cmV0dXJuIGl9X2FwcGVuZENoaWxkKHQpe3JldHVybiB0aGlzLl9pbnNlcnRDaGlsZCh0aGlzLmNoaWxkQ291bnQsdCl9X2luc2VydENoaWxkKHQsZSl7dGhpcy5fZmlyZUNoYW5nZShcImNoaWxkcmVuXCIsdGhpcyk7bGV0IGk9MDtjb25zdCBuPURjKHRoaXMuZG9jdW1lbnQsZSk7Zm9yKGNvbnN0IGUgb2Ygbil7aWYoZS5wYXJlbnQhPT1udWxsKXtlLl9yZW1vdmUoKX1lLnBhcmVudD10aGlzO2UuZG9jdW1lbnQ9dGhpcy5kb2N1bWVudDt0aGlzLl9jaGlsZHJlbi5zcGxpY2UodCwwLGUpO3QrKztpKyt9cmV0dXJuIGl9X3JlbW92ZUNoaWxkcmVuKHQsZT0xKXt0aGlzLl9maXJlQ2hhbmdlKFwiY2hpbGRyZW5cIix0aGlzKTtmb3IobGV0IGk9dDtpPHQrZTtpKyspe3RoaXMuX2NoaWxkcmVuW2ldLnBhcmVudD1udWxsfXJldHVybiB0aGlzLl9jaGlsZHJlbi5zcGxpY2UodCxlKX1fc2V0QXR0cmlidXRlKHQsZSl7ZT1TdHJpbmcoZSk7dGhpcy5fZmlyZUNoYW5nZShcImF0dHJpYnV0ZXNcIix0aGlzKTtpZih0PT1cImNsYXNzXCIpe0ZjKHRoaXMuX2NsYXNzZXMsZSl9ZWxzZSBpZih0PT1cInN0eWxlXCIpe3RoaXMuX3N0eWxlcy5zZXRUbyhlKX1lbHNle3RoaXMuX2F0dHJzLnNldCh0LGUpfX1fcmVtb3ZlQXR0cmlidXRlKHQpe3RoaXMuX2ZpcmVDaGFuZ2UoXCJhdHRyaWJ1dGVzXCIsdGhpcyk7aWYodD09XCJjbGFzc1wiKXtpZih0aGlzLl9jbGFzc2VzLnNpemU+MCl7dGhpcy5fY2xhc3Nlcy5jbGVhcigpO3JldHVybiB0cnVlfXJldHVybiBmYWxzZX1pZih0PT1cInN0eWxlXCIpe2lmKCF0aGlzLl9zdHlsZXMuaXNFbXB0eSl7dGhpcy5fc3R5bGVzLmNsZWFyKCk7cmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfXJldHVybiB0aGlzLl9hdHRycy5kZWxldGUodCl9X2FkZENsYXNzKHQpe3RoaXMuX2ZpcmVDaGFuZ2UoXCJhdHRyaWJ1dGVzXCIsdGhpcyk7dD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO3QuZm9yRWFjaCh0PT50aGlzLl9jbGFzc2VzLmFkZCh0KSl9X3JlbW92ZUNsYXNzKHQpe3RoaXMuX2ZpcmVDaGFuZ2UoXCJhdHRyaWJ1dGVzXCIsdGhpcyk7dD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO3QuZm9yRWFjaCh0PT50aGlzLl9jbGFzc2VzLmRlbGV0ZSh0KSl9X3NldFN0eWxlKHQsZSl7dGhpcy5fZmlyZUNoYW5nZShcImF0dHJpYnV0ZXNcIix0aGlzKTt0aGlzLl9zdHlsZXMuc2V0KHQsZSl9X3JlbW92ZVN0eWxlKHQpe3RoaXMuX2ZpcmVDaGFuZ2UoXCJhdHRyaWJ1dGVzXCIsdGhpcyk7dD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO3QuZm9yRWFjaCh0PT50aGlzLl9zdHlsZXMucmVtb3ZlKHQpKX1fc2V0Q3VzdG9tUHJvcGVydHkodCxlKXt0aGlzLl9jdXN0b21Qcm9wZXJ0aWVzLnNldCh0LGUpfV9yZW1vdmVDdXN0b21Qcm9wZXJ0eSh0KXtyZXR1cm4gdGhpcy5fY3VzdG9tUHJvcGVydGllcy5kZWxldGUodCl9fWZ1bmN0aW9uIExjKHQpe3Q9SHModCk7Zm9yKGNvbnN0W2UsaV1vZiB0KXtpZihpPT09bnVsbCl7dC5kZWxldGUoZSl9ZWxzZSBpZih0eXBlb2YgaSE9XCJzdHJpbmdcIil7dC5zZXQoZSxTdHJpbmcoaSkpfX1yZXR1cm4gdH1mdW5jdGlvbiBGYyh0LGUpe2NvbnN0IGk9ZS5zcGxpdCgvXFxzKy8pO3QuY2xlYXIoKTtpLmZvckVhY2goZT0+dC5hZGQoZSkpfWZ1bmN0aW9uIERjKHQsZSl7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpe3JldHVybltuZXcgTHModCxlKV19aWYoIWpzKGUpKXtlPVtlXX1yZXR1cm4gQXJyYXkuZnJvbShlKS5tYXAoZT0+e2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXtyZXR1cm4gbmV3IExzKHQsZSl9aWYoZSBpbnN0YW5jZW9mIEZzKXtyZXR1cm4gbmV3IExzKHQsZS5kYXRhKX1yZXR1cm4gZX0pfWNsYXNzIGpjIGV4dGVuZHMgemN7Y29uc3RydWN0b3IodCxlLGksbil7c3VwZXIodCxlLGksbik7dGhpcy5nZXRGaWxsZXJPZmZzZXQ9SGN9aXModCxlPW51bGwpe2NvbnN0IGk9dCYmdC5yZXBsYWNlKC9edmlldzovLFwiXCIpO2lmKCFlKXtyZXR1cm4gaT09XCJjb250YWluZXJFbGVtZW50XCJ8fHN1cGVyLmlzKHQpfWVsc2V7cmV0dXJuIGk9PVwiY29udGFpbmVyRWxlbWVudFwiJiZlPT10aGlzLm5hbWV8fHN1cGVyLmlzKHQsZSl9fX1mdW5jdGlvbiBIYygpe2NvbnN0IHQ9Wy4uLnRoaXMuZ2V0Q2hpbGRyZW4oKV07Y29uc3QgZT10W3RoaXMuY2hpbGRDb3VudC0xXTtpZihlJiZlLmlzKFwiZWxlbWVudFwiLFwiYnJcIikpe3JldHVybiB0aGlzLmNoaWxkQ291bnR9Zm9yKGNvbnN0IGUgb2YgdCl7aWYoIWUuaXMoXCJ1aUVsZW1lbnRcIikpe3JldHVybiBudWxsfX1yZXR1cm4gdGhpcy5jaGlsZENvdW50fXZhciBXYz1BYygoZnVuY3Rpb24odCxlKXt6ZShlLGRuKGUpLHQpfSkpO3ZhciBxYz1XYztjb25zdCBVYz1TeW1ib2woXCJvYnNlcnZhYmxlUHJvcGVydGllc1wiKTtjb25zdCAkYz1TeW1ib2woXCJib3VuZE9ic2VydmFibGVzXCIpO2NvbnN0IEdjPVN5bWJvbChcImJvdW5kUHJvcGVydGllc1wiKTtjb25zdCBLYz17c2V0KHQsZSl7aWYoY3QodCkpe09iamVjdC5rZXlzKHQpLmZvckVhY2goZT0+e3RoaXMuc2V0KGUsdFtlXSl9LHRoaXMpO3JldHVybn1ZYyh0aGlzKTtjb25zdCBpPXRoaXNbVWNdO2lmKHQgaW4gdGhpcyYmIWkuaGFzKHQpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwib2JzZXJ2YWJsZS1zZXQtY2Fubm90LW92ZXJyaWRlOiBDYW5ub3Qgb3ZlcnJpZGUgYW4gZXhpc3RpbmcgcHJvcGVydHkuXCIsdGhpcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlLGdldCgpe3JldHVybiBpLmdldCh0KX0sc2V0KGUpe2NvbnN0IG49aS5nZXQodCk7bGV0IG89dGhpcy5maXJlKFwic2V0OlwiK3QsdCxlLG4pO2lmKG89PT11bmRlZmluZWQpe289ZX1pZihuIT09b3x8IWkuaGFzKHQpKXtpLnNldCh0LG8pO3RoaXMuZmlyZShcImNoYW5nZTpcIit0LHQsbyxuKX19fSk7dGhpc1t0XT1lfSxiaW5kKC4uLnQpe2lmKCF0Lmxlbmd0aHx8IXRsKHQpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwib2JzZXJ2YWJsZS1iaW5kLXdyb25nLXByb3BlcnRpZXM6IEFsbCBwcm9wZXJ0aWVzIG11c3QgYmUgc3RyaW5ncy5cIix0aGlzKX1pZihuZXcgU2V0KHQpLnNpemUhPT10Lmxlbmd0aCl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIm9ic2VydmFibGUtYmluZC1kdXBsaWNhdGUtcHJvcGVydGllczogUHJvcGVydGllcyBtdXN0IGJlIHVuaXF1ZS5cIix0aGlzKX1ZYyh0aGlzKTtjb25zdCBlPXRoaXNbR2NdO3QuZm9yRWFjaCh0PT57aWYoZS5oYXModCkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJvYnNlcnZhYmxlLWJpbmQtcmViaW5kOiBDYW5ub3QgYmluZCB0aGUgc2FtZSBwcm9wZXJ0eSBtb3JlIHRoYW4gb25jZS5cIix0aGlzKX19KTtjb25zdCBpPW5ldyBNYXA7dC5mb3JFYWNoKHQ9Pntjb25zdCBuPXtwcm9wZXJ0eTp0LHRvOltdfTtlLnNldCh0LG4pO2kuc2V0KHQsbil9KTtyZXR1cm57dG86UWMsdG9NYW55OlhjLF9vYnNlcnZhYmxlOnRoaXMsX2JpbmRQcm9wZXJ0aWVzOnQsX3RvOltdLF9iaW5kaW5nczppfX0sdW5iaW5kKC4uLnQpe2lmKCEoVWMgaW4gdGhpcykpe3JldHVybn1jb25zdCBlPXRoaXNbR2NdO2NvbnN0IGk9dGhpc1skY107aWYodC5sZW5ndGgpe2lmKCF0bCh0KSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIm9ic2VydmFibGUtdW5iaW5kLXdyb25nLXByb3BlcnRpZXM6IFByb3BlcnRpZXMgbXVzdCBiZSBzdHJpbmdzLlwiLHRoaXMpfXQuZm9yRWFjaCh0PT57Y29uc3Qgbj1lLmdldCh0KTtpZighbil7cmV0dXJufWxldCBvLHIscyxhO24udG8uZm9yRWFjaCh0PT57bz10WzBdO3I9dFsxXTtzPWkuZ2V0KG8pO2E9c1tyXTthLmRlbGV0ZShuKTtpZighYS5zaXplKXtkZWxldGUgc1tyXX1pZighT2JqZWN0LmtleXMocykubGVuZ3RoKXtpLmRlbGV0ZShvKTt0aGlzLnN0b3BMaXN0ZW5pbmcobyxcImNoYW5nZVwiKX19KTtlLmRlbGV0ZSh0KX0pfWVsc2V7aS5mb3JFYWNoKCh0LGUpPT57dGhpcy5zdG9wTGlzdGVuaW5nKGUsXCJjaGFuZ2VcIil9KTtpLmNsZWFyKCk7ZS5jbGVhcigpfX0sZGVjb3JhdGUodCl7Y29uc3QgZT10aGlzW3RdO2lmKCFlKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwib2JzZXJ2YWJsZW1peGluLWNhbm5vdC1kZWNvcmF0ZS11bmRlZmluZWQ6IENhbm5vdCBkZWNvcmF0ZSBhbiB1bmRlZmluZWQgbWV0aG9kLlwiLHRoaXMse29iamVjdDp0aGlzLG1ldGhvZE5hbWU6dH0pfXRoaXMub24odCwodCxpKT0+e3QucmV0dXJuPWUuYXBwbHkodGhpcyxpKX0pO3RoaXNbdF09ZnVuY3Rpb24oLi4uZSl7cmV0dXJuIHRoaXMuZmlyZSh0LGUpfX19O3FjKEtjLGRzKTt2YXIgSmM9S2M7ZnVuY3Rpb24gWWModCl7aWYoVWMgaW4gdCl7cmV0dXJufU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFVjLHt2YWx1ZTpuZXcgTWFwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsJGMse3ZhbHVlOm5ldyBNYXB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxHYyx7dmFsdWU6bmV3IE1hcH0pfWZ1bmN0aW9uIFFjKC4uLnQpe2NvbnN0IGU9ZWwoLi4udCk7Y29uc3QgaT1BcnJheS5mcm9tKHRoaXMuX2JpbmRpbmdzLmtleXMoKSk7Y29uc3Qgbj1pLmxlbmd0aDtpZighZS5jYWxsYmFjayYmZS50by5sZW5ndGg+MSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIm9ic2VydmFibGUtYmluZC10by1uby1jYWxsYmFjazogQmluZGluZyBtdWx0aXBsZSBvYnNlcnZhYmxlcyBvbmx5IHBvc3NpYmxlIHdpdGggY2FsbGJhY2suXCIsdGhpcyl9aWYobj4xJiZlLmNhbGxiYWNrKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwib2JzZXJ2YWJsZS1iaW5kLXRvLWV4dHJhLWNhbGxiYWNrOiBDYW5ub3QgYmluZCBtdWx0aXBsZSBwcm9wZXJ0aWVzIGFuZCB1c2UgYSBjYWxsYmFjayBpbiBvbmUgYmluZGluZy5cIix0aGlzKX1lLnRvLmZvckVhY2godD0+e2lmKHQucHJvcGVydGllcy5sZW5ndGgmJnQucHJvcGVydGllcy5sZW5ndGghPT1uKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwib2JzZXJ2YWJsZS1iaW5kLXRvLXByb3BlcnRpZXMtbGVuZ3RoOiBUaGUgbnVtYmVyIG9mIHByb3BlcnRpZXMgbXVzdCBtYXRjaC5cIix0aGlzKX1pZighdC5wcm9wZXJ0aWVzLmxlbmd0aCl7dC5wcm9wZXJ0aWVzPXRoaXMuX2JpbmRQcm9wZXJ0aWVzfX0pO3RoaXMuX3RvPWUudG87aWYoZS5jYWxsYmFjayl7dGhpcy5fYmluZGluZ3MuZ2V0KGlbMF0pLmNhbGxiYWNrPWUuY2FsbGJhY2t9cmwodGhpcy5fb2JzZXJ2YWJsZSx0aGlzLl90byk7bmwodGhpcyk7dGhpcy5fYmluZFByb3BlcnRpZXMuZm9yRWFjaCh0PT57b2wodGhpcy5fb2JzZXJ2YWJsZSx0KX0pfWZ1bmN0aW9uIFhjKHQsZSxpKXtpZih0aGlzLl9iaW5kaW5ncy5zaXplPjEpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJvYnNlcnZhYmxlLWJpbmQtdG8tbWFueS1ub3Qtb25lLWJpbmRpbmc6IENhbm5vdCBiaW5kIG11bHRpcGxlIHByb3BlcnRpZXMgd2l0aCB0b01hbnkoKS5cIix0aGlzKX10aGlzLnRvKC4uLlpjKHQsZSksaSl9ZnVuY3Rpb24gWmModCxlKXtjb25zdCBpPXQubWFwKHQ9Plt0LGVdKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSxpKX1mdW5jdGlvbiB0bCh0KXtyZXR1cm4gdC5ldmVyeSh0PT50eXBlb2YgdD09XCJzdHJpbmdcIil9ZnVuY3Rpb24gZWwoLi4udCl7aWYoIXQubGVuZ3RoKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwib2JzZXJ2YWJsZS1iaW5kLXRvLXBhcnNlLWVycm9yOiBJbnZhbGlkIGFyZ3VtZW50IHN5bnRheCBpbiBgdG8oKWAuXCIsbnVsbCl9Y29uc3QgZT17dG86W119O2xldCBpO2lmKHR5cGVvZiB0W3QubGVuZ3RoLTFdPT1cImZ1bmN0aW9uXCIpe2UuY2FsbGJhY2s9dC5wb3AoKX10LmZvckVhY2godD0+e2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXtpLnByb3BlcnRpZXMucHVzaCh0KX1lbHNlIGlmKHR5cGVvZiB0PT1cIm9iamVjdFwiKXtpPXtvYnNlcnZhYmxlOnQscHJvcGVydGllczpbXX07ZS50by5wdXNoKGkpfWVsc2V7dGhyb3cgbmV3IHNzW1wiYlwiXShcIm9ic2VydmFibGUtYmluZC10by1wYXJzZS1lcnJvcjogSW52YWxpZCBhcmd1bWVudCBzeW50YXggaW4gYHRvKClgLlwiLG51bGwpfX0pO3JldHVybiBlfWZ1bmN0aW9uIGlsKHQsZSxpLG4pe2NvbnN0IG89dFskY107Y29uc3Qgcj1vLmdldChpKTtjb25zdCBzPXJ8fHt9O2lmKCFzW25dKXtzW25dPW5ldyBTZXR9c1tuXS5hZGQoZSk7aWYoIXIpe28uc2V0KGkscyl9fWZ1bmN0aW9uIG5sKHQpe2xldCBlO3QuX2JpbmRpbmdzLmZvckVhY2goKGksbik9Pnt0Ll90by5mb3JFYWNoKG89PntlPW8ucHJvcGVydGllc1tpLmNhbGxiYWNrPzA6dC5fYmluZFByb3BlcnRpZXMuaW5kZXhPZihuKV07aS50by5wdXNoKFtvLm9ic2VydmFibGUsZV0pO2lsKHQuX29ic2VydmFibGUsaSxvLm9ic2VydmFibGUsZSl9KX0pfWZ1bmN0aW9uIG9sKHQsZSl7Y29uc3QgaT10W0djXTtjb25zdCBuPWkuZ2V0KGUpO2xldCBvO2lmKG4uY2FsbGJhY2spe289bi5jYWxsYmFjay5hcHBseSh0LG4udG8ubWFwKHQ9PnRbMF1bdFsxXV0pKX1lbHNle289bi50b1swXTtvPW9bMF1bb1sxXV19aWYodC5oYXNPd25Qcm9wZXJ0eShlKSl7dFtlXT1vfWVsc2V7dC5zZXQoZSxvKX19ZnVuY3Rpb24gcmwodCxlKXtlLmZvckVhY2goZT0+e2NvbnN0IGk9dFskY107bGV0IG47aWYoIWkuZ2V0KGUub2JzZXJ2YWJsZSkpe3QubGlzdGVuVG8oZS5vYnNlcnZhYmxlLFwiY2hhbmdlXCIsKG8scik9PntuPWkuZ2V0KGUub2JzZXJ2YWJsZSlbcl07aWYobil7bi5mb3JFYWNoKGU9PntvbCh0LGUucHJvcGVydHkpfSl9fSl9fSl9Y2xhc3Mgc2wgZXh0ZW5kcyBqY3tjb25zdHJ1Y3Rvcih0LGUsaSxuKXtzdXBlcih0LGUsaSxuKTt0aGlzLnNldChcImlzUmVhZE9ubHlcIixmYWxzZSk7dGhpcy5zZXQoXCJpc0ZvY3VzZWRcIixmYWxzZSk7dGhpcy5iaW5kKFwiaXNSZWFkT25seVwiKS50byh0KTt0aGlzLmJpbmQoXCJpc0ZvY3VzZWRcIikudG8odCxcImlzRm9jdXNlZFwiLGU9PmUmJnQuc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudD09dGhpcyk7dGhpcy5saXN0ZW5Ubyh0LnNlbGVjdGlvbixcImNoYW5nZVwiLCgpPT57dGhpcy5pc0ZvY3VzZWQ9dC5pc0ZvY3VzZWQmJnQuc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudD09dGhpc30pfWlzKHQsZT1udWxsKXtjb25zdCBpPXQmJnQucmVwbGFjZSgvXnZpZXc6LyxcIlwiKTtpZighZSl7cmV0dXJuIGk9PVwiZWRpdGFibGVFbGVtZW50XCJ8fHN1cGVyLmlzKHQpfWVsc2V7cmV0dXJuIGk9PVwiZWRpdGFibGVFbGVtZW50XCImJmU9PXRoaXMubmFtZXx8c3VwZXIuaXModCxlKX19ZGVzdHJveSgpe3RoaXMuc3RvcExpc3RlbmluZygpfX12cyhzbCxKYyk7Y29uc3QgYWw9U3ltYm9sKFwicm9vdE5hbWVcIik7Y2xhc3MgY2wgZXh0ZW5kcyBzbHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSk7dGhpcy5yb290TmFtZT1cIm1haW5cIn1pcyh0LGU9bnVsbCl7Y29uc3QgaT10LnJlcGxhY2UoL152aWV3Oi8sXCJcIik7aWYoIWUpe3JldHVybiBpPT1cInJvb3RFbGVtZW50XCJ8fHN1cGVyLmlzKHQpfWVsc2V7cmV0dXJuIGk9PVwicm9vdEVsZW1lbnRcIiYmZT09dGhpcy5uYW1lfHxzdXBlci5pcyh0LGUpfX1nZXQgcm9vdE5hbWUoKXtyZXR1cm4gdGhpcy5nZXRDdXN0b21Qcm9wZXJ0eShhbCl9c2V0IHJvb3ROYW1lKHQpe3RoaXMuX3NldEN1c3RvbVByb3BlcnR5KGFsLHQpfXNldCBfbmFtZSh0KXt0aGlzLm5hbWU9dH19Y2xhc3MgbGx7Y29uc3RydWN0b3IodD17fSl7aWYoIXQuYm91bmRhcmllcyYmIXQuc3RhcnRQb3NpdGlvbil7dGhyb3cgbmV3IHNzW1wiYlwiXShcInZpZXctdHJlZS13YWxrZXItbm8tc3RhcnQtcG9zaXRpb246IE5laXRoZXIgYm91bmRhcmllcyBub3Igc3RhcnRpbmcgcG9zaXRpb24gaGF2ZSBiZWVuIGRlZmluZWQuXCIsbnVsbCl9aWYodC5kaXJlY3Rpb24mJnQuZGlyZWN0aW9uIT1cImZvcndhcmRcIiYmdC5kaXJlY3Rpb24hPVwiYmFja3dhcmRcIil7dGhyb3cgbmV3IHNzW1wiYlwiXShcInZpZXctdHJlZS13YWxrZXItdW5rbm93bi1kaXJlY3Rpb246IE9ubHkgYGJhY2t3YXJkYCBhbmQgYGZvcndhcmRgIGRpcmVjdGlvbiBhbGxvd2VkLlwiLHQuc3RhcnRQb3NpdGlvbix7ZGlyZWN0aW9uOnQuZGlyZWN0aW9ufSl9dGhpcy5ib3VuZGFyaWVzPXQuYm91bmRhcmllc3x8bnVsbDtpZih0LnN0YXJ0UG9zaXRpb24pe3RoaXMucG9zaXRpb249ZGwuX2NyZWF0ZUF0KHQuc3RhcnRQb3NpdGlvbil9ZWxzZXt0aGlzLnBvc2l0aW9uPWRsLl9jcmVhdGVBdCh0LmJvdW5kYXJpZXNbdC5kaXJlY3Rpb249PVwiYmFja3dhcmRcIj9cImVuZFwiOlwic3RhcnRcIl0pfXRoaXMuZGlyZWN0aW9uPXQuZGlyZWN0aW9ufHxcImZvcndhcmRcIjt0aGlzLnNpbmdsZUNoYXJhY3RlcnM9ISF0LnNpbmdsZUNoYXJhY3RlcnM7dGhpcy5zaGFsbG93PSEhdC5zaGFsbG93O3RoaXMuaWdub3JlRWxlbWVudEVuZD0hIXQuaWdub3JlRWxlbWVudEVuZDt0aGlzLl9ib3VuZGFyeVN0YXJ0UGFyZW50PXRoaXMuYm91bmRhcmllcz90aGlzLmJvdW5kYXJpZXMuc3RhcnQucGFyZW50Om51bGw7dGhpcy5fYm91bmRhcnlFbmRQYXJlbnQ9dGhpcy5ib3VuZGFyaWVzP3RoaXMuYm91bmRhcmllcy5lbmQucGFyZW50Om51bGx9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpc31za2lwKHQpe2xldCBlLGksbjtkb3tuPXRoaXMucG9zaXRpb247KHtkb25lOmUsdmFsdWU6aX09dGhpcy5uZXh0KCkpfXdoaWxlKCFlJiZ0KGkpKTtpZighZSl7dGhpcy5wb3NpdGlvbj1ufX1uZXh0KCl7aWYodGhpcy5kaXJlY3Rpb249PVwiZm9yd2FyZFwiKXtyZXR1cm4gdGhpcy5fbmV4dCgpfWVsc2V7cmV0dXJuIHRoaXMuX3ByZXZpb3VzKCl9fV9uZXh0KCl7bGV0IHQ9dGhpcy5wb3NpdGlvbi5jbG9uZSgpO2NvbnN0IGU9dGhpcy5wb3NpdGlvbjtjb25zdCBpPXQucGFyZW50O2lmKGkucGFyZW50PT09bnVsbCYmdC5vZmZzZXQ9PT1pLmNoaWxkQ291bnQpe3JldHVybntkb25lOnRydWV9fWlmKGk9PT10aGlzLl9ib3VuZGFyeUVuZFBhcmVudCYmdC5vZmZzZXQ9PXRoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0KXtyZXR1cm57ZG9uZTp0cnVlfX1sZXQgbjtpZihpIGluc3RhbmNlb2YgTHMpe2lmKHQuaXNBdEVuZCl7dGhpcy5wb3NpdGlvbj1kbC5fY3JlYXRlQWZ0ZXIoaSk7cmV0dXJuIHRoaXMuX25leHQoKX1uPWkuZGF0YVt0Lm9mZnNldF19ZWxzZXtuPWkuZ2V0Q2hpbGQodC5vZmZzZXQpfWlmKG4gaW5zdGFuY2VvZiB6Yyl7aWYoIXRoaXMuc2hhbGxvdyl7dD1uZXcgZGwobiwwKX1lbHNle3Qub2Zmc2V0Kyt9dGhpcy5wb3NpdGlvbj10O3JldHVybiB0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZShcImVsZW1lbnRTdGFydFwiLG4sZSx0LDEpfWVsc2UgaWYobiBpbnN0YW5jZW9mIExzKXtpZih0aGlzLnNpbmdsZUNoYXJhY3RlcnMpe3Q9bmV3IGRsKG4sMCk7dGhpcy5wb3NpdGlvbj10O3JldHVybiB0aGlzLl9uZXh0KCl9ZWxzZXtsZXQgaT1uLmRhdGEubGVuZ3RoO2xldCBvO2lmKG49PXRoaXMuX2JvdW5kYXJ5RW5kUGFyZW50KXtpPXRoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0O289bmV3IEZzKG4sMCxpKTt0PWRsLl9jcmVhdGVBZnRlcihvKX1lbHNle289bmV3IEZzKG4sMCxuLmRhdGEubGVuZ3RoKTt0Lm9mZnNldCsrfXRoaXMucG9zaXRpb249dDtyZXR1cm4gdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoXCJ0ZXh0XCIsbyxlLHQsaSl9fWVsc2UgaWYodHlwZW9mIG49PVwic3RyaW5nXCIpe2xldCBuO2lmKHRoaXMuc2luZ2xlQ2hhcmFjdGVycyl7bj0xfWVsc2V7Y29uc3QgZT1pPT09dGhpcy5fYm91bmRhcnlFbmRQYXJlbnQ/dGhpcy5ib3VuZGFyaWVzLmVuZC5vZmZzZXQ6aS5kYXRhLmxlbmd0aDtuPWUtdC5vZmZzZXR9Y29uc3Qgbz1uZXcgRnMoaSx0Lm9mZnNldCxuKTt0Lm9mZnNldCs9bjt0aGlzLnBvc2l0aW9uPXQ7cmV0dXJuIHRoaXMuX2Zvcm1hdFJldHVyblZhbHVlKFwidGV4dFwiLG8sZSx0LG4pfWVsc2V7dD1kbC5fY3JlYXRlQWZ0ZXIoaSk7dGhpcy5wb3NpdGlvbj10O2lmKHRoaXMuaWdub3JlRWxlbWVudEVuZCl7cmV0dXJuIHRoaXMuX25leHQoKX1lbHNle3JldHVybiB0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZShcImVsZW1lbnRFbmRcIixpLGUsdCl9fX1fcHJldmlvdXMoKXtsZXQgdD10aGlzLnBvc2l0aW9uLmNsb25lKCk7Y29uc3QgZT10aGlzLnBvc2l0aW9uO2NvbnN0IGk9dC5wYXJlbnQ7aWYoaS5wYXJlbnQ9PT1udWxsJiZ0Lm9mZnNldD09PTApe3JldHVybntkb25lOnRydWV9fWlmKGk9PXRoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQmJnQub2Zmc2V0PT10aGlzLmJvdW5kYXJpZXMuc3RhcnQub2Zmc2V0KXtyZXR1cm57ZG9uZTp0cnVlfX1sZXQgbjtpZihpIGluc3RhbmNlb2YgTHMpe2lmKHQuaXNBdFN0YXJ0KXt0aGlzLnBvc2l0aW9uPWRsLl9jcmVhdGVCZWZvcmUoaSk7cmV0dXJuIHRoaXMuX3ByZXZpb3VzKCl9bj1pLmRhdGFbdC5vZmZzZXQtMV19ZWxzZXtuPWkuZ2V0Q2hpbGQodC5vZmZzZXQtMSl9aWYobiBpbnN0YW5jZW9mIHpjKXtpZighdGhpcy5zaGFsbG93KXt0PW5ldyBkbChuLG4uY2hpbGRDb3VudCk7dGhpcy5wb3NpdGlvbj10O2lmKHRoaXMuaWdub3JlRWxlbWVudEVuZCl7cmV0dXJuIHRoaXMuX3ByZXZpb3VzKCl9ZWxzZXtyZXR1cm4gdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoXCJlbGVtZW50RW5kXCIsbixlLHQpfX1lbHNle3Qub2Zmc2V0LS07dGhpcy5wb3NpdGlvbj10O3JldHVybiB0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZShcImVsZW1lbnRTdGFydFwiLG4sZSx0LDEpfX1lbHNlIGlmKG4gaW5zdGFuY2VvZiBMcyl7aWYodGhpcy5zaW5nbGVDaGFyYWN0ZXJzKXt0PW5ldyBkbChuLG4uZGF0YS5sZW5ndGgpO3RoaXMucG9zaXRpb249dDtyZXR1cm4gdGhpcy5fcHJldmlvdXMoKX1lbHNle2xldCBpPW4uZGF0YS5sZW5ndGg7bGV0IG87aWYobj09dGhpcy5fYm91bmRhcnlTdGFydFBhcmVudCl7Y29uc3QgZT10aGlzLmJvdW5kYXJpZXMuc3RhcnQub2Zmc2V0O289bmV3IEZzKG4sZSxuLmRhdGEubGVuZ3RoLWUpO2k9by5kYXRhLmxlbmd0aDt0PWRsLl9jcmVhdGVCZWZvcmUobyl9ZWxzZXtvPW5ldyBGcyhuLDAsbi5kYXRhLmxlbmd0aCk7dC5vZmZzZXQtLX10aGlzLnBvc2l0aW9uPXQ7cmV0dXJuIHRoaXMuX2Zvcm1hdFJldHVyblZhbHVlKFwidGV4dFwiLG8sZSx0LGkpfX1lbHNlIGlmKHR5cGVvZiBuPT1cInN0cmluZ1wiKXtsZXQgbjtpZighdGhpcy5zaW5nbGVDaGFyYWN0ZXJzKXtjb25zdCBlPWk9PT10aGlzLl9ib3VuZGFyeVN0YXJ0UGFyZW50P3RoaXMuYm91bmRhcmllcy5zdGFydC5vZmZzZXQ6MDtuPXQub2Zmc2V0LWV9ZWxzZXtuPTF9dC5vZmZzZXQtPW47Y29uc3Qgbz1uZXcgRnMoaSx0Lm9mZnNldCxuKTt0aGlzLnBvc2l0aW9uPXQ7cmV0dXJuIHRoaXMuX2Zvcm1hdFJldHVyblZhbHVlKFwidGV4dFwiLG8sZSx0LG4pfWVsc2V7dD1kbC5fY3JlYXRlQmVmb3JlKGkpO3RoaXMucG9zaXRpb249dDtyZXR1cm4gdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoXCJlbGVtZW50U3RhcnRcIixpLGUsdCwxKX19X2Zvcm1hdFJldHVyblZhbHVlKHQsZSxpLG4sbyl7aWYoZSBpbnN0YW5jZW9mIEZzKXtpZihlLm9mZnNldEluVGV4dCtlLmRhdGEubGVuZ3RoPT1lLnRleHROb2RlLmRhdGEubGVuZ3RoKXtpZih0aGlzLmRpcmVjdGlvbj09XCJmb3J3YXJkXCImJiEodGhpcy5ib3VuZGFyaWVzJiZ0aGlzLmJvdW5kYXJpZXMuZW5kLmlzRXF1YWwodGhpcy5wb3NpdGlvbikpKXtuPWRsLl9jcmVhdGVBZnRlcihlLnRleHROb2RlKTt0aGlzLnBvc2l0aW9uPW59ZWxzZXtpPWRsLl9jcmVhdGVBZnRlcihlLnRleHROb2RlKX19aWYoZS5vZmZzZXRJblRleHQ9PT0wKXtpZih0aGlzLmRpcmVjdGlvbj09XCJiYWNrd2FyZFwiJiYhKHRoaXMuYm91bmRhcmllcyYmdGhpcy5ib3VuZGFyaWVzLnN0YXJ0LmlzRXF1YWwodGhpcy5wb3NpdGlvbikpKXtuPWRsLl9jcmVhdGVCZWZvcmUoZS50ZXh0Tm9kZSk7dGhpcy5wb3NpdGlvbj1ufWVsc2V7aT1kbC5fY3JlYXRlQmVmb3JlKGUudGV4dE5vZGUpfX19cmV0dXJue2RvbmU6ZmFsc2UsdmFsdWU6e3R5cGU6dCxpdGVtOmUscHJldmlvdXNQb3NpdGlvbjppLG5leHRQb3NpdGlvbjpuLGxlbmd0aDpvfX19fWNsYXNzIGRse2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5wYXJlbnQ9dDt0aGlzLm9mZnNldD1lfWdldCBub2RlQWZ0ZXIoKXtpZih0aGlzLnBhcmVudC5pcyhcInRleHRcIikpe3JldHVybiBudWxsfXJldHVybiB0aGlzLnBhcmVudC5nZXRDaGlsZCh0aGlzLm9mZnNldCl8fG51bGx9Z2V0IG5vZGVCZWZvcmUoKXtpZih0aGlzLnBhcmVudC5pcyhcInRleHRcIikpe3JldHVybiBudWxsfXJldHVybiB0aGlzLnBhcmVudC5nZXRDaGlsZCh0aGlzLm9mZnNldC0xKXx8bnVsbH1nZXQgaXNBdFN0YXJ0KCl7cmV0dXJuIHRoaXMub2Zmc2V0PT09MH1nZXQgaXNBdEVuZCgpe2NvbnN0IHQ9dGhpcy5wYXJlbnQuaXMoXCJ0ZXh0XCIpP3RoaXMucGFyZW50LmRhdGEubGVuZ3RoOnRoaXMucGFyZW50LmNoaWxkQ291bnQ7cmV0dXJuIHRoaXMub2Zmc2V0PT09dH1nZXQgcm9vdCgpe3JldHVybiB0aGlzLnBhcmVudC5yb290fWdldCBlZGl0YWJsZUVsZW1lbnQoKXtsZXQgdD10aGlzLnBhcmVudDt3aGlsZSghKHQgaW5zdGFuY2VvZiBzbCkpe2lmKHQucGFyZW50KXt0PXQucGFyZW50fWVsc2V7cmV0dXJuIG51bGx9fXJldHVybiB0fWdldFNoaWZ0ZWRCeSh0KXtjb25zdCBlPWRsLl9jcmVhdGVBdCh0aGlzKTtjb25zdCBpPWUub2Zmc2V0K3Q7ZS5vZmZzZXQ9aTwwPzA6aTtyZXR1cm4gZX1nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbih0LGU9e30pe2Uuc3RhcnRQb3NpdGlvbj10aGlzO2NvbnN0IGk9bmV3IGxsKGUpO2kuc2tpcCh0KTtyZXR1cm4gaS5wb3NpdGlvbn1nZXRBbmNlc3RvcnMoKXtpZih0aGlzLnBhcmVudC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIikpe3JldHVyblt0aGlzLnBhcmVudF19ZWxzZXtyZXR1cm4gdGhpcy5wYXJlbnQuZ2V0QW5jZXN0b3JzKHtpbmNsdWRlU2VsZjp0cnVlfSl9fWdldENvbW1vbkFuY2VzdG9yKHQpe2NvbnN0IGU9dGhpcy5nZXRBbmNlc3RvcnMoKTtjb25zdCBpPXQuZ2V0QW5jZXN0b3JzKCk7bGV0IG49MDt3aGlsZShlW25dPT1pW25dJiZlW25dKXtuKyt9cmV0dXJuIG49PT0wP251bGw6ZVtuLTFdfWlzKHQpe3JldHVybiB0PT1cInBvc2l0aW9uXCJ8fHQ9PVwidmlldzpwb3NpdGlvblwifWlzRXF1YWwodCl7cmV0dXJuIHRoaXMucGFyZW50PT10LnBhcmVudCYmdGhpcy5vZmZzZXQ9PXQub2Zmc2V0fWlzQmVmb3JlKHQpe3JldHVybiB0aGlzLmNvbXBhcmVXaXRoKHQpPT1cImJlZm9yZVwifWlzQWZ0ZXIodCl7cmV0dXJuIHRoaXMuY29tcGFyZVdpdGgodCk9PVwiYWZ0ZXJcIn1jb21wYXJlV2l0aCh0KXtpZih0aGlzLnJvb3QhPT10LnJvb3Qpe3JldHVyblwiZGlmZmVyZW50XCJ9aWYodGhpcy5pc0VxdWFsKHQpKXtyZXR1cm5cInNhbWVcIn1jb25zdCBlPXRoaXMucGFyZW50LmlzKFwibm9kZVwiKT90aGlzLnBhcmVudC5nZXRQYXRoKCk6W107Y29uc3QgaT10LnBhcmVudC5pcyhcIm5vZGVcIik/dC5wYXJlbnQuZ2V0UGF0aCgpOltdO2UucHVzaCh0aGlzLm9mZnNldCk7aS5wdXNoKHQub2Zmc2V0KTtjb25zdCBuPVZzKGUsaSk7c3dpdGNoKG4pe2Nhc2VcInByZWZpeFwiOnJldHVyblwiYmVmb3JlXCI7Y2FzZVwiZXh0ZW5zaW9uXCI6cmV0dXJuXCJhZnRlclwiO2RlZmF1bHQ6cmV0dXJuIGVbbl08aVtuXT9cImJlZm9yZVwiOlwiYWZ0ZXJcIn19Z2V0V2Fsa2VyKHQ9e30pe3Quc3RhcnRQb3NpdGlvbj10aGlzO3JldHVybiBuZXcgbGwodCl9Y2xvbmUoKXtyZXR1cm4gbmV3IGRsKHRoaXMucGFyZW50LHRoaXMub2Zmc2V0KX1zdGF0aWMgX2NyZWF0ZUF0KHQsZSl7aWYodCBpbnN0YW5jZW9mIGRsKXtyZXR1cm4gbmV3IHRoaXModC5wYXJlbnQsdC5vZmZzZXQpfWVsc2V7Y29uc3QgaT10O2lmKGU9PVwiZW5kXCIpe2U9aS5pcyhcInRleHRcIik/aS5kYXRhLmxlbmd0aDppLmNoaWxkQ291bnR9ZWxzZSBpZihlPT1cImJlZm9yZVwiKXtyZXR1cm4gdGhpcy5fY3JlYXRlQmVmb3JlKGkpfWVsc2UgaWYoZT09XCJhZnRlclwiKXtyZXR1cm4gdGhpcy5fY3JlYXRlQWZ0ZXIoaSl9ZWxzZSBpZihlIT09MCYmIWUpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ2aWV3LWNyZWF0ZVBvc2l0aW9uQXQtb2Zmc2V0LXJlcXVpcmVkOiBcIitcIlZpZXcjY3JlYXRlUG9zaXRpb25BdCgpIHJlcXVpcmVzIHRoZSBvZmZzZXQgd2hlbiB0aGUgZmlyc3QgcGFyYW1ldGVyIGlzIGEgdmlldyBpdGVtLlwiLGkpfXJldHVybiBuZXcgZGwoaSxlKX19c3RhdGljIF9jcmVhdGVBZnRlcih0KXtpZih0LmlzKFwidGV4dFByb3h5XCIpKXtyZXR1cm4gbmV3IGRsKHQudGV4dE5vZGUsdC5vZmZzZXRJblRleHQrdC5kYXRhLmxlbmd0aCl9aWYoIXQucGFyZW50KXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwidmlldy1wb3NpdGlvbi1hZnRlci1yb290OiBZb3UgY2FuIG5vdCBtYWtlIHBvc2l0aW9uIGFmdGVyIHJvb3QuXCIsdCx7cm9vdDp0fSl9cmV0dXJuIG5ldyBkbCh0LnBhcmVudCx0LmluZGV4KzEpfXN0YXRpYyBfY3JlYXRlQmVmb3JlKHQpe2lmKHQuaXMoXCJ0ZXh0UHJveHlcIikpe3JldHVybiBuZXcgZGwodC50ZXh0Tm9kZSx0Lm9mZnNldEluVGV4dCl9aWYoIXQucGFyZW50KXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwidmlldy1wb3NpdGlvbi1iZWZvcmUtcm9vdDogWW91IGNhbiBub3QgbWFrZSBwb3NpdGlvbiBiZWZvcmUgcm9vdC5cIix0LHtyb290OnR9KX1yZXR1cm4gbmV3IGRsKHQucGFyZW50LHQuaW5kZXgpfX1jbGFzcyB1bHtjb25zdHJ1Y3Rvcih0LGU9bnVsbCl7dGhpcy5zdGFydD10LmNsb25lKCk7dGhpcy5lbmQ9ZT9lLmNsb25lKCk6dC5jbG9uZSgpfSpbU3ltYm9sLml0ZXJhdG9yXSgpe3lpZWxkKm5ldyBsbCh7Ym91bmRhcmllczp0aGlzLGlnbm9yZUVsZW1lbnRFbmQ6dHJ1ZX0pfWdldCBpc0NvbGxhcHNlZCgpe3JldHVybiB0aGlzLnN0YXJ0LmlzRXF1YWwodGhpcy5lbmQpfWdldCBpc0ZsYXQoKXtyZXR1cm4gdGhpcy5zdGFydC5wYXJlbnQ9PT10aGlzLmVuZC5wYXJlbnR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy5zdGFydC5yb290fWdldEVubGFyZ2VkKCl7bGV0IHQ9dGhpcy5zdGFydC5nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbihobCx7ZGlyZWN0aW9uOlwiYmFja3dhcmRcIn0pO2xldCBlPXRoaXMuZW5kLmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKGhsKTtpZih0LnBhcmVudC5pcyhcInRleHRcIikmJnQuaXNBdFN0YXJ0KXt0PWRsLl9jcmVhdGVCZWZvcmUodC5wYXJlbnQpfWlmKGUucGFyZW50LmlzKFwidGV4dFwiKSYmZS5pc0F0RW5kKXtlPWRsLl9jcmVhdGVBZnRlcihlLnBhcmVudCl9cmV0dXJuIG5ldyB1bCh0LGUpfWdldFRyaW1tZWQoKXtsZXQgdD10aGlzLnN0YXJ0LmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKGhsKTtpZih0LmlzQWZ0ZXIodGhpcy5lbmQpfHx0LmlzRXF1YWwodGhpcy5lbmQpKXtyZXR1cm4gbmV3IHVsKHQsdCl9bGV0IGU9dGhpcy5lbmQuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24oaGwse2RpcmVjdGlvbjpcImJhY2t3YXJkXCJ9KTtjb25zdCBpPXQubm9kZUFmdGVyO2NvbnN0IG49ZS5ub2RlQmVmb3JlO2lmKGkmJmkuaXMoXCJ0ZXh0XCIpKXt0PW5ldyBkbChpLDApfWlmKG4mJm4uaXMoXCJ0ZXh0XCIpKXtlPW5ldyBkbChuLG4uZGF0YS5sZW5ndGgpfXJldHVybiBuZXcgdWwodCxlKX1pc0VxdWFsKHQpe3JldHVybiB0aGlzPT10fHx0aGlzLnN0YXJ0LmlzRXF1YWwodC5zdGFydCkmJnRoaXMuZW5kLmlzRXF1YWwodC5lbmQpfWNvbnRhaW5zUG9zaXRpb24odCl7cmV0dXJuIHQuaXNBZnRlcih0aGlzLnN0YXJ0KSYmdC5pc0JlZm9yZSh0aGlzLmVuZCl9Y29udGFpbnNSYW5nZSh0LGU9ZmFsc2Upe2lmKHQuaXNDb2xsYXBzZWQpe2U9ZmFsc2V9Y29uc3QgaT10aGlzLmNvbnRhaW5zUG9zaXRpb24odC5zdGFydCl8fGUmJnRoaXMuc3RhcnQuaXNFcXVhbCh0LnN0YXJ0KTtjb25zdCBuPXRoaXMuY29udGFpbnNQb3NpdGlvbih0LmVuZCl8fGUmJnRoaXMuZW5kLmlzRXF1YWwodC5lbmQpO3JldHVybiBpJiZufWdldERpZmZlcmVuY2UodCl7Y29uc3QgZT1bXTtpZih0aGlzLmlzSW50ZXJzZWN0aW5nKHQpKXtpZih0aGlzLmNvbnRhaW5zUG9zaXRpb24odC5zdGFydCkpe2UucHVzaChuZXcgdWwodGhpcy5zdGFydCx0LnN0YXJ0KSl9aWYodGhpcy5jb250YWluc1Bvc2l0aW9uKHQuZW5kKSl7ZS5wdXNoKG5ldyB1bCh0LmVuZCx0aGlzLmVuZCkpfX1lbHNle2UucHVzaCh0aGlzLmNsb25lKCkpfXJldHVybiBlfWdldEludGVyc2VjdGlvbih0KXtpZih0aGlzLmlzSW50ZXJzZWN0aW5nKHQpKXtsZXQgZT10aGlzLnN0YXJ0O2xldCBpPXRoaXMuZW5kO2lmKHRoaXMuY29udGFpbnNQb3NpdGlvbih0LnN0YXJ0KSl7ZT10LnN0YXJ0fWlmKHRoaXMuY29udGFpbnNQb3NpdGlvbih0LmVuZCkpe2k9dC5lbmR9cmV0dXJuIG5ldyB1bChlLGkpfXJldHVybiBudWxsfWdldFdhbGtlcih0PXt9KXt0LmJvdW5kYXJpZXM9dGhpcztyZXR1cm4gbmV3IGxsKHQpfWdldENvbW1vbkFuY2VzdG9yKCl7cmV0dXJuIHRoaXMuc3RhcnQuZ2V0Q29tbW9uQW5jZXN0b3IodGhpcy5lbmQpfWdldENvbnRhaW5lZEVsZW1lbnQoKXtpZih0aGlzLmlzQ29sbGFwc2VkKXtyZXR1cm4gbnVsbH1sZXQgdD10aGlzLnN0YXJ0Lm5vZGVBZnRlcjtsZXQgZT10aGlzLmVuZC5ub2RlQmVmb3JlO2lmKHRoaXMuc3RhcnQucGFyZW50LmlzKFwidGV4dFwiKSYmdGhpcy5zdGFydC5pc0F0RW5kJiZ0aGlzLnN0YXJ0LnBhcmVudC5uZXh0U2libGluZyl7dD10aGlzLnN0YXJ0LnBhcmVudC5uZXh0U2libGluZ31pZih0aGlzLmVuZC5wYXJlbnQuaXMoXCJ0ZXh0XCIpJiZ0aGlzLmVuZC5pc0F0U3RhcnQmJnRoaXMuZW5kLnBhcmVudC5wcmV2aW91c1NpYmxpbmcpe2U9dGhpcy5lbmQucGFyZW50LnByZXZpb3VzU2libGluZ31pZih0JiZ0LmlzKFwiZWxlbWVudFwiKSYmdD09PWUpe3JldHVybiB0fXJldHVybiBudWxsfWNsb25lKCl7cmV0dXJuIG5ldyB1bCh0aGlzLnN0YXJ0LHRoaXMuZW5kKX0qZ2V0SXRlbXModD17fSl7dC5ib3VuZGFyaWVzPXRoaXM7dC5pZ25vcmVFbGVtZW50RW5kPXRydWU7Y29uc3QgZT1uZXcgbGwodCk7Zm9yKGNvbnN0IHQgb2YgZSl7eWllbGQgdC5pdGVtfX0qZ2V0UG9zaXRpb25zKHQ9e30pe3QuYm91bmRhcmllcz10aGlzO2NvbnN0IGU9bmV3IGxsKHQpO3lpZWxkIGUucG9zaXRpb247Zm9yKGNvbnN0IHQgb2YgZSl7eWllbGQgdC5uZXh0UG9zaXRpb259fWlzKHQpe3JldHVybiB0PT1cInJhbmdlXCJ8fHQ9PVwidmlldzpyYW5nZVwifWlzSW50ZXJzZWN0aW5nKHQpe3JldHVybiB0aGlzLnN0YXJ0LmlzQmVmb3JlKHQuZW5kKSYmdGhpcy5lbmQuaXNBZnRlcih0LnN0YXJ0KX1zdGF0aWMgX2NyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyh0LGUsaSxuKXtyZXR1cm4gbmV3IHRoaXMobmV3IGRsKHQsZSksbmV3IGRsKGksbikpfXN0YXRpYyBfY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodCxlKXtjb25zdCBpPXQ7Y29uc3Qgbj10LmdldFNoaWZ0ZWRCeShlKTtyZXR1cm4gZT4wP25ldyB0aGlzKGksbik6bmV3IHRoaXMobixpKX1zdGF0aWMgX2NyZWF0ZUluKHQpe3JldHVybiB0aGlzLl9jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHModCwwLHQsdC5jaGlsZENvdW50KX1zdGF0aWMgX2NyZWF0ZU9uKHQpe2NvbnN0IGU9dC5pcyhcInRleHRQcm94eVwiKT90Lm9mZnNldFNpemU6MTtyZXR1cm4gdGhpcy5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZGwuX2NyZWF0ZUJlZm9yZSh0KSxlKX19ZnVuY3Rpb24gaGwodCl7aWYodC5pdGVtLmlzKFwiYXR0cmlidXRlRWxlbWVudFwiKXx8dC5pdGVtLmlzKFwidWlFbGVtZW50XCIpKXtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9ZnVuY3Rpb24gZmwodCl7bGV0IGU9MDtmb3IoY29uc3QgaSBvZiB0KXtlKyt9cmV0dXJuIGV9Y2xhc3MgZ2x7Y29uc3RydWN0b3IodD1udWxsLGUsaSl7dGhpcy5fcmFuZ2VzPVtdO3RoaXMuX2xhc3RSYW5nZUJhY2t3YXJkPWZhbHNlO3RoaXMuX2lzRmFrZT1mYWxzZTt0aGlzLl9mYWtlU2VsZWN0aW9uTGFiZWw9XCJcIjt0aGlzLnNldFRvKHQsZSxpKX1nZXQgaXNGYWtlKCl7cmV0dXJuIHRoaXMuX2lzRmFrZX1nZXQgZmFrZVNlbGVjdGlvbkxhYmVsKCl7cmV0dXJuIHRoaXMuX2Zha2VTZWxlY3Rpb25MYWJlbH1nZXQgYW5jaG9yKCl7aWYoIXRoaXMuX3Jhbmdlcy5sZW5ndGgpe3JldHVybiBudWxsfWNvbnN0IHQ9dGhpcy5fcmFuZ2VzW3RoaXMuX3Jhbmdlcy5sZW5ndGgtMV07Y29uc3QgZT10aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD90LmVuZDp0LnN0YXJ0O3JldHVybiBlLmNsb25lKCl9Z2V0IGZvY3VzKCl7aWYoIXRoaXMuX3Jhbmdlcy5sZW5ndGgpe3JldHVybiBudWxsfWNvbnN0IHQ9dGhpcy5fcmFuZ2VzW3RoaXMuX3Jhbmdlcy5sZW5ndGgtMV07Y29uc3QgZT10aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD90LnN0YXJ0OnQuZW5kO3JldHVybiBlLmNsb25lKCl9Z2V0IGlzQ29sbGFwc2VkKCl7cmV0dXJuIHRoaXMucmFuZ2VDb3VudD09PTEmJnRoaXMuX3Jhbmdlc1swXS5pc0NvbGxhcHNlZH1nZXQgcmFuZ2VDb3VudCgpe3JldHVybiB0aGlzLl9yYW5nZXMubGVuZ3RofWdldCBpc0JhY2t3YXJkKCl7cmV0dXJuIXRoaXMuaXNDb2xsYXBzZWQmJnRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkfWdldCBlZGl0YWJsZUVsZW1lbnQoKXtpZih0aGlzLmFuY2hvcil7cmV0dXJuIHRoaXMuYW5jaG9yLmVkaXRhYmxlRWxlbWVudH1yZXR1cm4gbnVsbH0qZ2V0UmFuZ2VzKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmFuZ2VzKXt5aWVsZCB0LmNsb25lKCl9fWdldEZpcnN0UmFuZ2UoKXtsZXQgdD1udWxsO2Zvcihjb25zdCBlIG9mIHRoaXMuX3Jhbmdlcyl7aWYoIXR8fGUuc3RhcnQuaXNCZWZvcmUodC5zdGFydCkpe3Q9ZX19cmV0dXJuIHQ/dC5jbG9uZSgpOm51bGx9Z2V0TGFzdFJhbmdlKCl7bGV0IHQ9bnVsbDtmb3IoY29uc3QgZSBvZiB0aGlzLl9yYW5nZXMpe2lmKCF0fHxlLmVuZC5pc0FmdGVyKHQuZW5kKSl7dD1lfX1yZXR1cm4gdD90LmNsb25lKCk6bnVsbH1nZXRGaXJzdFBvc2l0aW9uKCl7Y29uc3QgdD10aGlzLmdldEZpcnN0UmFuZ2UoKTtyZXR1cm4gdD90LnN0YXJ0LmNsb25lKCk6bnVsbH1nZXRMYXN0UG9zaXRpb24oKXtjb25zdCB0PXRoaXMuZ2V0TGFzdFJhbmdlKCk7cmV0dXJuIHQ/dC5lbmQuY2xvbmUoKTpudWxsfWlzRXF1YWwodCl7aWYodGhpcy5pc0Zha2UhPXQuaXNGYWtlKXtyZXR1cm4gZmFsc2V9aWYodGhpcy5pc0Zha2UmJnRoaXMuZmFrZVNlbGVjdGlvbkxhYmVsIT10LmZha2VTZWxlY3Rpb25MYWJlbCl7cmV0dXJuIGZhbHNlfWlmKHRoaXMucmFuZ2VDb3VudCE9dC5yYW5nZUNvdW50KXtyZXR1cm4gZmFsc2V9ZWxzZSBpZih0aGlzLnJhbmdlQ291bnQ9PT0wKXtyZXR1cm4gdHJ1ZX1pZighdGhpcy5hbmNob3IuaXNFcXVhbCh0LmFuY2hvcil8fCF0aGlzLmZvY3VzLmlzRXF1YWwodC5mb2N1cykpe3JldHVybiBmYWxzZX1mb3IoY29uc3QgZSBvZiB0aGlzLl9yYW5nZXMpe2xldCBpPWZhbHNlO2Zvcihjb25zdCBuIG9mIHQuX3Jhbmdlcyl7aWYoZS5pc0VxdWFsKG4pKXtpPXRydWU7YnJlYWt9fWlmKCFpKXtyZXR1cm4gZmFsc2V9fXJldHVybiB0cnVlfWlzU2ltaWxhcih0KXtpZih0aGlzLmlzQmFja3dhcmQhPXQuaXNCYWNrd2FyZCl7cmV0dXJuIGZhbHNlfWNvbnN0IGU9ZmwodGhpcy5nZXRSYW5nZXMoKSk7Y29uc3QgaT1mbCh0LmdldFJhbmdlcygpKTtpZihlIT1pKXtyZXR1cm4gZmFsc2V9aWYoZT09MCl7cmV0dXJuIHRydWV9Zm9yKGxldCBlIG9mIHRoaXMuZ2V0UmFuZ2VzKCkpe2U9ZS5nZXRUcmltbWVkKCk7bGV0IGk9ZmFsc2U7Zm9yKGxldCBuIG9mIHQuZ2V0UmFuZ2VzKCkpe249bi5nZXRUcmltbWVkKCk7aWYoZS5zdGFydC5pc0VxdWFsKG4uc3RhcnQpJiZlLmVuZC5pc0VxdWFsKG4uZW5kKSl7aT10cnVlO2JyZWFrfX1pZighaSl7cmV0dXJuIGZhbHNlfX1yZXR1cm4gdHJ1ZX1nZXRTZWxlY3RlZEVsZW1lbnQoKXtpZih0aGlzLnJhbmdlQ291bnQhPT0xKXtyZXR1cm4gbnVsbH1yZXR1cm4gdGhpcy5nZXRGaXJzdFJhbmdlKCkuZ2V0Q29udGFpbmVkRWxlbWVudCgpfXNldFRvKHQsZSxpKXtpZih0PT09bnVsbCl7dGhpcy5fc2V0UmFuZ2VzKFtdKTt0aGlzLl9zZXRGYWtlT3B0aW9ucyhlKX1lbHNlIGlmKHQgaW5zdGFuY2VvZiBnbHx8dCBpbnN0YW5jZW9mIG1sKXt0aGlzLl9zZXRSYW5nZXModC5nZXRSYW5nZXMoKSx0LmlzQmFja3dhcmQpO3RoaXMuX3NldEZha2VPcHRpb25zKHtmYWtlOnQuaXNGYWtlLGxhYmVsOnQuZmFrZVNlbGVjdGlvbkxhYmVsfSl9ZWxzZSBpZih0IGluc3RhbmNlb2YgdWwpe3RoaXMuX3NldFJhbmdlcyhbdF0sZSYmZS5iYWNrd2FyZCk7dGhpcy5fc2V0RmFrZU9wdGlvbnMoZSl9ZWxzZSBpZih0IGluc3RhbmNlb2YgZGwpe3RoaXMuX3NldFJhbmdlcyhbbmV3IHVsKHQpXSk7dGhpcy5fc2V0RmFrZU9wdGlvbnMoZSl9ZWxzZSBpZih0IGluc3RhbmNlb2YgenMpe2NvbnN0IG49ISFpJiYhIWkuYmFja3dhcmQ7bGV0IG87aWYoZT09PXVuZGVmaW5lZCl7dGhyb3cgbmV3IHNzW1wiYlwiXShcInZpZXctc2VsZWN0aW9uLXNldFRvLXJlcXVpcmVkLXNlY29uZC1wYXJhbWV0ZXI6IFwiK1wic2VsZWN0aW9uLnNldFRvIHJlcXVpcmVzIHRoZSBzZWNvbmQgcGFyYW1ldGVyIHdoZW4gdGhlIGZpcnN0IHBhcmFtZXRlciBpcyBhIG5vZGUuXCIsdGhpcyl9ZWxzZSBpZihlPT1cImluXCIpe289dWwuX2NyZWF0ZUluKHQpfWVsc2UgaWYoZT09XCJvblwiKXtvPXVsLl9jcmVhdGVPbih0KX1lbHNle289bmV3IHVsKGRsLl9jcmVhdGVBdCh0LGUpKX10aGlzLl9zZXRSYW5nZXMoW29dLG4pO3RoaXMuX3NldEZha2VPcHRpb25zKGkpfWVsc2UgaWYoanModCkpe3RoaXMuX3NldFJhbmdlcyh0LGUmJmUuYmFja3dhcmQpO3RoaXMuX3NldEZha2VPcHRpb25zKGUpfWVsc2V7dGhyb3cgbmV3IHNzW1wiYlwiXShcInZpZXctc2VsZWN0aW9uLXNldFRvLW5vdC1zZWxlY3RhYmxlOiBDYW5ub3Qgc2V0IHNlbGVjdGlvbiB0byBnaXZlbiBwbGFjZS5cIix0aGlzKX10aGlzLmZpcmUoXCJjaGFuZ2VcIil9c2V0Rm9jdXModCxlKXtpZih0aGlzLmFuY2hvcj09PW51bGwpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ2aWV3LXNlbGVjdGlvbi1zZXRGb2N1cy1uby1yYW5nZXM6IENhbm5vdCBzZXQgc2VsZWN0aW9uIGZvY3VzIGlmIHRoZXJlIGFyZSBubyByYW5nZXMgaW4gc2VsZWN0aW9uLlwiLHRoaXMpfWNvbnN0IGk9ZGwuX2NyZWF0ZUF0KHQsZSk7aWYoaS5jb21wYXJlV2l0aCh0aGlzLmZvY3VzKT09XCJzYW1lXCIpe3JldHVybn1jb25zdCBuPXRoaXMuYW5jaG9yO3RoaXMuX3Jhbmdlcy5wb3AoKTtpZihpLmNvbXBhcmVXaXRoKG4pPT1cImJlZm9yZVwiKXt0aGlzLl9hZGRSYW5nZShuZXcgdWwoaSxuKSx0cnVlKX1lbHNle3RoaXMuX2FkZFJhbmdlKG5ldyB1bChuLGkpKX10aGlzLmZpcmUoXCJjaGFuZ2VcIil9aXModCl7cmV0dXJuIHQ9PVwic2VsZWN0aW9uXCJ8fHQ9PVwidmlldzpzZWxlY3Rpb25cIn1fc2V0UmFuZ2VzKHQsZT1mYWxzZSl7dD1BcnJheS5mcm9tKHQpO3RoaXMuX3Jhbmdlcz1bXTtmb3IoY29uc3QgZSBvZiB0KXt0aGlzLl9hZGRSYW5nZShlKX10aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD0hIWV9X3NldEZha2VPcHRpb25zKHQ9e30pe3RoaXMuX2lzRmFrZT0hIXQuZmFrZTt0aGlzLl9mYWtlU2VsZWN0aW9uTGFiZWw9dC5mYWtlP3QubGFiZWx8fFwiXCI6XCJcIn1fYWRkUmFuZ2UodCxlPWZhbHNlKXtpZighKHQgaW5zdGFuY2VvZiB1bCkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ2aWV3LXNlbGVjdGlvbi1hZGQtcmFuZ2Utbm90LXJhbmdlOiBcIitcIlNlbGVjdGlvbiByYW5nZSBzZXQgdG8gYW4gb2JqZWN0IHRoYXQgaXMgbm90IGFuIGluc3RhbmNlIG9mIHZpZXcuUmFuZ2VcIix0aGlzKX10aGlzLl9wdXNoUmFuZ2UodCk7dGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ISFlfV9wdXNoUmFuZ2UodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcmFuZ2VzKXtpZih0LmlzSW50ZXJzZWN0aW5nKGUpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwidmlldy1zZWxlY3Rpb24tcmFuZ2UtaW50ZXJzZWN0czogVHJ5aW5nIHRvIGFkZCBhIHJhbmdlIHRoYXQgaW50ZXJzZWN0cyB3aXRoIGFub3RoZXIgcmFuZ2UgZnJvbSBzZWxlY3Rpb24uXCIsdGhpcyx7YWRkZWRSYW5nZTp0LGludGVyc2VjdGluZ1JhbmdlOmV9KX19dGhpcy5fcmFuZ2VzLnB1c2gobmV3IHVsKHQuc3RhcnQsdC5lbmQpKX19dnMoZ2wsZHMpO2NsYXNzIG1se2NvbnN0cnVjdG9yKHQ9bnVsbCxlLGkpe3RoaXMuX3NlbGVjdGlvbj1uZXcgZ2w7dGhpcy5fc2VsZWN0aW9uLmRlbGVnYXRlKFwiY2hhbmdlXCIpLnRvKHRoaXMpO3RoaXMuX3NlbGVjdGlvbi5zZXRUbyh0LGUsaSl9Z2V0IGlzRmFrZSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaXNGYWtlfWdldCBmYWtlU2VsZWN0aW9uTGFiZWwoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmZha2VTZWxlY3Rpb25MYWJlbH1nZXQgYW5jaG9yKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5hbmNob3J9Z2V0IGZvY3VzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5mb2N1c31nZXQgaXNDb2xsYXBzZWQoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmlzQ29sbGFwc2VkfWdldCByYW5nZUNvdW50KCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5yYW5nZUNvdW50fWdldCBpc0JhY2t3YXJkKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0JhY2t3YXJkfWdldCBlZGl0YWJsZUVsZW1lbnQoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudH1nZXQgX3Jhbmdlcygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uX3Jhbmdlc30qZ2V0UmFuZ2VzKCl7eWllbGQqdGhpcy5fc2VsZWN0aW9uLmdldFJhbmdlcygpfWdldEZpcnN0UmFuZ2UoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKX1nZXRMYXN0UmFuZ2UoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldExhc3RSYW5nZSgpfWdldEZpcnN0UG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKX1nZXRMYXN0UG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldExhc3RQb3NpdGlvbigpfWdldFNlbGVjdGVkRWxlbWVudCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCl9aXNFcXVhbCh0KXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmlzRXF1YWwodCl9aXNTaW1pbGFyKHQpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaXNTaW1pbGFyKHQpfWlzKHQpe3JldHVybiB0PT1cInNlbGVjdGlvblwifHx0PT1cImRvY3VtZW50U2VsZWN0aW9uXCJ8fHQ9PVwidmlldzpzZWxlY3Rpb25cInx8dD09XCJ2aWV3OmRvY3VtZW50U2VsZWN0aW9uXCJ9X3NldFRvKHQsZSxpKXt0aGlzLl9zZWxlY3Rpb24uc2V0VG8odCxlLGkpfV9zZXRGb2N1cyh0LGUpe3RoaXMuX3NlbGVjdGlvbi5zZXRGb2N1cyh0LGUpfX12cyhtbCxkcyk7Y2xhc3MgcGx7Y29uc3RydWN0b3IodCl7dGhpcy5zZWxlY3Rpb249bmV3IG1sO3RoaXMucm9vdHM9bmV3IHlzKHtpZFByb3BlcnR5Olwicm9vdE5hbWVcIn0pO3RoaXMuc3R5bGVzUHJvY2Vzc29yPXQ7dGhpcy5zZXQoXCJpc1JlYWRPbmx5XCIsZmFsc2UpO3RoaXMuc2V0KFwiaXNGb2N1c2VkXCIsZmFsc2UpO3RoaXMuc2V0KFwiaXNDb21wb3NpbmdcIixmYWxzZSk7dGhpcy5fcG9zdEZpeGVycz1uZXcgU2V0fWdldFJvb3QodD1cIm1haW5cIil7cmV0dXJuIHRoaXMucm9vdHMuZ2V0KHQpfXJlZ2lzdGVyUG9zdEZpeGVyKHQpe3RoaXMuX3Bvc3RGaXhlcnMuYWRkKHQpfWRlc3Ryb3koKXt0aGlzLnJvb3RzLm1hcCh0PT50LmRlc3Ryb3koKSk7dGhpcy5zdG9wTGlzdGVuaW5nKCl9X2NhbGxQb3N0Rml4ZXJzKHQpe2xldCBlPWZhbHNlO2Rve2Zvcihjb25zdCBpIG9mIHRoaXMuX3Bvc3RGaXhlcnMpe2U9aSh0KTtpZihlKXticmVha319fXdoaWxlKGUpfX12cyhwbCxKYyk7Y29uc3QgYmw9MTA7Y2xhc3Mgd2wgZXh0ZW5kcyB6Y3tjb25zdHJ1Y3Rvcih0LGUsaSxuKXtzdXBlcih0LGUsaSxuKTt0aGlzLmdldEZpbGxlck9mZnNldD1rbDt0aGlzLl9wcmlvcml0eT1ibDt0aGlzLl9pZD1udWxsO3RoaXMuX2Nsb25lc0dyb3VwPW51bGx9Z2V0IHByaW9yaXR5KCl7cmV0dXJuIHRoaXMuX3ByaW9yaXR5fWdldCBpZCgpe3JldHVybiB0aGlzLl9pZH1nZXRFbGVtZW50c1dpdGhTYW1lSWQoKXtpZih0aGlzLmlkPT09bnVsbCl7dGhyb3cgbmV3IHNzW1wiYlwiXShcImF0dHJpYnV0ZS1lbGVtZW50LWdldC1lbGVtZW50cy13aXRoLXNhbWUtaWQtbm8taWQ6IFwiK1wiQ2Fubm90IGdldCBlbGVtZW50cyB3aXRoIHRoZSBzYW1lIGlkIGZvciBhbiBhdHRyaWJ1dGUgZWxlbWVudCB3aXRob3V0IGlkLlwiLHRoaXMpfXJldHVybiBuZXcgU2V0KHRoaXMuX2Nsb25lc0dyb3VwKX1pcyh0LGU9bnVsbCl7Y29uc3QgaT10JiZ0LnJlcGxhY2UoL152aWV3Oi8sXCJcIik7aWYoIWUpe3JldHVybiBpPT1cImF0dHJpYnV0ZUVsZW1lbnRcInx8c3VwZXIuaXModCl9ZWxzZXtyZXR1cm4gaT09XCJhdHRyaWJ1dGVFbGVtZW50XCImJmU9PXRoaXMubmFtZXx8c3VwZXIuaXModCxlKX19aXNTaW1pbGFyKHQpe2lmKHRoaXMuaWQhPT1udWxsfHx0LmlkIT09bnVsbCl7cmV0dXJuIHRoaXMuaWQ9PT10LmlkfXJldHVybiBzdXBlci5pc1NpbWlsYXIodCkmJnRoaXMucHJpb3JpdHk9PXQucHJpb3JpdHl9X2Nsb25lKHQpe2NvbnN0IGU9c3VwZXIuX2Nsb25lKHQpO2UuX3ByaW9yaXR5PXRoaXMuX3ByaW9yaXR5O2UuX2lkPXRoaXMuX2lkO3JldHVybiBlfX13bC5ERUZBVUxUX1BSSU9SSVRZPWJsO2Z1bmN0aW9uIGtsKCl7aWYoX2wodGhpcykpe3JldHVybiBudWxsfWxldCB0PXRoaXMucGFyZW50O3doaWxlKHQmJnQuaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpKXtpZihfbCh0KT4xKXtyZXR1cm4gbnVsbH10PXQucGFyZW50fWlmKCF0fHxfbCh0KT4xKXtyZXR1cm4gbnVsbH1yZXR1cm4gdGhpcy5jaGlsZENvdW50fWZ1bmN0aW9uIF9sKHQpe3JldHVybiBBcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkuZmlsdGVyKHQ9PiF0LmlzKFwidWlFbGVtZW50XCIpKS5sZW5ndGh9Y2xhc3MgdmwgZXh0ZW5kcyB6Y3tjb25zdHJ1Y3Rvcih0LGUsaSxuKXtzdXBlcih0LGUsaSxuKTt0aGlzLmdldEZpbGxlck9mZnNldD15bH1pcyh0LGU9bnVsbCl7Y29uc3QgaT10LnJlcGxhY2UoL152aWV3Oi8sXCJcIik7aWYoIWUpe3JldHVybiBpPT1cImVtcHR5RWxlbWVudFwifHxzdXBlci5pcyh0KX1lbHNle3JldHVybiBpPT1cImVtcHR5RWxlbWVudFwiJiZlPT10aGlzLm5hbWV8fHN1cGVyLmlzKHQsZSl9fV9pbnNlcnRDaGlsZCh0LGUpe2lmKGUmJihlIGluc3RhbmNlb2YgenN8fEFycmF5LmZyb20oZSkubGVuZ3RoPjApKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwidmlldy1lbXB0eWVsZW1lbnQtY2Fubm90LWFkZDogQ2Fubm90IGFkZCBjaGlsZCBub2RlcyB0byBFbXB0eUVsZW1lbnQgaW5zdGFuY2UuXCIsW3RoaXMsZV0pfX19ZnVuY3Rpb24geWwoKXtyZXR1cm4gbnVsbH1jb25zdCB4bD1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7Y29uc3QgQ2w9e2lzTWFjOlRsKHhsKSxpc0VkZ2U6UGwoeGwpLGlzR2Vja286U2woeGwpLGlzU2FmYXJpOkVsKHhsKSxpc0FuZHJvaWQ6UmwoeGwpLGZlYXR1cmVzOntpc1JlZ0V4cFVuaWNvZGVQcm9wZXJ0eVN1cHBvcnRlZDpPbCgpfX07dmFyIEFsPUNsO2Z1bmN0aW9uIFRsKHQpe3JldHVybiB0LmluZGV4T2YoXCJtYWNpbnRvc2hcIik+LTF9ZnVuY3Rpb24gUGwodCl7cmV0dXJuISF0Lm1hdGNoKC9lZGdlXFwvKFxcZCsuP1xcZCopLyl9ZnVuY3Rpb24gU2wodCl7cmV0dXJuISF0Lm1hdGNoKC9nZWNrb1xcL1xcZCsvKX1mdW5jdGlvbiBFbCh0KXtyZXR1cm4gdC5pbmRleE9mKFwiIGFwcGxld2Via2l0L1wiKT4tMSYmdC5pbmRleE9mKFwiY2hyb21lXCIpPT09LTF9ZnVuY3Rpb24gUmwodCl7cmV0dXJuIHQuaW5kZXhPZihcImFuZHJvaWRcIik+LTF9ZnVuY3Rpb24gT2woKXtsZXQgdD1mYWxzZTt0cnl7dD1cIsSHXCIuc2VhcmNoKG5ldyBSZWdFeHAoXCJbXFxcXHB7TH1dXCIsXCJ1XCIpKT09PTB9Y2F0Y2godCl7fXJldHVybiB0fWNvbnN0IElsPXtcIuKMmFwiOlwiY3RybFwiLFwi4oenXCI6XCJzaGlmdFwiLFwi4oylXCI6XCJhbHRcIn07Y29uc3QgVmw9e2N0cmw6XCLijJhcIixzaGlmdDpcIuKHp1wiLGFsdDpcIuKMpVwifTtjb25zdCBObD1MbCgpO2Z1bmN0aW9uIE1sKHQpe2xldCBlO2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXtlPU5sW3QudG9Mb3dlckNhc2UoKV07aWYoIWUpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJrZXlib2FyZC11bmtub3duLWtleTogVW5rbm93biBrZXkgbmFtZS5cIixudWxsLHtrZXk6dH0pfX1lbHNle2U9dC5rZXlDb2RlKyh0LmFsdEtleT9ObC5hbHQ6MCkrKHQuY3RybEtleT9ObC5jdHJsOjApKyh0LnNoaWZ0S2V5P05sLnNoaWZ0OjApfXJldHVybiBlfWZ1bmN0aW9uIEJsKHQpe2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXt0PUZsKHQpfXJldHVybiB0Lm1hcCh0PT50eXBlb2YgdD09XCJzdHJpbmdcIj9NbCh0KTp0KS5yZWR1Y2UoKHQsZSk9PmUrdCwwKX1mdW5jdGlvbiB6bCh0KXtpZighQWwuaXNNYWMpe3JldHVybiB0fXJldHVybiBGbCh0KS5tYXAodD0+VmxbdC50b0xvd2VyQ2FzZSgpXXx8dCkucmVkdWNlKCh0LGUpPT57aWYodC5zbGljZSgtMSlpbiBJbCl7cmV0dXJuIHQrZX1lbHNle3JldHVybiB0K1wiK1wiK2V9fSl9ZnVuY3Rpb24gTGwoKXtjb25zdCB0PXthcnJvd2xlZnQ6MzcsYXJyb3d1cDozOCxhcnJvd3JpZ2h0OjM5LGFycm93ZG93bjo0MCxiYWNrc3BhY2U6OCxkZWxldGU6NDYsZW50ZXI6MTMsc3BhY2U6MzIsZXNjOjI3LHRhYjo5LGN0cmw6MTExNDExMixjbWQ6MTExNDExMixzaGlmdDoyMjI4MjI0LGFsdDo0NDU2NDQ4fTtmb3IobGV0IGU9NjU7ZTw9OTA7ZSsrKXtjb25zdCBpPVN0cmluZy5mcm9tQ2hhckNvZGUoZSk7dFtpLnRvTG93ZXJDYXNlKCldPWV9Zm9yKGxldCBlPTQ4O2U8PTU3O2UrKyl7dFtlLTQ4XT1lfWZvcihsZXQgZT0xMTI7ZTw9MTIzO2UrKyl7dFtcImZcIisoZS0xMTEpXT1lfXJldHVybiB0fWZ1bmN0aW9uIEZsKHQpe3JldHVybiB0LnNwbGl0KC9cXHMqXFwrXFxzKi8pfWNsYXNzIERsIGV4dGVuZHMgemN7Y29uc3RydWN0b3IodCxlLGksbil7c3VwZXIodCxlLGksbik7dGhpcy5nZXRGaWxsZXJPZmZzZXQ9SGx9aXModCxlPW51bGwpe2NvbnN0IGk9dC5yZXBsYWNlKC9edmlldzovLFwiXCIpO2lmKCFlKXtyZXR1cm4gaT09XCJ1aUVsZW1lbnRcInx8c3VwZXIuaXModCl9ZWxzZXtyZXR1cm4gaT09XCJ1aUVsZW1lbnRcIiYmZT09dGhpcy5uYW1lfHxzdXBlci5pcyh0LGUpfX1faW5zZXJ0Q2hpbGQodCxlKXtpZihlJiYoZSBpbnN0YW5jZW9mIHpzfHxBcnJheS5mcm9tKGUpLmxlbmd0aD4wKSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcInZpZXctdWllbGVtZW50LWNhbm5vdC1hZGQ6IENhbm5vdCBhZGQgY2hpbGQgbm9kZXMgdG8gVUlFbGVtZW50IGluc3RhbmNlLlwiLHRoaXMpfX1yZW5kZXIodCl7cmV0dXJuIHRoaXMudG9Eb21FbGVtZW50KHQpfXRvRG9tRWxlbWVudCh0KXtjb25zdCBlPXQuY3JlYXRlRWxlbWVudCh0aGlzLm5hbWUpO2Zvcihjb25zdCB0IG9mIHRoaXMuZ2V0QXR0cmlidXRlS2V5cygpKXtlLnNldEF0dHJpYnV0ZSh0LHRoaXMuZ2V0QXR0cmlidXRlKHQpKX1yZXR1cm4gZX19ZnVuY3Rpb24gamwodCl7dC5kb2N1bWVudC5vbihcImtleWRvd25cIiwoZSxpKT0+V2woZSxpLHQuZG9tQ29udmVydGVyKSl9ZnVuY3Rpb24gSGwoKXtyZXR1cm4gbnVsbH1mdW5jdGlvbiBXbCh0LGUsaSl7aWYoZS5rZXlDb2RlPT1ObC5hcnJvd3JpZ2h0KXtjb25zdCB0PWUuZG9tVGFyZ2V0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0U2VsZWN0aW9uKCk7Y29uc3Qgbj10LnJhbmdlQ291bnQ9PTEmJnQuZ2V0UmFuZ2VBdCgwKS5jb2xsYXBzZWQ7aWYobnx8ZS5zaGlmdEtleSl7Y29uc3QgZT10LmZvY3VzTm9kZTtjb25zdCBvPXQuZm9jdXNPZmZzZXQ7Y29uc3Qgcj1pLmRvbVBvc2l0aW9uVG9WaWV3KGUsbyk7aWYocj09PW51bGwpe3JldHVybn1sZXQgcz1mYWxzZTtjb25zdCBhPXIuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24odD0+e2lmKHQuaXRlbS5pcyhcInVpRWxlbWVudFwiKSl7cz10cnVlfWlmKHQuaXRlbS5pcyhcInVpRWxlbWVudFwiKXx8dC5pdGVtLmlzKFwiYXR0cmlidXRlRWxlbWVudFwiKSl7cmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfSk7aWYocyl7Y29uc3QgZT1pLnZpZXdQb3NpdGlvblRvRG9tKGEpO2lmKG4pe3QuY29sbGFwc2UoZS5wYXJlbnQsZS5vZmZzZXQpfWVsc2V7dC5leHRlbmQoZS5wYXJlbnQsZS5vZmZzZXQpfX19fX1jbGFzcyBxbHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuZG9jdW1lbnQ9dDt0aGlzLl9jaGlsZHJlbj1bXTtpZihlKXt0aGlzLl9pbnNlcnRDaGlsZCgwLGUpfX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCl9Z2V0IGNoaWxkQ291bnQoKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ubGVuZ3RofWdldCBpc0VtcHR5KCl7cmV0dXJuIHRoaXMuY2hpbGRDb3VudD09PTB9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpc31nZXQgcGFyZW50KCl7cmV0dXJuIG51bGx9aXModCl7cmV0dXJuIHQ9PVwiZG9jdW1lbnRGcmFnbWVudFwifHx0PT1cInZpZXc6ZG9jdW1lbnRGcmFnbWVudFwifV9hcHBlbmRDaGlsZCh0KXtyZXR1cm4gdGhpcy5faW5zZXJ0Q2hpbGQodGhpcy5jaGlsZENvdW50LHQpfWdldENoaWxkKHQpe3JldHVybiB0aGlzLl9jaGlsZHJlblt0XX1nZXRDaGlsZEluZGV4KHQpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5pbmRleE9mKHQpfWdldENoaWxkcmVuKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKX1faW5zZXJ0Q2hpbGQodCxlKXt0aGlzLl9maXJlQ2hhbmdlKFwiY2hpbGRyZW5cIix0aGlzKTtsZXQgaT0wO2NvbnN0IG49VWwodGhpcy5kb2N1bWVudCxlKTtmb3IoY29uc3QgZSBvZiBuKXtpZihlLnBhcmVudCE9PW51bGwpe2UuX3JlbW92ZSgpfWUucGFyZW50PXRoaXM7dGhpcy5fY2hpbGRyZW4uc3BsaWNlKHQsMCxlKTt0Kys7aSsrfXJldHVybiBpfV9yZW1vdmVDaGlsZHJlbih0LGU9MSl7dGhpcy5fZmlyZUNoYW5nZShcImNoaWxkcmVuXCIsdGhpcyk7Zm9yKGxldCBpPXQ7aTx0K2U7aSsrKXt0aGlzLl9jaGlsZHJlbltpXS5wYXJlbnQ9bnVsbH1yZXR1cm4gdGhpcy5fY2hpbGRyZW4uc3BsaWNlKHQsZSl9X2ZpcmVDaGFuZ2UodCxlKXt0aGlzLmZpcmUoXCJjaGFuZ2U6XCIrdCxlKX19dnMocWwsZHMpO2Z1bmN0aW9uIFVsKHQsZSl7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpe3JldHVybltuZXcgTHModCxlKV19aWYoIWpzKGUpKXtlPVtlXX1yZXR1cm4gQXJyYXkuZnJvbShlKS5tYXAoZT0+e2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXtyZXR1cm4gbmV3IExzKHQsZSl9aWYoZSBpbnN0YW5jZW9mIEZzKXtyZXR1cm4gbmV3IExzKHQsZS5kYXRhKX1yZXR1cm4gZX0pfWNsYXNzICRse2NvbnN0cnVjdG9yKHQpe3RoaXMuZG9jdW1lbnQ9dDt0aGlzLl9jbG9uZUdyb3Vwcz1uZXcgTWFwfXNldFNlbGVjdGlvbih0LGUsaSl7dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uX3NldFRvKHQsZSxpKX1zZXRTZWxlY3Rpb25Gb2N1cyh0LGUpe3RoaXMuZG9jdW1lbnQuc2VsZWN0aW9uLl9zZXRGb2N1cyh0LGUpfWNyZWF0ZVRleHQodCl7cmV0dXJuIG5ldyBMcyh0aGlzLmRvY3VtZW50LHQpfWNyZWF0ZUF0dHJpYnV0ZUVsZW1lbnQodCxlLGk9e30pe2NvbnN0IG49bmV3IHdsKHRoaXMuZG9jdW1lbnQsdCxlKTtpZihpLnByaW9yaXR5KXtuLl9wcmlvcml0eT1pLnByaW9yaXR5fWlmKGkuaWQpe24uX2lkPWkuaWR9cmV0dXJuIG59Y3JlYXRlQ29udGFpbmVyRWxlbWVudCh0LGUpe3JldHVybiBuZXcgamModGhpcy5kb2N1bWVudCx0LGUpfWNyZWF0ZUVkaXRhYmxlRWxlbWVudCh0LGUpe2NvbnN0IGk9bmV3IHNsKHRoaXMuZG9jdW1lbnQsdCxlKTtpLl9kb2N1bWVudD10aGlzLmRvY3VtZW50O3JldHVybiBpfWNyZWF0ZUVtcHR5RWxlbWVudCh0LGUpe3JldHVybiBuZXcgdmwodGhpcy5kb2N1bWVudCx0LGUpfWNyZWF0ZVVJRWxlbWVudCh0LGUsaSl7Y29uc3Qgbj1uZXcgRGwodGhpcy5kb2N1bWVudCx0LGUpO2lmKGkpe24ucmVuZGVyPWl9cmV0dXJuIG59c2V0QXR0cmlidXRlKHQsZSxpKXtpLl9zZXRBdHRyaWJ1dGUodCxlKX1yZW1vdmVBdHRyaWJ1dGUodCxlKXtlLl9yZW1vdmVBdHRyaWJ1dGUodCl9YWRkQ2xhc3ModCxlKXtlLl9hZGRDbGFzcyh0KX1yZW1vdmVDbGFzcyh0LGUpe2UuX3JlbW92ZUNsYXNzKHQpfXNldFN0eWxlKHQsZSxpKXtpZihOKHQpJiZpPT09dW5kZWZpbmVkKXtpPWV9aS5fc2V0U3R5bGUodCxlKX1yZW1vdmVTdHlsZSh0LGUpe2UuX3JlbW92ZVN0eWxlKHQpfXNldEN1c3RvbVByb3BlcnR5KHQsZSxpKXtpLl9zZXRDdXN0b21Qcm9wZXJ0eSh0LGUpfXJlbW92ZUN1c3RvbVByb3BlcnR5KHQsZSl7cmV0dXJuIGUuX3JlbW92ZUN1c3RvbVByb3BlcnR5KHQpfWJyZWFrQXR0cmlidXRlcyh0KXtpZih0IGluc3RhbmNlb2YgZGwpe3JldHVybiB0aGlzLl9icmVha0F0dHJpYnV0ZXModCl9ZWxzZXtyZXR1cm4gdGhpcy5fYnJlYWtBdHRyaWJ1dGVzUmFuZ2UodCl9fWJyZWFrQ29udGFpbmVyKHQpe2NvbnN0IGU9dC5wYXJlbnQ7aWYoIWUuaXMoXCJjb250YWluZXJFbGVtZW50XCIpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwidmlldy13cml0ZXItYnJlYWstbm9uLWNvbnRhaW5lci1lbGVtZW50OiBUcnlpbmcgdG8gYnJlYWsgYW4gZWxlbWVudCB3aGljaCBpcyBub3QgYSBjb250YWluZXIgZWxlbWVudC5cIix0aGlzLmRvY3VtZW50KX1pZighZS5wYXJlbnQpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ2aWV3LXdyaXRlci1icmVhay1yb290OiBUcnlpbmcgdG8gYnJlYWsgcm9vdCBlbGVtZW50LlwiLHRoaXMuZG9jdW1lbnQpfWlmKHQuaXNBdFN0YXJ0KXtyZXR1cm4gZGwuX2NyZWF0ZUJlZm9yZShlKX1lbHNlIGlmKCF0LmlzQXRFbmQpe2NvbnN0IGk9ZS5fY2xvbmUoZmFsc2UpO3RoaXMuaW5zZXJ0KGRsLl9jcmVhdGVBZnRlcihlKSxpKTtjb25zdCBuPW5ldyB1bCh0LGRsLl9jcmVhdGVBdChlLFwiZW5kXCIpKTtjb25zdCBvPW5ldyBkbChpLDApO3RoaXMubW92ZShuLG8pfXJldHVybiBkbC5fY3JlYXRlQWZ0ZXIoZSl9bWVyZ2VBdHRyaWJ1dGVzKHQpe2NvbnN0IGU9dC5vZmZzZXQ7Y29uc3QgaT10LnBhcmVudDtpZihpLmlzKFwidGV4dFwiKSl7cmV0dXJuIHR9aWYoaS5pcyhcImF0dHJpYnV0ZUVsZW1lbnRcIikmJmkuY2hpbGRDb3VudD09PTApe2NvbnN0IHQ9aS5wYXJlbnQ7Y29uc3QgZT1pLmluZGV4O2kuX3JlbW92ZSgpO3RoaXMuX3JlbW92ZUZyb21DbG9uZWRFbGVtZW50c0dyb3VwKGkpO3JldHVybiB0aGlzLm1lcmdlQXR0cmlidXRlcyhuZXcgZGwodCxlKSl9Y29uc3Qgbj1pLmdldENoaWxkKGUtMSk7Y29uc3Qgbz1pLmdldENoaWxkKGUpO2lmKCFufHwhbyl7cmV0dXJuIHR9aWYobi5pcyhcInRleHRcIikmJm8uaXMoXCJ0ZXh0XCIpKXtyZXR1cm4gWGwobixvKX1lbHNlIGlmKG4uaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpJiZvLmlzKFwiYXR0cmlidXRlRWxlbWVudFwiKSYmbi5pc1NpbWlsYXIobykpe2NvbnN0IHQ9bi5jaGlsZENvdW50O24uX2FwcGVuZENoaWxkKG8uZ2V0Q2hpbGRyZW4oKSk7by5fcmVtb3ZlKCk7dGhpcy5fcmVtb3ZlRnJvbUNsb25lZEVsZW1lbnRzR3JvdXAobyk7cmV0dXJuIHRoaXMubWVyZ2VBdHRyaWJ1dGVzKG5ldyBkbChuLHQpKX1yZXR1cm4gdH1tZXJnZUNvbnRhaW5lcnModCl7Y29uc3QgZT10Lm5vZGVCZWZvcmU7Y29uc3QgaT10Lm5vZGVBZnRlcjtpZighZXx8IWl8fCFlLmlzKFwiY29udGFpbmVyRWxlbWVudFwiKXx8IWkuaXMoXCJjb250YWluZXJFbGVtZW50XCIpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwidmlldy13cml0ZXItbWVyZ2UtY29udGFpbmVycy1pbnZhbGlkLXBvc2l0aW9uOiBcIitcIkVsZW1lbnQgYmVmb3JlIGFuZCBhZnRlciBnaXZlbiBwb3NpdGlvbiBjYW5ub3QgYmUgbWVyZ2VkLlwiLHRoaXMuZG9jdW1lbnQpfWNvbnN0IG49ZS5nZXRDaGlsZChlLmNoaWxkQ291bnQtMSk7Y29uc3Qgbz1uIGluc3RhbmNlb2YgTHM/ZGwuX2NyZWF0ZUF0KG4sXCJlbmRcIik6ZGwuX2NyZWF0ZUF0KGUsXCJlbmRcIik7dGhpcy5tb3ZlKHVsLl9jcmVhdGVJbihpKSxkbC5fY3JlYXRlQXQoZSxcImVuZFwiKSk7dGhpcy5yZW1vdmUodWwuX2NyZWF0ZU9uKGkpKTtyZXR1cm4gb31pbnNlcnQodCxlKXtlPWpzKGUpP1suLi5lXTpbZV07WmwoZSx0aGlzLmRvY3VtZW50KTtjb25zdCBpPUtsKHQpO2lmKCFpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwidmlldy13cml0ZXItaW52YWxpZC1wb3NpdGlvbi1jb250YWluZXJcIix0aGlzLmRvY3VtZW50KX1jb25zdCBuPXRoaXMuX2JyZWFrQXR0cmlidXRlcyh0LHRydWUpO2NvbnN0IG89aS5faW5zZXJ0Q2hpbGQobi5vZmZzZXQsZSk7Zm9yKGNvbnN0IHQgb2YgZSl7dGhpcy5fYWRkVG9DbG9uZWRFbGVtZW50c0dyb3VwKHQpfWNvbnN0IHI9bi5nZXRTaGlmdGVkQnkobyk7Y29uc3Qgcz10aGlzLm1lcmdlQXR0cmlidXRlcyhuKTtpZihvPT09MCl7cmV0dXJuIG5ldyB1bChzLHMpfWVsc2V7aWYoIXMuaXNFcXVhbChuKSl7ci5vZmZzZXQtLX1jb25zdCB0PXRoaXMubWVyZ2VBdHRyaWJ1dGVzKHIpO3JldHVybiBuZXcgdWwocyx0KX19cmVtb3ZlKHQpe2NvbnN0IGU9dCBpbnN0YW5jZW9mIHVsP3Q6dWwuX2NyZWF0ZU9uKHQpO2lkKGUsdGhpcy5kb2N1bWVudCk7aWYoZS5pc0NvbGxhcHNlZCl7cmV0dXJuIG5ldyBxbCh0aGlzLmRvY3VtZW50KX1jb25zdHtzdGFydDppLGVuZDpufT10aGlzLl9icmVha0F0dHJpYnV0ZXNSYW5nZShlLHRydWUpO2NvbnN0IG89aS5wYXJlbnQ7Y29uc3Qgcj1uLm9mZnNldC1pLm9mZnNldDtjb25zdCBzPW8uX3JlbW92ZUNoaWxkcmVuKGkub2Zmc2V0LHIpO2Zvcihjb25zdCB0IG9mIHMpe3RoaXMuX3JlbW92ZUZyb21DbG9uZWRFbGVtZW50c0dyb3VwKHQpfWNvbnN0IGE9dGhpcy5tZXJnZUF0dHJpYnV0ZXMoaSk7ZS5zdGFydD1hO2UuZW5kPWEuY2xvbmUoKTtyZXR1cm4gbmV3IHFsKHRoaXMuZG9jdW1lbnQscyl9Y2xlYXIodCxlKXtpZCh0LHRoaXMuZG9jdW1lbnQpO2NvbnN0IGk9dC5nZXRXYWxrZXIoe2RpcmVjdGlvbjpcImJhY2t3YXJkXCIsaWdub3JlRWxlbWVudEVuZDp0cnVlfSk7Zm9yKGNvbnN0IG4gb2YgaSl7Y29uc3QgaT1uLml0ZW07bGV0IG87aWYoaS5pcyhcImVsZW1lbnRcIikmJmUuaXNTaW1pbGFyKGkpKXtvPXVsLl9jcmVhdGVPbihpKX1lbHNlIGlmKCFuLm5leHRQb3NpdGlvbi5pc0FmdGVyKHQuc3RhcnQpJiZpLmlzKFwidGV4dFByb3h5XCIpKXtjb25zdCB0PWkuZ2V0QW5jZXN0b3JzKCkuZmluZCh0PT50LmlzKFwiZWxlbWVudFwiKSYmZS5pc1NpbWlsYXIodCkpO2lmKHQpe289dWwuX2NyZWF0ZUluKHQpfX1pZihvKXtpZihvLmVuZC5pc0FmdGVyKHQuZW5kKSl7by5lbmQ9dC5lbmR9aWYoby5zdGFydC5pc0JlZm9yZSh0LnN0YXJ0KSl7by5zdGFydD10LnN0YXJ0fXRoaXMucmVtb3ZlKG8pfX19bW92ZSh0LGUpe2xldCBpO2lmKGUuaXNBZnRlcih0LmVuZCkpe2U9dGhpcy5fYnJlYWtBdHRyaWJ1dGVzKGUsdHJ1ZSk7Y29uc3Qgbj1lLnBhcmVudDtjb25zdCBvPW4uY2hpbGRDb3VudDt0PXRoaXMuX2JyZWFrQXR0cmlidXRlc1JhbmdlKHQsdHJ1ZSk7aT10aGlzLnJlbW92ZSh0KTtlLm9mZnNldCs9bi5jaGlsZENvdW50LW99ZWxzZXtpPXRoaXMucmVtb3ZlKHQpfXJldHVybiB0aGlzLmluc2VydChlLGkpfXdyYXAodCxlKXtpZighKGUgaW5zdGFuY2VvZiB3bCkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ2aWV3LXdyaXRlci13cmFwLWludmFsaWQtYXR0cmlidXRlXCIsdGhpcy5kb2N1bWVudCl9aWQodCx0aGlzLmRvY3VtZW50KTtpZighdC5pc0NvbGxhcHNlZCl7cmV0dXJuIHRoaXMuX3dyYXBSYW5nZSh0LGUpfWVsc2V7bGV0IGk9dC5zdGFydDtpZihpLnBhcmVudC5pcyhcImVsZW1lbnRcIikmJiFHbChpLnBhcmVudCkpe2k9aS5nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbih0PT50Lml0ZW0uaXMoXCJ1aUVsZW1lbnRcIikpfWk9dGhpcy5fd3JhcFBvc2l0aW9uKGksZSk7Y29uc3Qgbj10aGlzLmRvY3VtZW50LnNlbGVjdGlvbjtpZihuLmlzQ29sbGFwc2VkJiZuLmdldEZpcnN0UG9zaXRpb24oKS5pc0VxdWFsKHQuc3RhcnQpKXt0aGlzLnNldFNlbGVjdGlvbihpKX1yZXR1cm4gbmV3IHVsKGkpfX11bndyYXAodCxlKXtpZighKGUgaW5zdGFuY2VvZiB3bCkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ2aWV3LXdyaXRlci11bndyYXAtaW52YWxpZC1hdHRyaWJ1dGVcIix0aGlzLmRvY3VtZW50KX1pZCh0LHRoaXMuZG9jdW1lbnQpO2lmKHQuaXNDb2xsYXBzZWQpe3JldHVybiB0fWNvbnN0e3N0YXJ0OmksZW5kOm59PXRoaXMuX2JyZWFrQXR0cmlidXRlc1JhbmdlKHQsdHJ1ZSk7Y29uc3Qgbz1pLnBhcmVudDtjb25zdCByPXRoaXMuX3Vud3JhcENoaWxkcmVuKG8saS5vZmZzZXQsbi5vZmZzZXQsZSk7Y29uc3Qgcz10aGlzLm1lcmdlQXR0cmlidXRlcyhyLnN0YXJ0KTtpZighcy5pc0VxdWFsKHIuc3RhcnQpKXtyLmVuZC5vZmZzZXQtLX1jb25zdCBhPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKHIuZW5kKTtyZXR1cm4gbmV3IHVsKHMsYSl9cmVuYW1lKHQsZSl7Y29uc3QgaT1uZXcgamModGhpcy5kb2N1bWVudCx0LGUuZ2V0QXR0cmlidXRlcygpKTt0aGlzLmluc2VydChkbC5fY3JlYXRlQWZ0ZXIoZSksaSk7dGhpcy5tb3ZlKHVsLl9jcmVhdGVJbihlKSxkbC5fY3JlYXRlQXQoaSwwKSk7dGhpcy5yZW1vdmUodWwuX2NyZWF0ZU9uKGUpKTtyZXR1cm4gaX1jbGVhckNsb25lZEVsZW1lbnRzR3JvdXAodCl7dGhpcy5fY2xvbmVHcm91cHMuZGVsZXRlKHQpfWNyZWF0ZVBvc2l0aW9uQXQodCxlKXtyZXR1cm4gZGwuX2NyZWF0ZUF0KHQsZSl9Y3JlYXRlUG9zaXRpb25BZnRlcih0KXtyZXR1cm4gZGwuX2NyZWF0ZUFmdGVyKHQpfWNyZWF0ZVBvc2l0aW9uQmVmb3JlKHQpe3JldHVybiBkbC5fY3JlYXRlQmVmb3JlKHQpfWNyZWF0ZVJhbmdlKHQsZSl7cmV0dXJuIG5ldyB1bCh0LGUpfWNyZWF0ZVJhbmdlT24odCl7cmV0dXJuIHVsLl9jcmVhdGVPbih0KX1jcmVhdGVSYW5nZUluKHQpe3JldHVybiB1bC5fY3JlYXRlSW4odCl9Y3JlYXRlU2VsZWN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IGdsKHQsZSxpKX1fd3JhcENoaWxkcmVuKHQsZSxpLG4pe2xldCBvPWU7Y29uc3Qgcj1bXTt3aGlsZShvPGkpe2NvbnN0IGU9dC5nZXRDaGlsZChvKTtjb25zdCBpPWUuaXMoXCJ0ZXh0XCIpO2NvbnN0IHM9ZS5pcyhcImF0dHJpYnV0ZUVsZW1lbnRcIik7Y29uc3QgYT1lLmlzKFwiZW1wdHlFbGVtZW50XCIpO2NvbnN0IGM9ZS5pcyhcInVpRWxlbWVudFwiKTtpZihzJiZ0aGlzLl93cmFwQXR0cmlidXRlRWxlbWVudChuLGUpKXtyLnB1c2gobmV3IGRsKHQsbykpfWVsc2UgaWYoaXx8YXx8Y3x8cyYmSmwobixlKSl7Y29uc3QgaT1uLl9jbG9uZSgpO2UuX3JlbW92ZSgpO2kuX2FwcGVuZENoaWxkKGUpO3QuX2luc2VydENoaWxkKG8saSk7dGhpcy5fYWRkVG9DbG9uZWRFbGVtZW50c0dyb3VwKGkpO3IucHVzaChuZXcgZGwodCxvKSl9ZWxzZSBpZihzKXt0aGlzLl93cmFwQ2hpbGRyZW4oZSwwLGUuY2hpbGRDb3VudCxuKX1vKyt9bGV0IHM9MDtmb3IoY29uc3QgdCBvZiByKXt0Lm9mZnNldC09cztpZih0Lm9mZnNldD09ZSl7Y29udGludWV9Y29uc3Qgbj10aGlzLm1lcmdlQXR0cmlidXRlcyh0KTtpZighbi5pc0VxdWFsKHQpKXtzKys7aS0tfX1yZXR1cm4gdWwuX2NyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyh0LGUsdCxpKX1fdW53cmFwQ2hpbGRyZW4odCxlLGksbil7bGV0IG89ZTtjb25zdCByPVtdO3doaWxlKG88aSl7Y29uc3QgZT10LmdldENoaWxkKG8pO2lmKCFlLmlzKFwiYXR0cmlidXRlRWxlbWVudFwiKSl7bysrO2NvbnRpbnVlfWlmKGUuaXNTaW1pbGFyKG4pKXtjb25zdCBuPWUuZ2V0Q2hpbGRyZW4oKTtjb25zdCBzPWUuY2hpbGRDb3VudDtlLl9yZW1vdmUoKTt0Ll9pbnNlcnRDaGlsZChvLG4pO3RoaXMuX3JlbW92ZUZyb21DbG9uZWRFbGVtZW50c0dyb3VwKGUpO3IucHVzaChuZXcgZGwodCxvKSxuZXcgZGwodCxvK3MpKTtvKz1zO2krPXMtMTtjb250aW51ZX1pZih0aGlzLl91bndyYXBBdHRyaWJ1dGVFbGVtZW50KG4sZSkpe3IucHVzaChuZXcgZGwodCxvKSxuZXcgZGwodCxvKzEpKTtvKys7Y29udGludWV9dGhpcy5fdW53cmFwQ2hpbGRyZW4oZSwwLGUuY2hpbGRDb3VudCxuKTtvKyt9bGV0IHM9MDtmb3IoY29uc3QgdCBvZiByKXt0Lm9mZnNldC09cztpZih0Lm9mZnNldD09ZXx8dC5vZmZzZXQ9PWkpe2NvbnRpbnVlfWNvbnN0IG49dGhpcy5tZXJnZUF0dHJpYnV0ZXModCk7aWYoIW4uaXNFcXVhbCh0KSl7cysrO2ktLX19cmV0dXJuIHVsLl9jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHModCxlLHQsaSl9X3dyYXBSYW5nZSh0LGUpe2NvbnN0e3N0YXJ0OmksZW5kOm59PXRoaXMuX2JyZWFrQXR0cmlidXRlc1JhbmdlKHQsdHJ1ZSk7Y29uc3Qgbz1pLnBhcmVudDtjb25zdCByPXRoaXMuX3dyYXBDaGlsZHJlbihvLGkub2Zmc2V0LG4ub2Zmc2V0LGUpO2NvbnN0IHM9dGhpcy5tZXJnZUF0dHJpYnV0ZXMoci5zdGFydCk7aWYoIXMuaXNFcXVhbChyLnN0YXJ0KSl7ci5lbmQub2Zmc2V0LS19Y29uc3QgYT10aGlzLm1lcmdlQXR0cmlidXRlcyhyLmVuZCk7cmV0dXJuIG5ldyB1bChzLGEpfV93cmFwUG9zaXRpb24odCxlKXtpZihlLmlzU2ltaWxhcih0LnBhcmVudCkpe3JldHVybiBZbCh0LmNsb25lKCkpfWlmKHQucGFyZW50LmlzKFwidGV4dFwiKSl7dD1RbCh0KX1jb25zdCBpPXRoaXMuY3JlYXRlQXR0cmlidXRlRWxlbWVudCgpO2kuX3ByaW9yaXR5PU51bWJlci5QT1NJVElWRV9JTkZJTklUWTtpLmlzU2ltaWxhcj0oKT0+ZmFsc2U7dC5wYXJlbnQuX2luc2VydENoaWxkKHQub2Zmc2V0LGkpO2NvbnN0IG49bmV3IHVsKHQsdC5nZXRTaGlmdGVkQnkoMSkpO3RoaXMud3JhcChuLGUpO2NvbnN0IG89bmV3IGRsKGkucGFyZW50LGkuaW5kZXgpO2kuX3JlbW92ZSgpO2NvbnN0IHI9by5ub2RlQmVmb3JlO2NvbnN0IHM9by5ub2RlQWZ0ZXI7aWYociBpbnN0YW5jZW9mIExzJiZzIGluc3RhbmNlb2YgTHMpe3JldHVybiBYbChyLHMpfXJldHVybiBZbChvKX1fd3JhcEF0dHJpYnV0ZUVsZW1lbnQodCxlKXtpZighbmQodCxlKSl7cmV0dXJuIGZhbHNlfWlmKHQubmFtZSE9PWUubmFtZXx8dC5wcmlvcml0eSE9PWUucHJpb3JpdHkpe3JldHVybiBmYWxzZX1mb3IoY29uc3QgaSBvZiB0LmdldEF0dHJpYnV0ZUtleXMoKSl7aWYoaT09PVwiY2xhc3NcInx8aT09PVwic3R5bGVcIil7Y29udGludWV9aWYoZS5oYXNBdHRyaWJ1dGUoaSkmJmUuZ2V0QXR0cmlidXRlKGkpIT09dC5nZXRBdHRyaWJ1dGUoaSkpe3JldHVybiBmYWxzZX19Zm9yKGNvbnN0IGkgb2YgdC5nZXRTdHlsZU5hbWVzKCkpe2lmKGUuaGFzU3R5bGUoaSkmJmUuZ2V0U3R5bGUoaSkhPT10LmdldFN0eWxlKGkpKXtyZXR1cm4gZmFsc2V9fWZvcihjb25zdCBpIG9mIHQuZ2V0QXR0cmlidXRlS2V5cygpKXtpZihpPT09XCJjbGFzc1wifHxpPT09XCJzdHlsZVwiKXtjb250aW51ZX1pZighZS5oYXNBdHRyaWJ1dGUoaSkpe3RoaXMuc2V0QXR0cmlidXRlKGksdC5nZXRBdHRyaWJ1dGUoaSksZSl9fWZvcihjb25zdCBpIG9mIHQuZ2V0U3R5bGVOYW1lcygpKXtpZighZS5oYXNTdHlsZShpKSl7dGhpcy5zZXRTdHlsZShpLHQuZ2V0U3R5bGUoaSksZSl9fWZvcihjb25zdCBpIG9mIHQuZ2V0Q2xhc3NOYW1lcygpKXtpZighZS5oYXNDbGFzcyhpKSl7dGhpcy5hZGRDbGFzcyhpLGUpfX1yZXR1cm4gdHJ1ZX1fdW53cmFwQXR0cmlidXRlRWxlbWVudCh0LGUpe2lmKCFuZCh0LGUpKXtyZXR1cm4gZmFsc2V9aWYodC5uYW1lIT09ZS5uYW1lfHx0LnByaW9yaXR5IT09ZS5wcmlvcml0eSl7cmV0dXJuIGZhbHNlfWZvcihjb25zdCBpIG9mIHQuZ2V0QXR0cmlidXRlS2V5cygpKXtpZihpPT09XCJjbGFzc1wifHxpPT09XCJzdHlsZVwiKXtjb250aW51ZX1pZighZS5oYXNBdHRyaWJ1dGUoaSl8fGUuZ2V0QXR0cmlidXRlKGkpIT09dC5nZXRBdHRyaWJ1dGUoaSkpe3JldHVybiBmYWxzZX19aWYoIWUuaGFzQ2xhc3MoLi4udC5nZXRDbGFzc05hbWVzKCkpKXtyZXR1cm4gZmFsc2V9Zm9yKGNvbnN0IGkgb2YgdC5nZXRTdHlsZU5hbWVzKCkpe2lmKCFlLmhhc1N0eWxlKGkpfHxlLmdldFN0eWxlKGkpIT09dC5nZXRTdHlsZShpKSl7cmV0dXJuIGZhbHNlfX1mb3IoY29uc3QgaSBvZiB0LmdldEF0dHJpYnV0ZUtleXMoKSl7aWYoaT09PVwiY2xhc3NcInx8aT09PVwic3R5bGVcIil7Y29udGludWV9dGhpcy5yZW1vdmVBdHRyaWJ1dGUoaSxlKX10aGlzLnJlbW92ZUNsYXNzKEFycmF5LmZyb20odC5nZXRDbGFzc05hbWVzKCkpLGUpO3RoaXMucmVtb3ZlU3R5bGUoQXJyYXkuZnJvbSh0LmdldFN0eWxlTmFtZXMoKSksZSk7cmV0dXJuIHRydWV9X2JyZWFrQXR0cmlidXRlc1JhbmdlKHQsZT1mYWxzZSl7Y29uc3QgaT10LnN0YXJ0O2NvbnN0IG49dC5lbmQ7aWQodCx0aGlzLmRvY3VtZW50KTtpZih0LmlzQ29sbGFwc2VkKXtjb25zdCBpPXRoaXMuX2JyZWFrQXR0cmlidXRlcyh0LnN0YXJ0LGUpO3JldHVybiBuZXcgdWwoaSxpKX1jb25zdCBvPXRoaXMuX2JyZWFrQXR0cmlidXRlcyhuLGUpO2NvbnN0IHI9by5wYXJlbnQuY2hpbGRDb3VudDtjb25zdCBzPXRoaXMuX2JyZWFrQXR0cmlidXRlcyhpLGUpO28ub2Zmc2V0Kz1vLnBhcmVudC5jaGlsZENvdW50LXI7cmV0dXJuIG5ldyB1bChzLG8pfV9icmVha0F0dHJpYnV0ZXModCxlPWZhbHNlKXtjb25zdCBpPXQub2Zmc2V0O2NvbnN0IG49dC5wYXJlbnQ7aWYodC5wYXJlbnQuaXMoXCJlbXB0eUVsZW1lbnRcIikpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ2aWV3LXdyaXRlci1jYW5ub3QtYnJlYWstZW1wdHktZWxlbWVudFwiLHRoaXMuZG9jdW1lbnQpfWlmKHQucGFyZW50LmlzKFwidWlFbGVtZW50XCIpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwidmlldy13cml0ZXItY2Fubm90LWJyZWFrLXVpLWVsZW1lbnRcIix0aGlzLmRvY3VtZW50KX1pZighZSYmbi5pcyhcInRleHRcIikmJmVkKG4ucGFyZW50KSl7cmV0dXJuIHQuY2xvbmUoKX1pZihlZChuKSl7cmV0dXJuIHQuY2xvbmUoKX1pZihuLmlzKFwidGV4dFwiKSl7cmV0dXJuIHRoaXMuX2JyZWFrQXR0cmlidXRlcyhRbCh0KSxlKX1jb25zdCBvPW4uY2hpbGRDb3VudDtpZihpPT1vKXtjb25zdCB0PW5ldyBkbChuLnBhcmVudCxuLmluZGV4KzEpO3JldHVybiB0aGlzLl9icmVha0F0dHJpYnV0ZXModCxlKX1lbHNle2lmKGk9PT0wKXtjb25zdCB0PW5ldyBkbChuLnBhcmVudCxuLmluZGV4KTtyZXR1cm4gdGhpcy5fYnJlYWtBdHRyaWJ1dGVzKHQsZSl9ZWxzZXtjb25zdCB0PW4uaW5kZXgrMTtjb25zdCBvPW4uX2Nsb25lKCk7bi5wYXJlbnQuX2luc2VydENoaWxkKHQsbyk7dGhpcy5fYWRkVG9DbG9uZWRFbGVtZW50c0dyb3VwKG8pO2NvbnN0IHI9bi5jaGlsZENvdW50LWk7Y29uc3Qgcz1uLl9yZW1vdmVDaGlsZHJlbihpLHIpO28uX2FwcGVuZENoaWxkKHMpO2NvbnN0IGE9bmV3IGRsKG4ucGFyZW50LHQpO3JldHVybiB0aGlzLl9icmVha0F0dHJpYnV0ZXMoYSxlKX19fV9hZGRUb0Nsb25lZEVsZW1lbnRzR3JvdXAodCl7aWYoIXQucm9vdC5pcyhcInJvb3RFbGVtZW50XCIpKXtyZXR1cm59aWYodC5pcyhcImVsZW1lbnRcIikpe2Zvcihjb25zdCBlIG9mIHQuZ2V0Q2hpbGRyZW4oKSl7dGhpcy5fYWRkVG9DbG9uZWRFbGVtZW50c0dyb3VwKGUpfX1jb25zdCBlPXQuaWQ7aWYoIWUpe3JldHVybn1sZXQgaT10aGlzLl9jbG9uZUdyb3Vwcy5nZXQoZSk7aWYoIWkpe2k9bmV3IFNldDt0aGlzLl9jbG9uZUdyb3Vwcy5zZXQoZSxpKX1pLmFkZCh0KTt0Ll9jbG9uZXNHcm91cD1pfV9yZW1vdmVGcm9tQ2xvbmVkRWxlbWVudHNHcm91cCh0KXtpZih0LmlzKFwiZWxlbWVudFwiKSl7Zm9yKGNvbnN0IGUgb2YgdC5nZXRDaGlsZHJlbigpKXt0aGlzLl9yZW1vdmVGcm9tQ2xvbmVkRWxlbWVudHNHcm91cChlKX19Y29uc3QgZT10LmlkO2lmKCFlKXtyZXR1cm59Y29uc3QgaT10aGlzLl9jbG9uZUdyb3Vwcy5nZXQoZSk7aWYoIWkpe3JldHVybn1pLmRlbGV0ZSh0KX19ZnVuY3Rpb24gR2wodCl7cmV0dXJuIEFycmF5LmZyb20odC5nZXRDaGlsZHJlbigpKS5zb21lKHQ9PiF0LmlzKFwidWlFbGVtZW50XCIpKX1mdW5jdGlvbiBLbCh0KXtsZXQgZT10LnBhcmVudDt3aGlsZSghZWQoZSkpe2lmKCFlKXtyZXR1cm4gdW5kZWZpbmVkfWU9ZS5wYXJlbnR9cmV0dXJuIGV9ZnVuY3Rpb24gSmwodCxlKXtpZih0LnByaW9yaXR5PGUucHJpb3JpdHkpe3JldHVybiB0cnVlfWVsc2UgaWYodC5wcmlvcml0eT5lLnByaW9yaXR5KXtyZXR1cm4gZmFsc2V9cmV0dXJuIHQuZ2V0SWRlbnRpdHkoKTxlLmdldElkZW50aXR5KCl9ZnVuY3Rpb24gWWwodCl7Y29uc3QgZT10Lm5vZGVCZWZvcmU7aWYoZSYmZS5pcyhcInRleHRcIikpe3JldHVybiBuZXcgZGwoZSxlLmRhdGEubGVuZ3RoKX1jb25zdCBpPXQubm9kZUFmdGVyO2lmKGkmJmkuaXMoXCJ0ZXh0XCIpKXtyZXR1cm4gbmV3IGRsKGksMCl9cmV0dXJuIHR9ZnVuY3Rpb24gUWwodCl7aWYodC5vZmZzZXQ9PXQucGFyZW50LmRhdGEubGVuZ3RoKXtyZXR1cm4gbmV3IGRsKHQucGFyZW50LnBhcmVudCx0LnBhcmVudC5pbmRleCsxKX1pZih0Lm9mZnNldD09PTApe3JldHVybiBuZXcgZGwodC5wYXJlbnQucGFyZW50LHQucGFyZW50LmluZGV4KX1jb25zdCBlPXQucGFyZW50LmRhdGEuc2xpY2UodC5vZmZzZXQpO3QucGFyZW50Ll9kYXRhPXQucGFyZW50LmRhdGEuc2xpY2UoMCx0Lm9mZnNldCk7dC5wYXJlbnQucGFyZW50Ll9pbnNlcnRDaGlsZCh0LnBhcmVudC5pbmRleCsxLG5ldyBMcyh0LnJvb3QuZG9jdW1lbnQsZSkpO3JldHVybiBuZXcgZGwodC5wYXJlbnQucGFyZW50LHQucGFyZW50LmluZGV4KzEpfWZ1bmN0aW9uIFhsKHQsZSl7Y29uc3QgaT10LmRhdGEubGVuZ3RoO3QuX2RhdGErPWUuZGF0YTtlLl9yZW1vdmUoKTtyZXR1cm4gbmV3IGRsKHQsaSl9ZnVuY3Rpb24gWmwodCxlKXtmb3IoY29uc3QgaSBvZiB0KXtpZighdGQuc29tZSh0PT5pIGluc3RhbmNlb2YgdCkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ2aWV3LXdyaXRlci1pbnNlcnQtaW52YWxpZC1ub2RlXCIsZSl9aWYoIWkuaXMoXCJ0ZXh0XCIpKXtabChpLmdldENoaWxkcmVuKCksZSl9fX1jb25zdCB0ZD1bTHMsd2wsamMsdmwsRGxdO2Z1bmN0aW9uIGVkKHQpe3JldHVybiB0JiYodC5pcyhcImNvbnRhaW5lckVsZW1lbnRcIil8fHQuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpKX1mdW5jdGlvbiBpZCh0LGUpe2NvbnN0IGk9S2wodC5zdGFydCk7Y29uc3Qgbj1LbCh0LmVuZCk7aWYoIWl8fCFufHxpIT09bil7dGhyb3cgbmV3IHNzW1wiYlwiXShcInZpZXctd3JpdGVyLWludmFsaWQtcmFuZ2UtY29udGFpbmVyXCIsZSl9fWZ1bmN0aW9uIG5kKHQsZSl7cmV0dXJuIHQuaWQ9PT1udWxsJiZlLmlkPT09bnVsbH1mdW5jdGlvbiBvZCh0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpPT1cIltvYmplY3QgVGV4dF1cIn1jb25zdCByZD10PT50LmNyZWF0ZVRleHROb2RlKFwiwqBcIik7Y29uc3Qgc2Q9dD0+e2NvbnN0IGU9dC5jcmVhdGVFbGVtZW50KFwiYnJcIik7ZS5kYXRhc2V0LmNrZUZpbGxlcj10cnVlO3JldHVybiBlfTtjb25zdCBhZD03O2NvbnN0IGNkPSgoKT0+e2xldCB0PVwiXCI7Zm9yKGxldCBlPTA7ZTxhZDtlKyspe3QrPVwi4oCLXCJ9cmV0dXJuIHR9KSgpO2Z1bmN0aW9uIGxkKHQpe3JldHVybiBvZCh0KSYmdC5kYXRhLnN1YnN0cigwLGFkKT09PWNkfWZ1bmN0aW9uIGRkKHQpe3JldHVybiB0LmRhdGEubGVuZ3RoPT1hZCYmbGQodCl9ZnVuY3Rpb24gdWQodCl7aWYobGQodCkpe3JldHVybiB0LmRhdGEuc2xpY2UoYWQpfWVsc2V7cmV0dXJuIHQuZGF0YX19ZnVuY3Rpb24gaGQodCl7dC5kb2N1bWVudC5vbihcImtleWRvd25cIixmZCl9ZnVuY3Rpb24gZmQodCxlKXtpZihlLmtleUNvZGU9PU5sLmFycm93bGVmdCl7Y29uc3QgdD1lLmRvbVRhcmdldC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldFNlbGVjdGlvbigpO2lmKHQucmFuZ2VDb3VudD09MSYmdC5nZXRSYW5nZUF0KDApLmNvbGxhcHNlZCl7Y29uc3QgZT10LmdldFJhbmdlQXQoMCkuc3RhcnRDb250YWluZXI7Y29uc3QgaT10LmdldFJhbmdlQXQoMCkuc3RhcnRPZmZzZXQ7aWYobGQoZSkmJmk8PWFkKXt0LmNvbGxhcHNlKGUsMCl9fX19ZnVuY3Rpb24gZ2QodCxlLGksbj1mYWxzZSl7aT1pfHxmdW5jdGlvbih0LGUpe3JldHVybiB0PT09ZX07aWYoIUFycmF5LmlzQXJyYXkodCkpe3Q9QXJyYXkuZnJvbSh0KX1pZighQXJyYXkuaXNBcnJheShlKSl7ZT1BcnJheS5mcm9tKGUpfWNvbnN0IG89bWQodCxlLGkpO3JldHVybiBuP2tkKG8sZS5sZW5ndGgpOndkKGUsbyl9ZnVuY3Rpb24gbWQodCxlLGkpe2NvbnN0IG49cGQodCxlLGkpO2lmKG49PT0tMSl7cmV0dXJue2ZpcnN0SW5kZXg6LTEsbGFzdEluZGV4T2xkOi0xLGxhc3RJbmRleE5ldzotMX19Y29uc3Qgbz1iZCh0LG4pO2NvbnN0IHI9YmQoZSxuKTtjb25zdCBzPXBkKG8scixpKTtjb25zdCBhPXQubGVuZ3RoLXM7Y29uc3QgYz1lLmxlbmd0aC1zO3JldHVybntmaXJzdEluZGV4Om4sbGFzdEluZGV4T2xkOmEsbGFzdEluZGV4TmV3OmN9fWZ1bmN0aW9uIHBkKHQsZSxpKXtmb3IobGV0IG49MDtuPE1hdGgubWF4KHQubGVuZ3RoLGUubGVuZ3RoKTtuKyspe2lmKHRbbl09PT11bmRlZmluZWR8fGVbbl09PT11bmRlZmluZWR8fCFpKHRbbl0sZVtuXSkpe3JldHVybiBufX1yZXR1cm4tMX1mdW5jdGlvbiBiZCh0LGUpe3JldHVybiB0LnNsaWNlKGUpLnJldmVyc2UoKX1mdW5jdGlvbiB3ZCh0LGUpe2NvbnN0IGk9W107Y29uc3R7Zmlyc3RJbmRleDpuLGxhc3RJbmRleE9sZDpvLGxhc3RJbmRleE5ldzpyfT1lO2lmKHItbj4wKXtpLnB1c2goe2luZGV4Om4sdHlwZTpcImluc2VydFwiLHZhbHVlczp0LnNsaWNlKG4scil9KX1pZihvLW4+MCl7aS5wdXNoKHtpbmRleDpuKyhyLW4pLHR5cGU6XCJkZWxldGVcIixob3dNYW55Om8tbn0pfXJldHVybiBpfWZ1bmN0aW9uIGtkKHQsZSl7Y29uc3R7Zmlyc3RJbmRleDppLGxhc3RJbmRleE9sZDpuLGxhc3RJbmRleE5ldzpvfT10O2lmKGk9PT0tMSl7cmV0dXJuIEFycmF5KGUpLmZpbGwoXCJlcXVhbFwiKX1sZXQgcj1bXTtpZihpPjApe3I9ci5jb25jYXQoQXJyYXkoaSkuZmlsbChcImVxdWFsXCIpKX1pZihvLWk+MCl7cj1yLmNvbmNhdChBcnJheShvLWkpLmZpbGwoXCJpbnNlcnRcIikpfWlmKG4taT4wKXtyPXIuY29uY2F0KEFycmF5KG4taSkuZmlsbChcImRlbGV0ZVwiKSl9aWYobzxlKXtyPXIuY29uY2F0KEFycmF5KGUtbykuZmlsbChcImVxdWFsXCIpKX1yZXR1cm4gcn1mdW5jdGlvbiBfZCh0LGUsaSl7aT1pfHxmdW5jdGlvbih0LGUpe3JldHVybiB0PT09ZX07Y29uc3Qgbj10Lmxlbmd0aDtjb25zdCBvPWUubGVuZ3RoO2lmKG4+MjAwfHxvPjIwMHx8bitvPjMwMCl7cmV0dXJuIF9kLmZhc3REaWZmKHQsZSxpLHRydWUpfWxldCByLHM7aWYobzxuKXtjb25zdCBpPXQ7dD1lO2U9aTtyPVwiZGVsZXRlXCI7cz1cImluc2VydFwifWVsc2V7cj1cImluc2VydFwiO3M9XCJkZWxldGVcIn1jb25zdCBhPXQubGVuZ3RoO2NvbnN0IGM9ZS5sZW5ndGg7Y29uc3QgbD1jLWE7Y29uc3QgZD17fTtjb25zdCB1PXt9O2Z1bmN0aW9uIGgobil7Y29uc3Qgbz0odVtuLTFdIT09dW5kZWZpbmVkP3Vbbi0xXTotMSkrMTtjb25zdCBsPXVbbisxXSE9PXVuZGVmaW5lZD91W24rMV06LTE7Y29uc3QgaD1vPmw/LTE6MTtpZihkW24raF0pe2Rbbl09ZFtuK2hdLnNsaWNlKDApfWlmKCFkW25dKXtkW25dPVtdfWRbbl0ucHVzaChvPmw/cjpzKTtsZXQgZj1NYXRoLm1heChvLGwpO2xldCBnPWYtbjt3aGlsZShnPGEmJmY8YyYmaSh0W2ddLGVbZl0pKXtnKys7ZisrO2Rbbl0ucHVzaChcImVxdWFsXCIpfXJldHVybiBmfWxldCBmPTA7bGV0IGc7ZG97Zm9yKGc9LWY7ZzxsO2crKyl7dVtnXT1oKGcpfWZvcihnPWwrZjtnPmw7Zy0tKXt1W2ddPWgoZyl9dVtsXT1oKGwpO2YrK313aGlsZSh1W2xdIT09Yyk7cmV0dXJuIGRbbF0uc2xpY2UoMSl9X2QuZmFzdERpZmY9Z2Q7ZnVuY3Rpb24gdmQodCxlLGkpe3QuaW5zZXJ0QmVmb3JlKGksdC5jaGlsZE5vZGVzW2VdfHxudWxsKX1mdW5jdGlvbiB5ZCh0KXtjb25zdCBlPXQucGFyZW50Tm9kZTtpZihlKXtlLnJlbW92ZUNoaWxkKHQpfX1mdW5jdGlvbiB4ZCh0KXtpZih0KXtpZih0LmRlZmF1bHRWaWV3KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHQuZGVmYXVsdFZpZXcuRG9jdW1lbnR9ZWxzZSBpZih0Lm93bmVyRG9jdW1lbnQmJnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyl7cmV0dXJuIHQgaW5zdGFuY2VvZiB0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuTm9kZX19cmV0dXJuIGZhbHNlfWNsYXNzIENke2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5kb21Eb2N1bWVudHM9bmV3IFNldDt0aGlzLmRvbUNvbnZlcnRlcj10O3RoaXMubWFya2VkQXR0cmlidXRlcz1uZXcgU2V0O3RoaXMubWFya2VkQ2hpbGRyZW49bmV3IFNldDt0aGlzLm1hcmtlZFRleHRzPW5ldyBTZXQ7dGhpcy5zZWxlY3Rpb249ZTt0aGlzLmlzRm9jdXNlZD1mYWxzZTt0aGlzLl9pbmxpbmVGaWxsZXI9bnVsbDt0aGlzLl9mYWtlU2VsZWN0aW9uQ29udGFpbmVyPW51bGx9bWFya1RvU3luYyh0LGUpe2lmKHQ9PT1cInRleHRcIil7aWYodGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKGUucGFyZW50KSl7dGhpcy5tYXJrZWRUZXh0cy5hZGQoZSl9fWVsc2V7aWYoIXRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbShlKSl7cmV0dXJufWlmKHQ9PT1cImF0dHJpYnV0ZXNcIil7dGhpcy5tYXJrZWRBdHRyaWJ1dGVzLmFkZChlKX1lbHNlIGlmKHQ9PT1cImNoaWxkcmVuXCIpe3RoaXMubWFya2VkQ2hpbGRyZW4uYWRkKGUpfWVsc2V7dGhyb3cgbmV3IHNzW1wiYlwiXShcInZpZXctcmVuZGVyZXItdW5rbm93bi10eXBlOiBVbmtub3duIHR5cGUgcGFzc2VkIHRvIFJlbmRlcmVyLm1hcmtUb1N5bmMuXCIsdGhpcyl9fX1yZW5kZXIoKXtsZXQgdDtmb3IoY29uc3QgdCBvZiB0aGlzLm1hcmtlZENoaWxkcmVuKXt0aGlzLl91cGRhdGVDaGlsZHJlbk1hcHBpbmdzKHQpfWlmKHRoaXMuX2lubGluZUZpbGxlciYmIXRoaXMuX2lzU2VsZWN0aW9uSW5JbmxpbmVGaWxsZXIoKSl7dGhpcy5fcmVtb3ZlSW5saW5lRmlsbGVyKCl9aWYodGhpcy5faW5saW5lRmlsbGVyKXt0PXRoaXMuX2dldElubGluZUZpbGxlclBvc2l0aW9uKCl9ZWxzZSBpZih0aGlzLl9uZWVkc0lubGluZUZpbGxlckF0U2VsZWN0aW9uKCkpe3Q9dGhpcy5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpO3RoaXMubWFya2VkQ2hpbGRyZW4uYWRkKHQucGFyZW50KX1mb3IoY29uc3QgdCBvZiB0aGlzLm1hcmtlZEF0dHJpYnV0ZXMpe3RoaXMuX3VwZGF0ZUF0dHJzKHQpfWZvcihjb25zdCBlIG9mIHRoaXMubWFya2VkQ2hpbGRyZW4pe3RoaXMuX3VwZGF0ZUNoaWxkcmVuKGUse2lubGluZUZpbGxlclBvc2l0aW9uOnR9KX1mb3IoY29uc3QgZSBvZiB0aGlzLm1hcmtlZFRleHRzKXtpZighdGhpcy5tYXJrZWRDaGlsZHJlbi5oYXMoZS5wYXJlbnQpJiZ0aGlzLmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20oZS5wYXJlbnQpKXt0aGlzLl91cGRhdGVUZXh0KGUse2lubGluZUZpbGxlclBvc2l0aW9uOnR9KX19aWYodCl7Y29uc3QgZT10aGlzLmRvbUNvbnZlcnRlci52aWV3UG9zaXRpb25Ub0RvbSh0KTtjb25zdCBpPWUucGFyZW50Lm93bmVyRG9jdW1lbnQ7aWYoIWxkKGUucGFyZW50KSl7dGhpcy5faW5saW5lRmlsbGVyPVRkKGksZS5wYXJlbnQsZS5vZmZzZXQpfWVsc2V7dGhpcy5faW5saW5lRmlsbGVyPWUucGFyZW50fX1lbHNle3RoaXMuX2lubGluZUZpbGxlcj1udWxsfXRoaXMuX3VwZGF0ZVNlbGVjdGlvbigpO3RoaXMuX3VwZGF0ZUZvY3VzKCk7dGhpcy5tYXJrZWRUZXh0cy5jbGVhcigpO3RoaXMubWFya2VkQXR0cmlidXRlcy5jbGVhcigpO3RoaXMubWFya2VkQ2hpbGRyZW4uY2xlYXIoKX1fdXBkYXRlQ2hpbGRyZW5NYXBwaW5ncyh0KXtjb25zdCBlPXRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbSh0KTtpZighZSl7cmV0dXJufWNvbnN0IGk9dGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHQpLmNoaWxkTm9kZXM7Y29uc3Qgbj1BcnJheS5mcm9tKHRoaXMuZG9tQ29udmVydGVyLnZpZXdDaGlsZHJlblRvRG9tKHQsZS5vd25lckRvY3VtZW50LHt3aXRoQ2hpbGRyZW46ZmFsc2V9KSk7Y29uc3Qgbz10aGlzLl9kaWZmTm9kZUxpc3RzKGksbik7Y29uc3Qgcj10aGlzLl9maW5kUmVwbGFjZUFjdGlvbnMobyxpLG4pO2lmKHIuaW5kZXhPZihcInJlcGxhY2VcIikhPT0tMSl7Y29uc3QgZT17ZXF1YWw6MCxpbnNlcnQ6MCxkZWxldGU6MH07Zm9yKGNvbnN0IG8gb2Ygcil7aWYobz09PVwicmVwbGFjZVwiKXtjb25zdCBvPWUuZXF1YWwrZS5pbnNlcnQ7Y29uc3Qgcj1lLmVxdWFsK2UuZGVsZXRlO2NvbnN0IHM9dC5nZXRDaGlsZChvKTtpZihzJiYhcy5pcyhcInVpRWxlbWVudFwiKSl7dGhpcy5fdXBkYXRlRWxlbWVudE1hcHBpbmdzKHMsaVtyXSl9eWQobltvXSk7ZS5lcXVhbCsrfWVsc2V7ZVtvXSsrfX19fV91cGRhdGVFbGVtZW50TWFwcGluZ3ModCxlKXt0aGlzLmRvbUNvbnZlcnRlci51bmJpbmREb21FbGVtZW50KGUpO3RoaXMuZG9tQ29udmVydGVyLmJpbmRFbGVtZW50cyhlLHQpO3RoaXMubWFya2VkQ2hpbGRyZW4uYWRkKHQpO3RoaXMubWFya2VkQXR0cmlidXRlcy5hZGQodCl9X2dldElubGluZUZpbGxlclBvc2l0aW9uKCl7Y29uc3QgdD10aGlzLnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCk7aWYodC5wYXJlbnQuaXMoXCJ0ZXh0XCIpKXtyZXR1cm4gZGwuX2NyZWF0ZUJlZm9yZSh0aGlzLnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCkucGFyZW50KX1lbHNle3JldHVybiB0fX1faXNTZWxlY3Rpb25JbklubGluZUZpbGxlcigpe2lmKHRoaXMuc2VsZWN0aW9uLnJhbmdlQ291bnQhPTF8fCF0aGlzLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCl7cmV0dXJuIGZhbHNlfWNvbnN0IHQ9dGhpcy5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpO2NvbnN0IGU9dGhpcy5kb21Db252ZXJ0ZXIudmlld1Bvc2l0aW9uVG9Eb20odCk7aWYoZSYmb2QoZS5wYXJlbnQpJiZsZChlLnBhcmVudCkpe3JldHVybiB0cnVlfXJldHVybiBmYWxzZX1fcmVtb3ZlSW5saW5lRmlsbGVyKCl7Y29uc3QgdD10aGlzLl9pbmxpbmVGaWxsZXI7aWYoIWxkKHQpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwidmlldy1yZW5kZXJlci1maWxsZXItd2FzLWxvc3Q6IFRoZSBpbmxpbmUgZmlsbGVyIG5vZGUgd2FzIGxvc3QuXCIsdGhpcyl9aWYoZGQodCkpe3QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX1lbHNle3QuZGF0YT10LmRhdGEuc3Vic3RyKGFkKX10aGlzLl9pbmxpbmVGaWxsZXI9bnVsbH1fbmVlZHNJbmxpbmVGaWxsZXJBdFNlbGVjdGlvbigpe2lmKHRoaXMuc2VsZWN0aW9uLnJhbmdlQ291bnQhPTF8fCF0aGlzLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCl7cmV0dXJuIGZhbHNlfWNvbnN0IHQ9dGhpcy5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpO2NvbnN0IGU9dC5wYXJlbnQ7Y29uc3QgaT10Lm9mZnNldDtpZighdGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKGUucm9vdCkpe3JldHVybiBmYWxzZX1pZighZS5pcyhcImVsZW1lbnRcIikpe3JldHVybiBmYWxzZX1pZighQWQoZSkpe3JldHVybiBmYWxzZX1pZihpPT09ZS5nZXRGaWxsZXJPZmZzZXQoKSl7cmV0dXJuIGZhbHNlfWNvbnN0IG49dC5ub2RlQmVmb3JlO2NvbnN0IG89dC5ub2RlQWZ0ZXI7aWYobiBpbnN0YW5jZW9mIExzfHxvIGluc3RhbmNlb2YgTHMpe3JldHVybiBmYWxzZX1yZXR1cm4gdHJ1ZX1fdXBkYXRlVGV4dCh0LGUpe2NvbnN0IGk9dGhpcy5kb21Db252ZXJ0ZXIuZmluZENvcnJlc3BvbmRpbmdEb21UZXh0KHQpO2NvbnN0IG49dGhpcy5kb21Db252ZXJ0ZXIudmlld1RvRG9tKHQsaS5vd25lckRvY3VtZW50KTtjb25zdCBvPWkuZGF0YTtsZXQgcj1uLmRhdGE7Y29uc3Qgcz1lLmlubGluZUZpbGxlclBvc2l0aW9uO2lmKHMmJnMucGFyZW50PT10LnBhcmVudCYmcy5vZmZzZXQ9PXQuaW5kZXgpe3I9Y2Qrcn1pZihvIT1yKXtjb25zdCB0PWdkKG8scik7Zm9yKGNvbnN0IGUgb2YgdCl7aWYoZS50eXBlPT09XCJpbnNlcnRcIil7aS5pbnNlcnREYXRhKGUuaW5kZXgsZS52YWx1ZXMuam9pbihcIlwiKSl9ZWxzZXtpLmRlbGV0ZURhdGEoZS5pbmRleCxlLmhvd01hbnkpfX19fV91cGRhdGVBdHRycyh0KXtjb25zdCBlPXRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbSh0KTtpZighZSl7cmV0dXJufWNvbnN0IGk9QXJyYXkuZnJvbShlLmF0dHJpYnV0ZXMpLm1hcCh0PT50Lm5hbWUpO2NvbnN0IG49dC5nZXRBdHRyaWJ1dGVLZXlzKCk7Zm9yKGNvbnN0IGkgb2Ygbil7ZS5zZXRBdHRyaWJ1dGUoaSx0LmdldEF0dHJpYnV0ZShpKSl9Zm9yKGNvbnN0IG4gb2YgaSl7aWYoIXQuaGFzQXR0cmlidXRlKG4pKXtlLnJlbW92ZUF0dHJpYnV0ZShuKX19fV91cGRhdGVDaGlsZHJlbih0LGUpe2NvbnN0IGk9dGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHQpO2lmKCFpKXtyZXR1cm59Y29uc3Qgbj1lLmlubGluZUZpbGxlclBvc2l0aW9uO2NvbnN0IG89dGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHQpLmNoaWxkTm9kZXM7Y29uc3Qgcj1BcnJheS5mcm9tKHRoaXMuZG9tQ29udmVydGVyLnZpZXdDaGlsZHJlblRvRG9tKHQsaS5vd25lckRvY3VtZW50LHtiaW5kOnRydWUsaW5saW5lRmlsbGVyUG9zaXRpb246bn0pKTtpZihuJiZuLnBhcmVudD09PXQpe1RkKGkub3duZXJEb2N1bWVudCxyLG4ub2Zmc2V0KX1jb25zdCBzPXRoaXMuX2RpZmZOb2RlTGlzdHMobyxyKTtsZXQgYT0wO2NvbnN0IGM9bmV3IFNldDtmb3IoY29uc3QgdCBvZiBzKXtpZih0PT09XCJkZWxldGVcIil7Yy5hZGQob1thXSk7eWQob1thXSl9ZWxzZSBpZih0PT09XCJlcXVhbFwiKXthKyt9fWE9MDtmb3IoY29uc3QgdCBvZiBzKXtpZih0PT09XCJpbnNlcnRcIil7dmQoaSxhLHJbYV0pO2ErK31lbHNlIGlmKHQ9PT1cImVxdWFsXCIpe3RoaXMuX21hcmtEZXNjZW5kYW50VGV4dFRvU3luYyh0aGlzLmRvbUNvbnZlcnRlci5kb21Ub1ZpZXcoclthXSkpO2ErK319Zm9yKGNvbnN0IHQgb2YgYyl7aWYoIXQucGFyZW50Tm9kZSl7dGhpcy5kb21Db252ZXJ0ZXIudW5iaW5kRG9tRWxlbWVudCh0KX19fV9kaWZmTm9kZUxpc3RzKHQsZSl7dD1SZCh0LHRoaXMuX2Zha2VTZWxlY3Rpb25Db250YWluZXIpO3JldHVybiBfZCh0LGUsU2QuYmluZChudWxsLHRoaXMuZG9tQ29udmVydGVyKSl9X2ZpbmRSZXBsYWNlQWN0aW9ucyh0LGUsaSl7aWYodC5pbmRleE9mKFwiaW5zZXJ0XCIpPT09LTF8fHQuaW5kZXhPZihcImRlbGV0ZVwiKT09PS0xKXtyZXR1cm4gdH1sZXQgbj1bXTtsZXQgbz1bXTtsZXQgcj1bXTtjb25zdCBzPXtlcXVhbDowLGluc2VydDowLGRlbGV0ZTowfTtmb3IoY29uc3QgYSBvZiB0KXtpZihhPT09XCJpbnNlcnRcIil7ci5wdXNoKGlbcy5lcXVhbCtzLmluc2VydF0pfWVsc2UgaWYoYT09PVwiZGVsZXRlXCIpe28ucHVzaChlW3MuZXF1YWwrcy5kZWxldGVdKX1lbHNle249bi5jb25jYXQoX2QobyxyLFBkKS5tYXAodD0+dD09PVwiZXF1YWxcIj9cInJlcGxhY2VcIjp0KSk7bi5wdXNoKFwiZXF1YWxcIik7bz1bXTtyPVtdfXNbYV0rK31yZXR1cm4gbi5jb25jYXQoX2QobyxyLFBkKS5tYXAodD0+dD09PVwiZXF1YWxcIj9cInJlcGxhY2VcIjp0KSl9X21hcmtEZXNjZW5kYW50VGV4dFRvU3luYyh0KXtpZighdCl7cmV0dXJufWlmKHQuaXMoXCJ0ZXh0XCIpKXt0aGlzLm1hcmtlZFRleHRzLmFkZCh0KX1lbHNlIGlmKHQuaXMoXCJlbGVtZW50XCIpKXtmb3IoY29uc3QgZSBvZiB0LmdldENoaWxkcmVuKCkpe3RoaXMuX21hcmtEZXNjZW5kYW50VGV4dFRvU3luYyhlKX19fV91cGRhdGVTZWxlY3Rpb24oKXtpZih0aGlzLnNlbGVjdGlvbi5yYW5nZUNvdW50PT09MCl7dGhpcy5fcmVtb3ZlRG9tU2VsZWN0aW9uKCk7dGhpcy5fcmVtb3ZlRmFrZVNlbGVjdGlvbigpO3JldHVybn1jb25zdCB0PXRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbSh0aGlzLnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQpO2lmKCF0aGlzLmlzRm9jdXNlZHx8IXQpe3JldHVybn1pZih0aGlzLnNlbGVjdGlvbi5pc0Zha2Upe3RoaXMuX3VwZGF0ZUZha2VTZWxlY3Rpb24odCl9ZWxzZXt0aGlzLl9yZW1vdmVGYWtlU2VsZWN0aW9uKCk7dGhpcy5fdXBkYXRlRG9tU2VsZWN0aW9uKHQpfX1fdXBkYXRlRmFrZVNlbGVjdGlvbih0KXtjb25zdCBlPXQub3duZXJEb2N1bWVudDtpZighdGhpcy5fZmFrZVNlbGVjdGlvbkNvbnRhaW5lcil7dGhpcy5fZmFrZVNlbGVjdGlvbkNvbnRhaW5lcj1PZChlKX1jb25zdCBpPXRoaXMuX2Zha2VTZWxlY3Rpb25Db250YWluZXI7dGhpcy5kb21Db252ZXJ0ZXIuYmluZEZha2VTZWxlY3Rpb24oaSx0aGlzLnNlbGVjdGlvbik7aWYoIXRoaXMuX2Zha2VTZWxlY3Rpb25OZWVkc1VwZGF0ZSh0KSl7cmV0dXJufWlmKCFpLnBhcmVudEVsZW1lbnR8fGkucGFyZW50RWxlbWVudCE9dCl7dC5hcHBlbmRDaGlsZChpKX1pLnRleHRDb250ZW50PXRoaXMuc2VsZWN0aW9uLmZha2VTZWxlY3Rpb25MYWJlbHx8XCLCoFwiO2NvbnN0IG49ZS5nZXRTZWxlY3Rpb24oKTtjb25zdCBvPWUuY3JlYXRlUmFuZ2UoKTtuLnJlbW92ZUFsbFJhbmdlcygpO28uc2VsZWN0Tm9kZUNvbnRlbnRzKGkpO24uYWRkUmFuZ2Uobyl9X3VwZGF0ZURvbVNlbGVjdGlvbih0KXtjb25zdCBlPXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKTtpZighdGhpcy5fZG9tU2VsZWN0aW9uTmVlZHNVcGRhdGUoZSkpe3JldHVybn1jb25zdCBpPXRoaXMuZG9tQ29udmVydGVyLnZpZXdQb3NpdGlvblRvRG9tKHRoaXMuc2VsZWN0aW9uLmFuY2hvcik7Y29uc3Qgbj10aGlzLmRvbUNvbnZlcnRlci52aWV3UG9zaXRpb25Ub0RvbSh0aGlzLnNlbGVjdGlvbi5mb2N1cyk7dC5mb2N1cygpO2UuY29sbGFwc2UoaS5wYXJlbnQsaS5vZmZzZXQpO2UuZXh0ZW5kKG4ucGFyZW50LG4ub2Zmc2V0KTtpZihBbC5pc0dlY2tvKXtFZChuLGUpfX1fZG9tU2VsZWN0aW9uTmVlZHNVcGRhdGUodCl7aWYoIXRoaXMuZG9tQ29udmVydGVyLmlzRG9tU2VsZWN0aW9uQ29ycmVjdCh0KSl7cmV0dXJuIHRydWV9Y29uc3QgZT10JiZ0aGlzLmRvbUNvbnZlcnRlci5kb21TZWxlY3Rpb25Ub1ZpZXcodCk7aWYoZSYmdGhpcy5zZWxlY3Rpb24uaXNFcXVhbChlKSl7cmV0dXJuIGZhbHNlfWlmKCF0aGlzLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCYmdGhpcy5zZWxlY3Rpb24uaXNTaW1pbGFyKGUpKXtyZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9X2Zha2VTZWxlY3Rpb25OZWVkc1VwZGF0ZSh0KXtjb25zdCBlPXRoaXMuX2Zha2VTZWxlY3Rpb25Db250YWluZXI7Y29uc3QgaT10Lm93bmVyRG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCk7aWYoIWV8fGUucGFyZW50RWxlbWVudCE9PXQpe3JldHVybiB0cnVlfWlmKGkuYW5jaG9yTm9kZSE9PWUmJiFlLmNvbnRhaW5zKGkuYW5jaG9yTm9kZSkpe3JldHVybiB0cnVlfXJldHVybiBlLnRleHRDb250ZW50IT09dGhpcy5zZWxlY3Rpb24uZmFrZVNlbGVjdGlvbkxhYmVsfV9yZW1vdmVEb21TZWxlY3Rpb24oKXtmb3IoY29uc3QgdCBvZiB0aGlzLmRvbURvY3VtZW50cyl7Y29uc3QgZT10LmdldFNlbGVjdGlvbigpO2lmKGUucmFuZ2VDb3VudCl7Y29uc3QgZT10LmFjdGl2ZUVsZW1lbnQ7Y29uc3QgaT10aGlzLmRvbUNvbnZlcnRlci5tYXBEb21Ub1ZpZXcoZSk7aWYoZSYmaSl7dC5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKX19fX1fcmVtb3ZlRmFrZVNlbGVjdGlvbigpe2NvbnN0IHQ9dGhpcy5fZmFrZVNlbGVjdGlvbkNvbnRhaW5lcjtpZih0KXt0LnJlbW92ZSgpfX1fdXBkYXRlRm9jdXMoKXtpZih0aGlzLmlzRm9jdXNlZCl7Y29uc3QgdD10aGlzLnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ7aWYodCl7dGhpcy5kb21Db252ZXJ0ZXIuZm9jdXModCl9fX19dnMoQ2QsSmMpO2Z1bmN0aW9uIEFkKHQpe2lmKHQuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpPT1cImZhbHNlXCIpe3JldHVybiBmYWxzZX1jb25zdCBlPXQuZmluZEFuY2VzdG9yKHQ9PnQuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKTtyZXR1cm4hZXx8ZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik9PVwidHJ1ZVwifWZ1bmN0aW9uIFRkKHQsZSxpKXtjb25zdCBuPWUgaW5zdGFuY2VvZiBBcnJheT9lOmUuY2hpbGROb2Rlcztjb25zdCBvPW5baV07aWYob2Qobykpe28uZGF0YT1jZCtvLmRhdGE7cmV0dXJuIG99ZWxzZXtjb25zdCBvPXQuY3JlYXRlVGV4dE5vZGUoY2QpO2lmKEFycmF5LmlzQXJyYXkoZSkpe24uc3BsaWNlKGksMCxvKX1lbHNle3ZkKGUsaSxvKX1yZXR1cm4gb319ZnVuY3Rpb24gUGQodCxlKXtyZXR1cm4geGQodCkmJnhkKGUpJiYhb2QodCkmJiFvZChlKSYmdC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBTZCh0LGUsaSl7aWYoZT09PWkpe3JldHVybiB0cnVlfWVsc2UgaWYob2QoZSkmJm9kKGkpKXtyZXR1cm4gZS5kYXRhPT09aS5kYXRhfWVsc2UgaWYodC5pc0Jsb2NrRmlsbGVyKGUpJiZ0LmlzQmxvY2tGaWxsZXIoaSkpe3JldHVybiB0cnVlfXJldHVybiBmYWxzZX1mdW5jdGlvbiBFZCh0LGUpe2NvbnN0IGk9dC5wYXJlbnQ7aWYoaS5ub2RlVHlwZSE9Tm9kZS5FTEVNRU5UX05PREV8fHQub2Zmc2V0IT1pLmNoaWxkTm9kZXMubGVuZ3RoLTEpe3JldHVybn1jb25zdCBuPWkuY2hpbGROb2Rlc1t0Lm9mZnNldF07aWYobiYmbi50YWdOYW1lPT1cIkJSXCIpe2UuYWRkUmFuZ2UoZS5nZXRSYW5nZUF0KDApKX19ZnVuY3Rpb24gUmQodCxlKXtjb25zdCBpPUFycmF5LmZyb20odCk7aWYoaS5sZW5ndGg9PTB8fCFlKXtyZXR1cm4gaX1jb25zdCBuPWlbaS5sZW5ndGgtMV07aWYobj09ZSl7aS5wb3AoKX1yZXR1cm4gaX1mdW5jdGlvbiBPZCh0KXtjb25zdCBlPXQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtPYmplY3QuYXNzaWduKGUuc3R5bGUse3Bvc2l0aW9uOlwiZml4ZWRcIix0b3A6MCxsZWZ0OlwiLTk5OTlweFwiLHdpZHRoOlwiNDJweFwifSk7ZS50ZXh0Q29udGVudD1cIsKgXCI7cmV0dXJuIGV9dmFyIElkPXt3aW5kb3c6d2luZG93LGRvY3VtZW50OmRvY3VtZW50fTtmdW5jdGlvbiBWZCh0KXtsZXQgZT0wO3doaWxlKHQucHJldmlvdXNTaWJsaW5nKXt0PXQucHJldmlvdXNTaWJsaW5nO2UrK31yZXR1cm4gZX1mdW5jdGlvbiBOZCh0KXtjb25zdCBlPVtdO3doaWxlKHQmJnQubm9kZVR5cGUhPU5vZGUuRE9DVU1FTlRfTk9ERSl7ZS51bnNoaWZ0KHQpO3Q9dC5wYXJlbnROb2RlfXJldHVybiBlfWZ1bmN0aW9uIE1kKHQsZSl7Y29uc3QgaT1OZCh0KTtjb25zdCBuPU5kKGUpO2xldCBvPTA7d2hpbGUoaVtvXT09bltvXSYmaVtvXSl7bysrfXJldHVybiBvPT09MD9udWxsOmlbby0xXX1jb25zdCBCZD1zZChkb2N1bWVudCk7Y2xhc3MgemR7Y29uc3RydWN0b3IodCxlPXt9KXt0aGlzLmRvY3VtZW50PXQ7dGhpcy5ibG9ja0ZpbGxlck1vZGU9ZS5ibG9ja0ZpbGxlck1vZGV8fFwiYnJcIjt0aGlzLnByZUVsZW1lbnRzPVtcInByZVwiXTt0aGlzLmJsb2NrRWxlbWVudHM9W1wicFwiLFwiZGl2XCIsXCJoMVwiLFwiaDJcIixcImgzXCIsXCJoNFwiLFwiaDVcIixcImg2XCIsXCJsaVwiLFwiZGRcIixcImR0XCIsXCJmaWdjYXB0aW9uXCJdO3RoaXMuX2Jsb2NrRmlsbGVyPXRoaXMuYmxvY2tGaWxsZXJNb2RlPT1cImJyXCI/c2Q6cmQ7dGhpcy5fZG9tVG9WaWV3TWFwcGluZz1uZXcgV2Vha01hcDt0aGlzLl92aWV3VG9Eb21NYXBwaW5nPW5ldyBXZWFrTWFwO3RoaXMuX2Zha2VTZWxlY3Rpb25NYXBwaW5nPW5ldyBXZWFrTWFwfWJpbmRGYWtlU2VsZWN0aW9uKHQsZSl7dGhpcy5fZmFrZVNlbGVjdGlvbk1hcHBpbmcuc2V0KHQsbmV3IGdsKGUpKX1mYWtlU2VsZWN0aW9uVG9WaWV3KHQpe3JldHVybiB0aGlzLl9mYWtlU2VsZWN0aW9uTWFwcGluZy5nZXQodCl9YmluZEVsZW1lbnRzKHQsZSl7dGhpcy5fZG9tVG9WaWV3TWFwcGluZy5zZXQodCxlKTt0aGlzLl92aWV3VG9Eb21NYXBwaW5nLnNldChlLHQpfXVuYmluZERvbUVsZW1lbnQodCl7Y29uc3QgZT10aGlzLl9kb21Ub1ZpZXdNYXBwaW5nLmdldCh0KTtpZihlKXt0aGlzLl9kb21Ub1ZpZXdNYXBwaW5nLmRlbGV0ZSh0KTt0aGlzLl92aWV3VG9Eb21NYXBwaW5nLmRlbGV0ZShlKTtmb3IoY29uc3QgZSBvZiBBcnJheS5mcm9tKHQuY2hpbGROb2Rlcykpe3RoaXMudW5iaW5kRG9tRWxlbWVudChlKX19fWJpbmREb2N1bWVudEZyYWdtZW50cyh0LGUpe3RoaXMuX2RvbVRvVmlld01hcHBpbmcuc2V0KHQsZSk7dGhpcy5fdmlld1RvRG9tTWFwcGluZy5zZXQoZSx0KX12aWV3VG9Eb20odCxlLGk9e30pe2lmKHQuaXMoXCJ0ZXh0XCIpKXtjb25zdCBpPXRoaXMuX3Byb2Nlc3NEYXRhRnJvbVZpZXdUZXh0KHQpO3JldHVybiBlLmNyZWF0ZVRleHROb2RlKGkpfWVsc2V7aWYodGhpcy5tYXBWaWV3VG9Eb20odCkpe3JldHVybiB0aGlzLm1hcFZpZXdUb0RvbSh0KX1sZXQgbjtpZih0LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKSl7bj1lLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihpLmJpbmQpe3RoaXMuYmluZERvY3VtZW50RnJhZ21lbnRzKG4sdCl9fWVsc2UgaWYodC5pcyhcInVpRWxlbWVudFwiKSl7bj10LnJlbmRlcihlKTtpZihpLmJpbmQpe3RoaXMuYmluZEVsZW1lbnRzKG4sdCl9cmV0dXJuIG59ZWxzZXtpZih0Lmhhc0F0dHJpYnV0ZShcInhtbG5zXCIpKXtuPWUuY3JlYXRlRWxlbWVudE5TKHQuZ2V0QXR0cmlidXRlKFwieG1sbnNcIiksdC5uYW1lKX1lbHNle249ZS5jcmVhdGVFbGVtZW50KHQubmFtZSl9aWYoaS5iaW5kKXt0aGlzLmJpbmRFbGVtZW50cyhuLHQpfWZvcihjb25zdCBlIG9mIHQuZ2V0QXR0cmlidXRlS2V5cygpKXtuLnNldEF0dHJpYnV0ZShlLHQuZ2V0QXR0cmlidXRlKGUpKX19aWYoaS53aXRoQ2hpbGRyZW58fGkud2l0aENoaWxkcmVuPT09dW5kZWZpbmVkKXtmb3IoY29uc3QgbyBvZiB0aGlzLnZpZXdDaGlsZHJlblRvRG9tKHQsZSxpKSl7bi5hcHBlbmRDaGlsZChvKX19cmV0dXJuIG59fSp2aWV3Q2hpbGRyZW5Ub0RvbSh0LGUsaT17fSl7Y29uc3Qgbj10LmdldEZpbGxlck9mZnNldCYmdC5nZXRGaWxsZXJPZmZzZXQoKTtsZXQgbz0wO2Zvcihjb25zdCByIG9mIHQuZ2V0Q2hpbGRyZW4oKSl7aWYobj09PW8pe3lpZWxkIHRoaXMuX2Jsb2NrRmlsbGVyKGUpfXlpZWxkIHRoaXMudmlld1RvRG9tKHIsZSxpKTtvKyt9aWYobj09PW8pe3lpZWxkIHRoaXMuX2Jsb2NrRmlsbGVyKGUpfX12aWV3UmFuZ2VUb0RvbSh0KXtjb25zdCBlPXRoaXMudmlld1Bvc2l0aW9uVG9Eb20odC5zdGFydCk7Y29uc3QgaT10aGlzLnZpZXdQb3NpdGlvblRvRG9tKHQuZW5kKTtjb25zdCBuPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7bi5zZXRTdGFydChlLnBhcmVudCxlLm9mZnNldCk7bi5zZXRFbmQoaS5wYXJlbnQsaS5vZmZzZXQpO3JldHVybiBufXZpZXdQb3NpdGlvblRvRG9tKHQpe2NvbnN0IGU9dC5wYXJlbnQ7aWYoZS5pcyhcInRleHRcIikpe2NvbnN0IGk9dGhpcy5maW5kQ29ycmVzcG9uZGluZ0RvbVRleHQoZSk7aWYoIWkpe3JldHVybiBudWxsfWxldCBuPXQub2Zmc2V0O2lmKGxkKGkpKXtuKz1hZH1yZXR1cm57cGFyZW50Omksb2Zmc2V0Om59fWVsc2V7bGV0IGksbixvO2lmKHQub2Zmc2V0PT09MCl7aT10aGlzLm1hcFZpZXdUb0RvbShlKTtpZighaSl7cmV0dXJuIG51bGx9bz1pLmNoaWxkTm9kZXNbMF19ZWxzZXtjb25zdCBlPXQubm9kZUJlZm9yZTtuPWUuaXMoXCJ0ZXh0XCIpP3RoaXMuZmluZENvcnJlc3BvbmRpbmdEb21UZXh0KGUpOnRoaXMubWFwVmlld1RvRG9tKHQubm9kZUJlZm9yZSk7aWYoIW4pe3JldHVybiBudWxsfWk9bi5wYXJlbnROb2RlO289bi5uZXh0U2libGluZ31pZihvZChvKSYmbGQobykpe3JldHVybntwYXJlbnQ6byxvZmZzZXQ6YWR9fWNvbnN0IHI9bj9WZChuKSsxOjA7cmV0dXJue3BhcmVudDppLG9mZnNldDpyfX19ZG9tVG9WaWV3KHQsZT17fSl7aWYodGhpcy5pc0Jsb2NrRmlsbGVyKHQsdGhpcy5ibG9ja0ZpbGxlck1vZGUpKXtyZXR1cm4gbnVsbH1jb25zdCBpPXRoaXMuZ2V0UGFyZW50VUlFbGVtZW50KHQsdGhpcy5fZG9tVG9WaWV3TWFwcGluZyk7aWYoaSl7cmV0dXJuIGl9aWYob2QodCkpe2lmKGRkKHQpKXtyZXR1cm4gbnVsbH1lbHNle2NvbnN0IGU9dGhpcy5fcHJvY2Vzc0RhdGFGcm9tRG9tVGV4dCh0KTtyZXR1cm4gZT09PVwiXCI/bnVsbDpuZXcgTHModGhpcy5kb2N1bWVudCxlKX19ZWxzZSBpZih0aGlzLmlzQ29tbWVudCh0KSl7cmV0dXJuIG51bGx9ZWxzZXtpZih0aGlzLm1hcERvbVRvVmlldyh0KSl7cmV0dXJuIHRoaXMubWFwRG9tVG9WaWV3KHQpfWxldCBpO2lmKHRoaXMuaXNEb2N1bWVudEZyYWdtZW50KHQpKXtpPW5ldyBxbCh0aGlzLmRvY3VtZW50KTtpZihlLmJpbmQpe3RoaXMuYmluZERvY3VtZW50RnJhZ21lbnRzKHQsaSl9fWVsc2V7Y29uc3Qgbj1lLmtlZXBPcmlnaW5hbENhc2U/dC50YWdOYW1lOnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO2k9bmV3IHpjKHRoaXMuZG9jdW1lbnQsbik7aWYoZS5iaW5kKXt0aGlzLmJpbmRFbGVtZW50cyh0LGkpfWNvbnN0IG89dC5hdHRyaWJ1dGVzO2ZvcihsZXQgdD1vLmxlbmd0aC0xO3Q+PTA7dC0tKXtpLl9zZXRBdHRyaWJ1dGUob1t0XS5uYW1lLG9bdF0udmFsdWUpfX1pZihlLndpdGhDaGlsZHJlbnx8ZS53aXRoQ2hpbGRyZW49PT11bmRlZmluZWQpe2Zvcihjb25zdCBuIG9mIHRoaXMuZG9tQ2hpbGRyZW5Ub1ZpZXcodCxlKSl7aS5fYXBwZW5kQ2hpbGQobil9fXJldHVybiBpfX0qZG9tQ2hpbGRyZW5Ub1ZpZXcodCxlPXt9KXtmb3IobGV0IGk9MDtpPHQuY2hpbGROb2Rlcy5sZW5ndGg7aSsrKXtjb25zdCBuPXQuY2hpbGROb2Rlc1tpXTtjb25zdCBvPXRoaXMuZG9tVG9WaWV3KG4sZSk7aWYobyE9PW51bGwpe3lpZWxkIG99fX1kb21TZWxlY3Rpb25Ub1ZpZXcodCl7aWYodC5yYW5nZUNvdW50PT09MSl7bGV0IGU9dC5nZXRSYW5nZUF0KDApLnN0YXJ0Q29udGFpbmVyO2lmKG9kKGUpKXtlPWUucGFyZW50Tm9kZX1jb25zdCBpPXRoaXMuZmFrZVNlbGVjdGlvblRvVmlldyhlKTtpZihpKXtyZXR1cm4gaX19Y29uc3QgZT10aGlzLmlzRG9tU2VsZWN0aW9uQmFja3dhcmQodCk7Y29uc3QgaT1bXTtmb3IobGV0IGU9MDtlPHQucmFuZ2VDb3VudDtlKyspe2NvbnN0IG49dC5nZXRSYW5nZUF0KGUpO2NvbnN0IG89dGhpcy5kb21SYW5nZVRvVmlldyhuKTtpZihvKXtpLnB1c2gobyl9fXJldHVybiBuZXcgZ2woaSx7YmFja3dhcmQ6ZX0pfWRvbVJhbmdlVG9WaWV3KHQpe2NvbnN0IGU9dGhpcy5kb21Qb3NpdGlvblRvVmlldyh0LnN0YXJ0Q29udGFpbmVyLHQuc3RhcnRPZmZzZXQpO2NvbnN0IGk9dGhpcy5kb21Qb3NpdGlvblRvVmlldyh0LmVuZENvbnRhaW5lcix0LmVuZE9mZnNldCk7aWYoZSYmaSl7cmV0dXJuIG5ldyB1bChlLGkpfXJldHVybiBudWxsfWRvbVBvc2l0aW9uVG9WaWV3KHQsZSl7aWYodGhpcy5pc0Jsb2NrRmlsbGVyKHQsdGhpcy5ibG9ja0ZpbGxlck1vZGUpKXtyZXR1cm4gdGhpcy5kb21Qb3NpdGlvblRvVmlldyh0LnBhcmVudE5vZGUsVmQodCkpfWNvbnN0IGk9dGhpcy5tYXBEb21Ub1ZpZXcodCk7aWYoaSYmaS5pcyhcInVpRWxlbWVudFwiKSl7cmV0dXJuIGRsLl9jcmVhdGVCZWZvcmUoaSl9aWYob2QodCkpe2lmKGRkKHQpKXtyZXR1cm4gdGhpcy5kb21Qb3NpdGlvblRvVmlldyh0LnBhcmVudE5vZGUsVmQodCkpfWNvbnN0IGk9dGhpcy5maW5kQ29ycmVzcG9uZGluZ1ZpZXdUZXh0KHQpO2xldCBuPWU7aWYoIWkpe3JldHVybiBudWxsfWlmKGxkKHQpKXtuLT1hZDtuPW48MD8wOm59cmV0dXJuIG5ldyBkbChpLG4pfWVsc2V7aWYoZT09PTApe2NvbnN0IGU9dGhpcy5tYXBEb21Ub1ZpZXcodCk7aWYoZSl7cmV0dXJuIG5ldyBkbChlLDApfX1lbHNle2NvbnN0IGk9dC5jaGlsZE5vZGVzW2UtMV07Y29uc3Qgbj1vZChpKT90aGlzLmZpbmRDb3JyZXNwb25kaW5nVmlld1RleHQoaSk6dGhpcy5tYXBEb21Ub1ZpZXcoaSk7aWYobiYmbi5wYXJlbnQpe3JldHVybiBuZXcgZGwobi5wYXJlbnQsbi5pbmRleCsxKX19cmV0dXJuIG51bGx9fW1hcERvbVRvVmlldyh0KXtyZXR1cm4gdGhpcy5nZXRQYXJlbnRVSUVsZW1lbnQodCl8fHRoaXMuX2RvbVRvVmlld01hcHBpbmcuZ2V0KHQpfWZpbmRDb3JyZXNwb25kaW5nVmlld1RleHQodCl7aWYoZGQodCkpe3JldHVybiBudWxsfWNvbnN0IGU9dGhpcy5nZXRQYXJlbnRVSUVsZW1lbnQodCk7aWYoZSl7cmV0dXJuIGV9Y29uc3QgaT10LnByZXZpb3VzU2libGluZztpZihpKXtpZighdGhpcy5pc0VsZW1lbnQoaSkpe3JldHVybiBudWxsfWNvbnN0IHQ9dGhpcy5tYXBEb21Ub1ZpZXcoaSk7aWYodCl7Y29uc3QgZT10Lm5leHRTaWJsaW5nO2lmKGUgaW5zdGFuY2VvZiBMcyl7cmV0dXJuIHQubmV4dFNpYmxpbmd9ZWxzZXtyZXR1cm4gbnVsbH19fWVsc2V7Y29uc3QgZT10aGlzLm1hcERvbVRvVmlldyh0LnBhcmVudE5vZGUpO2lmKGUpe2NvbnN0IHQ9ZS5nZXRDaGlsZCgwKTtpZih0IGluc3RhbmNlb2YgTHMpe3JldHVybiB0fWVsc2V7cmV0dXJuIG51bGx9fX1yZXR1cm4gbnVsbH1tYXBWaWV3VG9Eb20odCl7cmV0dXJuIHRoaXMuX3ZpZXdUb0RvbU1hcHBpbmcuZ2V0KHQpfWZpbmRDb3JyZXNwb25kaW5nRG9tVGV4dCh0KXtjb25zdCBlPXQucHJldmlvdXNTaWJsaW5nO2lmKGUmJnRoaXMubWFwVmlld1RvRG9tKGUpKXtyZXR1cm4gdGhpcy5tYXBWaWV3VG9Eb20oZSkubmV4dFNpYmxpbmd9aWYoIWUmJnQucGFyZW50JiZ0aGlzLm1hcFZpZXdUb0RvbSh0LnBhcmVudCkpe3JldHVybiB0aGlzLm1hcFZpZXdUb0RvbSh0LnBhcmVudCkuY2hpbGROb2Rlc1swXX1yZXR1cm4gbnVsbH1mb2N1cyh0KXtjb25zdCBlPXRoaXMubWFwVmlld1RvRG9tKHQpO2lmKGUmJmUub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50IT09ZSl7Y29uc3R7c2Nyb2xsWDp0LHNjcm9sbFk6aX09SWQud2luZG93O2NvbnN0IG49W107RmQoZSx0PT57Y29uc3R7c2Nyb2xsTGVmdDplLHNjcm9sbFRvcDppfT10O24ucHVzaChbZSxpXSl9KTtlLmZvY3VzKCk7RmQoZSx0PT57Y29uc3RbZSxpXT1uLnNoaWZ0KCk7dC5zY3JvbGxMZWZ0PWU7dC5zY3JvbGxUb3A9aX0pO0lkLndpbmRvdy5zY3JvbGxUbyh0LGkpfX1pc0VsZW1lbnQodCl7cmV0dXJuIHQmJnQubm9kZVR5cGU9PU5vZGUuRUxFTUVOVF9OT0RFfWlzRG9jdW1lbnRGcmFnbWVudCh0KXtyZXR1cm4gdCYmdC5ub2RlVHlwZT09Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFfWlzQ29tbWVudCh0KXtyZXR1cm4gdCYmdC5ub2RlVHlwZT09Tm9kZS5DT01NRU5UX05PREV9aXNCbG9ja0ZpbGxlcih0KXtpZih0aGlzLmJsb2NrRmlsbGVyTW9kZT09XCJiclwiKXtyZXR1cm4gdC5pc0VxdWFsTm9kZShCZCl9aWYodC50YWdOYW1lPT09XCJCUlwiJiZqZCh0LHRoaXMuYmxvY2tFbGVtZW50cykmJnQucGFyZW50Tm9kZS5jaGlsZE5vZGVzLmxlbmd0aD09PTEpe3JldHVybiB0cnVlfXJldHVybiBEZCh0LHRoaXMuYmxvY2tFbGVtZW50cyl9aXNEb21TZWxlY3Rpb25CYWNrd2FyZCh0KXtpZih0LmlzQ29sbGFwc2VkKXtyZXR1cm4gZmFsc2V9Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO2Uuc2V0U3RhcnQodC5hbmNob3JOb2RlLHQuYW5jaG9yT2Zmc2V0KTtlLnNldEVuZCh0LmZvY3VzTm9kZSx0LmZvY3VzT2Zmc2V0KTtjb25zdCBpPWUuY29sbGFwc2VkO2UuZGV0YWNoKCk7cmV0dXJuIGl9Z2V0UGFyZW50VUlFbGVtZW50KHQpe2NvbnN0IGU9TmQodCk7ZS5wb3AoKTt3aGlsZShlLmxlbmd0aCl7Y29uc3QgdD1lLnBvcCgpO2NvbnN0IGk9dGhpcy5fZG9tVG9WaWV3TWFwcGluZy5nZXQodCk7aWYoaSYmaS5pcyhcInVpRWxlbWVudFwiKSl7cmV0dXJuIGl9fXJldHVybiBudWxsfWlzRG9tU2VsZWN0aW9uQ29ycmVjdCh0KXtyZXR1cm4gdGhpcy5faXNEb21TZWxlY3Rpb25Qb3NpdGlvbkNvcnJlY3QodC5hbmNob3JOb2RlLHQuYW5jaG9yT2Zmc2V0KSYmdGhpcy5faXNEb21TZWxlY3Rpb25Qb3NpdGlvbkNvcnJlY3QodC5mb2N1c05vZGUsdC5mb2N1c09mZnNldCl9X2lzRG9tU2VsZWN0aW9uUG9zaXRpb25Db3JyZWN0KHQsZSl7aWYob2QodCkmJmxkKHQpJiZlPGFkKXtyZXR1cm4gZmFsc2V9aWYodGhpcy5pc0VsZW1lbnQodCkmJmxkKHQuY2hpbGROb2Rlc1tlXSkpe3JldHVybiBmYWxzZX1jb25zdCBpPXRoaXMubWFwRG9tVG9WaWV3KHQpO2lmKGkmJmkuaXMoXCJ1aUVsZW1lbnRcIikpe3JldHVybiBmYWxzZX1yZXR1cm4gdHJ1ZX1fcHJvY2Vzc0RhdGFGcm9tVmlld1RleHQodCl7bGV0IGU9dC5kYXRhO2lmKHQuZ2V0QW5jZXN0b3JzKCkuc29tZSh0PT50aGlzLnByZUVsZW1lbnRzLmluY2x1ZGVzKHQubmFtZSkpKXtyZXR1cm4gZX1pZihlLmNoYXJBdCgwKT09XCIgXCIpe2NvbnN0IGk9dGhpcy5fZ2V0VG91Y2hpbmdWaWV3VGV4dE5vZGUodCxmYWxzZSk7Y29uc3Qgbj1pJiZ0aGlzLl9ub2RlRW5kc1dpdGhTcGFjZShpKTtpZihufHwhaSl7ZT1cIsKgXCIrZS5zdWJzdHIoMSl9fWlmKGUuY2hhckF0KGUubGVuZ3RoLTEpPT1cIiBcIil7Y29uc3QgaT10aGlzLl9nZXRUb3VjaGluZ1ZpZXdUZXh0Tm9kZSh0LHRydWUpO2lmKGUuY2hhckF0KGUubGVuZ3RoLTIpPT1cIiBcInx8IWl8fGkuZGF0YS5jaGFyQXQoMCk9PVwiIFwiKXtlPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkrXCLCoFwifX1yZXR1cm4gZS5yZXBsYWNlKC8gezJ9L2csXCIgwqBcIil9X25vZGVFbmRzV2l0aFNwYWNlKHQpe2lmKHQuZ2V0QW5jZXN0b3JzKCkuc29tZSh0PT50aGlzLnByZUVsZW1lbnRzLmluY2x1ZGVzKHQubmFtZSkpKXtyZXR1cm4gZmFsc2V9Y29uc3QgZT10aGlzLl9wcm9jZXNzRGF0YUZyb21WaWV3VGV4dCh0KTtyZXR1cm4gZS5jaGFyQXQoZS5sZW5ndGgtMSk9PVwiIFwifV9wcm9jZXNzRGF0YUZyb21Eb21UZXh0KHQpe2xldCBlPXQuZGF0YTtpZihMZCh0LHRoaXMucHJlRWxlbWVudHMpKXtyZXR1cm4gdWQodCl9ZT1lLnJlcGxhY2UoL1sgXFxuXFx0XFxyXXsxLH0vZyxcIiBcIik7Y29uc3QgaT10aGlzLl9nZXRUb3VjaGluZ0lubGluZURvbU5vZGUodCxmYWxzZSk7Y29uc3Qgbj10aGlzLl9nZXRUb3VjaGluZ0lubGluZURvbU5vZGUodCx0cnVlKTtjb25zdCBvPXRoaXMuX2NoZWNrU2hvdWxkTGVmdFRyaW1Eb21UZXh0KGkpO2NvbnN0IHI9dGhpcy5fY2hlY2tTaG91bGRSaWdodFRyaW1Eb21UZXh0KHQsbik7aWYobyl7ZT1lLnJlcGxhY2UoL14gLyxcIlwiKX1pZihyKXtlPWUucmVwbGFjZSgvICQvLFwiXCIpfWU9dWQobmV3IFRleHQoZSkpO2U9ZS5yZXBsYWNlKC8gXFx1MDBBMC9nLFwiICBcIik7aWYoLyggfFxcdTAwQTApXFx1MDBBMCQvLnRlc3QoZSl8fCFufHxuLmRhdGEmJm4uZGF0YS5jaGFyQXQoMCk9PVwiIFwiKXtlPWUucmVwbGFjZSgvXFx1MDBBMCQvLFwiIFwiKX1pZihvKXtlPWUucmVwbGFjZSgvXlxcdTAwQTAvLFwiIFwiKX1yZXR1cm4gZX1fY2hlY2tTaG91bGRMZWZ0VHJpbURvbVRleHQodCl7aWYoIXQpe3JldHVybiB0cnVlfWlmKEtyKHQpKXtyZXR1cm4gdHJ1ZX1yZXR1cm4vW15cXFNcXHUwMEEwXS8udGVzdCh0LmRhdGEuY2hhckF0KHQuZGF0YS5sZW5ndGgtMSkpfV9jaGVja1Nob3VsZFJpZ2h0VHJpbURvbVRleHQodCxlKXtpZihlKXtyZXR1cm4gZmFsc2V9cmV0dXJuIWxkKHQpfV9nZXRUb3VjaGluZ1ZpZXdUZXh0Tm9kZSh0LGUpe2NvbnN0IGk9bmV3IGxsKHtzdGFydFBvc2l0aW9uOmU/ZGwuX2NyZWF0ZUFmdGVyKHQpOmRsLl9jcmVhdGVCZWZvcmUodCksZGlyZWN0aW9uOmU/XCJmb3J3YXJkXCI6XCJiYWNrd2FyZFwifSk7Zm9yKGNvbnN0IHQgb2YgaSl7aWYodC5pdGVtLmlzKFwiY29udGFpbmVyRWxlbWVudFwiKSl7cmV0dXJuIG51bGx9ZWxzZSBpZih0Lml0ZW0uaXMoXCJiclwiKSl7cmV0dXJuIG51bGx9ZWxzZSBpZih0Lml0ZW0uaXMoXCJ0ZXh0UHJveHlcIikpe3JldHVybiB0Lml0ZW19fXJldHVybiBudWxsfV9nZXRUb3VjaGluZ0lubGluZURvbU5vZGUodCxlKXtpZighdC5wYXJlbnROb2RlKXtyZXR1cm4gbnVsbH1jb25zdCBpPWU/XCJuZXh0Tm9kZVwiOlwicHJldmlvdXNOb2RlXCI7Y29uc3Qgbj10Lm93bmVyRG9jdW1lbnQ7Y29uc3Qgbz1OZCh0KVswXTtjb25zdCByPW4uY3JlYXRlVHJlZVdhbGtlcihvLE5vZGVGaWx0ZXIuU0hPV19URVhUfE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5ULHthY2NlcHROb2RlKHQpe2lmKG9kKHQpKXtyZXR1cm4gTm9kZUZpbHRlci5GSUxURVJfQUNDRVBUfWlmKHQudGFnTmFtZT09XCJCUlwiKXtyZXR1cm4gTm9kZUZpbHRlci5GSUxURVJfQUNDRVBUfXJldHVybiBOb2RlRmlsdGVyLkZJTFRFUl9TS0lQfX0pO3IuY3VycmVudE5vZGU9dDtjb25zdCBzPXJbaV0oKTtpZihzIT09bnVsbCl7Y29uc3QgZT1NZCh0LHMpO2lmKGUmJiFMZCh0LHRoaXMuYmxvY2tFbGVtZW50cyxlKSYmIUxkKHMsdGhpcy5ibG9ja0VsZW1lbnRzLGUpKXtyZXR1cm4gc319cmV0dXJuIG51bGx9fWZ1bmN0aW9uIExkKHQsZSxpKXtsZXQgbj1OZCh0KTtpZihpKXtuPW4uc2xpY2Uobi5pbmRleE9mKGkpKzEpfXJldHVybiBuLnNvbWUodD0+dC50YWdOYW1lJiZlLmluY2x1ZGVzKHQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSl9ZnVuY3Rpb24gRmQodCxlKXt3aGlsZSh0JiZ0IT1JZC5kb2N1bWVudCl7ZSh0KTt0PXQucGFyZW50Tm9kZX19ZnVuY3Rpb24gRGQodCxlKXtjb25zdCBpPW9kKHQpJiZ0LmRhdGE9PVwiwqBcIjtyZXR1cm4gaSYmamQodCxlKSYmdC5wYXJlbnROb2RlLmNoaWxkTm9kZXMubGVuZ3RoPT09MX1mdW5jdGlvbiBqZCh0LGUpe2NvbnN0IGk9dC5wYXJlbnROb2RlO3JldHVybiBpJiZpLnRhZ05hbWUmJmUuaW5jbHVkZXMoaS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpfWZ1bmN0aW9uIEhkKHQpe2NvbnN0IGU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseSh0KTtpZihlPT1cIltvYmplY3QgV2luZG93XVwiKXtyZXR1cm4gdHJ1ZX1pZihlPT1cIltvYmplY3QgZ2xvYmFsXVwiKXtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9Y29uc3QgV2Q9cWMoe30sZHMse2xpc3RlblRvKHQsLi4uZSl7aWYoeGQodCl8fEhkKHQpKXtjb25zdCBpPXRoaXMuX2dldFByb3h5RW1pdHRlcih0KXx8bmV3IFVkKHQpO2kuYXR0YWNoKC4uLmUpO3Q9aX1kcy5saXN0ZW5Uby5jYWxsKHRoaXMsdCwuLi5lKX0sc3RvcExpc3RlbmluZyh0LGUsaSl7aWYoeGQodCl8fEhkKHQpKXtjb25zdCBlPXRoaXMuX2dldFByb3h5RW1pdHRlcih0KTtpZighZSl7cmV0dXJufXQ9ZX1kcy5zdG9wTGlzdGVuaW5nLmNhbGwodGhpcyx0LGUsaSk7aWYodCBpbnN0YW5jZW9mIFVkKXt0LmRldGFjaChlKX19LF9nZXRQcm94eUVtaXR0ZXIodCl7cmV0dXJuIHVzKHRoaXMsJGQodCkpfX0pO3ZhciBxZD1XZDtjbGFzcyBVZHtjb25zdHJ1Y3Rvcih0KXtocyh0aGlzLCRkKHQpKTt0aGlzLl9kb21Ob2RlPXR9fXFjKFVkLnByb3RvdHlwZSxkcyx7YXR0YWNoKHQsZSxpPXt9KXtpZih0aGlzLl9kb21MaXN0ZW5lcnMmJnRoaXMuX2RvbUxpc3RlbmVyc1t0XSl7cmV0dXJufWNvbnN0IG49dGhpcy5fY3JlYXRlRG9tTGlzdGVuZXIodCwhIWkudXNlQ2FwdHVyZSk7dGhpcy5fZG9tTm9kZS5hZGRFdmVudExpc3RlbmVyKHQsbiwhIWkudXNlQ2FwdHVyZSk7aWYoIXRoaXMuX2RvbUxpc3RlbmVycyl7dGhpcy5fZG9tTGlzdGVuZXJzPXt9fXRoaXMuX2RvbUxpc3RlbmVyc1t0XT1ufSxkZXRhY2godCl7bGV0IGU7aWYodGhpcy5fZG9tTGlzdGVuZXJzW3RdJiYoIShlPXRoaXMuX2V2ZW50c1t0XSl8fCFlLmNhbGxiYWNrcy5sZW5ndGgpKXt0aGlzLl9kb21MaXN0ZW5lcnNbdF0ucmVtb3ZlTGlzdGVuZXIoKX19LF9jcmVhdGVEb21MaXN0ZW5lcih0LGUpe2NvbnN0IGk9ZT0+e3RoaXMuZmlyZSh0LGUpfTtpLnJlbW92ZUxpc3RlbmVyPSgpPT57dGhpcy5fZG9tTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsaSxlKTtkZWxldGUgdGhpcy5fZG9tTGlzdGVuZXJzW3RdfTtyZXR1cm4gaX19KTtmdW5jdGlvbiAkZCh0KXtyZXR1cm4gdFtcImRhdGEtY2stZXhwYW5kb1wiXXx8KHRbXCJkYXRhLWNrLWV4cGFuZG9cIl09aXMoKSl9Y2xhc3MgR2R7Y29uc3RydWN0b3IodCl7dGhpcy52aWV3PXQ7dGhpcy5kb2N1bWVudD10LmRvY3VtZW50O3RoaXMuaXNFbmFibGVkPWZhbHNlfWVuYWJsZSgpe3RoaXMuaXNFbmFibGVkPXRydWV9ZGlzYWJsZSgpe3RoaXMuaXNFbmFibGVkPWZhbHNlfWRlc3Ryb3koKXt0aGlzLmRpc2FibGUoKTt0aGlzLnN0b3BMaXN0ZW5pbmcoKX19dnMoR2QscWQpO3ZhciBLZD1cIl9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX19cIjtmdW5jdGlvbiBKZCh0KXt0aGlzLl9fZGF0YV9fLnNldCh0LEtkKTtyZXR1cm4gdGhpc312YXIgWWQ9SmQ7ZnVuY3Rpb24gUWQodCl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHQpfXZhciBYZD1RZDtmdW5jdGlvbiBaZCh0KXt2YXIgZT0tMSxpPXQ9PW51bGw/MDp0Lmxlbmd0aDt0aGlzLl9fZGF0YV9fPW5ldyBfZTt3aGlsZSgrK2U8aSl7dGhpcy5hZGQodFtlXSl9fVpkLnByb3RvdHlwZS5hZGQ9WmQucHJvdG90eXBlLnB1c2g9WWQ7WmQucHJvdG90eXBlLmhhcz1YZDt2YXIgdHU9WmQ7ZnVuY3Rpb24gZXUodCxlKXt2YXIgaT0tMSxuPXQ9PW51bGw/MDp0Lmxlbmd0aDt3aGlsZSgrK2k8bil7aWYoZSh0W2ldLGksdCkpe3JldHVybiB0cnVlfX1yZXR1cm4gZmFsc2V9dmFyIGl1PWV1O2Z1bmN0aW9uIG51KHQsZSl7cmV0dXJuIHQuaGFzKGUpfXZhciBvdT1udTt2YXIgcnU9MSxzdT0yO2Z1bmN0aW9uIGF1KHQsZSxpLG4sbyxyKXt2YXIgcz1pJnJ1LGE9dC5sZW5ndGgsYz1lLmxlbmd0aDtpZihhIT1jJiYhKHMmJmM+YSkpe3JldHVybiBmYWxzZX12YXIgbD1yLmdldCh0KTtpZihsJiZyLmdldChlKSl7cmV0dXJuIGw9PWV9dmFyIGQ9LTEsdT10cnVlLGg9aSZzdT9uZXcgdHU6dW5kZWZpbmVkO3Iuc2V0KHQsZSk7ci5zZXQoZSx0KTt3aGlsZSgrK2Q8YSl7dmFyIGY9dFtkXSxnPWVbZF07aWYobil7dmFyIG09cz9uKGcsZixkLGUsdCxyKTpuKGYsZyxkLHQsZSxyKX1pZihtIT09dW5kZWZpbmVkKXtpZihtKXtjb250aW51ZX11PWZhbHNlO2JyZWFrfWlmKGgpe2lmKCFpdShlLChmdW5jdGlvbih0LGUpe2lmKCFvdShoLGUpJiYoZj09PXR8fG8oZix0LGksbixyKSkpe3JldHVybiBoLnB1c2goZSl9fSkpKXt1PWZhbHNlO2JyZWFrfX1lbHNlIGlmKCEoZj09PWd8fG8oZixnLGksbixyKSkpe3U9ZmFsc2U7YnJlYWt9fXJbXCJkZWxldGVcIl0odCk7cltcImRlbGV0ZVwiXShlKTtyZXR1cm4gdX12YXIgY3U9YXU7ZnVuY3Rpb24gbHUodCl7dmFyIGU9LTEsaT1BcnJheSh0LnNpemUpO3QuZm9yRWFjaCgoZnVuY3Rpb24odCxuKXtpWysrZV09W24sdF19KSk7cmV0dXJuIGl9dmFyIGR1PWx1O2Z1bmN0aW9uIHV1KHQpe3ZhciBlPS0xLGk9QXJyYXkodC5zaXplKTt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2lbKytlXT10fSkpO3JldHVybiBpfXZhciBodT11dTt2YXIgZnU9MSxndT0yO3ZhciBtdT1cIltvYmplY3QgQm9vbGVhbl1cIixwdT1cIltvYmplY3QgRGF0ZV1cIixidT1cIltvYmplY3QgRXJyb3JdXCIsd3U9XCJbb2JqZWN0IE1hcF1cIixrdT1cIltvYmplY3QgTnVtYmVyXVwiLF91PVwiW29iamVjdCBSZWdFeHBdXCIsdnU9XCJbb2JqZWN0IFNldF1cIix5dT1cIltvYmplY3QgU3RyaW5nXVwiLHh1PVwiW29iamVjdCBTeW1ib2xdXCI7dmFyIEN1PVwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIixBdT1cIltvYmplY3QgRGF0YVZpZXddXCI7dmFyIFR1PXI/ci5wcm90b3R5cGU6dW5kZWZpbmVkLFB1PVR1P1R1LnZhbHVlT2Y6dW5kZWZpbmVkO2Z1bmN0aW9uIFN1KHQsZSxpLG4sbyxyLHMpe3N3aXRjaChpKXtjYXNlIEF1OmlmKHQuYnl0ZUxlbmd0aCE9ZS5ieXRlTGVuZ3RofHx0LmJ5dGVPZmZzZXQhPWUuYnl0ZU9mZnNldCl7cmV0dXJuIGZhbHNlfXQ9dC5idWZmZXI7ZT1lLmJ1ZmZlcjtjYXNlIEN1OmlmKHQuYnl0ZUxlbmd0aCE9ZS5ieXRlTGVuZ3RofHwhcihuZXcgZm8odCksbmV3IGZvKGUpKSl7cmV0dXJuIGZhbHNlfXJldHVybiB0cnVlO2Nhc2UgbXU6Y2FzZSBwdTpjYXNlIGt1OnJldHVybiBMKCt0LCtlKTtjYXNlIGJ1OnJldHVybiB0Lm5hbWU9PWUubmFtZSYmdC5tZXNzYWdlPT1lLm1lc3NhZ2U7Y2FzZSBfdTpjYXNlIHl1OnJldHVybiB0PT1lK1wiXCI7Y2FzZSB3dTp2YXIgYT1kdTtjYXNlIHZ1OnZhciBjPW4mZnU7YXx8KGE9aHUpO2lmKHQuc2l6ZSE9ZS5zaXplJiYhYyl7cmV0dXJuIGZhbHNlfXZhciBsPXMuZ2V0KHQpO2lmKGwpe3JldHVybiBsPT1lfW58PWd1O3Muc2V0KHQsZSk7dmFyIGQ9Y3UoYSh0KSxhKGUpLG4sbyxyLHMpO3NbXCJkZWxldGVcIl0odCk7cmV0dXJuIGQ7Y2FzZSB4dTppZihQdSl7cmV0dXJuIFB1LmNhbGwodCk9PVB1LmNhbGwoZSl9fXJldHVybiBmYWxzZX12YXIgRXU9U3U7dmFyIFJ1PTE7dmFyIE91PU9iamVjdC5wcm90b3R5cGU7dmFyIEl1PU91Lmhhc093blByb3BlcnR5O2Z1bmN0aW9uIFZ1KHQsZSxpLG4sbyxyKXt2YXIgcz1pJlJ1LGE9em4odCksYz1hLmxlbmd0aCxsPXpuKGUpLGQ9bC5sZW5ndGg7aWYoYyE9ZCYmIXMpe3JldHVybiBmYWxzZX12YXIgdT1jO3doaWxlKHUtLSl7dmFyIGg9YVt1XTtpZighKHM/aCBpbiBlOkl1LmNhbGwoZSxoKSkpe3JldHVybiBmYWxzZX19dmFyIGY9ci5nZXQodCk7aWYoZiYmci5nZXQoZSkpe3JldHVybiBmPT1lfXZhciBnPXRydWU7ci5zZXQodCxlKTtyLnNldChlLHQpO3ZhciBtPXM7d2hpbGUoKyt1PGMpe2g9YVt1XTt2YXIgcD10W2hdLGI9ZVtoXTtpZihuKXt2YXIgdz1zP24oYixwLGgsZSx0LHIpOm4ocCxiLGgsdCxlLHIpfWlmKCEodz09PXVuZGVmaW5lZD9wPT09Ynx8byhwLGIsaSxuLHIpOncpKXtnPWZhbHNlO2JyZWFrfW18fChtPWg9PVwiY29uc3RydWN0b3JcIil9aWYoZyYmIW0pe3ZhciBrPXQuY29uc3RydWN0b3IsXz1lLmNvbnN0cnVjdG9yO2lmKGshPV8mJihcImNvbnN0cnVjdG9yXCJpbiB0JiZcImNvbnN0cnVjdG9yXCJpbiBlKSYmISh0eXBlb2Ygaz09XCJmdW5jdGlvblwiJiZrIGluc3RhbmNlb2YgayYmdHlwZW9mIF89PVwiZnVuY3Rpb25cIiYmXyBpbnN0YW5jZW9mIF8pKXtnPWZhbHNlfX1yW1wiZGVsZXRlXCJdKHQpO3JbXCJkZWxldGVcIl0oZSk7cmV0dXJuIGd9dmFyIE51PVZ1O3ZhciBNdT0xO3ZhciBCdT1cIltvYmplY3QgQXJndW1lbnRzXVwiLHp1PVwiW29iamVjdCBBcnJheV1cIixMdT1cIltvYmplY3QgT2JqZWN0XVwiO3ZhciBGdT1PYmplY3QucHJvdG90eXBlO3ZhciBEdT1GdS5oYXNPd25Qcm9wZXJ0eTtmdW5jdGlvbiBqdSh0LGUsaSxuLG8scil7dmFyIHM9SmUodCksYT1KZShlKSxjPXM/enU6c28odCksbD1hP3p1OnNvKGUpO2M9Yz09QnU/THU6YztsPWw9PUJ1P0x1Omw7dmFyIGQ9Yz09THUsdT1sPT1MdSxoPWM9PWw7aWYoaCYmT2JqZWN0KFllW1wiYVwiXSkodCkpe2lmKCFPYmplY3QoWWVbXCJhXCJdKShlKSl7cmV0dXJuIGZhbHNlfXM9dHJ1ZTtkPWZhbHNlfWlmKGgmJiFkKXtyfHwocj1uZXcgQWUpO3JldHVybiBzfHxCaSh0KT9jdSh0LGUsaSxuLG8scik6RXUodCxlLGMsaSxuLG8scil9aWYoIShpJk11KSl7dmFyIGY9ZCYmRHUuY2FsbCh0LFwiX193cmFwcGVkX19cIiksZz11JiZEdS5jYWxsKGUsXCJfX3dyYXBwZWRfX1wiKTtpZihmfHxnKXt2YXIgbT1mP3QudmFsdWUoKTp0LHA9Zz9lLnZhbHVlKCk6ZTtyfHwocj1uZXcgQWUpO3JldHVybiBvKG0scCxpLG4scil9fWlmKCFoKXtyZXR1cm4gZmFsc2V9cnx8KHI9bmV3IEFlKTtyZXR1cm4gTnUodCxlLGksbixvLHIpfXZhciBIdT1qdTtmdW5jdGlvbiBXdSh0LGUsaSxuLG8pe2lmKHQ9PT1lKXtyZXR1cm4gdHJ1ZX1pZih0PT1udWxsfHxlPT1udWxsfHwhVCh0KSYmIVQoZSkpe3JldHVybiB0IT09dCYmZSE9PWV9cmV0dXJuIEh1KHQsZSxpLG4sV3Usbyl9dmFyIHF1PVd1O2Z1bmN0aW9uIFV1KHQsZSxpKXtpPXR5cGVvZiBpPT1cImZ1bmN0aW9uXCI/aTp1bmRlZmluZWQ7dmFyIG49aT9pKHQsZSk6dW5kZWZpbmVkO3JldHVybiBuPT09dW5kZWZpbmVkP3F1KHQsZSx1bmRlZmluZWQsaSk6ISFufXZhciAkdT1VdTtjbGFzcyBHdSBleHRlbmRzIEdke2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3RoaXMuX2NvbmZpZz17Y2hpbGRMaXN0OnRydWUsY2hhcmFjdGVyRGF0YTp0cnVlLGNoYXJhY3RlckRhdGFPbGRWYWx1ZTp0cnVlLHN1YnRyZWU6dHJ1ZX07dGhpcy5kb21Db252ZXJ0ZXI9dC5kb21Db252ZXJ0ZXI7dGhpcy5yZW5kZXJlcj10Ll9yZW5kZXJlcjt0aGlzLl9kb21FbGVtZW50cz1bXTt0aGlzLl9tdXRhdGlvbk9ic2VydmVyPW5ldyB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcih0aGlzLl9vbk11dGF0aW9ucy5iaW5kKHRoaXMpKX1mbHVzaCgpe3RoaXMuX29uTXV0YXRpb25zKHRoaXMuX211dGF0aW9uT2JzZXJ2ZXIudGFrZVJlY29yZHMoKSl9b2JzZXJ2ZSh0KXt0aGlzLl9kb21FbGVtZW50cy5wdXNoKHQpO2lmKHRoaXMuaXNFbmFibGVkKXt0aGlzLl9tdXRhdGlvbk9ic2VydmVyLm9ic2VydmUodCx0aGlzLl9jb25maWcpfX1lbmFibGUoKXtzdXBlci5lbmFibGUoKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9kb21FbGVtZW50cyl7dGhpcy5fbXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKHQsdGhpcy5fY29uZmlnKX19ZGlzYWJsZSgpe3N1cGVyLmRpc2FibGUoKTt0aGlzLl9tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpO3RoaXMuX211dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpfV9vbk11dGF0aW9ucyh0KXtpZih0Lmxlbmd0aD09PTApe3JldHVybn1jb25zdCBlPXRoaXMuZG9tQ29udmVydGVyO2NvbnN0IGk9bmV3IE1hcDtjb25zdCBuPW5ldyBTZXQ7Zm9yKGNvbnN0IGkgb2YgdCl7aWYoaS50eXBlPT09XCJjaGlsZExpc3RcIil7Y29uc3QgdD1lLm1hcERvbVRvVmlldyhpLnRhcmdldCk7aWYodCYmdC5pcyhcInVpRWxlbWVudFwiKSl7Y29udGludWV9aWYodCYmIXRoaXMuX2lzQm9ndXNCck11dGF0aW9uKGkpKXtuLmFkZCh0KX19fWZvcihjb25zdCBvIG9mIHQpe2NvbnN0IHQ9ZS5tYXBEb21Ub1ZpZXcoby50YXJnZXQpO2lmKHQmJnQuaXMoXCJ1aUVsZW1lbnRcIikpe2NvbnRpbnVlfWlmKG8udHlwZT09PVwiY2hhcmFjdGVyRGF0YVwiKXtjb25zdCB0PWUuZmluZENvcnJlc3BvbmRpbmdWaWV3VGV4dChvLnRhcmdldCk7aWYodCYmIW4uaGFzKHQucGFyZW50KSl7aS5zZXQodCx7dHlwZTpcInRleHRcIixvbGRUZXh0OnQuZGF0YSxuZXdUZXh0OnVkKG8udGFyZ2V0KSxub2RlOnR9KX1lbHNlIGlmKCF0JiZsZChvLnRhcmdldCkpe24uYWRkKGUubWFwRG9tVG9WaWV3KG8udGFyZ2V0LnBhcmVudE5vZGUpKX19fWNvbnN0IG89W107Zm9yKGNvbnN0IHQgb2YgaS52YWx1ZXMoKSl7dGhpcy5yZW5kZXJlci5tYXJrVG9TeW5jKFwidGV4dFwiLHQubm9kZSk7by5wdXNoKHQpfWZvcihjb25zdCB0IG9mIG4pe2NvbnN0IGk9ZS5tYXBWaWV3VG9Eb20odCk7Y29uc3Qgbj1BcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSk7Y29uc3Qgcj1BcnJheS5mcm9tKGUuZG9tQ2hpbGRyZW5Ub1ZpZXcoaSx7d2l0aENoaWxkcmVuOmZhbHNlfSkpO2lmKCEkdShuLHIsYSkpe3RoaXMucmVuZGVyZXIubWFya1RvU3luYyhcImNoaWxkcmVuXCIsdCk7by5wdXNoKHt0eXBlOlwiY2hpbGRyZW5cIixvbGRDaGlsZHJlbjpuLG5ld0NoaWxkcmVuOnIsbm9kZTp0fSl9fWNvbnN0IHI9dFswXS50YXJnZXQub3duZXJEb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtsZXQgcz1udWxsO2lmKHImJnIuYW5jaG9yTm9kZSl7Y29uc3QgdD1lLmRvbVBvc2l0aW9uVG9WaWV3KHIuYW5jaG9yTm9kZSxyLmFuY2hvck9mZnNldCk7Y29uc3QgaT1lLmRvbVBvc2l0aW9uVG9WaWV3KHIuZm9jdXNOb2RlLHIuZm9jdXNPZmZzZXQpO2lmKHQmJmkpe3M9bmV3IGdsKHQpO3Muc2V0Rm9jdXMoaSl9fWlmKG8ubGVuZ3RoKXt0aGlzLmRvY3VtZW50LmZpcmUoXCJtdXRhdGlvbnNcIixvLHMpO3RoaXMudmlldy5mb3JjZVJlbmRlcigpfWZ1bmN0aW9uIGEodCxlKXtpZihBcnJheS5pc0FycmF5KHQpKXtyZXR1cm59aWYodD09PWUpe3JldHVybiB0cnVlfWVsc2UgaWYodC5pcyhcInRleHRcIikmJmUuaXMoXCJ0ZXh0XCIpKXtyZXR1cm4gdC5kYXRhPT09ZS5kYXRhfXJldHVybiBmYWxzZX19X2lzQm9ndXNCck11dGF0aW9uKHQpe2xldCBlPW51bGw7aWYodC5uZXh0U2libGluZz09PW51bGwmJnQucmVtb3ZlZE5vZGVzLmxlbmd0aD09PTAmJnQuYWRkZWROb2Rlcy5sZW5ndGg9PTEpe2U9dGhpcy5kb21Db252ZXJ0ZXIuZG9tVG9WaWV3KHQuYWRkZWROb2Rlc1swXSx7d2l0aENoaWxkcmVuOmZhbHNlfSl9cmV0dXJuIGUmJmUuaXMoXCJlbGVtZW50XCIsXCJiclwiKX19Y2xhc3MgS3V7Y29uc3RydWN0b3IodCxlLGkpe3RoaXMudmlldz10O3RoaXMuZG9jdW1lbnQ9dC5kb2N1bWVudDt0aGlzLmRvbUV2ZW50PWU7dGhpcy5kb21UYXJnZXQ9ZS50YXJnZXQ7cWModGhpcyxpKX1nZXQgdGFyZ2V0KCl7cmV0dXJuIHRoaXMudmlldy5kb21Db252ZXJ0ZXIubWFwRG9tVG9WaWV3KHRoaXMuZG9tVGFyZ2V0KX1wcmV2ZW50RGVmYXVsdCgpe3RoaXMuZG9tRXZlbnQucHJldmVudERlZmF1bHQoKX1zdG9wUHJvcGFnYXRpb24oKXt0aGlzLmRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpfX1jbGFzcyBKdSBleHRlbmRzIEdke2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3RoaXMudXNlQ2FwdHVyZT1mYWxzZX1vYnNlcnZlKHQpe2NvbnN0IGU9dHlwZW9mIHRoaXMuZG9tRXZlbnRUeXBlPT1cInN0cmluZ1wiP1t0aGlzLmRvbUV2ZW50VHlwZV06dGhpcy5kb21FdmVudFR5cGU7ZS5mb3JFYWNoKGU9Pnt0aGlzLmxpc3RlblRvKHQsZSwodCxlKT0+e2lmKHRoaXMuaXNFbmFibGVkKXt0aGlzLm9uRG9tRXZlbnQoZSl9fSx7dXNlQ2FwdHVyZTp0aGlzLnVzZUNhcHR1cmV9KX0pfWZpcmUodCxlLGkpe2lmKHRoaXMuaXNFbmFibGVkKXt0aGlzLmRvY3VtZW50LmZpcmUodCxuZXcgS3UodGhpcy52aWV3LGUsaSkpfX19Y2xhc3MgWXUgZXh0ZW5kcyBKdXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTt0aGlzLmRvbUV2ZW50VHlwZT1bXCJrZXlkb3duXCIsXCJrZXl1cFwiXX1vbkRvbUV2ZW50KHQpe3RoaXMuZmlyZSh0LnR5cGUsdCx7a2V5Q29kZTp0LmtleUNvZGUsYWx0S2V5OnQuYWx0S2V5LGN0cmxLZXk6dC5jdHJsS2V5fHx0Lm1ldGFLZXksc2hpZnRLZXk6dC5zaGlmdEtleSxnZXQga2V5c3Ryb2tlKCl7cmV0dXJuIE1sKHRoaXMpfX0pfX12YXIgUXU9ZnVuY3Rpb24oKXtyZXR1cm4gbltcImFcIl0uRGF0ZS5ub3coKX07dmFyIFh1PVF1O3ZhciBadT0wLzA7dmFyIHRoPS9eXFxzK3xcXHMrJC9nO3ZhciBlaD0vXlstK10weFswLTlhLWZdKyQvaTt2YXIgaWg9L14wYlswMV0rJC9pO3ZhciBuaD0vXjBvWzAtN10rJC9pO3ZhciBvaD1wYXJzZUludDtmdW5jdGlvbiByaCh0KXtpZih0eXBlb2YgdD09XCJudW1iZXJcIil7cmV0dXJuIHR9aWYoUXModCkpe3JldHVybiBadX1pZihjdCh0KSl7dmFyIGU9dHlwZW9mIHQudmFsdWVPZj09XCJmdW5jdGlvblwiP3QudmFsdWVPZigpOnQ7dD1jdChlKT9lK1wiXCI6ZX1pZih0eXBlb2YgdCE9XCJzdHJpbmdcIil7cmV0dXJuIHQ9PT0wP3Q6K3R9dD10LnJlcGxhY2UodGgsXCJcIik7dmFyIGk9aWgudGVzdCh0KTtyZXR1cm4gaXx8bmgudGVzdCh0KT9vaCh0LnNsaWNlKDIpLGk/Mjo4KTplaC50ZXN0KHQpP1p1Oit0fXZhciBzaD1yaDt2YXIgYWg9XCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCI7dmFyIGNoPU1hdGgubWF4LGxoPU1hdGgubWluO2Z1bmN0aW9uIGRoKHQsZSxpKXt2YXIgbixvLHIscyxhLGMsbD0wLGQ9ZmFsc2UsdT1mYWxzZSxoPXRydWU7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihhaCl9ZT1zaChlKXx8MDtpZihjdChpKSl7ZD0hIWkubGVhZGluZzt1PVwibWF4V2FpdFwiaW4gaTtyPXU/Y2goc2goaS5tYXhXYWl0KXx8MCxlKTpyO2g9XCJ0cmFpbGluZ1wiaW4gaT8hIWkudHJhaWxpbmc6aH1mdW5jdGlvbiBmKGUpe3ZhciBpPW4scj1vO249bz11bmRlZmluZWQ7bD1lO3M9dC5hcHBseShyLGkpO3JldHVybiBzfWZ1bmN0aW9uIGcodCl7bD10O2E9c2V0VGltZW91dChiLGUpO3JldHVybiBkP2YodCk6c31mdW5jdGlvbiBtKHQpe3ZhciBpPXQtYyxuPXQtbCxvPWUtaTtyZXR1cm4gdT9saChvLHItbik6b31mdW5jdGlvbiBwKHQpe3ZhciBpPXQtYyxuPXQtbDtyZXR1cm4gYz09PXVuZGVmaW5lZHx8aT49ZXx8aTwwfHx1JiZuPj1yfWZ1bmN0aW9uIGIoKXt2YXIgdD1YdSgpO2lmKHAodCkpe3JldHVybiB3KHQpfWE9c2V0VGltZW91dChiLG0odCkpfWZ1bmN0aW9uIHcodCl7YT11bmRlZmluZWQ7aWYoaCYmbil7cmV0dXJuIGYodCl9bj1vPXVuZGVmaW5lZDtyZXR1cm4gc31mdW5jdGlvbiBrKCl7aWYoYSE9PXVuZGVmaW5lZCl7Y2xlYXJUaW1lb3V0KGEpfWw9MDtuPWM9bz1hPXVuZGVmaW5lZH1mdW5jdGlvbiBfKCl7cmV0dXJuIGE9PT11bmRlZmluZWQ/czp3KFh1KCkpfWZ1bmN0aW9uIHYoKXt2YXIgdD1YdSgpLGk9cCh0KTtuPWFyZ3VtZW50cztvPXRoaXM7Yz10O2lmKGkpe2lmKGE9PT11bmRlZmluZWQpe3JldHVybiBnKGMpfWlmKHUpe2NsZWFyVGltZW91dChhKTthPXNldFRpbWVvdXQoYixlKTtyZXR1cm4gZihjKX19aWYoYT09PXVuZGVmaW5lZCl7YT1zZXRUaW1lb3V0KGIsZSl9cmV0dXJuIHN9di5jYW5jZWw9azt2LmZsdXNoPV87cmV0dXJuIHZ9dmFyIHVoPWRoO2NsYXNzIGhoIGV4dGVuZHMgR2R7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7dGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZURvbmVEZWJvdW5jZWQ9dWgodD0+dGhpcy5kb2N1bWVudC5maXJlKFwic2VsZWN0aW9uQ2hhbmdlRG9uZVwiLHQpLDIwMCl9b2JzZXJ2ZSgpe2NvbnN0IHQ9dGhpcy5kb2N1bWVudDt0Lm9uKFwia2V5ZG93blwiLChlLGkpPT57Y29uc3Qgbj10LnNlbGVjdGlvbjtpZihuLmlzRmFrZSYmZmgoaS5rZXlDb2RlKSYmdGhpcy5pc0VuYWJsZWQpe2kucHJldmVudERlZmF1bHQoKTt0aGlzLl9oYW5kbGVTZWxlY3Rpb25Nb3ZlKGkua2V5Q29kZSl9fSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCk7dGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZURvbmVEZWJvdW5jZWQuY2FuY2VsKCl9X2hhbmRsZVNlbGVjdGlvbk1vdmUodCl7Y29uc3QgZT10aGlzLmRvY3VtZW50LnNlbGVjdGlvbjtjb25zdCBpPW5ldyBnbChlLmdldFJhbmdlcygpLHtiYWNrd2FyZDplLmlzQmFja3dhcmQsZmFrZTpmYWxzZX0pO2lmKHQ9PU5sLmFycm93bGVmdHx8dD09TmwuYXJyb3d1cCl7aS5zZXRUbyhpLmdldEZpcnN0UG9zaXRpb24oKSl9aWYodD09TmwuYXJyb3dyaWdodHx8dD09TmwuYXJyb3dkb3duKXtpLnNldFRvKGkuZ2V0TGFzdFBvc2l0aW9uKCkpfWNvbnN0IG49e29sZFNlbGVjdGlvbjplLG5ld1NlbGVjdGlvbjppLGRvbVNlbGVjdGlvbjpudWxsfTt0aGlzLmRvY3VtZW50LmZpcmUoXCJzZWxlY3Rpb25DaGFuZ2VcIixuKTt0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlRG9uZURlYm91bmNlZChuKX19ZnVuY3Rpb24gZmgodCl7cmV0dXJuIHQ9PU5sLmFycm93cmlnaHR8fHQ9PU5sLmFycm93bGVmdHx8dD09TmwuYXJyb3d1cHx8dD09TmwuYXJyb3dkb3dufWNsYXNzIGdoIGV4dGVuZHMgR2R7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7dGhpcy5tdXRhdGlvbk9ic2VydmVyPXQuZ2V0T2JzZXJ2ZXIoR3UpO3RoaXMuc2VsZWN0aW9uPXRoaXMuZG9jdW1lbnQuc2VsZWN0aW9uO3RoaXMuZG9tQ29udmVydGVyPXQuZG9tQ29udmVydGVyO3RoaXMuX2RvY3VtZW50cz1uZXcgV2Vha1NldDt0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlRG9uZURlYm91bmNlZD11aCh0PT50aGlzLmRvY3VtZW50LmZpcmUoXCJzZWxlY3Rpb25DaGFuZ2VEb25lXCIsdCksMjAwKTt0aGlzLl9jbGVhckluZmluaXRlTG9vcEludGVydmFsPXNldEludGVydmFsKCgpPT50aGlzLl9jbGVhckluZmluaXRlTG9vcCgpLDFlMyk7dGhpcy5fbG9vcGJhY2tDb3VudGVyPTB9b2JzZXJ2ZSh0KXtjb25zdCBlPXQub3duZXJEb2N1bWVudDtpZih0aGlzLl9kb2N1bWVudHMuaGFzKGUpKXtyZXR1cm59dGhpcy5saXN0ZW5UbyhlLFwic2VsZWN0aW9uY2hhbmdlXCIsKCk9Pnt0aGlzLl9oYW5kbGVTZWxlY3Rpb25DaGFuZ2UoZSl9KTt0aGlzLl9kb2N1bWVudHMuYWRkKGUpfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCk7Y2xlYXJJbnRlcnZhbCh0aGlzLl9jbGVhckluZmluaXRlTG9vcEludGVydmFsKTt0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlRG9uZURlYm91bmNlZC5jYW5jZWwoKX1faGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHQpe2lmKCF0aGlzLmlzRW5hYmxlZCl7cmV0dXJufXRoaXMubXV0YXRpb25PYnNlcnZlci5mbHVzaCgpO2NvbnN0IGU9dC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKTtjb25zdCBpPXRoaXMuZG9tQ29udmVydGVyLmRvbVNlbGVjdGlvblRvVmlldyhlKTtpZihpLnJhbmdlQ291bnQ9PTApe3JldHVybn1pZih0aGlzLnNlbGVjdGlvbi5pc0VxdWFsKGkpJiZ0aGlzLmRvbUNvbnZlcnRlci5pc0RvbVNlbGVjdGlvbkNvcnJlY3QoZSkpe3JldHVybn1pZigrK3RoaXMuX2xvb3BiYWNrQ291bnRlcj42MCl7cmV0dXJufWlmKHRoaXMuc2VsZWN0aW9uLmlzU2ltaWxhcihpKSl7dGhpcy52aWV3LmZvcmNlUmVuZGVyKCl9ZWxzZXtjb25zdCB0PXtvbGRTZWxlY3Rpb246dGhpcy5zZWxlY3Rpb24sbmV3U2VsZWN0aW9uOmksZG9tU2VsZWN0aW9uOmV9O3RoaXMuZG9jdW1lbnQuZmlyZShcInNlbGVjdGlvbkNoYW5nZVwiLHQpO3RoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VEb25lRGVib3VuY2VkKHQpfX1fY2xlYXJJbmZpbml0ZUxvb3AoKXt0aGlzLl9sb29wYmFja0NvdW50ZXI9MH19Y2xhc3MgbWggZXh0ZW5kcyBKdXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTt0aGlzLmRvbUV2ZW50VHlwZT1bXCJmb2N1c1wiLFwiYmx1clwiXTt0aGlzLnVzZUNhcHR1cmU9dHJ1ZTtjb25zdCBlPXRoaXMuZG9jdW1lbnQ7ZS5vbihcImZvY3VzXCIsKCk9PntlLmlzRm9jdXNlZD10cnVlO3RoaXMuX3JlbmRlclRpbWVvdXRJZD1zZXRUaW1lb3V0KCgpPT50LmZvcmNlUmVuZGVyKCksNTApfSk7ZS5vbihcImJsdXJcIiwoaSxuKT0+e2NvbnN0IG89ZS5zZWxlY3Rpb24uZWRpdGFibGVFbGVtZW50O2lmKG89PT1udWxsfHxvPT09bi50YXJnZXQpe2UuaXNGb2N1c2VkPWZhbHNlO3QuZm9yY2VSZW5kZXIoKX19KX1vbkRvbUV2ZW50KHQpe3RoaXMuZmlyZSh0LnR5cGUsdCl9ZGVzdHJveSgpe2lmKHRoaXMuX3JlbmRlclRpbWVvdXRJZCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3JlbmRlclRpbWVvdXRJZCl9c3VwZXIuZGVzdHJveSgpfX1jbGFzcyBwaCBleHRlbmRzIEp1e2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3RoaXMuZG9tRXZlbnRUeXBlPVtcImNvbXBvc2l0aW9uc3RhcnRcIixcImNvbXBvc2l0aW9udXBkYXRlXCIsXCJjb21wb3NpdGlvbmVuZFwiXTtjb25zdCBlPXRoaXMuZG9jdW1lbnQ7ZS5vbihcImNvbXBvc2l0aW9uc3RhcnRcIiwoKT0+e2UuaXNDb21wb3Npbmc9dHJ1ZX0pO2Uub24oXCJjb21wb3NpdGlvbmVuZFwiLCgpPT57ZS5pc0NvbXBvc2luZz1mYWxzZX0pfW9uRG9tRXZlbnQodCl7dGhpcy5maXJlKHQudHlwZSx0KX19Y2xhc3MgYmggZXh0ZW5kcyBKdXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTt0aGlzLmRvbUV2ZW50VHlwZT1bXCJiZWZvcmVpbnB1dFwiXX1vbkRvbUV2ZW50KHQpe3RoaXMuZmlyZSh0LnR5cGUsdCl9fWZ1bmN0aW9uIHdoKHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KHQpPT1cIltvYmplY3QgUmFuZ2VdXCJ9ZnVuY3Rpb24ga2godCl7Y29uc3QgZT10Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0KTtyZXR1cm57dG9wOnBhcnNlSW50KGUuYm9yZGVyVG9wV2lkdGgsMTApLHJpZ2h0OnBhcnNlSW50KGUuYm9yZGVyUmlnaHRXaWR0aCwxMCksYm90dG9tOnBhcnNlSW50KGUuYm9yZGVyQm90dG9tV2lkdGgsMTApLGxlZnQ6cGFyc2VJbnQoZS5ib3JkZXJMZWZ0V2lkdGgsMTApfX1jb25zdCBfaD1bXCJ0b3BcIixcInJpZ2h0XCIsXCJib3R0b21cIixcImxlZnRcIixcIndpZHRoXCIsXCJoZWlnaHRcIl07Y2xhc3Mgdmh7Y29uc3RydWN0b3IodCl7Y29uc3QgZT13aCh0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIl9zb3VyY2VcIix7dmFsdWU6dC5fc291cmNlfHx0LHdyaXRhYmxlOnRydWUsZW51bWVyYWJsZTpmYWxzZX0pO2lmKEtyKHQpfHxlKXtpZihlKXt5aCh0aGlzLHZoLmdldERvbVJhbmdlUmVjdHModClbMF0pfWVsc2V7eWgodGhpcyx0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKX19ZWxzZSBpZihIZCh0KSl7Y29uc3R7aW5uZXJXaWR0aDplLGlubmVySGVpZ2h0Oml9PXQ7eWgodGhpcyx7dG9wOjAscmlnaHQ6ZSxib3R0b206aSxsZWZ0OjAsd2lkdGg6ZSxoZWlnaHQ6aX0pfWVsc2V7eWgodGhpcyx0KX19Y2xvbmUoKXtyZXR1cm4gbmV3IHZoKHRoaXMpfW1vdmVUbyh0LGUpe3RoaXMudG9wPWU7dGhpcy5yaWdodD10K3RoaXMud2lkdGg7dGhpcy5ib3R0b209ZSt0aGlzLmhlaWdodDt0aGlzLmxlZnQ9dDtyZXR1cm4gdGhpc31tb3ZlQnkodCxlKXt0aGlzLnRvcCs9ZTt0aGlzLnJpZ2h0Kz10O3RoaXMubGVmdCs9dDt0aGlzLmJvdHRvbSs9ZTtyZXR1cm4gdGhpc31nZXRJbnRlcnNlY3Rpb24odCl7Y29uc3QgZT17dG9wOk1hdGgubWF4KHRoaXMudG9wLHQudG9wKSxyaWdodDpNYXRoLm1pbih0aGlzLnJpZ2h0LHQucmlnaHQpLGJvdHRvbTpNYXRoLm1pbih0aGlzLmJvdHRvbSx0LmJvdHRvbSksbGVmdDpNYXRoLm1heCh0aGlzLmxlZnQsdC5sZWZ0KX07ZS53aWR0aD1lLnJpZ2h0LWUubGVmdDtlLmhlaWdodD1lLmJvdHRvbS1lLnRvcDtpZihlLndpZHRoPDB8fGUuaGVpZ2h0PDApe3JldHVybiBudWxsfWVsc2V7cmV0dXJuIG5ldyB2aChlKX19Z2V0SW50ZXJzZWN0aW9uQXJlYSh0KXtjb25zdCBlPXRoaXMuZ2V0SW50ZXJzZWN0aW9uKHQpO2lmKGUpe3JldHVybiBlLmdldEFyZWEoKX1lbHNle3JldHVybiAwfX1nZXRBcmVhKCl7cmV0dXJuIHRoaXMud2lkdGgqdGhpcy5oZWlnaHR9Z2V0VmlzaWJsZSgpe2NvbnN0IHQ9dGhpcy5fc291cmNlO2xldCBlPXRoaXMuY2xvbmUoKTtpZigheGgodCkpe2xldCBpPXQucGFyZW50Tm9kZXx8dC5jb21tb25BbmNlc3RvckNvbnRhaW5lcjt3aGlsZShpJiYheGgoaSkpe2NvbnN0IHQ9bmV3IHZoKGkpO2NvbnN0IG49ZS5nZXRJbnRlcnNlY3Rpb24odCk7aWYobil7aWYobi5nZXRBcmVhKCk8ZS5nZXRBcmVhKCkpe2U9bn19ZWxzZXtyZXR1cm4gbnVsbH1pPWkucGFyZW50Tm9kZX19cmV0dXJuIGV9aXNFcXVhbCh0KXtmb3IoY29uc3QgZSBvZiBfaCl7aWYodGhpc1tlXSE9PXRbZV0pe3JldHVybiBmYWxzZX19cmV0dXJuIHRydWV9Y29udGFpbnModCl7Y29uc3QgZT10aGlzLmdldEludGVyc2VjdGlvbih0KTtyZXR1cm4hIShlJiZlLmlzRXF1YWwodCkpfWV4Y2x1ZGVTY3JvbGxiYXJzQW5kQm9yZGVycygpe2NvbnN0IHQ9dGhpcy5fc291cmNlO2xldCBlLGksbjtpZihIZCh0KSl7ZT10LmlubmVyV2lkdGgtdC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7aT10LmlubmVySGVpZ2h0LXQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtuPXQuZ2V0Q29tcHV0ZWRTdHlsZSh0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZGlyZWN0aW9ufWVsc2V7Y29uc3Qgbz1raCh0aGlzLl9zb3VyY2UpO2U9dC5vZmZzZXRXaWR0aC10LmNsaWVudFdpZHRoLW8ubGVmdC1vLnJpZ2h0O2k9dC5vZmZzZXRIZWlnaHQtdC5jbGllbnRIZWlnaHQtby50b3Atby5ib3R0b207bj10Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0KS5kaXJlY3Rpb247dGhpcy5sZWZ0Kz1vLmxlZnQ7dGhpcy50b3ArPW8udG9wO3RoaXMucmlnaHQtPW8ucmlnaHQ7dGhpcy5ib3R0b20tPW8uYm90dG9tO3RoaXMud2lkdGg9dGhpcy5yaWdodC10aGlzLmxlZnQ7dGhpcy5oZWlnaHQ9dGhpcy5ib3R0b20tdGhpcy50b3B9dGhpcy53aWR0aC09ZTtpZihuPT09XCJsdHJcIil7dGhpcy5yaWdodC09ZX1lbHNle3RoaXMubGVmdCs9ZX10aGlzLmhlaWdodC09aTt0aGlzLmJvdHRvbS09aTtyZXR1cm4gdGhpc31zdGF0aWMgZ2V0RG9tUmFuZ2VSZWN0cyh0KXtjb25zdCBlPVtdO2NvbnN0IGk9QXJyYXkuZnJvbSh0LmdldENsaWVudFJlY3RzKCkpO2lmKGkubGVuZ3RoKXtmb3IoY29uc3QgdCBvZiBpKXtlLnB1c2gobmV3IHZoKHQpKX19ZWxzZXtsZXQgaT10LnN0YXJ0Q29udGFpbmVyO2lmKG9kKGkpKXtpPWkucGFyZW50Tm9kZX1jb25zdCBuPW5ldyB2aChpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtuLnJpZ2h0PW4ubGVmdDtuLndpZHRoPTA7ZS5wdXNoKG4pfXJldHVybiBlfX1mdW5jdGlvbiB5aCh0LGUpe2Zvcihjb25zdCBpIG9mIF9oKXt0W2ldPWVbaV19fWZ1bmN0aW9uIHhoKHQpe2lmKCFLcih0KSl7cmV0dXJuIGZhbHNlfXJldHVybiB0PT09dC5vd25lckRvY3VtZW50LmJvZHl9Y29uc3QgQ2g9e307ZnVuY3Rpb24gQWgoe3RhcmdldDp0LHZpZXdwb3J0T2Zmc2V0OmU9MH0pe2NvbnN0IGk9VmgodCk7bGV0IG49aTtsZXQgbz1udWxsO3doaWxlKG4pe2xldCByO2lmKG49PWkpe3I9TmgodCl9ZWxzZXtyPU5oKG8pfVNoKHIsKCk9Pk1oKHQsbikpO2NvbnN0IHM9TWgodCxuKTtQaChuLHMsZSk7aWYobi5wYXJlbnQhPW4pe289bi5mcmFtZUVsZW1lbnQ7bj1uLnBhcmVudDtpZighbyl7cmV0dXJufX1lbHNle249bnVsbH19fWZ1bmN0aW9uIFRoKHQpe2NvbnN0IGU9TmgodCk7U2goZSwoKT0+bmV3IHZoKHQpKX1PYmplY3QuYXNzaWduKENoLHtzY3JvbGxWaWV3cG9ydFRvU2hvd1RhcmdldDpBaCxzY3JvbGxBbmNlc3RvcnNUb1Nob3dUYXJnZXQ6VGh9KTtmdW5jdGlvbiBQaCh0LGUsaSl7Y29uc3Qgbj1lLmNsb25lKCkubW92ZUJ5KDAsaSk7Y29uc3Qgbz1lLmNsb25lKCkubW92ZUJ5KDAsLWkpO2NvbnN0IHI9bmV3IHZoKHQpLmV4Y2x1ZGVTY3JvbGxiYXJzQW5kQm9yZGVycygpO2NvbnN0IHM9W28sbl07aWYoIXMuZXZlcnkodD0+ci5jb250YWlucyh0KSkpe2xldHtzY3JvbGxYOnMsc2Nyb2xsWTphfT10O2lmKFJoKG8scikpe2EtPXIudG9wLWUudG9wK2l9ZWxzZSBpZihFaChuLHIpKXthKz1lLmJvdHRvbS1yLmJvdHRvbStpfWlmKE9oKGUscikpe3MtPXIubGVmdC1lLmxlZnQraX1lbHNlIGlmKEloKGUscikpe3MrPWUucmlnaHQtci5yaWdodCtpfXQuc2Nyb2xsVG8ocyxhKX19ZnVuY3Rpb24gU2godCxlKXtjb25zdCBpPVZoKHQpO2xldCBuLG87d2hpbGUodCE9aS5kb2N1bWVudC5ib2R5KXtvPWUoKTtuPW5ldyB2aCh0KS5leGNsdWRlU2Nyb2xsYmFyc0FuZEJvcmRlcnMoKTtpZighbi5jb250YWlucyhvKSl7aWYoUmgobyxuKSl7dC5zY3JvbGxUb3AtPW4udG9wLW8udG9wfWVsc2UgaWYoRWgobyxuKSl7dC5zY3JvbGxUb3ArPW8uYm90dG9tLW4uYm90dG9tfWlmKE9oKG8sbikpe3Quc2Nyb2xsTGVmdC09bi5sZWZ0LW8ubGVmdH1lbHNlIGlmKEloKG8sbikpe3Quc2Nyb2xsTGVmdCs9by5yaWdodC1uLnJpZ2h0fX10PXQucGFyZW50Tm9kZX19ZnVuY3Rpb24gRWgodCxlKXtyZXR1cm4gdC5ib3R0b20+ZS5ib3R0b219ZnVuY3Rpb24gUmgodCxlKXtyZXR1cm4gdC50b3A8ZS50b3B9ZnVuY3Rpb24gT2godCxlKXtyZXR1cm4gdC5sZWZ0PGUubGVmdH1mdW5jdGlvbiBJaCh0LGUpe3JldHVybiB0LnJpZ2h0PmUucmlnaHR9ZnVuY3Rpb24gVmgodCl7aWYod2godCkpe3JldHVybiB0LnN0YXJ0Q29udGFpbmVyLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd9ZWxzZXtyZXR1cm4gdC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3fX1mdW5jdGlvbiBOaCh0KXtpZih3aCh0KSl7bGV0IGU9dC5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtpZihvZChlKSl7ZT1lLnBhcmVudE5vZGV9cmV0dXJuIGV9ZWxzZXtyZXR1cm4gdC5wYXJlbnROb2RlfX1mdW5jdGlvbiBNaCh0LGUpe2NvbnN0IGk9VmgodCk7Y29uc3Qgbj1uZXcgdmgodCk7aWYoaT09PWUpe3JldHVybiBufWVsc2V7bGV0IHQ9aTt3aGlsZSh0IT1lKXtjb25zdCBlPXQuZnJhbWVFbGVtZW50O2NvbnN0IGk9bmV3IHZoKGUpLmV4Y2x1ZGVTY3JvbGxiYXJzQW5kQm9yZGVycygpO24ubW92ZUJ5KGkubGVmdCxpLnRvcCk7dD10LnBhcmVudH19cmV0dXJuIG59Y2xhc3MgQmh7Y29uc3RydWN0b3IodCl7dGhpcy5kb2N1bWVudD1uZXcgcGwodCk7dGhpcy5kb21Db252ZXJ0ZXI9bmV3IHpkKHRoaXMuZG9jdW1lbnQpO3RoaXMuZG9tUm9vdHM9bmV3IE1hcDt0aGlzLnNldChcImlzUmVuZGVyaW5nSW5Qcm9ncmVzc1wiLGZhbHNlKTt0aGlzLl9yZW5kZXJlcj1uZXcgQ2QodGhpcy5kb21Db252ZXJ0ZXIsdGhpcy5kb2N1bWVudC5zZWxlY3Rpb24pO3RoaXMuX3JlbmRlcmVyLmJpbmQoXCJpc0ZvY3VzZWRcIikudG8odGhpcy5kb2N1bWVudCk7dGhpcy5faW5pdGlhbERvbVJvb3RBdHRyaWJ1dGVzPW5ldyBXZWFrTWFwO3RoaXMuX29ic2VydmVycz1uZXcgTWFwO3RoaXMuX29uZ29pbmdDaGFuZ2U9ZmFsc2U7dGhpcy5fcG9zdEZpeGVyc0luUHJvZ3Jlc3M9ZmFsc2U7dGhpcy5fcmVuZGVyaW5nRGlzYWJsZWQ9ZmFsc2U7dGhpcy5faGFzQ2hhbmdlZFNpbmNlVGhlTGFzdFJlbmRlcmluZz1mYWxzZTt0aGlzLl93cml0ZXI9bmV3ICRsKHRoaXMuZG9jdW1lbnQpO3RoaXMuYWRkT2JzZXJ2ZXIoR3UpO3RoaXMuYWRkT2JzZXJ2ZXIoZ2gpO3RoaXMuYWRkT2JzZXJ2ZXIobWgpO3RoaXMuYWRkT2JzZXJ2ZXIoWXUpO3RoaXMuYWRkT2JzZXJ2ZXIoaGgpO3RoaXMuYWRkT2JzZXJ2ZXIocGgpO2lmKEFsLmlzQW5kcm9pZCl7dGhpcy5hZGRPYnNlcnZlcihiaCl9aGQodGhpcyk7amwodGhpcyk7dGhpcy5vbihcInJlbmRlclwiLCgpPT57dGhpcy5fcmVuZGVyKCk7dGhpcy5kb2N1bWVudC5maXJlKFwibGF5b3V0Q2hhbmdlZFwiKTt0aGlzLl9oYXNDaGFuZ2VkU2luY2VUaGVMYXN0UmVuZGVyaW5nPWZhbHNlfSk7dGhpcy5saXN0ZW5Ubyh0aGlzLmRvY3VtZW50LnNlbGVjdGlvbixcImNoYW5nZVwiLCgpPT57dGhpcy5faGFzQ2hhbmdlZFNpbmNlVGhlTGFzdFJlbmRlcmluZz10cnVlfSl9YXR0YWNoRG9tUm9vdCh0LGU9XCJtYWluXCIpe2NvbnN0IGk9dGhpcy5kb2N1bWVudC5nZXRSb290KGUpO2kuX25hbWU9dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7Y29uc3Qgbj17fTtmb3IoY29uc3R7bmFtZTplLHZhbHVlOm99b2YgQXJyYXkuZnJvbSh0LmF0dHJpYnV0ZXMpKXtuW2VdPW87aWYoZT09PVwiY2xhc3NcIil7dGhpcy5fd3JpdGVyLmFkZENsYXNzKG8uc3BsaXQoXCIgXCIpLGkpfWVsc2V7dGhpcy5fd3JpdGVyLnNldEF0dHJpYnV0ZShlLG8saSl9fXRoaXMuX2luaXRpYWxEb21Sb290QXR0cmlidXRlcy5zZXQodCxuKTtjb25zdCBvPSgpPT57dGhpcy5fd3JpdGVyLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCFpLmlzUmVhZE9ubHksaSk7aWYoaS5pc1JlYWRPbmx5KXt0aGlzLl93cml0ZXIuYWRkQ2xhc3MoXCJjay1yZWFkLW9ubHlcIixpKX1lbHNle3RoaXMuX3dyaXRlci5yZW1vdmVDbGFzcyhcImNrLXJlYWQtb25seVwiLGkpfX07bygpO3RoaXMuZG9tUm9vdHMuc2V0KGUsdCk7dGhpcy5kb21Db252ZXJ0ZXIuYmluZEVsZW1lbnRzKHQsaSk7dGhpcy5fcmVuZGVyZXIubWFya1RvU3luYyhcImNoaWxkcmVuXCIsaSk7dGhpcy5fcmVuZGVyZXIubWFya1RvU3luYyhcImF0dHJpYnV0ZXNcIixpKTt0aGlzLl9yZW5kZXJlci5kb21Eb2N1bWVudHMuYWRkKHQub3duZXJEb2N1bWVudCk7aS5vbihcImNoYW5nZTpjaGlsZHJlblwiLCh0LGUpPT50aGlzLl9yZW5kZXJlci5tYXJrVG9TeW5jKFwiY2hpbGRyZW5cIixlKSk7aS5vbihcImNoYW5nZTphdHRyaWJ1dGVzXCIsKHQsZSk9PnRoaXMuX3JlbmRlcmVyLm1hcmtUb1N5bmMoXCJhdHRyaWJ1dGVzXCIsZSkpO2kub24oXCJjaGFuZ2U6dGV4dFwiLCh0LGUpPT50aGlzLl9yZW5kZXJlci5tYXJrVG9TeW5jKFwidGV4dFwiLGUpKTtpLm9uKFwiY2hhbmdlOmlzUmVhZE9ubHlcIiwoKT0+dGhpcy5jaGFuZ2UobykpO2kub24oXCJjaGFuZ2VcIiwoKT0+e3RoaXMuX2hhc0NoYW5nZWRTaW5jZVRoZUxhc3RSZW5kZXJpbmc9dHJ1ZX0pO2Zvcihjb25zdCBpIG9mIHRoaXMuX29ic2VydmVycy52YWx1ZXMoKSl7aS5vYnNlcnZlKHQsZSl9fWRldGFjaERvbVJvb3QodCl7Y29uc3QgZT10aGlzLmRvbVJvb3RzLmdldCh0KTtBcnJheS5mcm9tKGUuYXR0cmlidXRlcykuZm9yRWFjaCgoe25hbWU6dH0pPT5lLnJlbW92ZUF0dHJpYnV0ZSh0KSk7Y29uc3QgaT10aGlzLl9pbml0aWFsRG9tUm9vdEF0dHJpYnV0ZXMuZ2V0KGUpO2Zvcihjb25zdCB0IGluIGkpe2Uuc2V0QXR0cmlidXRlKHQsaVt0XSl9dGhpcy5kb21Sb290cy5kZWxldGUodCk7dGhpcy5kb21Db252ZXJ0ZXIudW5iaW5kRG9tRWxlbWVudChlKX1nZXREb21Sb290KHQ9XCJtYWluXCIpe3JldHVybiB0aGlzLmRvbVJvb3RzLmdldCh0KX1hZGRPYnNlcnZlcih0KXtsZXQgZT10aGlzLl9vYnNlcnZlcnMuZ2V0KHQpO2lmKGUpe3JldHVybiBlfWU9bmV3IHQodGhpcyk7dGhpcy5fb2JzZXJ2ZXJzLnNldCh0LGUpO2Zvcihjb25zdFt0LGldb2YgdGhpcy5kb21Sb290cyl7ZS5vYnNlcnZlKGksdCl9ZS5lbmFibGUoKTtyZXR1cm4gZX1nZXRPYnNlcnZlcih0KXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzLmdldCh0KX1kaXNhYmxlT2JzZXJ2ZXJzKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fb2JzZXJ2ZXJzLnZhbHVlcygpKXt0LmRpc2FibGUoKX19ZW5hYmxlT2JzZXJ2ZXJzKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fb2JzZXJ2ZXJzLnZhbHVlcygpKXt0LmVuYWJsZSgpfX1zY3JvbGxUb1RoZVNlbGVjdGlvbigpe2NvbnN0IHQ9dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0Rmlyc3RSYW5nZSgpO2lmKHQpe0FoKHt0YXJnZXQ6dGhpcy5kb21Db252ZXJ0ZXIudmlld1JhbmdlVG9Eb20odCksdmlld3BvcnRPZmZzZXQ6MjB9KX19Zm9jdXMoKXtpZighdGhpcy5kb2N1bWVudC5pc0ZvY3VzZWQpe2NvbnN0IHQ9dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uZWRpdGFibGVFbGVtZW50O2lmKHQpe3RoaXMuZG9tQ29udmVydGVyLmZvY3VzKHQpO3RoaXMuZm9yY2VSZW5kZXIoKX1lbHNle319fWNoYW5nZSh0KXtpZih0aGlzLmlzUmVuZGVyaW5nSW5Qcm9ncmVzc3x8dGhpcy5fcG9zdEZpeGVyc0luUHJvZ3Jlc3Mpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJjYW5ub3QtY2hhbmdlLXZpZXctdHJlZTogXCIrXCJBdHRlbXB0aW5nIHRvIG1ha2UgY2hhbmdlcyB0byB0aGUgdmlldyB3aGVuIGl0IGlzIGluIGFuIGluY29ycmVjdCBzdGF0ZTogcmVuZGVyaW5nIG9yIHBvc3QtZml4ZXJzIGFyZSBpbiBwcm9ncmVzcy4gXCIrXCJUaGlzIG1heSBjYXVzZSBzb21lIHVuZXhwZWN0ZWQgYmVoYXZpb3IgYW5kIGluY29uc2lzdGVuY3kgYmV0d2VlbiB0aGUgRE9NIGFuZCB0aGUgdmlldy5cIix0aGlzKX10cnl7aWYodGhpcy5fb25nb2luZ0NoYW5nZSl7cmV0dXJuIHQodGhpcy5fd3JpdGVyKX10aGlzLl9vbmdvaW5nQ2hhbmdlPXRydWU7Y29uc3QgZT10KHRoaXMuX3dyaXRlcik7dGhpcy5fb25nb2luZ0NoYW5nZT1mYWxzZTtpZighdGhpcy5fcmVuZGVyaW5nRGlzYWJsZWQmJnRoaXMuX2hhc0NoYW5nZWRTaW5jZVRoZUxhc3RSZW5kZXJpbmcpe3RoaXMuX3Bvc3RGaXhlcnNJblByb2dyZXNzPXRydWU7dGhpcy5kb2N1bWVudC5fY2FsbFBvc3RGaXhlcnModGhpcy5fd3JpdGVyKTt0aGlzLl9wb3N0Rml4ZXJzSW5Qcm9ncmVzcz1mYWxzZTt0aGlzLmZpcmUoXCJyZW5kZXJcIil9cmV0dXJuIGV9Y2F0Y2godCl7c3NbXCJiXCJdLnJldGhyb3dVbmV4cGVjdGVkRXJyb3IodCx0aGlzKX19Zm9yY2VSZW5kZXIoKXt0aGlzLl9oYXNDaGFuZ2VkU2luY2VUaGVMYXN0UmVuZGVyaW5nPXRydWU7dGhpcy5jaGFuZ2UoKCk9Pnt9KX1kZXN0cm95KCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fb2JzZXJ2ZXJzLnZhbHVlcygpKXt0LmRlc3Ryb3koKX10aGlzLmRvY3VtZW50LmRlc3Ryb3koKTt0aGlzLnN0b3BMaXN0ZW5pbmcoKX1jcmVhdGVQb3NpdGlvbkF0KHQsZSl7cmV0dXJuIGRsLl9jcmVhdGVBdCh0LGUpfWNyZWF0ZVBvc2l0aW9uQWZ0ZXIodCl7cmV0dXJuIGRsLl9jcmVhdGVBZnRlcih0KX1jcmVhdGVQb3NpdGlvbkJlZm9yZSh0KXtyZXR1cm4gZGwuX2NyZWF0ZUJlZm9yZSh0KX1jcmVhdGVSYW5nZSh0LGUpe3JldHVybiBuZXcgdWwodCxlKX1jcmVhdGVSYW5nZU9uKHQpe3JldHVybiB1bC5fY3JlYXRlT24odCl9Y3JlYXRlUmFuZ2VJbih0KXtyZXR1cm4gdWwuX2NyZWF0ZUluKHQpfWNyZWF0ZVNlbGVjdGlvbih0LGUsaSl7cmV0dXJuIG5ldyBnbCh0LGUsaSl9X2Rpc2FibGVSZW5kZXJpbmcodCl7dGhpcy5fcmVuZGVyaW5nRGlzYWJsZWQ9dDtpZih0PT1mYWxzZSl7dGhpcy5jaGFuZ2UoKCk9Pnt9KX19X3JlbmRlcigpe3RoaXMuaXNSZW5kZXJpbmdJblByb2dyZXNzPXRydWU7dGhpcy5kaXNhYmxlT2JzZXJ2ZXJzKCk7dGhpcy5fcmVuZGVyZXIucmVuZGVyKCk7dGhpcy5lbmFibGVPYnNlcnZlcnMoKTt0aGlzLmlzUmVuZGVyaW5nSW5Qcm9ncmVzcz1mYWxzZX19dnMoQmgsSmMpO2NsYXNzIHpoe2NvbnN0cnVjdG9yKHQpe3RoaXMucGFyZW50PW51bGw7dGhpcy5fYXR0cnM9SHModCl9Z2V0IGluZGV4KCl7bGV0IHQ7aWYoIXRoaXMucGFyZW50KXtyZXR1cm4gbnVsbH1pZigodD10aGlzLnBhcmVudC5nZXRDaGlsZEluZGV4KHRoaXMpKT09PW51bGwpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJtb2RlbC1ub2RlLW5vdC1mb3VuZC1pbi1wYXJlbnQ6IFRoZSBub2RlJ3MgcGFyZW50IGRvZXMgbm90IGNvbnRhaW4gdGhpcyBub2RlLlwiLHRoaXMpfXJldHVybiB0fWdldCBzdGFydE9mZnNldCgpe2xldCB0O2lmKCF0aGlzLnBhcmVudCl7cmV0dXJuIG51bGx9aWYoKHQ9dGhpcy5wYXJlbnQuZ2V0Q2hpbGRTdGFydE9mZnNldCh0aGlzKSk9PT1udWxsKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibW9kZWwtbm9kZS1ub3QtZm91bmQtaW4tcGFyZW50OiBUaGUgbm9kZSdzIHBhcmVudCBkb2VzIG5vdCBjb250YWluIHRoaXMgbm9kZS5cIix0aGlzKX1yZXR1cm4gdH1nZXQgb2Zmc2V0U2l6ZSgpe3JldHVybiAxfWdldCBlbmRPZmZzZXQoKXtpZighdGhpcy5wYXJlbnQpe3JldHVybiBudWxsfXJldHVybiB0aGlzLnN0YXJ0T2Zmc2V0K3RoaXMub2Zmc2V0U2l6ZX1nZXQgbmV4dFNpYmxpbmcoKXtjb25zdCB0PXRoaXMuaW5kZXg7cmV0dXJuIHQhPT1udWxsJiZ0aGlzLnBhcmVudC5nZXRDaGlsZCh0KzEpfHxudWxsfWdldCBwcmV2aW91c1NpYmxpbmcoKXtjb25zdCB0PXRoaXMuaW5kZXg7cmV0dXJuIHQhPT1udWxsJiZ0aGlzLnBhcmVudC5nZXRDaGlsZCh0LTEpfHxudWxsfWdldCByb290KCl7bGV0IHQ9dGhpczt3aGlsZSh0LnBhcmVudCl7dD10LnBhcmVudH1yZXR1cm4gdH1pc0F0dGFjaGVkKCl7cmV0dXJuIHRoaXMucm9vdC5pcyhcInJvb3RFbGVtZW50XCIpfWdldFBhdGgoKXtjb25zdCB0PVtdO2xldCBlPXRoaXM7d2hpbGUoZS5wYXJlbnQpe3QudW5zaGlmdChlLnN0YXJ0T2Zmc2V0KTtlPWUucGFyZW50fXJldHVybiB0fWdldEFuY2VzdG9ycyh0PXtpbmNsdWRlU2VsZjpmYWxzZSxwYXJlbnRGaXJzdDpmYWxzZX0pe2NvbnN0IGU9W107bGV0IGk9dC5pbmNsdWRlU2VsZj90aGlzOnRoaXMucGFyZW50O3doaWxlKGkpe2VbdC5wYXJlbnRGaXJzdD9cInB1c2hcIjpcInVuc2hpZnRcIl0oaSk7aT1pLnBhcmVudH1yZXR1cm4gZX1nZXRDb21tb25BbmNlc3Rvcih0LGU9e30pe2NvbnN0IGk9dGhpcy5nZXRBbmNlc3RvcnMoZSk7Y29uc3Qgbj10LmdldEFuY2VzdG9ycyhlKTtsZXQgbz0wO3doaWxlKGlbb109PW5bb10mJmlbb10pe28rK31yZXR1cm4gbz09PTA/bnVsbDppW28tMV19aXNCZWZvcmUodCl7aWYodGhpcz09dCl7cmV0dXJuIGZhbHNlfWlmKHRoaXMucm9vdCE9PXQucm9vdCl7cmV0dXJuIGZhbHNlfWNvbnN0IGU9dGhpcy5nZXRQYXRoKCk7Y29uc3QgaT10LmdldFBhdGgoKTtjb25zdCBuPVZzKGUsaSk7c3dpdGNoKG4pe2Nhc2VcInByZWZpeFwiOnJldHVybiB0cnVlO2Nhc2VcImV4dGVuc2lvblwiOnJldHVybiBmYWxzZTtkZWZhdWx0OnJldHVybiBlW25dPGlbbl19fWlzQWZ0ZXIodCl7aWYodGhpcz09dCl7cmV0dXJuIGZhbHNlfWlmKHRoaXMucm9vdCE9PXQucm9vdCl7cmV0dXJuIGZhbHNlfXJldHVybiF0aGlzLmlzQmVmb3JlKHQpfWhhc0F0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5fYXR0cnMuaGFzKHQpfWdldEF0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5fYXR0cnMuZ2V0KHQpfWdldEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fYXR0cnMuZW50cmllcygpfWdldEF0dHJpYnV0ZUtleXMoKXtyZXR1cm4gdGhpcy5fYXR0cnMua2V5cygpfXRvSlNPTigpe2NvbnN0IHQ9e307aWYodGhpcy5fYXR0cnMuc2l6ZSl7dC5hdHRyaWJ1dGVzPUFycmF5LmZyb20odGhpcy5fYXR0cnMpLnJlZHVjZSgodCxlKT0+e3RbZVswXV09ZVsxXTtyZXR1cm4gdH0se30pfXJldHVybiB0fWlzKHQpe3JldHVybiB0PT1cIm5vZGVcInx8dD09XCJtb2RlbDpub2RlXCJ9X2Nsb25lKCl7cmV0dXJuIG5ldyB6aCh0aGlzLl9hdHRycyl9X3JlbW92ZSgpe3RoaXMucGFyZW50Ll9yZW1vdmVDaGlsZHJlbih0aGlzLmluZGV4KX1fc2V0QXR0cmlidXRlKHQsZSl7dGhpcy5fYXR0cnMuc2V0KHQsZSl9X3NldEF0dHJpYnV0ZXNUbyh0KXt0aGlzLl9hdHRycz1Icyh0KX1fcmVtb3ZlQXR0cmlidXRlKHQpe3JldHVybiB0aGlzLl9hdHRycy5kZWxldGUodCl9X2NsZWFyQXR0cmlidXRlcygpe3RoaXMuX2F0dHJzLmNsZWFyKCl9fWNsYXNzIExoIGV4dGVuZHMgemh7Y29uc3RydWN0b3IodCxlKXtzdXBlcihlKTt0aGlzLl9kYXRhPXR8fFwiXCJ9Z2V0IG9mZnNldFNpemUoKXtyZXR1cm4gdGhpcy5kYXRhLmxlbmd0aH1nZXQgZGF0YSgpe3JldHVybiB0aGlzLl9kYXRhfWlzKHQpe3JldHVybiB0PT1cInRleHRcInx8dD09XCJtb2RlbDp0ZXh0XCJ8fHN1cGVyLmlzKHQpfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7dC5kYXRhPXRoaXMuZGF0YTtyZXR1cm4gdH1fY2xvbmUoKXtyZXR1cm4gbmV3IExoKHRoaXMuZGF0YSx0aGlzLmdldEF0dHJpYnV0ZXMoKSl9c3RhdGljIGZyb21KU09OKHQpe3JldHVybiBuZXcgTGgodC5kYXRhLHQuYXR0cmlidXRlcyl9fWNsYXNzIEZoe2NvbnN0cnVjdG9yKHQsZSxpKXt0aGlzLnRleHROb2RlPXQ7aWYoZTwwfHxlPnQub2Zmc2V0U2l6ZSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIm1vZGVsLXRleHRwcm94eS13cm9uZy1vZmZzZXRpbnRleHQ6IEdpdmVuIG9mZnNldEluVGV4dCB2YWx1ZSBpcyBpbmNvcnJlY3QuXCIsdGhpcyl9aWYoaTwwfHxlK2k+dC5vZmZzZXRTaXplKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibW9kZWwtdGV4dHByb3h5LXdyb25nLWxlbmd0aDogR2l2ZW4gbGVuZ3RoIHZhbHVlIGlzIGluY29ycmVjdC5cIix0aGlzKX10aGlzLmRhdGE9dC5kYXRhLnN1YnN0cmluZyhlLGUraSk7dGhpcy5vZmZzZXRJblRleHQ9ZX1nZXQgc3RhcnRPZmZzZXQoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5zdGFydE9mZnNldCE9PW51bGw/dGhpcy50ZXh0Tm9kZS5zdGFydE9mZnNldCt0aGlzLm9mZnNldEluVGV4dDpudWxsfWdldCBvZmZzZXRTaXplKCl7cmV0dXJuIHRoaXMuZGF0YS5sZW5ndGh9Z2V0IGVuZE9mZnNldCgpe3JldHVybiB0aGlzLnN0YXJ0T2Zmc2V0IT09bnVsbD90aGlzLnN0YXJ0T2Zmc2V0K3RoaXMub2Zmc2V0U2l6ZTpudWxsfWdldCBpc1BhcnRpYWwoKXtyZXR1cm4gdGhpcy5vZmZzZXRTaXplIT09dGhpcy50ZXh0Tm9kZS5vZmZzZXRTaXplfWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5wYXJlbnR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5yb290fWlzKHQpe3JldHVybiB0PT1cInRleHRQcm94eVwifHx0PT1cIm1vZGVsOnRleHRQcm94eVwifWdldFBhdGgoKXtjb25zdCB0PXRoaXMudGV4dE5vZGUuZ2V0UGF0aCgpO2lmKHQubGVuZ3RoPjApe3RbdC5sZW5ndGgtMV0rPXRoaXMub2Zmc2V0SW5UZXh0fXJldHVybiB0fWdldEFuY2VzdG9ycyh0PXtpbmNsdWRlU2VsZjpmYWxzZSxwYXJlbnRGaXJzdDpmYWxzZX0pe2NvbnN0IGU9W107bGV0IGk9dC5pbmNsdWRlU2VsZj90aGlzOnRoaXMucGFyZW50O3doaWxlKGkpe2VbdC5wYXJlbnRGaXJzdD9cInB1c2hcIjpcInVuc2hpZnRcIl0oaSk7aT1pLnBhcmVudH1yZXR1cm4gZX1oYXNBdHRyaWJ1dGUodCl7cmV0dXJuIHRoaXMudGV4dE5vZGUuaGFzQXR0cmlidXRlKHQpfWdldEF0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5nZXRBdHRyaWJ1dGUodCl9Z2V0QXR0cmlidXRlcygpe3JldHVybiB0aGlzLnRleHROb2RlLmdldEF0dHJpYnV0ZXMoKX1nZXRBdHRyaWJ1dGVLZXlzKCl7cmV0dXJuIHRoaXMudGV4dE5vZGUuZ2V0QXR0cmlidXRlS2V5cygpfX1jbGFzcyBEaHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9ub2Rlcz1bXTtpZih0KXt0aGlzLl9pbnNlcnROb2RlcygwLHQpfX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9ub2Rlc1tTeW1ib2wuaXRlcmF0b3JdKCl9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLl9ub2Rlcy5sZW5ndGh9Z2V0IG1heE9mZnNldCgpe3JldHVybiB0aGlzLl9ub2Rlcy5yZWR1Y2UoKHQsZSk9PnQrZS5vZmZzZXRTaXplLDApfWdldE5vZGUodCl7cmV0dXJuIHRoaXMuX25vZGVzW3RdfHxudWxsfWdldE5vZGVJbmRleCh0KXtjb25zdCBlPXRoaXMuX25vZGVzLmluZGV4T2YodCk7cmV0dXJuIGU9PS0xP251bGw6ZX1nZXROb2RlU3RhcnRPZmZzZXQodCl7Y29uc3QgZT10aGlzLmdldE5vZGVJbmRleCh0KTtyZXR1cm4gZT09PW51bGw/bnVsbDp0aGlzLl9ub2Rlcy5zbGljZSgwLGUpLnJlZHVjZSgodCxlKT0+dCtlLm9mZnNldFNpemUsMCl9aW5kZXhUb09mZnNldCh0KXtpZih0PT10aGlzLl9ub2Rlcy5sZW5ndGgpe3JldHVybiB0aGlzLm1heE9mZnNldH1jb25zdCBlPXRoaXMuX25vZGVzW3RdO2lmKCFlKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibW9kZWwtbm9kZWxpc3QtaW5kZXgtb3V0LW9mLWJvdW5kczogR2l2ZW4gaW5kZXggY2Fubm90IGJlIGZvdW5kIGluIHRoZSBub2RlIGxpc3QuXCIsdGhpcyl9cmV0dXJuIHRoaXMuZ2V0Tm9kZVN0YXJ0T2Zmc2V0KGUpfW9mZnNldFRvSW5kZXgodCl7bGV0IGU9MDtmb3IoY29uc3QgaSBvZiB0aGlzLl9ub2Rlcyl7aWYodD49ZSYmdDxlK2kub2Zmc2V0U2l6ZSl7cmV0dXJuIHRoaXMuZ2V0Tm9kZUluZGV4KGkpfWUrPWkub2Zmc2V0U2l6ZX1pZihlIT10KXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibW9kZWwtbm9kZWxpc3Qtb2Zmc2V0LW91dC1vZi1ib3VuZHM6IEdpdmVuIG9mZnNldCBjYW5ub3QgYmUgZm91bmQgaW4gdGhlIG5vZGUgbGlzdC5cIix0aGlzLHtvZmZzZXQ6dCxub2RlTGlzdDp0aGlzfSl9cmV0dXJuIHRoaXMubGVuZ3RofV9pbnNlcnROb2Rlcyh0LGUpe2Zvcihjb25zdCB0IG9mIGUpe2lmKCEodCBpbnN0YW5jZW9mIHpoKSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIm1vZGVsLW5vZGVsaXN0LWluc2VydE5vZGVzLW5vdC1ub2RlOiBUcnlpbmcgdG8gaW5zZXJ0IGFuIG9iamVjdCB3aGljaCBpcyBub3QgYSBOb2RlIGluc3RhbmNlLlwiLHRoaXMpfX10aGlzLl9ub2Rlcy5zcGxpY2UodCwwLC4uLmUpfV9yZW1vdmVOb2Rlcyh0LGU9MSl7cmV0dXJuIHRoaXMuX25vZGVzLnNwbGljZSh0LGUpfXRvSlNPTigpe3JldHVybiB0aGlzLl9ub2Rlcy5tYXAodD0+dC50b0pTT04oKSl9fWNsYXNzIGpoIGV4dGVuZHMgemh7Y29uc3RydWN0b3IodCxlLGkpe3N1cGVyKGUpO3RoaXMubmFtZT10O3RoaXMuX2NoaWxkcmVuPW5ldyBEaDtpZihpKXt0aGlzLl9pbnNlcnRDaGlsZCgwLGkpfX1nZXQgY2hpbGRDb3VudCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGh9Z2V0IG1heE9mZnNldCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5tYXhPZmZzZXR9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gdGhpcy5jaGlsZENvdW50PT09MH1pcyh0LGU9bnVsbCl7Y29uc3QgaT10LnJlcGxhY2UoL15tb2RlbDovLFwiXCIpO2lmKCFlKXtyZXR1cm4gaT09XCJlbGVtZW50XCJ8fGk9PXRoaXMubmFtZXx8c3VwZXIuaXModCl9ZWxzZXtyZXR1cm4gaT09XCJlbGVtZW50XCImJmU9PXRoaXMubmFtZX19Z2V0Q2hpbGQodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldE5vZGUodCl9Z2V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpfWdldENoaWxkSW5kZXgodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldE5vZGVJbmRleCh0KX1nZXRDaGlsZFN0YXJ0T2Zmc2V0KHQpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlU3RhcnRPZmZzZXQodCl9b2Zmc2V0VG9JbmRleCh0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ub2Zmc2V0VG9JbmRleCh0KX1nZXROb2RlQnlQYXRoKHQpe2xldCBlPXRoaXM7Zm9yKGNvbnN0IGkgb2YgdCl7ZT1lLmdldENoaWxkKGUub2Zmc2V0VG9JbmRleChpKSl9cmV0dXJuIGV9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTt0Lm5hbWU9dGhpcy5uYW1lO2lmKHRoaXMuX2NoaWxkcmVuLmxlbmd0aD4wKXt0LmNoaWxkcmVuPVtdO2Zvcihjb25zdCBlIG9mIHRoaXMuX2NoaWxkcmVuKXt0LmNoaWxkcmVuLnB1c2goZS50b0pTT04oKSl9fXJldHVybiB0fV9jbG9uZSh0PWZhbHNlKXtjb25zdCBlPXQ/QXJyYXkuZnJvbSh0aGlzLl9jaGlsZHJlbikubWFwKHQ9PnQuX2Nsb25lKHRydWUpKTpudWxsO3JldHVybiBuZXcgamgodGhpcy5uYW1lLHRoaXMuZ2V0QXR0cmlidXRlcygpLGUpfV9hcHBlbmRDaGlsZCh0KXt0aGlzLl9pbnNlcnRDaGlsZCh0aGlzLmNoaWxkQ291bnQsdCl9X2luc2VydENoaWxkKHQsZSl7Y29uc3QgaT1IaChlKTtmb3IoY29uc3QgdCBvZiBpKXtpZih0LnBhcmVudCE9PW51bGwpe3QuX3JlbW92ZSgpfXQucGFyZW50PXRoaXN9dGhpcy5fY2hpbGRyZW4uX2luc2VydE5vZGVzKHQsaSl9X3JlbW92ZUNoaWxkcmVuKHQsZT0xKXtjb25zdCBpPXRoaXMuX2NoaWxkcmVuLl9yZW1vdmVOb2Rlcyh0LGUpO2Zvcihjb25zdCB0IG9mIGkpe3QucGFyZW50PW51bGx9cmV0dXJuIGl9c3RhdGljIGZyb21KU09OKHQpe2xldCBlPW51bGw7aWYodC5jaGlsZHJlbil7ZT1bXTtmb3IoY29uc3QgaSBvZiB0LmNoaWxkcmVuKXtpZihpLm5hbWUpe2UucHVzaChqaC5mcm9tSlNPTihpKSl9ZWxzZXtlLnB1c2goTGguZnJvbUpTT04oaSkpfX19cmV0dXJuIG5ldyBqaCh0Lm5hbWUsdC5hdHRyaWJ1dGVzLGUpfX1mdW5jdGlvbiBIaCh0KXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIil7cmV0dXJuW25ldyBMaCh0KV19aWYoIWpzKHQpKXt0PVt0XX1yZXR1cm4gQXJyYXkuZnJvbSh0KS5tYXAodD0+e2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXtyZXR1cm4gbmV3IExoKHQpfWlmKHQgaW5zdGFuY2VvZiBGaCl7cmV0dXJuIG5ldyBMaCh0LmRhdGEsdC5nZXRBdHRyaWJ1dGVzKCkpfXJldHVybiB0fSl9Y2xhc3MgV2h7Y29uc3RydWN0b3IodD17fSl7aWYoIXQuYm91bmRhcmllcyYmIXQuc3RhcnRQb3NpdGlvbil7dGhyb3cgbmV3IHNzW1wiYlwiXShcIm1vZGVsLXRyZWUtd2Fsa2VyLW5vLXN0YXJ0LXBvc2l0aW9uOiBOZWl0aGVyIGJvdW5kYXJpZXMgbm9yIHN0YXJ0aW5nIHBvc2l0aW9uIGhhdmUgYmVlbiBkZWZpbmVkLlwiLG51bGwpfWNvbnN0IGU9dC5kaXJlY3Rpb258fFwiZm9yd2FyZFwiO2lmKGUhPVwiZm9yd2FyZFwiJiZlIT1cImJhY2t3YXJkXCIpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJtb2RlbC10cmVlLXdhbGtlci11bmtub3duLWRpcmVjdGlvbjogT25seSBgYmFja3dhcmRgIGFuZCBgZm9yd2FyZGAgZGlyZWN0aW9uIGFsbG93ZWQuXCIsdCx7ZGlyZWN0aW9uOmV9KX10aGlzLmRpcmVjdGlvbj1lO3RoaXMuYm91bmRhcmllcz10LmJvdW5kYXJpZXN8fG51bGw7aWYodC5zdGFydFBvc2l0aW9uKXt0aGlzLnBvc2l0aW9uPXQuc3RhcnRQb3NpdGlvbi5jbG9uZSgpfWVsc2V7dGhpcy5wb3NpdGlvbj1VaC5fY3JlYXRlQXQodGhpcy5ib3VuZGFyaWVzW3RoaXMuZGlyZWN0aW9uPT1cImJhY2t3YXJkXCI/XCJlbmRcIjpcInN0YXJ0XCJdKX10aGlzLnBvc2l0aW9uLnN0aWNraW5lc3M9XCJ0b05vbmVcIjt0aGlzLnNpbmdsZUNoYXJhY3RlcnM9ISF0LnNpbmdsZUNoYXJhY3RlcnM7dGhpcy5zaGFsbG93PSEhdC5zaGFsbG93O3RoaXMuaWdub3JlRWxlbWVudEVuZD0hIXQuaWdub3JlRWxlbWVudEVuZDt0aGlzLl9ib3VuZGFyeVN0YXJ0UGFyZW50PXRoaXMuYm91bmRhcmllcz90aGlzLmJvdW5kYXJpZXMuc3RhcnQucGFyZW50Om51bGw7dGhpcy5fYm91bmRhcnlFbmRQYXJlbnQ9dGhpcy5ib3VuZGFyaWVzP3RoaXMuYm91bmRhcmllcy5lbmQucGFyZW50Om51bGw7dGhpcy5fdmlzaXRlZFBhcmVudD10aGlzLnBvc2l0aW9uLnBhcmVudH1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzfXNraXAodCl7bGV0IGUsaSxuLG87ZG97bj10aGlzLnBvc2l0aW9uO289dGhpcy5fdmlzaXRlZFBhcmVudDsoe2RvbmU6ZSx2YWx1ZTppfT10aGlzLm5leHQoKSl9d2hpbGUoIWUmJnQoaSkpO2lmKCFlKXt0aGlzLnBvc2l0aW9uPW47dGhpcy5fdmlzaXRlZFBhcmVudD1vfX1uZXh0KCl7aWYodGhpcy5kaXJlY3Rpb249PVwiZm9yd2FyZFwiKXtyZXR1cm4gdGhpcy5fbmV4dCgpfWVsc2V7cmV0dXJuIHRoaXMuX3ByZXZpb3VzKCl9fV9uZXh0KCl7Y29uc3QgdD10aGlzLnBvc2l0aW9uO2NvbnN0IGU9dGhpcy5wb3NpdGlvbi5jbG9uZSgpO2NvbnN0IGk9dGhpcy5fdmlzaXRlZFBhcmVudDtpZihpLnBhcmVudD09PW51bGwmJmUub2Zmc2V0PT09aS5tYXhPZmZzZXQpe3JldHVybntkb25lOnRydWV9fWlmKGk9PT10aGlzLl9ib3VuZGFyeUVuZFBhcmVudCYmZS5vZmZzZXQ9PXRoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0KXtyZXR1cm57ZG9uZTp0cnVlfX1jb25zdCBuPWUudGV4dE5vZGU/ZS50ZXh0Tm9kZTplLm5vZGVBZnRlcjtpZihuIGluc3RhbmNlb2Ygamgpe2lmKCF0aGlzLnNoYWxsb3cpe2UucGF0aC5wdXNoKDApO3RoaXMuX3Zpc2l0ZWRQYXJlbnQ9bn1lbHNle2Uub2Zmc2V0Kyt9dGhpcy5wb3NpdGlvbj1lO3JldHVybiBxaChcImVsZW1lbnRTdGFydFwiLG4sdCxlLDEpfWVsc2UgaWYobiBpbnN0YW5jZW9mIExoKXtsZXQgbztpZih0aGlzLnNpbmdsZUNoYXJhY3RlcnMpe289MX1lbHNle2xldCB0PW4uZW5kT2Zmc2V0O2lmKHRoaXMuX2JvdW5kYXJ5RW5kUGFyZW50PT1pJiZ0aGlzLmJvdW5kYXJpZXMuZW5kLm9mZnNldDx0KXt0PXRoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0fW89dC1lLm9mZnNldH1jb25zdCByPWUub2Zmc2V0LW4uc3RhcnRPZmZzZXQ7Y29uc3Qgcz1uZXcgRmgobixyLG8pO2Uub2Zmc2V0Kz1vO3RoaXMucG9zaXRpb249ZTtyZXR1cm4gcWgoXCJ0ZXh0XCIscyx0LGUsbyl9ZWxzZXtlLnBhdGgucG9wKCk7ZS5vZmZzZXQrKzt0aGlzLnBvc2l0aW9uPWU7dGhpcy5fdmlzaXRlZFBhcmVudD1pLnBhcmVudDtpZih0aGlzLmlnbm9yZUVsZW1lbnRFbmQpe3JldHVybiB0aGlzLl9uZXh0KCl9ZWxzZXtyZXR1cm4gcWgoXCJlbGVtZW50RW5kXCIsaSx0LGUpfX19X3ByZXZpb3VzKCl7Y29uc3QgdD10aGlzLnBvc2l0aW9uO2NvbnN0IGU9dGhpcy5wb3NpdGlvbi5jbG9uZSgpO2NvbnN0IGk9dGhpcy5fdmlzaXRlZFBhcmVudDtpZihpLnBhcmVudD09PW51bGwmJmUub2Zmc2V0PT09MCl7cmV0dXJue2RvbmU6dHJ1ZX19aWYoaT09dGhpcy5fYm91bmRhcnlTdGFydFBhcmVudCYmZS5vZmZzZXQ9PXRoaXMuYm91bmRhcmllcy5zdGFydC5vZmZzZXQpe3JldHVybntkb25lOnRydWV9fWNvbnN0IG49ZS50ZXh0Tm9kZT9lLnRleHROb2RlOmUubm9kZUJlZm9yZTtpZihuIGluc3RhbmNlb2Ygamgpe2Uub2Zmc2V0LS07aWYoIXRoaXMuc2hhbGxvdyl7ZS5wYXRoLnB1c2gobi5tYXhPZmZzZXQpO3RoaXMucG9zaXRpb249ZTt0aGlzLl92aXNpdGVkUGFyZW50PW47aWYodGhpcy5pZ25vcmVFbGVtZW50RW5kKXtyZXR1cm4gdGhpcy5fcHJldmlvdXMoKX1lbHNle3JldHVybiBxaChcImVsZW1lbnRFbmRcIixuLHQsZSl9fWVsc2V7dGhpcy5wb3NpdGlvbj1lO3JldHVybiBxaChcImVsZW1lbnRTdGFydFwiLG4sdCxlLDEpfX1lbHNlIGlmKG4gaW5zdGFuY2VvZiBMaCl7bGV0IG87aWYodGhpcy5zaW5nbGVDaGFyYWN0ZXJzKXtvPTF9ZWxzZXtsZXQgdD1uLnN0YXJ0T2Zmc2V0O2lmKHRoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQ9PWkmJnRoaXMuYm91bmRhcmllcy5zdGFydC5vZmZzZXQ+dCl7dD10aGlzLmJvdW5kYXJpZXMuc3RhcnQub2Zmc2V0fW89ZS5vZmZzZXQtdH1jb25zdCByPWUub2Zmc2V0LW4uc3RhcnRPZmZzZXQ7Y29uc3Qgcz1uZXcgRmgobixyLW8sbyk7ZS5vZmZzZXQtPW87dGhpcy5wb3NpdGlvbj1lO3JldHVybiBxaChcInRleHRcIixzLHQsZSxvKX1lbHNle2UucGF0aC5wb3AoKTt0aGlzLnBvc2l0aW9uPWU7dGhpcy5fdmlzaXRlZFBhcmVudD1pLnBhcmVudDtyZXR1cm4gcWgoXCJlbGVtZW50U3RhcnRcIixpLHQsZSwxKX19fWZ1bmN0aW9uIHFoKHQsZSxpLG4sbyl7cmV0dXJue2RvbmU6ZmFsc2UsdmFsdWU6e3R5cGU6dCxpdGVtOmUscHJldmlvdXNQb3NpdGlvbjppLG5leHRQb3NpdGlvbjpuLGxlbmd0aDpvfX19Y2xhc3MgVWh7Y29uc3RydWN0b3IodCxlLGk9XCJ0b05vbmVcIil7aWYoIXQuaXMoXCJlbGVtZW50XCIpJiYhdC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIikpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJtb2RlbC1wb3NpdGlvbi1yb290LWludmFsaWQ6IFBvc2l0aW9uIHJvb3QgaW52YWxpZC5cIix0KX1pZighKGUgaW5zdGFuY2VvZiBBcnJheSl8fGUubGVuZ3RoPT09MCl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIm1vZGVsLXBvc2l0aW9uLXBhdGgtaW5jb3JyZWN0LWZvcm1hdDogUG9zaXRpb24gcGF0aCBtdXN0IGJlIGFuIGFycmF5IHdpdGggYXQgbGVhc3Qgb25lIGl0ZW0uXCIsdCx7cGF0aDplfSl9ZT10LmdldFBhdGgoKS5jb25jYXQoZSk7dD10LnJvb3Q7dGhpcy5yb290PXQ7dGhpcy5wYXRoPWU7dGhpcy5zdGlja2luZXNzPWl9Z2V0IG9mZnNldCgpe3JldHVybiBDYSh0aGlzLnBhdGgpfXNldCBvZmZzZXQodCl7dGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGgtMV09dH1nZXQgcGFyZW50KCl7bGV0IHQ9dGhpcy5yb290O2ZvcihsZXQgZT0wO2U8dGhpcy5wYXRoLmxlbmd0aC0xO2UrKyl7dD10LmdldENoaWxkKHQub2Zmc2V0VG9JbmRleCh0aGlzLnBhdGhbZV0pKTtpZighdCl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIm1vZGVsLXBvc2l0aW9uLXBhdGgtaW5jb3JyZWN0OiBUaGUgcG9zaXRpb24ncyBwYXRoIGlzIGluY29ycmVjdC5cIix0aGlzLHtwb3NpdGlvbjp0aGlzfSl9fWlmKHQuaXMoXCJ0ZXh0XCIpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibW9kZWwtcG9zaXRpb24tcGF0aC1pbmNvcnJlY3Q6IFRoZSBwb3NpdGlvbidzIHBhdGggaXMgaW5jb3JyZWN0LlwiLHRoaXMse3Bvc2l0aW9uOnRoaXN9KX1yZXR1cm4gdH1nZXQgaW5kZXgoKXtyZXR1cm4gdGhpcy5wYXJlbnQub2Zmc2V0VG9JbmRleCh0aGlzLm9mZnNldCl9Z2V0IHRleHROb2RlKCl7Y29uc3QgdD10aGlzLnBhcmVudC5nZXRDaGlsZCh0aGlzLmluZGV4KTtyZXR1cm4gdCBpbnN0YW5jZW9mIExoJiZ0LnN0YXJ0T2Zmc2V0PHRoaXMub2Zmc2V0P3Q6bnVsbH1nZXQgbm9kZUFmdGVyKCl7cmV0dXJuIHRoaXMudGV4dE5vZGU9PT1udWxsP3RoaXMucGFyZW50LmdldENoaWxkKHRoaXMuaW5kZXgpOm51bGx9Z2V0IG5vZGVCZWZvcmUoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZT09PW51bGw/dGhpcy5wYXJlbnQuZ2V0Q2hpbGQodGhpcy5pbmRleC0xKTpudWxsfWdldCBpc0F0U3RhcnQoKXtyZXR1cm4gdGhpcy5vZmZzZXQ9PT0wfWdldCBpc0F0RW5kKCl7cmV0dXJuIHRoaXMub2Zmc2V0PT10aGlzLnBhcmVudC5tYXhPZmZzZXR9Y29tcGFyZVdpdGgodCl7aWYodGhpcy5yb290IT10LnJvb3Qpe3JldHVyblwiZGlmZmVyZW50XCJ9Y29uc3QgZT1Wcyh0aGlzLnBhdGgsdC5wYXRoKTtzd2l0Y2goZSl7Y2FzZVwic2FtZVwiOnJldHVyblwic2FtZVwiO2Nhc2VcInByZWZpeFwiOnJldHVyblwiYmVmb3JlXCI7Y2FzZVwiZXh0ZW5zaW9uXCI6cmV0dXJuXCJhZnRlclwiO2RlZmF1bHQ6cmV0dXJuIHRoaXMucGF0aFtlXTx0LnBhdGhbZV0/XCJiZWZvcmVcIjpcImFmdGVyXCJ9fWdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKHQsZT17fSl7ZS5zdGFydFBvc2l0aW9uPXRoaXM7Y29uc3QgaT1uZXcgV2goZSk7aS5za2lwKHQpO3JldHVybiBpLnBvc2l0aW9ufWdldFBhcmVudFBhdGgoKXtyZXR1cm4gdGhpcy5wYXRoLnNsaWNlKDAsLTEpfWdldEFuY2VzdG9ycygpe2lmKHRoaXMucGFyZW50LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKSl7cmV0dXJuW3RoaXMucGFyZW50XX1lbHNle3JldHVybiB0aGlzLnBhcmVudC5nZXRBbmNlc3RvcnMoe2luY2x1ZGVTZWxmOnRydWV9KX19Z2V0Q29tbW9uUGF0aCh0KXtpZih0aGlzLnJvb3QhPXQucm9vdCl7cmV0dXJuW119Y29uc3QgZT1Wcyh0aGlzLnBhdGgsdC5wYXRoKTtjb25zdCBpPXR5cGVvZiBlPT1cInN0cmluZ1wiP01hdGgubWluKHRoaXMucGF0aC5sZW5ndGgsdC5wYXRoLmxlbmd0aCk6ZTtyZXR1cm4gdGhpcy5wYXRoLnNsaWNlKDAsaSl9Z2V0Q29tbW9uQW5jZXN0b3IodCl7Y29uc3QgZT10aGlzLmdldEFuY2VzdG9ycygpO2NvbnN0IGk9dC5nZXRBbmNlc3RvcnMoKTtsZXQgbj0wO3doaWxlKGVbbl09PWlbbl0mJmVbbl0pe24rK31yZXR1cm4gbj09PTA/bnVsbDplW24tMV19Z2V0U2hpZnRlZEJ5KHQpe2NvbnN0IGU9dGhpcy5jbG9uZSgpO2NvbnN0IGk9ZS5vZmZzZXQrdDtlLm9mZnNldD1pPDA/MDppO3JldHVybiBlfWlzQWZ0ZXIodCl7cmV0dXJuIHRoaXMuY29tcGFyZVdpdGgodCk9PVwiYWZ0ZXJcIn1pc0JlZm9yZSh0KXtyZXR1cm4gdGhpcy5jb21wYXJlV2l0aCh0KT09XCJiZWZvcmVcIn1pc0VxdWFsKHQpe3JldHVybiB0aGlzLmNvbXBhcmVXaXRoKHQpPT1cInNhbWVcIn1pc1RvdWNoaW5nKHQpe2xldCBlPW51bGw7bGV0IGk9bnVsbDtjb25zdCBuPXRoaXMuY29tcGFyZVdpdGgodCk7c3dpdGNoKG4pe2Nhc2VcInNhbWVcIjpyZXR1cm4gdHJ1ZTtjYXNlXCJiZWZvcmVcIjplPVVoLl9jcmVhdGVBdCh0aGlzKTtpPVVoLl9jcmVhdGVBdCh0KTticmVhaztjYXNlXCJhZnRlclwiOmU9VWguX2NyZWF0ZUF0KHQpO2k9VWguX2NyZWF0ZUF0KHRoaXMpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIGZhbHNlfWxldCBvPWUucGFyZW50O3doaWxlKGUucGF0aC5sZW5ndGgraS5wYXRoLmxlbmd0aCl7aWYoZS5pc0VxdWFsKGkpKXtyZXR1cm4gdHJ1ZX1pZihlLnBhdGgubGVuZ3RoPmkucGF0aC5sZW5ndGgpe2lmKGUub2Zmc2V0IT09by5tYXhPZmZzZXQpe3JldHVybiBmYWxzZX1lLnBhdGg9ZS5wYXRoLnNsaWNlKDAsLTEpO289by5wYXJlbnQ7ZS5vZmZzZXQrK31lbHNle2lmKGkub2Zmc2V0IT09MCl7cmV0dXJuIGZhbHNlfWkucGF0aD1pLnBhdGguc2xpY2UoMCwtMSl9fX1pcyh0KXtyZXR1cm4gdD09XCJwb3NpdGlvblwifHx0PT1cIm1vZGVsOnBvc2l0aW9uXCJ9aGFzU2FtZVBhcmVudEFzKHQpe2lmKHRoaXMucm9vdCE9PXQucm9vdCl7cmV0dXJuIGZhbHNlfWNvbnN0IGU9dGhpcy5nZXRQYXJlbnRQYXRoKCk7Y29uc3QgaT10LmdldFBhcmVudFBhdGgoKTtyZXR1cm4gVnMoZSxpKT09XCJzYW1lXCJ9Z2V0VHJhbnNmb3JtZWRCeU9wZXJhdGlvbih0KXtsZXQgZTtzd2l0Y2godC50eXBlKXtjYXNlXCJpbnNlcnRcIjplPXRoaXMuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24odCk7YnJlYWs7Y2FzZVwibW92ZVwiOmNhc2VcInJlbW92ZVwiOmNhc2VcInJlaW5zZXJ0XCI6ZT10aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbih0KTticmVhaztjYXNlXCJzcGxpdFwiOmU9dGhpcy5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKHQpO2JyZWFrO2Nhc2VcIm1lcmdlXCI6ZT10aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24odCk7YnJlYWs7ZGVmYXVsdDplPVVoLl9jcmVhdGVBdCh0aGlzKTticmVha31yZXR1cm4gZX1fZ2V0VHJhbnNmb3JtZWRCeUluc2VydE9wZXJhdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LnBvc2l0aW9uLHQuaG93TWFueSl9X2dldFRyYW5zZm9ybWVkQnlNb3ZlT3BlcmF0aW9uKHQpe3JldHVybiB0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZSh0LnNvdXJjZVBvc2l0aW9uLHQudGFyZ2V0UG9zaXRpb24sdC5ob3dNYW55KX1fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKHQpe2NvbnN0IGU9dC5tb3ZlZFJhbmdlO2NvbnN0IGk9ZS5jb250YWluc1Bvc2l0aW9uKHRoaXMpfHxlLnN0YXJ0LmlzRXF1YWwodGhpcykmJnRoaXMuc3RpY2tpbmVzcz09XCJ0b05leHRcIjtpZihpKXtyZXR1cm4gdGhpcy5fZ2V0Q29tYmluZWQodC5zcGxpdFBvc2l0aW9uLHQubW92ZVRhcmdldFBvc2l0aW9uKX1lbHNle2lmKHQuZ3JhdmV5YXJkUG9zaXRpb24pe3JldHVybiB0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZSh0LmdyYXZleWFyZFBvc2l0aW9uLHQuaW5zZXJ0aW9uUG9zaXRpb24sMSl9ZWxzZXtyZXR1cm4gdGhpcy5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0Lmluc2VydGlvblBvc2l0aW9uLDEpfX19X2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbih0KXtjb25zdCBlPXQubW92ZWRSYW5nZTtjb25zdCBpPWUuY29udGFpbnNQb3NpdGlvbih0aGlzKXx8ZS5zdGFydC5pc0VxdWFsKHRoaXMpO2xldCBuO2lmKGkpe249dGhpcy5fZ2V0Q29tYmluZWQodC5zb3VyY2VQb3NpdGlvbix0LnRhcmdldFBvc2l0aW9uKTtpZih0LnNvdXJjZVBvc2l0aW9uLmlzQmVmb3JlKHQudGFyZ2V0UG9zaXRpb24pKXtuPW4uX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbih0LmRlbGV0aW9uUG9zaXRpb24sMSl9fWVsc2UgaWYodGhpcy5pc0VxdWFsKHQuZGVsZXRpb25Qb3NpdGlvbikpe249VWguX2NyZWF0ZUF0KHQuZGVsZXRpb25Qb3NpdGlvbil9ZWxzZXtuPXRoaXMuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQuZGVsZXRpb25Qb3NpdGlvbix0LmdyYXZleWFyZFBvc2l0aW9uLDEpfXJldHVybiBufV9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odCxlKXtjb25zdCBpPVVoLl9jcmVhdGVBdCh0aGlzKTtpZih0aGlzLnJvb3QhPXQucm9vdCl7cmV0dXJuIGl9aWYoVnModC5nZXRQYXJlbnRQYXRoKCksdGhpcy5nZXRQYXJlbnRQYXRoKCkpPT1cInNhbWVcIil7aWYodC5vZmZzZXQ8dGhpcy5vZmZzZXQpe2lmKHQub2Zmc2V0K2U+dGhpcy5vZmZzZXQpe3JldHVybiBudWxsfWVsc2V7aS5vZmZzZXQtPWV9fX1lbHNlIGlmKFZzKHQuZ2V0UGFyZW50UGF0aCgpLHRoaXMuZ2V0UGFyZW50UGF0aCgpKT09XCJwcmVmaXhcIil7Y29uc3Qgbj10LnBhdGgubGVuZ3RoLTE7aWYodC5vZmZzZXQ8PXRoaXMucGF0aFtuXSl7aWYodC5vZmZzZXQrZT50aGlzLnBhdGhbbl0pe3JldHVybiBudWxsfWVsc2V7aS5wYXRoW25dLT1lfX19cmV0dXJuIGl9X2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odCxlKXtjb25zdCBpPVVoLl9jcmVhdGVBdCh0aGlzKTtpZih0aGlzLnJvb3QhPXQucm9vdCl7cmV0dXJuIGl9aWYoVnModC5nZXRQYXJlbnRQYXRoKCksdGhpcy5nZXRQYXJlbnRQYXRoKCkpPT1cInNhbWVcIil7aWYodC5vZmZzZXQ8dGhpcy5vZmZzZXR8fHQub2Zmc2V0PT10aGlzLm9mZnNldCYmdGhpcy5zdGlja2luZXNzIT1cInRvUHJldmlvdXNcIil7aS5vZmZzZXQrPWV9fWVsc2UgaWYoVnModC5nZXRQYXJlbnRQYXRoKCksdGhpcy5nZXRQYXJlbnRQYXRoKCkpPT1cInByZWZpeFwiKXtjb25zdCBuPXQucGF0aC5sZW5ndGgtMTtpZih0Lm9mZnNldDw9dGhpcy5wYXRoW25dKXtpLnBhdGhbbl0rPWV9fXJldHVybiBpfV9nZXRUcmFuc2Zvcm1lZEJ5TW92ZSh0LGUsaSl7ZT1lLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odCxpKTtpZih0LmlzRXF1YWwoZSkpe3JldHVybiBVaC5fY3JlYXRlQXQodGhpcyl9Y29uc3Qgbj10aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odCxpKTtjb25zdCBvPW49PT1udWxsfHx0LmlzRXF1YWwodGhpcykmJnRoaXMuc3RpY2tpbmVzcz09XCJ0b05leHRcInx8dC5nZXRTaGlmdGVkQnkoaSkuaXNFcXVhbCh0aGlzKSYmdGhpcy5zdGlja2luZXNzPT1cInRvUHJldmlvdXNcIjtpZihvKXtyZXR1cm4gdGhpcy5fZ2V0Q29tYmluZWQodCxlKX1lbHNle3JldHVybiBuLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKGUsaSl9fV9nZXRDb21iaW5lZCh0LGUpe2NvbnN0IGk9dC5wYXRoLmxlbmd0aC0xO2NvbnN0IG49VWguX2NyZWF0ZUF0KGUpO24uc3RpY2tpbmVzcz10aGlzLnN0aWNraW5lc3M7bi5vZmZzZXQ9bi5vZmZzZXQrdGhpcy5wYXRoW2ldLXQub2Zmc2V0O24ucGF0aD1uLnBhdGguY29uY2F0KHRoaXMucGF0aC5zbGljZShpKzEpKTtyZXR1cm4gbn10b0pTT04oKXtyZXR1cm57cm9vdDp0aGlzLnJvb3QudG9KU09OKCkscGF0aDpBcnJheS5mcm9tKHRoaXMucGF0aCksc3RpY2tpbmVzczp0aGlzLnN0aWNraW5lc3N9fWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMucm9vdCx0aGlzLnBhdGgsdGhpcy5zdGlja2luZXNzKX1zdGF0aWMgX2NyZWF0ZUF0KHQsZSxpPVwidG9Ob25lXCIpe2lmKHQgaW5zdGFuY2VvZiBVaCl7cmV0dXJuIG5ldyBVaCh0LnJvb3QsdC5wYXRoLHQuc3RpY2tpbmVzcyl9ZWxzZXtjb25zdCBuPXQ7aWYoZT09XCJlbmRcIil7ZT1uLm1heE9mZnNldH1lbHNlIGlmKGU9PVwiYmVmb3JlXCIpe3JldHVybiB0aGlzLl9jcmVhdGVCZWZvcmUobixpKX1lbHNlIGlmKGU9PVwiYWZ0ZXJcIil7cmV0dXJuIHRoaXMuX2NyZWF0ZUFmdGVyKG4saSl9ZWxzZSBpZihlIT09MCYmIWUpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJtb2RlbC1jcmVhdGVQb3NpdGlvbkF0LW9mZnNldC1yZXF1aXJlZDogXCIrXCJNb2RlbCNjcmVhdGVQb3NpdGlvbkF0KCkgcmVxdWlyZXMgdGhlIG9mZnNldCB3aGVuIHRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgYSBtb2RlbCBpdGVtLlwiLFt0aGlzLHRdKX1pZighbi5pcyhcImVsZW1lbnRcIikmJiFuLmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIm1vZGVsLXBvc2l0aW9uLXBhcmVudC1pbmNvcnJlY3Q6IFBvc2l0aW9uIHBhcmVudCBoYXZlIHRvIGJlIGEgZWxlbWVudCBvciBkb2N1bWVudCBmcmFnbWVudC5cIixbdGhpcyx0XSl9Y29uc3Qgbz1uLmdldFBhdGgoKTtvLnB1c2goZSk7cmV0dXJuIG5ldyB0aGlzKG4ucm9vdCxvLGkpfX1zdGF0aWMgX2NyZWF0ZUFmdGVyKHQsZSl7aWYoIXQucGFyZW50KXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibW9kZWwtcG9zaXRpb24tYWZ0ZXItcm9vdDogWW91IGNhbm5vdCBtYWtlIGEgcG9zaXRpb24gYWZ0ZXIgcm9vdC5cIixbdGhpcyx0XSx7cm9vdDp0fSl9cmV0dXJuIHRoaXMuX2NyZWF0ZUF0KHQucGFyZW50LHQuZW5kT2Zmc2V0LGUpfXN0YXRpYyBfY3JlYXRlQmVmb3JlKHQsZSl7aWYoIXQucGFyZW50KXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibW9kZWwtcG9zaXRpb24tYmVmb3JlLXJvb3Q6IFlvdSBjYW5ub3QgbWFrZSBhIHBvc2l0aW9uIGJlZm9yZSByb290LlwiLHQse3Jvb3Q6dH0pfXJldHVybiB0aGlzLl9jcmVhdGVBdCh0LnBhcmVudCx0LnN0YXJ0T2Zmc2V0LGUpfXN0YXRpYyBmcm9tSlNPTih0LGUpe2lmKHQucm9vdD09PVwiJGdyYXZleWFyZFwiKXtjb25zdCBpPW5ldyBVaChlLmdyYXZleWFyZCx0LnBhdGgpO2kuc3RpY2tpbmVzcz10LnN0aWNraW5lc3M7cmV0dXJuIGl9aWYoIWUuZ2V0Um9vdCh0LnJvb3QpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibW9kZWwtcG9zaXRpb24tZnJvbWpzb24tbm8tcm9vdDogQ2Fubm90IGNyZWF0ZSBwb3NpdGlvbiBmb3IgZG9jdW1lbnQuIFJvb3Qgd2l0aCBzcGVjaWZpZWQgbmFtZSBkb2VzIG5vdCBleGlzdC5cIixlLHtyb290TmFtZTp0LnJvb3R9KX1yZXR1cm4gbmV3IFVoKGUuZ2V0Um9vdCh0LnJvb3QpLHQucGF0aCx0LnN0aWNraW5lc3MpfX1jbGFzcyAkaHtjb25zdHJ1Y3Rvcih0LGU9bnVsbCl7dGhpcy5zdGFydD1VaC5fY3JlYXRlQXQodCk7dGhpcy5lbmQ9ZT9VaC5fY3JlYXRlQXQoZSk6VWguX2NyZWF0ZUF0KHQpO3RoaXMuc3RhcnQuc3RpY2tpbmVzcz10aGlzLmlzQ29sbGFwc2VkP1widG9Ob25lXCI6XCJ0b05leHRcIjt0aGlzLmVuZC5zdGlja2luZXNzPXRoaXMuaXNDb2xsYXBzZWQ/XCJ0b05vbmVcIjpcInRvUHJldmlvdXNcIn0qW1N5bWJvbC5pdGVyYXRvcl0oKXt5aWVsZCpuZXcgV2goe2JvdW5kYXJpZXM6dGhpcyxpZ25vcmVFbGVtZW50RW5kOnRydWV9KX1nZXQgaXNDb2xsYXBzZWQoKXtyZXR1cm4gdGhpcy5zdGFydC5pc0VxdWFsKHRoaXMuZW5kKX1nZXQgaXNGbGF0KCl7Y29uc3QgdD10aGlzLnN0YXJ0LmdldFBhcmVudFBhdGgoKTtjb25zdCBlPXRoaXMuZW5kLmdldFBhcmVudFBhdGgoKTtyZXR1cm4gVnModCxlKT09XCJzYW1lXCJ9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy5zdGFydC5yb290fWNvbnRhaW5zUG9zaXRpb24odCl7cmV0dXJuIHQuaXNBZnRlcih0aGlzLnN0YXJ0KSYmdC5pc0JlZm9yZSh0aGlzLmVuZCl9Y29udGFpbnNSYW5nZSh0LGU9ZmFsc2Upe2lmKHQuaXNDb2xsYXBzZWQpe2U9ZmFsc2V9Y29uc3QgaT10aGlzLmNvbnRhaW5zUG9zaXRpb24odC5zdGFydCl8fGUmJnRoaXMuc3RhcnQuaXNFcXVhbCh0LnN0YXJ0KTtjb25zdCBuPXRoaXMuY29udGFpbnNQb3NpdGlvbih0LmVuZCl8fGUmJnRoaXMuZW5kLmlzRXF1YWwodC5lbmQpO3JldHVybiBpJiZufWNvbnRhaW5zSXRlbSh0KXtjb25zdCBlPVVoLl9jcmVhdGVCZWZvcmUodCk7cmV0dXJuIHRoaXMuY29udGFpbnNQb3NpdGlvbihlKXx8dGhpcy5zdGFydC5pc0VxdWFsKGUpfWlzKHQpe3JldHVybiB0PT1cInJhbmdlXCJ8fHQ9PVwibW9kZWw6cmFuZ2VcIn1pc0VxdWFsKHQpe3JldHVybiB0aGlzLnN0YXJ0LmlzRXF1YWwodC5zdGFydCkmJnRoaXMuZW5kLmlzRXF1YWwodC5lbmQpfWlzSW50ZXJzZWN0aW5nKHQpe3JldHVybiB0aGlzLnN0YXJ0LmlzQmVmb3JlKHQuZW5kKSYmdGhpcy5lbmQuaXNBZnRlcih0LnN0YXJ0KX1nZXREaWZmZXJlbmNlKHQpe2NvbnN0IGU9W107aWYodGhpcy5pc0ludGVyc2VjdGluZyh0KSl7aWYodGhpcy5jb250YWluc1Bvc2l0aW9uKHQuc3RhcnQpKXtlLnB1c2gobmV3ICRoKHRoaXMuc3RhcnQsdC5zdGFydCkpfWlmKHRoaXMuY29udGFpbnNQb3NpdGlvbih0LmVuZCkpe2UucHVzaChuZXcgJGgodC5lbmQsdGhpcy5lbmQpKX19ZWxzZXtlLnB1c2gobmV3ICRoKHRoaXMuc3RhcnQsdGhpcy5lbmQpKX1yZXR1cm4gZX1nZXRJbnRlcnNlY3Rpb24odCl7aWYodGhpcy5pc0ludGVyc2VjdGluZyh0KSl7bGV0IGU9dGhpcy5zdGFydDtsZXQgaT10aGlzLmVuZDtpZih0aGlzLmNvbnRhaW5zUG9zaXRpb24odC5zdGFydCkpe2U9dC5zdGFydH1pZih0aGlzLmNvbnRhaW5zUG9zaXRpb24odC5lbmQpKXtpPXQuZW5kfXJldHVybiBuZXcgJGgoZSxpKX1yZXR1cm4gbnVsbH1nZXRNaW5pbWFsRmxhdFJhbmdlcygpe2NvbnN0IHQ9W107Y29uc3QgZT10aGlzLnN0YXJ0LmdldENvbW1vblBhdGgodGhpcy5lbmQpLmxlbmd0aDtjb25zdCBpPVVoLl9jcmVhdGVBdCh0aGlzLnN0YXJ0KTtsZXQgbj1pLnBhcmVudDt3aGlsZShpLnBhdGgubGVuZ3RoPmUrMSl7Y29uc3QgZT1uLm1heE9mZnNldC1pLm9mZnNldDtpZihlIT09MCl7dC5wdXNoKG5ldyAkaChpLGkuZ2V0U2hpZnRlZEJ5KGUpKSl9aS5wYXRoPWkucGF0aC5zbGljZSgwLC0xKTtpLm9mZnNldCsrO249bi5wYXJlbnR9d2hpbGUoaS5wYXRoLmxlbmd0aDw9dGhpcy5lbmQucGF0aC5sZW5ndGgpe2NvbnN0IGU9dGhpcy5lbmQucGF0aFtpLnBhdGgubGVuZ3RoLTFdO2NvbnN0IG49ZS1pLm9mZnNldDtpZihuIT09MCl7dC5wdXNoKG5ldyAkaChpLGkuZ2V0U2hpZnRlZEJ5KG4pKSl9aS5vZmZzZXQ9ZTtpLnBhdGgucHVzaCgwKX1yZXR1cm4gdH1nZXRXYWxrZXIodD17fSl7dC5ib3VuZGFyaWVzPXRoaXM7cmV0dXJuIG5ldyBXaCh0KX0qZ2V0SXRlbXModD17fSl7dC5ib3VuZGFyaWVzPXRoaXM7dC5pZ25vcmVFbGVtZW50RW5kPXRydWU7Y29uc3QgZT1uZXcgV2godCk7Zm9yKGNvbnN0IHQgb2YgZSl7eWllbGQgdC5pdGVtfX0qZ2V0UG9zaXRpb25zKHQ9e30pe3QuYm91bmRhcmllcz10aGlzO2NvbnN0IGU9bmV3IFdoKHQpO3lpZWxkIGUucG9zaXRpb247Zm9yKGNvbnN0IHQgb2YgZSl7eWllbGQgdC5uZXh0UG9zaXRpb259fWdldFRyYW5zZm9ybWVkQnlPcGVyYXRpb24odCl7c3dpdGNoKHQudHlwZSl7Y2FzZVwiaW5zZXJ0XCI6cmV0dXJuIHRoaXMuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24odCk7Y2FzZVwibW92ZVwiOmNhc2VcInJlbW92ZVwiOmNhc2VcInJlaW5zZXJ0XCI6cmV0dXJuIHRoaXMuX2dldFRyYW5zZm9ybWVkQnlNb3ZlT3BlcmF0aW9uKHQpO2Nhc2VcInNwbGl0XCI6cmV0dXJuW3RoaXMuX2dldFRyYW5zZm9ybWVkQnlTcGxpdE9wZXJhdGlvbih0KV07Y2FzZVwibWVyZ2VcIjpyZXR1cm5bdGhpcy5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKHQpXX1yZXR1cm5bbmV3ICRoKHRoaXMuc3RhcnQsdGhpcy5lbmQpXX1nZXRUcmFuc2Zvcm1lZEJ5T3BlcmF0aW9ucyh0KXtjb25zdCBlPVtuZXcgJGgodGhpcy5zdGFydCx0aGlzLmVuZCldO2Zvcihjb25zdCBpIG9mIHQpe2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBuPWVbdF0uZ2V0VHJhbnNmb3JtZWRCeU9wZXJhdGlvbihpKTtlLnNwbGljZSh0LDEsLi4ubik7dCs9bi5sZW5ndGgtMX19Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IGk9ZVt0XTtmb3IobGV0IG49dCsxO248ZS5sZW5ndGg7bisrKXtjb25zdCB0PWVbbl07aWYoaS5jb250YWluc1JhbmdlKHQpfHx0LmNvbnRhaW5zUmFuZ2UoaSl8fGkuaXNFcXVhbCh0KSl7ZS5zcGxpY2UobiwxKX19fXJldHVybiBlfWdldENvbW1vbkFuY2VzdG9yKCl7cmV0dXJuIHRoaXMuc3RhcnQuZ2V0Q29tbW9uQW5jZXN0b3IodGhpcy5lbmQpfWdldENvbnRhaW5lZEVsZW1lbnQoKXtpZih0aGlzLmlzQ29sbGFwc2VkKXtyZXR1cm4gbnVsbH1jb25zdCB0PXRoaXMuc3RhcnQubm9kZUFmdGVyO2NvbnN0IGU9dGhpcy5lbmQubm9kZUJlZm9yZTtpZih0JiZ0LmlzKFwiZWxlbWVudFwiKSYmdD09PWUpe3JldHVybiB0fXJldHVybiBudWxsfXRvSlNPTigpe3JldHVybntzdGFydDp0aGlzLnN0YXJ0LnRvSlNPTigpLGVuZDp0aGlzLmVuZC50b0pTT04oKX19Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5zdGFydCx0aGlzLmVuZCl9X2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24odCxlPWZhbHNlKXtyZXR1cm4gdGhpcy5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LnBvc2l0aW9uLHQuaG93TWFueSxlKX1fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24odCxlPWZhbHNlKXtjb25zdCBpPXQuc291cmNlUG9zaXRpb247Y29uc3Qgbj10Lmhvd01hbnk7Y29uc3Qgbz10LnRhcmdldFBvc2l0aW9uO3JldHVybiB0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShpLG8sbixlKX1fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKHQpe2NvbnN0IGU9dGhpcy5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKHQpO2xldCBpPXRoaXMuZW5kLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24odCk7aWYodGhpcy5lbmQuaXNFcXVhbCh0Lmluc2VydGlvblBvc2l0aW9uKSl7aT10aGlzLmVuZC5nZXRTaGlmdGVkQnkoMSl9aWYoZS5yb290IT1pLnJvb3Qpe2k9dGhpcy5lbmQuZ2V0U2hpZnRlZEJ5KC0xKX1yZXR1cm4gbmV3ICRoKGUsaSl9X2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbih0KXtpZih0aGlzLnN0YXJ0LmlzRXF1YWwodC50YXJnZXRQb3NpdGlvbikmJnRoaXMuZW5kLmlzRXF1YWwodC5kZWxldGlvblBvc2l0aW9uKSl7cmV0dXJuIG5ldyAkaCh0aGlzLnN0YXJ0KX1sZXQgZT10aGlzLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24odCk7bGV0IGk9dGhpcy5lbmQuX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbih0KTtpZihlLnJvb3QhPWkucm9vdCl7aT10aGlzLmVuZC5nZXRTaGlmdGVkQnkoLTEpfWlmKGUuaXNBZnRlcihpKSl7aWYodC5zb3VyY2VQb3NpdGlvbi5pc0JlZm9yZSh0LnRhcmdldFBvc2l0aW9uKSl7ZT1VaC5fY3JlYXRlQXQoaSk7ZS5vZmZzZXQ9MH1lbHNle2lmKCF0LmRlbGV0aW9uUG9zaXRpb24uaXNFcXVhbChlKSl7aT10LmRlbGV0aW9uUG9zaXRpb259ZT10LnRhcmdldFBvc2l0aW9ufXJldHVybiBuZXcgJGgoZSxpKX1yZXR1cm4gbmV3ICRoKGUsaSl9X2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odCxlLGk9ZmFsc2Upe2lmKGkmJnRoaXMuY29udGFpbnNQb3NpdGlvbih0KSl7cmV0dXJuW25ldyAkaCh0aGlzLnN0YXJ0LHQpLG5ldyAkaCh0LmdldFNoaWZ0ZWRCeShlKSx0aGlzLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LGUpKV19ZWxzZXtjb25zdCBpPW5ldyAkaCh0aGlzLnN0YXJ0LHRoaXMuZW5kKTtpLnN0YXJ0PWkuc3RhcnQuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odCxlKTtpLmVuZD1pLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LGUpO3JldHVybltpXX19X2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQsZSxpLG49ZmFsc2Upe2lmKHRoaXMuaXNDb2xsYXBzZWQpe2NvbnN0IG49dGhpcy5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodCxlLGkpO3JldHVybltuZXcgJGgobildfWNvbnN0IG89JGguX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHQsaSk7Y29uc3Qgcj1lLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odCxpKTtpZih0aGlzLmNvbnRhaW5zUG9zaXRpb24oZSkmJiFuKXtpZihvLmNvbnRhaW5zUG9zaXRpb24odGhpcy5zdGFydCl8fG8uY29udGFpbnNQb3NpdGlvbih0aGlzLmVuZCkpe2NvbnN0IG49dGhpcy5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodCxlLGkpO2NvbnN0IG89dGhpcy5lbmQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQsZSxpKTtyZXR1cm5bbmV3ICRoKG4sbyldfX1sZXQgcztjb25zdCBhPXRoaXMuZ2V0RGlmZmVyZW5jZShvKTtsZXQgYz1udWxsO2NvbnN0IGw9dGhpcy5nZXRJbnRlcnNlY3Rpb24obyk7aWYoYS5sZW5ndGg9PTEpe2M9bmV3ICRoKGFbMF0uc3RhcnQuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbih0LGkpLGFbMF0uZW5kLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odCxpKSl9ZWxzZSBpZihhLmxlbmd0aD09Mil7Yz1uZXcgJGgodGhpcy5zdGFydCx0aGlzLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQsaSkpfWlmKGMpe3M9Yy5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbihyLGksbCE9PW51bGx8fG4pfWVsc2V7cz1bXX1pZihsKXtjb25zdCB0PW5ldyAkaChsLnN0YXJ0Ll9nZXRDb21iaW5lZChvLnN0YXJ0LHIpLGwuZW5kLl9nZXRDb21iaW5lZChvLnN0YXJ0LHIpKTtpZihzLmxlbmd0aD09Mil7cy5zcGxpY2UoMSwwLHQpfWVsc2V7cy5wdXNoKHQpfX1yZXR1cm4gc31fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQsZSl7bGV0IGk9dGhpcy5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQsZSk7bGV0IG49dGhpcy5lbmQuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbih0LGUpO2lmKGk9PW51bGwmJm49PW51bGwpe3JldHVybiBudWxsfWlmKGk9PW51bGwpe2k9dH1pZihuPT1udWxsKXtuPXR9cmV0dXJuIG5ldyAkaChpLG4pfXN0YXRpYyBfY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodCxlKXtjb25zdCBpPXQ7Y29uc3Qgbj10LmdldFNoaWZ0ZWRCeShlKTtyZXR1cm4gZT4wP25ldyB0aGlzKGksbik6bmV3IHRoaXMobixpKX1zdGF0aWMgX2NyZWF0ZUluKHQpe3JldHVybiBuZXcgdGhpcyhVaC5fY3JlYXRlQXQodCwwKSxVaC5fY3JlYXRlQXQodCx0Lm1heE9mZnNldCkpfXN0YXRpYyBfY3JlYXRlT24odCl7cmV0dXJuIHRoaXMuX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KFVoLl9jcmVhdGVCZWZvcmUodCksdC5vZmZzZXRTaXplKX1zdGF0aWMgX2NyZWF0ZUZyb21SYW5nZXModCl7aWYodC5sZW5ndGg9PT0wKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwicmFuZ2UtY3JlYXRlLWZyb20tcmFuZ2VzLWVtcHR5LWFycmF5OiBBdCBsZWFzdCBvbmUgcmFuZ2UgaGFzIHRvIGJlIHBhc3NlZC5cIixudWxsKX1lbHNlIGlmKHQubGVuZ3RoPT0xKXtyZXR1cm4gdFswXS5jbG9uZSgpfWNvbnN0IGU9dFswXTt0LnNvcnQoKHQsZSk9PnQuc3RhcnQuaXNBZnRlcihlLnN0YXJ0KT8xOi0xKTtjb25zdCBpPXQuaW5kZXhPZihlKTtjb25zdCBuPW5ldyB0aGlzKGUuc3RhcnQsZS5lbmQpO2lmKGk+MCl7Zm9yKGxldCBlPWktMTt0cnVlO2UrKyl7aWYodFtlXS5lbmQuaXNFcXVhbChuLnN0YXJ0KSl7bi5zdGFydD1VaC5fY3JlYXRlQXQodFtlXS5zdGFydCl9ZWxzZXticmVha319fWZvcihsZXQgZT1pKzE7ZTx0Lmxlbmd0aDtlKyspe2lmKHRbZV0uc3RhcnQuaXNFcXVhbChuLmVuZCkpe24uZW5kPVVoLl9jcmVhdGVBdCh0W2VdLmVuZCl9ZWxzZXticmVha319cmV0dXJuIG59c3RhdGljIGZyb21KU09OKHQsZSl7cmV0dXJuIG5ldyB0aGlzKFVoLmZyb21KU09OKHQuc3RhcnQsZSksVWguZnJvbUpTT04odC5lbmQsZSkpfX1jbGFzcyBHaHtjb25zdHJ1Y3Rvcigpe3RoaXMuX21vZGVsVG9WaWV3TWFwcGluZz1uZXcgV2Vha01hcDt0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmc9bmV3IFdlYWtNYXA7dGhpcy5fdmlld1RvTW9kZWxMZW5ndGhDYWxsYmFja3M9bmV3IE1hcDt0aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cz1uZXcgTWFwO3RoaXMuX2VsZW1lbnRUb01hcmtlck5hbWVzPW5ldyBNYXA7dGhpcy5fdW5ib3VuZE1hcmtlck5hbWVzPW5ldyBTZXQ7dGhpcy5vbihcIm1vZGVsVG9WaWV3UG9zaXRpb25cIiwodCxlKT0+e2lmKGUudmlld1Bvc2l0aW9uKXtyZXR1cm59Y29uc3QgaT10aGlzLl9tb2RlbFRvVmlld01hcHBpbmcuZ2V0KGUubW9kZWxQb3NpdGlvbi5wYXJlbnQpO2Uudmlld1Bvc2l0aW9uPXRoaXMuX2ZpbmRQb3NpdGlvbkluKGksZS5tb2RlbFBvc2l0aW9uLm9mZnNldCl9LHtwcmlvcml0eTpcImxvd1wifSk7dGhpcy5vbihcInZpZXdUb01vZGVsUG9zaXRpb25cIiwodCxlKT0+e2lmKGUubW9kZWxQb3NpdGlvbil7cmV0dXJufWNvbnN0IGk9dGhpcy5maW5kTWFwcGVkVmlld0FuY2VzdG9yKGUudmlld1Bvc2l0aW9uKTtjb25zdCBuPXRoaXMuX3ZpZXdUb01vZGVsTWFwcGluZy5nZXQoaSk7Y29uc3Qgbz10aGlzLl90b01vZGVsT2Zmc2V0KGUudmlld1Bvc2l0aW9uLnBhcmVudCxlLnZpZXdQb3NpdGlvbi5vZmZzZXQsaSk7ZS5tb2RlbFBvc2l0aW9uPVVoLl9jcmVhdGVBdChuLG8pfSx7cHJpb3JpdHk6XCJsb3dcIn0pfWJpbmRFbGVtZW50cyh0LGUpe3RoaXMuX21vZGVsVG9WaWV3TWFwcGluZy5zZXQodCxlKTt0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuc2V0KGUsdCl9dW5iaW5kVmlld0VsZW1lbnQodCl7Y29uc3QgZT10aGlzLnRvTW9kZWxFbGVtZW50KHQpO3RoaXMuX3ZpZXdUb01vZGVsTWFwcGluZy5kZWxldGUodCk7aWYodGhpcy5fZWxlbWVudFRvTWFya2VyTmFtZXMuaGFzKHQpKXtmb3IoY29uc3QgZSBvZiB0aGlzLl9lbGVtZW50VG9NYXJrZXJOYW1lcy5nZXQodCkpe3RoaXMuX3VuYm91bmRNYXJrZXJOYW1lcy5hZGQoZSl9fWlmKHRoaXMuX21vZGVsVG9WaWV3TWFwcGluZy5nZXQoZSk9PXQpe3RoaXMuX21vZGVsVG9WaWV3TWFwcGluZy5kZWxldGUoZSl9fXVuYmluZE1vZGVsRWxlbWVudCh0KXtjb25zdCBlPXRoaXMudG9WaWV3RWxlbWVudCh0KTt0aGlzLl9tb2RlbFRvVmlld01hcHBpbmcuZGVsZXRlKHQpO2lmKHRoaXMuX3ZpZXdUb01vZGVsTWFwcGluZy5nZXQoZSk9PXQpe3RoaXMuX3ZpZXdUb01vZGVsTWFwcGluZy5kZWxldGUoZSl9fWJpbmRFbGVtZW50VG9NYXJrZXIodCxlKXtjb25zdCBpPXRoaXMuX21hcmtlck5hbWVUb0VsZW1lbnRzLmdldChlKXx8bmV3IFNldDtpLmFkZCh0KTtjb25zdCBuPXRoaXMuX2VsZW1lbnRUb01hcmtlck5hbWVzLmdldCh0KXx8bmV3IFNldDtuLmFkZChlKTt0aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cy5zZXQoZSxpKTt0aGlzLl9lbGVtZW50VG9NYXJrZXJOYW1lcy5zZXQodCxuKX11bmJpbmRFbGVtZW50RnJvbU1hcmtlck5hbWUodCxlKXtjb25zdCBpPXRoaXMuX21hcmtlck5hbWVUb0VsZW1lbnRzLmdldChlKTtpZihpKXtpLmRlbGV0ZSh0KTtpZihpLnNpemU9PTApe3RoaXMuX21hcmtlck5hbWVUb0VsZW1lbnRzLmRlbGV0ZShlKX19Y29uc3Qgbj10aGlzLl9lbGVtZW50VG9NYXJrZXJOYW1lcy5nZXQodCk7aWYobil7bi5kZWxldGUoZSk7aWYobi5zaXplPT0wKXt0aGlzLl9lbGVtZW50VG9NYXJrZXJOYW1lcy5kZWxldGUodCl9fX1mbHVzaFVuYm91bmRNYXJrZXJOYW1lcygpe2NvbnN0IHQ9QXJyYXkuZnJvbSh0aGlzLl91bmJvdW5kTWFya2VyTmFtZXMpO3RoaXMuX3VuYm91bmRNYXJrZXJOYW1lcy5jbGVhcigpO3JldHVybiB0fWNsZWFyQmluZGluZ3MoKXt0aGlzLl9tb2RlbFRvVmlld01hcHBpbmc9bmV3IFdlYWtNYXA7dGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nPW5ldyBXZWFrTWFwO3RoaXMuX21hcmtlck5hbWVUb0VsZW1lbnRzPW5ldyBNYXA7dGhpcy5fZWxlbWVudFRvTWFya2VyTmFtZXM9bmV3IE1hcDt0aGlzLl91bmJvdW5kTWFya2VyTmFtZXM9bmV3IFNldH10b01vZGVsRWxlbWVudCh0KXtyZXR1cm4gdGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nLmdldCh0KX10b1ZpZXdFbGVtZW50KHQpe3JldHVybiB0aGlzLl9tb2RlbFRvVmlld01hcHBpbmcuZ2V0KHQpfXRvTW9kZWxSYW5nZSh0KXtyZXR1cm4gbmV3ICRoKHRoaXMudG9Nb2RlbFBvc2l0aW9uKHQuc3RhcnQpLHRoaXMudG9Nb2RlbFBvc2l0aW9uKHQuZW5kKSl9dG9WaWV3UmFuZ2UodCl7cmV0dXJuIG5ldyB1bCh0aGlzLnRvVmlld1Bvc2l0aW9uKHQuc3RhcnQpLHRoaXMudG9WaWV3UG9zaXRpb24odC5lbmQpKX10b01vZGVsUG9zaXRpb24odCl7Y29uc3QgZT17dmlld1Bvc2l0aW9uOnQsbWFwcGVyOnRoaXN9O3RoaXMuZmlyZShcInZpZXdUb01vZGVsUG9zaXRpb25cIixlKTtyZXR1cm4gZS5tb2RlbFBvc2l0aW9ufXRvVmlld1Bvc2l0aW9uKHQsZT17aXNQaGFudG9tOmZhbHNlfSl7Y29uc3QgaT17bW9kZWxQb3NpdGlvbjp0LG1hcHBlcjp0aGlzLGlzUGhhbnRvbTplLmlzUGhhbnRvbX07dGhpcy5maXJlKFwibW9kZWxUb1ZpZXdQb3NpdGlvblwiLGkpO3JldHVybiBpLnZpZXdQb3NpdGlvbn1tYXJrZXJOYW1lVG9FbGVtZW50cyh0KXtjb25zdCBlPXRoaXMuX21hcmtlck5hbWVUb0VsZW1lbnRzLmdldCh0KTtpZighZSl7cmV0dXJuIG51bGx9Y29uc3QgaT1uZXcgU2V0O2Zvcihjb25zdCB0IG9mIGUpe2lmKHQuaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpKXtmb3IoY29uc3QgZSBvZiB0LmdldEVsZW1lbnRzV2l0aFNhbWVJZCgpKXtpLmFkZChlKX19ZWxzZXtpLmFkZCh0KX19cmV0dXJuIGl9cmVnaXN0ZXJWaWV3VG9Nb2RlbExlbmd0aCh0LGUpe3RoaXMuX3ZpZXdUb01vZGVsTGVuZ3RoQ2FsbGJhY2tzLnNldCh0LGUpfWZpbmRNYXBwZWRWaWV3QW5jZXN0b3IodCl7bGV0IGU9dC5wYXJlbnQ7d2hpbGUoIXRoaXMuX3ZpZXdUb01vZGVsTWFwcGluZy5oYXMoZSkpe2U9ZS5wYXJlbnR9cmV0dXJuIGV9X3RvTW9kZWxPZmZzZXQodCxlLGkpe2lmKGkhPXQpe2NvbnN0IG49dGhpcy5fdG9Nb2RlbE9mZnNldCh0LnBhcmVudCx0LmluZGV4LGkpO2NvbnN0IG89dGhpcy5fdG9Nb2RlbE9mZnNldCh0LGUsdCk7cmV0dXJuIG4rb31pZih0LmlzKFwidGV4dFwiKSl7cmV0dXJuIGV9bGV0IG49MDtmb3IobGV0IGk9MDtpPGU7aSsrKXtuKz10aGlzLmdldE1vZGVsTGVuZ3RoKHQuZ2V0Q2hpbGQoaSkpfXJldHVybiBufWdldE1vZGVsTGVuZ3RoKHQpe2lmKHRoaXMuX3ZpZXdUb01vZGVsTGVuZ3RoQ2FsbGJhY2tzLmdldCh0Lm5hbWUpKXtjb25zdCBlPXRoaXMuX3ZpZXdUb01vZGVsTGVuZ3RoQ2FsbGJhY2tzLmdldCh0Lm5hbWUpO3JldHVybiBlKHQpfWVsc2UgaWYodGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nLmhhcyh0KSl7cmV0dXJuIDF9ZWxzZSBpZih0LmlzKFwidGV4dFwiKSl7cmV0dXJuIHQuZGF0YS5sZW5ndGh9ZWxzZSBpZih0LmlzKFwidWlFbGVtZW50XCIpKXtyZXR1cm4gMH1lbHNle2xldCBlPTA7Zm9yKGNvbnN0IGkgb2YgdC5nZXRDaGlsZHJlbigpKXtlKz10aGlzLmdldE1vZGVsTGVuZ3RoKGkpfXJldHVybiBlfX1fZmluZFBvc2l0aW9uSW4odCxlKXtsZXQgaTtsZXQgbj0wO2xldCBvPTA7bGV0IHI9MDtpZih0LmlzKFwidGV4dFwiKSl7cmV0dXJuIG5ldyBkbCh0LGUpfXdoaWxlKG88ZSl7aT10LmdldENoaWxkKHIpO249dGhpcy5nZXRNb2RlbExlbmd0aChpKTtvKz1uO3IrK31pZihvPT1lKXtyZXR1cm4gdGhpcy5fbW92ZVZpZXdQb3NpdGlvblRvVGV4dE5vZGUobmV3IGRsKHQscikpfWVsc2V7cmV0dXJuIHRoaXMuX2ZpbmRQb3NpdGlvbkluKGksZS0oby1uKSl9fV9tb3ZlVmlld1Bvc2l0aW9uVG9UZXh0Tm9kZSh0KXtjb25zdCBlPXQubm9kZUJlZm9yZTtjb25zdCBpPXQubm9kZUFmdGVyO2lmKGUgaW5zdGFuY2VvZiBMcyl7cmV0dXJuIG5ldyBkbChlLGUuZGF0YS5sZW5ndGgpfWVsc2UgaWYoaSBpbnN0YW5jZW9mIExzKXtyZXR1cm4gbmV3IGRsKGksMCl9cmV0dXJuIHR9fXZzKEdoLGRzKTtjbGFzcyBLaHtjb25zdHJ1Y3Rvcigpe3RoaXMuX2NvbnN1bWFibGU9bmV3IE1hcDt0aGlzLl90ZXh0UHJveHlSZWdpc3RyeT1uZXcgTWFwfWFkZCh0LGUpe2U9SmgoZSk7aWYodCBpbnN0YW5jZW9mIEZoKXt0PXRoaXMuX2dldFN5bWJvbEZvclRleHRQcm94eSh0KX1pZighdGhpcy5fY29uc3VtYWJsZS5oYXModCkpe3RoaXMuX2NvbnN1bWFibGUuc2V0KHQsbmV3IE1hcCl9dGhpcy5fY29uc3VtYWJsZS5nZXQodCkuc2V0KGUsdHJ1ZSl9Y29uc3VtZSh0LGUpe2U9SmgoZSk7aWYodCBpbnN0YW5jZW9mIEZoKXt0PXRoaXMuX2dldFN5bWJvbEZvclRleHRQcm94eSh0KX1pZih0aGlzLnRlc3QodCxlKSl7dGhpcy5fY29uc3VtYWJsZS5nZXQodCkuc2V0KGUsZmFsc2UpO3JldHVybiB0cnVlfWVsc2V7cmV0dXJuIGZhbHNlfX10ZXN0KHQsZSl7ZT1KaChlKTtpZih0IGluc3RhbmNlb2YgRmgpe3Q9dGhpcy5fZ2V0U3ltYm9sRm9yVGV4dFByb3h5KHQpfWNvbnN0IGk9dGhpcy5fY29uc3VtYWJsZS5nZXQodCk7aWYoaT09PXVuZGVmaW5lZCl7cmV0dXJuIG51bGx9Y29uc3Qgbj1pLmdldChlKTtpZihuPT09dW5kZWZpbmVkKXtyZXR1cm4gbnVsbH1yZXR1cm4gbn1yZXZlcnQodCxlKXtlPUpoKGUpO2lmKHQgaW5zdGFuY2VvZiBGaCl7dD10aGlzLl9nZXRTeW1ib2xGb3JUZXh0UHJveHkodCl9Y29uc3QgaT10aGlzLnRlc3QodCxlKTtpZihpPT09ZmFsc2Upe3RoaXMuX2NvbnN1bWFibGUuZ2V0KHQpLnNldChlLHRydWUpO3JldHVybiB0cnVlfWVsc2UgaWYoaT09PXRydWUpe3JldHVybiBmYWxzZX1yZXR1cm4gbnVsbH1fZ2V0U3ltYm9sRm9yVGV4dFByb3h5KHQpe2xldCBlPW51bGw7Y29uc3QgaT10aGlzLl90ZXh0UHJveHlSZWdpc3RyeS5nZXQodC5zdGFydE9mZnNldCk7aWYoaSl7Y29uc3Qgbj1pLmdldCh0LmVuZE9mZnNldCk7aWYobil7ZT1uLmdldCh0LnBhcmVudCl9fWlmKCFlKXtlPXRoaXMuX2FkZFN5bWJvbEZvclRleHRQcm94eSh0LnN0YXJ0T2Zmc2V0LHQuZW5kT2Zmc2V0LHQucGFyZW50KX1yZXR1cm4gZX1fYWRkU3ltYm9sRm9yVGV4dFByb3h5KHQsZSxpKXtjb25zdCBuPVN5bWJvbChcInRleHRQcm94eVN5bWJvbFwiKTtsZXQgbyxyO289dGhpcy5fdGV4dFByb3h5UmVnaXN0cnkuZ2V0KHQpO2lmKCFvKXtvPW5ldyBNYXA7dGhpcy5fdGV4dFByb3h5UmVnaXN0cnkuc2V0KHQsbyl9cj1vLmdldChlKTtpZighcil7cj1uZXcgTWFwO28uc2V0KGUscil9ci5zZXQoaSxuKTtyZXR1cm4gbn19ZnVuY3Rpb24gSmgodCl7Y29uc3QgZT10LnNwbGl0KFwiOlwiKTtyZXR1cm4gZS5sZW5ndGg+MT9lWzBdK1wiOlwiK2VbMV06ZVswXX1jbGFzcyBZaHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmNvbnZlcnNpb25BcGk9cWMoe2Rpc3BhdGNoZXI6dGhpc30sdCl9Y29udmVydENoYW5nZXModCxlLGkpe2Zvcihjb25zdCBlIG9mIHQuZ2V0TWFya2Vyc1RvUmVtb3ZlKCkpe3RoaXMuY29udmVydE1hcmtlclJlbW92ZShlLm5hbWUsZS5yYW5nZSxpKX1mb3IoY29uc3QgZSBvZiB0LmdldENoYW5nZXMoKSl7aWYoZS50eXBlPT1cImluc2VydFwiKXt0aGlzLmNvbnZlcnRJbnNlcnQoJGguX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGUucG9zaXRpb24sZS5sZW5ndGgpLGkpfWVsc2UgaWYoZS50eXBlPT1cInJlbW92ZVwiKXt0aGlzLmNvbnZlcnRSZW1vdmUoZS5wb3NpdGlvbixlLmxlbmd0aCxlLm5hbWUsaSl9ZWxzZXt0aGlzLmNvbnZlcnRBdHRyaWJ1dGUoZS5yYW5nZSxlLmF0dHJpYnV0ZUtleSxlLmF0dHJpYnV0ZU9sZFZhbHVlLGUuYXR0cmlidXRlTmV3VmFsdWUsaSl9fWZvcihjb25zdCB0IG9mIHRoaXMuY29udmVyc2lvbkFwaS5tYXBwZXIuZmx1c2hVbmJvdW5kTWFya2VyTmFtZXMoKSl7Y29uc3Qgbj1lLmdldCh0KS5nZXRSYW5nZSgpO3RoaXMuY29udmVydE1hcmtlclJlbW92ZSh0LG4saSk7dGhpcy5jb252ZXJ0TWFya2VyQWRkKHQsbixpKX1mb3IoY29uc3QgZSBvZiB0LmdldE1hcmtlcnNUb0FkZCgpKXt0aGlzLmNvbnZlcnRNYXJrZXJBZGQoZS5uYW1lLGUucmFuZ2UsaSl9fWNvbnZlcnRJbnNlcnQodCxlKXt0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPWU7dGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGU9dGhpcy5fY3JlYXRlSW5zZXJ0Q29uc3VtYWJsZSh0KTtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PWUuaXRlbTtjb25zdCBpPSRoLl9jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLnByZXZpb3VzUG9zaXRpb24sZS5sZW5ndGgpO2NvbnN0IG49e2l0ZW06dCxyYW5nZTppfTt0aGlzLl90ZXN0QW5kRmlyZShcImluc2VydFwiLG4pO2Zvcihjb25zdCBlIG9mIHQuZ2V0QXR0cmlidXRlS2V5cygpKXtuLmF0dHJpYnV0ZUtleT1lO24uYXR0cmlidXRlT2xkVmFsdWU9bnVsbDtuLmF0dHJpYnV0ZU5ld1ZhbHVlPXQuZ2V0QXR0cmlidXRlKGUpO3RoaXMuX3Rlc3RBbmRGaXJlKGBhdHRyaWJ1dGU6JHtlfWAsbil9fXRoaXMuX2NsZWFyQ29udmVyc2lvbkFwaSgpfWNvbnZlcnRSZW1vdmUodCxlLGksbil7dGhpcy5jb252ZXJzaW9uQXBpLndyaXRlcj1uO3RoaXMuZmlyZShcInJlbW92ZTpcIitpLHtwb3NpdGlvbjp0LGxlbmd0aDplfSx0aGlzLmNvbnZlcnNpb25BcGkpO3RoaXMuX2NsZWFyQ29udmVyc2lvbkFwaSgpfWNvbnZlcnRBdHRyaWJ1dGUodCxlLGksbixvKXt0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPW87dGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGU9dGhpcy5fY3JlYXRlQ29uc3VtYWJsZUZvclJhbmdlKHQsYGF0dHJpYnV0ZToke2V9YCk7Zm9yKGNvbnN0IG8gb2YgdCl7Y29uc3QgdD1vLml0ZW07Y29uc3Qgcj0kaC5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoby5wcmV2aW91c1Bvc2l0aW9uLG8ubGVuZ3RoKTtjb25zdCBzPXtpdGVtOnQscmFuZ2U6cixhdHRyaWJ1dGVLZXk6ZSxhdHRyaWJ1dGVPbGRWYWx1ZTppLGF0dHJpYnV0ZU5ld1ZhbHVlOm59O3RoaXMuX3Rlc3RBbmRGaXJlKGBhdHRyaWJ1dGU6JHtlfWAscyl9dGhpcy5fY2xlYXJDb252ZXJzaW9uQXBpKCl9Y29udmVydFNlbGVjdGlvbih0LGUsaSl7Y29uc3Qgbj1BcnJheS5mcm9tKGUuZ2V0TWFya2Vyc0F0UG9zaXRpb24odC5nZXRGaXJzdFBvc2l0aW9uKCkpKTt0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPWk7dGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGU9dGhpcy5fY3JlYXRlU2VsZWN0aW9uQ29uc3VtYWJsZSh0LG4pO3RoaXMuZmlyZShcInNlbGVjdGlvblwiLHtzZWxlY3Rpb246dH0sdGhpcy5jb252ZXJzaW9uQXBpKTtpZighdC5pc0NvbGxhcHNlZCl7cmV0dXJufWZvcihjb25zdCBlIG9mIG4pe2NvbnN0IGk9ZS5nZXRSYW5nZSgpO2lmKCFRaCh0LmdldEZpcnN0UG9zaXRpb24oKSxlLHRoaXMuY29udmVyc2lvbkFwaS5tYXBwZXIpKXtjb250aW51ZX1jb25zdCBuPXtpdGVtOnQsbWFya2VyTmFtZTplLm5hbWUsbWFya2VyUmFuZ2U6aX07aWYodGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGUudGVzdCh0LFwiYWRkTWFya2VyOlwiK2UubmFtZSkpe3RoaXMuZmlyZShcImFkZE1hcmtlcjpcIitlLm5hbWUsbix0aGlzLmNvbnZlcnNpb25BcGkpfX1mb3IoY29uc3QgZSBvZiB0LmdldEF0dHJpYnV0ZUtleXMoKSl7Y29uc3QgaT17aXRlbTp0LHJhbmdlOnQuZ2V0Rmlyc3RSYW5nZSgpLGF0dHJpYnV0ZUtleTplLGF0dHJpYnV0ZU9sZFZhbHVlOm51bGwsYXR0cmlidXRlTmV3VmFsdWU6dC5nZXRBdHRyaWJ1dGUoZSl9O2lmKHRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlLnRlc3QodCxcImF0dHJpYnV0ZTpcIitpLmF0dHJpYnV0ZUtleSkpe3RoaXMuZmlyZShcImF0dHJpYnV0ZTpcIitpLmF0dHJpYnV0ZUtleStcIjokdGV4dFwiLGksdGhpcy5jb252ZXJzaW9uQXBpKX19dGhpcy5fY2xlYXJDb252ZXJzaW9uQXBpKCl9Y29udmVydE1hcmtlckFkZCh0LGUsaSl7aWYoIWUucm9vdC5kb2N1bWVudHx8ZS5yb290LnJvb3ROYW1lPT1cIiRncmF2ZXlhcmRcIil7cmV0dXJufXRoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9aTtjb25zdCBuPVwiYWRkTWFya2VyOlwiK3Q7Y29uc3Qgbz1uZXcgS2g7by5hZGQoZSxuKTt0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZT1vO3RoaXMuZmlyZShuLHttYXJrZXJOYW1lOnQsbWFya2VyUmFuZ2U6ZX0sdGhpcy5jb252ZXJzaW9uQXBpKTtpZighby50ZXN0KGUsbikpe3JldHVybn10aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZT10aGlzLl9jcmVhdGVDb25zdW1hYmxlRm9yUmFuZ2UoZSxuKTtmb3IoY29uc3QgaSBvZiBlLmdldEl0ZW1zKCkpe2lmKCF0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZS50ZXN0KGksbikpe2NvbnRpbnVlfWNvbnN0IG89e2l0ZW06aSxyYW5nZTokaC5fY3JlYXRlT24oaSksbWFya2VyTmFtZTp0LG1hcmtlclJhbmdlOmV9O3RoaXMuZmlyZShuLG8sdGhpcy5jb252ZXJzaW9uQXBpKX10aGlzLl9jbGVhckNvbnZlcnNpb25BcGkoKX1jb252ZXJ0TWFya2VyUmVtb3ZlKHQsZSxpKXtpZighZS5yb290LmRvY3VtZW50fHxlLnJvb3Qucm9vdE5hbWU9PVwiJGdyYXZleWFyZFwiKXtyZXR1cm59dGhpcy5jb252ZXJzaW9uQXBpLndyaXRlcj1pO3RoaXMuZmlyZShcInJlbW92ZU1hcmtlcjpcIit0LHttYXJrZXJOYW1lOnQsbWFya2VyUmFuZ2U6ZX0sdGhpcy5jb252ZXJzaW9uQXBpKTt0aGlzLl9jbGVhckNvbnZlcnNpb25BcGkoKX1fY3JlYXRlSW5zZXJ0Q29uc3VtYWJsZSh0KXtjb25zdCBlPW5ldyBLaDtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PWkuaXRlbTtlLmFkZCh0LFwiaW5zZXJ0XCIpO2Zvcihjb25zdCBpIG9mIHQuZ2V0QXR0cmlidXRlS2V5cygpKXtlLmFkZCh0LFwiYXR0cmlidXRlOlwiK2kpfX1yZXR1cm4gZX1fY3JlYXRlQ29uc3VtYWJsZUZvclJhbmdlKHQsZSl7Y29uc3QgaT1uZXcgS2g7Zm9yKGNvbnN0IG4gb2YgdC5nZXRJdGVtcygpKXtpLmFkZChuLGUpfXJldHVybiBpfV9jcmVhdGVTZWxlY3Rpb25Db25zdW1hYmxlKHQsZSl7Y29uc3QgaT1uZXcgS2g7aS5hZGQodCxcInNlbGVjdGlvblwiKTtmb3IoY29uc3QgbiBvZiBlKXtpLmFkZCh0LFwiYWRkTWFya2VyOlwiK24ubmFtZSl9Zm9yKGNvbnN0IGUgb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpe2kuYWRkKHQsXCJhdHRyaWJ1dGU6XCIrZSl9cmV0dXJuIGl9X3Rlc3RBbmRGaXJlKHQsZSl7aWYoIXRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlLnRlc3QoZS5pdGVtLHQpKXtyZXR1cm59Y29uc3QgaT1lLml0ZW0ubmFtZXx8XCIkdGV4dFwiO3RoaXMuZmlyZSh0K1wiOlwiK2ksZSx0aGlzLmNvbnZlcnNpb25BcGkpfV9jbGVhckNvbnZlcnNpb25BcGkoKXtkZWxldGUgdGhpcy5jb252ZXJzaW9uQXBpLndyaXRlcjtkZWxldGUgdGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGV9fXZzKFloLGRzKTtmdW5jdGlvbiBRaCh0LGUsaSl7Y29uc3Qgbj1lLmdldFJhbmdlKCk7Y29uc3Qgbz1BcnJheS5mcm9tKHQuZ2V0QW5jZXN0b3JzKCkpO28uc2hpZnQoKTtvLnJldmVyc2UoKTtjb25zdCByPW8uc29tZSh0PT57aWYobi5jb250YWluc0l0ZW0odCkpe2NvbnN0IGU9aS50b1ZpZXdFbGVtZW50KHQpO3JldHVybiEhZS5nZXRDdXN0b21Qcm9wZXJ0eShcImFkZEhpZ2hsaWdodFwiKX19KTtyZXR1cm4hcn1jbGFzcyBYaHtjb25zdHJ1Y3Rvcih0LGUsaSl7dGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ZmFsc2U7dGhpcy5fcmFuZ2VzPVtdO3RoaXMuX2F0dHJzPW5ldyBNYXA7aWYodCl7dGhpcy5zZXRUbyh0LGUsaSl9fWdldCBhbmNob3IoKXtpZih0aGlzLl9yYW5nZXMubGVuZ3RoPjApe2NvbnN0IHQ9dGhpcy5fcmFuZ2VzW3RoaXMuX3Jhbmdlcy5sZW5ndGgtMV07cmV0dXJuIHRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkP3QuZW5kOnQuc3RhcnR9cmV0dXJuIG51bGx9Z2V0IGZvY3VzKCl7aWYodGhpcy5fcmFuZ2VzLmxlbmd0aD4wKXtjb25zdCB0PXRoaXMuX3Jhbmdlc1t0aGlzLl9yYW5nZXMubGVuZ3RoLTFdO3JldHVybiB0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD90LnN0YXJ0OnQuZW5kfXJldHVybiBudWxsfWdldCBpc0NvbGxhcHNlZCgpe2NvbnN0IHQ9dGhpcy5fcmFuZ2VzLmxlbmd0aDtpZih0PT09MSl7cmV0dXJuIHRoaXMuX3Jhbmdlc1swXS5pc0NvbGxhcHNlZH1lbHNle3JldHVybiBmYWxzZX19Z2V0IHJhbmdlQ291bnQoKXtyZXR1cm4gdGhpcy5fcmFuZ2VzLmxlbmd0aH1nZXQgaXNCYWNrd2FyZCgpe3JldHVybiF0aGlzLmlzQ29sbGFwc2VkJiZ0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZH1pc0VxdWFsKHQpe2lmKHRoaXMucmFuZ2VDb3VudCE9dC5yYW5nZUNvdW50KXtyZXR1cm4gZmFsc2V9ZWxzZSBpZih0aGlzLnJhbmdlQ291bnQ9PT0wKXtyZXR1cm4gdHJ1ZX1pZighdGhpcy5hbmNob3IuaXNFcXVhbCh0LmFuY2hvcil8fCF0aGlzLmZvY3VzLmlzRXF1YWwodC5mb2N1cykpe3JldHVybiBmYWxzZX1mb3IoY29uc3QgZSBvZiB0aGlzLl9yYW5nZXMpe2xldCBpPWZhbHNlO2Zvcihjb25zdCBuIG9mIHQuX3Jhbmdlcyl7aWYoZS5pc0VxdWFsKG4pKXtpPXRydWU7YnJlYWt9fWlmKCFpKXtyZXR1cm4gZmFsc2V9fXJldHVybiB0cnVlfSpnZXRSYW5nZXMoKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9yYW5nZXMpe3lpZWxkIG5ldyAkaCh0LnN0YXJ0LHQuZW5kKX19Z2V0Rmlyc3RSYW5nZSgpe2xldCB0PW51bGw7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcmFuZ2VzKXtpZighdHx8ZS5zdGFydC5pc0JlZm9yZSh0LnN0YXJ0KSl7dD1lfX1yZXR1cm4gdD9uZXcgJGgodC5zdGFydCx0LmVuZCk6bnVsbH1nZXRMYXN0UmFuZ2UoKXtsZXQgdD1udWxsO2Zvcihjb25zdCBlIG9mIHRoaXMuX3Jhbmdlcyl7aWYoIXR8fGUuZW5kLmlzQWZ0ZXIodC5lbmQpKXt0PWV9fXJldHVybiB0P25ldyAkaCh0LnN0YXJ0LHQuZW5kKTpudWxsfWdldEZpcnN0UG9zaXRpb24oKXtjb25zdCB0PXRoaXMuZ2V0Rmlyc3RSYW5nZSgpO3JldHVybiB0P3Quc3RhcnQuY2xvbmUoKTpudWxsfWdldExhc3RQb3NpdGlvbigpe2NvbnN0IHQ9dGhpcy5nZXRMYXN0UmFuZ2UoKTtyZXR1cm4gdD90LmVuZC5jbG9uZSgpOm51bGx9c2V0VG8odCxlLGkpe2lmKHQ9PT1udWxsKXt0aGlzLl9zZXRSYW5nZXMoW10pfWVsc2UgaWYodCBpbnN0YW5jZW9mIFhoKXt0aGlzLl9zZXRSYW5nZXModC5nZXRSYW5nZXMoKSx0LmlzQmFja3dhcmQpfWVsc2UgaWYodCYmdHlwZW9mIHQuZ2V0UmFuZ2VzPT1cImZ1bmN0aW9uXCIpe3RoaXMuX3NldFJhbmdlcyh0LmdldFJhbmdlcygpLHQuaXNCYWNrd2FyZCl9ZWxzZSBpZih0IGluc3RhbmNlb2YgJGgpe3RoaXMuX3NldFJhbmdlcyhbdF0sISFlJiYhIWUuYmFja3dhcmQpfWVsc2UgaWYodCBpbnN0YW5jZW9mIFVoKXt0aGlzLl9zZXRSYW5nZXMoW25ldyAkaCh0KV0pfWVsc2UgaWYodCBpbnN0YW5jZW9mIHpoKXtjb25zdCBuPSEhaSYmISFpLmJhY2t3YXJkO2xldCBvO2lmKGU9PVwiaW5cIil7bz0kaC5fY3JlYXRlSW4odCl9ZWxzZSBpZihlPT1cIm9uXCIpe289JGguX2NyZWF0ZU9uKHQpfWVsc2UgaWYoZSE9PXVuZGVmaW5lZCl7bz1uZXcgJGgoVWguX2NyZWF0ZUF0KHQsZSkpfWVsc2V7dGhyb3cgbmV3IHNzW1wiYlwiXShcIm1vZGVsLXNlbGVjdGlvbi1zZXRUby1yZXF1aXJlZC1zZWNvbmQtcGFyYW1ldGVyOiBcIitcInNlbGVjdGlvbi5zZXRUbyByZXF1aXJlcyB0aGUgc2Vjb25kIHBhcmFtZXRlciB3aGVuIHRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgYSBub2RlLlwiLFt0aGlzLHRdKX10aGlzLl9zZXRSYW5nZXMoW29dLG4pfWVsc2UgaWYoanModCkpe3RoaXMuX3NldFJhbmdlcyh0LGUmJiEhZS5iYWNrd2FyZCl9ZWxzZXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibW9kZWwtc2VsZWN0aW9uLXNldFRvLW5vdC1zZWxlY3RhYmxlOiBDYW5ub3Qgc2V0IHRoZSBzZWxlY3Rpb24gdG8gdGhlIGdpdmVuIHBsYWNlLlwiLFt0aGlzLHRdKX19X3NldFJhbmdlcyh0LGU9ZmFsc2Upe3Q9QXJyYXkuZnJvbSh0KTtjb25zdCBpPXQuc29tZShlPT57aWYoIShlIGluc3RhbmNlb2YgJGgpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibW9kZWwtc2VsZWN0aW9uLXNldC1yYW5nZXMtbm90LXJhbmdlOiBcIitcIlNlbGVjdGlvbiByYW5nZSBzZXQgdG8gYW4gb2JqZWN0IHRoYXQgaXMgbm90IGFuIGluc3RhbmNlIG9mIG1vZGVsLlJhbmdlLlwiLFt0aGlzLHRdKX1yZXR1cm4gdGhpcy5fcmFuZ2VzLmV2ZXJ5KHQ9PiF0LmlzRXF1YWwoZSkpfSk7aWYodC5sZW5ndGg9PT10aGlzLl9yYW5nZXMubGVuZ3RoJiYhaSl7cmV0dXJufXRoaXMuX3JlbW92ZUFsbFJhbmdlcygpO2Zvcihjb25zdCBlIG9mIHQpe3RoaXMuX3B1c2hSYW5nZShlKX10aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD0hIWU7dGhpcy5maXJlKFwiY2hhbmdlOnJhbmdlXCIse2RpcmVjdENoYW5nZTp0cnVlfSl9c2V0Rm9jdXModCxlKXtpZih0aGlzLmFuY2hvcj09PW51bGwpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJtb2RlbC1zZWxlY3Rpb24tc2V0Rm9jdXMtbm8tcmFuZ2VzOiBDYW5ub3Qgc2V0IHNlbGVjdGlvbiBmb2N1cyBpZiB0aGVyZSBhcmUgbm8gcmFuZ2VzIGluIHNlbGVjdGlvbi5cIixbdGhpcyx0XSl9Y29uc3QgaT1VaC5fY3JlYXRlQXQodCxlKTtpZihpLmNvbXBhcmVXaXRoKHRoaXMuZm9jdXMpPT1cInNhbWVcIil7cmV0dXJufWNvbnN0IG49dGhpcy5hbmNob3I7aWYodGhpcy5fcmFuZ2VzLmxlbmd0aCl7dGhpcy5fcG9wUmFuZ2UoKX1pZihpLmNvbXBhcmVXaXRoKG4pPT1cImJlZm9yZVwiKXt0aGlzLl9wdXNoUmFuZ2UobmV3ICRoKGksbikpO3RoaXMuX2xhc3RSYW5nZUJhY2t3YXJkPXRydWV9ZWxzZXt0aGlzLl9wdXNoUmFuZ2UobmV3ICRoKG4saSkpO3RoaXMuX2xhc3RSYW5nZUJhY2t3YXJkPWZhbHNlfXRoaXMuZmlyZShcImNoYW5nZTpyYW5nZVwiLHtkaXJlY3RDaGFuZ2U6dHJ1ZX0pfWdldEF0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5fYXR0cnMuZ2V0KHQpfWdldEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fYXR0cnMuZW50cmllcygpfWdldEF0dHJpYnV0ZUtleXMoKXtyZXR1cm4gdGhpcy5fYXR0cnMua2V5cygpfWhhc0F0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5fYXR0cnMuaGFzKHQpfXJlbW92ZUF0dHJpYnV0ZSh0KXtpZih0aGlzLmhhc0F0dHJpYnV0ZSh0KSl7dGhpcy5fYXR0cnMuZGVsZXRlKHQpO3RoaXMuZmlyZShcImNoYW5nZTphdHRyaWJ1dGVcIix7YXR0cmlidXRlS2V5czpbdF0sZGlyZWN0Q2hhbmdlOnRydWV9KX19c2V0QXR0cmlidXRlKHQsZSl7aWYodGhpcy5nZXRBdHRyaWJ1dGUodCkhPT1lKXt0aGlzLl9hdHRycy5zZXQodCxlKTt0aGlzLmZpcmUoXCJjaGFuZ2U6YXR0cmlidXRlXCIse2F0dHJpYnV0ZUtleXM6W3RdLGRpcmVjdENoYW5nZTp0cnVlfSl9fWdldFNlbGVjdGVkRWxlbWVudCgpe2lmKHRoaXMucmFuZ2VDb3VudCE9PTEpe3JldHVybiBudWxsfXJldHVybiB0aGlzLmdldEZpcnN0UmFuZ2UoKS5nZXRDb250YWluZWRFbGVtZW50KCl9aXModCl7cmV0dXJuIHQ9PVwic2VsZWN0aW9uXCJ8fHQ9PVwibW9kZWw6c2VsZWN0aW9uXCJ9KmdldFNlbGVjdGVkQmxvY2tzKCl7Y29uc3QgdD1uZXcgV2Vha1NldDtmb3IoY29uc3QgZSBvZiB0aGlzLmdldFJhbmdlcygpKXtjb25zdCBpPWVmKGUuc3RhcnQsdCk7aWYoaSYmbmYoaSxlKSl7eWllbGQgaX1mb3IoY29uc3QgaSBvZiBlLmdldFdhbGtlcigpKXtjb25zdCBuPWkuaXRlbTtpZihpLnR5cGU9PVwiZWxlbWVudEVuZFwiJiZ0ZihuLHQsZSkpe3lpZWxkIG59fWNvbnN0IG49ZWYoZS5lbmQsdCk7aWYobiYmIWUuZW5kLmlzVG91Y2hpbmcoVWguX2NyZWF0ZUF0KG4sMCkpJiZuZihuLGUpKXt5aWVsZCBufX19Y29udGFpbnNFbnRpcmVDb250ZW50KHQ9dGhpcy5hbmNob3Iucm9vdCl7Y29uc3QgZT1VaC5fY3JlYXRlQXQodCwwKTtjb25zdCBpPVVoLl9jcmVhdGVBdCh0LFwiZW5kXCIpO3JldHVybiBlLmlzVG91Y2hpbmcodGhpcy5nZXRGaXJzdFBvc2l0aW9uKCkpJiZpLmlzVG91Y2hpbmcodGhpcy5nZXRMYXN0UG9zaXRpb24oKSl9X3B1c2hSYW5nZSh0KXt0aGlzLl9jaGVja1JhbmdlKHQpO3RoaXMuX3Jhbmdlcy5wdXNoKG5ldyAkaCh0LnN0YXJ0LHQuZW5kKSl9X2NoZWNrUmFuZ2UodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9yYW5nZXMubGVuZ3RoO2UrKyl7aWYodC5pc0ludGVyc2VjdGluZyh0aGlzLl9yYW5nZXNbZV0pKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibW9kZWwtc2VsZWN0aW9uLXJhbmdlLWludGVyc2VjdHM6IFRyeWluZyB0byBhZGQgYSByYW5nZSB0aGF0IGludGVyc2VjdHMgd2l0aCBhbm90aGVyIHJhbmdlIGluIHRoZSBzZWxlY3Rpb24uXCIsW3RoaXMsdF0se2FkZGVkUmFuZ2U6dCxpbnRlcnNlY3RpbmdSYW5nZTp0aGlzLl9yYW5nZXNbZV19KX19fV9yZW1vdmVBbGxSYW5nZXMoKXt3aGlsZSh0aGlzLl9yYW5nZXMubGVuZ3RoPjApe3RoaXMuX3BvcFJhbmdlKCl9fV9wb3BSYW5nZSgpe3RoaXMuX3Jhbmdlcy5wb3AoKX19dnMoWGgsZHMpO2Z1bmN0aW9uIFpoKHQsZSl7aWYoZS5oYXModCkpe3JldHVybiBmYWxzZX1lLmFkZCh0KTtyZXR1cm4gdC5yb290LmRvY3VtZW50Lm1vZGVsLnNjaGVtYS5pc0Jsb2NrKHQpJiZ0LnBhcmVudH1mdW5jdGlvbiB0Zih0LGUsaSl7cmV0dXJuIFpoKHQsZSkmJm5mKHQsaSl9ZnVuY3Rpb24gZWYodCxlKXtjb25zdCBpPXQucGFyZW50O2NvbnN0IG49aS5yb290LmRvY3VtZW50Lm1vZGVsLnNjaGVtYTtjb25zdCBvPXQucGFyZW50LmdldEFuY2VzdG9ycyh7cGFyZW50Rmlyc3Q6dHJ1ZSxpbmNsdWRlU2VsZjp0cnVlfSk7bGV0IHI9ZmFsc2U7Y29uc3Qgcz1vLmZpbmQodD0+e2lmKHIpe3JldHVybiBmYWxzZX1yPW4uaXNMaW1pdCh0KTtyZXR1cm4hciYmWmgodCxlKX0pO28uZm9yRWFjaCh0PT5lLmFkZCh0KSk7cmV0dXJuIHN9ZnVuY3Rpb24gbmYodCxlKXtjb25zdCBpPW9mKHQpO2lmKCFpKXtyZXR1cm4gdHJ1ZX1jb25zdCBuPWUuY29udGFpbnNSYW5nZSgkaC5fY3JlYXRlT24oaSksdHJ1ZSk7cmV0dXJuIW59ZnVuY3Rpb24gb2YodCl7Y29uc3QgZT10LnJvb3QuZG9jdW1lbnQubW9kZWwuc2NoZW1hO2xldCBpPXQucGFyZW50O3doaWxlKGkpe2lmKGUuaXNCbG9jayhpKSl7cmV0dXJuIGl9aT1pLnBhcmVudH19Y2xhc3MgcmYgZXh0ZW5kcyAkaHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSk7c2YuY2FsbCh0aGlzKX1kZXRhY2goKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKX1pcyh0KXtyZXR1cm4gdD09XCJsaXZlUmFuZ2VcInx8dD09XCJtb2RlbDpsaXZlUmFuZ2VcInx8c3VwZXIuaXModCl9dG9SYW5nZSgpe3JldHVybiBuZXcgJGgodGhpcy5zdGFydCx0aGlzLmVuZCl9c3RhdGljIGZyb21SYW5nZSh0KXtyZXR1cm4gbmV3IHJmKHQuc3RhcnQsdC5lbmQpfX1mdW5jdGlvbiBzZigpe3RoaXMubGlzdGVuVG8odGhpcy5yb290LmRvY3VtZW50Lm1vZGVsLFwiYXBwbHlPcGVyYXRpb25cIiwodCxlKT0+e2NvbnN0IGk9ZVswXTtpZighaS5pc0RvY3VtZW50T3BlcmF0aW9uKXtyZXR1cm59YWYuY2FsbCh0aGlzLGkpfSx7cHJpb3JpdHk6XCJsb3dcIn0pfWZ1bmN0aW9uIGFmKHQpe2NvbnN0IGU9dGhpcy5nZXRUcmFuc2Zvcm1lZEJ5T3BlcmF0aW9uKHQpO2NvbnN0IGk9JGguX2NyZWF0ZUZyb21SYW5nZXMoZSk7Y29uc3Qgbj0haS5pc0VxdWFsKHRoaXMpO2NvbnN0IG89Y2YodGhpcyx0KTtsZXQgcj1udWxsO2lmKG4pe2lmKGkucm9vdC5yb290TmFtZT09XCIkZ3JhdmV5YXJkXCIpe2lmKHQudHlwZT09XCJyZW1vdmVcIil7cj10LnNvdXJjZVBvc2l0aW9ufWVsc2V7cj10LmRlbGV0aW9uUG9zaXRpb259fWNvbnN0IGU9dGhpcy50b1JhbmdlKCk7dGhpcy5zdGFydD1pLnN0YXJ0O3RoaXMuZW5kPWkuZW5kO3RoaXMuZmlyZShcImNoYW5nZTpyYW5nZVwiLGUse2RlbGV0aW9uUG9zaXRpb246cn0pfWVsc2UgaWYobyl7dGhpcy5maXJlKFwiY2hhbmdlOmNvbnRlbnRcIix0aGlzLnRvUmFuZ2UoKSx7ZGVsZXRpb25Qb3NpdGlvbjpyfSl9fWZ1bmN0aW9uIGNmKHQsZSl7c3dpdGNoKGUudHlwZSl7Y2FzZVwiaW5zZXJ0XCI6cmV0dXJuIHQuY29udGFpbnNQb3NpdGlvbihlLnBvc2l0aW9uKTtjYXNlXCJtb3ZlXCI6Y2FzZVwicmVtb3ZlXCI6Y2FzZVwicmVpbnNlcnRcIjpjYXNlXCJtZXJnZVwiOnJldHVybiB0LmNvbnRhaW5zUG9zaXRpb24oZS5zb3VyY2VQb3NpdGlvbil8fHQuc3RhcnQuaXNFcXVhbChlLnNvdXJjZVBvc2l0aW9uKXx8dC5jb250YWluc1Bvc2l0aW9uKGUudGFyZ2V0UG9zaXRpb24pO2Nhc2VcInNwbGl0XCI6cmV0dXJuIHQuY29udGFpbnNQb3NpdGlvbihlLnNwbGl0UG9zaXRpb24pfHx0LmNvbnRhaW5zUG9zaXRpb24oZS5pbnNlcnRpb25Qb3NpdGlvbil9cmV0dXJuIGZhbHNlfXZzKHJmLGRzKTtjb25zdCBsZj1cInNlbGVjdGlvbjpcIjtjbGFzcyBkZntjb25zdHJ1Y3Rvcih0KXt0aGlzLl9zZWxlY3Rpb249bmV3IHVmKHQpO3RoaXMuX3NlbGVjdGlvbi5kZWxlZ2F0ZShcImNoYW5nZTpyYW5nZVwiKS50byh0aGlzKTt0aGlzLl9zZWxlY3Rpb24uZGVsZWdhdGUoXCJjaGFuZ2U6YXR0cmlidXRlXCIpLnRvKHRoaXMpO3RoaXMuX3NlbGVjdGlvbi5kZWxlZ2F0ZShcImNoYW5nZTptYXJrZXJcIikudG8odGhpcyl9Z2V0IGlzQ29sbGFwc2VkKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0NvbGxhcHNlZH1nZXQgYW5jaG9yKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5hbmNob3J9Z2V0IGZvY3VzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5mb2N1c31nZXQgcmFuZ2VDb3VudCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24ucmFuZ2VDb3VudH1nZXQgaGFzT3duUmFuZ2UoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmhhc093blJhbmdlfWdldCBpc0JhY2t3YXJkKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0JhY2t3YXJkfWdldCBpc0dyYXZpdHlPdmVycmlkZGVuKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0dyYXZpdHlPdmVycmlkZGVufWdldCBtYXJrZXJzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5tYXJrZXJzfWdldCBfcmFuZ2VzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5fcmFuZ2VzfWdldFJhbmdlcygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0UmFuZ2VzKCl9Z2V0Rmlyc3RQb3NpdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpfWdldExhc3RQb3NpdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0TGFzdFBvc2l0aW9uKCl9Z2V0Rmlyc3RSYW5nZSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0Rmlyc3RSYW5nZSgpfWdldExhc3RSYW5nZSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0TGFzdFJhbmdlKCl9Z2V0U2VsZWN0ZWRCbG9ja3MoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCl9Z2V0U2VsZWN0ZWRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKX1jb250YWluc0VudGlyZUNvbnRlbnQodCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5jb250YWluc0VudGlyZUNvbnRlbnQodCl9ZGVzdHJveSgpe3RoaXMuX3NlbGVjdGlvbi5kZXN0cm95KCl9Z2V0QXR0cmlidXRlS2V5cygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0QXR0cmlidXRlS2V5cygpfWdldEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldEF0dHJpYnV0ZXMoKX1nZXRBdHRyaWJ1dGUodCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRBdHRyaWJ1dGUodCl9aGFzQXR0cmlidXRlKHQpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaGFzQXR0cmlidXRlKHQpfXJlZnJlc2goKXt0aGlzLl9zZWxlY3Rpb24uX3VwZGF0ZU1hcmtlcnMoKTt0aGlzLl9zZWxlY3Rpb24uX3VwZGF0ZUF0dHJpYnV0ZXMoZmFsc2UpfWlzKHQpe3JldHVybiB0PT1cInNlbGVjdGlvblwifHx0PT1cIm1vZGVsOnNlbGVjdGlvblwifHx0PT1cImRvY3VtZW50U2VsZWN0aW9uXCJ8fHQ9PVwibW9kZWw6ZG9jdW1lbnRTZWxlY3Rpb25cIn1fc2V0Rm9jdXModCxlKXt0aGlzLl9zZWxlY3Rpb24uc2V0Rm9jdXModCxlKX1fc2V0VG8odCxlLGkpe3RoaXMuX3NlbGVjdGlvbi5zZXRUbyh0LGUsaSl9X3NldEF0dHJpYnV0ZSh0LGUpe3RoaXMuX3NlbGVjdGlvbi5zZXRBdHRyaWJ1dGUodCxlKX1fcmVtb3ZlQXR0cmlidXRlKHQpe3RoaXMuX3NlbGVjdGlvbi5yZW1vdmVBdHRyaWJ1dGUodCl9X2dldFN0b3JlZEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLl9nZXRTdG9yZWRBdHRyaWJ1dGVzKCl9X292ZXJyaWRlR3Jhdml0eSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24ub3ZlcnJpZGVHcmF2aXR5KCl9X3Jlc3RvcmVHcmF2aXR5KHQpe3RoaXMuX3NlbGVjdGlvbi5yZXN0b3JlR3Jhdml0eSh0KX1zdGF0aWMgX2dldFN0b3JlQXR0cmlidXRlS2V5KHQpe3JldHVybiBsZit0fXN0YXRpYyBfaXNTdG9yZUF0dHJpYnV0ZUtleSh0KXtyZXR1cm4gdC5zdGFydHNXaXRoKGxmKX19dnMoZGYsZHMpO2NsYXNzIHVmIGV4dGVuZHMgWGh7Y29uc3RydWN0b3IodCl7c3VwZXIoKTt0aGlzLm1hcmtlcnM9bmV3IHlzKHtpZFByb3BlcnR5OlwibmFtZVwifSk7dGhpcy5fbW9kZWw9dC5tb2RlbDt0aGlzLl9kb2N1bWVudD10O3RoaXMuX2F0dHJpYnV0ZVByaW9yaXR5PW5ldyBNYXA7dGhpcy5fZml4R3JhdmV5YXJkUmFuZ2VzRGF0YT1bXTt0aGlzLl9oYXNDaGFuZ2VkUmFuZ2U9ZmFsc2U7dGhpcy5fb3ZlcnJpZGRlbkdyYXZpdHlSZWdpc3Rlcj1uZXcgU2V0O3RoaXMubGlzdGVuVG8odGhpcy5fbW9kZWwsXCJhcHBseU9wZXJhdGlvblwiLCh0LGUpPT57Y29uc3QgaT1lWzBdO2lmKCFpLmlzRG9jdW1lbnRPcGVyYXRpb258fGkudHlwZT09XCJtYXJrZXJcInx8aS50eXBlPT1cInJlbmFtZVwifHxpLnR5cGU9PVwibm9vcFwiKXtyZXR1cm59d2hpbGUodGhpcy5fZml4R3JhdmV5YXJkUmFuZ2VzRGF0YS5sZW5ndGgpe2NvbnN0e2xpdmVSYW5nZTp0LHNvdXJjZVBvc2l0aW9uOmV9PXRoaXMuX2ZpeEdyYXZleWFyZFJhbmdlc0RhdGEuc2hpZnQoKTt0aGlzLl9maXhHcmF2ZXlhcmRTZWxlY3Rpb24odCxlKX1pZih0aGlzLl9oYXNDaGFuZ2VkUmFuZ2Upe3RoaXMuX2hhc0NoYW5nZWRSYW5nZT1mYWxzZTt0aGlzLmZpcmUoXCJjaGFuZ2U6cmFuZ2VcIix7ZGlyZWN0Q2hhbmdlOmZhbHNlfSl9fSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pO3RoaXMub24oXCJjaGFuZ2U6cmFuZ2VcIiwoKT0+e2Zvcihjb25zdCB0IG9mIHRoaXMuZ2V0UmFuZ2VzKCkpe2lmKCF0aGlzLl9kb2N1bWVudC5fdmFsaWRhdGVTZWxlY3Rpb25SYW5nZSh0KSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcImRvY3VtZW50LXNlbGVjdGlvbi13cm9uZy1wb3NpdGlvbjogUmFuZ2UgZnJvbSBkb2N1bWVudCBzZWxlY3Rpb24gc3RhcnRzIG9yIGVuZHMgYXQgaW5jb3JyZWN0IHBvc2l0aW9uLlwiLHRoaXMse3JhbmdlOnR9KX19fSk7dGhpcy5saXN0ZW5Ubyh0aGlzLl9tb2RlbC5tYXJrZXJzLFwidXBkYXRlXCIsKCk9PnRoaXMuX3VwZGF0ZU1hcmtlcnMoKSk7dGhpcy5saXN0ZW5Ubyh0aGlzLl9kb2N1bWVudCxcImNoYW5nZVwiLCh0LGUpPT57ZmYodGhpcy5fbW9kZWwsZSl9KX1nZXQgaXNDb2xsYXBzZWQoKXtjb25zdCB0PXRoaXMuX3Jhbmdlcy5sZW5ndGg7cmV0dXJuIHQ9PT0wP3RoaXMuX2RvY3VtZW50Ll9nZXREZWZhdWx0UmFuZ2UoKS5pc0NvbGxhcHNlZDpzdXBlci5pc0NvbGxhcHNlZH1nZXQgYW5jaG9yKCl7cmV0dXJuIHN1cGVyLmFuY2hvcnx8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpLnN0YXJ0fWdldCBmb2N1cygpe3JldHVybiBzdXBlci5mb2N1c3x8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpLmVuZH1nZXQgcmFuZ2VDb3VudCgpe3JldHVybiB0aGlzLl9yYW5nZXMubGVuZ3RoP3RoaXMuX3Jhbmdlcy5sZW5ndGg6MX1nZXQgaGFzT3duUmFuZ2UoKXtyZXR1cm4gdGhpcy5fcmFuZ2VzLmxlbmd0aD4wfWdldCBpc0dyYXZpdHlPdmVycmlkZGVuKCl7cmV0dXJuISF0aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyLnNpemV9ZGVzdHJveSgpe2ZvcihsZXQgdD0wO3Q8dGhpcy5fcmFuZ2VzLmxlbmd0aDt0Kyspe3RoaXMuX3Jhbmdlc1t0XS5kZXRhY2goKX10aGlzLnN0b3BMaXN0ZW5pbmcoKX0qZ2V0UmFuZ2VzKCl7aWYodGhpcy5fcmFuZ2VzLmxlbmd0aCl7eWllbGQqc3VwZXIuZ2V0UmFuZ2VzKCl9ZWxzZXt5aWVsZCB0aGlzLl9kb2N1bWVudC5fZ2V0RGVmYXVsdFJhbmdlKCl9fWdldEZpcnN0UmFuZ2UoKXtyZXR1cm4gc3VwZXIuZ2V0Rmlyc3RSYW5nZSgpfHx0aGlzLl9kb2N1bWVudC5fZ2V0RGVmYXVsdFJhbmdlKCl9Z2V0TGFzdFJhbmdlKCl7cmV0dXJuIHN1cGVyLmdldExhc3RSYW5nZSgpfHx0aGlzLl9kb2N1bWVudC5fZ2V0RGVmYXVsdFJhbmdlKCl9c2V0VG8odCxlLGkpe3N1cGVyLnNldFRvKHQsZSxpKTt0aGlzLl91cGRhdGVBdHRyaWJ1dGVzKHRydWUpO3RoaXMuX3VwZGF0ZU1hcmtlcnMoKX1zZXRGb2N1cyh0LGUpe3N1cGVyLnNldEZvY3VzKHQsZSk7dGhpcy5fdXBkYXRlQXR0cmlidXRlcyh0cnVlKTt0aGlzLl91cGRhdGVNYXJrZXJzKCl9c2V0QXR0cmlidXRlKHQsZSl7aWYodGhpcy5fc2V0QXR0cmlidXRlKHQsZSkpe2NvbnN0IGU9W3RdO3RoaXMuZmlyZShcImNoYW5nZTphdHRyaWJ1dGVcIix7YXR0cmlidXRlS2V5czplLGRpcmVjdENoYW5nZTp0cnVlfSl9fXJlbW92ZUF0dHJpYnV0ZSh0KXtpZih0aGlzLl9yZW1vdmVBdHRyaWJ1dGUodCkpe2NvbnN0IGU9W3RdO3RoaXMuZmlyZShcImNoYW5nZTphdHRyaWJ1dGVcIix7YXR0cmlidXRlS2V5czplLGRpcmVjdENoYW5nZTp0cnVlfSl9fW92ZXJyaWRlR3Jhdml0eSgpe2NvbnN0IHQ9aXMoKTt0aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyLmFkZCh0KTtpZih0aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyLnNpemU9PT0xKXt0aGlzLl91cGRhdGVBdHRyaWJ1dGVzKHRydWUpfXJldHVybiB0fXJlc3RvcmVHcmF2aXR5KHQpe2lmKCF0aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyLmhhcyh0KSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcImRvY3VtZW50LXNlbGVjdGlvbi1ncmF2aXR5LXdyb25nLXJlc3RvcmU6IEF0dGVtcHRpbmcgdG8gcmVzdG9yZSB0aGUgc2VsZWN0aW9uIGdyYXZpdHkgZm9yIGFuIHVua25vd24gVUlELlwiLHRoaXMse3VpZDp0fSl9dGhpcy5fb3ZlcnJpZGRlbkdyYXZpdHlSZWdpc3Rlci5kZWxldGUodCk7aWYoIXRoaXMuaXNHcmF2aXR5T3ZlcnJpZGRlbil7dGhpcy5fdXBkYXRlQXR0cmlidXRlcyh0cnVlKX19X3BvcFJhbmdlKCl7dGhpcy5fcmFuZ2VzLnBvcCgpLmRldGFjaCgpfV9wdXNoUmFuZ2UodCl7Y29uc3QgZT10aGlzLl9wcmVwYXJlUmFuZ2UodCk7aWYoZSl7dGhpcy5fcmFuZ2VzLnB1c2goZSl9fV9wcmVwYXJlUmFuZ2UodCl7dGhpcy5fY2hlY2tSYW5nZSh0KTtpZih0LnJvb3Q9PXRoaXMuX2RvY3VtZW50LmdyYXZleWFyZCl7cmV0dXJufWNvbnN0IGU9cmYuZnJvbVJhbmdlKHQpO2Uub24oXCJjaGFuZ2U6cmFuZ2VcIiwodCxpLG4pPT57dGhpcy5faGFzQ2hhbmdlZFJhbmdlPXRydWU7aWYoZS5yb290PT10aGlzLl9kb2N1bWVudC5ncmF2ZXlhcmQpe3RoaXMuX2ZpeEdyYXZleWFyZFJhbmdlc0RhdGEucHVzaCh7bGl2ZVJhbmdlOmUsc291cmNlUG9zaXRpb246bi5kZWxldGlvblBvc2l0aW9ufSl9fSk7cmV0dXJuIGV9X3VwZGF0ZU1hcmtlcnMoKXtjb25zdCB0PVtdO2xldCBlPWZhbHNlO2Zvcihjb25zdCBlIG9mIHRoaXMuX21vZGVsLm1hcmtlcnMpe2NvbnN0IGk9ZS5nZXRSYW5nZSgpO2Zvcihjb25zdCBuIG9mIHRoaXMuZ2V0UmFuZ2VzKCkpe2lmKGkuY29udGFpbnNSYW5nZShuLCFuLmlzQ29sbGFwc2VkKSl7dC5wdXNoKGUpfX19Y29uc3QgaT1BcnJheS5mcm9tKHRoaXMubWFya2Vycyk7Zm9yKGNvbnN0IGkgb2YgdCl7aWYoIXRoaXMubWFya2Vycy5oYXMoaSkpe3RoaXMubWFya2Vycy5hZGQoaSk7ZT10cnVlfX1mb3IoY29uc3QgaSBvZiBBcnJheS5mcm9tKHRoaXMubWFya2Vycykpe2lmKCF0LmluY2x1ZGVzKGkpKXt0aGlzLm1hcmtlcnMucmVtb3ZlKGkpO2U9dHJ1ZX19aWYoZSl7dGhpcy5maXJlKFwiY2hhbmdlOm1hcmtlclwiLHtvbGRNYXJrZXJzOmksZGlyZWN0Q2hhbmdlOmZhbHNlfSl9fV91cGRhdGVBdHRyaWJ1dGVzKHQpe2NvbnN0IGU9SHModGhpcy5fZ2V0U3Vycm91bmRpbmdBdHRyaWJ1dGVzKCkpO2NvbnN0IGk9SHModGhpcy5nZXRBdHRyaWJ1dGVzKCkpO2lmKHQpe3RoaXMuX2F0dHJpYnV0ZVByaW9yaXR5PW5ldyBNYXA7dGhpcy5fYXR0cnM9bmV3IE1hcH1lbHNle2Zvcihjb25zdFt0LGVdb2YgdGhpcy5fYXR0cmlidXRlUHJpb3JpdHkpe2lmKGU9PVwibG93XCIpe3RoaXMuX2F0dHJzLmRlbGV0ZSh0KTt0aGlzLl9hdHRyaWJ1dGVQcmlvcml0eS5kZWxldGUodCl9fX10aGlzLl9zZXRBdHRyaWJ1dGVzVG8oZSk7Y29uc3Qgbj1bXTtmb3IoY29uc3RbdCxlXW9mIHRoaXMuZ2V0QXR0cmlidXRlcygpKXtpZighaS5oYXModCl8fGkuZ2V0KHQpIT09ZSl7bi5wdXNoKHQpfX1mb3IoY29uc3RbdF1vZiBpKXtpZighdGhpcy5oYXNBdHRyaWJ1dGUodCkpe24ucHVzaCh0KX19aWYobi5sZW5ndGg+MCl7dGhpcy5maXJlKFwiY2hhbmdlOmF0dHJpYnV0ZVwiLHthdHRyaWJ1dGVLZXlzOm4sZGlyZWN0Q2hhbmdlOmZhbHNlfSl9fV9zZXRBdHRyaWJ1dGUodCxlLGk9dHJ1ZSl7Y29uc3Qgbj1pP1wibm9ybWFsXCI6XCJsb3dcIjtpZihuPT1cImxvd1wiJiZ0aGlzLl9hdHRyaWJ1dGVQcmlvcml0eS5nZXQodCk9PVwibm9ybWFsXCIpe3JldHVybiBmYWxzZX1jb25zdCBvPXN1cGVyLmdldEF0dHJpYnV0ZSh0KTtpZihvPT09ZSl7cmV0dXJuIGZhbHNlfXRoaXMuX2F0dHJzLnNldCh0LGUpO3RoaXMuX2F0dHJpYnV0ZVByaW9yaXR5LnNldCh0LG4pO3JldHVybiB0cnVlfV9yZW1vdmVBdHRyaWJ1dGUodCxlPXRydWUpe2NvbnN0IGk9ZT9cIm5vcm1hbFwiOlwibG93XCI7aWYoaT09XCJsb3dcIiYmdGhpcy5fYXR0cmlidXRlUHJpb3JpdHkuZ2V0KHQpPT1cIm5vcm1hbFwiKXtyZXR1cm4gZmFsc2V9dGhpcy5fYXR0cmlidXRlUHJpb3JpdHkuc2V0KHQsaSk7aWYoIXN1cGVyLmhhc0F0dHJpYnV0ZSh0KSl7cmV0dXJuIGZhbHNlfXRoaXMuX2F0dHJzLmRlbGV0ZSh0KTtyZXR1cm4gdHJ1ZX1fc2V0QXR0cmlidXRlc1RvKHQpe2NvbnN0IGU9bmV3IFNldDtmb3IoY29uc3RbZSxpXW9mIHRoaXMuZ2V0QXR0cmlidXRlcygpKXtpZih0LmdldChlKT09PWkpe2NvbnRpbnVlfXRoaXMuX3JlbW92ZUF0dHJpYnV0ZShlLGZhbHNlKX1mb3IoY29uc3RbaSxuXW9mIHQpe2NvbnN0IHQ9dGhpcy5fc2V0QXR0cmlidXRlKGksbixmYWxzZSk7aWYodCl7ZS5hZGQoaSl9fXJldHVybiBlfSpfZ2V0U3RvcmVkQXR0cmlidXRlcygpe2NvbnN0IHQ9dGhpcy5nZXRGaXJzdFBvc2l0aW9uKCkucGFyZW50O2lmKHRoaXMuaXNDb2xsYXBzZWQmJnQuaXNFbXB0eSl7Zm9yKGNvbnN0IGUgb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpe2lmKGUuc3RhcnRzV2l0aChsZikpe2NvbnN0IGk9ZS5zdWJzdHIobGYubGVuZ3RoKTt5aWVsZFtpLHQuZ2V0QXR0cmlidXRlKGUpXX19fX1fZ2V0U3Vycm91bmRpbmdBdHRyaWJ1dGVzKCl7Y29uc3QgdD10aGlzLmdldEZpcnN0UG9zaXRpb24oKTtjb25zdCBlPXRoaXMuX21vZGVsLnNjaGVtYTtsZXQgaT1udWxsO2lmKCF0aGlzLmlzQ29sbGFwc2VkKXtjb25zdCB0PXRoaXMuZ2V0Rmlyc3RSYW5nZSgpO2Zvcihjb25zdCBuIG9mIHQpe2lmKG4uaXRlbS5pcyhcImVsZW1lbnRcIikmJmUuaXNPYmplY3Qobi5pdGVtKSl7YnJlYWt9aWYobi50eXBlPT1cInRleHRcIil7aT1uLml0ZW0uZ2V0QXR0cmlidXRlcygpO2JyZWFrfX19ZWxzZXtjb25zdCBlPXQudGV4dE5vZGU/dC50ZXh0Tm9kZTp0Lm5vZGVCZWZvcmU7Y29uc3Qgbj10LnRleHROb2RlP3QudGV4dE5vZGU6dC5ub2RlQWZ0ZXI7aWYoIXRoaXMuaXNHcmF2aXR5T3ZlcnJpZGRlbil7aT1oZihlKX1pZighaSl7aT1oZihuKX1pZighdGhpcy5pc0dyYXZpdHlPdmVycmlkZGVuJiYhaSl7bGV0IHQ9ZTt3aGlsZSh0JiYhaSl7dD10LnByZXZpb3VzU2libGluZztpPWhmKHQpfX1pZighaSl7bGV0IHQ9bjt3aGlsZSh0JiYhaSl7dD10Lm5leHRTaWJsaW5nO2k9aGYodCl9fWlmKCFpKXtpPXRoaXMuX2dldFN0b3JlZEF0dHJpYnV0ZXMoKX19cmV0dXJuIGl9X2ZpeEdyYXZleWFyZFNlbGVjdGlvbih0LGUpe2NvbnN0IGk9ZS5jbG9uZSgpO2NvbnN0IG49dGhpcy5fbW9kZWwuc2NoZW1hLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZShpKTtjb25zdCBvPXRoaXMuX3Jhbmdlcy5pbmRleE9mKHQpO3RoaXMuX3Jhbmdlcy5zcGxpY2UobywxKTt0LmRldGFjaCgpO2lmKG4pe2NvbnN0IHQ9dGhpcy5fcHJlcGFyZVJhbmdlKG4pO3RoaXMuX3Jhbmdlcy5zcGxpY2UobywwLHQpfX19ZnVuY3Rpb24gaGYodCl7aWYodCBpbnN0YW5jZW9mIEZofHx0IGluc3RhbmNlb2YgTGgpe3JldHVybiB0LmdldEF0dHJpYnV0ZXMoKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBmZih0LGUpe2NvbnN0IGk9dC5kb2N1bWVudC5kaWZmZXI7Zm9yKGNvbnN0IG4gb2YgaS5nZXRDaGFuZ2VzKCkpe2lmKG4udHlwZSE9XCJpbnNlcnRcIil7Y29udGludWV9Y29uc3QgaT1uLnBvc2l0aW9uLnBhcmVudDtjb25zdCBvPW4ubGVuZ3RoPT09aS5tYXhPZmZzZXQ7aWYobyl7dC5lbnF1ZXVlQ2hhbmdlKGUsdD0+e2NvbnN0IGU9QXJyYXkuZnJvbShpLmdldEF0dHJpYnV0ZUtleXMoKSkuZmlsdGVyKHQ9PnQuc3RhcnRzV2l0aChsZikpO2Zvcihjb25zdCBuIG9mIGUpe3QucmVtb3ZlQXR0cmlidXRlKG4saSl9fSl9fX1jbGFzcyBnZntjb25zdHJ1Y3Rvcih0KXt0aGlzLl9kaXNwYXRjaGVycz10fWFkZCh0KXtmb3IoY29uc3QgZSBvZiB0aGlzLl9kaXNwYXRjaGVycyl7dChlKX1yZXR1cm4gdGhpc319dmFyIG1mPTEscGY9NDtmdW5jdGlvbiBiZih0KXtyZXR1cm4gSHIodCxtZnxwZil9dmFyIHdmPWJmO2NsYXNzIGtmIGV4dGVuZHMgZ2Z7ZWxlbWVudFRvRWxlbWVudCh0KXtyZXR1cm4gdGhpcy5hZGQoTmYodCkpfWF0dHJpYnV0ZVRvRWxlbWVudCh0KXtyZXR1cm4gdGhpcy5hZGQoTWYodCkpfWF0dHJpYnV0ZVRvQXR0cmlidXRlKHQpe3JldHVybiB0aGlzLmFkZChCZih0KSl9bWFya2VyVG9FbGVtZW50KHQpe3JldHVybiB0aGlzLmFkZCh6Zih0KSl9bWFya2VyVG9IaWdobGlnaHQodCl7cmV0dXJuIHRoaXMuYWRkKExmKHQpKX19ZnVuY3Rpb24gX2YoKXtyZXR1cm4odCxlLGkpPT57aWYoIWkuY29uc3VtYWJsZS5jb25zdW1lKGUuaXRlbSxcImluc2VydFwiKSl7cmV0dXJufWNvbnN0IG49aS53cml0ZXI7Y29uc3Qgbz1pLm1hcHBlci50b1ZpZXdQb3NpdGlvbihlLnJhbmdlLnN0YXJ0KTtjb25zdCByPW4uY3JlYXRlVGV4dChlLml0ZW0uZGF0YSk7bi5pbnNlcnQobyxyKX19ZnVuY3Rpb24gdmYoKXtyZXR1cm4odCxlLGkpPT57Y29uc3Qgbj1pLm1hcHBlci50b1ZpZXdQb3NpdGlvbihlLnBvc2l0aW9uKTtjb25zdCBvPWUucG9zaXRpb24uZ2V0U2hpZnRlZEJ5KGUubGVuZ3RoKTtjb25zdCByPWkubWFwcGVyLnRvVmlld1Bvc2l0aW9uKG8se2lzUGhhbnRvbTp0cnVlfSk7Y29uc3Qgcz1pLndyaXRlci5jcmVhdGVSYW5nZShuLHIpO2NvbnN0IGE9aS53cml0ZXIucmVtb3ZlKHMuZ2V0VHJpbW1lZCgpKTtmb3IoY29uc3QgdCBvZiBpLndyaXRlci5jcmVhdGVSYW5nZUluKGEpLmdldEl0ZW1zKCkpe2kubWFwcGVyLnVuYmluZFZpZXdFbGVtZW50KHQpfX19ZnVuY3Rpb24geWYodCxlKXtjb25zdCBpPXQuY3JlYXRlQXR0cmlidXRlRWxlbWVudChcInNwYW5cIixlLmF0dHJpYnV0ZXMpO2lmKGUuY2xhc3Nlcyl7aS5fYWRkQ2xhc3MoZS5jbGFzc2VzKX1pZihlLnByaW9yaXR5KXtpLl9wcmlvcml0eT1lLnByaW9yaXR5fWkuX2lkPWUuaWQ7cmV0dXJuIGl9ZnVuY3Rpb24geGYoKXtyZXR1cm4odCxlLGkpPT57Y29uc3Qgbj1lLnNlbGVjdGlvbjtpZihuLmlzQ29sbGFwc2VkKXtyZXR1cm59aWYoIWkuY29uc3VtYWJsZS5jb25zdW1lKG4sXCJzZWxlY3Rpb25cIikpe3JldHVybn1jb25zdCBvPVtdO2Zvcihjb25zdCB0IG9mIG4uZ2V0UmFuZ2VzKCkpe2NvbnN0IGU9aS5tYXBwZXIudG9WaWV3UmFuZ2UodCk7by5wdXNoKGUpfWkud3JpdGVyLnNldFNlbGVjdGlvbihvLHtiYWNrd2FyZDpuLmlzQmFja3dhcmR9KX19ZnVuY3Rpb24gQ2YoKXtyZXR1cm4odCxlLGkpPT57Y29uc3Qgbj1lLnNlbGVjdGlvbjtpZighbi5pc0NvbGxhcHNlZCl7cmV0dXJufWlmKCFpLmNvbnN1bWFibGUuY29uc3VtZShuLFwic2VsZWN0aW9uXCIpKXtyZXR1cm59Y29uc3Qgbz1pLndyaXRlcjtjb25zdCByPW4uZ2V0Rmlyc3RQb3NpdGlvbigpO2NvbnN0IHM9aS5tYXBwZXIudG9WaWV3UG9zaXRpb24ocik7Y29uc3QgYT1vLmJyZWFrQXR0cmlidXRlcyhzKTtvLnNldFNlbGVjdGlvbihhKX19ZnVuY3Rpb24gQWYoKXtyZXR1cm4odCxlLGkpPT57Y29uc3Qgbj1pLndyaXRlcjtjb25zdCBvPW4uZG9jdW1lbnQuc2VsZWN0aW9uO2Zvcihjb25zdCB0IG9mIG8uZ2V0UmFuZ2VzKCkpe2lmKHQuaXNDb2xsYXBzZWQpe2lmKHQuZW5kLnBhcmVudC5pc0F0dGFjaGVkKCkpe2kud3JpdGVyLm1lcmdlQXR0cmlidXRlcyh0LnN0YXJ0KX19fW4uc2V0U2VsZWN0aW9uKG51bGwpfX1mdW5jdGlvbiBUZih0KXtyZXR1cm4oZSxpLG4pPT57Y29uc3Qgbz10KGkuYXR0cmlidXRlT2xkVmFsdWUsbi53cml0ZXIpO2NvbnN0IHI9dChpLmF0dHJpYnV0ZU5ld1ZhbHVlLG4ud3JpdGVyKTtpZighbyYmIXIpe3JldHVybn1pZighbi5jb25zdW1hYmxlLmNvbnN1bWUoaS5pdGVtLGUubmFtZSkpe3JldHVybn1jb25zdCBzPW4ud3JpdGVyO2NvbnN0IGE9cy5kb2N1bWVudC5zZWxlY3Rpb247aWYoaS5pdGVtIGluc3RhbmNlb2YgWGh8fGkuaXRlbSBpbnN0YW5jZW9mIGRmKXtzLndyYXAoYS5nZXRGaXJzdFJhbmdlKCkscil9ZWxzZXtsZXQgdD1uLm1hcHBlci50b1ZpZXdSYW5nZShpLnJhbmdlKTtpZihpLmF0dHJpYnV0ZU9sZFZhbHVlIT09bnVsbCYmbyl7dD1zLnVud3JhcCh0LG8pfWlmKGkuYXR0cmlidXRlTmV3VmFsdWUhPT1udWxsJiZyKXtzLndyYXAodCxyKX19fX1mdW5jdGlvbiBQZih0KXtyZXR1cm4oZSxpLG4pPT57Y29uc3Qgbz10KGkuaXRlbSxuLndyaXRlcik7aWYoIW8pe3JldHVybn1pZighbi5jb25zdW1hYmxlLmNvbnN1bWUoaS5pdGVtLFwiaW5zZXJ0XCIpKXtyZXR1cm59Y29uc3Qgcj1uLm1hcHBlci50b1ZpZXdQb3NpdGlvbihpLnJhbmdlLnN0YXJ0KTtuLm1hcHBlci5iaW5kRWxlbWVudHMoaS5pdGVtLG8pO24ud3JpdGVyLmluc2VydChyLG8pfX1mdW5jdGlvbiBTZih0KXtyZXR1cm4oZSxpLG4pPT57aS5pc09wZW5pbmc9dHJ1ZTtjb25zdCBvPXQoaSxuLndyaXRlcik7aS5pc09wZW5pbmc9ZmFsc2U7Y29uc3Qgcj10KGksbi53cml0ZXIpO2lmKCFvfHwhcil7cmV0dXJufWNvbnN0IHM9aS5tYXJrZXJSYW5nZTtpZihzLmlzQ29sbGFwc2VkJiYhbi5jb25zdW1hYmxlLmNvbnN1bWUocyxlLm5hbWUpKXtyZXR1cm59Zm9yKGNvbnN0IHQgb2Ygcyl7aWYoIW4uY29uc3VtYWJsZS5jb25zdW1lKHQuaXRlbSxlLm5hbWUpKXtyZXR1cm59fWNvbnN0IGE9bi5tYXBwZXI7Y29uc3QgYz1uLndyaXRlcjtjLmluc2VydChhLnRvVmlld1Bvc2l0aW9uKHMuc3RhcnQpLG8pO24ubWFwcGVyLmJpbmRFbGVtZW50VG9NYXJrZXIobyxpLm1hcmtlck5hbWUpO2lmKCFzLmlzQ29sbGFwc2VkKXtjLmluc2VydChhLnRvVmlld1Bvc2l0aW9uKHMuZW5kKSxyKTtuLm1hcHBlci5iaW5kRWxlbWVudFRvTWFya2VyKHIsaS5tYXJrZXJOYW1lKX1lLnN0b3AoKX19ZnVuY3Rpb24gRWYoKXtyZXR1cm4odCxlLGkpPT57Y29uc3Qgbj1pLm1hcHBlci5tYXJrZXJOYW1lVG9FbGVtZW50cyhlLm1hcmtlck5hbWUpO2lmKCFuKXtyZXR1cm59Zm9yKGNvbnN0IHQgb2Ygbil7aS5tYXBwZXIudW5iaW5kRWxlbWVudEZyb21NYXJrZXJOYW1lKHQsZS5tYXJrZXJOYW1lKTtpLndyaXRlci5jbGVhcihpLndyaXRlci5jcmVhdGVSYW5nZU9uKHQpLHQpfWkud3JpdGVyLmNsZWFyQ2xvbmVkRWxlbWVudHNHcm91cChlLm1hcmtlck5hbWUpO3Quc3RvcCgpfX1mdW5jdGlvbiBSZih0KXtyZXR1cm4oZSxpLG4pPT57Y29uc3Qgbz10KGkuYXR0cmlidXRlT2xkVmFsdWUsaSk7Y29uc3Qgcj10KGkuYXR0cmlidXRlTmV3VmFsdWUsaSk7aWYoIW8mJiFyKXtyZXR1cm59aWYoIW4uY29uc3VtYWJsZS5jb25zdW1lKGkuaXRlbSxlLm5hbWUpKXtyZXR1cm59Y29uc3Qgcz1uLm1hcHBlci50b1ZpZXdFbGVtZW50KGkuaXRlbSk7Y29uc3QgYT1uLndyaXRlcjtpZighcyl7dGhyb3cgbmV3IHNzW1wiYlwiXShcImNvbnZlcnNpb24tYXR0cmlidXRlLXRvLWF0dHJpYnV0ZS1vbi10ZXh0OiBcIitcIlRyeWluZyB0byBjb252ZXJ0IHRleHQgbm9kZSdzIGF0dHJpYnV0ZSB3aXRoIGF0dHJpYnV0ZS10by1hdHRyaWJ1dGUgY29udmVydGVyLlwiLFtpLG5dKX1pZihpLmF0dHJpYnV0ZU9sZFZhbHVlIT09bnVsbCYmbyl7aWYoby5rZXk9PVwiY2xhc3NcIil7Y29uc3QgdD1BcnJheS5pc0FycmF5KG8udmFsdWUpP28udmFsdWU6W28udmFsdWVdO2Zvcihjb25zdCBlIG9mIHQpe2EucmVtb3ZlQ2xhc3MoZSxzKX19ZWxzZSBpZihvLmtleT09XCJzdHlsZVwiKXtjb25zdCB0PU9iamVjdC5rZXlzKG8udmFsdWUpO2Zvcihjb25zdCBlIG9mIHQpe2EucmVtb3ZlU3R5bGUoZSxzKX19ZWxzZXthLnJlbW92ZUF0dHJpYnV0ZShvLmtleSxzKX19aWYoaS5hdHRyaWJ1dGVOZXdWYWx1ZSE9PW51bGwmJnIpe2lmKHIua2V5PT1cImNsYXNzXCIpe2NvbnN0IHQ9QXJyYXkuaXNBcnJheShyLnZhbHVlKT9yLnZhbHVlOltyLnZhbHVlXTtmb3IoY29uc3QgZSBvZiB0KXthLmFkZENsYXNzKGUscyl9fWVsc2UgaWYoci5rZXk9PVwic3R5bGVcIil7Y29uc3QgdD1PYmplY3Qua2V5cyhyLnZhbHVlKTtmb3IoY29uc3QgZSBvZiB0KXthLnNldFN0eWxlKGUsci52YWx1ZVtlXSxzKX19ZWxzZXthLnNldEF0dHJpYnV0ZShyLmtleSxyLnZhbHVlLHMpfX19fWZ1bmN0aW9uIE9mKHQpe3JldHVybihlLGksbik9PntpZighaS5pdGVtKXtyZXR1cm59aWYoIShpLml0ZW0gaW5zdGFuY2VvZiBYaHx8aS5pdGVtIGluc3RhbmNlb2YgZGYpJiYhaS5pdGVtLmlzKFwidGV4dFByb3h5XCIpKXtyZXR1cm59Y29uc3Qgbz1XZih0LGksbik7aWYoIW8pe3JldHVybn1pZighbi5jb25zdW1hYmxlLmNvbnN1bWUoaS5pdGVtLGUubmFtZSkpe3JldHVybn1jb25zdCByPW4ud3JpdGVyO2NvbnN0IHM9eWYocixvKTtjb25zdCBhPXIuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKGkuaXRlbSBpbnN0YW5jZW9mIFhofHxpLml0ZW0gaW5zdGFuY2VvZiBkZil7ci53cmFwKGEuZ2V0Rmlyc3RSYW5nZSgpLHMsYSl9ZWxzZXtjb25zdCB0PW4ubWFwcGVyLnRvVmlld1JhbmdlKGkucmFuZ2UpO2NvbnN0IGU9ci53cmFwKHQscyk7Zm9yKGNvbnN0IHQgb2YgZS5nZXRJdGVtcygpKXtpZih0LmlzKFwiYXR0cmlidXRlRWxlbWVudFwiKSYmdC5pc1NpbWlsYXIocykpe24ubWFwcGVyLmJpbmRFbGVtZW50VG9NYXJrZXIodCxpLm1hcmtlck5hbWUpO2JyZWFrfX19fX1mdW5jdGlvbiBJZih0KXtyZXR1cm4oZSxpLG4pPT57aWYoIWkuaXRlbSl7cmV0dXJufWlmKCEoaS5pdGVtIGluc3RhbmNlb2YgamgpKXtyZXR1cm59Y29uc3Qgbz1XZih0LGksbik7aWYoIW8pe3JldHVybn1pZighbi5jb25zdW1hYmxlLnRlc3QoaS5pdGVtLGUubmFtZSkpe3JldHVybn1jb25zdCByPW4ubWFwcGVyLnRvVmlld0VsZW1lbnQoaS5pdGVtKTtpZihyJiZyLmdldEN1c3RvbVByb3BlcnR5KFwiYWRkSGlnaGxpZ2h0XCIpKXtuLmNvbnN1bWFibGUuY29uc3VtZShpLml0ZW0sZS5uYW1lKTtmb3IoY29uc3QgdCBvZiAkaC5fY3JlYXRlSW4oaS5pdGVtKSl7bi5jb25zdW1hYmxlLmNvbnN1bWUodC5pdGVtLGUubmFtZSl9ci5nZXRDdXN0b21Qcm9wZXJ0eShcImFkZEhpZ2hsaWdodFwiKShyLG8sbi53cml0ZXIpO24ubWFwcGVyLmJpbmRFbGVtZW50VG9NYXJrZXIocixpLm1hcmtlck5hbWUpfX19ZnVuY3Rpb24gVmYodCl7cmV0dXJuKGUsaSxuKT0+e2lmKGkubWFya2VyUmFuZ2UuaXNDb2xsYXBzZWQpe3JldHVybn1jb25zdCBvPVdmKHQsaSxuKTtpZighbyl7cmV0dXJufWNvbnN0IHI9eWYobi53cml0ZXIsbyk7Y29uc3Qgcz1uLm1hcHBlci5tYXJrZXJOYW1lVG9FbGVtZW50cyhpLm1hcmtlck5hbWUpO2lmKCFzKXtyZXR1cm59Zm9yKGNvbnN0IHQgb2Ygcyl7bi5tYXBwZXIudW5iaW5kRWxlbWVudEZyb21NYXJrZXJOYW1lKHQsaS5tYXJrZXJOYW1lKTtpZih0LmlzKFwiYXR0cmlidXRlRWxlbWVudFwiKSl7bi53cml0ZXIudW53cmFwKG4ud3JpdGVyLmNyZWF0ZVJhbmdlT24odCkscil9ZWxzZXt0LmdldEN1c3RvbVByb3BlcnR5KFwicmVtb3ZlSGlnaGxpZ2h0XCIpKHQsby5pZCxuLndyaXRlcil9fW4ud3JpdGVyLmNsZWFyQ2xvbmVkRWxlbWVudHNHcm91cChpLm1hcmtlck5hbWUpO2Uuc3RvcCgpfX1mdW5jdGlvbiBOZih0KXt0PXdmKHQpO3Qudmlldz1GZih0LnZpZXcsXCJjb250YWluZXJcIik7cmV0dXJuIGU9PntlLm9uKFwiaW5zZXJ0OlwiK3QubW9kZWwsUGYodC52aWV3KSx7cHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eXx8XCJub3JtYWxcIn0pfX1mdW5jdGlvbiBNZih0KXt0PXdmKHQpO2NvbnN0IGU9dC5tb2RlbC5rZXk/dC5tb2RlbC5rZXk6dC5tb2RlbDtsZXQgaT1cImF0dHJpYnV0ZTpcIitlO2lmKHQubW9kZWwubmFtZSl7aSs9XCI6XCIrdC5tb2RlbC5uYW1lfWlmKHQubW9kZWwudmFsdWVzKXtmb3IoY29uc3QgZSBvZiB0Lm1vZGVsLnZhbHVlcyl7dC52aWV3W2VdPUZmKHQudmlld1tlXSxcImF0dHJpYnV0ZVwiKX19ZWxzZXt0LnZpZXc9RmYodC52aWV3LFwiYXR0cmlidXRlXCIpfWNvbnN0IG49amYodCk7cmV0dXJuIGU9PntlLm9uKGksVGYobikse3ByaW9yaXR5OnQuY29udmVydGVyUHJpb3JpdHl8fFwibm9ybWFsXCJ9KX19ZnVuY3Rpb24gQmYodCl7dD13Zih0KTtjb25zdCBlPXQubW9kZWwua2V5P3QubW9kZWwua2V5OnQubW9kZWw7bGV0IGk9XCJhdHRyaWJ1dGU6XCIrZTtpZih0Lm1vZGVsLm5hbWUpe2krPVwiOlwiK3QubW9kZWwubmFtZX1pZih0Lm1vZGVsLnZhbHVlcyl7Zm9yKGNvbnN0IGUgb2YgdC5tb2RlbC52YWx1ZXMpe3Qudmlld1tlXT1IZih0LnZpZXdbZV0pfX1lbHNle3Qudmlldz1IZih0LnZpZXcpfWNvbnN0IG49amYodCk7cmV0dXJuIGU9PntlLm9uKGksUmYobikse3ByaW9yaXR5OnQuY29udmVydGVyUHJpb3JpdHl8fFwibm9ybWFsXCJ9KX19ZnVuY3Rpb24gemYodCl7dD13Zih0KTt0LnZpZXc9RmYodC52aWV3LFwidWlcIik7cmV0dXJuIGU9PntlLm9uKFwiYWRkTWFya2VyOlwiK3QubW9kZWwsU2YodC52aWV3KSx7cHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eXx8XCJub3JtYWxcIn0pO2Uub24oXCJyZW1vdmVNYXJrZXI6XCIrdC5tb2RlbCxFZih0LnZpZXcpLHtwcmlvcml0eTp0LmNvbnZlcnRlclByaW9yaXR5fHxcIm5vcm1hbFwifSl9fWZ1bmN0aW9uIExmKHQpe3JldHVybiBlPT57ZS5vbihcImFkZE1hcmtlcjpcIit0Lm1vZGVsLE9mKHQudmlldykse3ByaW9yaXR5OnQuY29udmVydGVyUHJpb3JpdHl8fFwibm9ybWFsXCJ9KTtlLm9uKFwiYWRkTWFya2VyOlwiK3QubW9kZWwsSWYodC52aWV3KSx7cHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eXx8XCJub3JtYWxcIn0pO2Uub24oXCJyZW1vdmVNYXJrZXI6XCIrdC5tb2RlbCxWZih0LnZpZXcpLHtwcmlvcml0eTp0LmNvbnZlcnRlclByaW9yaXR5fHxcIm5vcm1hbFwifSl9fWZ1bmN0aW9uIEZmKHQsZSl7aWYodHlwZW9mIHQ9PVwiZnVuY3Rpb25cIil7cmV0dXJuIHR9cmV0dXJuKGksbik9PkRmKHQsbixlKX1mdW5jdGlvbiBEZih0LGUsaSl7aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpe3Q9e25hbWU6dH19bGV0IG47Y29uc3Qgbz1PYmplY3QuYXNzaWduKHt9LHQuYXR0cmlidXRlcyk7aWYoaT09XCJjb250YWluZXJcIil7bj1lLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQodC5uYW1lLG8pfWVsc2UgaWYoaT09XCJhdHRyaWJ1dGVcIil7Y29uc3QgaT17cHJpb3JpdHk6dC5wcmlvcml0eXx8d2wuREVGQVVMVF9QUklPUklUWX07bj1lLmNyZWF0ZUF0dHJpYnV0ZUVsZW1lbnQodC5uYW1lLG8saSl9ZWxzZXtuPWUuY3JlYXRlVUlFbGVtZW50KHQubmFtZSxvKX1pZih0LnN0eWxlcyl7Y29uc3QgaT1PYmplY3Qua2V5cyh0LnN0eWxlcyk7Zm9yKGNvbnN0IG8gb2YgaSl7ZS5zZXRTdHlsZShvLHQuc3R5bGVzW29dLG4pfX1pZih0LmNsYXNzZXMpe2NvbnN0IGk9dC5jbGFzc2VzO2lmKHR5cGVvZiBpPT1cInN0cmluZ1wiKXtlLmFkZENsYXNzKGksbil9ZWxzZXtmb3IoY29uc3QgdCBvZiBpKXtlLmFkZENsYXNzKHQsbil9fX1yZXR1cm4gbn1mdW5jdGlvbiBqZih0KXtpZih0Lm1vZGVsLnZhbHVlcyl7cmV0dXJuKGUsaSk9Pntjb25zdCBuPXQudmlld1tlXTtpZihuKXtyZXR1cm4gbihlLGkpfXJldHVybiBudWxsfX1lbHNle3JldHVybiB0LnZpZXd9fWZ1bmN0aW9uIEhmKHQpe2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXtyZXR1cm4gZT0+KHtrZXk6dCx2YWx1ZTplfSl9ZWxzZSBpZih0eXBlb2YgdD09XCJvYmplY3RcIil7aWYodC52YWx1ZSl7cmV0dXJuKCk9PnR9ZWxzZXtyZXR1cm4gZT0+KHtrZXk6dC5rZXksdmFsdWU6ZX0pfX1lbHNle3JldHVybiB0fX1mdW5jdGlvbiBXZih0LGUsaSl7Y29uc3Qgbj10eXBlb2YgdD09XCJmdW5jdGlvblwiP3QoZSxpKTp0O2lmKCFuKXtyZXR1cm4gbnVsbH1pZighbi5wcmlvcml0eSl7bi5wcmlvcml0eT0xMH1pZighbi5pZCl7bi5pZD1lLm1hcmtlck5hbWV9cmV0dXJuIG59Y2xhc3MgcWYgZXh0ZW5kcyBnZntlbGVtZW50VG9FbGVtZW50KHQpe3JldHVybiB0aGlzLmFkZChLZih0KSl9ZWxlbWVudFRvQXR0cmlidXRlKHQpe3JldHVybiB0aGlzLmFkZChKZih0KSl9YXR0cmlidXRlVG9BdHRyaWJ1dGUodCl7cmV0dXJuIHRoaXMuYWRkKFlmKHQpKX1lbGVtZW50VG9NYXJrZXIodCl7cmV0dXJuIHRoaXMuYWRkKFFmKHQpKX19ZnVuY3Rpb24gVWYoKXtyZXR1cm4odCxlLGkpPT57aWYoIWUubW9kZWxSYW5nZSYmaS5jb25zdW1hYmxlLmNvbnN1bWUoZS52aWV3SXRlbSx7bmFtZTp0cnVlfSkpe2NvbnN0e21vZGVsUmFuZ2U6dCxtb2RlbEN1cnNvcjpufT1pLmNvbnZlcnRDaGlsZHJlbihlLnZpZXdJdGVtLGUubW9kZWxDdXJzb3IpO2UubW9kZWxSYW5nZT10O2UubW9kZWxDdXJzb3I9bn19fWZ1bmN0aW9uICRmKCl7cmV0dXJuKHQsZSxpKT0+e2lmKGkuc2NoZW1hLmNoZWNrQ2hpbGQoZS5tb2RlbEN1cnNvcixcIiR0ZXh0XCIpKXtpZihpLmNvbnN1bWFibGUuY29uc3VtZShlLnZpZXdJdGVtKSl7Y29uc3QgdD1pLndyaXRlci5jcmVhdGVUZXh0KGUudmlld0l0ZW0uZGF0YSk7aS53cml0ZXIuaW5zZXJ0KHQsZS5tb2RlbEN1cnNvcik7ZS5tb2RlbFJhbmdlPSRoLl9jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLm1vZGVsQ3Vyc29yLHQub2Zmc2V0U2l6ZSk7ZS5tb2RlbEN1cnNvcj1lLm1vZGVsUmFuZ2UuZW5kfX19fWZ1bmN0aW9uIEdmKHQsZSl7cmV0dXJuKGksbik9Pntjb25zdCBvPW4ubmV3U2VsZWN0aW9uO2NvbnN0IHI9bmV3IFhoO2NvbnN0IHM9W107Zm9yKGNvbnN0IHQgb2Ygby5nZXRSYW5nZXMoKSl7cy5wdXNoKGUudG9Nb2RlbFJhbmdlKHQpKX1yLnNldFRvKHMse2JhY2t3YXJkOm8uaXNCYWNrd2FyZH0pO2lmKCFyLmlzRXF1YWwodC5kb2N1bWVudC5zZWxlY3Rpb24pKXt0LmNoYW5nZSh0PT57dC5zZXRTZWxlY3Rpb24ocil9KX19fWZ1bmN0aW9uIEtmKHQpe3Q9d2YodCk7Y29uc3QgZT1aZih0KTtjb25zdCBpPVhmKHQudmlldyk7Y29uc3Qgbj1pP1wiZWxlbWVudDpcIitpOlwiZWxlbWVudFwiO3JldHVybiBpPT57aS5vbihuLGUse3ByaW9yaXR5OnQuY29udmVydGVyUHJpb3JpdHl8fFwibm9ybWFsXCJ9KX19ZnVuY3Rpb24gSmYodCl7dD13Zih0KTtpZyh0KTtjb25zdCBlPW5nKHQsZmFsc2UpO2NvbnN0IGk9WGYodC52aWV3KTtjb25zdCBuPWk/XCJlbGVtZW50OlwiK2k6XCJlbGVtZW50XCI7cmV0dXJuIGk9PntpLm9uKG4sZSx7cHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eXx8XCJsb3dcIn0pfX1mdW5jdGlvbiBZZih0KXt0PXdmKHQpO2xldCBlPW51bGw7aWYodHlwZW9mIHQudmlldz09XCJzdHJpbmdcInx8dC52aWV3LmtleSl7ZT1lZyh0KX1pZyh0LGUpO2NvbnN0IGk9bmcodCx0cnVlKTtyZXR1cm4gZT0+e2Uub24oXCJlbGVtZW50XCIsaSx7cHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eXx8XCJsb3dcIn0pfX1mdW5jdGlvbiBRZih0KXt0PXdmKHQpO3NnKHQpO3JldHVybiBLZih0KX1mdW5jdGlvbiBYZih0KXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIil7cmV0dXJuIHR9aWYodHlwZW9mIHQ9PVwib2JqZWN0XCImJnR5cGVvZiB0Lm5hbWU9PVwic3RyaW5nXCIpe3JldHVybiB0Lm5hbWV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gWmYodCl7Y29uc3QgZT10LnZpZXc/bmV3IFdzKHQudmlldyk6bnVsbDtyZXR1cm4oaSxuLG8pPT57bGV0IHI9e307aWYoZSl7Y29uc3QgdD1lLm1hdGNoKG4udmlld0l0ZW0pO2lmKCF0KXtyZXR1cm59cj10Lm1hdGNofXIubmFtZT10cnVlO2NvbnN0IHM9dGcodC5tb2RlbCxuLnZpZXdJdGVtLG8ud3JpdGVyKTtpZighcyl7cmV0dXJufWlmKCFvLmNvbnN1bWFibGUudGVzdChuLnZpZXdJdGVtLHIpKXtyZXR1cm59Y29uc3QgYT1vLnNwbGl0VG9BbGxvd2VkUGFyZW50KHMsbi5tb2RlbEN1cnNvcik7aWYoIWEpe3JldHVybn1vLndyaXRlci5pbnNlcnQocyxhLnBvc2l0aW9uKTtvLmNvbnZlcnRDaGlsZHJlbihuLnZpZXdJdGVtLG8ud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQXQocywwKSk7by5jb25zdW1hYmxlLmNvbnN1bWUobi52aWV3SXRlbSxyKTtjb25zdCBjPW8uZ2V0U3BsaXRQYXJ0cyhzKTtuLm1vZGVsUmFuZ2U9bmV3ICRoKG8ud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQmVmb3JlKHMpLG8ud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIoY1tjLmxlbmd0aC0xXSkpO2lmKGEuY3Vyc29yUGFyZW50KXtuLm1vZGVsQ3Vyc29yPW8ud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQXQoYS5jdXJzb3JQYXJlbnQsMCl9ZWxzZXtuLm1vZGVsQ3Vyc29yPW4ubW9kZWxSYW5nZS5lbmR9fX1mdW5jdGlvbiB0Zyh0LGUsaSl7aWYodCBpbnN0YW5jZW9mIEZ1bmN0aW9uKXtyZXR1cm4gdChlLGkpfWVsc2V7cmV0dXJuIGkuY3JlYXRlRWxlbWVudCh0KX19ZnVuY3Rpb24gZWcodCl7aWYodHlwZW9mIHQudmlldz09XCJzdHJpbmdcIil7dC52aWV3PXtrZXk6dC52aWV3fX1jb25zdCBlPXQudmlldy5rZXk7bGV0IGk7aWYoZT09XCJjbGFzc1wifHxlPT1cInN0eWxlXCIpe2NvbnN0IG49ZT09XCJjbGFzc1wiP1wiY2xhc3Nlc1wiOlwic3R5bGVzXCI7aT17W25dOnQudmlldy52YWx1ZX19ZWxzZXtjb25zdCBuPXR5cGVvZiB0LnZpZXcudmFsdWU9PVwidW5kZWZpbmVkXCI/L1tcXHNcXFNdKi86dC52aWV3LnZhbHVlO2k9e2F0dHJpYnV0ZXM6e1tlXTpufX19aWYodC52aWV3Lm5hbWUpe2kubmFtZT10LnZpZXcubmFtZX10LnZpZXc9aTtyZXR1cm4gZX1mdW5jdGlvbiBpZyh0LGU9bnVsbCl7Y29uc3QgaT1lPT09bnVsbD90cnVlOnQ9PnQuZ2V0QXR0cmlidXRlKGUpO2NvbnN0IG49dHlwZW9mIHQubW9kZWwhPVwib2JqZWN0XCI/dC5tb2RlbDp0Lm1vZGVsLmtleTtjb25zdCBvPXR5cGVvZiB0Lm1vZGVsIT1cIm9iamVjdFwifHx0eXBlb2YgdC5tb2RlbC52YWx1ZT09XCJ1bmRlZmluZWRcIj9pOnQubW9kZWwudmFsdWU7dC5tb2RlbD17a2V5Om4sdmFsdWU6b319ZnVuY3Rpb24gbmcodCxlKXtjb25zdCBpPW5ldyBXcyh0LnZpZXcpO3JldHVybihuLG8scik9Pntjb25zdCBzPWkubWF0Y2goby52aWV3SXRlbSk7aWYoIXMpe3JldHVybn1jb25zdCBhPXQubW9kZWwua2V5O2NvbnN0IGM9dHlwZW9mIHQubW9kZWwudmFsdWU9PVwiZnVuY3Rpb25cIj90Lm1vZGVsLnZhbHVlKG8udmlld0l0ZW0pOnQubW9kZWwudmFsdWU7aWYoYz09PW51bGwpe3JldHVybn1pZihvZyh0LnZpZXcsby52aWV3SXRlbSkpe3MubWF0Y2gubmFtZT10cnVlfWVsc2V7ZGVsZXRlIHMubWF0Y2gubmFtZX1pZighci5jb25zdW1hYmxlLnRlc3Qoby52aWV3SXRlbSxzLm1hdGNoKSl7cmV0dXJufWlmKCFvLm1vZGVsUmFuZ2Upe289T2JqZWN0LmFzc2lnbihvLHIuY29udmVydENoaWxkcmVuKG8udmlld0l0ZW0sby5tb2RlbEN1cnNvcikpfWNvbnN0IGw9cmcoby5tb2RlbFJhbmdlLHtrZXk6YSx2YWx1ZTpjfSxlLHIpO2lmKGwpe3IuY29uc3VtYWJsZS5jb25zdW1lKG8udmlld0l0ZW0scy5tYXRjaCl9fX1mdW5jdGlvbiBvZyh0LGUpe2NvbnN0IGk9dHlwZW9mIHQ9PVwiZnVuY3Rpb25cIj90KGUpOnQ7aWYodHlwZW9mIGk9PVwib2JqZWN0XCImJiFYZihpKSl7cmV0dXJuIGZhbHNlfXJldHVybiFpLmNsYXNzZXMmJiFpLmF0dHJpYnV0ZXMmJiFpLnN0eWxlc31mdW5jdGlvbiByZyh0LGUsaSxuKXtsZXQgbz1mYWxzZTtmb3IoY29uc3QgciBvZiBBcnJheS5mcm9tKHQuZ2V0SXRlbXMoe3NoYWxsb3c6aX0pKSl7aWYobi5zY2hlbWEuY2hlY2tBdHRyaWJ1dGUocixlLmtleSkpe24ud3JpdGVyLnNldEF0dHJpYnV0ZShlLmtleSxlLnZhbHVlLHIpO289dHJ1ZX19cmV0dXJuIG99ZnVuY3Rpb24gc2codCl7Y29uc3QgZT10Lm1vZGVsO3QubW9kZWw9KHQsaSk9Pntjb25zdCBuPXR5cGVvZiBlPT1cInN0cmluZ1wiP2U6ZSh0KTtyZXR1cm4gaS5jcmVhdGVFbGVtZW50KFwiJG1hcmtlclwiLHtcImRhdGEtbmFtZVwiOm59KX19Y2xhc3MgYWd7Y29uc3RydWN0b3IodCxlKXt0aGlzLm1vZGVsPXQ7dGhpcy52aWV3PW5ldyBCaChlKTt0aGlzLm1hcHBlcj1uZXcgR2g7dGhpcy5kb3duY2FzdERpc3BhdGNoZXI9bmV3IFloKHttYXBwZXI6dGhpcy5tYXBwZXJ9KTtjb25zdCBpPXRoaXMubW9kZWwuZG9jdW1lbnQ7Y29uc3Qgbj1pLnNlbGVjdGlvbjtjb25zdCBvPXRoaXMubW9kZWwubWFya2Vyczt0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsXCJfYmVmb3JlQ2hhbmdlc1wiLCgpPT57dGhpcy52aWV3Ll9kaXNhYmxlUmVuZGVyaW5nKHRydWUpfSx7cHJpb3JpdHk6XCJoaWdoZXN0XCJ9KTt0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsXCJfYWZ0ZXJDaGFuZ2VzXCIsKCk9Pnt0aGlzLnZpZXcuX2Rpc2FibGVSZW5kZXJpbmcoZmFsc2UpfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pO3RoaXMubGlzdGVuVG8oaSxcImNoYW5nZVwiLCgpPT57dGhpcy52aWV3LmNoYW5nZSh0PT57dGhpcy5kb3duY2FzdERpc3BhdGNoZXIuY29udmVydENoYW5nZXMoaS5kaWZmZXIsbyx0KTt0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5jb252ZXJ0U2VsZWN0aW9uKG4sbyx0KX0pfSx7cHJpb3JpdHk6XCJsb3dcIn0pO3RoaXMubGlzdGVuVG8odGhpcy52aWV3LmRvY3VtZW50LFwic2VsZWN0aW9uQ2hhbmdlXCIsR2YodGhpcy5tb2RlbCx0aGlzLm1hcHBlcikpO3RoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiaW5zZXJ0OiR0ZXh0XCIsX2YoKSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pO3RoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwicmVtb3ZlXCIsdmYoKSx7cHJpb3JpdHk6XCJsb3dcIn0pO3RoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwic2VsZWN0aW9uXCIsQWYoKSx7cHJpb3JpdHk6XCJsb3dcIn0pO3RoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwic2VsZWN0aW9uXCIseGYoKSx7cHJpb3JpdHk6XCJsb3dcIn0pO3RoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwic2VsZWN0aW9uXCIsQ2YoKSx7cHJpb3JpdHk6XCJsb3dcIn0pO3RoaXMudmlldy5kb2N1bWVudC5yb290cy5iaW5kVG8odGhpcy5tb2RlbC5kb2N1bWVudC5yb290cykudXNpbmcodD0+e2lmKHQucm9vdE5hbWU9PVwiJGdyYXZleWFyZFwiKXtyZXR1cm4gbnVsbH1jb25zdCBlPW5ldyBjbCh0aGlzLnZpZXcuZG9jdW1lbnQsdC5uYW1lKTtlLnJvb3ROYW1lPXQucm9vdE5hbWU7dGhpcy5tYXBwZXIuYmluZEVsZW1lbnRzKHQsZSk7cmV0dXJuIGV9KX1kZXN0cm95KCl7dGhpcy52aWV3LmRlc3Ryb3koKTt0aGlzLnN0b3BMaXN0ZW5pbmcoKX19dnMoYWcsSmMpO2NsYXNzIGNne2NvbnN0cnVjdG9yKCl7dGhpcy5fY29tbWFuZHM9bmV3IE1hcH1hZGQodCxlKXt0aGlzLl9jb21tYW5kcy5zZXQodCxlKX1nZXQodCl7cmV0dXJuIHRoaXMuX2NvbW1hbmRzLmdldCh0KX1leGVjdXRlKHQsLi4uZSl7Y29uc3QgaT10aGlzLmdldCh0KTtpZighaSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcImNvbW1hbmRjb2xsZWN0aW9uLWNvbW1hbmQtbm90LWZvdW5kOiBDb21tYW5kIGRvZXMgbm90IGV4aXN0LlwiLHRoaXMse2NvbW1hbmROYW1lOnR9KX1pLmV4ZWN1dGUoLi4uZSl9Km5hbWVzKCl7eWllbGQqdGhpcy5fY29tbWFuZHMua2V5cygpfSpjb21tYW5kcygpe3lpZWxkKnRoaXMuX2NvbW1hbmRzLnZhbHVlcygpfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuX2NvbW1hbmRzW1N5bWJvbC5pdGVyYXRvcl0oKX1kZXN0cm95KCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5jb21tYW5kcygpKXt0LmRlc3Ryb3koKX19fWNsYXNzIGxne2NvbnN0cnVjdG9yKCl7dGhpcy5fY29uc3VtYWJsZXM9bmV3IE1hcH1hZGQodCxlKXtsZXQgaTtpZih0LmlzKFwidGV4dFwiKXx8dC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIikpe3RoaXMuX2NvbnN1bWFibGVzLnNldCh0LHRydWUpO3JldHVybn1pZighdGhpcy5fY29uc3VtYWJsZXMuaGFzKHQpKXtpPW5ldyBkZyh0KTt0aGlzLl9jb25zdW1hYmxlcy5zZXQodCxpKX1lbHNle2k9dGhpcy5fY29uc3VtYWJsZXMuZ2V0KHQpfWkuYWRkKGUpfXRlc3QodCxlKXtjb25zdCBpPXRoaXMuX2NvbnN1bWFibGVzLmdldCh0KTtpZihpPT09dW5kZWZpbmVkKXtyZXR1cm4gbnVsbH1pZih0LmlzKFwidGV4dFwiKXx8dC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIikpe3JldHVybiBpfXJldHVybiBpLnRlc3QoZSl9Y29uc3VtZSh0LGUpe2lmKHRoaXMudGVzdCh0LGUpKXtpZih0LmlzKFwidGV4dFwiKXx8dC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIikpe3RoaXMuX2NvbnN1bWFibGVzLnNldCh0LGZhbHNlKX1lbHNle3RoaXMuX2NvbnN1bWFibGVzLmdldCh0KS5jb25zdW1lKGUpfXJldHVybiB0cnVlfXJldHVybiBmYWxzZX1yZXZlcnQodCxlKXtjb25zdCBpPXRoaXMuX2NvbnN1bWFibGVzLmdldCh0KTtpZihpIT09dW5kZWZpbmVkKXtpZih0LmlzKFwidGV4dFwiKXx8dC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIikpe3RoaXMuX2NvbnN1bWFibGVzLnNldCh0LHRydWUpfWVsc2V7aS5yZXZlcnQoZSl9fX1zdGF0aWMgY29uc3VtYWJsZXNGcm9tRWxlbWVudCh0KXtjb25zdCBlPXtlbGVtZW50OnQsbmFtZTp0cnVlLGF0dHJpYnV0ZXM6W10sY2xhc3NlczpbXSxzdHlsZXM6W119O2NvbnN0IGk9dC5nZXRBdHRyaWJ1dGVLZXlzKCk7Zm9yKGNvbnN0IHQgb2YgaSl7aWYodD09XCJzdHlsZVwifHx0PT1cImNsYXNzXCIpe2NvbnRpbnVlfWUuYXR0cmlidXRlcy5wdXNoKHQpfWNvbnN0IG49dC5nZXRDbGFzc05hbWVzKCk7Zm9yKGNvbnN0IHQgb2Ygbil7ZS5jbGFzc2VzLnB1c2godCl9Y29uc3Qgbz10LmdldFN0eWxlTmFtZXMoKTtmb3IoY29uc3QgdCBvZiBvKXtlLnN0eWxlcy5wdXNoKHQpfXJldHVybiBlfXN0YXRpYyBjcmVhdGVGcm9tKHQsZSl7aWYoIWUpe2U9bmV3IGxnKHQpfWlmKHQuaXMoXCJ0ZXh0XCIpKXtlLmFkZCh0KTtyZXR1cm4gZX1pZih0LmlzKFwiZWxlbWVudFwiKSl7ZS5hZGQodCxsZy5jb25zdW1hYmxlc0Zyb21FbGVtZW50KHQpKX1pZih0LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKSl7ZS5hZGQodCl9Zm9yKGNvbnN0IGkgb2YgdC5nZXRDaGlsZHJlbigpKXtlPWxnLmNyZWF0ZUZyb20oaSxlKX1yZXR1cm4gZX19Y2xhc3MgZGd7Y29uc3RydWN0b3IodCl7dGhpcy5lbGVtZW50PXQ7dGhpcy5fY2FuQ29uc3VtZU5hbWU9bnVsbDt0aGlzLl9jb25zdW1hYmxlcz17YXR0cmlidXRlczpuZXcgTWFwLHN0eWxlczpuZXcgTWFwLGNsYXNzZXM6bmV3IE1hcH19YWRkKHQpe2lmKHQubmFtZSl7dGhpcy5fY2FuQ29uc3VtZU5hbWU9dHJ1ZX1mb3IoY29uc3QgZSBpbiB0aGlzLl9jb25zdW1hYmxlcyl7aWYoZSBpbiB0KXt0aGlzLl9hZGQoZSx0W2VdKX19fXRlc3QodCl7aWYodC5uYW1lJiYhdGhpcy5fY2FuQ29uc3VtZU5hbWUpe3JldHVybiB0aGlzLl9jYW5Db25zdW1lTmFtZX1mb3IoY29uc3QgZSBpbiB0aGlzLl9jb25zdW1hYmxlcyl7aWYoZSBpbiB0KXtjb25zdCBpPXRoaXMuX3Rlc3QoZSx0W2VdKTtpZihpIT09dHJ1ZSl7cmV0dXJuIGl9fX1yZXR1cm4gdHJ1ZX1jb25zdW1lKHQpe2lmKHQubmFtZSl7dGhpcy5fY2FuQ29uc3VtZU5hbWU9ZmFsc2V9Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY29uc3VtYWJsZXMpe2lmKGUgaW4gdCl7dGhpcy5fY29uc3VtZShlLHRbZV0pfX19cmV2ZXJ0KHQpe2lmKHQubmFtZSl7dGhpcy5fY2FuQ29uc3VtZU5hbWU9dHJ1ZX1mb3IoY29uc3QgZSBpbiB0aGlzLl9jb25zdW1hYmxlcyl7aWYoZSBpbiB0KXt0aGlzLl9yZXZlcnQoZSx0W2VdKX19fV9hZGQodCxlKXtjb25zdCBpPUplKGUpP2U6W2VdO2NvbnN0IG49dGhpcy5fY29uc3VtYWJsZXNbdF07Zm9yKGNvbnN0IGUgb2YgaSl7aWYodD09PVwiYXR0cmlidXRlc1wiJiYoZT09PVwiY2xhc3NcInx8ZT09PVwic3R5bGVcIikpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ2aWV3Y29uc3VtYWJsZS1pbnZhbGlkLWF0dHJpYnV0ZTogQ2xhc3NlcyBhbmQgc3R5bGVzIHNob3VsZCBiZSBoYW5kbGVkIHNlcGFyYXRlbHkuXCIsdGhpcyl9bi5zZXQoZSx0cnVlKTtpZih0PT09XCJzdHlsZXNcIil7Zm9yKGNvbnN0IHQgb2YgdGhpcy5lbGVtZW50LmRvY3VtZW50LnN0eWxlc1Byb2Nlc3Nvci5nZXRSZWxhdGVkU3R5bGVzKGUpKXtuLnNldCh0LHRydWUpfX19fV90ZXN0KHQsZSl7Y29uc3QgaT1KZShlKT9lOltlXTtjb25zdCBuPXRoaXMuX2NvbnN1bWFibGVzW3RdO2Zvcihjb25zdCBlIG9mIGkpe2lmKHQ9PT1cImF0dHJpYnV0ZXNcIiYmKGU9PT1cImNsYXNzXCJ8fGU9PT1cInN0eWxlXCIpKXtjb25zdCB0PWU9PVwiY2xhc3NcIj9cImNsYXNzZXNcIjpcInN0eWxlc1wiO2NvbnN0IGk9dGhpcy5fdGVzdCh0LFsuLi50aGlzLl9jb25zdW1hYmxlc1t0XS5rZXlzKCldKTtpZihpIT09dHJ1ZSl7cmV0dXJuIGl9fWVsc2V7Y29uc3QgdD1uLmdldChlKTtpZih0PT09dW5kZWZpbmVkKXtyZXR1cm4gbnVsbH1pZighdCl7cmV0dXJuIGZhbHNlfX19cmV0dXJuIHRydWV9X2NvbnN1bWUodCxlKXtjb25zdCBpPUplKGUpP2U6W2VdO2NvbnN0IG49dGhpcy5fY29uc3VtYWJsZXNbdF07Zm9yKGNvbnN0IGUgb2YgaSl7aWYodD09PVwiYXR0cmlidXRlc1wiJiYoZT09PVwiY2xhc3NcInx8ZT09PVwic3R5bGVcIikpe2NvbnN0IHQ9ZT09XCJjbGFzc1wiP1wiY2xhc3Nlc1wiOlwic3R5bGVzXCI7dGhpcy5fY29uc3VtZSh0LFsuLi50aGlzLl9jb25zdW1hYmxlc1t0XS5rZXlzKCldKX1lbHNle24uc2V0KGUsZmFsc2UpO2lmKHQ9PVwic3R5bGVzXCIpe2Zvcihjb25zdCB0IG9mIHRoaXMuZWxlbWVudC5kb2N1bWVudC5zdHlsZXNQcm9jZXNzb3IuZ2V0UmVsYXRlZFN0eWxlcyhlKSl7bi5zZXQodCxmYWxzZSl9fX19fV9yZXZlcnQodCxlKXtjb25zdCBpPUplKGUpP2U6W2VdO2NvbnN0IG49dGhpcy5fY29uc3VtYWJsZXNbdF07Zm9yKGNvbnN0IGUgb2YgaSl7aWYodD09PVwiYXR0cmlidXRlc1wiJiYoZT09PVwiY2xhc3NcInx8ZT09PVwic3R5bGVcIikpe2NvbnN0IHQ9ZT09XCJjbGFzc1wiP1wiY2xhc3Nlc1wiOlwic3R5bGVzXCI7dGhpcy5fcmV2ZXJ0KHQsWy4uLnRoaXMuX2NvbnN1bWFibGVzW3RdLmtleXMoKV0pfWVsc2V7Y29uc3QgdD1uLmdldChlKTtpZih0PT09ZmFsc2Upe24uc2V0KGUsdHJ1ZSl9fX19fWNsYXNzIHVne2NvbnN0cnVjdG9yKCl7dGhpcy5fc291cmNlRGVmaW5pdGlvbnM9e307dGhpcy5fYXR0cmlidXRlUHJvcGVydGllcz17fTt0aGlzLmRlY29yYXRlKFwiY2hlY2tDaGlsZFwiKTt0aGlzLmRlY29yYXRlKFwiY2hlY2tBdHRyaWJ1dGVcIik7dGhpcy5vbihcImNoZWNrQXR0cmlidXRlXCIsKHQsZSk9PntlWzBdPW5ldyBoZyhlWzBdKX0se3ByaW9yaXR5OlwiaGlnaGVzdFwifSk7dGhpcy5vbihcImNoZWNrQ2hpbGRcIiwodCxlKT0+e2VbMF09bmV3IGhnKGVbMF0pO2VbMV09dGhpcy5nZXREZWZpbml0aW9uKGVbMV0pfSx7cHJpb3JpdHk6XCJoaWdoZXN0XCJ9KX1yZWdpc3Rlcih0LGUpe2lmKHRoaXMuX3NvdXJjZURlZmluaXRpb25zW3RdKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwic2NoZW1hLWNhbm5vdC1yZWdpc3Rlci1pdGVtLXR3aWNlOiBBIHNpbmdsZSBpdGVtIGNhbm5vdCBiZSByZWdpc3RlcmVkIHR3aWNlIGluIHRoZSBzY2hlbWEuXCIsdGhpcyx7aXRlbU5hbWU6dH0pfXRoaXMuX3NvdXJjZURlZmluaXRpb25zW3RdPVtPYmplY3QuYXNzaWduKHt9LGUpXTt0aGlzLl9jbGVhckNhY2hlKCl9ZXh0ZW5kKHQsZSl7aWYoIXRoaXMuX3NvdXJjZURlZmluaXRpb25zW3RdKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwic2NoZW1hLWNhbm5vdC1leHRlbmQtbWlzc2luZy1pdGVtOiBDYW5ub3QgZXh0ZW5kIGFuIGl0ZW0gd2hpY2ggd2FzIG5vdCByZWdpc3RlcmVkIHlldC5cIix0aGlzLHtpdGVtTmFtZTp0fSl9dGhpcy5fc291cmNlRGVmaW5pdGlvbnNbdF0ucHVzaChPYmplY3QuYXNzaWduKHt9LGUpKTt0aGlzLl9jbGVhckNhY2hlKCl9Z2V0RGVmaW5pdGlvbnMoKXtpZighdGhpcy5fY29tcGlsZWREZWZpbml0aW9ucyl7dGhpcy5fY29tcGlsZSgpfXJldHVybiB0aGlzLl9jb21waWxlZERlZmluaXRpb25zfWdldERlZmluaXRpb24odCl7bGV0IGU7aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpe2U9dH1lbHNlIGlmKHQuaXMmJih0LmlzKFwidGV4dFwiKXx8dC5pcyhcInRleHRQcm94eVwiKSkpe2U9XCIkdGV4dFwifWVsc2V7ZT10Lm5hbWV9cmV0dXJuIHRoaXMuZ2V0RGVmaW5pdGlvbnMoKVtlXX1pc1JlZ2lzdGVyZWQodCl7cmV0dXJuISF0aGlzLmdldERlZmluaXRpb24odCl9aXNCbG9jayh0KXtjb25zdCBlPXRoaXMuZ2V0RGVmaW5pdGlvbih0KTtyZXR1cm4hIShlJiZlLmlzQmxvY2spfWlzTGltaXQodCl7Y29uc3QgZT10aGlzLmdldERlZmluaXRpb24odCk7aWYoIWUpe3JldHVybiBmYWxzZX1yZXR1cm4hIShlLmlzTGltaXR8fGUuaXNPYmplY3QpfWlzT2JqZWN0KHQpe2NvbnN0IGU9dGhpcy5nZXREZWZpbml0aW9uKHQpO3JldHVybiEhKGUmJmUuaXNPYmplY3QpfWlzSW5saW5lKHQpe2NvbnN0IGU9dGhpcy5nZXREZWZpbml0aW9uKHQpO3JldHVybiEhKGUmJmUuaXNJbmxpbmUpfWNoZWNrQ2hpbGQodCxlKXtpZighZSl7cmV0dXJuIGZhbHNlfXJldHVybiB0aGlzLl9jaGVja0NvbnRleHRNYXRjaChlLHQpfWNoZWNrQXR0cmlidXRlKHQsZSl7Y29uc3QgaT10aGlzLmdldERlZmluaXRpb24odC5sYXN0KTtpZighaSl7cmV0dXJuIGZhbHNlfXJldHVybiBpLmFsbG93QXR0cmlidXRlcy5pbmNsdWRlcyhlKX1jaGVja01lcmdlKHQsZT1udWxsKXtpZih0IGluc3RhbmNlb2YgVWgpe2NvbnN0IGU9dC5ub2RlQmVmb3JlO2NvbnN0IGk9dC5ub2RlQWZ0ZXI7aWYoIShlIGluc3RhbmNlb2YgamgpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwic2NoZW1hLWNoZWNrLW1lcmdlLW5vLWVsZW1lbnQtYmVmb3JlOiBUaGUgbm9kZSBiZWZvcmUgdGhlIG1lcmdlIHBvc2l0aW9uIG11c3QgYmUgYW4gZWxlbWVudC5cIix0aGlzKX1pZighKGkgaW5zdGFuY2VvZiBqaCkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJzY2hlbWEtY2hlY2stbWVyZ2Utbm8tZWxlbWVudC1hZnRlcjogVGhlIG5vZGUgYWZ0ZXIgdGhlIG1lcmdlIHBvc2l0aW9uIG11c3QgYmUgYW4gZWxlbWVudC5cIix0aGlzKX1yZXR1cm4gdGhpcy5jaGVja01lcmdlKGUsaSl9Zm9yKGNvbnN0IGkgb2YgZS5nZXRDaGlsZHJlbigpKXtpZighdGhpcy5jaGVja0NoaWxkKHQsaSkpe3JldHVybiBmYWxzZX19cmV0dXJuIHRydWV9YWRkQ2hpbGRDaGVjayh0KXt0aGlzLm9uKFwiY2hlY2tDaGlsZFwiLChlLFtpLG5dKT0+e2lmKCFuKXtyZXR1cm59Y29uc3Qgbz10KGksbik7aWYodHlwZW9mIG89PVwiYm9vbGVhblwiKXtlLnN0b3AoKTtlLnJldHVybj1vfX0se3ByaW9yaXR5OlwiaGlnaFwifSl9YWRkQXR0cmlidXRlQ2hlY2sodCl7dGhpcy5vbihcImNoZWNrQXR0cmlidXRlXCIsKGUsW2ksbl0pPT57Y29uc3Qgbz10KGksbik7aWYodHlwZW9mIG89PVwiYm9vbGVhblwiKXtlLnN0b3AoKTtlLnJldHVybj1vfX0se3ByaW9yaXR5OlwiaGlnaFwifSl9c2V0QXR0cmlidXRlUHJvcGVydGllcyh0LGUpe3RoaXMuX2F0dHJpYnV0ZVByb3BlcnRpZXNbdF09T2JqZWN0LmFzc2lnbih0aGlzLmdldEF0dHJpYnV0ZVByb3BlcnRpZXModCksZSl9Z2V0QXR0cmlidXRlUHJvcGVydGllcyh0KXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlUHJvcGVydGllc1t0XXx8e319Z2V0TGltaXRFbGVtZW50KHQpe2xldCBlO2lmKHQgaW5zdGFuY2VvZiBVaCl7ZT10LnBhcmVudH1lbHNle2NvbnN0IGk9dCBpbnN0YW5jZW9mICRoP1t0XTpBcnJheS5mcm9tKHQuZ2V0UmFuZ2VzKCkpO2U9aS5yZWR1Y2UoKHQsZSk9Pntjb25zdCBpPWUuZ2V0Q29tbW9uQW5jZXN0b3IoKTtpZighdCl7cmV0dXJuIGl9cmV0dXJuIHQuZ2V0Q29tbW9uQW5jZXN0b3IoaSx7aW5jbHVkZVNlbGY6dHJ1ZX0pfSxudWxsKX13aGlsZSghdGhpcy5pc0xpbWl0KGUpKXtpZihlLnBhcmVudCl7ZT1lLnBhcmVudH1lbHNle2JyZWFrfX1yZXR1cm4gZX1jaGVja0F0dHJpYnV0ZUluU2VsZWN0aW9uKHQsZSl7aWYodC5pc0NvbGxhcHNlZCl7Y29uc3QgaT10LmdldEZpcnN0UG9zaXRpb24oKTtjb25zdCBuPVsuLi5pLmdldEFuY2VzdG9ycygpLG5ldyBMaChcIlwiLHQuZ2V0QXR0cmlidXRlcygpKV07cmV0dXJuIHRoaXMuY2hlY2tBdHRyaWJ1dGUobixlKX1lbHNle2NvbnN0IGk9dC5nZXRSYW5nZXMoKTtmb3IoY29uc3QgdCBvZiBpKXtmb3IoY29uc3QgaSBvZiB0KXtpZih0aGlzLmNoZWNrQXR0cmlidXRlKGkuaXRlbSxlKSl7cmV0dXJuIHRydWV9fX19cmV0dXJuIGZhbHNlfSpnZXRWYWxpZFJhbmdlcyh0LGUpe3Q9UGcodCk7Zm9yKGNvbnN0IGkgb2YgdCl7eWllbGQqdGhpcy5fZ2V0VmFsaWRSYW5nZXNGb3JSYW5nZShpLGUpfX1nZXROZWFyZXN0U2VsZWN0aW9uUmFuZ2UodCxlPVwiYm90aFwiKXtpZih0aGlzLmNoZWNrQ2hpbGQodCxcIiR0ZXh0XCIpKXtyZXR1cm4gbmV3ICRoKHQpfWxldCBpLG47Y29uc3Qgbz10LmdldEFuY2VzdG9ycygpLnJldmVyc2UoKS5maW5kKHQ9PnRoaXMuaXNMaW1pdCh0KSl8fHQucm9vdDtpZihlPT1cImJvdGhcInx8ZT09XCJiYWNrd2FyZFwiKXtpPW5ldyBXaCh7Ym91bmRhcmllczokaC5fY3JlYXRlSW4obyksc3RhcnRQb3NpdGlvbjp0LGRpcmVjdGlvbjpcImJhY2t3YXJkXCJ9KX1pZihlPT1cImJvdGhcInx8ZT09XCJmb3J3YXJkXCIpe249bmV3IFdoKHtib3VuZGFyaWVzOiRoLl9jcmVhdGVJbihvKSxzdGFydFBvc2l0aW9uOnR9KX1mb3IoY29uc3QgdCBvZiBUZyhpLG4pKXtjb25zdCBlPXQud2Fsa2VyPT1pP1wiZWxlbWVudEVuZFwiOlwiZWxlbWVudFN0YXJ0XCI7Y29uc3Qgbj10LnZhbHVlO2lmKG4udHlwZT09ZSYmdGhpcy5pc09iamVjdChuLml0ZW0pKXtyZXR1cm4gJGguX2NyZWF0ZU9uKG4uaXRlbSl9aWYodGhpcy5jaGVja0NoaWxkKG4ubmV4dFBvc2l0aW9uLFwiJHRleHRcIikpe3JldHVybiBuZXcgJGgobi5uZXh0UG9zaXRpb24pfX1yZXR1cm4gbnVsbH1maW5kQWxsb3dlZFBhcmVudCh0LGUpe2xldCBpPXQucGFyZW50O3doaWxlKGkpe2lmKHRoaXMuY2hlY2tDaGlsZChpLGUpKXtyZXR1cm4gaX1pZih0aGlzLmlzTGltaXQoaSkpe3JldHVybiBudWxsfWk9aS5wYXJlbnR9cmV0dXJuIG51bGx9cmVtb3ZlRGlzYWxsb3dlZEF0dHJpYnV0ZXModCxlKXtmb3IoY29uc3QgaSBvZiB0KXtpZihpLmlzKFwidGV4dFwiKSl7U2codGhpcyxpLGUpfWVsc2V7Y29uc3QgdD0kaC5fY3JlYXRlSW4oaSk7Y29uc3Qgbj10LmdldFBvc2l0aW9ucygpO2Zvcihjb25zdCB0IG9mIG4pe2NvbnN0IGk9dC5ub2RlQmVmb3JlfHx0LnBhcmVudDtTZyh0aGlzLGksZSl9fX19Y3JlYXRlQ29udGV4dCh0KXtyZXR1cm4gbmV3IGhnKHQpfV9jbGVhckNhY2hlKCl7dGhpcy5fY29tcGlsZWREZWZpbml0aW9ucz1udWxsfV9jb21waWxlKCl7Y29uc3QgdD17fTtjb25zdCBlPXRoaXMuX3NvdXJjZURlZmluaXRpb25zO2NvbnN0IGk9T2JqZWN0LmtleXMoZSk7Zm9yKGNvbnN0IG4gb2YgaSl7dFtuXT1mZyhlW25dLG4pfWZvcihjb25zdCBlIG9mIGkpe2dnKHQsZSl9Zm9yKGNvbnN0IGUgb2YgaSl7bWcodCxlKX1mb3IoY29uc3QgZSBvZiBpKXtwZyh0LGUpO2JnKHQsZSl9Zm9yKGNvbnN0IGUgb2YgaSl7d2codCxlKTtrZyh0LGUpfXRoaXMuX2NvbXBpbGVkRGVmaW5pdGlvbnM9dH1fY2hlY2tDb250ZXh0TWF0Y2godCxlLGk9ZS5sZW5ndGgtMSl7Y29uc3Qgbj1lLmdldEl0ZW0oaSk7aWYodC5hbGxvd0luLmluY2x1ZGVzKG4ubmFtZSkpe2lmKGk9PTApe3JldHVybiB0cnVlfWVsc2V7Y29uc3QgdD10aGlzLmdldERlZmluaXRpb24obik7cmV0dXJuIHRoaXMuX2NoZWNrQ29udGV4dE1hdGNoKHQsZSxpLTEpfX1lbHNle3JldHVybiBmYWxzZX19Kl9nZXRWYWxpZFJhbmdlc0ZvclJhbmdlKHQsZSl7bGV0IGk9dC5zdGFydDtsZXQgbj10LnN0YXJ0O2Zvcihjb25zdCBvIG9mIHQuZ2V0SXRlbXMoe3NoYWxsb3c6dHJ1ZX0pKXtpZihvLmlzKFwiZWxlbWVudFwiKSl7eWllbGQqdGhpcy5fZ2V0VmFsaWRSYW5nZXNGb3JSYW5nZSgkaC5fY3JlYXRlSW4obyksZSl9aWYoIXRoaXMuY2hlY2tBdHRyaWJ1dGUobyxlKSl7aWYoIWkuaXNFcXVhbChuKSl7eWllbGQgbmV3ICRoKGksbil9aT1VaC5fY3JlYXRlQWZ0ZXIobyl9bj1VaC5fY3JlYXRlQWZ0ZXIobyl9aWYoIWkuaXNFcXVhbChuKSl7eWllbGQgbmV3ICRoKGksbil9fX12cyh1ZyxKYyk7Y2xhc3MgaGd7Y29uc3RydWN0b3IodCl7aWYodCBpbnN0YW5jZW9mIGhnKXtyZXR1cm4gdH1pZih0eXBlb2YgdD09XCJzdHJpbmdcIil7dD1bdF19ZWxzZSBpZighQXJyYXkuaXNBcnJheSh0KSl7dD10LmdldEFuY2VzdG9ycyh7aW5jbHVkZVNlbGY6dHJ1ZX0pfWlmKHRbMF0mJnR5cGVvZiB0WzBdIT1cInN0cmluZ1wiJiZ0WzBdLmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKSl7dC5zaGlmdCgpfXRoaXMuX2l0ZW1zPXQubWFwKEFnKX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2l0ZW1zLmxlbmd0aH1nZXQgbGFzdCgpe3JldHVybiB0aGlzLl9pdGVtc1t0aGlzLl9pdGVtcy5sZW5ndGgtMV19W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5faXRlbXNbU3ltYm9sLml0ZXJhdG9yXSgpfXB1c2godCl7Y29uc3QgZT1uZXcgaGcoW3RdKTtlLl9pdGVtcz1bLi4udGhpcy5faXRlbXMsLi4uZS5faXRlbXNdO3JldHVybiBlfWdldEl0ZW0odCl7cmV0dXJuIHRoaXMuX2l0ZW1zW3RdfSpnZXROYW1lcygpe3lpZWxkKnRoaXMuX2l0ZW1zLm1hcCh0PT50Lm5hbWUpfWVuZHNXaXRoKHQpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuZ2V0TmFtZXMoKSkuam9pbihcIiBcIikuZW5kc1dpdGgodCl9c3RhcnRzV2l0aCh0KXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmdldE5hbWVzKCkpLmpvaW4oXCIgXCIpLnN0YXJ0c1dpdGgodCl9fWZ1bmN0aW9uIGZnKHQsZSl7Y29uc3QgaT17bmFtZTplLGFsbG93SW46W10sYWxsb3dDb250ZW50T2Y6W10sYWxsb3dXaGVyZTpbXSxhbGxvd0F0dHJpYnV0ZXM6W10sYWxsb3dBdHRyaWJ1dGVzT2Y6W10saW5oZXJpdFR5cGVzRnJvbTpbXX07X2codCxpKTt2Zyh0LGksXCJhbGxvd0luXCIpO3ZnKHQsaSxcImFsbG93Q29udGVudE9mXCIpO3ZnKHQsaSxcImFsbG93V2hlcmVcIik7dmcodCxpLFwiYWxsb3dBdHRyaWJ1dGVzXCIpO3ZnKHQsaSxcImFsbG93QXR0cmlidXRlc09mXCIpO3ZnKHQsaSxcImluaGVyaXRUeXBlc0Zyb21cIik7eWcodCxpKTtyZXR1cm4gaX1mdW5jdGlvbiBnZyh0LGUpe2Zvcihjb25zdCBpIG9mIHRbZV0uYWxsb3dDb250ZW50T2Ype2lmKHRbaV0pe2NvbnN0IG49eGcodCxpKTtuLmZvckVhY2godD0+e3QuYWxsb3dJbi5wdXNoKGUpfSl9fWRlbGV0ZSB0W2VdLmFsbG93Q29udGVudE9mfWZ1bmN0aW9uIG1nKHQsZSl7Zm9yKGNvbnN0IGkgb2YgdFtlXS5hbGxvd1doZXJlKXtjb25zdCBuPXRbaV07aWYobil7Y29uc3QgaT1uLmFsbG93SW47dFtlXS5hbGxvd0luLnB1c2goLi4uaSl9fWRlbGV0ZSB0W2VdLmFsbG93V2hlcmV9ZnVuY3Rpb24gcGcodCxlKXtmb3IoY29uc3QgaSBvZiB0W2VdLmFsbG93QXR0cmlidXRlc09mKXtjb25zdCBuPXRbaV07aWYobil7Y29uc3QgaT1uLmFsbG93QXR0cmlidXRlczt0W2VdLmFsbG93QXR0cmlidXRlcy5wdXNoKC4uLmkpfX1kZWxldGUgdFtlXS5hbGxvd0F0dHJpYnV0ZXNPZn1mdW5jdGlvbiBiZyh0LGUpe2NvbnN0IGk9dFtlXTtmb3IoY29uc3QgZSBvZiBpLmluaGVyaXRUeXBlc0Zyb20pe2NvbnN0IG49dFtlXTtpZihuKXtjb25zdCB0PU9iamVjdC5rZXlzKG4pLmZpbHRlcih0PT50LnN0YXJ0c1dpdGgoXCJpc1wiKSk7Zm9yKGNvbnN0IGUgb2YgdCl7aWYoIShlIGluIGkpKXtpW2VdPW5bZV19fX19ZGVsZXRlIGkuaW5oZXJpdFR5cGVzRnJvbX1mdW5jdGlvbiB3Zyh0LGUpe2NvbnN0IGk9dFtlXTtjb25zdCBuPWkuYWxsb3dJbi5maWx0ZXIoZT0+dFtlXSk7aS5hbGxvd0luPUFycmF5LmZyb20obmV3IFNldChuKSl9ZnVuY3Rpb24ga2codCxlKXtjb25zdCBpPXRbZV07aS5hbGxvd0F0dHJpYnV0ZXM9QXJyYXkuZnJvbShuZXcgU2V0KGkuYWxsb3dBdHRyaWJ1dGVzKSl9ZnVuY3Rpb24gX2codCxlKXtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PU9iamVjdC5rZXlzKGkpLmZpbHRlcih0PT50LnN0YXJ0c1dpdGgoXCJpc1wiKSk7Zm9yKGNvbnN0IG4gb2YgdCl7ZVtuXT1pW25dfX19ZnVuY3Rpb24gdmcodCxlLGkpe2Zvcihjb25zdCBuIG9mIHQpe2lmKHR5cGVvZiBuW2ldPT1cInN0cmluZ1wiKXtlW2ldLnB1c2gobltpXSl9ZWxzZSBpZihBcnJheS5pc0FycmF5KG5baV0pKXtlW2ldLnB1c2goLi4ubltpXSl9fX1mdW5jdGlvbiB5Zyh0LGUpe2Zvcihjb25zdCBpIG9mIHQpe2NvbnN0IHQ9aS5pbmhlcml0QWxsRnJvbTtpZih0KXtlLmFsbG93Q29udGVudE9mLnB1c2godCk7ZS5hbGxvd1doZXJlLnB1c2godCk7ZS5hbGxvd0F0dHJpYnV0ZXNPZi5wdXNoKHQpO2UuaW5oZXJpdFR5cGVzRnJvbS5wdXNoKHQpfX19ZnVuY3Rpb24geGcodCxlKXtjb25zdCBpPXRbZV07cmV0dXJuIENnKHQpLmZpbHRlcih0PT50LmFsbG93SW4uaW5jbHVkZXMoaS5uYW1lKSl9ZnVuY3Rpb24gQ2codCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLm1hcChlPT50W2VdKX1mdW5jdGlvbiBBZyh0KXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIil7cmV0dXJue25hbWU6dCwqZ2V0QXR0cmlidXRlS2V5cygpe30sZ2V0QXR0cmlidXRlKCl7fX19ZWxzZXtyZXR1cm57bmFtZTp0LmlzKFwiZWxlbWVudFwiKT90Lm5hbWU6XCIkdGV4dFwiLCpnZXRBdHRyaWJ1dGVLZXlzKCl7eWllbGQqdC5nZXRBdHRyaWJ1dGVLZXlzKCl9LGdldEF0dHJpYnV0ZShlKXtyZXR1cm4gdC5nZXRBdHRyaWJ1dGUoZSl9fX19ZnVuY3Rpb24qVGcodCxlKXtsZXQgaT1mYWxzZTt3aGlsZSghaSl7aT10cnVlO2lmKHQpe2NvbnN0IGU9dC5uZXh0KCk7aWYoIWUuZG9uZSl7aT1mYWxzZTt5aWVsZHt3YWxrZXI6dCx2YWx1ZTplLnZhbHVlfX19aWYoZSl7Y29uc3QgdD1lLm5leHQoKTtpZighdC5kb25lKXtpPWZhbHNlO3lpZWxke3dhbGtlcjplLHZhbHVlOnQudmFsdWV9fX19fWZ1bmN0aW9uKlBnKHQpe2Zvcihjb25zdCBlIG9mIHQpe3lpZWxkKmUuZ2V0TWluaW1hbEZsYXRSYW5nZXMoKX19ZnVuY3Rpb24gU2codCxlLGkpe2Zvcihjb25zdCBuIG9mIGUuZ2V0QXR0cmlidXRlS2V5cygpKXtpZighdC5jaGVja0F0dHJpYnV0ZShlLG4pKXtpLnJlbW92ZUF0dHJpYnV0ZShuLGUpfX19Y2xhc3MgRWd7Y29uc3RydWN0b3IodD17fSl7dGhpcy5fc3BsaXRQYXJ0cz1uZXcgTWFwO3RoaXMuX21vZGVsQ3Vyc29yPW51bGw7dGhpcy5jb252ZXJzaW9uQXBpPU9iamVjdC5hc3NpZ24oe30sdCk7dGhpcy5jb252ZXJzaW9uQXBpLmNvbnZlcnRJdGVtPXRoaXMuX2NvbnZlcnRJdGVtLmJpbmQodGhpcyk7dGhpcy5jb252ZXJzaW9uQXBpLmNvbnZlcnRDaGlsZHJlbj10aGlzLl9jb252ZXJ0Q2hpbGRyZW4uYmluZCh0aGlzKTt0aGlzLmNvbnZlcnNpb25BcGkuc3BsaXRUb0FsbG93ZWRQYXJlbnQ9dGhpcy5fc3BsaXRUb0FsbG93ZWRQYXJlbnQuYmluZCh0aGlzKTt0aGlzLmNvbnZlcnNpb25BcGkuZ2V0U3BsaXRQYXJ0cz10aGlzLl9nZXRTcGxpdFBhcnRzLmJpbmQodGhpcyl9Y29udmVydCh0LGUsaT1bXCIkcm9vdFwiXSl7dGhpcy5maXJlKFwidmlld0NsZWFudXBcIix0KTt0aGlzLl9tb2RlbEN1cnNvcj1PZyhpLGUpO3RoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9ZTt0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZT1sZy5jcmVhdGVGcm9tKHQpO3RoaXMuY29udmVyc2lvbkFwaS5zdG9yZT17fTtjb25zdHttb2RlbFJhbmdlOm59PXRoaXMuX2NvbnZlcnRJdGVtKHQsdGhpcy5fbW9kZWxDdXJzb3IpO2NvbnN0IG89ZS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYobil7dGhpcy5fcmVtb3ZlRW1wdHlFbGVtZW50cygpO2Zvcihjb25zdCB0IG9mIEFycmF5LmZyb20odGhpcy5fbW9kZWxDdXJzb3IucGFyZW50LmdldENoaWxkcmVuKCkpKXtlLmFwcGVuZCh0LG8pfW8ubWFya2Vycz1SZyhvLGUpfXRoaXMuX21vZGVsQ3Vyc29yPW51bGw7dGhpcy5fc3BsaXRQYXJ0cy5jbGVhcigpO3RoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9bnVsbDt0aGlzLmNvbnZlcnNpb25BcGkuc3RvcmU9bnVsbDtyZXR1cm4gb31fY29udmVydEl0ZW0odCxlKXtjb25zdCBpPU9iamVjdC5hc3NpZ24oe3ZpZXdJdGVtOnQsbW9kZWxDdXJzb3I6ZSxtb2RlbFJhbmdlOm51bGx9KTtpZih0LmlzKFwiZWxlbWVudFwiKSl7dGhpcy5maXJlKFwiZWxlbWVudDpcIit0Lm5hbWUsaSx0aGlzLmNvbnZlcnNpb25BcGkpfWVsc2UgaWYodC5pcyhcInRleHRcIikpe3RoaXMuZmlyZShcInRleHRcIixpLHRoaXMuY29udmVyc2lvbkFwaSl9ZWxzZXt0aGlzLmZpcmUoXCJkb2N1bWVudEZyYWdtZW50XCIsaSx0aGlzLmNvbnZlcnNpb25BcGkpfWlmKGkubW9kZWxSYW5nZSYmIShpLm1vZGVsUmFuZ2UgaW5zdGFuY2VvZiAkaCkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ2aWV3LWNvbnZlcnNpb24tZGlzcGF0Y2hlci1pbmNvcnJlY3QtcmVzdWx0OiBJbmNvcnJlY3QgY29udmVyc2lvbiByZXN1bHQgd2FzIGRyb3BwZWQuXCIsdGhpcyl9cmV0dXJue21vZGVsUmFuZ2U6aS5tb2RlbFJhbmdlLG1vZGVsQ3Vyc29yOmkubW9kZWxDdXJzb3J9fV9jb252ZXJ0Q2hpbGRyZW4odCxlKXtjb25zdCBpPW5ldyAkaChlKTtsZXQgbj1lO2Zvcihjb25zdCBlIG9mIEFycmF5LmZyb20odC5nZXRDaGlsZHJlbigpKSl7Y29uc3QgdD10aGlzLl9jb252ZXJ0SXRlbShlLG4pO2lmKHQubW9kZWxSYW5nZSBpbnN0YW5jZW9mICRoKXtpLmVuZD10Lm1vZGVsUmFuZ2UuZW5kO249dC5tb2RlbEN1cnNvcn19cmV0dXJue21vZGVsUmFuZ2U6aSxtb2RlbEN1cnNvcjpufX1fc3BsaXRUb0FsbG93ZWRQYXJlbnQodCxlKXtjb25zdCBpPXRoaXMuY29udmVyc2lvbkFwaS5zY2hlbWEuZmluZEFsbG93ZWRQYXJlbnQoZSx0KTtpZighaSl7cmV0dXJuIG51bGx9aWYoaT09PWUucGFyZW50KXtyZXR1cm57cG9zaXRpb246ZX19aWYodGhpcy5fbW9kZWxDdXJzb3IucGFyZW50LmdldEFuY2VzdG9ycygpLmluY2x1ZGVzKGkpKXtyZXR1cm4gbnVsbH1jb25zdCBuPXRoaXMuY29udmVyc2lvbkFwaS53cml0ZXIuc3BsaXQoZSxpKTtjb25zdCBvPVtdO2Zvcihjb25zdCB0IG9mIG4ucmFuZ2UuZ2V0V2Fsa2VyKCkpe2lmKHQudHlwZT09XCJlbGVtZW50RW5kXCIpe28ucHVzaCh0Lml0ZW0pfWVsc2V7Y29uc3QgZT1vLnBvcCgpO2NvbnN0IGk9dC5pdGVtO3RoaXMuX3JlZ2lzdGVyU3BsaXRQYWlyKGUsaSl9fXJldHVybntwb3NpdGlvbjpuLnBvc2l0aW9uLGN1cnNvclBhcmVudDpuLnJhbmdlLmVuZC5wYXJlbnR9fV9yZWdpc3RlclNwbGl0UGFpcih0LGUpe2lmKCF0aGlzLl9zcGxpdFBhcnRzLmhhcyh0KSl7dGhpcy5fc3BsaXRQYXJ0cy5zZXQodCxbdF0pfWNvbnN0IGk9dGhpcy5fc3BsaXRQYXJ0cy5nZXQodCk7dGhpcy5fc3BsaXRQYXJ0cy5zZXQoZSxpKTtpLnB1c2goZSl9X2dldFNwbGl0UGFydHModCl7bGV0IGU7aWYoIXRoaXMuX3NwbGl0UGFydHMuaGFzKHQpKXtlPVt0XX1lbHNle2U9dGhpcy5fc3BsaXRQYXJ0cy5nZXQodCl9cmV0dXJuIGV9X3JlbW92ZUVtcHR5RWxlbWVudHMoKXtsZXQgdD1mYWxzZTtmb3IoY29uc3QgZSBvZiB0aGlzLl9zcGxpdFBhcnRzLmtleXMoKSl7aWYoZS5pc0VtcHR5KXt0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyLnJlbW92ZShlKTt0aGlzLl9zcGxpdFBhcnRzLmRlbGV0ZShlKTt0PXRydWV9fWlmKHQpe3RoaXMuX3JlbW92ZUVtcHR5RWxlbWVudHMoKX19fXZzKEVnLGRzKTtmdW5jdGlvbiBSZyh0LGUpe2NvbnN0IGk9bmV3IFNldDtjb25zdCBuPW5ldyBNYXA7Y29uc3Qgbz0kaC5fY3JlYXRlSW4odCkuZ2V0SXRlbXMoKTtmb3IoY29uc3QgdCBvZiBvKXtpZih0Lm5hbWU9PVwiJG1hcmtlclwiKXtpLmFkZCh0KX19Zm9yKGNvbnN0IHQgb2YgaSl7Y29uc3QgaT10LmdldEF0dHJpYnV0ZShcImRhdGEtbmFtZVwiKTtjb25zdCBvPWUuY3JlYXRlUG9zaXRpb25CZWZvcmUodCk7aWYoIW4uaGFzKGkpKXtuLnNldChpLG5ldyAkaChvLmNsb25lKCkpKX1lbHNle24uZ2V0KGkpLmVuZD1vLmNsb25lKCl9ZS5yZW1vdmUodCl9cmV0dXJuIG59ZnVuY3Rpb24gT2codCxlKXtsZXQgaTtmb3IoY29uc3QgbiBvZiBuZXcgaGcodCkpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IGUgb2Ygbi5nZXRBdHRyaWJ1dGVLZXlzKCkpe3RbZV09bi5nZXRBdHRyaWJ1dGUoZSl9Y29uc3Qgbz1lLmNyZWF0ZUVsZW1lbnQobi5uYW1lLHQpO2lmKGkpe2UuYXBwZW5kKG8saSl9aT1VaC5fY3JlYXRlQXQobywwKX1yZXR1cm4gaX1jbGFzcyBJZ3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMubW9kZWw9dDt0aGlzLnN0eWxlc1Byb2Nlc3Nvcj1lO3RoaXMucHJvY2Vzc29yO3RoaXMubWFwcGVyPW5ldyBHaDt0aGlzLmRvd25jYXN0RGlzcGF0Y2hlcj1uZXcgWWgoe21hcHBlcjp0aGlzLm1hcHBlcn0pO3RoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiaW5zZXJ0OiR0ZXh0XCIsX2YoKSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pO3RoaXMudXBjYXN0RGlzcGF0Y2hlcj1uZXcgRWcoe3NjaGVtYTp0LnNjaGVtYX0pO3RoaXMudmlld0RvY3VtZW50PW5ldyBwbChlKTt0aGlzLl92aWV3V3JpdGVyPW5ldyAkbCh0aGlzLnZpZXdEb2N1bWVudCk7dGhpcy51cGNhc3REaXNwYXRjaGVyLm9uKFwidGV4dFwiLCRmKCkse3ByaW9yaXR5OlwibG93ZXN0XCJ9KTt0aGlzLnVwY2FzdERpc3BhdGNoZXIub24oXCJlbGVtZW50XCIsVWYoKSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pO3RoaXMudXBjYXN0RGlzcGF0Y2hlci5vbihcImRvY3VtZW50RnJhZ21lbnRcIixVZigpLHtwcmlvcml0eTpcImxvd2VzdFwifSk7dGhpcy5kZWNvcmF0ZShcImluaXRcIik7dGhpcy5vbihcImluaXRcIiwoKT0+e3RoaXMuZmlyZShcInJlYWR5XCIpfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pfWdldCh0KXtjb25zdHtyb290TmFtZTplPVwibWFpblwiLHRyaW06aT1cImVtcHR5XCJ9PXR8fHt9O2lmKCF0aGlzLl9jaGVja0lmUm9vdHNFeGlzdHMoW2VdKSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcImRhdGFjb250cm9sbGVyLWdldC1ub24tZXhpc3RlbnQtcm9vdDogQXR0ZW1wdGluZyB0byBnZXQgZGF0YSBmcm9tIGEgbm9uLWV4aXN0aW5nIHJvb3QuXCIsdGhpcyl9Y29uc3Qgbj10aGlzLm1vZGVsLmRvY3VtZW50LmdldFJvb3QoZSk7aWYoaT09PVwiZW1wdHlcIiYmIXRoaXMubW9kZWwuaGFzQ29udGVudChuLHtpZ25vcmVXaGl0ZXNwYWNlczp0cnVlfSkpe3JldHVyblwiXCJ9cmV0dXJuIHRoaXMuc3RyaW5naWZ5KG4pfXN0cmluZ2lmeSh0KXtjb25zdCBlPXRoaXMudG9WaWV3KHQpO3JldHVybiB0aGlzLnByb2Nlc3Nvci50b0RhdGEoZSl9dG9WaWV3KHQpe2NvbnN0IGU9dGhpcy52aWV3RG9jdW1lbnQ7Y29uc3QgaT10aGlzLl92aWV3V3JpdGVyO3RoaXMubWFwcGVyLmNsZWFyQmluZGluZ3MoKTtjb25zdCBuPSRoLl9jcmVhdGVJbih0KTtjb25zdCBvPW5ldyBxbChlKTt0aGlzLm1hcHBlci5iaW5kRWxlbWVudHModCxvKTt0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5jb252ZXJ0SW5zZXJ0KG4saSk7aWYoIXQuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpKXtjb25zdCBlPVZnKHQpO2Zvcihjb25zdFt0LG5db2YgZSl7dGhpcy5kb3duY2FzdERpc3BhdGNoZXIuY29udmVydE1hcmtlckFkZCh0LG4saSl9fXJldHVybiBvfWluaXQodCl7aWYodGhpcy5tb2RlbC5kb2N1bWVudC52ZXJzaW9uKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwiZGF0YWNvbnRyb2xsZXItaW5pdC1kb2N1bWVudC1ub3QtZW1wdHk6IFRyeWluZyB0byBzZXQgaW5pdGlhbCBkYXRhIHRvIG5vdCBlbXB0eSBkb2N1bWVudC5cIix0aGlzKX1sZXQgZT17fTtpZih0eXBlb2YgdD09PVwic3RyaW5nXCIpe2UubWFpbj10fWVsc2V7ZT10fWlmKCF0aGlzLl9jaGVja0lmUm9vdHNFeGlzdHMoT2JqZWN0LmtleXMoZSkpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwiZGF0YWNvbnRyb2xsZXItaW5pdC1ub24tZXhpc3RlbnQtcm9vdDogQXR0ZW1wdGluZyB0byBpbml0IGRhdGEgb24gYSBub24tZXhpc3Rpbmcgcm9vdC5cIix0aGlzKX10aGlzLm1vZGVsLmVucXVldWVDaGFuZ2UoXCJ0cmFuc3BhcmVudFwiLHQ9Pntmb3IoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhlKSl7Y29uc3Qgbj10aGlzLm1vZGVsLmRvY3VtZW50LmdldFJvb3QoaSk7dC5pbnNlcnQodGhpcy5wYXJzZShlW2ldLG4pLG4sMCl9fSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfXNldCh0KXtsZXQgZT17fTtpZih0eXBlb2YgdD09PVwic3RyaW5nXCIpe2UubWFpbj10fWVsc2V7ZT10fWlmKCF0aGlzLl9jaGVja0lmUm9vdHNFeGlzdHMoT2JqZWN0LmtleXMoZSkpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwiZGF0YWNvbnRyb2xsZXItc2V0LW5vbi1leGlzdGVudC1yb290OiBBdHRlbXB0aW5nIHRvIHNldCBkYXRhIG9uIGEgbm9uLWV4aXN0aW5nIHJvb3QuXCIsdGhpcyl9dGhpcy5tb2RlbC5lbnF1ZXVlQ2hhbmdlKFwidHJhbnNwYXJlbnRcIix0PT57dC5zZXRTZWxlY3Rpb24obnVsbCk7dC5yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUodGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0QXR0cmlidXRlS2V5cygpKTtmb3IoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhlKSl7Y29uc3Qgbj10aGlzLm1vZGVsLmRvY3VtZW50LmdldFJvb3QoaSk7dC5yZW1vdmUodC5jcmVhdGVSYW5nZUluKG4pKTt0Lmluc2VydCh0aGlzLnBhcnNlKGVbaV0sbiksbiwwKX19KX1wYXJzZSh0LGU9XCIkcm9vdFwiKXtjb25zdCBpPXRoaXMucHJvY2Vzc29yLnRvVmlldyh0KTtyZXR1cm4gdGhpcy50b01vZGVsKGksZSl9dG9Nb2RlbCh0LGU9XCIkcm9vdFwiKXtyZXR1cm4gdGhpcy5tb2RlbC5jaGFuZ2UoaT0+dGhpcy51cGNhc3REaXNwYXRjaGVyLmNvbnZlcnQodCxpLGUpKX1hZGRTdHlsZVByb2Nlc3NvclJ1bGVzKHQpe3QodGhpcy5zdHlsZXNQcm9jZXNzb3IpfWRlc3Ryb3koKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKX1fY2hlY2tJZlJvb3RzRXhpc3RzKHQpe2Zvcihjb25zdCBlIG9mIHQpe2lmKCF0aGlzLm1vZGVsLmRvY3VtZW50LmdldFJvb3ROYW1lcygpLmluY2x1ZGVzKGUpKXtyZXR1cm4gZmFsc2V9fXJldHVybiB0cnVlfX12cyhJZyxKYyk7ZnVuY3Rpb24gVmcodCl7Y29uc3QgZT1bXTtjb25zdCBpPXQucm9vdC5kb2N1bWVudDtpZighaSl7cmV0dXJuW119Y29uc3Qgbj0kaC5fY3JlYXRlSW4odCk7Zm9yKGNvbnN0IHQgb2YgaS5tb2RlbC5tYXJrZXJzKXtjb25zdCBpPW4uZ2V0SW50ZXJzZWN0aW9uKHQuZ2V0UmFuZ2UoKSk7aWYoaSl7ZS5wdXNoKFt0Lm5hbWUsaV0pfX1yZXR1cm4gZX1jbGFzcyBOZ3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX2hlbHBlcnM9bmV3IE1hcDt0aGlzLl9kb3duY2FzdD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO3RoaXMuX2NyZWF0ZUNvbnZlcnNpb25IZWxwZXJzKHtuYW1lOlwiZG93bmNhc3RcIixkaXNwYXRjaGVyczp0aGlzLl9kb3duY2FzdCxpc0Rvd25jYXN0OnRydWV9KTt0aGlzLl91cGNhc3Q9QXJyYXkuaXNBcnJheShlKT9lOltlXTt0aGlzLl9jcmVhdGVDb252ZXJzaW9uSGVscGVycyh7bmFtZTpcInVwY2FzdFwiLGRpc3BhdGNoZXJzOnRoaXMuX3VwY2FzdCxpc0Rvd25jYXN0OmZhbHNlfSl9YWRkQWxpYXModCxlKXtjb25zdCBpPXRoaXMuX2Rvd25jYXN0LmluY2x1ZGVzKGUpO2NvbnN0IG49dGhpcy5fdXBjYXN0LmluY2x1ZGVzKGUpO2lmKCFuJiYhaSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcImNvbnZlcnNpb24tYWRkLWFsaWFzLWRpc3BhdGNoZXItbm90LXJlZ2lzdGVyZWQ6IFwiK1wiVHJ5aW5nIHRvIHJlZ2lzdGVyIGFuZCBhbGlhcyBmb3IgYSBkaXNwYXRjaGVyIHRoYXQgbmFzIG5vdCBiZWVuIHJlZ2lzdGVyZWQuXCIsdGhpcyl9dGhpcy5fY3JlYXRlQ29udmVyc2lvbkhlbHBlcnMoe25hbWU6dCxkaXNwYXRjaGVyczpbZV0saXNEb3duY2FzdDppfSl9Zm9yKHQpe2lmKCF0aGlzLl9oZWxwZXJzLmhhcyh0KSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcImNvbnZlcnNpb24tZm9yLXVua25vd24tZ3JvdXA6IFRyeWluZyB0byBhZGQgYSBjb252ZXJ0ZXIgdG8gYW4gdW5rbm93biBkaXNwYXRjaGVycyBncm91cC5cIix0aGlzKX1yZXR1cm4gdGhpcy5faGVscGVycy5nZXQodCl9ZWxlbWVudFRvRWxlbWVudCh0KXt0aGlzLmZvcihcImRvd25jYXN0XCIpLmVsZW1lbnRUb0VsZW1lbnQodCk7Zm9yKGNvbnN0e21vZGVsOmUsdmlldzppfW9mIE1nKHQpKXt0aGlzLmZvcihcInVwY2FzdFwiKS5lbGVtZW50VG9FbGVtZW50KHttb2RlbDplLHZpZXc6aSxjb252ZXJ0ZXJQcmlvcml0eTp0LmNvbnZlcnRlclByaW9yaXR5fSl9fWF0dHJpYnV0ZVRvRWxlbWVudCh0KXt0aGlzLmZvcihcImRvd25jYXN0XCIpLmF0dHJpYnV0ZVRvRWxlbWVudCh0KTtmb3IoY29uc3R7bW9kZWw6ZSx2aWV3Oml9b2YgTWcodCkpe3RoaXMuZm9yKFwidXBjYXN0XCIpLmVsZW1lbnRUb0F0dHJpYnV0ZSh7dmlldzppLG1vZGVsOmUsY29udmVydGVyUHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eX0pfX1hdHRyaWJ1dGVUb0F0dHJpYnV0ZSh0KXt0aGlzLmZvcihcImRvd25jYXN0XCIpLmF0dHJpYnV0ZVRvQXR0cmlidXRlKHQpO2Zvcihjb25zdHttb2RlbDplLHZpZXc6aX1vZiBNZyh0KSl7dGhpcy5mb3IoXCJ1cGNhc3RcIikuYXR0cmlidXRlVG9BdHRyaWJ1dGUoe3ZpZXc6aSxtb2RlbDplfSl9fV9jcmVhdGVDb252ZXJzaW9uSGVscGVycyh7bmFtZTp0LGRpc3BhdGNoZXJzOmUsaXNEb3duY2FzdDppfSl7aWYodGhpcy5faGVscGVycy5oYXModCkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJjb252ZXJzaW9uLWdyb3VwLWV4aXN0czogVHJ5aW5nIHRvIHJlZ2lzdGVyIGEgZ3JvdXAgbmFtZSB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZC5cIix0aGlzKX1jb25zdCBuPWk/bmV3IGtmKGUpOm5ldyBxZihlKTt0aGlzLl9oZWxwZXJzLnNldCh0LG4pfX1mdW5jdGlvbipNZyh0KXtpZih0Lm1vZGVsLnZhbHVlcyl7Zm9yKGNvbnN0IGUgb2YgdC5tb2RlbC52YWx1ZXMpe2NvbnN0IGk9e2tleTp0Lm1vZGVsLmtleSx2YWx1ZTplfTtjb25zdCBuPXQudmlld1tlXTtjb25zdCBvPXQudXBjYXN0QWxzbz90LnVwY2FzdEFsc29bZV06dW5kZWZpbmVkO3lpZWxkKkJnKGksbixvKX19ZWxzZXt5aWVsZCpCZyh0Lm1vZGVsLHQudmlldyx0LnVwY2FzdEFsc28pfX1mdW5jdGlvbipCZyh0LGUsaSl7eWllbGR7bW9kZWw6dCx2aWV3OmV9O2lmKGkpe2k9QXJyYXkuaXNBcnJheShpKT9pOltpXTtmb3IoY29uc3QgZSBvZiBpKXt5aWVsZHttb2RlbDp0LHZpZXc6ZX19fX1jbGFzcyB6Z3tjb25zdHJ1Y3Rvcih0PVwiZGVmYXVsdFwiKXt0aGlzLm9wZXJhdGlvbnM9W107dGhpcy50eXBlPXR9Z2V0IGJhc2VWZXJzaW9uKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5vcGVyYXRpb25zKXtpZih0LmJhc2VWZXJzaW9uIT09bnVsbCl7cmV0dXJuIHQuYmFzZVZlcnNpb259fXJldHVybiBudWxsfWFkZE9wZXJhdGlvbih0KXt0LmJhdGNoPXRoaXM7dGhpcy5vcGVyYXRpb25zLnB1c2godCk7cmV0dXJuIHR9fWNsYXNzIExne2NvbnN0cnVjdG9yKHQpe3RoaXMuYmFzZVZlcnNpb249dDt0aGlzLmlzRG9jdW1lbnRPcGVyYXRpb249dGhpcy5iYXNlVmVyc2lvbiE9PW51bGw7dGhpcy5iYXRjaD1udWxsfV92YWxpZGF0ZSgpe310b0pTT04oKXtjb25zdCB0PU9iamVjdC5hc3NpZ24oe30sdGhpcyk7dC5fX2NsYXNzTmFtZT10aGlzLmNvbnN0cnVjdG9yLmNsYXNzTmFtZTtkZWxldGUgdC5iYXRjaDtkZWxldGUgdC5pc0RvY3VtZW50T3BlcmF0aW9uO3JldHVybiB0fXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJPcGVyYXRpb25cIn1zdGF0aWMgZnJvbUpTT04odCl7cmV0dXJuIG5ldyB0aGlzKHQuYmFzZVZlcnNpb24pfX1jbGFzcyBGZ3tjb25zdHJ1Y3Rvcih0KXt0aGlzLm1hcmtlcnM9bmV3IE1hcDt0aGlzLl9jaGlsZHJlbj1uZXcgRGg7aWYodCl7dGhpcy5faW5zZXJ0Q2hpbGQoMCx0KX19W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5nZXRDaGlsZHJlbigpfWdldCBjaGlsZENvdW50KCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmxlbmd0aH1nZXQgbWF4T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLm1heE9mZnNldH1nZXQgaXNFbXB0eSgpe3JldHVybiB0aGlzLmNoaWxkQ291bnQ9PT0wfWdldCByb290KCl7cmV0dXJuIHRoaXN9Z2V0IHBhcmVudCgpe3JldHVybiBudWxsfWlzKHQpe3JldHVybiB0PT1cImRvY3VtZW50RnJhZ21lbnRcInx8dD09XCJtb2RlbDpkb2N1bWVudEZyYWdtZW50XCJ9Z2V0Q2hpbGQodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldE5vZGUodCl9Z2V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpfWdldENoaWxkSW5kZXgodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldE5vZGVJbmRleCh0KX1nZXRDaGlsZFN0YXJ0T2Zmc2V0KHQpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlU3RhcnRPZmZzZXQodCl9Z2V0UGF0aCgpe3JldHVybltdfWdldE5vZGVCeVBhdGgodCl7bGV0IGU9dGhpcztmb3IoY29uc3QgaSBvZiB0KXtlPWUuZ2V0Q2hpbGQoZS5vZmZzZXRUb0luZGV4KGkpKX1yZXR1cm4gZX1vZmZzZXRUb0luZGV4KHQpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5vZmZzZXRUb0luZGV4KHQpfXRvSlNPTigpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5fY2hpbGRyZW4pe3QucHVzaChlLnRvSlNPTigpKX1yZXR1cm4gdH1zdGF0aWMgZnJvbUpTT04odCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgaSBvZiB0KXtpZihpLm5hbWUpe2UucHVzaChqaC5mcm9tSlNPTihpKSl9ZWxzZXtlLnB1c2goTGguZnJvbUpTT04oaSkpfX1yZXR1cm4gbmV3IEZnKGUpfV9hcHBlbmRDaGlsZCh0KXt0aGlzLl9pbnNlcnRDaGlsZCh0aGlzLmNoaWxkQ291bnQsdCl9X2luc2VydENoaWxkKHQsZSl7Y29uc3QgaT1EZyhlKTtmb3IoY29uc3QgdCBvZiBpKXtpZih0LnBhcmVudCE9PW51bGwpe3QuX3JlbW92ZSgpfXQucGFyZW50PXRoaXN9dGhpcy5fY2hpbGRyZW4uX2luc2VydE5vZGVzKHQsaSl9X3JlbW92ZUNoaWxkcmVuKHQsZT0xKXtjb25zdCBpPXRoaXMuX2NoaWxkcmVuLl9yZW1vdmVOb2Rlcyh0LGUpO2Zvcihjb25zdCB0IG9mIGkpe3QucGFyZW50PW51bGx9cmV0dXJuIGl9fWZ1bmN0aW9uIERnKHQpe2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXtyZXR1cm5bbmV3IExoKHQpXX1pZighanModCkpe3Q9W3RdfXJldHVybiBBcnJheS5mcm9tKHQpLm1hcCh0PT57aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpe3JldHVybiBuZXcgTGgodCl9aWYodCBpbnN0YW5jZW9mIEZoKXtyZXR1cm4gbmV3IExoKHQuZGF0YSx0LmdldEF0dHJpYnV0ZXMoKSl9cmV0dXJuIHR9KX1mdW5jdGlvbiBqZyh0LGUpe2U9VWcoZSk7Y29uc3QgaT1lLnJlZHVjZSgodCxlKT0+dCtlLm9mZnNldFNpemUsMCk7Y29uc3Qgbj10LnBhcmVudDtHZyh0KTtjb25zdCBvPXQuaW5kZXg7bi5faW5zZXJ0Q2hpbGQobyxlKTskZyhuLG8rZS5sZW5ndGgpOyRnKG4sbyk7cmV0dXJuIG5ldyAkaCh0LHQuZ2V0U2hpZnRlZEJ5KGkpKX1mdW5jdGlvbiBIZyh0KXtpZighdC5pc0ZsYXQpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJvcGVyYXRpb24tdXRpbHMtcmVtb3ZlLXJhbmdlLW5vdC1mbGF0OiBcIitcIlRyeWluZyB0byByZW1vdmUgYSByYW5nZSB3aGljaCBzdGFydHMgYW5kIGVuZHMgaW4gZGlmZmVyZW50IGVsZW1lbnQuXCIsdGhpcyl9Y29uc3QgZT10LnN0YXJ0LnBhcmVudDtHZyh0LnN0YXJ0KTtHZyh0LmVuZCk7Y29uc3QgaT1lLl9yZW1vdmVDaGlsZHJlbih0LnN0YXJ0LmluZGV4LHQuZW5kLmluZGV4LXQuc3RhcnQuaW5kZXgpOyRnKGUsdC5zdGFydC5pbmRleCk7cmV0dXJuIGl9ZnVuY3Rpb24gV2codCxlKXtpZighdC5pc0ZsYXQpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJvcGVyYXRpb24tdXRpbHMtbW92ZS1yYW5nZS1ub3QtZmxhdDogXCIrXCJUcnlpbmcgdG8gbW92ZSBhIHJhbmdlIHdoaWNoIHN0YXJ0cyBhbmQgZW5kcyBpbiBkaWZmZXJlbnQgZWxlbWVudC5cIix0aGlzKX1jb25zdCBpPUhnKHQpO2U9ZS5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQuc3RhcnQsdC5lbmQub2Zmc2V0LXQuc3RhcnQub2Zmc2V0KTtyZXR1cm4gamcoZSxpKX1mdW5jdGlvbiBxZyh0LGUsaSl7R2codC5zdGFydCk7R2codC5lbmQpO2Zvcihjb25zdCBuIG9mIHQuZ2V0SXRlbXMoe3NoYWxsb3c6dHJ1ZX0pKXtjb25zdCB0PW4uaXMoXCJ0ZXh0UHJveHlcIik/bi50ZXh0Tm9kZTpuO2lmKGkhPT1udWxsKXt0Ll9zZXRBdHRyaWJ1dGUoZSxpKX1lbHNle3QuX3JlbW92ZUF0dHJpYnV0ZShlKX0kZyh0LnBhcmVudCx0LmluZGV4KX0kZyh0LmVuZC5wYXJlbnQsdC5lbmQuaW5kZXgpfWZ1bmN0aW9uIFVnKHQpe2NvbnN0IGU9W107aWYoISh0IGluc3RhbmNlb2YgQXJyYXkpKXt0PVt0XX1mb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7aWYodHlwZW9mIHRbaV09PVwic3RyaW5nXCIpe2UucHVzaChuZXcgTGgodFtpXSkpfWVsc2UgaWYodFtpXWluc3RhbmNlb2YgRmgpe2UucHVzaChuZXcgTGgodFtpXS5kYXRhLHRbaV0uZ2V0QXR0cmlidXRlcygpKSl9ZWxzZSBpZih0W2ldaW5zdGFuY2VvZiBGZ3x8dFtpXWluc3RhbmNlb2YgRGgpe2Zvcihjb25zdCBuIG9mIHRbaV0pe2UucHVzaChuKX19ZWxzZSBpZih0W2ldaW5zdGFuY2VvZiB6aCl7ZS5wdXNoKHRbaV0pfX1mb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKyl7Y29uc3QgaT1lW3RdO2NvbnN0IG49ZVt0LTFdO2lmKGkgaW5zdGFuY2VvZiBMaCYmbiBpbnN0YW5jZW9mIExoJiZLZyhpLG4pKXtlLnNwbGljZSh0LTEsMixuZXcgTGgobi5kYXRhK2kuZGF0YSxuLmdldEF0dHJpYnV0ZXMoKSkpO3QtLX19cmV0dXJuIGV9ZnVuY3Rpb24gJGcodCxlKXtjb25zdCBpPXQuZ2V0Q2hpbGQoZS0xKTtjb25zdCBuPXQuZ2V0Q2hpbGQoZSk7aWYoaSYmbiYmaS5pcyhcInRleHRcIikmJm4uaXMoXCJ0ZXh0XCIpJiZLZyhpLG4pKXtjb25zdCBvPW5ldyBMaChpLmRhdGErbi5kYXRhLGkuZ2V0QXR0cmlidXRlcygpKTt0Ll9yZW1vdmVDaGlsZHJlbihlLTEsMik7dC5faW5zZXJ0Q2hpbGQoZS0xLG8pfX1mdW5jdGlvbiBHZyh0KXtjb25zdCBlPXQudGV4dE5vZGU7Y29uc3QgaT10LnBhcmVudDtpZihlKXtjb25zdCBuPXQub2Zmc2V0LWUuc3RhcnRPZmZzZXQ7Y29uc3Qgbz1lLmluZGV4O2kuX3JlbW92ZUNoaWxkcmVuKG8sMSk7Y29uc3Qgcj1uZXcgTGgoZS5kYXRhLnN1YnN0cigwLG4pLGUuZ2V0QXR0cmlidXRlcygpKTtjb25zdCBzPW5ldyBMaChlLmRhdGEuc3Vic3RyKG4pLGUuZ2V0QXR0cmlidXRlcygpKTtpLl9pbnNlcnRDaGlsZChvLFtyLHNdKX19ZnVuY3Rpb24gS2codCxlKXtjb25zdCBpPXQuZ2V0QXR0cmlidXRlcygpO2NvbnN0IG49ZS5nZXRBdHRyaWJ1dGVzKCk7Zm9yKGNvbnN0IHQgb2YgaSl7aWYodFsxXSE9PWUuZ2V0QXR0cmlidXRlKHRbMF0pKXtyZXR1cm4gZmFsc2V9bi5uZXh0KCl9cmV0dXJuIG4ubmV4dCgpLmRvbmV9ZnVuY3Rpb24gSmcodCxlKXtyZXR1cm4gcXUodCxlKX12YXIgWWc9Smc7Y2xhc3MgUWcgZXh0ZW5kcyBMZ3tjb25zdHJ1Y3Rvcih0LGUsaSxuLG8pe3N1cGVyKG8pO3RoaXMucmFuZ2U9dC5jbG9uZSgpO3RoaXMua2V5PWU7dGhpcy5vbGRWYWx1ZT1pPT09dW5kZWZpbmVkP251bGw6aTt0aGlzLm5ld1ZhbHVlPW49PT11bmRlZmluZWQ/bnVsbDpufWdldCB0eXBlKCl7aWYodGhpcy5vbGRWYWx1ZT09PW51bGwpe3JldHVyblwiYWRkQXR0cmlidXRlXCJ9ZWxzZSBpZih0aGlzLm5ld1ZhbHVlPT09bnVsbCl7cmV0dXJuXCJyZW1vdmVBdHRyaWJ1dGVcIn1lbHNle3JldHVyblwiY2hhbmdlQXR0cmlidXRlXCJ9fWNsb25lKCl7cmV0dXJuIG5ldyBRZyh0aGlzLnJhbmdlLHRoaXMua2V5LHRoaXMub2xkVmFsdWUsdGhpcy5uZXdWYWx1ZSx0aGlzLmJhc2VWZXJzaW9uKX1nZXRSZXZlcnNlZCgpe3JldHVybiBuZXcgUWcodGhpcy5yYW5nZSx0aGlzLmtleSx0aGlzLm5ld1ZhbHVlLHRoaXMub2xkVmFsdWUsdGhpcy5iYXNlVmVyc2lvbisxKX10b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO3QucmFuZ2U9dGhpcy5yYW5nZS50b0pTT04oKTtyZXR1cm4gdH1fdmFsaWRhdGUoKXtpZighdGhpcy5yYW5nZS5pc0ZsYXQpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJhdHRyaWJ1dGUtb3BlcmF0aW9uLXJhbmdlLW5vdC1mbGF0OiBUaGUgcmFuZ2UgdG8gY2hhbmdlIGlzIG5vdCBmbGF0LlwiLHRoaXMpfWZvcihjb25zdCB0IG9mIHRoaXMucmFuZ2UuZ2V0SXRlbXMoe3NoYWxsb3c6dHJ1ZX0pKXtpZih0aGlzLm9sZFZhbHVlIT09bnVsbCYmIVlnKHQuZ2V0QXR0cmlidXRlKHRoaXMua2V5KSx0aGlzLm9sZFZhbHVlKSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcImF0dHJpYnV0ZS1vcGVyYXRpb24td3Jvbmctb2xkLXZhbHVlOiBDaGFuZ2VkIG5vZGUgaGFzIGRpZmZlcmVudCBhdHRyaWJ1dGUgdmFsdWUgdGhhbiBvcGVyYXRpb24ncyBcIitcIm9sZCBhdHRyaWJ1dGUgdmFsdWUuXCIsdGhpcyx7aXRlbTp0LGtleTp0aGlzLmtleSx2YWx1ZTp0aGlzLm9sZFZhbHVlfSl9aWYodGhpcy5vbGRWYWx1ZT09PW51bGwmJnRoaXMubmV3VmFsdWUhPT1udWxsJiZ0Lmhhc0F0dHJpYnV0ZSh0aGlzLmtleSkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJhdHRyaWJ1dGUtb3BlcmF0aW9uLWF0dHJpYnV0ZS1leGlzdHM6IFRoZSBhdHRyaWJ1dGUgd2l0aCBnaXZlbiBrZXkgYWxyZWFkeSBleGlzdHMuXCIsdGhpcyx7bm9kZTp0LGtleTp0aGlzLmtleX0pfX19X2V4ZWN1dGUoKXtpZighWWcodGhpcy5vbGRWYWx1ZSx0aGlzLm5ld1ZhbHVlKSl7cWcodGhpcy5yYW5nZSx0aGlzLmtleSx0aGlzLm5ld1ZhbHVlKX19c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIkF0dHJpYnV0ZU9wZXJhdGlvblwifXN0YXRpYyBmcm9tSlNPTih0LGUpe3JldHVybiBuZXcgUWcoJGguZnJvbUpTT04odC5yYW5nZSxlKSx0LmtleSx0Lm9sZFZhbHVlLHQubmV3VmFsdWUsdC5iYXNlVmVyc2lvbil9fWNsYXNzIFhnIGV4dGVuZHMgTGd7Y29uc3RydWN0b3IodCxlKXtzdXBlcihudWxsKTt0aGlzLnNvdXJjZVBvc2l0aW9uPXQuY2xvbmUoKTt0aGlzLmhvd01hbnk9ZX1nZXQgdHlwZSgpe3JldHVyblwiZGV0YWNoXCJ9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTt0LnNvdXJjZVBvc2l0aW9uPXRoaXMuc291cmNlUG9zaXRpb24udG9KU09OKCk7cmV0dXJuIHR9X3ZhbGlkYXRlKCl7aWYodGhpcy5zb3VyY2VQb3NpdGlvbi5yb290LmRvY3VtZW50KXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwiZGV0YWNoLW9wZXJhdGlvbi1vbi1kb2N1bWVudC1ub2RlOiBDYW5ub3QgZGV0YWNoIGRvY3VtZW50IG5vZGUuXCIsdGhpcyl9fV9leGVjdXRlKCl7SGcoJGguX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHRoaXMuc291cmNlUG9zaXRpb24sdGhpcy5ob3dNYW55KSl9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIkRldGFjaE9wZXJhdGlvblwifX1jbGFzcyBaZyBleHRlbmRzIExne2NvbnN0cnVjdG9yKHQsZSxpLG4pe3N1cGVyKG4pO3RoaXMuc291cmNlUG9zaXRpb249dC5jbG9uZSgpO3RoaXMuc291cmNlUG9zaXRpb24uc3RpY2tpbmVzcz1cInRvTmV4dFwiO3RoaXMuaG93TWFueT1lO3RoaXMudGFyZ2V0UG9zaXRpb249aS5jbG9uZSgpO3RoaXMudGFyZ2V0UG9zaXRpb24uc3RpY2tpbmVzcz1cInRvTm9uZVwifWdldCB0eXBlKCl7aWYodGhpcy50YXJnZXRQb3NpdGlvbi5yb290LnJvb3ROYW1lPT1cIiRncmF2ZXlhcmRcIil7cmV0dXJuXCJyZW1vdmVcIn1lbHNlIGlmKHRoaXMuc291cmNlUG9zaXRpb24ucm9vdC5yb290TmFtZT09XCIkZ3JhdmV5YXJkXCIpe3JldHVyblwicmVpbnNlcnRcIn1yZXR1cm5cIm1vdmVcIn1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnNvdXJjZVBvc2l0aW9uLHRoaXMuaG93TWFueSx0aGlzLnRhcmdldFBvc2l0aW9uLHRoaXMuYmFzZVZlcnNpb24pfWdldE1vdmVkUmFuZ2VTdGFydCgpe3JldHVybiB0aGlzLnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odGhpcy5zb3VyY2VQb3NpdGlvbix0aGlzLmhvd01hbnkpfWdldFJldmVyc2VkKCl7Y29uc3QgdD10aGlzLnNvdXJjZVBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHRoaXMudGFyZ2V0UG9zaXRpb24sdGhpcy5ob3dNYW55KTtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5nZXRNb3ZlZFJhbmdlU3RhcnQoKSx0aGlzLmhvd01hbnksdCx0aGlzLmJhc2VWZXJzaW9uKzEpfV92YWxpZGF0ZSgpe2NvbnN0IHQ9dGhpcy5zb3VyY2VQb3NpdGlvbi5wYXJlbnQ7Y29uc3QgZT10aGlzLnRhcmdldFBvc2l0aW9uLnBhcmVudDtjb25zdCBpPXRoaXMuc291cmNlUG9zaXRpb24ub2Zmc2V0O2NvbnN0IG49dGhpcy50YXJnZXRQb3NpdGlvbi5vZmZzZXQ7aWYoaSt0aGlzLmhvd01hbnk+dC5tYXhPZmZzZXQpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJtb3ZlLW9wZXJhdGlvbi1ub2Rlcy1kby1ub3QtZXhpc3Q6IFRoZSBub2RlcyB3aGljaCBzaG91bGQgYmUgbW92ZWQgZG8gbm90IGV4aXN0LlwiLHRoaXMpfWVsc2UgaWYodD09PWUmJmk8biYmbjxpK3RoaXMuaG93TWFueSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIm1vdmUtb3BlcmF0aW9uLXJhbmdlLWludG8taXRzZWxmOiBUcnlpbmcgdG8gbW92ZSBhIHJhbmdlIG9mIG5vZGVzIHRvIHRoZSBpbnNpZGUgb2YgdGhhdCByYW5nZS5cIix0aGlzKX1lbHNlIGlmKHRoaXMuc291cmNlUG9zaXRpb24ucm9vdD09dGhpcy50YXJnZXRQb3NpdGlvbi5yb290KXtpZihWcyh0aGlzLnNvdXJjZVBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSx0aGlzLnRhcmdldFBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSk9PVwicHJlZml4XCIpe2NvbnN0IHQ9dGhpcy5zb3VyY2VQb3NpdGlvbi5wYXRoLmxlbmd0aC0xO2lmKHRoaXMudGFyZ2V0UG9zaXRpb24ucGF0aFt0XT49aSYmdGhpcy50YXJnZXRQb3NpdGlvbi5wYXRoW3RdPGkrdGhpcy5ob3dNYW55KXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibW92ZS1vcGVyYXRpb24tbm9kZS1pbnRvLWl0c2VsZjogVHJ5aW5nIHRvIG1vdmUgYSByYW5nZSBvZiBub2RlcyBpbnRvIG9uZSBvZiBub2RlcyBmcm9tIHRoYXQgcmFuZ2UuXCIsdGhpcyl9fX19X2V4ZWN1dGUoKXtXZygkaC5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodGhpcy5zb3VyY2VQb3NpdGlvbix0aGlzLmhvd01hbnkpLHRoaXMudGFyZ2V0UG9zaXRpb24pfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7dC5zb3VyY2VQb3NpdGlvbj10aGlzLnNvdXJjZVBvc2l0aW9uLnRvSlNPTigpO3QudGFyZ2V0UG9zaXRpb249dGhpcy50YXJnZXRQb3NpdGlvbi50b0pTT04oKTtyZXR1cm4gdH1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVyblwiTW92ZU9wZXJhdGlvblwifXN0YXRpYyBmcm9tSlNPTih0LGUpe2NvbnN0IGk9VWguZnJvbUpTT04odC5zb3VyY2VQb3NpdGlvbixlKTtjb25zdCBuPVVoLmZyb21KU09OKHQudGFyZ2V0UG9zaXRpb24sZSk7cmV0dXJuIG5ldyB0aGlzKGksdC5ob3dNYW55LG4sdC5iYXNlVmVyc2lvbil9fWNsYXNzIHRtIGV4dGVuZHMgTGd7Y29uc3RydWN0b3IodCxlLGkpe3N1cGVyKGkpO3RoaXMucG9zaXRpb249dC5jbG9uZSgpO3RoaXMucG9zaXRpb24uc3RpY2tpbmVzcz1cInRvTm9uZVwiO3RoaXMubm9kZXM9bmV3IERoKFVnKGUpKTt0aGlzLnNob3VsZFJlY2VpdmVBdHRyaWJ1dGVzPWZhbHNlfWdldCB0eXBlKCl7cmV0dXJuXCJpbnNlcnRcIn1nZXQgaG93TWFueSgpe3JldHVybiB0aGlzLm5vZGVzLm1heE9mZnNldH1jbG9uZSgpe2NvbnN0IHQ9bmV3IERoKFsuLi50aGlzLm5vZGVzXS5tYXAodD0+dC5fY2xvbmUodHJ1ZSkpKTtjb25zdCBlPW5ldyB0bSh0aGlzLnBvc2l0aW9uLHQsdGhpcy5iYXNlVmVyc2lvbik7ZS5zaG91bGRSZWNlaXZlQXR0cmlidXRlcz10aGlzLnNob3VsZFJlY2VpdmVBdHRyaWJ1dGVzO3JldHVybiBlfWdldFJldmVyc2VkKCl7Y29uc3QgdD10aGlzLnBvc2l0aW9uLnJvb3QuZG9jdW1lbnQuZ3JhdmV5YXJkO2NvbnN0IGU9bmV3IFVoKHQsWzBdKTtyZXR1cm4gbmV3IFpnKHRoaXMucG9zaXRpb24sdGhpcy5ub2Rlcy5tYXhPZmZzZXQsZSx0aGlzLmJhc2VWZXJzaW9uKzEpfV92YWxpZGF0ZSgpe2NvbnN0IHQ9dGhpcy5wb3NpdGlvbi5wYXJlbnQ7aWYoIXR8fHQubWF4T2Zmc2V0PHRoaXMucG9zaXRpb24ub2Zmc2V0KXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwiaW5zZXJ0LW9wZXJhdGlvbi1wb3NpdGlvbi1pbnZhbGlkOiBJbnNlcnRpb24gcG9zaXRpb24gaXMgaW52YWxpZC5cIix0aGlzKX19X2V4ZWN1dGUoKXtjb25zdCB0PXRoaXMubm9kZXM7dGhpcy5ub2Rlcz1uZXcgRGgoWy4uLnRdLm1hcCh0PT50Ll9jbG9uZSh0cnVlKSkpO2pnKHRoaXMucG9zaXRpb24sdCl9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTt0LnBvc2l0aW9uPXRoaXMucG9zaXRpb24udG9KU09OKCk7dC5ub2Rlcz10aGlzLm5vZGVzLnRvSlNPTigpO3JldHVybiB0fXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJJbnNlcnRPcGVyYXRpb25cIn1zdGF0aWMgZnJvbUpTT04odCxlKXtjb25zdCBpPVtdO2Zvcihjb25zdCBlIG9mIHQubm9kZXMpe2lmKGUubmFtZSl7aS5wdXNoKGpoLmZyb21KU09OKGUpKX1lbHNle2kucHVzaChMaC5mcm9tSlNPTihlKSl9fWNvbnN0IG49bmV3IHRtKFVoLmZyb21KU09OKHQucG9zaXRpb24sZSksaSx0LmJhc2VWZXJzaW9uKTtuLnNob3VsZFJlY2VpdmVBdHRyaWJ1dGVzPXQuc2hvdWxkUmVjZWl2ZUF0dHJpYnV0ZXM7cmV0dXJuIG59fWNsYXNzIGVtIGV4dGVuZHMgTGd7Y29uc3RydWN0b3IodCxlLGksbixvLHIpe3N1cGVyKHIpO3RoaXMubmFtZT10O3RoaXMub2xkUmFuZ2U9ZT9lLmNsb25lKCk6bnVsbDt0aGlzLm5ld1JhbmdlPWk/aS5jbG9uZSgpOm51bGw7dGhpcy5hZmZlY3RzRGF0YT1vO3RoaXMuX21hcmtlcnM9bn1nZXQgdHlwZSgpe3JldHVyblwibWFya2VyXCJ9Y2xvbmUoKXtyZXR1cm4gbmV3IGVtKHRoaXMubmFtZSx0aGlzLm9sZFJhbmdlLHRoaXMubmV3UmFuZ2UsdGhpcy5fbWFya2Vycyx0aGlzLmFmZmVjdHNEYXRhLHRoaXMuYmFzZVZlcnNpb24pfWdldFJldmVyc2VkKCl7cmV0dXJuIG5ldyBlbSh0aGlzLm5hbWUsdGhpcy5uZXdSYW5nZSx0aGlzLm9sZFJhbmdlLHRoaXMuX21hcmtlcnMsdGhpcy5hZmZlY3RzRGF0YSx0aGlzLmJhc2VWZXJzaW9uKzEpfV9leGVjdXRlKCl7Y29uc3QgdD10aGlzLm5ld1JhbmdlP1wiX3NldFwiOlwiX3JlbW92ZVwiO3RoaXMuX21hcmtlcnNbdF0odGhpcy5uYW1lLHRoaXMubmV3UmFuZ2UsdHJ1ZSx0aGlzLmFmZmVjdHNEYXRhKX10b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO2lmKHRoaXMub2xkUmFuZ2Upe3Qub2xkUmFuZ2U9dGhpcy5vbGRSYW5nZS50b0pTT04oKX1pZih0aGlzLm5ld1JhbmdlKXt0Lm5ld1JhbmdlPXRoaXMubmV3UmFuZ2UudG9KU09OKCl9ZGVsZXRlIHQuX21hcmtlcnM7cmV0dXJuIHR9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIk1hcmtlck9wZXJhdGlvblwifXN0YXRpYyBmcm9tSlNPTih0LGUpe3JldHVybiBuZXcgZW0odC5uYW1lLHQub2xkUmFuZ2U/JGguZnJvbUpTT04odC5vbGRSYW5nZSxlKTpudWxsLHQubmV3UmFuZ2U/JGguZnJvbUpTT04odC5uZXdSYW5nZSxlKTpudWxsLGUubW9kZWwubWFya2Vycyx0LmFmZmVjdHNEYXRhLHQuYmFzZVZlcnNpb24pfX1jbGFzcyBpbSBleHRlbmRzIExne2NvbnN0cnVjdG9yKHQsZSxpLG4pe3N1cGVyKG4pO3RoaXMucG9zaXRpb249dDt0aGlzLnBvc2l0aW9uLnN0aWNraW5lc3M9XCJ0b05leHRcIjt0aGlzLm9sZE5hbWU9ZTt0aGlzLm5ld05hbWU9aX1nZXQgdHlwZSgpe3JldHVyblwicmVuYW1lXCJ9Y2xvbmUoKXtyZXR1cm4gbmV3IGltKHRoaXMucG9zaXRpb24uY2xvbmUoKSx0aGlzLm9sZE5hbWUsdGhpcy5uZXdOYW1lLHRoaXMuYmFzZVZlcnNpb24pfWdldFJldmVyc2VkKCl7cmV0dXJuIG5ldyBpbSh0aGlzLnBvc2l0aW9uLmNsb25lKCksdGhpcy5uZXdOYW1lLHRoaXMub2xkTmFtZSx0aGlzLmJhc2VWZXJzaW9uKzEpfV92YWxpZGF0ZSgpe2NvbnN0IHQ9dGhpcy5wb3NpdGlvbi5ub2RlQWZ0ZXI7aWYoISh0IGluc3RhbmNlb2YgamgpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwicmVuYW1lLW9wZXJhdGlvbi13cm9uZy1wb3NpdGlvbjogR2l2ZW4gcG9zaXRpb24gaXMgaW52YWxpZCBvciBub2RlIGFmdGVyIGl0IGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBFbGVtZW50LlwiLHRoaXMpfWVsc2UgaWYodC5uYW1lIT09dGhpcy5vbGROYW1lKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwicmVuYW1lLW9wZXJhdGlvbi13cm9uZy1uYW1lOiBFbGVtZW50IHRvIGNoYW5nZSBoYXMgZGlmZmVyZW50IG5hbWUgdGhhbiBvcGVyYXRpb24ncyBvbGQgbmFtZS5cIix0aGlzKX19X2V4ZWN1dGUoKXtjb25zdCB0PXRoaXMucG9zaXRpb24ubm9kZUFmdGVyO3QubmFtZT10aGlzLm5ld05hbWV9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTt0LnBvc2l0aW9uPXRoaXMucG9zaXRpb24udG9KU09OKCk7cmV0dXJuIHR9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIlJlbmFtZU9wZXJhdGlvblwifXN0YXRpYyBmcm9tSlNPTih0LGUpe3JldHVybiBuZXcgaW0oVWguZnJvbUpTT04odC5wb3NpdGlvbixlKSx0Lm9sZE5hbWUsdC5uZXdOYW1lLHQuYmFzZVZlcnNpb24pfX1jbGFzcyBubSBleHRlbmRzIExne2NvbnN0cnVjdG9yKHQsZSxpLG4sbyl7c3VwZXIobyk7dGhpcy5yb290PXQ7dGhpcy5rZXk9ZTt0aGlzLm9sZFZhbHVlPWk7dGhpcy5uZXdWYWx1ZT1ufWdldCB0eXBlKCl7aWYodGhpcy5vbGRWYWx1ZT09PW51bGwpe3JldHVyblwiYWRkUm9vdEF0dHJpYnV0ZVwifWVsc2UgaWYodGhpcy5uZXdWYWx1ZT09PW51bGwpe3JldHVyblwicmVtb3ZlUm9vdEF0dHJpYnV0ZVwifWVsc2V7cmV0dXJuXCJjaGFuZ2VSb290QXR0cmlidXRlXCJ9fWNsb25lKCl7cmV0dXJuIG5ldyBubSh0aGlzLnJvb3QsdGhpcy5rZXksdGhpcy5vbGRWYWx1ZSx0aGlzLm5ld1ZhbHVlLHRoaXMuYmFzZVZlcnNpb24pfWdldFJldmVyc2VkKCl7cmV0dXJuIG5ldyBubSh0aGlzLnJvb3QsdGhpcy5rZXksdGhpcy5uZXdWYWx1ZSx0aGlzLm9sZFZhbHVlLHRoaXMuYmFzZVZlcnNpb24rMSl9X3ZhbGlkYXRlKCl7aWYodGhpcy5yb290IT10aGlzLnJvb3Qucm9vdHx8dGhpcy5yb290LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcInJvb3RhdHRyaWJ1dGUtb3BlcmF0aW9uLW5vdC1hLXJvb3Q6IFRoZSBlbGVtZW50IHRvIGNoYW5nZSBpcyBub3QgYSByb290IGVsZW1lbnQuXCIsdGhpcyx7cm9vdDp0aGlzLnJvb3Qsa2V5OnRoaXMua2V5fSl9aWYodGhpcy5vbGRWYWx1ZSE9PW51bGwmJnRoaXMucm9vdC5nZXRBdHRyaWJ1dGUodGhpcy5rZXkpIT09dGhpcy5vbGRWYWx1ZSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcInJvb3RhdHRyaWJ1dGUtb3BlcmF0aW9uLXdyb25nLW9sZC12YWx1ZTogQ2hhbmdlZCBub2RlIGhhcyBkaWZmZXJlbnQgYXR0cmlidXRlIHZhbHVlIHRoYW4gb3BlcmF0aW9uJ3MgXCIrXCJvbGQgYXR0cmlidXRlIHZhbHVlLlwiLHRoaXMse3Jvb3Q6dGhpcy5yb290LGtleTp0aGlzLmtleX0pfWlmKHRoaXMub2xkVmFsdWU9PT1udWxsJiZ0aGlzLm5ld1ZhbHVlIT09bnVsbCYmdGhpcy5yb290Lmhhc0F0dHJpYnV0ZSh0aGlzLmtleSkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJyb290YXR0cmlidXRlLW9wZXJhdGlvbi1hdHRyaWJ1dGUtZXhpc3RzOiBUaGUgYXR0cmlidXRlIHdpdGggZ2l2ZW4ga2V5IGFscmVhZHkgZXhpc3RzLlwiLHRoaXMse3Jvb3Q6dGhpcy5yb290LGtleTp0aGlzLmtleX0pfX1fZXhlY3V0ZSgpe2lmKHRoaXMubmV3VmFsdWUhPT1udWxsKXt0aGlzLnJvb3QuX3NldEF0dHJpYnV0ZSh0aGlzLmtleSx0aGlzLm5ld1ZhbHVlKX1lbHNle3RoaXMucm9vdC5fcmVtb3ZlQXR0cmlidXRlKHRoaXMua2V5KX19dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTt0LnJvb3Q9dGhpcy5yb290LnRvSlNPTigpO3JldHVybiB0fXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJSb290QXR0cmlidXRlT3BlcmF0aW9uXCJ9c3RhdGljIGZyb21KU09OKHQsZSl7aWYoIWUuZ2V0Um9vdCh0LnJvb3QpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwicm9vdGF0dHJpYnV0ZS1vcGVyYXRpb24tZnJvbWpzb24tbm8tcm9vdDogQ2Fubm90IGNyZWF0ZSBSb290QXR0cmlidXRlT3BlcmF0aW9uLiBSb290IHdpdGggc3BlY2lmaWVkIG5hbWUgZG9lcyBub3QgZXhpc3QuXCIsdGhpcyx7cm9vdE5hbWU6dC5yb290fSl9cmV0dXJuIG5ldyBubShlLmdldFJvb3QodC5yb290KSx0LmtleSx0Lm9sZFZhbHVlLHQubmV3VmFsdWUsdC5iYXNlVmVyc2lvbil9fWNsYXNzIG9tIGV4dGVuZHMgTGd7Y29uc3RydWN0b3IodCxlLGksbixvKXtzdXBlcihvKTt0aGlzLnNvdXJjZVBvc2l0aW9uPXQuY2xvbmUoKTt0aGlzLnNvdXJjZVBvc2l0aW9uLnN0aWNraW5lc3M9XCJ0b1ByZXZpb3VzXCI7dGhpcy5ob3dNYW55PWU7dGhpcy50YXJnZXRQb3NpdGlvbj1pLmNsb25lKCk7dGhpcy50YXJnZXRQb3NpdGlvbi5zdGlja2luZXNzPVwidG9OZXh0XCI7dGhpcy5ncmF2ZXlhcmRQb3NpdGlvbj1uLmNsb25lKCl9Z2V0IHR5cGUoKXtyZXR1cm5cIm1lcmdlXCJ9Z2V0IGRlbGV0aW9uUG9zaXRpb24oKXtyZXR1cm4gbmV3IFVoKHRoaXMuc291cmNlUG9zaXRpb24ucm9vdCx0aGlzLnNvdXJjZVBvc2l0aW9uLnBhdGguc2xpY2UoMCwtMSkpfWdldCBtb3ZlZFJhbmdlKCl7Y29uc3QgdD10aGlzLnNvdXJjZVBvc2l0aW9uLmdldFNoaWZ0ZWRCeShOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO3JldHVybiBuZXcgJGgodGhpcy5zb3VyY2VQb3NpdGlvbix0KX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnNvdXJjZVBvc2l0aW9uLHRoaXMuaG93TWFueSx0aGlzLnRhcmdldFBvc2l0aW9uLHRoaXMuZ3JhdmV5YXJkUG9zaXRpb24sdGhpcy5iYXNlVmVyc2lvbil9Z2V0UmV2ZXJzZWQoKXtjb25zdCB0PXRoaXMudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbih0aGlzKTtjb25zdCBlPXRoaXMuc291cmNlUG9zaXRpb24ucGF0aC5zbGljZSgwLC0xKTtjb25zdCBpPW5ldyBVaCh0aGlzLnNvdXJjZVBvc2l0aW9uLnJvb3QsZSkuX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbih0aGlzKTtjb25zdCBuPW5ldyBybSh0LHRoaXMuaG93TWFueSx0aGlzLmdyYXZleWFyZFBvc2l0aW9uLHRoaXMuYmFzZVZlcnNpb24rMSk7bi5pbnNlcnRpb25Qb3NpdGlvbj1pO3JldHVybiBufV92YWxpZGF0ZSgpe2NvbnN0IHQ9dGhpcy5zb3VyY2VQb3NpdGlvbi5wYXJlbnQ7Y29uc3QgZT10aGlzLnRhcmdldFBvc2l0aW9uLnBhcmVudDtpZighdC5wYXJlbnQpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJtZXJnZS1vcGVyYXRpb24tc291cmNlLXBvc2l0aW9uLWludmFsaWQ6IE1lcmdlIHNvdXJjZSBwb3NpdGlvbiBpcyBpbnZhbGlkLlwiLHRoaXMpfWVsc2UgaWYoIWUucGFyZW50KXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibWVyZ2Utb3BlcmF0aW9uLXRhcmdldC1wb3NpdGlvbi1pbnZhbGlkOiBNZXJnZSB0YXJnZXQgcG9zaXRpb24gaXMgaW52YWxpZC5cIix0aGlzKX1lbHNlIGlmKHRoaXMuaG93TWFueSE9dC5tYXhPZmZzZXQpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJtZXJnZS1vcGVyYXRpb24taG93LW1hbnktaW52YWxpZDogTWVyZ2Ugb3BlcmF0aW9uIHNwZWNpZmllcyB3cm9uZyBudW1iZXIgb2Ygbm9kZXMgdG8gbW92ZS5cIix0aGlzKX19X2V4ZWN1dGUoKXtjb25zdCB0PXRoaXMuc291cmNlUG9zaXRpb24ucGFyZW50O2NvbnN0IGU9JGguX2NyZWF0ZUluKHQpO1dnKGUsdGhpcy50YXJnZXRQb3NpdGlvbik7V2coJGguX2NyZWF0ZU9uKHQpLHRoaXMuZ3JhdmV5YXJkUG9zaXRpb24pfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7dC5zb3VyY2VQb3NpdGlvbj10LnNvdXJjZVBvc2l0aW9uLnRvSlNPTigpO3QudGFyZ2V0UG9zaXRpb249dC50YXJnZXRQb3NpdGlvbi50b0pTT04oKTt0LmdyYXZleWFyZFBvc2l0aW9uPXQuZ3JhdmV5YXJkUG9zaXRpb24udG9KU09OKCk7cmV0dXJuIHR9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIk1lcmdlT3BlcmF0aW9uXCJ9c3RhdGljIGZyb21KU09OKHQsZSl7Y29uc3QgaT1VaC5mcm9tSlNPTih0LnNvdXJjZVBvc2l0aW9uLGUpO2NvbnN0IG49VWguZnJvbUpTT04odC50YXJnZXRQb3NpdGlvbixlKTtjb25zdCBvPVVoLmZyb21KU09OKHQuZ3JhdmV5YXJkUG9zaXRpb24sZSk7cmV0dXJuIG5ldyB0aGlzKGksdC5ob3dNYW55LG4sbyx0LmJhc2VWZXJzaW9uKX19Y2xhc3Mgcm0gZXh0ZW5kcyBMZ3tjb25zdHJ1Y3Rvcih0LGUsaSxuKXtzdXBlcihuKTt0aGlzLnNwbGl0UG9zaXRpb249dC5jbG9uZSgpO3RoaXMuc3BsaXRQb3NpdGlvbi5zdGlja2luZXNzPVwidG9OZXh0XCI7dGhpcy5ob3dNYW55PWU7dGhpcy5pbnNlcnRpb25Qb3NpdGlvbj1ybS5nZXRJbnNlcnRpb25Qb3NpdGlvbih0KTt0aGlzLmluc2VydGlvblBvc2l0aW9uLnN0aWNraW5lc3M9XCJ0b05vbmVcIjt0aGlzLmdyYXZleWFyZFBvc2l0aW9uPWk/aS5jbG9uZSgpOm51bGw7aWYodGhpcy5ncmF2ZXlhcmRQb3NpdGlvbil7dGhpcy5ncmF2ZXlhcmRQb3NpdGlvbi5zdGlja2luZXNzPVwidG9OZXh0XCJ9fWdldCB0eXBlKCl7cmV0dXJuXCJzcGxpdFwifWdldCBtb3ZlVGFyZ2V0UG9zaXRpb24oKXtjb25zdCB0PXRoaXMuaW5zZXJ0aW9uUG9zaXRpb24ucGF0aC5zbGljZSgpO3QucHVzaCgwKTtyZXR1cm4gbmV3IFVoKHRoaXMuaW5zZXJ0aW9uUG9zaXRpb24ucm9vdCx0KX1nZXQgbW92ZWRSYW5nZSgpe2NvbnN0IHQ9dGhpcy5zcGxpdFBvc2l0aW9uLmdldFNoaWZ0ZWRCeShOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO3JldHVybiBuZXcgJGgodGhpcy5zcGxpdFBvc2l0aW9uLHQpfWNsb25lKCl7Y29uc3QgdD1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnNwbGl0UG9zaXRpb24sdGhpcy5ob3dNYW55LHRoaXMuZ3JhdmV5YXJkUG9zaXRpb24sdGhpcy5iYXNlVmVyc2lvbik7dC5pbnNlcnRpb25Qb3NpdGlvbj10aGlzLmluc2VydGlvblBvc2l0aW9uO3JldHVybiB0fWdldFJldmVyc2VkKCl7Y29uc3QgdD10aGlzLnNwbGl0UG9zaXRpb24ucm9vdC5kb2N1bWVudC5ncmF2ZXlhcmQ7Y29uc3QgZT1uZXcgVWgodCxbMF0pO3JldHVybiBuZXcgb20odGhpcy5tb3ZlVGFyZ2V0UG9zaXRpb24sdGhpcy5ob3dNYW55LHRoaXMuc3BsaXRQb3NpdGlvbixlLHRoaXMuYmFzZVZlcnNpb24rMSl9X3ZhbGlkYXRlKCl7Y29uc3QgdD10aGlzLnNwbGl0UG9zaXRpb24ucGFyZW50O2NvbnN0IGU9dGhpcy5zcGxpdFBvc2l0aW9uLm9mZnNldDtpZighdHx8dC5tYXhPZmZzZXQ8ZSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcInNwbGl0LW9wZXJhdGlvbi1wb3NpdGlvbi1pbnZhbGlkOiBTcGxpdCBwb3NpdGlvbiBpcyBpbnZhbGlkLlwiLHRoaXMpfWVsc2UgaWYoIXQucGFyZW50KXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwic3BsaXQtb3BlcmF0aW9uLXNwbGl0LWluLXJvb3Q6IENhbm5vdCBzcGxpdCByb290IGVsZW1lbnQuXCIsdGhpcyl9ZWxzZSBpZih0aGlzLmhvd01hbnkhPXQubWF4T2Zmc2V0LXRoaXMuc3BsaXRQb3NpdGlvbi5vZmZzZXQpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJzcGxpdC1vcGVyYXRpb24taG93LW1hbnktaW52YWxpZDogU3BsaXQgb3BlcmF0aW9uIHNwZWNpZmllcyB3cm9uZyBudW1iZXIgb2Ygbm9kZXMgdG8gbW92ZS5cIix0aGlzKX1lbHNlIGlmKHRoaXMuZ3JhdmV5YXJkUG9zaXRpb24mJiF0aGlzLmdyYXZleWFyZFBvc2l0aW9uLm5vZGVBZnRlcil7dGhyb3cgbmV3IHNzW1wiYlwiXShcInNwbGl0LW9wZXJhdGlvbi1ncmF2ZXlhcmQtcG9zaXRpb24taW52YWxpZDogR3JhdmV5YXJkIHBvc2l0aW9uIGludmFsaWQuXCIsdGhpcyl9fV9leGVjdXRlKCl7Y29uc3QgdD10aGlzLnNwbGl0UG9zaXRpb24ucGFyZW50O2lmKHRoaXMuZ3JhdmV5YXJkUG9zaXRpb24pe1dnKCRoLl9jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh0aGlzLmdyYXZleWFyZFBvc2l0aW9uLDEpLHRoaXMuaW5zZXJ0aW9uUG9zaXRpb24pfWVsc2V7Y29uc3QgZT10Ll9jbG9uZSgpO2pnKHRoaXMuaW5zZXJ0aW9uUG9zaXRpb24sZSl9Y29uc3QgZT1uZXcgJGgoVWguX2NyZWF0ZUF0KHQsdGhpcy5zcGxpdFBvc2l0aW9uLm9mZnNldCksVWguX2NyZWF0ZUF0KHQsdC5tYXhPZmZzZXQpKTtXZyhlLHRoaXMubW92ZVRhcmdldFBvc2l0aW9uKX10b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO3Quc3BsaXRQb3NpdGlvbj10aGlzLnNwbGl0UG9zaXRpb24udG9KU09OKCk7dC5pbnNlcnRpb25Qb3NpdGlvbj10aGlzLmluc2VydGlvblBvc2l0aW9uLnRvSlNPTigpO2lmKHRoaXMuZ3JhdmV5YXJkUG9zaXRpb24pe3QuZ3JhdmV5YXJkUG9zaXRpb249dGhpcy5ncmF2ZXlhcmRQb3NpdGlvbi50b0pTT04oKX1yZXR1cm4gdH1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVyblwiU3BsaXRPcGVyYXRpb25cIn1zdGF0aWMgZ2V0SW5zZXJ0aW9uUG9zaXRpb24odCl7Y29uc3QgZT10LnBhdGguc2xpY2UoMCwtMSk7ZVtlLmxlbmd0aC0xXSsrO3JldHVybiBuZXcgVWgodC5yb290LGUpfXN0YXRpYyBmcm9tSlNPTih0LGUpe2NvbnN0IGk9VWguZnJvbUpTT04odC5zcGxpdFBvc2l0aW9uLGUpO2NvbnN0IG49VWguZnJvbUpTT04odC5pbnNlcnRpb25Qb3NpdGlvbixlKTtjb25zdCBvPXQuZ3JhdmV5YXJkUG9zaXRpb24/VWguZnJvbUpTT04odC5ncmF2ZXlhcmRQb3NpdGlvbixlKTpudWxsO2NvbnN0IHI9bmV3IHRoaXMoaSx0Lmhvd01hbnksbyx0LmJhc2VWZXJzaW9uKTtyLmluc2VydGlvblBvc2l0aW9uPW47cmV0dXJuIHJ9fWNsYXNzIHNtIGV4dGVuZHMgamh7Y29uc3RydWN0b3IodCxlLGk9XCJtYWluXCIpe3N1cGVyKGUpO3RoaXMuX2RvY3VtZW50PXQ7dGhpcy5yb290TmFtZT1pfWdldCBkb2N1bWVudCgpe3JldHVybiB0aGlzLl9kb2N1bWVudH1pcyh0LGUpe2NvbnN0IGk9dC5yZXBsYWNlKFwibW9kZWw6XCIsXCJcIik7aWYoIWUpe3JldHVybiBpPT1cInJvb3RFbGVtZW50XCJ8fHN1cGVyLmlzKHQpfWVsc2V7cmV0dXJuIGk9PVwicm9vdEVsZW1lbnRcIiYmZT09dGhpcy5uYW1lfHxzdXBlci5pcyh0LGUpfX10b0pTT04oKXtyZXR1cm4gdGhpcy5yb290TmFtZX19Y2xhc3MgYW17Y29uc3RydWN0b3IodCxlKXt0aGlzLm1vZGVsPXQ7dGhpcy5iYXRjaD1lfWNyZWF0ZVRleHQodCxlKXtyZXR1cm4gbmV3IExoKHQsZSl9Y3JlYXRlRWxlbWVudCh0LGUpe3JldHVybiBuZXcgamgodCxlKX1jcmVhdGVEb2N1bWVudEZyYWdtZW50KCl7cmV0dXJuIG5ldyBGZ31pbnNlcnQodCxlLGk9MCl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpO2lmKHQgaW5zdGFuY2VvZiBMaCYmdC5kYXRhPT1cIlwiKXtyZXR1cm59Y29uc3Qgbj1VaC5fY3JlYXRlQXQoZSxpKTtpZih0LnBhcmVudCl7aWYoaG0odC5yb290LG4ucm9vdCkpe3RoaXMubW92ZSgkaC5fY3JlYXRlT24odCksbik7cmV0dXJufWVsc2V7aWYodC5yb290LmRvY3VtZW50KXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibW9kZWwtd3JpdGVyLWluc2VydC1mb3JiaWRkZW4tbW92ZTogXCIrXCJDYW5ub3QgbW92ZSBhIG5vZGUgZnJvbSBhIGRvY3VtZW50IHRvIGEgZGlmZmVyZW50IHRyZWUuIFwiK1wiSXQgaXMgZm9yYmlkZGVuIHRvIG1vdmUgYSBub2RlIHRoYXQgd2FzIGFscmVhZHkgaW4gYSBkb2N1bWVudCBvdXRzaWRlIG9mIGl0LlwiLHRoaXMpfWVsc2V7dGhpcy5yZW1vdmUodCl9fX1jb25zdCBvPW4ucm9vdC5kb2N1bWVudD9uLnJvb3QuZG9jdW1lbnQudmVyc2lvbjpudWxsO2NvbnN0IHI9bmV3IHRtKG4sdCxvKTtpZih0IGluc3RhbmNlb2YgTGgpe3Iuc2hvdWxkUmVjZWl2ZUF0dHJpYnV0ZXM9dHJ1ZX10aGlzLmJhdGNoLmFkZE9wZXJhdGlvbihyKTt0aGlzLm1vZGVsLmFwcGx5T3BlcmF0aW9uKHIpO2lmKHQgaW5zdGFuY2VvZiBGZyl7Zm9yKGNvbnN0W2UsaV1vZiB0Lm1hcmtlcnMpe2NvbnN0IHQ9VWguX2NyZWF0ZUF0KGkucm9vdCwwKTtjb25zdCBvPW5ldyAkaChpLnN0YXJ0Ll9nZXRDb21iaW5lZCh0LG4pLGkuZW5kLl9nZXRDb21iaW5lZCh0LG4pKTtjb25zdCByPXtyYW5nZTpvLHVzaW5nT3BlcmF0aW9uOnRydWUsYWZmZWN0c0RhdGE6dHJ1ZX07aWYodGhpcy5tb2RlbC5tYXJrZXJzLmhhcyhlKSl7dGhpcy51cGRhdGVNYXJrZXIoZSxyKX1lbHNle3RoaXMuYWRkTWFya2VyKGUscil9fX19aW5zZXJ0VGV4dCh0LGUsaSxuKXtpZihlIGluc3RhbmNlb2YgRmd8fGUgaW5zdGFuY2VvZiBqaHx8ZSBpbnN0YW5jZW9mIFVoKXt0aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQodCksZSxpKX1lbHNle3RoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlVGV4dCh0LGUpLGksbil9fWluc2VydEVsZW1lbnQodCxlLGksbil7aWYoZSBpbnN0YW5jZW9mIEZnfHxlIGluc3RhbmNlb2Ygamh8fGUgaW5zdGFuY2VvZiBVaCl7dGhpcy5pbnNlcnQodGhpcy5jcmVhdGVFbGVtZW50KHQpLGUsaSl9ZWxzZXt0aGlzLmluc2VydCh0aGlzLmNyZWF0ZUVsZW1lbnQodCxlKSxpLG4pfX1hcHBlbmQodCxlKXt0aGlzLmluc2VydCh0LGUsXCJlbmRcIil9YXBwZW5kVGV4dCh0LGUsaSl7aWYoZSBpbnN0YW5jZW9mIEZnfHxlIGluc3RhbmNlb2Ygamgpe3RoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlVGV4dCh0KSxlLFwiZW5kXCIpfWVsc2V7dGhpcy5pbnNlcnQodGhpcy5jcmVhdGVUZXh0KHQsZSksaSxcImVuZFwiKX19YXBwZW5kRWxlbWVudCh0LGUsaSl7aWYoZSBpbnN0YW5jZW9mIEZnfHxlIGluc3RhbmNlb2Ygamgpe3RoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlRWxlbWVudCh0KSxlLFwiZW5kXCIpfWVsc2V7dGhpcy5pbnNlcnQodGhpcy5jcmVhdGVFbGVtZW50KHQsZSksaSxcImVuZFwiKX19c2V0QXR0cmlidXRlKHQsZSxpKXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7aWYoaSBpbnN0YW5jZW9mICRoKXtjb25zdCBuPWkuZ2V0TWluaW1hbEZsYXRSYW5nZXMoKTtmb3IoY29uc3QgaSBvZiBuKXtjbSh0aGlzLHQsZSxpKX19ZWxzZXtsbSh0aGlzLHQsZSxpKX19c2V0QXR0cmlidXRlcyh0LGUpe2Zvcihjb25zdFtpLG5db2YgSHModCkpe3RoaXMuc2V0QXR0cmlidXRlKGksbixlKX19cmVtb3ZlQXR0cmlidXRlKHQsZSl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpO2lmKGUgaW5zdGFuY2VvZiAkaCl7Y29uc3QgaT1lLmdldE1pbmltYWxGbGF0UmFuZ2VzKCk7Zm9yKGNvbnN0IGUgb2YgaSl7Y20odGhpcyx0LG51bGwsZSl9fWVsc2V7bG0odGhpcyx0LG51bGwsZSl9fWNsZWFyQXR0cmlidXRlcyh0KXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7Y29uc3QgZT10PT57Zm9yKGNvbnN0IGUgb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpe3RoaXMucmVtb3ZlQXR0cmlidXRlKGUsdCl9fTtpZighKHQgaW5zdGFuY2VvZiAkaCkpe2UodCl9ZWxzZXtmb3IoY29uc3QgaSBvZiB0LmdldEl0ZW1zKCkpe2UoaSl9fX1tb3ZlKHQsZSxpKXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7aWYoISh0IGluc3RhbmNlb2YgJGgpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwid3JpdGVyLW1vdmUtaW52YWxpZC1yYW5nZTogSW52YWxpZCByYW5nZSB0byBtb3ZlLlwiLHRoaXMpfWlmKCF0LmlzRmxhdCl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIndyaXRlci1tb3ZlLXJhbmdlLW5vdC1mbGF0OiBSYW5nZSB0byBtb3ZlIGlzIG5vdCBmbGF0LlwiLHRoaXMpfWNvbnN0IG49VWguX2NyZWF0ZUF0KGUsaSk7aWYobi5pc0VxdWFsKHQuc3RhcnQpKXtyZXR1cm59dGhpcy5fYWRkT3BlcmF0aW9uRm9yQWZmZWN0ZWRNYXJrZXJzKFwibW92ZVwiLHQpO2lmKCFobSh0LnJvb3Qsbi5yb290KSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIndyaXRlci1tb3ZlLWRpZmZlcmVudC1kb2N1bWVudDogUmFuZ2UgaXMgZ29pbmcgdG8gYmUgbW92ZWQgYmV0d2VlbiBkaWZmZXJlbnQgZG9jdW1lbnRzLlwiLHRoaXMpfWNvbnN0IG89dC5yb290LmRvY3VtZW50P3Qucm9vdC5kb2N1bWVudC52ZXJzaW9uOm51bGw7Y29uc3Qgcj1uZXcgWmcodC5zdGFydCx0LmVuZC5vZmZzZXQtdC5zdGFydC5vZmZzZXQsbixvKTt0aGlzLmJhdGNoLmFkZE9wZXJhdGlvbihyKTt0aGlzLm1vZGVsLmFwcGx5T3BlcmF0aW9uKHIpfXJlbW92ZSh0KXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7Y29uc3QgZT10IGluc3RhbmNlb2YgJGg/dDokaC5fY3JlYXRlT24odCk7Y29uc3QgaT1lLmdldE1pbmltYWxGbGF0UmFuZ2VzKCkucmV2ZXJzZSgpO2Zvcihjb25zdCB0IG9mIGkpe3RoaXMuX2FkZE9wZXJhdGlvbkZvckFmZmVjdGVkTWFya2VycyhcIm1vdmVcIix0KTt1bSh0LnN0YXJ0LHQuZW5kLm9mZnNldC10LnN0YXJ0Lm9mZnNldCx0aGlzLmJhdGNoLHRoaXMubW9kZWwpfX1tZXJnZSh0KXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7Y29uc3QgZT10Lm5vZGVCZWZvcmU7Y29uc3QgaT10Lm5vZGVBZnRlcjt0aGlzLl9hZGRPcGVyYXRpb25Gb3JBZmZlY3RlZE1hcmtlcnMoXCJtZXJnZVwiLHQpO2lmKCEoZSBpbnN0YW5jZW9mIGpoKSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIndyaXRlci1tZXJnZS1uby1lbGVtZW50LWJlZm9yZTogTm9kZSBiZWZvcmUgbWVyZ2UgcG9zaXRpb24gbXVzdCBiZSBhbiBlbGVtZW50LlwiLHRoaXMpfWlmKCEoaSBpbnN0YW5jZW9mIGpoKSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIndyaXRlci1tZXJnZS1uby1lbGVtZW50LWFmdGVyOiBOb2RlIGFmdGVyIG1lcmdlIHBvc2l0aW9uIG11c3QgYmUgYW4gZWxlbWVudC5cIix0aGlzKX1pZighdC5yb290LmRvY3VtZW50KXt0aGlzLl9tZXJnZURldGFjaGVkKHQpfWVsc2V7dGhpcy5fbWVyZ2UodCl9fWNyZWF0ZVBvc2l0aW9uRnJvbVBhdGgodCxlLGkpe3JldHVybiB0aGlzLm1vZGVsLmNyZWF0ZVBvc2l0aW9uRnJvbVBhdGgodCxlLGkpfWNyZWF0ZVBvc2l0aW9uQXQodCxlKXtyZXR1cm4gdGhpcy5tb2RlbC5jcmVhdGVQb3NpdGlvbkF0KHQsZSl9Y3JlYXRlUG9zaXRpb25BZnRlcih0KXtyZXR1cm4gdGhpcy5tb2RlbC5jcmVhdGVQb3NpdGlvbkFmdGVyKHQpfWNyZWF0ZVBvc2l0aW9uQmVmb3JlKHQpe3JldHVybiB0aGlzLm1vZGVsLmNyZWF0ZVBvc2l0aW9uQmVmb3JlKHQpfWNyZWF0ZVJhbmdlKHQsZSl7cmV0dXJuIHRoaXMubW9kZWwuY3JlYXRlUmFuZ2UodCxlKX1jcmVhdGVSYW5nZUluKHQpe3JldHVybiB0aGlzLm1vZGVsLmNyZWF0ZVJhbmdlSW4odCl9Y3JlYXRlUmFuZ2VPbih0KXtyZXR1cm4gdGhpcy5tb2RlbC5jcmVhdGVSYW5nZU9uKHQpfWNyZWF0ZVNlbGVjdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMubW9kZWwuY3JlYXRlU2VsZWN0aW9uKHQsZSxpKX1fbWVyZ2VEZXRhY2hlZCh0KXtjb25zdCBlPXQubm9kZUJlZm9yZTtjb25zdCBpPXQubm9kZUFmdGVyO3RoaXMubW92ZSgkaC5fY3JlYXRlSW4oaSksVWguX2NyZWF0ZUF0KGUsXCJlbmRcIikpO3RoaXMucmVtb3ZlKGkpfV9tZXJnZSh0KXtjb25zdCBlPVVoLl9jcmVhdGVBdCh0Lm5vZGVCZWZvcmUsXCJlbmRcIik7Y29uc3QgaT1VaC5fY3JlYXRlQXQodC5ub2RlQWZ0ZXIsMCk7Y29uc3Qgbj10LnJvb3QuZG9jdW1lbnQuZ3JhdmV5YXJkO2NvbnN0IG89bmV3IFVoKG4sWzBdKTtjb25zdCByPXQucm9vdC5kb2N1bWVudC52ZXJzaW9uO2NvbnN0IHM9bmV3IG9tKGksdC5ub2RlQWZ0ZXIubWF4T2Zmc2V0LGUsbyxyKTt0aGlzLmJhdGNoLmFkZE9wZXJhdGlvbihzKTt0aGlzLm1vZGVsLmFwcGx5T3BlcmF0aW9uKHMpfXJlbmFtZSh0LGUpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtpZighKHQgaW5zdGFuY2VvZiBqaCkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ3cml0ZXItcmVuYW1lLW5vdC1lbGVtZW50LWluc3RhbmNlOiBUcnlpbmcgdG8gcmVuYW1lIGFuIG9iamVjdCB3aGljaCBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgRWxlbWVudC5cIix0aGlzKX1jb25zdCBpPXQucm9vdC5kb2N1bWVudD90LnJvb3QuZG9jdW1lbnQudmVyc2lvbjpudWxsO2NvbnN0IG49bmV3IGltKFVoLl9jcmVhdGVCZWZvcmUodCksdC5uYW1lLGUsaSk7dGhpcy5iYXRjaC5hZGRPcGVyYXRpb24obik7dGhpcy5tb2RlbC5hcHBseU9wZXJhdGlvbihuKX1zcGxpdCh0LGUpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtsZXQgaT10LnBhcmVudDtpZighaS5wYXJlbnQpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ3cml0ZXItc3BsaXQtZWxlbWVudC1uby1wYXJlbnQ6IEVsZW1lbnQgd2l0aCBubyBwYXJlbnQgY2FuIG5vdCBiZSBzcGxpdC5cIix0aGlzKX1pZighZSl7ZT1pLnBhcmVudH1pZighdC5wYXJlbnQuZ2V0QW5jZXN0b3JzKHtpbmNsdWRlU2VsZjp0cnVlfSkuaW5jbHVkZXMoZSkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ3cml0ZXItc3BsaXQtaW52YWxpZC1saW1pdC1lbGVtZW50OiBMaW1pdCBlbGVtZW50IGlzIG5vdCBhIHBvc2l0aW9uIGFuY2VzdG9yLlwiLHRoaXMpfWxldCBuLG87ZG97Y29uc3QgZT1pLnJvb3QuZG9jdW1lbnQ/aS5yb290LmRvY3VtZW50LnZlcnNpb246bnVsbDtjb25zdCByPWkubWF4T2Zmc2V0LXQub2Zmc2V0O2NvbnN0IHM9bmV3IHJtKHQscixudWxsLGUpO3RoaXMuYmF0Y2guYWRkT3BlcmF0aW9uKHMpO3RoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24ocyk7aWYoIW4mJiFvKXtuPWk7bz10LnBhcmVudC5uZXh0U2libGluZ310PXRoaXMuY3JlYXRlUG9zaXRpb25BZnRlcih0LnBhcmVudCk7aT10LnBhcmVudH13aGlsZShpIT09ZSk7cmV0dXJue3Bvc2l0aW9uOnQscmFuZ2U6bmV3ICRoKFVoLl9jcmVhdGVBdChuLFwiZW5kXCIpLFVoLl9jcmVhdGVBdChvLDApKX19d3JhcCh0LGUpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtpZighdC5pc0ZsYXQpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ3cml0ZXItd3JhcC1yYW5nZS1ub3QtZmxhdDogUmFuZ2UgdG8gd3JhcCBpcyBub3QgZmxhdC5cIix0aGlzKX1jb25zdCBpPWUgaW5zdGFuY2VvZiBqaD9lOm5ldyBqaChlKTtpZihpLmNoaWxkQ291bnQ+MCl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIndyaXRlci13cmFwLWVsZW1lbnQtbm90LWVtcHR5OiBFbGVtZW50IHRvIHdyYXAgd2l0aCBpcyBub3QgZW1wdHkuXCIsdGhpcyl9aWYoaS5wYXJlbnQhPT1udWxsKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwid3JpdGVyLXdyYXAtZWxlbWVudC1hdHRhY2hlZDogRWxlbWVudCB0byB3cmFwIHdpdGggaXMgYWxyZWFkeSBhdHRhY2hlZCB0byB0cmVlIG1vZGVsLlwiLHRoaXMpfXRoaXMuaW5zZXJ0KGksdC5zdGFydCk7Y29uc3Qgbj1uZXcgJGgodC5zdGFydC5nZXRTaGlmdGVkQnkoMSksdC5lbmQuZ2V0U2hpZnRlZEJ5KDEpKTt0aGlzLm1vdmUobixVaC5fY3JlYXRlQXQoaSwwKSl9dW53cmFwKHQpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtpZih0LnBhcmVudD09PW51bGwpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ3cml0ZXItdW53cmFwLWVsZW1lbnQtbm8tcGFyZW50OiBUcnlpbmcgdG8gdW53cmFwIGFuIGVsZW1lbnQgd2hpY2ggaGFzIG5vIHBhcmVudC5cIix0aGlzKX10aGlzLm1vdmUoJGguX2NyZWF0ZUluKHQpLHRoaXMuY3JlYXRlUG9zaXRpb25BZnRlcih0KSk7dGhpcy5yZW1vdmUodCl9YWRkTWFya2VyKHQsZSl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpO2lmKCFlfHx0eXBlb2YgZS51c2luZ09wZXJhdGlvbiE9XCJib29sZWFuXCIpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ3cml0ZXItYWRkTWFya2VyLW5vLXVzaW5nT3BlcmF0aW9uOiBUaGUgb3B0aW9ucy51c2luZ09wZXJhdGlvbiBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQgd2hlbiBhZGRpbmcgYSBuZXcgbWFya2VyLlwiLHRoaXMpfWNvbnN0IGk9ZS51c2luZ09wZXJhdGlvbjtjb25zdCBuPWUucmFuZ2U7Y29uc3Qgbz1lLmFmZmVjdHNEYXRhPT09dW5kZWZpbmVkP2ZhbHNlOmUuYWZmZWN0c0RhdGE7aWYodGhpcy5tb2RlbC5tYXJrZXJzLmhhcyh0KSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIndyaXRlci1hZGRNYXJrZXItbWFya2VyLWV4aXN0czogTWFya2VyIHdpdGggcHJvdmlkZWQgbmFtZSBhbHJlYWR5IGV4aXN0cy5cIix0aGlzKX1pZighbil7dGhyb3cgbmV3IHNzW1wiYlwiXShcIndyaXRlci1hZGRNYXJrZXItbm8tcmFuZ2U6IFJhbmdlIHBhcmFtZXRlciBpcyByZXF1aXJlZCB3aGVuIGFkZGluZyBhIG5ldyBtYXJrZXIuXCIsdGhpcyl9aWYoIWkpe3JldHVybiB0aGlzLm1vZGVsLm1hcmtlcnMuX3NldCh0LG4saSxvKX1kbSh0aGlzLHQsbnVsbCxuLG8pO3JldHVybiB0aGlzLm1vZGVsLm1hcmtlcnMuZ2V0KHQpfXVwZGF0ZU1hcmtlcih0LGUpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtjb25zdCBpPXR5cGVvZiB0PT1cInN0cmluZ1wiP3Q6dC5uYW1lO2NvbnN0IG49dGhpcy5tb2RlbC5tYXJrZXJzLmdldChpKTtpZighbil7dGhyb3cgbmV3IHNzW1wiYlwiXShcIndyaXRlci11cGRhdGVNYXJrZXItbWFya2VyLW5vdC1leGlzdHM6IE1hcmtlciB3aXRoIHByb3ZpZGVkIG5hbWUgZG9lcyBub3QgZXhpc3RzLlwiLHRoaXMpfWlmKCFlKXt0aGlzLm1vZGVsLm1hcmtlcnMuX3JlZnJlc2gobik7cmV0dXJufWNvbnN0IG89dHlwZW9mIGUudXNpbmdPcGVyYXRpb249PVwiYm9vbGVhblwiO2NvbnN0IHI9dHlwZW9mIGUuYWZmZWN0c0RhdGE9PVwiYm9vbGVhblwiO2NvbnN0IHM9cj9lLmFmZmVjdHNEYXRhOm4uYWZmZWN0c0RhdGE7aWYoIW8mJiFlLnJhbmdlJiYhcil7dGhyb3cgbmV3IHNzW1wiYlwiXShcIndyaXRlci11cGRhdGVNYXJrZXItd3Jvbmctb3B0aW9uczogT25lIG9mIHRoZSBvcHRpb25zIGlzIHJlcXVpcmVkIC0gcHJvdmlkZSByYW5nZSwgdXNpbmdPcGVyYXRpb25zIG9yIGFmZmVjdHNEYXRhLlwiLHRoaXMpfWNvbnN0IGE9bi5nZXRSYW5nZSgpO2NvbnN0IGM9ZS5yYW5nZT9lLnJhbmdlOmE7aWYobyYmZS51c2luZ09wZXJhdGlvbiE9PW4ubWFuYWdlZFVzaW5nT3BlcmF0aW9ucyl7aWYoZS51c2luZ09wZXJhdGlvbil7ZG0odGhpcyxpLG51bGwsYyxzKX1lbHNle2RtKHRoaXMsaSxhLG51bGwscyk7dGhpcy5tb2RlbC5tYXJrZXJzLl9zZXQoaSxjLHVuZGVmaW5lZCxzKX1yZXR1cm59aWYobi5tYW5hZ2VkVXNpbmdPcGVyYXRpb25zKXtkbSh0aGlzLGksYSxjLHMpfWVsc2V7dGhpcy5tb2RlbC5tYXJrZXJzLl9zZXQoaSxjLHVuZGVmaW5lZCxzKX19cmVtb3ZlTWFya2VyKHQpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtjb25zdCBlPXR5cGVvZiB0PT1cInN0cmluZ1wiP3Q6dC5uYW1lO2lmKCF0aGlzLm1vZGVsLm1hcmtlcnMuaGFzKGUpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwid3JpdGVyLXJlbW92ZU1hcmtlci1uby1tYXJrZXI6IFRyeWluZyB0byByZW1vdmUgbWFya2VyIHdoaWNoIGRvZXMgbm90IGV4aXN0LlwiLHRoaXMpfWNvbnN0IGk9dGhpcy5tb2RlbC5tYXJrZXJzLmdldChlKTtpZighaS5tYW5hZ2VkVXNpbmdPcGVyYXRpb25zKXt0aGlzLm1vZGVsLm1hcmtlcnMuX3JlbW92ZShlKTtyZXR1cm59Y29uc3Qgbj1pLmdldFJhbmdlKCk7ZG0odGhpcyxlLG4sbnVsbCxpLmFmZmVjdHNEYXRhKX1zZXRTZWxlY3Rpb24odCxlLGkpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTt0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5fc2V0VG8odCxlLGkpfXNldFNlbGVjdGlvbkZvY3VzKHQsZSl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpO3RoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLl9zZXRGb2N1cyh0LGUpfXNldFNlbGVjdGlvbkF0dHJpYnV0ZSh0LGUpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtpZih0eXBlb2YgdD09PVwic3RyaW5nXCIpe3RoaXMuX3NldFNlbGVjdGlvbkF0dHJpYnV0ZSh0LGUpfWVsc2V7Zm9yKGNvbnN0W2UsaV1vZiBIcyh0KSl7dGhpcy5fc2V0U2VsZWN0aW9uQXR0cmlidXRlKGUsaSl9fX1yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUodCl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpO2lmKHR5cGVvZiB0PT09XCJzdHJpbmdcIil7dGhpcy5fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKHQpfWVsc2V7Zm9yKGNvbnN0IGUgb2YgdCl7dGhpcy5fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKGUpfX19b3ZlcnJpZGVTZWxlY3Rpb25HcmF2aXR5KCl7cmV0dXJuIHRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLl9vdmVycmlkZUdyYXZpdHkoKX1yZXN0b3JlU2VsZWN0aW9uR3Jhdml0eSh0KXt0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5fcmVzdG9yZUdyYXZpdHkodCl9X3NldFNlbGVjdGlvbkF0dHJpYnV0ZSh0LGUpe2NvbnN0IGk9dGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247aWYoaS5pc0NvbGxhcHNlZCYmaS5hbmNob3IucGFyZW50LmlzRW1wdHkpe2NvbnN0IG49ZGYuX2dldFN0b3JlQXR0cmlidXRlS2V5KHQpO3RoaXMuc2V0QXR0cmlidXRlKG4sZSxpLmFuY2hvci5wYXJlbnQpfWkuX3NldEF0dHJpYnV0ZSh0LGUpfV9yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUodCl7Y29uc3QgZT10aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtpZihlLmlzQ29sbGFwc2VkJiZlLmFuY2hvci5wYXJlbnQuaXNFbXB0eSl7Y29uc3QgaT1kZi5fZ2V0U3RvcmVBdHRyaWJ1dGVLZXkodCk7dGhpcy5yZW1vdmVBdHRyaWJ1dGUoaSxlLmFuY2hvci5wYXJlbnQpfWUuX3JlbW92ZUF0dHJpYnV0ZSh0KX1fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpe2lmKHRoaXMubW9kZWwuX2N1cnJlbnRXcml0ZXIhPT10aGlzKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwid3JpdGVyLWluY29ycmVjdC11c2U6IFRyeWluZyB0byB1c2UgYSB3cml0ZXIgb3V0c2lkZSB0aGUgY2hhbmdlKCkgYmxvY2suXCIsdGhpcyl9fV9hZGRPcGVyYXRpb25Gb3JBZmZlY3RlZE1hcmtlcnModCxlKXtmb3IoY29uc3QgaSBvZiB0aGlzLm1vZGVsLm1hcmtlcnMpe2lmKCFpLm1hbmFnZWRVc2luZ09wZXJhdGlvbnMpe2NvbnRpbnVlfWNvbnN0IG49aS5nZXRSYW5nZSgpO2xldCBvPWZhbHNlO2lmKHQ9PVwibW92ZVwiKXtvPWUuY29udGFpbnNQb3NpdGlvbihuLnN0YXJ0KXx8ZS5zdGFydC5pc0VxdWFsKG4uc3RhcnQpfHxlLmNvbnRhaW5zUG9zaXRpb24obi5lbmQpfHxlLmVuZC5pc0VxdWFsKG4uZW5kKX1lbHNle2NvbnN0IHQ9ZS5ub2RlQmVmb3JlO2NvbnN0IGk9ZS5ub2RlQWZ0ZXI7Y29uc3Qgcj1uLnN0YXJ0LnBhcmVudD09dCYmbi5zdGFydC5pc0F0RW5kO2NvbnN0IHM9bi5lbmQucGFyZW50PT1pJiZuLmVuZC5vZmZzZXQ9PTA7Y29uc3QgYT1uLmVuZC5ub2RlQWZ0ZXI9PWk7Y29uc3QgYz1uLnN0YXJ0Lm5vZGVBZnRlcj09aTtvPXJ8fHN8fGF8fGN9aWYobyl7dGhpcy51cGRhdGVNYXJrZXIoaS5uYW1lLHtyYW5nZTpufSl9fX19ZnVuY3Rpb24gY20odCxlLGksbil7Y29uc3Qgbz10Lm1vZGVsO2NvbnN0IHI9by5kb2N1bWVudDtsZXQgcz1uLnN0YXJ0O2xldCBhO2xldCBjO2xldCBsO2Zvcihjb25zdCB0IG9mIG4uZ2V0V2Fsa2VyKHtzaGFsbG93OnRydWV9KSl7bD10Lml0ZW0uZ2V0QXR0cmlidXRlKGUpO2lmKGEmJmMhPWwpe2lmKGMhPWkpe2QoKX1zPWF9YT10Lm5leHRQb3NpdGlvbjtjPWx9aWYoYSBpbnN0YW5jZW9mIFVoJiZhIT1zJiZjIT1pKXtkKCl9ZnVuY3Rpb24gZCgpe2NvbnN0IG49bmV3ICRoKHMsYSk7Y29uc3QgbD1uLnJvb3QuZG9jdW1lbnQ/ci52ZXJzaW9uOm51bGw7Y29uc3QgZD1uZXcgUWcobixlLGMsaSxsKTt0LmJhdGNoLmFkZE9wZXJhdGlvbihkKTtvLmFwcGx5T3BlcmF0aW9uKGQpfX1mdW5jdGlvbiBsbSh0LGUsaSxuKXtjb25zdCBvPXQubW9kZWw7Y29uc3Qgcj1vLmRvY3VtZW50O2NvbnN0IHM9bi5nZXRBdHRyaWJ1dGUoZSk7bGV0IGEsYztpZihzIT1pKXtjb25zdCBsPW4ucm9vdD09PW47aWYobCl7Y29uc3QgdD1uLmRvY3VtZW50P3IudmVyc2lvbjpudWxsO2M9bmV3IG5tKG4sZSxzLGksdCl9ZWxzZXthPW5ldyAkaChVaC5fY3JlYXRlQmVmb3JlKG4pLHQuY3JlYXRlUG9zaXRpb25BZnRlcihuKSk7Y29uc3Qgbz1hLnJvb3QuZG9jdW1lbnQ/ci52ZXJzaW9uOm51bGw7Yz1uZXcgUWcoYSxlLHMsaSxvKX10LmJhdGNoLmFkZE9wZXJhdGlvbihjKTtvLmFwcGx5T3BlcmF0aW9uKGMpfX1mdW5jdGlvbiBkbSh0LGUsaSxuLG8pe2NvbnN0IHI9dC5tb2RlbDtjb25zdCBzPXIuZG9jdW1lbnQ7Y29uc3QgYT1uZXcgZW0oZSxpLG4sci5tYXJrZXJzLG8scy52ZXJzaW9uKTt0LmJhdGNoLmFkZE9wZXJhdGlvbihhKTtyLmFwcGx5T3BlcmF0aW9uKGEpfWZ1bmN0aW9uIHVtKHQsZSxpLG4pe2xldCBvO2lmKHQucm9vdC5kb2N1bWVudCl7Y29uc3QgaT1uLmRvY3VtZW50O2NvbnN0IHI9bmV3IFVoKGkuZ3JhdmV5YXJkLFswXSk7bz1uZXcgWmcodCxlLHIsaS52ZXJzaW9uKX1lbHNle289bmV3IFhnKHQsZSl9aS5hZGRPcGVyYXRpb24obyk7bi5hcHBseU9wZXJhdGlvbihvKX1mdW5jdGlvbiBobSh0LGUpe2lmKHQ9PT1lKXtyZXR1cm4gdHJ1ZX1pZih0IGluc3RhbmNlb2Ygc20mJmUgaW5zdGFuY2VvZiBzbSl7cmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfWNsYXNzIGZte2NvbnN0cnVjdG9yKHQpe3RoaXMuX21hcmtlckNvbGxlY3Rpb249dDt0aGlzLl9jaGFuZ2VzSW5FbGVtZW50PW5ldyBNYXA7dGhpcy5fZWxlbWVudFNuYXBzaG90cz1uZXcgTWFwO3RoaXMuX2NoYW5nZWRNYXJrZXJzPW5ldyBNYXA7dGhpcy5fY2hhbmdlQ291bnQ9MDt0aGlzLl9jYWNoZWRDaGFuZ2VzPW51bGw7dGhpcy5fY2FjaGVkQ2hhbmdlc1dpdGhHcmF2ZXlhcmQ9bnVsbH1nZXQgaXNFbXB0eSgpe3JldHVybiB0aGlzLl9jaGFuZ2VzSW5FbGVtZW50LnNpemU9PTAmJnRoaXMuX2NoYW5nZWRNYXJrZXJzLnNpemU9PTB9cmVmcmVzaEl0ZW0odCl7aWYodGhpcy5faXNJbkluc2VydGVkRWxlbWVudCh0LnBhcmVudCkpe3JldHVybn10aGlzLl9tYXJrUmVtb3ZlKHQucGFyZW50LHQuc3RhcnRPZmZzZXQsdC5vZmZzZXRTaXplKTt0aGlzLl9tYXJrSW5zZXJ0KHQucGFyZW50LHQuc3RhcnRPZmZzZXQsdC5vZmZzZXRTaXplKTtjb25zdCBlPSRoLl9jcmVhdGVPbih0KTtmb3IoY29uc3QgdCBvZiB0aGlzLl9tYXJrZXJDb2xsZWN0aW9uLmdldE1hcmtlcnNJbnRlcnNlY3RpbmdSYW5nZShlKSl7Y29uc3QgZT10LmdldFJhbmdlKCk7dGhpcy5idWZmZXJNYXJrZXJDaGFuZ2UodC5uYW1lLGUsZSx0LmFmZmVjdHNEYXRhKX10aGlzLl9jYWNoZWRDaGFuZ2VzPW51bGx9YnVmZmVyT3BlcmF0aW9uKHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2VcImluc2VydFwiOntpZih0aGlzLl9pc0luSW5zZXJ0ZWRFbGVtZW50KHQucG9zaXRpb24ucGFyZW50KSl7cmV0dXJufXRoaXMuX21hcmtJbnNlcnQodC5wb3NpdGlvbi5wYXJlbnQsdC5wb3NpdGlvbi5vZmZzZXQsdC5ub2Rlcy5tYXhPZmZzZXQpO2JyZWFrfWNhc2VcImFkZEF0dHJpYnV0ZVwiOmNhc2VcInJlbW92ZUF0dHJpYnV0ZVwiOmNhc2VcImNoYW5nZUF0dHJpYnV0ZVwiOntmb3IoY29uc3QgZSBvZiB0LnJhbmdlLmdldEl0ZW1zKHtzaGFsbG93OnRydWV9KSl7aWYodGhpcy5faXNJbkluc2VydGVkRWxlbWVudChlLnBhcmVudCkpe2NvbnRpbnVlfXRoaXMuX21hcmtBdHRyaWJ1dGUoZSl9YnJlYWt9Y2FzZVwicmVtb3ZlXCI6Y2FzZVwibW92ZVwiOmNhc2VcInJlaW5zZXJ0XCI6e2lmKHQuc291cmNlUG9zaXRpb24uaXNFcXVhbCh0LnRhcmdldFBvc2l0aW9uKXx8dC5zb3VyY2VQb3NpdGlvbi5nZXRTaGlmdGVkQnkodC5ob3dNYW55KS5pc0VxdWFsKHQudGFyZ2V0UG9zaXRpb24pKXtyZXR1cm59Y29uc3QgZT10aGlzLl9pc0luSW5zZXJ0ZWRFbGVtZW50KHQuc291cmNlUG9zaXRpb24ucGFyZW50KTtjb25zdCBpPXRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQodC50YXJnZXRQb3NpdGlvbi5wYXJlbnQpO2lmKCFlKXt0aGlzLl9tYXJrUmVtb3ZlKHQuc291cmNlUG9zaXRpb24ucGFyZW50LHQuc291cmNlUG9zaXRpb24ub2Zmc2V0LHQuaG93TWFueSl9aWYoIWkpe3RoaXMuX21hcmtJbnNlcnQodC50YXJnZXRQb3NpdGlvbi5wYXJlbnQsdC5nZXRNb3ZlZFJhbmdlU3RhcnQoKS5vZmZzZXQsdC5ob3dNYW55KX1icmVha31jYXNlXCJyZW5hbWVcIjp7aWYodGhpcy5faXNJbkluc2VydGVkRWxlbWVudCh0LnBvc2l0aW9uLnBhcmVudCkpe3JldHVybn10aGlzLl9tYXJrUmVtb3ZlKHQucG9zaXRpb24ucGFyZW50LHQucG9zaXRpb24ub2Zmc2V0LDEpO3RoaXMuX21hcmtJbnNlcnQodC5wb3NpdGlvbi5wYXJlbnQsdC5wb3NpdGlvbi5vZmZzZXQsMSk7Y29uc3QgZT0kaC5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodC5wb3NpdGlvbiwxKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9tYXJrZXJDb2xsZWN0aW9uLmdldE1hcmtlcnNJbnRlcnNlY3RpbmdSYW5nZShlKSl7Y29uc3QgZT10LmdldFJhbmdlKCk7dGhpcy5idWZmZXJNYXJrZXJDaGFuZ2UodC5uYW1lLGUsZSx0LmFmZmVjdHNEYXRhKX1icmVha31jYXNlXCJzcGxpdFwiOntjb25zdCBlPXQuc3BsaXRQb3NpdGlvbi5wYXJlbnQ7aWYoIXRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQoZSkpe3RoaXMuX21hcmtSZW1vdmUoZSx0LnNwbGl0UG9zaXRpb24ub2Zmc2V0LHQuaG93TWFueSl9aWYoIXRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQodC5pbnNlcnRpb25Qb3NpdGlvbi5wYXJlbnQpKXt0aGlzLl9tYXJrSW5zZXJ0KHQuaW5zZXJ0aW9uUG9zaXRpb24ucGFyZW50LHQuaW5zZXJ0aW9uUG9zaXRpb24ub2Zmc2V0LDEpfWlmKHQuZ3JhdmV5YXJkUG9zaXRpb24pe3RoaXMuX21hcmtSZW1vdmUodC5ncmF2ZXlhcmRQb3NpdGlvbi5wYXJlbnQsdC5ncmF2ZXlhcmRQb3NpdGlvbi5vZmZzZXQsMSl9YnJlYWt9Y2FzZVwibWVyZ2VcIjp7Y29uc3QgZT10LnNvdXJjZVBvc2l0aW9uLnBhcmVudDtpZighdGhpcy5faXNJbkluc2VydGVkRWxlbWVudChlLnBhcmVudCkpe3RoaXMuX21hcmtSZW1vdmUoZS5wYXJlbnQsZS5zdGFydE9mZnNldCwxKX1jb25zdCBpPXQuZ3JhdmV5YXJkUG9zaXRpb24ucGFyZW50O3RoaXMuX21hcmtJbnNlcnQoaSx0LmdyYXZleWFyZFBvc2l0aW9uLm9mZnNldCwxKTtjb25zdCBuPXQudGFyZ2V0UG9zaXRpb24ucGFyZW50O2lmKCF0aGlzLl9pc0luSW5zZXJ0ZWRFbGVtZW50KG4pKXt0aGlzLl9tYXJrSW5zZXJ0KG4sdC50YXJnZXRQb3NpdGlvbi5vZmZzZXQsZS5tYXhPZmZzZXQpfWJyZWFrfX10aGlzLl9jYWNoZWRDaGFuZ2VzPW51bGx9YnVmZmVyTWFya2VyQ2hhbmdlKHQsZSxpLG4pe2NvbnN0IG89dGhpcy5fY2hhbmdlZE1hcmtlcnMuZ2V0KHQpO2lmKCFvKXt0aGlzLl9jaGFuZ2VkTWFya2Vycy5zZXQodCx7b2xkUmFuZ2U6ZSxuZXdSYW5nZTppLGFmZmVjdHNEYXRhOm59KX1lbHNle28ubmV3UmFuZ2U9aTtvLmFmZmVjdHNEYXRhPW47aWYoby5vbGRSYW5nZT09bnVsbCYmby5uZXdSYW5nZT09bnVsbCl7dGhpcy5fY2hhbmdlZE1hcmtlcnMuZGVsZXRlKHQpfX19Z2V0TWFya2Vyc1RvUmVtb3ZlKCl7Y29uc3QgdD1bXTtmb3IoY29uc3RbZSxpXW9mIHRoaXMuX2NoYW5nZWRNYXJrZXJzKXtpZihpLm9sZFJhbmdlIT1udWxsKXt0LnB1c2goe25hbWU6ZSxyYW5nZTppLm9sZFJhbmdlfSl9fXJldHVybiB0fWdldE1hcmtlcnNUb0FkZCgpe2NvbnN0IHQ9W107Zm9yKGNvbnN0W2UsaV1vZiB0aGlzLl9jaGFuZ2VkTWFya2Vycyl7aWYoaS5uZXdSYW5nZSE9bnVsbCl7dC5wdXNoKHtuYW1lOmUscmFuZ2U6aS5uZXdSYW5nZX0pfX1yZXR1cm4gdH1nZXRDaGFuZ2VkTWFya2Vycygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX2NoYW5nZWRNYXJrZXJzKS5tYXAodD0+KHtuYW1lOnRbMF0sZGF0YTp7b2xkUmFuZ2U6dFsxXS5vbGRSYW5nZSxuZXdSYW5nZTp0WzFdLm5ld1JhbmdlfX0pKX1oYXNEYXRhQ2hhbmdlcygpe2Zvcihjb25zdFssdF1vZiB0aGlzLl9jaGFuZ2VkTWFya2Vycyl7aWYodC5hZmZlY3RzRGF0YSl7cmV0dXJuIHRydWV9fXJldHVybiB0aGlzLl9jaGFuZ2VzSW5FbGVtZW50LnNpemU+MH1nZXRDaGFuZ2VzKHQ9e2luY2x1ZGVDaGFuZ2VzSW5HcmF2ZXlhcmQ6ZmFsc2V9KXtpZih0aGlzLl9jYWNoZWRDaGFuZ2VzKXtpZih0LmluY2x1ZGVDaGFuZ2VzSW5HcmF2ZXlhcmQpe3JldHVybiB0aGlzLl9jYWNoZWRDaGFuZ2VzV2l0aEdyYXZleWFyZC5zbGljZSgpfWVsc2V7cmV0dXJuIHRoaXMuX2NhY2hlZENoYW5nZXMuc2xpY2UoKX19Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBvZiB0aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmtleXMoKSl7Y29uc3QgaT10aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmdldCh0KS5zb3J0KCh0LGUpPT57aWYodC5vZmZzZXQ9PT1lLm9mZnNldCl7aWYodC50eXBlIT1lLnR5cGUpe3JldHVybiB0LnR5cGU9PVwicmVtb3ZlXCI/LTE6MX1yZXR1cm4gMH1yZXR1cm4gdC5vZmZzZXQ8ZS5vZmZzZXQ/LTE6MX0pO2NvbnN0IG49dGhpcy5fZWxlbWVudFNuYXBzaG90cy5nZXQodCk7Y29uc3Qgbz1nbSh0LmdldENoaWxkcmVuKCkpO2NvbnN0IHI9bW0obi5sZW5ndGgsaSk7bGV0IHM9MDtsZXQgYT0wO2Zvcihjb25zdCBpIG9mIHIpe2lmKGk9PT1cImlcIil7ZS5wdXNoKHRoaXMuX2dldEluc2VydERpZmYodCxzLG9bc10ubmFtZSkpO3MrK31lbHNlIGlmKGk9PT1cInJcIil7ZS5wdXNoKHRoaXMuX2dldFJlbW92ZURpZmYodCxzLG5bYV0ubmFtZSkpO2ErK31lbHNlIGlmKGk9PT1cImFcIil7Y29uc3QgaT1vW3NdLmF0dHJpYnV0ZXM7Y29uc3Qgcj1uW2FdLmF0dHJpYnV0ZXM7bGV0IGM7aWYob1tzXS5uYW1lPT1cIiR0ZXh0XCIpe2M9bmV3ICRoKFVoLl9jcmVhdGVBdCh0LHMpLFVoLl9jcmVhdGVBdCh0LHMrMSkpfWVsc2V7Y29uc3QgZT10Lm9mZnNldFRvSW5kZXgocyk7Yz1uZXcgJGgoVWguX2NyZWF0ZUF0KHQscyksVWguX2NyZWF0ZUF0KHQuZ2V0Q2hpbGQoZSksMCkpfWUucHVzaCguLi50aGlzLl9nZXRBdHRyaWJ1dGVzRGlmZihjLHIsaSkpO3MrKzthKyt9ZWxzZXtzKys7YSsrfX19ZS5zb3J0KCh0LGUpPT57aWYodC5wb3NpdGlvbi5yb290IT1lLnBvc2l0aW9uLnJvb3Qpe3JldHVybiB0LnBvc2l0aW9uLnJvb3Qucm9vdE5hbWU8ZS5wb3NpdGlvbi5yb290LnJvb3ROYW1lPy0xOjF9aWYodC5wb3NpdGlvbi5pc0VxdWFsKGUucG9zaXRpb24pKXtyZXR1cm4gdC5jaGFuZ2VDb3VudC1lLmNoYW5nZUNvdW50fXJldHVybiB0LnBvc2l0aW9uLmlzQmVmb3JlKGUucG9zaXRpb24pPy0xOjF9KTtmb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKyl7Y29uc3QgaT1lW3QtMV07Y29uc3Qgbj1lW3RdO2NvbnN0IG89aS50eXBlPT1cInJlbW92ZVwiJiZuLnR5cGU9PVwicmVtb3ZlXCImJmkubmFtZT09XCIkdGV4dFwiJiZuLm5hbWU9PVwiJHRleHRcIiYmaS5wb3NpdGlvbi5pc0VxdWFsKG4ucG9zaXRpb24pO2NvbnN0IHI9aS50eXBlPT1cImluc2VydFwiJiZuLnR5cGU9PVwiaW5zZXJ0XCImJmkubmFtZT09XCIkdGV4dFwiJiZuLm5hbWU9PVwiJHRleHRcIiYmaS5wb3NpdGlvbi5wYXJlbnQ9PW4ucG9zaXRpb24ucGFyZW50JiZpLnBvc2l0aW9uLm9mZnNldCtpLmxlbmd0aD09bi5wb3NpdGlvbi5vZmZzZXQ7Y29uc3Qgcz1pLnR5cGU9PVwiYXR0cmlidXRlXCImJm4udHlwZT09XCJhdHRyaWJ1dGVcIiYmaS5wb3NpdGlvbi5wYXJlbnQ9PW4ucG9zaXRpb24ucGFyZW50JiZpLnJhbmdlLmlzRmxhdCYmbi5yYW5nZS5pc0ZsYXQmJmkucG9zaXRpb24ub2Zmc2V0K2kubGVuZ3RoPT1uLnBvc2l0aW9uLm9mZnNldCYmaS5hdHRyaWJ1dGVLZXk9PW4uYXR0cmlidXRlS2V5JiZpLmF0dHJpYnV0ZU9sZFZhbHVlPT1uLmF0dHJpYnV0ZU9sZFZhbHVlJiZpLmF0dHJpYnV0ZU5ld1ZhbHVlPT1uLmF0dHJpYnV0ZU5ld1ZhbHVlO2lmKG98fHJ8fHMpe2VbdC0xXS5sZW5ndGgrKztpZihzKXtlW3QtMV0ucmFuZ2UuZW5kPWVbdC0xXS5yYW5nZS5lbmQuZ2V0U2hpZnRlZEJ5KDEpfWUuc3BsaWNlKHQsMSk7dC0tfX1mb3IoY29uc3QgdCBvZiBlKXtkZWxldGUgdC5jaGFuZ2VDb3VudDtpZih0LnR5cGU9PVwiYXR0cmlidXRlXCIpe2RlbGV0ZSB0LnBvc2l0aW9uO2RlbGV0ZSB0Lmxlbmd0aH19dGhpcy5fY2hhbmdlQ291bnQ9MDt0aGlzLl9jYWNoZWRDaGFuZ2VzV2l0aEdyYXZleWFyZD1lLnNsaWNlKCk7dGhpcy5fY2FjaGVkQ2hhbmdlcz1lLnNsaWNlKCkuZmlsdGVyKHBtKTtpZih0LmluY2x1ZGVDaGFuZ2VzSW5HcmF2ZXlhcmQpe3JldHVybiB0aGlzLl9jYWNoZWRDaGFuZ2VzV2l0aEdyYXZleWFyZH1lbHNle3JldHVybiB0aGlzLl9jYWNoZWRDaGFuZ2VzfX1yZXNldCgpe3RoaXMuX2NoYW5nZXNJbkVsZW1lbnQuY2xlYXIoKTt0aGlzLl9lbGVtZW50U25hcHNob3RzLmNsZWFyKCk7dGhpcy5fY2hhbmdlZE1hcmtlcnMuY2xlYXIoKTt0aGlzLl9jYWNoZWRDaGFuZ2VzPW51bGx9X21hcmtJbnNlcnQodCxlLGkpe2NvbnN0IG49e3R5cGU6XCJpbnNlcnRcIixvZmZzZXQ6ZSxob3dNYW55OmksY291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK307dGhpcy5fbWFya0NoYW5nZSh0LG4pfV9tYXJrUmVtb3ZlKHQsZSxpKXtjb25zdCBuPXt0eXBlOlwicmVtb3ZlXCIsb2Zmc2V0OmUsaG93TWFueTppLGNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9O3RoaXMuX21hcmtDaGFuZ2UodCxuKTt0aGlzLl9yZW1vdmVBbGxOZXN0ZWRDaGFuZ2VzKHQsZSxpKX1fbWFya0F0dHJpYnV0ZSh0KXtjb25zdCBlPXt0eXBlOlwiYXR0cmlidXRlXCIsb2Zmc2V0OnQuc3RhcnRPZmZzZXQsaG93TWFueTp0Lm9mZnNldFNpemUsY291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK307dGhpcy5fbWFya0NoYW5nZSh0LnBhcmVudCxlKX1fbWFya0NoYW5nZSh0LGUpe3RoaXMuX21ha2VTbmFwc2hvdCh0KTtjb25zdCBpPXRoaXMuX2dldENoYW5nZXNGb3JFbGVtZW50KHQpO3RoaXMuX2hhbmRsZUNoYW5nZShlLGkpO2kucHVzaChlKTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKyl7aWYoaVt0XS5ob3dNYW55PDEpe2kuc3BsaWNlKHQsMSk7dC0tfX19X2dldENoYW5nZXNGb3JFbGVtZW50KHQpe2xldCBlO2lmKHRoaXMuX2NoYW5nZXNJbkVsZW1lbnQuaGFzKHQpKXtlPXRoaXMuX2NoYW5nZXNJbkVsZW1lbnQuZ2V0KHQpfWVsc2V7ZT1bXTt0aGlzLl9jaGFuZ2VzSW5FbGVtZW50LnNldCh0LGUpfXJldHVybiBlfV9tYWtlU25hcHNob3QodCl7aWYoIXRoaXMuX2VsZW1lbnRTbmFwc2hvdHMuaGFzKHQpKXt0aGlzLl9lbGVtZW50U25hcHNob3RzLnNldCh0LGdtKHQuZ2V0Q2hpbGRyZW4oKSkpfX1faGFuZGxlQ2hhbmdlKHQsZSl7dC5ub2Rlc1RvSGFuZGxlPXQuaG93TWFueTtmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBuPXQub2Zmc2V0K3QuaG93TWFueTtjb25zdCBvPWkub2Zmc2V0K2kuaG93TWFueTtpZih0LnR5cGU9PVwiaW5zZXJ0XCIpe2lmKGkudHlwZT09XCJpbnNlcnRcIil7aWYodC5vZmZzZXQ8PWkub2Zmc2V0KXtpLm9mZnNldCs9dC5ob3dNYW55fWVsc2UgaWYodC5vZmZzZXQ8byl7aS5ob3dNYW55Kz10Lm5vZGVzVG9IYW5kbGU7dC5ub2Rlc1RvSGFuZGxlPTB9fWlmKGkudHlwZT09XCJyZW1vdmVcIil7aWYodC5vZmZzZXQ8aS5vZmZzZXQpe2kub2Zmc2V0Kz10Lmhvd01hbnl9fWlmKGkudHlwZT09XCJhdHRyaWJ1dGVcIil7aWYodC5vZmZzZXQ8PWkub2Zmc2V0KXtpLm9mZnNldCs9dC5ob3dNYW55fWVsc2UgaWYodC5vZmZzZXQ8byl7Y29uc3Qgbz1pLmhvd01hbnk7aS5ob3dNYW55PXQub2Zmc2V0LWkub2Zmc2V0O2UudW5zaGlmdCh7dHlwZTpcImF0dHJpYnV0ZVwiLG9mZnNldDpuLGhvd01hbnk6by1pLmhvd01hbnksY291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK30pfX19aWYodC50eXBlPT1cInJlbW92ZVwiKXtpZihpLnR5cGU9PVwiaW5zZXJ0XCIpe2lmKG48PWkub2Zmc2V0KXtpLm9mZnNldC09dC5ob3dNYW55fWVsc2UgaWYobjw9byl7aWYodC5vZmZzZXQ8aS5vZmZzZXQpe2NvbnN0IGU9bi1pLm9mZnNldDtpLm9mZnNldD10Lm9mZnNldDtpLmhvd01hbnktPWU7dC5ub2Rlc1RvSGFuZGxlLT1lfWVsc2V7aS5ob3dNYW55LT10Lm5vZGVzVG9IYW5kbGU7dC5ub2Rlc1RvSGFuZGxlPTB9fWVsc2V7aWYodC5vZmZzZXQ8PWkub2Zmc2V0KXt0Lm5vZGVzVG9IYW5kbGUtPWkuaG93TWFueTtpLmhvd01hbnk9MH1lbHNlIGlmKHQub2Zmc2V0PG8pe2NvbnN0IGU9by10Lm9mZnNldDtpLmhvd01hbnktPWU7dC5ub2Rlc1RvSGFuZGxlLT1lfX19aWYoaS50eXBlPT1cInJlbW92ZVwiKXtpZihuPD1pLm9mZnNldCl7aS5vZmZzZXQtPXQuaG93TWFueX1lbHNlIGlmKHQub2Zmc2V0PGkub2Zmc2V0KXt0Lm5vZGVzVG9IYW5kbGUrPWkuaG93TWFueTtpLmhvd01hbnk9MH19aWYoaS50eXBlPT1cImF0dHJpYnV0ZVwiKXtpZihuPD1pLm9mZnNldCl7aS5vZmZzZXQtPXQuaG93TWFueX1lbHNlIGlmKHQub2Zmc2V0PGkub2Zmc2V0KXtjb25zdCBlPW4taS5vZmZzZXQ7aS5vZmZzZXQ9dC5vZmZzZXQ7aS5ob3dNYW55LT1lfWVsc2UgaWYodC5vZmZzZXQ8byl7aWYobjw9byl7Y29uc3Qgbj1pLmhvd01hbnk7aS5ob3dNYW55PXQub2Zmc2V0LWkub2Zmc2V0O2NvbnN0IG89bi1pLmhvd01hbnktdC5ub2Rlc1RvSGFuZGxlO2UudW5zaGlmdCh7dHlwZTpcImF0dHJpYnV0ZVwiLG9mZnNldDp0Lm9mZnNldCxob3dNYW55Om8sY291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK30pfWVsc2V7aS5ob3dNYW55LT1vLXQub2Zmc2V0fX19fWlmKHQudHlwZT09XCJhdHRyaWJ1dGVcIil7aWYoaS50eXBlPT1cImluc2VydFwiKXtpZih0Lm9mZnNldDxpLm9mZnNldCYmbj5pLm9mZnNldCl7aWYobj5vKXtjb25zdCB0PXt0eXBlOlwiYXR0cmlidXRlXCIsb2Zmc2V0Om8saG93TWFueTpuLW8sY291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK307dGhpcy5faGFuZGxlQ2hhbmdlKHQsZSk7ZS5wdXNoKHQpfXQubm9kZXNUb0hhbmRsZT1pLm9mZnNldC10Lm9mZnNldDt0Lmhvd01hbnk9dC5ub2Rlc1RvSGFuZGxlfWVsc2UgaWYodC5vZmZzZXQ+PWkub2Zmc2V0JiZ0Lm9mZnNldDxvKXtpZihuPm8pe3Qubm9kZXNUb0hhbmRsZT1uLW87dC5vZmZzZXQ9b31lbHNle3Qubm9kZXNUb0hhbmRsZT0wfX19aWYoaS50eXBlPT1cInJlbW92ZVwiKXtpZih0Lm9mZnNldDxpLm9mZnNldCYmbj5pLm9mZnNldCl7Y29uc3Qgbz17dHlwZTpcImF0dHJpYnV0ZVwiLG9mZnNldDppLm9mZnNldCxob3dNYW55Om4taS5vZmZzZXQsY291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK307dGhpcy5faGFuZGxlQ2hhbmdlKG8sZSk7ZS5wdXNoKG8pO3Qubm9kZXNUb0hhbmRsZT1pLm9mZnNldC10Lm9mZnNldDt0Lmhvd01hbnk9dC5ub2Rlc1RvSGFuZGxlfX1pZihpLnR5cGU9PVwiYXR0cmlidXRlXCIpe2lmKHQub2Zmc2V0Pj1pLm9mZnNldCYmbjw9byl7dC5ub2Rlc1RvSGFuZGxlPTA7dC5ob3dNYW55PTA7dC5vZmZzZXQ9MH1lbHNlIGlmKHQub2Zmc2V0PD1pLm9mZnNldCYmbj49byl7aS5ob3dNYW55PTB9fX19dC5ob3dNYW55PXQubm9kZXNUb0hhbmRsZTtkZWxldGUgdC5ub2Rlc1RvSGFuZGxlfV9nZXRJbnNlcnREaWZmKHQsZSxpKXtyZXR1cm57dHlwZTpcImluc2VydFwiLHBvc2l0aW9uOlVoLl9jcmVhdGVBdCh0LGUpLG5hbWU6aSxsZW5ndGg6MSxjaGFuZ2VDb3VudDp0aGlzLl9jaGFuZ2VDb3VudCsrfX1fZ2V0UmVtb3ZlRGlmZih0LGUsaSl7cmV0dXJue3R5cGU6XCJyZW1vdmVcIixwb3NpdGlvbjpVaC5fY3JlYXRlQXQodCxlKSxuYW1lOmksbGVuZ3RoOjEsY2hhbmdlQ291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK319X2dldEF0dHJpYnV0ZXNEaWZmKHQsZSxpKXtjb25zdCBuPVtdO2k9bmV3IE1hcChpKTtmb3IoY29uc3RbbyxyXW9mIGUpe2NvbnN0IGU9aS5oYXMobyk/aS5nZXQobyk6bnVsbDtpZihlIT09cil7bi5wdXNoKHt0eXBlOlwiYXR0cmlidXRlXCIscG9zaXRpb246dC5zdGFydCxyYW5nZTp0LmNsb25lKCksbGVuZ3RoOjEsYXR0cmlidXRlS2V5Om8sYXR0cmlidXRlT2xkVmFsdWU6cixhdHRyaWJ1dGVOZXdWYWx1ZTplLGNoYW5nZUNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9KX1pLmRlbGV0ZShvKX1mb3IoY29uc3RbZSxvXW9mIGkpe24ucHVzaCh7dHlwZTpcImF0dHJpYnV0ZVwiLHBvc2l0aW9uOnQuc3RhcnQscmFuZ2U6dC5jbG9uZSgpLGxlbmd0aDoxLGF0dHJpYnV0ZUtleTplLGF0dHJpYnV0ZU9sZFZhbHVlOm51bGwsYXR0cmlidXRlTmV3VmFsdWU6byxjaGFuZ2VDb3VudDp0aGlzLl9jaGFuZ2VDb3VudCsrfSl9cmV0dXJuIG59X2lzSW5JbnNlcnRlZEVsZW1lbnQodCl7Y29uc3QgZT10LnBhcmVudDtpZighZSl7cmV0dXJuIGZhbHNlfWNvbnN0IGk9dGhpcy5fY2hhbmdlc0luRWxlbWVudC5nZXQoZSk7Y29uc3Qgbj10LnN0YXJ0T2Zmc2V0O2lmKGkpe2Zvcihjb25zdCB0IG9mIGkpe2lmKHQudHlwZT09XCJpbnNlcnRcIiYmbj49dC5vZmZzZXQmJm48dC5vZmZzZXQrdC5ob3dNYW55KXtyZXR1cm4gdHJ1ZX19fXJldHVybiB0aGlzLl9pc0luSW5zZXJ0ZWRFbGVtZW50KGUpfV9yZW1vdmVBbGxOZXN0ZWRDaGFuZ2VzKHQsZSxpKXtjb25zdCBuPW5ldyAkaChVaC5fY3JlYXRlQXQodCxlKSxVaC5fY3JlYXRlQXQodCxlK2kpKTtmb3IoY29uc3QgdCBvZiBuLmdldEl0ZW1zKHtzaGFsbG93OnRydWV9KSl7aWYodC5pcyhcImVsZW1lbnRcIikpe3RoaXMuX2VsZW1lbnRTbmFwc2hvdHMuZGVsZXRlKHQpO3RoaXMuX2NoYW5nZXNJbkVsZW1lbnQuZGVsZXRlKHQpO3RoaXMuX3JlbW92ZUFsbE5lc3RlZENoYW5nZXModCwwLHQubWF4T2Zmc2V0KX19fX1mdW5jdGlvbiBnbSh0KXtjb25zdCBlPVtdO2Zvcihjb25zdCBpIG9mIHQpe2lmKGkuaXMoXCJ0ZXh0XCIpKXtmb3IobGV0IHQ9MDt0PGkuZGF0YS5sZW5ndGg7dCsrKXtlLnB1c2goe25hbWU6XCIkdGV4dFwiLGF0dHJpYnV0ZXM6bmV3IE1hcChpLmdldEF0dHJpYnV0ZXMoKSl9KX19ZWxzZXtlLnB1c2goe25hbWU6aS5uYW1lLGF0dHJpYnV0ZXM6bmV3IE1hcChpLmdldEF0dHJpYnV0ZXMoKSl9KX19cmV0dXJuIGV9ZnVuY3Rpb24gbW0odCxlKXtjb25zdCBpPVtdO2xldCBuPTA7bGV0IG89MDtmb3IoY29uc3QgdCBvZiBlKXtpZih0Lm9mZnNldD5uKXtmb3IobGV0IGU9MDtlPHQub2Zmc2V0LW47ZSsrKXtpLnB1c2goXCJlXCIpfW8rPXQub2Zmc2V0LW59aWYodC50eXBlPT1cImluc2VydFwiKXtmb3IobGV0IGU9MDtlPHQuaG93TWFueTtlKyspe2kucHVzaChcImlcIil9bj10Lm9mZnNldCt0Lmhvd01hbnl9ZWxzZSBpZih0LnR5cGU9PVwicmVtb3ZlXCIpe2ZvcihsZXQgZT0wO2U8dC5ob3dNYW55O2UrKyl7aS5wdXNoKFwiclwiKX1uPXQub2Zmc2V0O28rPXQuaG93TWFueX1lbHNle2kucHVzaCguLi5cImFcIi5yZXBlYXQodC5ob3dNYW55KS5zcGxpdChcIlwiKSk7bj10Lm9mZnNldCt0Lmhvd01hbnk7bys9dC5ob3dNYW55fX1pZihvPHQpe2ZvcihsZXQgZT0wO2U8dC1vLW47ZSsrKXtpLnB1c2goXCJlXCIpfX1yZXR1cm4gaX1mdW5jdGlvbiBwbSh0KXtjb25zdCBlPXQucG9zaXRpb24mJnQucG9zaXRpb24ucm9vdC5yb290TmFtZT09XCIkZ3JhdmV5YXJkXCI7Y29uc3QgaT10LnJhbmdlJiZ0LnJhbmdlLnJvb3Qucm9vdE5hbWU9PVwiJGdyYXZleWFyZFwiO3JldHVybiFlJiYhaX1jbGFzcyBibXtjb25zdHJ1Y3Rvcigpe3RoaXMuX29wZXJhdGlvbnM9W107dGhpcy5fdW5kb1BhaXJzPW5ldyBNYXA7dGhpcy5fdW5kb25lT3BlcmF0aW9ucz1uZXcgU2V0fWFkZE9wZXJhdGlvbih0KXtpZih0aGlzLl9vcGVyYXRpb25zLmluY2x1ZGVzKHQpKXtyZXR1cm59dGhpcy5fb3BlcmF0aW9ucy5wdXNoKHQpfWdldE9wZXJhdGlvbnModD0wLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXtpZih0PDApe3JldHVybltdfXJldHVybiB0aGlzLl9vcGVyYXRpb25zLnNsaWNlKHQsZSl9Z2V0T3BlcmF0aW9uKHQpe3JldHVybiB0aGlzLl9vcGVyYXRpb25zW3RdfXNldE9wZXJhdGlvbkFzVW5kb25lKHQsZSl7dGhpcy5fdW5kb1BhaXJzLnNldChlLHQpO3RoaXMuX3VuZG9uZU9wZXJhdGlvbnMuYWRkKHQpfWlzVW5kb2luZ09wZXJhdGlvbih0KXtyZXR1cm4gdGhpcy5fdW5kb1BhaXJzLmhhcyh0KX1pc1VuZG9uZU9wZXJhdGlvbih0KXtyZXR1cm4gdGhpcy5fdW5kb25lT3BlcmF0aW9ucy5oYXModCl9Z2V0VW5kb25lT3BlcmF0aW9uKHQpe3JldHVybiB0aGlzLl91bmRvUGFpcnMuZ2V0KHQpfX1mdW5jdGlvbiB3bSh0KXtyZXR1cm4hIXQmJnQubGVuZ3RoPT0xJiYvW1xcdTAzMDAtXFx1MDM2ZlxcdTFhYjAtXFx1MWFmZlxcdTFkYzAtXFx1MWRmZlxcdTIwZDAtXFx1MjBmZlxcdWZlMjAtXFx1ZmUyZl0vLnRlc3QodCl9ZnVuY3Rpb24ga20odCl7cmV0dXJuISF0JiZ0Lmxlbmd0aD09MSYmL1tcXHVkODAwLVxcdWRiZmZdLy50ZXN0KHQpfWZ1bmN0aW9uIF9tKHQpe3JldHVybiEhdCYmdC5sZW5ndGg9PTEmJi9bXFx1ZGMwMC1cXHVkZmZmXS8udGVzdCh0KX1mdW5jdGlvbiB2bSh0LGUpe3JldHVybiBrbSh0LmNoYXJBdChlLTEpKSYmX20odC5jaGFyQXQoZSkpfWZ1bmN0aW9uIHltKHQsZSl7cmV0dXJuIHdtKHQuY2hhckF0KGUpKX1jb25zdCB4bT1cIiRncmF2ZXlhcmRcIjtjbGFzcyBDbXtjb25zdHJ1Y3Rvcih0KXt0aGlzLm1vZGVsPXQ7dGhpcy52ZXJzaW9uPTA7dGhpcy5oaXN0b3J5PW5ldyBibSh0aGlzKTt0aGlzLnNlbGVjdGlvbj1uZXcgZGYodGhpcyk7dGhpcy5yb290cz1uZXcgeXMoe2lkUHJvcGVydHk6XCJyb290TmFtZVwifSk7dGhpcy5kaWZmZXI9bmV3IGZtKHQubWFya2Vycyk7dGhpcy5fcG9zdEZpeGVycz1uZXcgU2V0O3RoaXMuX2hhc1NlbGVjdGlvbkNoYW5nZWRGcm9tVGhlTGFzdENoYW5nZUJsb2NrPWZhbHNlO3RoaXMuY3JlYXRlUm9vdChcIiRyb290XCIseG0pO3RoaXMubGlzdGVuVG8odCxcImFwcGx5T3BlcmF0aW9uXCIsKHQsZSk9Pntjb25zdCBpPWVbMF07aWYoaS5pc0RvY3VtZW50T3BlcmF0aW9uJiZpLmJhc2VWZXJzaW9uIT09dGhpcy52ZXJzaW9uKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibW9kZWwtZG9jdW1lbnQtYXBwbHlPcGVyYXRpb24td3JvbmctdmVyc2lvbjogT25seSBvcGVyYXRpb25zIHdpdGggbWF0Y2hpbmcgdmVyc2lvbnMgY2FuIGJlIGFwcGxpZWQuXCIsdGhpcyx7b3BlcmF0aW9uOml9KX19LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pO3RoaXMubGlzdGVuVG8odCxcImFwcGx5T3BlcmF0aW9uXCIsKHQsZSk9Pntjb25zdCBpPWVbMF07aWYoaS5pc0RvY3VtZW50T3BlcmF0aW9uKXt0aGlzLmRpZmZlci5idWZmZXJPcGVyYXRpb24oaSl9fSx7cHJpb3JpdHk6XCJoaWdoXCJ9KTt0aGlzLmxpc3RlblRvKHQsXCJhcHBseU9wZXJhdGlvblwiLCh0LGUpPT57Y29uc3QgaT1lWzBdO2lmKGkuaXNEb2N1bWVudE9wZXJhdGlvbil7dGhpcy52ZXJzaW9uKys7dGhpcy5oaXN0b3J5LmFkZE9wZXJhdGlvbihpKX19LHtwcmlvcml0eTpcImxvd1wifSk7dGhpcy5saXN0ZW5Ubyh0aGlzLnNlbGVjdGlvbixcImNoYW5nZVwiLCgpPT57dGhpcy5faGFzU2VsZWN0aW9uQ2hhbmdlZEZyb21UaGVMYXN0Q2hhbmdlQmxvY2s9dHJ1ZX0pO3RoaXMubGlzdGVuVG8odC5tYXJrZXJzLFwidXBkYXRlXCIsKHQsZSxpLG4pPT57dGhpcy5kaWZmZXIuYnVmZmVyTWFya2VyQ2hhbmdlKGUubmFtZSxpLG4sZS5hZmZlY3RzRGF0YSk7aWYoaT09PW51bGwpe2Uub24oXCJjaGFuZ2VcIiwodCxpKT0+e3RoaXMuZGlmZmVyLmJ1ZmZlck1hcmtlckNoYW5nZShlLm5hbWUsaSxlLmdldFJhbmdlKCksZS5hZmZlY3RzRGF0YSl9KX19KX1nZXQgZ3JhdmV5YXJkKCl7cmV0dXJuIHRoaXMuZ2V0Um9vdCh4bSl9Y3JlYXRlUm9vdCh0PVwiJHJvb3RcIixlPVwibWFpblwiKXtpZih0aGlzLnJvb3RzLmdldChlKSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIm1vZGVsLWRvY3VtZW50LWNyZWF0ZVJvb3QtbmFtZS1leGlzdHM6IFJvb3Qgd2l0aCBzcGVjaWZpZWQgbmFtZSBhbHJlYWR5IGV4aXN0cy5cIix0aGlzLHtuYW1lOmV9KX1jb25zdCBpPW5ldyBzbSh0aGlzLHQsZSk7dGhpcy5yb290cy5hZGQoaSk7cmV0dXJuIGl9ZGVzdHJveSgpe3RoaXMuc2VsZWN0aW9uLmRlc3Ryb3koKTt0aGlzLnN0b3BMaXN0ZW5pbmcoKX1nZXRSb290KHQ9XCJtYWluXCIpe3JldHVybiB0aGlzLnJvb3RzLmdldCh0KX1nZXRSb290TmFtZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJvb3RzLHQ9PnQucm9vdE5hbWUpLmZpbHRlcih0PT50IT14bSl9cmVnaXN0ZXJQb3N0Rml4ZXIodCl7dGhpcy5fcG9zdEZpeGVycy5hZGQodCl9dG9KU09OKCl7Y29uc3QgdD1Ccyh0aGlzKTt0LnNlbGVjdGlvbj1cIltlbmdpbmUubW9kZWwuRG9jdW1lbnRTZWxlY3Rpb25dXCI7dC5tb2RlbD1cIltlbmdpbmUubW9kZWwuTW9kZWxdXCI7cmV0dXJuIHR9X2hhbmRsZUNoYW5nZUJsb2NrKHQpe2lmKHRoaXMuX2hhc0RvY3VtZW50Q2hhbmdlZEZyb21UaGVMYXN0Q2hhbmdlQmxvY2soKSl7dGhpcy5fY2FsbFBvc3RGaXhlcnModCk7dGhpcy5zZWxlY3Rpb24ucmVmcmVzaCgpO2lmKHRoaXMuZGlmZmVyLmhhc0RhdGFDaGFuZ2VzKCkpe3RoaXMuZmlyZShcImNoYW5nZTpkYXRhXCIsdC5iYXRjaCl9ZWxzZXt0aGlzLmZpcmUoXCJjaGFuZ2VcIix0LmJhdGNoKX10aGlzLnNlbGVjdGlvbi5yZWZyZXNoKCk7dGhpcy5kaWZmZXIucmVzZXQoKX10aGlzLl9oYXNTZWxlY3Rpb25DaGFuZ2VkRnJvbVRoZUxhc3RDaGFuZ2VCbG9jaz1mYWxzZX1faGFzRG9jdW1lbnRDaGFuZ2VkRnJvbVRoZUxhc3RDaGFuZ2VCbG9jaygpe3JldHVybiF0aGlzLmRpZmZlci5pc0VtcHR5fHx0aGlzLl9oYXNTZWxlY3Rpb25DaGFuZ2VkRnJvbVRoZUxhc3RDaGFuZ2VCbG9ja31fZ2V0RGVmYXVsdFJvb3QoKXtmb3IoY29uc3QgdCBvZiB0aGlzLnJvb3RzKXtpZih0IT09dGhpcy5ncmF2ZXlhcmQpe3JldHVybiB0fX1yZXR1cm4gdGhpcy5ncmF2ZXlhcmR9X2dldERlZmF1bHRSYW5nZSgpe2NvbnN0IHQ9dGhpcy5fZ2V0RGVmYXVsdFJvb3QoKTtjb25zdCBlPXRoaXMubW9kZWw7Y29uc3QgaT1lLnNjaGVtYTtjb25zdCBuPWUuY3JlYXRlUG9zaXRpb25Gcm9tUGF0aCh0LFswXSk7Y29uc3Qgbz1pLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZShuKTtyZXR1cm4gb3x8ZS5jcmVhdGVSYW5nZShuKX1fdmFsaWRhdGVTZWxlY3Rpb25SYW5nZSh0KXtyZXR1cm4gQW0odC5zdGFydCkmJkFtKHQuZW5kKX1fY2FsbFBvc3RGaXhlcnModCl7bGV0IGU9ZmFsc2U7ZG97Zm9yKGNvbnN0IGkgb2YgdGhpcy5fcG9zdEZpeGVycyl7dGhpcy5zZWxlY3Rpb24ucmVmcmVzaCgpO2U9aSh0KTtpZihlKXticmVha319fXdoaWxlKGUpfX12cyhDbSxkcyk7ZnVuY3Rpb24gQW0odCl7Y29uc3QgZT10LnRleHROb2RlO2lmKGUpe2NvbnN0IGk9ZS5kYXRhO2NvbnN0IG49dC5vZmZzZXQtZS5zdGFydE9mZnNldDtyZXR1cm4hdm0oaSxuKSYmIXltKGksbil9cmV0dXJuIHRydWV9Y2xhc3MgVG17Y29uc3RydWN0b3IoKXt0aGlzLl9tYXJrZXJzPW5ldyBNYXB9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5fbWFya2Vycy52YWx1ZXMoKX1oYXModCl7cmV0dXJuIHRoaXMuX21hcmtlcnMuaGFzKHQpfWdldCh0KXtyZXR1cm4gdGhpcy5fbWFya2Vycy5nZXQodCl8fG51bGx9X3NldCh0LGUsaT1mYWxzZSxuPWZhbHNlKXtjb25zdCBvPXQgaW5zdGFuY2VvZiBQbT90Lm5hbWU6dDtjb25zdCByPXRoaXMuX21hcmtlcnMuZ2V0KG8pO2lmKHIpe2NvbnN0IHQ9ci5nZXRSYW5nZSgpO2xldCBzPWZhbHNlO2lmKCF0LmlzRXF1YWwoZSkpe3IuX2F0dGFjaExpdmVSYW5nZShyZi5mcm9tUmFuZ2UoZSkpO3M9dHJ1ZX1pZihpIT1yLm1hbmFnZWRVc2luZ09wZXJhdGlvbnMpe3IuX21hbmFnZWRVc2luZ09wZXJhdGlvbnM9aTtzPXRydWV9aWYodHlwZW9mIG49PT1cImJvb2xlYW5cIiYmbiE9ci5hZmZlY3RzRGF0YSl7ci5fYWZmZWN0c0RhdGE9bjtzPXRydWV9aWYocyl7dGhpcy5maXJlKFwidXBkYXRlOlwiK28scix0LGUpfXJldHVybiByfWNvbnN0IHM9cmYuZnJvbVJhbmdlKGUpO2NvbnN0IGE9bmV3IFBtKG8scyxpLG4pO3RoaXMuX21hcmtlcnMuc2V0KG8sYSk7dGhpcy5maXJlKFwidXBkYXRlOlwiK28sYSxudWxsLGUpO3JldHVybiBhfV9yZW1vdmUodCl7Y29uc3QgZT10IGluc3RhbmNlb2YgUG0/dC5uYW1lOnQ7Y29uc3QgaT10aGlzLl9tYXJrZXJzLmdldChlKTtpZihpKXt0aGlzLl9tYXJrZXJzLmRlbGV0ZShlKTt0aGlzLmZpcmUoXCJ1cGRhdGU6XCIrZSxpLGkuZ2V0UmFuZ2UoKSxudWxsKTt0aGlzLl9kZXN0cm95TWFya2VyKGkpO3JldHVybiB0cnVlfXJldHVybiBmYWxzZX1fcmVmcmVzaCh0KXtjb25zdCBlPXQgaW5zdGFuY2VvZiBQbT90Lm5hbWU6dDtjb25zdCBpPXRoaXMuX21hcmtlcnMuZ2V0KGUpO2lmKCFpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibWFya2VyY29sbGVjdGlvbi1yZWZyZXNoLW1hcmtlci1ub3QtZXhpc3RzOiBNYXJrZXIgd2l0aCBwcm92aWRlZCBuYW1lIGRvZXMgbm90IGV4aXN0cy5cIix0aGlzKX1jb25zdCBuPWkuZ2V0UmFuZ2UoKTt0aGlzLmZpcmUoXCJ1cGRhdGU6XCIrZSxpLG4sbixpLm1hbmFnZWRVc2luZ09wZXJhdGlvbnMsaS5hZmZlY3RzRGF0YSl9KmdldE1hcmtlcnNBdFBvc2l0aW9uKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMpe2lmKGUuZ2V0UmFuZ2UoKS5jb250YWluc1Bvc2l0aW9uKHQpKXt5aWVsZCBlfX19KmdldE1hcmtlcnNJbnRlcnNlY3RpbmdSYW5nZSh0KXtmb3IoY29uc3QgZSBvZiB0aGlzKXtpZihlLmdldFJhbmdlKCkuZ2V0SW50ZXJzZWN0aW9uKHQpIT09bnVsbCl7eWllbGQgZX19fWRlc3Ryb3koKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9tYXJrZXJzLnZhbHVlcygpKXt0aGlzLl9kZXN0cm95TWFya2VyKHQpfXRoaXMuX21hcmtlcnM9bnVsbDt0aGlzLnN0b3BMaXN0ZW5pbmcoKX0qZ2V0TWFya2Vyc0dyb3VwKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuX21hcmtlcnMudmFsdWVzKCkpe2lmKGUubmFtZS5zdGFydHNXaXRoKHQrXCI6XCIpKXt5aWVsZCBlfX19X2Rlc3Ryb3lNYXJrZXIodCl7dC5zdG9wTGlzdGVuaW5nKCk7dC5fZGV0YWNoTGl2ZVJhbmdlKCl9fXZzKFRtLGRzKTtjbGFzcyBQbXtjb25zdHJ1Y3Rvcih0LGUsaSxuKXt0aGlzLm5hbWU9dDt0aGlzLl9saXZlUmFuZ2U9dGhpcy5fYXR0YWNoTGl2ZVJhbmdlKGUpO3RoaXMuX21hbmFnZWRVc2luZ09wZXJhdGlvbnM9aTt0aGlzLl9hZmZlY3RzRGF0YT1ufWdldCBtYW5hZ2VkVXNpbmdPcGVyYXRpb25zKCl7aWYoIXRoaXMuX2xpdmVSYW5nZSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIm1hcmtlci1kZXN0cm95ZWQ6IENhbm5vdCB1c2UgYSBkZXN0cm95ZWQgbWFya2VyIGluc3RhbmNlLlwiLHRoaXMpfXJldHVybiB0aGlzLl9tYW5hZ2VkVXNpbmdPcGVyYXRpb25zfWdldCBhZmZlY3RzRGF0YSgpe2lmKCF0aGlzLl9saXZlUmFuZ2Upe3Rocm93IG5ldyBzc1tcImJcIl0oXCJtYXJrZXItZGVzdHJveWVkOiBDYW5ub3QgdXNlIGEgZGVzdHJveWVkIG1hcmtlciBpbnN0YW5jZS5cIix0aGlzKX1yZXR1cm4gdGhpcy5fYWZmZWN0c0RhdGF9Z2V0U3RhcnQoKXtpZighdGhpcy5fbGl2ZVJhbmdlKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwibWFya2VyLWRlc3Ryb3llZDogQ2Fubm90IHVzZSBhIGRlc3Ryb3llZCBtYXJrZXIgaW5zdGFuY2UuXCIsdGhpcyl9cmV0dXJuIHRoaXMuX2xpdmVSYW5nZS5zdGFydC5jbG9uZSgpfWdldEVuZCgpe2lmKCF0aGlzLl9saXZlUmFuZ2Upe3Rocm93IG5ldyBzc1tcImJcIl0oXCJtYXJrZXItZGVzdHJveWVkOiBDYW5ub3QgdXNlIGEgZGVzdHJveWVkIG1hcmtlciBpbnN0YW5jZS5cIix0aGlzKX1yZXR1cm4gdGhpcy5fbGl2ZVJhbmdlLmVuZC5jbG9uZSgpfWdldFJhbmdlKCl7aWYoIXRoaXMuX2xpdmVSYW5nZSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcIm1hcmtlci1kZXN0cm95ZWQ6IENhbm5vdCB1c2UgYSBkZXN0cm95ZWQgbWFya2VyIGluc3RhbmNlLlwiLHRoaXMpfXJldHVybiB0aGlzLl9saXZlUmFuZ2UudG9SYW5nZSgpfWlzKHQpe3JldHVybiB0PT1cIm1hcmtlclwifHx0PT1cIm1vZGVsOm1hcmtlclwifV9hdHRhY2hMaXZlUmFuZ2UodCl7aWYodGhpcy5fbGl2ZVJhbmdlKXt0aGlzLl9kZXRhY2hMaXZlUmFuZ2UoKX10LmRlbGVnYXRlKFwiY2hhbmdlOnJhbmdlXCIpLnRvKHRoaXMpO3QuZGVsZWdhdGUoXCJjaGFuZ2U6Y29udGVudFwiKS50byh0aGlzKTt0aGlzLl9saXZlUmFuZ2U9dDtyZXR1cm4gdH1fZGV0YWNoTGl2ZVJhbmdlKCl7dGhpcy5fbGl2ZVJhbmdlLnN0b3BEZWxlZ2F0aW5nKFwiY2hhbmdlOnJhbmdlXCIsdGhpcyk7dGhpcy5fbGl2ZVJhbmdlLnN0b3BEZWxlZ2F0aW5nKFwiY2hhbmdlOmNvbnRlbnRcIix0aGlzKTt0aGlzLl9saXZlUmFuZ2UuZGV0YWNoKCk7dGhpcy5fbGl2ZVJhbmdlPW51bGx9fXZzKFBtLGRzKTtjbGFzcyBTbSBleHRlbmRzIExne2dldCB0eXBlKCl7cmV0dXJuXCJub29wXCJ9Y2xvbmUoKXtyZXR1cm4gbmV3IFNtKHRoaXMuYmFzZVZlcnNpb24pfWdldFJldmVyc2VkKCl7cmV0dXJuIG5ldyBTbSh0aGlzLmJhc2VWZXJzaW9uKzEpfV9leGVjdXRlKCl7fXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJOb09wZXJhdGlvblwifX1jb25zdCBFbT17fTtFbVtRZy5jbGFzc05hbWVdPVFnO0VtW3RtLmNsYXNzTmFtZV09dG07RW1bZW0uY2xhc3NOYW1lXT1lbTtFbVtaZy5jbGFzc05hbWVdPVpnO0VtW1NtLmNsYXNzTmFtZV09U207RW1bTGcuY2xhc3NOYW1lXT1MZztFbVtpbS5jbGFzc05hbWVdPWltO0VtW25tLmNsYXNzTmFtZV09bm07RW1bcm0uY2xhc3NOYW1lXT1ybTtFbVtvbS5jbGFzc05hbWVdPW9tO2NsYXNzIFJte3N0YXRpYyBmcm9tSlNPTih0LGUpe3JldHVybiBFbVt0Ll9fY2xhc3NOYW1lXS5mcm9tSlNPTih0LGUpfX1jbGFzcyBPbSBleHRlbmRzIFVoe2NvbnN0cnVjdG9yKHQsZSxpPVwidG9Ob25lXCIpe3N1cGVyKHQsZSxpKTtpZighdGhpcy5yb290LmlzKFwicm9vdEVsZW1lbnRcIikpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJtb2RlbC1saXZlcG9zaXRpb24tcm9vdC1ub3Qtcm9vdGVsZW1lbnQ6IExpdmVQb3NpdGlvbidzIHJvb3QgaGFzIHRvIGJlIGFuIGluc3RhbmNlIG9mIFJvb3RFbGVtZW50LlwiLHQpfUltLmNhbGwodGhpcyl9ZGV0YWNoKCl7dGhpcy5zdG9wTGlzdGVuaW5nKCl9aXModCl7cmV0dXJuIHQ9PVwibGl2ZVBvc2l0aW9uXCJ8fHQ9PVwibW9kZWw6bGl2ZVBvc2l0aW9uXCJ8fHN1cGVyLmlzKHQpfXRvUG9zaXRpb24oKXtyZXR1cm4gbmV3IFVoKHRoaXMucm9vdCx0aGlzLnBhdGguc2xpY2UoKSx0aGlzLnN0aWNraW5lc3MpfXN0YXRpYyBmcm9tUG9zaXRpb24odCxlKXtyZXR1cm4gbmV3IHRoaXModC5yb290LHQucGF0aC5zbGljZSgpLGU/ZTp0LnN0aWNraW5lc3MpfX1mdW5jdGlvbiBJbSgpe3RoaXMubGlzdGVuVG8odGhpcy5yb290LmRvY3VtZW50Lm1vZGVsLFwiYXBwbHlPcGVyYXRpb25cIiwodCxlKT0+e2NvbnN0IGk9ZVswXTtpZighaS5pc0RvY3VtZW50T3BlcmF0aW9uKXtyZXR1cm59Vm0uY2FsbCh0aGlzLGkpfSx7cHJpb3JpdHk6XCJsb3dcIn0pfWZ1bmN0aW9uIFZtKHQpe2NvbnN0IGU9dGhpcy5nZXRUcmFuc2Zvcm1lZEJ5T3BlcmF0aW9uKHQpO2lmKCF0aGlzLmlzRXF1YWwoZSkpe2NvbnN0IHQ9dGhpcy50b1Bvc2l0aW9uKCk7dGhpcy5wYXRoPWUucGF0aDt0aGlzLnJvb3Q9ZS5yb290O3RoaXMuZmlyZShcImNoYW5nZVwiLHQpfX12cyhPbSxkcyk7ZnVuY3Rpb24gTm0odCxlLGksbil7cmV0dXJuIHQuY2hhbmdlKG89PntsZXQgcjtpZighaSl7cj10LmRvY3VtZW50LnNlbGVjdGlvbn1lbHNlIGlmKGkgaW5zdGFuY2VvZiBYaHx8aSBpbnN0YW5jZW9mIGRmKXtyPWl9ZWxzZXtyPW8uY3JlYXRlU2VsZWN0aW9uKGksbil9aWYoIXIuaXNDb2xsYXBzZWQpe3QuZGVsZXRlQ29udGVudChyLHtkb05vdEF1dG9wYXJhZ3JhcGg6dHJ1ZX0pfWNvbnN0IHM9bmV3IE1tKHQsbyxyLmFuY2hvcik7bGV0IGE7aWYoZS5pcyhcImRvY3VtZW50RnJhZ21lbnRcIikpe2E9ZS5nZXRDaGlsZHJlbigpfWVsc2V7YT1bZV19cy5oYW5kbGVOb2RlcyhhLHtpc0ZpcnN0OnRydWUsaXNMYXN0OnRydWV9KTtjb25zdCBjPXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtpZihjKXtpZihyIGluc3RhbmNlb2YgZGYpe28uc2V0U2VsZWN0aW9uKGMpfWVsc2V7ci5zZXRUbyhjKX19ZWxzZXt9Y29uc3QgbD1zLmdldEFmZmVjdGVkUmFuZ2UoKXx8dC5jcmVhdGVSYW5nZShyLmFuY2hvcik7cy5kZXN0cm95KCk7cmV0dXJuIGx9KX1jbGFzcyBNbXtjb25zdHJ1Y3Rvcih0LGUsaSl7dGhpcy5tb2RlbD10O3RoaXMud3JpdGVyPWU7dGhpcy5wb3NpdGlvbj1pO3RoaXMuY2FuTWVyZ2VXaXRoPW5ldyBTZXQoW3RoaXMucG9zaXRpb24ucGFyZW50XSk7dGhpcy5zY2hlbWE9dC5zY2hlbWE7dGhpcy5fZmlsdGVyQXR0cmlidXRlc09mPVtdO3RoaXMuX2FmZmVjdGVkU3RhcnQ9bnVsbDt0aGlzLl9hZmZlY3RlZEVuZD1udWxsfWhhbmRsZU5vZGVzKHQsZSl7dD1BcnJheS5mcm9tKHQpO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBuPXRbaV07dGhpcy5faGFuZGxlTm9kZShuLHtpc0ZpcnN0Omk9PT0wJiZlLmlzRmlyc3QsaXNMYXN0Omk9PT10Lmxlbmd0aC0xJiZlLmlzTGFzdH0pfXRoaXMuc2NoZW1hLnJlbW92ZURpc2FsbG93ZWRBdHRyaWJ1dGVzKHRoaXMuX2ZpbHRlckF0dHJpYnV0ZXNPZix0aGlzLndyaXRlcik7dGhpcy5fZmlsdGVyQXR0cmlidXRlc09mPVtdfWdldFNlbGVjdGlvblJhbmdlKCl7aWYodGhpcy5ub2RlVG9TZWxlY3Qpe3JldHVybiAkaC5fY3JlYXRlT24odGhpcy5ub2RlVG9TZWxlY3QpfXJldHVybiB0aGlzLm1vZGVsLnNjaGVtYS5nZXROZWFyZXN0U2VsZWN0aW9uUmFuZ2UodGhpcy5wb3NpdGlvbil9Z2V0QWZmZWN0ZWRSYW5nZSgpe2lmKCF0aGlzLl9hZmZlY3RlZFN0YXJ0KXtyZXR1cm4gbnVsbH1yZXR1cm4gbmV3ICRoKHRoaXMuX2FmZmVjdGVkU3RhcnQsdGhpcy5fYWZmZWN0ZWRFbmQpfWRlc3Ryb3koKXtpZih0aGlzLl9hZmZlY3RlZFN0YXJ0KXt0aGlzLl9hZmZlY3RlZFN0YXJ0LmRldGFjaCgpfWlmKHRoaXMuX2FmZmVjdGVkRW5kKXt0aGlzLl9hZmZlY3RlZEVuZC5kZXRhY2goKX19X2hhbmRsZU5vZGUodCxlKXtpZih0aGlzLnNjaGVtYS5pc09iamVjdCh0KSl7dGhpcy5faGFuZGxlT2JqZWN0KHQsZSk7cmV0dXJufWNvbnN0IGk9dGhpcy5fY2hlY2tBbmRTcGxpdFRvQWxsb3dlZFBvc2l0aW9uKHQsZSk7aWYoIWkpe3RoaXMuX2hhbmRsZURpc2FsbG93ZWROb2RlKHQsZSk7cmV0dXJufXRoaXMuX2luc2VydCh0KTt0aGlzLl9tZXJnZVNpYmxpbmdzT2YodCxlKX1faGFuZGxlT2JqZWN0KHQsZSl7aWYodGhpcy5fY2hlY2tBbmRTcGxpdFRvQWxsb3dlZFBvc2l0aW9uKHQpKXt0aGlzLl9pbnNlcnQodCl9ZWxzZXt0aGlzLl90cnlBdXRvcGFyYWdyYXBoaW5nKHQsZSl9fV9oYW5kbGVEaXNhbGxvd2VkTm9kZSh0LGUpe2lmKHQuaXMoXCJlbGVtZW50XCIpKXt0aGlzLmhhbmRsZU5vZGVzKHQuZ2V0Q2hpbGRyZW4oKSxlKX1lbHNle3RoaXMuX3RyeUF1dG9wYXJhZ3JhcGhpbmcodCxlKX19X2luc2VydCh0KXtpZighdGhpcy5zY2hlbWEuY2hlY2tDaGlsZCh0aGlzLnBvc2l0aW9uLHQpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwiaW5zZXJ0Y29udGVudC13cm9uZy1wb3NpdGlvbjogR2l2ZW4gbm9kZSBjYW5ub3QgYmUgaW5zZXJ0ZWQgb24gdGhlIGdpdmVuIHBvc2l0aW9uLlwiLHRoaXMse25vZGU6dCxwb3NpdGlvbjp0aGlzLnBvc2l0aW9ufSl9Y29uc3QgZT1PbS5mcm9tUG9zaXRpb24odGhpcy5wb3NpdGlvbixcInRvTmV4dFwiKTt0aGlzLl9zZXRBZmZlY3RlZEJvdW5kYXJpZXModGhpcy5wb3NpdGlvbik7dGhpcy53cml0ZXIuaW5zZXJ0KHQsdGhpcy5wb3NpdGlvbik7dGhpcy5wb3NpdGlvbj1lLnRvUG9zaXRpb24oKTtlLmRldGFjaCgpO2lmKHRoaXMuc2NoZW1hLmlzT2JqZWN0KHQpJiYhdGhpcy5zY2hlbWEuY2hlY2tDaGlsZCh0aGlzLnBvc2l0aW9uLFwiJHRleHRcIikpe3RoaXMubm9kZVRvU2VsZWN0PXR9ZWxzZXt0aGlzLm5vZGVUb1NlbGVjdD1udWxsfXRoaXMuX2ZpbHRlckF0dHJpYnV0ZXNPZi5wdXNoKHQpfV9zZXRBZmZlY3RlZEJvdW5kYXJpZXModCl7aWYoIXRoaXMuX2FmZmVjdGVkU3RhcnQpe3RoaXMuX2FmZmVjdGVkU3RhcnQ9T20uZnJvbVBvc2l0aW9uKHQsXCJ0b1ByZXZpb3VzXCIpfWlmKCF0aGlzLl9hZmZlY3RlZEVuZHx8dGhpcy5fYWZmZWN0ZWRFbmQuaXNCZWZvcmUodCkpe2lmKHRoaXMuX2FmZmVjdGVkRW5kKXt0aGlzLl9hZmZlY3RlZEVuZC5kZXRhY2goKX10aGlzLl9hZmZlY3RlZEVuZD1PbS5mcm9tUG9zaXRpb24odCxcInRvTmV4dFwiKX19X21lcmdlU2libGluZ3NPZih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGpoKSl7cmV0dXJufWNvbnN0IGk9dGhpcy5fY2FuTWVyZ2VMZWZ0KHQsZSk7Y29uc3Qgbj10aGlzLl9jYW5NZXJnZVJpZ2h0KHQsZSk7Y29uc3Qgbz1PbS5fY3JlYXRlQmVmb3JlKHQpO28uc3RpY2tpbmVzcz1cInRvTmV4dFwiO2NvbnN0IHI9T20uX2NyZWF0ZUFmdGVyKHQpO3Iuc3RpY2tpbmVzcz1cInRvTmV4dFwiO2lmKGkpe2NvbnN0IHQ9T20uZnJvbVBvc2l0aW9uKHRoaXMucG9zaXRpb24pO3Quc3RpY2tpbmVzcz1cInRvTmV4dFwiO2lmKHRoaXMuX2FmZmVjdGVkU3RhcnQuaXNFcXVhbChvKSl7dGhpcy5fYWZmZWN0ZWRTdGFydC5kZXRhY2goKTt0aGlzLl9hZmZlY3RlZFN0YXJ0PU9tLl9jcmVhdGVBdChvLm5vZGVCZWZvcmUsXCJlbmRcIixcInRvUHJldmlvdXNcIil9dGhpcy53cml0ZXIubWVyZ2Uobyk7aWYoby5pc0VxdWFsKHRoaXMuX2FmZmVjdGVkRW5kKSYmZS5pc0xhc3Qpe3RoaXMuX2FmZmVjdGVkRW5kLmRldGFjaCgpO3RoaXMuX2FmZmVjdGVkRW5kPU9tLl9jcmVhdGVBdChvLm5vZGVCZWZvcmUsXCJlbmRcIixcInRvTmV4dFwiKX10aGlzLnBvc2l0aW9uPXQudG9Qb3NpdGlvbigpO3QuZGV0YWNoKCl9aWYobil7aWYoIXRoaXMucG9zaXRpb24uaXNFcXVhbChyKSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcImluc2VydGNvbnRlbnQtaW52YWxpZC1pbnNlcnRpb24tcG9zaXRpb25cIix0aGlzKX10aGlzLnBvc2l0aW9uPVVoLl9jcmVhdGVBdChyLm5vZGVCZWZvcmUsXCJlbmRcIik7Y29uc3QgdD1PbS5mcm9tUG9zaXRpb24odGhpcy5wb3NpdGlvbixcInRvUHJldmlvdXNcIik7aWYodGhpcy5fYWZmZWN0ZWRFbmQuaXNFcXVhbChyKSl7dGhpcy5fYWZmZWN0ZWRFbmQuZGV0YWNoKCk7dGhpcy5fYWZmZWN0ZWRFbmQ9T20uX2NyZWF0ZUF0KHIubm9kZUJlZm9yZSxcImVuZFwiLFwidG9OZXh0XCIpfXRoaXMud3JpdGVyLm1lcmdlKHIpO2lmKHIuZ2V0U2hpZnRlZEJ5KC0xKS5pc0VxdWFsKHRoaXMuX2FmZmVjdGVkU3RhcnQpJiZlLmlzRmlyc3Qpe3RoaXMuX2FmZmVjdGVkU3RhcnQuZGV0YWNoKCk7dGhpcy5fYWZmZWN0ZWRTdGFydD1PbS5fY3JlYXRlQXQoci5ub2RlQmVmb3JlLDAsXCJ0b1ByZXZpb3VzXCIpfXRoaXMucG9zaXRpb249dC50b1Bvc2l0aW9uKCk7dC5kZXRhY2goKX1pZihpfHxuKXt0aGlzLl9maWx0ZXJBdHRyaWJ1dGVzT2YucHVzaCh0aGlzLnBvc2l0aW9uLnBhcmVudCl9by5kZXRhY2goKTtyLmRldGFjaCgpfV9jYW5NZXJnZUxlZnQodCxlKXtjb25zdCBpPXQucHJldmlvdXNTaWJsaW5nO3JldHVybiBlLmlzRmlyc3QmJmkgaW5zdGFuY2VvZiBqaCYmdGhpcy5jYW5NZXJnZVdpdGguaGFzKGkpJiZ0aGlzLm1vZGVsLnNjaGVtYS5jaGVja01lcmdlKGksdCl9X2Nhbk1lcmdlUmlnaHQodCxlKXtjb25zdCBpPXQubmV4dFNpYmxpbmc7cmV0dXJuIGUuaXNMYXN0JiZpIGluc3RhbmNlb2YgamgmJnRoaXMuY2FuTWVyZ2VXaXRoLmhhcyhpKSYmdGhpcy5tb2RlbC5zY2hlbWEuY2hlY2tNZXJnZSh0LGkpfV90cnlBdXRvcGFyYWdyYXBoaW5nKHQsZSl7Y29uc3QgaT10aGlzLndyaXRlci5jcmVhdGVFbGVtZW50KFwicGFyYWdyYXBoXCIpO2lmKHRoaXMuX2dldEFsbG93ZWRJbihpLHRoaXMucG9zaXRpb24ucGFyZW50KSYmdGhpcy5zY2hlbWEuY2hlY2tDaGlsZChpLHQpKXtpLl9hcHBlbmRDaGlsZCh0KTt0aGlzLl9oYW5kbGVOb2RlKGksZSl9fV9jaGVja0FuZFNwbGl0VG9BbGxvd2VkUG9zaXRpb24odCl7Y29uc3QgZT10aGlzLl9nZXRBbGxvd2VkSW4odCx0aGlzLnBvc2l0aW9uLnBhcmVudCk7aWYoIWUpe3JldHVybiBmYWxzZX13aGlsZShlIT10aGlzLnBvc2l0aW9uLnBhcmVudCl7aWYodGhpcy5zY2hlbWEuaXNMaW1pdCh0aGlzLnBvc2l0aW9uLnBhcmVudCkpe3JldHVybiBmYWxzZX1pZih0aGlzLnBvc2l0aW9uLmlzQXRTdGFydCl7Y29uc3QgdD10aGlzLnBvc2l0aW9uLnBhcmVudDt0aGlzLnBvc2l0aW9uPXRoaXMud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQmVmb3JlKHQpO2lmKHQuaXNFbXB0eSYmdC5wYXJlbnQ9PT1lKXt0aGlzLndyaXRlci5yZW1vdmUodCl9fWVsc2UgaWYodGhpcy5wb3NpdGlvbi5pc0F0RW5kKXt0aGlzLnBvc2l0aW9uPXRoaXMud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIodGhpcy5wb3NpdGlvbi5wYXJlbnQpfWVsc2V7Y29uc3QgdD10aGlzLndyaXRlci5jcmVhdGVQb3NpdGlvbkFmdGVyKHRoaXMucG9zaXRpb24ucGFyZW50KTt0aGlzLl9zZXRBZmZlY3RlZEJvdW5kYXJpZXModGhpcy5wb3NpdGlvbik7dGhpcy53cml0ZXIuc3BsaXQodGhpcy5wb3NpdGlvbik7dGhpcy5wb3NpdGlvbj10O3RoaXMuY2FuTWVyZ2VXaXRoLmFkZCh0aGlzLnBvc2l0aW9uLm5vZGVBZnRlcil9fXJldHVybiB0cnVlfV9nZXRBbGxvd2VkSW4odCxlKXtpZih0aGlzLnNjaGVtYS5jaGVja0NoaWxkKGUsdCkpe3JldHVybiBlfWlmKGUucGFyZW50KXtyZXR1cm4gdGhpcy5fZ2V0QWxsb3dlZEluKHQsZS5wYXJlbnQpfXJldHVybiBudWxsfX1mdW5jdGlvbiBCbSh0LGUsaT17fSl7aWYoZS5pc0NvbGxhcHNlZCl7cmV0dXJufWNvbnN0IG49ZS5nZXRGaXJzdFJhbmdlKCk7aWYobi5yb290LnJvb3ROYW1lPT1cIiRncmF2ZXlhcmRcIil7cmV0dXJufWNvbnN0IG89dC5zY2hlbWE7dC5jaGFuZ2UodD0+e2lmKCFpLmRvTm90UmVzZXRFbnRpcmVDb250ZW50JiZIbShvLGUpKXtqbSh0LGUsbyk7cmV0dXJufWNvbnN0IHI9bi5zdGFydDtjb25zdCBzPU9tLmZyb21Qb3NpdGlvbihuLmVuZCxcInRvTmV4dFwiKTtpZighbi5zdGFydC5pc1RvdWNoaW5nKG4uZW5kKSl7dC5yZW1vdmUobil9aWYoIWkubGVhdmVVbm1lcmdlZCl7em0odCxyLHMpO28ucmVtb3ZlRGlzYWxsb3dlZEF0dHJpYnV0ZXMoci5wYXJlbnQuZ2V0Q2hpbGRyZW4oKSx0KX1XbSh0LGUscik7aWYoIWkuZG9Ob3RBdXRvcGFyYWdyYXBoJiZMbShvLHIpKXtEbSh0LHIsZSl9cy5kZXRhY2goKX0pfWZ1bmN0aW9uIHptKHQsZSxpKXtjb25zdCBuPWUucGFyZW50O2NvbnN0IG89aS5wYXJlbnQ7aWYobj09byl7cmV0dXJufWlmKHQubW9kZWwuc2NoZW1hLmlzTGltaXQobil8fHQubW9kZWwuc2NoZW1hLmlzTGltaXQobykpe3JldHVybn1pZighRm0oZSxpLHQubW9kZWwuc2NoZW1hKSl7cmV0dXJufWU9dC5jcmVhdGVQb3NpdGlvbkFmdGVyKG4pO2k9dC5jcmVhdGVQb3NpdGlvbkJlZm9yZShvKTtpZighaS5pc0VxdWFsKGUpKXt0Lmluc2VydChvLGUpfXQubWVyZ2UoZSk7d2hpbGUoaS5wYXJlbnQuaXNFbXB0eSl7Y29uc3QgZT1pLnBhcmVudDtpPXQuY3JlYXRlUG9zaXRpb25CZWZvcmUoZSk7dC5yZW1vdmUoZSl9em0odCxlLGkpfWZ1bmN0aW9uIExtKHQsZSl7Y29uc3QgaT10LmNoZWNrQ2hpbGQoZSxcIiR0ZXh0XCIpO2NvbnN0IG49dC5jaGVja0NoaWxkKGUsXCJwYXJhZ3JhcGhcIik7cmV0dXJuIWkmJm59ZnVuY3Rpb24gRm0odCxlLGkpe2NvbnN0IG49bmV3ICRoKHQsZSk7Zm9yKGNvbnN0IHQgb2Ygbi5nZXRXYWxrZXIoKSl7aWYoaS5pc0xpbWl0KHQuaXRlbSkpe3JldHVybiBmYWxzZX19cmV0dXJuIHRydWV9ZnVuY3Rpb24gRG0odCxlLGkpe2NvbnN0IG49dC5jcmVhdGVFbGVtZW50KFwicGFyYWdyYXBoXCIpO3QuaW5zZXJ0KG4sZSk7V20odCxpLHQuY3JlYXRlUG9zaXRpb25BdChuLDApKX1mdW5jdGlvbiBqbSh0LGUpe2NvbnN0IGk9dC5tb2RlbC5zY2hlbWEuZ2V0TGltaXRFbGVtZW50KGUpO3QucmVtb3ZlKHQuY3JlYXRlUmFuZ2VJbihpKSk7RG0odCx0LmNyZWF0ZVBvc2l0aW9uQXQoaSwwKSxlKX1mdW5jdGlvbiBIbSh0LGUpe2NvbnN0IGk9dC5nZXRMaW1pdEVsZW1lbnQoZSk7aWYoIWUuY29udGFpbnNFbnRpcmVDb250ZW50KGkpKXtyZXR1cm4gZmFsc2V9Y29uc3Qgbj1lLmdldEZpcnN0UmFuZ2UoKTtpZihuLnN0YXJ0LnBhcmVudD09bi5lbmQucGFyZW50KXtyZXR1cm4gZmFsc2V9cmV0dXJuIHQuY2hlY2tDaGlsZChpLFwicGFyYWdyYXBoXCIpfWZ1bmN0aW9uIFdtKHQsZSxpKXtpZihlIGluc3RhbmNlb2YgZGYpe3Quc2V0U2VsZWN0aW9uKGkpfWVsc2V7ZS5zZXRUbyhpKX19Y29uc3QgcW09JyAsLj8hOjtcIi0oKSc7ZnVuY3Rpb24gVW0odCxlLGk9e30pe2NvbnN0IG49dC5zY2hlbWE7Y29uc3Qgbz1pLmRpcmVjdGlvbiE9XCJiYWNrd2FyZFwiO2NvbnN0IHI9aS51bml0P2kudW5pdDpcImNoYXJhY3RlclwiO2NvbnN0IHM9ZS5mb2N1cztjb25zdCBhPW5ldyBXaCh7Ym91bmRhcmllczpKbShzLG8pLHNpbmdsZUNoYXJhY3RlcnM6dHJ1ZSxkaXJlY3Rpb246bz9cImZvcndhcmRcIjpcImJhY2t3YXJkXCJ9KTtjb25zdCBjPXt3YWxrZXI6YSxzY2hlbWE6bixpc0ZvcndhcmQ6byx1bml0OnJ9O2xldCBsO3doaWxlKGw9YS5uZXh0KCkpe2lmKGwuZG9uZSl7cmV0dXJufWNvbnN0IGk9JG0oYyxsLnZhbHVlKTtpZihpKXtpZihlIGluc3RhbmNlb2YgZGYpe3QuY2hhbmdlKHQ9Pnt0LnNldFNlbGVjdGlvbkZvY3VzKGkpfSl9ZWxzZXtlLnNldEZvY3VzKGkpfXJldHVybn19fWZ1bmN0aW9uICRtKHQsZSl7aWYoZS50eXBlPT1cInRleHRcIil7aWYodC51bml0PT09XCJ3b3JkXCIpe3JldHVybiBLbSh0LndhbGtlcix0LmlzRm9yd2FyZCl9cmV0dXJuIEdtKHQud2Fsa2VyLHQudW5pdCx0LmlzRm9yd2FyZCl9aWYoZS50eXBlPT0odC5pc0ZvcndhcmQ/XCJlbGVtZW50U3RhcnRcIjpcImVsZW1lbnRFbmRcIikpe2lmKHQuc2NoZW1hLmlzT2JqZWN0KGUuaXRlbSkpe3JldHVybiBVaC5fY3JlYXRlQXQoZS5pdGVtLHQuaXNGb3J3YXJkP1wiYWZ0ZXJcIjpcImJlZm9yZVwiKX1pZih0LnNjaGVtYS5jaGVja0NoaWxkKGUubmV4dFBvc2l0aW9uLFwiJHRleHRcIikpe3JldHVybiBlLm5leHRQb3NpdGlvbn19ZWxzZXtpZih0LnNjaGVtYS5pc0xpbWl0KGUuaXRlbSkpe3Qud2Fsa2VyLnNraXAoKCk9PnRydWUpO3JldHVybn1pZih0LnNjaGVtYS5jaGVja0NoaWxkKGUubmV4dFBvc2l0aW9uLFwiJHRleHRcIikpe3JldHVybiBlLm5leHRQb3NpdGlvbn19fWZ1bmN0aW9uIEdtKHQsZSl7Y29uc3QgaT10LnBvc2l0aW9uLnRleHROb2RlO2lmKGkpe2NvbnN0IG49aS5kYXRhO2xldCBvPXQucG9zaXRpb24ub2Zmc2V0LWkuc3RhcnRPZmZzZXQ7d2hpbGUodm0obixvKXx8ZT09XCJjaGFyYWN0ZXJcIiYmeW0obixvKSl7dC5uZXh0KCk7bz10LnBvc2l0aW9uLm9mZnNldC1pLnN0YXJ0T2Zmc2V0fX1yZXR1cm4gdC5wb3NpdGlvbn1mdW5jdGlvbiBLbSh0LGUpe2xldCBpPXQucG9zaXRpb24udGV4dE5vZGU7aWYoaSl7bGV0IG49dC5wb3NpdGlvbi5vZmZzZXQtaS5zdGFydE9mZnNldDt3aGlsZSghWW0oaS5kYXRhLG4sZSkmJiFRbShpLG4sZSkpe3QubmV4dCgpO2NvbnN0IG89ZT90LnBvc2l0aW9uLm5vZGVBZnRlcjp0LnBvc2l0aW9uLm5vZGVCZWZvcmU7aWYobyYmby5pcyhcInRleHRcIikpe2NvbnN0IG49by5kYXRhLmNoYXJBdChlPzA6by5kYXRhLmxlbmd0aC0xKTtpZighcW0uaW5jbHVkZXMobikpe3QubmV4dCgpO2k9dC5wb3NpdGlvbi50ZXh0Tm9kZX19bj10LnBvc2l0aW9uLm9mZnNldC1pLnN0YXJ0T2Zmc2V0fX1yZXR1cm4gdC5wb3NpdGlvbn1mdW5jdGlvbiBKbSh0LGUpe2NvbnN0IGk9dC5yb290O2NvbnN0IG49VWguX2NyZWF0ZUF0KGksZT9cImVuZFwiOjApO2lmKGUpe3JldHVybiBuZXcgJGgodCxuKX1lbHNle3JldHVybiBuZXcgJGgobix0KX19ZnVuY3Rpb24gWW0odCxlLGkpe2NvbnN0IG49ZSsoaT8wOi0xKTtyZXR1cm4gcW0uaW5jbHVkZXModC5jaGFyQXQobikpfWZ1bmN0aW9uIFFtKHQsZSxpKXtyZXR1cm4gZT09PShpP3QuZW5kT2Zmc2V0OjApfWZ1bmN0aW9uIFhtKHQsZSl7cmV0dXJuIHQuY2hhbmdlKHQ9Pntjb25zdCBpPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2NvbnN0IG49ZS5nZXRGaXJzdFJhbmdlKCk7aWYoIW58fG4uaXNDb2xsYXBzZWQpe3JldHVybiBpfWNvbnN0IG89bi5zdGFydC5yb290O2NvbnN0IHI9bi5zdGFydC5nZXRDb21tb25QYXRoKG4uZW5kKTtjb25zdCBzPW8uZ2V0Tm9kZUJ5UGF0aChyKTtsZXQgYTtpZihuLnN0YXJ0LnBhcmVudD09bi5lbmQucGFyZW50KXthPW59ZWxzZXthPXQuY3JlYXRlUmFuZ2UodC5jcmVhdGVQb3NpdGlvbkF0KHMsbi5zdGFydC5wYXRoW3IubGVuZ3RoXSksdC5jcmVhdGVQb3NpdGlvbkF0KHMsbi5lbmQucGF0aFtyLmxlbmd0aF0rMSkpfWNvbnN0IGM9YS5lbmQub2Zmc2V0LWEuc3RhcnQub2Zmc2V0O2Zvcihjb25zdCBlIG9mIGEuZ2V0SXRlbXMoe3NoYWxsb3c6dHJ1ZX0pKXtpZihlLmlzKFwidGV4dFByb3h5XCIpKXt0LmFwcGVuZFRleHQoZS5kYXRhLGUuZ2V0QXR0cmlidXRlcygpLGkpfWVsc2V7dC5hcHBlbmQoZS5fY2xvbmUodHJ1ZSksaSl9fWlmKGEhPW4pe2NvbnN0IGU9bi5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoYS5zdGFydCx0LmNyZWF0ZVBvc2l0aW9uQXQoaSwwKSxjKVswXTtjb25zdCBvPXQuY3JlYXRlUmFuZ2UodC5jcmVhdGVQb3NpdGlvbkF0KGksMCksZS5zdGFydCk7Y29uc3Qgcj10LmNyZWF0ZVJhbmdlKGUuZW5kLHQuY3JlYXRlUG9zaXRpb25BdChpLFwiZW5kXCIpKTtabShyLHQpO1ptKG8sdCl9cmV0dXJuIGl9KX1mdW5jdGlvbiBabSh0LGUpe2NvbnN0IGk9W107QXJyYXkuZnJvbSh0LmdldEl0ZW1zKHtkaXJlY3Rpb246XCJiYWNrd2FyZFwifSkpLm1hcCh0PT5lLmNyZWF0ZVJhbmdlT24odCkpLmZpbHRlcihlPT57Y29uc3QgaT0oZS5zdGFydC5pc0FmdGVyKHQuc3RhcnQpfHxlLnN0YXJ0LmlzRXF1YWwodC5zdGFydCkpJiYoZS5lbmQuaXNCZWZvcmUodC5lbmQpfHxlLmVuZC5pc0VxdWFsKHQuZW5kKSk7cmV0dXJuIGl9KS5mb3JFYWNoKHQ9PntpLnB1c2godC5zdGFydC5wYXJlbnQpO2UucmVtb3ZlKHQpfSk7aS5mb3JFYWNoKHQ9PntsZXQgaT10O3doaWxlKGkucGFyZW50JiZpLmlzRW1wdHkpe2NvbnN0IHQ9ZS5jcmVhdGVSYW5nZU9uKGkpO2k9aS5wYXJlbnQ7ZS5yZW1vdmUodCl9fSl9ZnVuY3Rpb24gdHAodCl7dC5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcihlPT5lcChlLHQpKX1mdW5jdGlvbiBlcCh0LGUpe2NvbnN0IGk9ZS5kb2N1bWVudC5zZWxlY3Rpb247Y29uc3Qgbj1lLnNjaGVtYTtjb25zdCBvPVtdO2xldCByPWZhbHNlO2Zvcihjb25zdCB0IG9mIGkuZ2V0UmFuZ2VzKCkpe2NvbnN0IGU9aXAodCxuKTtpZihlKXtvLnB1c2goZSk7cj10cnVlfWVsc2V7by5wdXNoKHQpfX1pZihyKXt0LnNldFNlbGVjdGlvbihhcChvKSx7YmFja3dhcmQ6aS5pc0JhY2t3YXJkfSl9fWZ1bmN0aW9uIGlwKHQsZSl7aWYodC5pc0NvbGxhcHNlZCl7cmV0dXJuIG5wKHQsZSl9cmV0dXJuIG9wKHQsZSl9ZnVuY3Rpb24gbnAodCxlKXtjb25zdCBpPXQuc3RhcnQ7Y29uc3Qgbj1lLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZShpKTtpZighbil7cmV0dXJuIG51bGx9aWYoIW4uaXNDb2xsYXBzZWQpe3JldHVybiBufWNvbnN0IG89bi5zdGFydDtpZihpLmlzRXF1YWwobykpe3JldHVybiBudWxsfXJldHVybiBuZXcgJGgobyl9ZnVuY3Rpb24gb3AodCxlKXtjb25zdCBpPXQuc3RhcnQ7Y29uc3Qgbj10LmVuZDtjb25zdCBvPWUuY2hlY2tDaGlsZChpLFwiJHRleHRcIik7Y29uc3Qgcj1lLmNoZWNrQ2hpbGQobixcIiR0ZXh0XCIpO2NvbnN0IHM9ZS5nZXRMaW1pdEVsZW1lbnQoaSk7Y29uc3QgYT1lLmdldExpbWl0RWxlbWVudChuKTtpZihzPT09YSl7aWYobyYmcil7cmV0dXJuIG51bGx9aWYoc3AoaSxuLGUpKXtjb25zdCB0PWkubm9kZUFmdGVyJiZlLmlzT2JqZWN0KGkubm9kZUFmdGVyKTtjb25zdCBvPXQ/bnVsbDplLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZShpLFwiZm9yd2FyZFwiKTtjb25zdCByPW4ubm9kZUJlZm9yZSYmZS5pc09iamVjdChuLm5vZGVCZWZvcmUpO2NvbnN0IHM9cj9udWxsOmUuZ2V0TmVhcmVzdFNlbGVjdGlvblJhbmdlKG4sXCJiYWNrd2FyZFwiKTtjb25zdCBhPW8/by5zdGFydDppO2NvbnN0IGM9cz9zLnN0YXJ0Om47cmV0dXJuIG5ldyAkaChhLGMpfX1jb25zdCBjPXMmJiFzLmlzKFwicm9vdEVsZW1lbnRcIik7Y29uc3QgbD1hJiYhYS5pcyhcInJvb3RFbGVtZW50XCIpO2lmKGN8fGwpe2NvbnN0IHQ9aS5ub2RlQWZ0ZXImJm4ubm9kZUJlZm9yZSYmaS5ub2RlQWZ0ZXIucGFyZW50PT09bi5ub2RlQmVmb3JlLnBhcmVudDtjb25zdCBvPWMmJighdHx8IWNwKGkubm9kZUFmdGVyLGUpKTtjb25zdCByPWwmJighdHx8IWNwKG4ubm9kZUJlZm9yZSxlKSk7bGV0IGQ9aTtsZXQgdT1uO2lmKG8pe2Q9VWguX2NyZWF0ZUJlZm9yZShycChzLGUpKX1pZihyKXt1PVVoLl9jcmVhdGVBZnRlcihycChhLGUpKX1yZXR1cm4gbmV3ICRoKGQsdSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcnAodCxlKXtsZXQgaT10O2xldCBuPWk7d2hpbGUoZS5pc0xpbWl0KG4pJiZuLnBhcmVudCl7aT1uO249bi5wYXJlbnR9cmV0dXJuIGl9ZnVuY3Rpb24gc3AodCxlLGkpe2NvbnN0IG49dC5ub2RlQWZ0ZXImJiFpLmlzTGltaXQodC5ub2RlQWZ0ZXIpfHxpLmNoZWNrQ2hpbGQodCxcIiR0ZXh0XCIpO2NvbnN0IG89ZS5ub2RlQmVmb3JlJiYhaS5pc0xpbWl0KGUubm9kZUJlZm9yZSl8fGkuY2hlY2tDaGlsZChlLFwiJHRleHRcIik7cmV0dXJuIG58fG99ZnVuY3Rpb24gYXAodCl7Y29uc3QgZT1bXTtlLnB1c2godC5zaGlmdCgpKTtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PWUucG9wKCk7aWYoaS5pc0ludGVyc2VjdGluZyh0KSl7Y29uc3Qgbj10LnN0YXJ0LmlzQWZ0ZXIoaS5zdGFydCk/aS5zdGFydDp0LnN0YXJ0O2NvbnN0IG89dC5lbmQuaXNBZnRlcihpLmVuZCk/dC5lbmQ6aS5lbmQ7Y29uc3Qgcj1uZXcgJGgobixvKTtlLnB1c2gocil9ZWxzZXtlLnB1c2godCk7ZS5wdXNoKGkpfX1yZXR1cm4gZX1mdW5jdGlvbiBjcCh0LGUpe3JldHVybiB0JiZlLmlzT2JqZWN0KHQpfWNsYXNzIGxwe2NvbnN0cnVjdG9yKCl7dGhpcy5tYXJrZXJzPW5ldyBUbTt0aGlzLmRvY3VtZW50PW5ldyBDbSh0aGlzKTt0aGlzLnNjaGVtYT1uZXcgdWc7dGhpcy5fcGVuZGluZ0NoYW5nZXM9W107dGhpcy5fY3VycmVudFdyaXRlcj1udWxsO1tcImluc2VydENvbnRlbnRcIixcImRlbGV0ZUNvbnRlbnRcIixcIm1vZGlmeVNlbGVjdGlvblwiLFwiZ2V0U2VsZWN0ZWRDb250ZW50XCIsXCJhcHBseU9wZXJhdGlvblwiXS5mb3JFYWNoKHQ9PnRoaXMuZGVjb3JhdGUodCkpO3RoaXMub24oXCJhcHBseU9wZXJhdGlvblwiLCh0LGUpPT57Y29uc3QgaT1lWzBdO2kuX3ZhbGlkYXRlKCl9LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pO3RoaXMuc2NoZW1hLnJlZ2lzdGVyKFwiJHJvb3RcIix7aXNMaW1pdDp0cnVlfSk7dGhpcy5zY2hlbWEucmVnaXN0ZXIoXCIkYmxvY2tcIix7YWxsb3dJbjpcIiRyb290XCIsaXNCbG9jazp0cnVlfSk7dGhpcy5zY2hlbWEucmVnaXN0ZXIoXCIkdGV4dFwiLHthbGxvd0luOlwiJGJsb2NrXCIsaXNJbmxpbmU6dHJ1ZX0pO3RoaXMuc2NoZW1hLnJlZ2lzdGVyKFwiJGNsaXBib2FyZEhvbGRlclwiLHthbGxvd0NvbnRlbnRPZjpcIiRyb290XCIsaXNMaW1pdDp0cnVlfSk7dGhpcy5zY2hlbWEuZXh0ZW5kKFwiJHRleHRcIix7YWxsb3dJbjpcIiRjbGlwYm9hcmRIb2xkZXJcIn0pO3RoaXMuc2NoZW1hLnJlZ2lzdGVyKFwiJG1hcmtlclwiKTt0aGlzLnNjaGVtYS5hZGRDaGlsZENoZWNrKCh0LGUpPT57aWYoZS5uYW1lPT09XCIkbWFya2VyXCIpe3JldHVybiB0cnVlfX0pO3RwKHRoaXMpfWNoYW5nZSh0KXt0cnl7aWYodGhpcy5fcGVuZGluZ0NoYW5nZXMubGVuZ3RoPT09MCl7dGhpcy5fcGVuZGluZ0NoYW5nZXMucHVzaCh7YmF0Y2g6bmV3IHpnLGNhbGxiYWNrOnR9KTtyZXR1cm4gdGhpcy5fcnVuUGVuZGluZ0NoYW5nZXMoKVswXX1lbHNle3JldHVybiB0KHRoaXMuX2N1cnJlbnRXcml0ZXIpfX1jYXRjaCh0KXtzc1tcImJcIl0ucmV0aHJvd1VuZXhwZWN0ZWRFcnJvcih0LHRoaXMpfX1lbnF1ZXVlQ2hhbmdlKHQsZSl7dHJ5e2lmKHR5cGVvZiB0PT09XCJzdHJpbmdcIil7dD1uZXcgemcodCl9ZWxzZSBpZih0eXBlb2YgdD09XCJmdW5jdGlvblwiKXtlPXQ7dD1uZXcgemd9dGhpcy5fcGVuZGluZ0NoYW5nZXMucHVzaCh7YmF0Y2g6dCxjYWxsYmFjazplfSk7aWYodGhpcy5fcGVuZGluZ0NoYW5nZXMubGVuZ3RoPT0xKXt0aGlzLl9ydW5QZW5kaW5nQ2hhbmdlcygpfX1jYXRjaCh0KXtzc1tcImJcIl0ucmV0aHJvd1VuZXhwZWN0ZWRFcnJvcih0LHRoaXMpfX1hcHBseU9wZXJhdGlvbih0KXt0Ll9leGVjdXRlKCl9aW5zZXJ0Q29udGVudCh0LGUsaSl7cmV0dXJuIE5tKHRoaXMsdCxlLGkpfWRlbGV0ZUNvbnRlbnQodCxlKXtCbSh0aGlzLHQsZSl9bW9kaWZ5U2VsZWN0aW9uKHQsZSl7VW0odGhpcyx0LGUpfWdldFNlbGVjdGVkQ29udGVudCh0KXtyZXR1cm4gWG0odGhpcyx0KX1oYXNDb250ZW50KHQsZSl7Y29uc3QgaT10IGluc3RhbmNlb2Ygamg/JGguX2NyZWF0ZUluKHQpOnQ7aWYoaS5pc0NvbGxhcHNlZCl7cmV0dXJuIGZhbHNlfWZvcihjb25zdCB0IG9mIHRoaXMubWFya2Vycy5nZXRNYXJrZXJzSW50ZXJzZWN0aW5nUmFuZ2UoaSkpe2lmKHQuYWZmZWN0c0RhdGEpe3JldHVybiB0cnVlfX1jb25zdHtpZ25vcmVXaGl0ZXNwYWNlczpuPWZhbHNlfT1lfHx7fTtmb3IoY29uc3QgdCBvZiBpLmdldEl0ZW1zKCkpe2lmKHQuaXMoXCJ0ZXh0UHJveHlcIikpe2lmKCFuKXtyZXR1cm4gdHJ1ZX1lbHNlIGlmKHQuZGF0YS5zZWFyY2goL1xcUy8pIT09LTEpe3JldHVybiB0cnVlfX1lbHNlIGlmKHRoaXMuc2NoZW1hLmlzT2JqZWN0KHQpKXtyZXR1cm4gdHJ1ZX19cmV0dXJuIGZhbHNlfWNyZWF0ZVBvc2l0aW9uRnJvbVBhdGgodCxlLGkpe3JldHVybiBuZXcgVWgodCxlLGkpfWNyZWF0ZVBvc2l0aW9uQXQodCxlKXtyZXR1cm4gVWguX2NyZWF0ZUF0KHQsZSl9Y3JlYXRlUG9zaXRpb25BZnRlcih0KXtyZXR1cm4gVWguX2NyZWF0ZUFmdGVyKHQpfWNyZWF0ZVBvc2l0aW9uQmVmb3JlKHQpe3JldHVybiBVaC5fY3JlYXRlQmVmb3JlKHQpfWNyZWF0ZVJhbmdlKHQsZSl7cmV0dXJuIG5ldyAkaCh0LGUpfWNyZWF0ZVJhbmdlSW4odCl7cmV0dXJuICRoLl9jcmVhdGVJbih0KX1jcmVhdGVSYW5nZU9uKHQpe3JldHVybiAkaC5fY3JlYXRlT24odCl9Y3JlYXRlU2VsZWN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IFhoKHQsZSxpKX1jcmVhdGVCYXRjaCh0KXtyZXR1cm4gbmV3IHpnKHQpfWNyZWF0ZU9wZXJhdGlvbkZyb21KU09OKHQpe3JldHVybiBSbS5mcm9tSlNPTih0LHRoaXMuZG9jdW1lbnQpfWRlc3Ryb3koKXt0aGlzLmRvY3VtZW50LmRlc3Ryb3koKTt0aGlzLnN0b3BMaXN0ZW5pbmcoKX1fcnVuUGVuZGluZ0NoYW5nZXMoKXtjb25zdCB0PVtdO3RoaXMuZmlyZShcIl9iZWZvcmVDaGFuZ2VzXCIpO3doaWxlKHRoaXMuX3BlbmRpbmdDaGFuZ2VzLmxlbmd0aCl7Y29uc3QgZT10aGlzLl9wZW5kaW5nQ2hhbmdlc1swXS5iYXRjaDt0aGlzLl9jdXJyZW50V3JpdGVyPW5ldyBhbSh0aGlzLGUpO2NvbnN0IGk9dGhpcy5fcGVuZGluZ0NoYW5nZXNbMF0uY2FsbGJhY2sodGhpcy5fY3VycmVudFdyaXRlcik7dC5wdXNoKGkpO3RoaXMuZG9jdW1lbnQuX2hhbmRsZUNoYW5nZUJsb2NrKHRoaXMuX2N1cnJlbnRXcml0ZXIpO3RoaXMuX3BlbmRpbmdDaGFuZ2VzLnNoaWZ0KCk7dGhpcy5fY3VycmVudFdyaXRlcj1udWxsfXRoaXMuZmlyZShcIl9hZnRlckNoYW5nZXNcIik7cmV0dXJuIHR9fXZzKGxwLEpjKTtjbGFzcyBkcHtjb25zdHJ1Y3Rvcigpe3RoaXMuX2xpc3RlbmVyPU9iamVjdC5jcmVhdGUocWQpfWxpc3RlblRvKHQpe3RoaXMuX2xpc3RlbmVyLmxpc3RlblRvKHQsXCJrZXlkb3duXCIsKHQsZSk9Pnt0aGlzLl9saXN0ZW5lci5maXJlKFwiX2tleWRvd246XCIrTWwoZSksZSl9KX1zZXQodCxlLGk9e30pe2NvbnN0IG49QmwodCk7Y29uc3Qgbz1pLnByaW9yaXR5O3RoaXMuX2xpc3RlbmVyLmxpc3RlblRvKHRoaXMuX2xpc3RlbmVyLFwiX2tleWRvd246XCIrbiwodCxpKT0+e2UoaSwoKT0+e2kucHJldmVudERlZmF1bHQoKTtpLnN0b3BQcm9wYWdhdGlvbigpO3Quc3RvcCgpfSk7dC5yZXR1cm49dHJ1ZX0se3ByaW9yaXR5Om99KX1wcmVzcyh0KXtyZXR1cm4hIXRoaXMuX2xpc3RlbmVyLmZpcmUoXCJfa2V5ZG93bjpcIitNbCh0KSx0KX1kZXN0cm95KCl7dGhpcy5fbGlzdGVuZXIuc3RvcExpc3RlbmluZygpfX1jbGFzcyB1cCBleHRlbmRzIGRwe2NvbnN0cnVjdG9yKHQpe3N1cGVyKCk7dGhpcy5lZGl0b3I9dH1zZXQodCxlLGk9e30pe2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXtjb25zdCB0PWU7ZT0oZSxpKT0+e3RoaXMuZWRpdG9yLmV4ZWN1dGUodCk7aSgpfX1zdXBlci5zZXQodCxlLGkpfX1jbGFzcyBocHtjb25zdHJ1Y3Rvcih0PXt9KXt0aGlzLl9jb250ZXh0PXQuY29udGV4dHx8bmV3IElzKHtsYW5ndWFnZTp0Lmxhbmd1YWdlfSk7dGhpcy5fY29udGV4dC5fYWRkRWRpdG9yKHRoaXMsIXQuY29udGV4dCk7Y29uc3QgZT1BcnJheS5mcm9tKHRoaXMuY29uc3RydWN0b3IuYnVpbHRpblBsdWdpbnN8fFtdKTt0aGlzLmNvbmZpZz1uZXcgSnIodCx0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRDb25maWcpO3RoaXMuY29uZmlnLmRlZmluZShcInBsdWdpbnNcIixlKTt0aGlzLmNvbmZpZy5kZWZpbmUodGhpcy5fY29udGV4dC5fZ2V0RWRpdG9yQ29uZmlnKCkpO3RoaXMucGx1Z2lucz1uZXcgeHModGhpcyxlLHRoaXMuX2NvbnRleHQucGx1Z2lucyk7dGhpcy5sb2NhbGU9dGhpcy5fY29udGV4dC5sb2NhbGU7dGhpcy50PXRoaXMubG9jYWxlLnQ7dGhpcy5jb21tYW5kcz1uZXcgY2c7dGhpcy5zZXQoXCJzdGF0ZVwiLFwiaW5pdGlhbGl6aW5nXCIpO3RoaXMub25jZShcInJlYWR5XCIsKCk9PnRoaXMuc3RhdGU9XCJyZWFkeVwiLHtwcmlvcml0eTpcImhpZ2hcIn0pO3RoaXMub25jZShcImRlc3Ryb3lcIiwoKT0+dGhpcy5zdGF0ZT1cImRlc3Ryb3llZFwiLHtwcmlvcml0eTpcImhpZ2hcIn0pO3RoaXMuc2V0KFwiaXNSZWFkT25seVwiLGZhbHNlKTt0aGlzLm1vZGVsPW5ldyBscDtjb25zdCBpPW5ldyBWYzt0aGlzLmRhdGE9bmV3IElnKHRoaXMubW9kZWwsaSk7dGhpcy5lZGl0aW5nPW5ldyBhZyh0aGlzLm1vZGVsLGkpO3RoaXMuZWRpdGluZy52aWV3LmRvY3VtZW50LmJpbmQoXCJpc1JlYWRPbmx5XCIpLnRvKHRoaXMpO3RoaXMuY29udmVyc2lvbj1uZXcgTmcoW3RoaXMuZWRpdGluZy5kb3duY2FzdERpc3BhdGNoZXIsdGhpcy5kYXRhLmRvd25jYXN0RGlzcGF0Y2hlcl0sdGhpcy5kYXRhLnVwY2FzdERpc3BhdGNoZXIpO3RoaXMuY29udmVyc2lvbi5hZGRBbGlhcyhcImRhdGFEb3duY2FzdFwiLHRoaXMuZGF0YS5kb3duY2FzdERpc3BhdGNoZXIpO3RoaXMuY29udmVyc2lvbi5hZGRBbGlhcyhcImVkaXRpbmdEb3duY2FzdFwiLHRoaXMuZWRpdGluZy5kb3duY2FzdERpc3BhdGNoZXIpO3RoaXMua2V5c3Ryb2tlcz1uZXcgdXAodGhpcyk7dGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWRpdGluZy52aWV3LmRvY3VtZW50KX1pbml0UGx1Z2lucygpe2NvbnN0IHQ9dGhpcy5jb25maWc7Y29uc3QgZT10LmdldChcInBsdWdpbnNcIik7Y29uc3QgaT10LmdldChcInJlbW92ZVBsdWdpbnNcIil8fFtdO2NvbnN0IG49dC5nZXQoXCJleHRyYVBsdWdpbnNcIil8fFtdO3JldHVybiB0aGlzLnBsdWdpbnMuaW5pdChlLmNvbmNhdChuKSxpKX1kZXN0cm95KCl7bGV0IHQ9UHJvbWlzZS5yZXNvbHZlKCk7aWYodGhpcy5zdGF0ZT09XCJpbml0aWFsaXppbmdcIil7dD1uZXcgUHJvbWlzZSh0PT50aGlzLm9uY2UoXCJyZWFkeVwiLHQpKX1yZXR1cm4gdC50aGVuKCgpPT57dGhpcy5maXJlKFwiZGVzdHJveVwiKTt0aGlzLnN0b3BMaXN0ZW5pbmcoKTt0aGlzLmNvbW1hbmRzLmRlc3Ryb3koKX0pLnRoZW4oKCk9PnRoaXMucGx1Z2lucy5kZXN0cm95KCkpLnRoZW4oKCk9Pnt0aGlzLm1vZGVsLmRlc3Ryb3koKTt0aGlzLmRhdGEuZGVzdHJveSgpO3RoaXMuZWRpdGluZy5kZXN0cm95KCk7dGhpcy5rZXlzdHJva2VzLmRlc3Ryb3koKX0pLnRoZW4oKCk9PnRoaXMuX2NvbnRleHQuX3JlbW92ZUVkaXRvcih0aGlzKSl9ZXhlY3V0ZSguLi50KXt0cnl7dGhpcy5jb21tYW5kcy5leGVjdXRlKC4uLnQpfWNhdGNoKHQpe3NzW1wiYlwiXS5yZXRocm93VW5leHBlY3RlZEVycm9yKHQsdGhpcyl9fX12cyhocCxKYyk7Y2xhc3MgZnB7Z2V0SHRtbCh0KXtjb25zdCBlPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKTtjb25zdCBpPWUuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpLmFwcGVuZENoaWxkKHQpO3JldHVybiBpLmlubmVySFRNTH19Y2xhc3MgZ3B7Y29uc3RydWN0b3IodCl7dGhpcy5fZG9tUGFyc2VyPW5ldyBET01QYXJzZXI7dGhpcy5fZG9tQ29udmVydGVyPW5ldyB6ZCh0LHtibG9ja0ZpbGxlck1vZGU6XCJuYnNwXCJ9KTt0aGlzLl9odG1sV3JpdGVyPW5ldyBmcH10b0RhdGEodCl7Y29uc3QgZT10aGlzLl9kb21Db252ZXJ0ZXIudmlld1RvRG9tKHQsZG9jdW1lbnQpO3JldHVybiB0aGlzLl9odG1sV3JpdGVyLmdldEh0bWwoZSl9dG9WaWV3KHQpe2NvbnN0IGU9dGhpcy5fdG9Eb20odCk7cmV0dXJuIHRoaXMuX2RvbUNvbnZlcnRlci5kb21Ub1ZpZXcoZSl9X3RvRG9tKHQpe2NvbnN0IGU9dGhpcy5fZG9tUGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0LFwidGV4dC9odG1sXCIpO2NvbnN0IGk9ZS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Y29uc3Qgbj1lLmJvZHkuY2hpbGROb2Rlczt3aGlsZShuLmxlbmd0aD4wKXtpLmFwcGVuZENoaWxkKG5bMF0pfXJldHVybiBpfX1jbGFzcyBtcHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmVkaXRvcj10O3RoaXMuc2V0KFwiaXNFbmFibGVkXCIsdHJ1ZSk7dGhpcy5fZGlzYWJsZVN0YWNrPW5ldyBTZXR9Zm9yY2VEaXNhYmxlZCh0KXt0aGlzLl9kaXNhYmxlU3RhY2suYWRkKHQpO2lmKHRoaXMuX2Rpc2FibGVTdGFjay5zaXplPT0xKXt0aGlzLm9uKFwic2V0OmlzRW5hYmxlZFwiLHBwLHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pO3RoaXMuaXNFbmFibGVkPWZhbHNlfX1jbGVhckZvcmNlRGlzYWJsZWQodCl7dGhpcy5fZGlzYWJsZVN0YWNrLmRlbGV0ZSh0KTtpZih0aGlzLl9kaXNhYmxlU3RhY2suc2l6ZT09MCl7dGhpcy5vZmYoXCJzZXQ6aXNFbmFibGVkXCIscHApO3RoaXMuaXNFbmFibGVkPXRydWV9fWRlc3Ryb3koKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKX1zdGF0aWMgZ2V0IGlzQ29udGV4dFBsdWdpbigpe3JldHVybiBmYWxzZX19dnMobXAsSmMpO2Z1bmN0aW9uIHBwKHQpe3QucmV0dXJuPWZhbHNlO3Quc3RvcCgpfWNsYXNzIGJwIGV4dGVuZHMgeXN7Y29uc3RydWN0b3IodCl7c3VwZXIoe2lkUHJvcGVydHk6XCJ2aWV3VWlkXCJ9KTt0aGlzLm9uKFwiYWRkXCIsKHQsZSxpKT0+e2lmKCFlLmlzUmVuZGVyZWQpe2UucmVuZGVyKCl9aWYoZS5lbGVtZW50JiZ0aGlzLl9wYXJlbnRFbGVtZW50KXt0aGlzLl9wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShlLmVsZW1lbnQsdGhpcy5fcGFyZW50RWxlbWVudC5jaGlsZHJlbltpXSl9fSk7dGhpcy5vbihcInJlbW92ZVwiLCh0LGUpPT57aWYoZS5lbGVtZW50JiZ0aGlzLl9wYXJlbnRFbGVtZW50KXtlLmVsZW1lbnQucmVtb3ZlKCl9fSk7dGhpcy5sb2NhbGU9dDt0aGlzLl9wYXJlbnRFbGVtZW50PW51bGx9ZGVzdHJveSgpe3RoaXMubWFwKHQ9PnQuZGVzdHJveSgpKX1zZXRQYXJlbnQodCl7dGhpcy5fcGFyZW50RWxlbWVudD10fWRlbGVnYXRlKC4uLnQpe2lmKCF0Lmxlbmd0aHx8IXdwKHQpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwidWktdmlld2NvbGxlY3Rpb24tZGVsZWdhdGUtd3JvbmctZXZlbnRzOiBBbGwgZXZlbnQgbmFtZXMgbXVzdCBiZSBzdHJpbmdzLlwiLHRoaXMpfXJldHVybnt0bzplPT57Zm9yKGNvbnN0IGkgb2YgdGhpcyl7Zm9yKGNvbnN0IG4gb2YgdCl7aS5kZWxlZ2F0ZShuKS50byhlKX19dGhpcy5vbihcImFkZFwiLChpLG4pPT57Zm9yKGNvbnN0IGkgb2YgdCl7bi5kZWxlZ2F0ZShpKS50byhlKX19KTt0aGlzLm9uKFwicmVtb3ZlXCIsKGksbik9Pntmb3IoY29uc3QgaSBvZiB0KXtuLnN0b3BEZWxlZ2F0aW5nKGksZSl9fSl9fX19ZnVuY3Rpb24gd3AodCl7cmV0dXJuIHQuZXZlcnkodD0+dHlwZW9mIHQ9PVwic3RyaW5nXCIpfWNvbnN0IGtwPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO2NsYXNzIF9we2NvbnN0cnVjdG9yKHQpe09iamVjdC5hc3NpZ24odGhpcyxPcChScCh0KSkpO3RoaXMuX2lzUmVuZGVyZWQ9ZmFsc2U7dGhpcy5fcmV2ZXJ0RGF0YT1udWxsfXJlbmRlcigpe2NvbnN0IHQ9dGhpcy5fcmVuZGVyTm9kZSh7aW50b0ZyYWdtZW50OnRydWV9KTt0aGlzLl9pc1JlbmRlcmVkPXRydWU7cmV0dXJuIHR9YXBwbHkodCl7dGhpcy5fcmV2ZXJ0RGF0YT1xcCgpO3RoaXMuX3JlbmRlck5vZGUoe25vZGU6dCxpc0FwcGx5aW5nOnRydWUscmV2ZXJ0RGF0YTp0aGlzLl9yZXZlcnREYXRhfSk7cmV0dXJuIHR9cmV2ZXJ0KHQpe2lmKCF0aGlzLl9yZXZlcnREYXRhKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwidWktdGVtcGxhdGUtcmV2ZXJ0LW5vdC1hcHBsaWVkOiBBdHRlbXB0aW5nIHRvIHJldmVydCBhIHRlbXBsYXRlIHdoaWNoIGhhcyBub3QgYmVlbiBhcHBsaWVkIHlldC5cIixbdGhpcyx0XSl9dGhpcy5fcmV2ZXJ0VGVtcGxhdGVGcm9tTm9kZSh0LHRoaXMuX3JldmVydERhdGEpfSpnZXRWaWV3cygpe2Z1bmN0aW9uKnQoZSl7aWYoZS5jaGlsZHJlbil7Zm9yKGNvbnN0IGkgb2YgZS5jaGlsZHJlbil7aWYoanAoaSkpe3lpZWxkIGl9ZWxzZSBpZihIcChpKSl7eWllbGQqdChpKX19fX15aWVsZCp0KHRoaXMpfXN0YXRpYyBiaW5kKHQsZSl7cmV0dXJue3RvKGksbil7cmV0dXJuIG5ldyB5cCh7ZXZlbnROYW1lT3JGdW5jdGlvbjppLGF0dHJpYnV0ZTppLG9ic2VydmFibGU6dCxlbWl0dGVyOmUsY2FsbGJhY2s6bn0pfSxpZihpLG4sbyl7cmV0dXJuIG5ldyB4cCh7b2JzZXJ2YWJsZTp0LGVtaXR0ZXI6ZSxhdHRyaWJ1dGU6aSx2YWx1ZUlmVHJ1ZTpuLGNhbGxiYWNrOm99KX19fXN0YXRpYyBleHRlbmQodCxlKXtpZih0Ll9pc1JlbmRlcmVkKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwidGVtcGxhdGUtZXh0ZW5kLXJlbmRlcjogQXR0ZW1wdGluZyB0byBleHRlbmQgYSB0ZW1wbGF0ZSB3aGljaCBoYXMgYWxyZWFkeSBiZWVuIHJlbmRlcmVkLlwiLFt0aGlzLHRdKX1GcCh0LE9wKFJwKGUpKSl9X3JlbmRlck5vZGUodCl7bGV0IGU7aWYodC5ub2RlKXtlPXRoaXMudGFnJiZ0aGlzLnRleHR9ZWxzZXtlPXRoaXMudGFnP3RoaXMudGV4dDohdGhpcy50ZXh0fWlmKGUpe3Rocm93IG5ldyBzc1tcImJcIl0oJ3VpLXRlbXBsYXRlLXdyb25nLXN5bnRheDogTm9kZSBkZWZpbml0aW9uIG11c3QgaGF2ZSBlaXRoZXIgXCJ0YWdcIiBvciBcInRleHRcIiB3aGVuIHJlbmRlcmluZyBhIG5ldyBOb2RlLicsdGhpcyl9aWYodGhpcy50ZXh0KXtyZXR1cm4gdGhpcy5fcmVuZGVyVGV4dCh0KX1lbHNle3JldHVybiB0aGlzLl9yZW5kZXJFbGVtZW50KHQpfX1fcmVuZGVyRWxlbWVudCh0KXtsZXQgZT10Lm5vZGU7aWYoIWUpe2U9dC5ub2RlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5zfHxrcCx0aGlzLnRhZyl9dGhpcy5fcmVuZGVyQXR0cmlidXRlcyh0KTt0aGlzLl9yZW5kZXJFbGVtZW50Q2hpbGRyZW4odCk7dGhpcy5fc2V0VXBMaXN0ZW5lcnModCk7cmV0dXJuIGV9X3JlbmRlclRleHQodCl7bGV0IGU9dC5ub2RlO2lmKGUpe3QucmV2ZXJ0RGF0YS50ZXh0PWUudGV4dENvbnRlbnR9ZWxzZXtlPXQubm9kZT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKX1pZihDcCh0aGlzLnRleHQpKXt0aGlzLl9iaW5kVG9PYnNlcnZhYmxlKHtzY2hlbWE6dGhpcy50ZXh0LHVwZGF0ZXI6UHAoZSksZGF0YTp0fSl9ZWxzZXtlLnRleHRDb250ZW50PXRoaXMudGV4dC5qb2luKFwiXCIpfXJldHVybiBlfV9yZW5kZXJBdHRyaWJ1dGVzKHQpe2xldCBlLGksbixvO2lmKCF0aGlzLmF0dHJpYnV0ZXMpe3JldHVybn1jb25zdCByPXQubm9kZTtjb25zdCBzPXQucmV2ZXJ0RGF0YTtmb3IoZSBpbiB0aGlzLmF0dHJpYnV0ZXMpe249ci5nZXRBdHRyaWJ1dGUoZSk7aT10aGlzLmF0dHJpYnV0ZXNbZV07aWYocyl7cy5hdHRyaWJ1dGVzW2VdPW59bz1jdChpWzBdKSYmaVswXS5ucz9pWzBdLm5zOm51bGw7aWYoQ3AoaSkpe2NvbnN0IGE9bz9pWzBdLnZhbHVlOmk7aWYocyYmVXAoZSkpe2EudW5zaGlmdChuKX10aGlzLl9iaW5kVG9PYnNlcnZhYmxlKHtzY2hlbWE6YSx1cGRhdGVyOlNwKHIsZSxvKSxkYXRhOnR9KX1lbHNlIGlmKGU9PVwic3R5bGVcIiYmdHlwZW9mIGlbMF0hPT1cInN0cmluZ1wiKXt0aGlzLl9yZW5kZXJTdHlsZUF0dHJpYnV0ZShpWzBdLHQpfWVsc2V7aWYocyYmbiYmVXAoZSkpe2kudW5zaGlmdChuKX1pPWkubWFwKHQ9PnQ/dC52YWx1ZXx8dDp0KS5yZWR1Y2UoKHQsZSk9PnQuY29uY2F0KGUpLFtdKS5yZWR1Y2UoenAsXCJcIik7aWYoIURwKGkpKXtyLnNldEF0dHJpYnV0ZU5TKG8sZSxpKX19fX1fcmVuZGVyU3R5bGVBdHRyaWJ1dGUodCxlKXtjb25zdCBpPWUubm9kZTtmb3IoY29uc3QgbiBpbiB0KXtjb25zdCBvPXRbbl07aWYoQ3Aobykpe3RoaXMuX2JpbmRUb09ic2VydmFibGUoe3NjaGVtYTpbb10sdXBkYXRlcjpFcChpLG4pLGRhdGE6ZX0pfWVsc2V7aS5zdHlsZVtuXT1vfX19X3JlbmRlckVsZW1lbnRDaGlsZHJlbih0KXtjb25zdCBlPXQubm9kZTtjb25zdCBpPXQuaW50b0ZyYWdtZW50P2RvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTplO2NvbnN0IG49dC5pc0FwcGx5aW5nO2xldCBvPTA7Zm9yKGNvbnN0IHIgb2YgdGhpcy5jaGlsZHJlbil7aWYoV3Aocikpe2lmKCFuKXtyLnNldFBhcmVudChlKTtmb3IoY29uc3QgdCBvZiByKXtpLmFwcGVuZENoaWxkKHQuZWxlbWVudCl9fX1lbHNlIGlmKGpwKHIpKXtpZighbil7aWYoIXIuaXNSZW5kZXJlZCl7ci5yZW5kZXIoKX1pLmFwcGVuZENoaWxkKHIuZWxlbWVudCl9fWVsc2UgaWYoeGQocikpe2kuYXBwZW5kQ2hpbGQocil9ZWxzZXtpZihuKXtjb25zdCBlPXQucmV2ZXJ0RGF0YTtjb25zdCBuPXFwKCk7ZS5jaGlsZHJlbi5wdXNoKG4pO3IuX3JlbmRlck5vZGUoe25vZGU6aS5jaGlsZE5vZGVzW28rK10saXNBcHBseWluZzp0cnVlLHJldmVydERhdGE6bn0pfWVsc2V7aS5hcHBlbmRDaGlsZChyLnJlbmRlcigpKX19fWlmKHQuaW50b0ZyYWdtZW50KXtlLmFwcGVuZENoaWxkKGkpfX1fc2V0VXBMaXN0ZW5lcnModCl7aWYoIXRoaXMuZXZlbnRMaXN0ZW5lcnMpe3JldHVybn1mb3IoY29uc3QgZSBpbiB0aGlzLmV2ZW50TGlzdGVuZXJzKXtjb25zdCBpPXRoaXMuZXZlbnRMaXN0ZW5lcnNbZV0ubWFwKGk9Pntjb25zdFtuLG9dPWUuc3BsaXQoXCJAXCIpO3JldHVybiBpLmFjdGl2YXRlRG9tRXZlbnRMaXN0ZW5lcihuLG8sdCl9KTtpZih0LnJldmVydERhdGEpe3QucmV2ZXJ0RGF0YS5iaW5kaW5ncy5wdXNoKGkpfX19X2JpbmRUb09ic2VydmFibGUoe3NjaGVtYTp0LHVwZGF0ZXI6ZSxkYXRhOml9KXtjb25zdCBuPWkucmV2ZXJ0RGF0YTtUcCh0LGUsaSk7Y29uc3Qgbz10LmZpbHRlcih0PT4hRHAodCkpLmZpbHRlcih0PT50Lm9ic2VydmFibGUpLm1hcChuPT5uLmFjdGl2YXRlQXR0cmlidXRlTGlzdGVuZXIodCxlLGkpKTtpZihuKXtuLmJpbmRpbmdzLnB1c2gobyl9fV9yZXZlcnRUZW1wbGF0ZUZyb21Ob2RlKHQsZSl7Zm9yKGNvbnN0IHQgb2YgZS5iaW5kaW5ncyl7Zm9yKGNvbnN0IGUgb2YgdCl7ZSgpfX1pZihlLnRleHQpe3QudGV4dENvbnRlbnQ9ZS50ZXh0O3JldHVybn1mb3IoY29uc3QgaSBpbiBlLmF0dHJpYnV0ZXMpe2NvbnN0IG49ZS5hdHRyaWJ1dGVzW2ldO2lmKG49PT1udWxsKXt0LnJlbW92ZUF0dHJpYnV0ZShpKX1lbHNle3Quc2V0QXR0cmlidXRlKGksbil9fWZvcihsZXQgaT0wO2k8ZS5jaGlsZHJlbi5sZW5ndGg7KytpKXt0aGlzLl9yZXZlcnRUZW1wbGF0ZUZyb21Ob2RlKHQuY2hpbGROb2Rlc1tpXSxlLmNoaWxkcmVuW2ldKX19fXZzKF9wLGRzKTtjbGFzcyB2cHtjb25zdHJ1Y3Rvcih0KXtPYmplY3QuYXNzaWduKHRoaXMsdCl9Z2V0VmFsdWUodCl7Y29uc3QgZT10aGlzLm9ic2VydmFibGVbdGhpcy5hdHRyaWJ1dGVdO3JldHVybiB0aGlzLmNhbGxiYWNrP3RoaXMuY2FsbGJhY2soZSx0KTplfWFjdGl2YXRlQXR0cmlidXRlTGlzdGVuZXIodCxlLGkpe2NvbnN0IG49KCk9PlRwKHQsZSxpKTt0aGlzLmVtaXR0ZXIubGlzdGVuVG8odGhpcy5vYnNlcnZhYmxlLFwiY2hhbmdlOlwiK3RoaXMuYXR0cmlidXRlLG4pO3JldHVybigpPT57dGhpcy5lbWl0dGVyLnN0b3BMaXN0ZW5pbmcodGhpcy5vYnNlcnZhYmxlLFwiY2hhbmdlOlwiK3RoaXMuYXR0cmlidXRlLG4pfX19Y2xhc3MgeXAgZXh0ZW5kcyB2cHthY3RpdmF0ZURvbUV2ZW50TGlzdGVuZXIodCxlLGkpe2NvbnN0IG49KHQsaSk9PntpZighZXx8aS50YXJnZXQubWF0Y2hlcyhlKSl7aWYodHlwZW9mIHRoaXMuZXZlbnROYW1lT3JGdW5jdGlvbj09XCJmdW5jdGlvblwiKXt0aGlzLmV2ZW50TmFtZU9yRnVuY3Rpb24oaSl9ZWxzZXt0aGlzLm9ic2VydmFibGUuZmlyZSh0aGlzLmV2ZW50TmFtZU9yRnVuY3Rpb24saSl9fX07dGhpcy5lbWl0dGVyLmxpc3RlblRvKGkubm9kZSx0LG4pO3JldHVybigpPT57dGhpcy5lbWl0dGVyLnN0b3BMaXN0ZW5pbmcoaS5ub2RlLHQsbil9fX1jbGFzcyB4cCBleHRlbmRzIHZwe2dldFZhbHVlKHQpe2NvbnN0IGU9c3VwZXIuZ2V0VmFsdWUodCk7cmV0dXJuIERwKGUpP2ZhbHNlOnRoaXMudmFsdWVJZlRydWV8fHRydWV9fWZ1bmN0aW9uIENwKHQpe2lmKCF0KXtyZXR1cm4gZmFsc2V9aWYodC52YWx1ZSl7dD10LnZhbHVlfWlmKEFycmF5LmlzQXJyYXkodCkpe3JldHVybiB0LnNvbWUoQ3ApfWVsc2UgaWYodCBpbnN0YW5jZW9mIHZwKXtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9ZnVuY3Rpb24gQXAodCxlKXtyZXR1cm4gdC5tYXAodD0+e2lmKHQgaW5zdGFuY2VvZiB2cCl7cmV0dXJuIHQuZ2V0VmFsdWUoZSl9cmV0dXJuIHR9KX1mdW5jdGlvbiBUcCh0LGUse25vZGU6aX0pe2xldCBuPUFwKHQsaSk7aWYodC5sZW5ndGg9PTEmJnRbMF1pbnN0YW5jZW9mIHhwKXtuPW5bMF19ZWxzZXtuPW4ucmVkdWNlKHpwLFwiXCIpfWlmKERwKG4pKXtlLnJlbW92ZSgpfWVsc2V7ZS5zZXQobil9fWZ1bmN0aW9uIFBwKHQpe3JldHVybntzZXQoZSl7dC50ZXh0Q29udGVudD1lfSxyZW1vdmUoKXt0LnRleHRDb250ZW50PVwiXCJ9fX1mdW5jdGlvbiBTcCh0LGUsaSl7cmV0dXJue3NldChuKXt0LnNldEF0dHJpYnV0ZU5TKGksZSxuKX0scmVtb3ZlKCl7dC5yZW1vdmVBdHRyaWJ1dGVOUyhpLGUpfX19ZnVuY3Rpb24gRXAodCxlKXtyZXR1cm57c2V0KGkpe3Quc3R5bGVbZV09aX0scmVtb3ZlKCl7dC5zdHlsZVtlXT1udWxsfX19ZnVuY3Rpb24gUnAodCl7Y29uc3QgZT0kcih0LHQ9PntpZih0JiYodCBpbnN0YW5jZW9mIHZwfHxIcCh0KXx8anAodCl8fFdwKHQpKSl7cmV0dXJuIHR9fSk7cmV0dXJuIGV9ZnVuY3Rpb24gT3AodCl7aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpe3Q9TnAodCl9ZWxzZSBpZih0LnRleHQpe01wKHQpfWlmKHQub24pe3QuZXZlbnRMaXN0ZW5lcnM9VnAodC5vbik7ZGVsZXRlIHQub259aWYoIXQudGV4dCl7aWYodC5hdHRyaWJ1dGVzKXtJcCh0LmF0dHJpYnV0ZXMpfWNvbnN0IGU9W107aWYodC5jaGlsZHJlbil7aWYoV3AodC5jaGlsZHJlbikpe2UucHVzaCh0LmNoaWxkcmVuKX1lbHNle2Zvcihjb25zdCBpIG9mIHQuY2hpbGRyZW4pe2lmKEhwKGkpfHxqcChpKXx8eGQoaSkpe2UucHVzaChpKX1lbHNle2UucHVzaChuZXcgX3AoaSkpfX19fXQuY2hpbGRyZW49ZX1yZXR1cm4gdH1mdW5jdGlvbiBJcCh0KXtmb3IoY29uc3QgZSBpbiB0KXtpZih0W2VdLnZhbHVlKXt0W2VdLnZhbHVlPVtdLmNvbmNhdCh0W2VdLnZhbHVlKX1CcCh0LGUpfX1mdW5jdGlvbiBWcCh0KXtmb3IoY29uc3QgZSBpbiB0KXtCcCh0LGUpfXJldHVybiB0fWZ1bmN0aW9uIE5wKHQpe3JldHVybnt0ZXh0Olt0XX19ZnVuY3Rpb24gTXAodCl7aWYoIUFycmF5LmlzQXJyYXkodC50ZXh0KSl7dC50ZXh0PVt0LnRleHRdfX1mdW5jdGlvbiBCcCh0LGUpe2lmKCFBcnJheS5pc0FycmF5KHRbZV0pKXt0W2VdPVt0W2VdXX19ZnVuY3Rpb24genAodCxlKXtpZihEcChlKSl7cmV0dXJuIHR9ZWxzZSBpZihEcCh0KSl7cmV0dXJuIGV9ZWxzZXtyZXR1cm5gJHt0fSAke2V9YH19ZnVuY3Rpb24gTHAodCxlKXtmb3IoY29uc3QgaSBpbiBlKXtpZih0W2ldKXt0W2ldLnB1c2goLi4uZVtpXSl9ZWxzZXt0W2ldPWVbaV19fX1mdW5jdGlvbiBGcCh0LGUpe2lmKGUuYXR0cmlidXRlcyl7aWYoIXQuYXR0cmlidXRlcyl7dC5hdHRyaWJ1dGVzPXt9fUxwKHQuYXR0cmlidXRlcyxlLmF0dHJpYnV0ZXMpfWlmKGUuZXZlbnRMaXN0ZW5lcnMpe2lmKCF0LmV2ZW50TGlzdGVuZXJzKXt0LmV2ZW50TGlzdGVuZXJzPXt9fUxwKHQuZXZlbnRMaXN0ZW5lcnMsZS5ldmVudExpc3RlbmVycyl9aWYoZS50ZXh0KXt0LnRleHQucHVzaCguLi5lLnRleHQpfWlmKGUuY2hpbGRyZW4mJmUuY2hpbGRyZW4ubGVuZ3RoKXtpZih0LmNoaWxkcmVuLmxlbmd0aCE9ZS5jaGlsZHJlbi5sZW5ndGgpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ1aS10ZW1wbGF0ZS1leHRlbmQtY2hpbGRyZW4tbWlzbWF0Y2g6IFRoZSBudW1iZXIgb2YgY2hpbGRyZW4gaW4gZXh0ZW5kZWQgZGVmaW5pdGlvbiBkb2VzIG5vdCBtYXRjaC5cIix0KX1sZXQgaT0wO2Zvcihjb25zdCBuIG9mIGUuY2hpbGRyZW4pe0ZwKHQuY2hpbGRyZW5baSsrXSxuKX19fWZ1bmN0aW9uIERwKHQpe3JldHVybiF0JiZ0IT09MH1mdW5jdGlvbiBqcCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEdwfWZ1bmN0aW9uIEhwKHQpe3JldHVybiB0IGluc3RhbmNlb2YgX3B9ZnVuY3Rpb24gV3AodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBicH1mdW5jdGlvbiBxcCgpe3JldHVybntjaGlsZHJlbjpbXSxiaW5kaW5nczpbXSxhdHRyaWJ1dGVzOnt9fX1mdW5jdGlvbiBVcCh0KXtyZXR1cm4gdD09XCJjbGFzc1wifHx0PT1cInN0eWxlXCJ9dmFyICRwPWkoMTUpO2NsYXNzIEdwe2NvbnN0cnVjdG9yKHQpe3RoaXMuZWxlbWVudD1udWxsO3RoaXMuaXNSZW5kZXJlZD1mYWxzZTt0aGlzLmxvY2FsZT10O3RoaXMudD10JiZ0LnQ7dGhpcy5fdmlld0NvbGxlY3Rpb25zPW5ldyB5czt0aGlzLl91bmJvdW5kQ2hpbGRyZW49dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCk7dGhpcy5fdmlld0NvbGxlY3Rpb25zLm9uKFwiYWRkXCIsKGUsaSk9PntpLmxvY2FsZT10fSk7dGhpcy5kZWNvcmF0ZShcInJlbmRlclwiKX1nZXQgYmluZFRlbXBsYXRlKCl7aWYodGhpcy5fYmluZFRlbXBsYXRlKXtyZXR1cm4gdGhpcy5fYmluZFRlbXBsYXRlfXJldHVybiB0aGlzLl9iaW5kVGVtcGxhdGU9X3AuYmluZCh0aGlzLHRoaXMpfWNyZWF0ZUNvbGxlY3Rpb24oKXtjb25zdCB0PW5ldyBicDt0aGlzLl92aWV3Q29sbGVjdGlvbnMuYWRkKHQpO3JldHVybiB0fXJlZ2lzdGVyQ2hpbGQodCl7aWYoIWpzKHQpKXt0PVt0XX1mb3IoY29uc3QgZSBvZiB0KXt0aGlzLl91bmJvdW5kQ2hpbGRyZW4uYWRkKGUpfX1kZXJlZ2lzdGVyQ2hpbGQodCl7aWYoIWpzKHQpKXt0PVt0XX1mb3IoY29uc3QgZSBvZiB0KXt0aGlzLl91bmJvdW5kQ2hpbGRyZW4ucmVtb3ZlKGUpfX1zZXRUZW1wbGF0ZSh0KXt0aGlzLnRlbXBsYXRlPW5ldyBfcCh0KX1leHRlbmRUZW1wbGF0ZSh0KXtfcC5leHRlbmQodGhpcy50ZW1wbGF0ZSx0KX1yZW5kZXIoKXtpZih0aGlzLmlzUmVuZGVyZWQpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ1aS12aWV3LXJlbmRlci1hbHJlYWR5LXJlbmRlcmVkOiBUaGlzIFZpZXcgaGFzIGFscmVhZHkgYmVlbiByZW5kZXJlZC5cIix0aGlzKX1pZih0aGlzLnRlbXBsYXRlKXt0aGlzLmVsZW1lbnQ9dGhpcy50ZW1wbGF0ZS5yZW5kZXIoKTt0aGlzLnJlZ2lzdGVyQ2hpbGQodGhpcy50ZW1wbGF0ZS5nZXRWaWV3cygpKX10aGlzLmlzUmVuZGVyZWQ9dHJ1ZX1kZXN0cm95KCl7dGhpcy5zdG9wTGlzdGVuaW5nKCk7dGhpcy5fdmlld0NvbGxlY3Rpb25zLm1hcCh0PT50LmRlc3Ryb3koKSk7aWYodGhpcy50ZW1wbGF0ZSYmdGhpcy50ZW1wbGF0ZS5fcmV2ZXJ0RGF0YSl7dGhpcy50ZW1wbGF0ZS5yZXZlcnQodGhpcy5lbGVtZW50KX19fXZzKEdwLHFkKTt2cyhHcCxKYyk7ZnVuY3Rpb24gS3AodCl7d2hpbGUodCYmdC50YWdOYW1lLnRvTG93ZXJDYXNlKCkhPVwiaHRtbFwiKXtpZihJZC53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KS5wb3NpdGlvbiE9XCJzdGF0aWNcIil7cmV0dXJuIHR9dD10LnBhcmVudEVsZW1lbnR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gSnAoe2VsZW1lbnQ6dCx0YXJnZXQ6ZSxwb3NpdGlvbnM6aSxsaW1pdGVyOm4sZml0SW5WaWV3cG9ydDpvfSl7aWYoZ3QoZSkpe2U9ZSgpfWlmKGd0KG4pKXtuPW4oKX1jb25zdCByPUtwKHQucGFyZW50RWxlbWVudCk7Y29uc3Qgcz1uZXcgdmgodCk7Y29uc3QgYT1uZXcgdmgoZSk7bGV0IGM7bGV0IGw7aWYoIW4mJiFvKXtbbCxjXT1ZcChpWzBdLGEscyl9ZWxzZXtjb25zdCB0PW4mJm5ldyB2aChuKS5nZXRWaXNpYmxlKCk7Y29uc3QgZT1vJiZuZXcgdmgoSWQud2luZG93KTtbbCxjXT1RcChpLGEscyx0LGUpfHxZcChpWzBdLGEscyl9bGV0e2xlZnQ6ZCx0b3A6dX09WHAoYyk7aWYocil7Y29uc3QgdD1YcChuZXcgdmgocikpO2NvbnN0IGU9a2gocik7ZC09dC5sZWZ0O3UtPXQudG9wO2QrPXIuc2Nyb2xsTGVmdDt1Kz1yLnNjcm9sbFRvcDtkLT1lLmxlZnQ7dS09ZS50b3B9cmV0dXJue2xlZnQ6ZCx0b3A6dSxuYW1lOmx9fWZ1bmN0aW9uIFlwKHQsZSxpKXtjb25zdHtsZWZ0Om4sdG9wOm8sbmFtZTpyfT10KGUsaSk7cmV0dXJuW3IsaS5jbG9uZSgpLm1vdmVUbyhuLG8pXX1mdW5jdGlvbiBRcCh0LGUsaSxuLG8pe2xldCByPTA7bGV0IHM9MDtsZXQgYTtsZXQgYztjb25zdCBsPWkuZ2V0QXJlYSgpO3Quc29tZSh0PT57Y29uc3RbZCx1XT1ZcCh0LGUsaSk7bGV0IGg7bGV0IGY7aWYobil7aWYobyl7Y29uc3QgdD1uLmdldEludGVyc2VjdGlvbihvKTtpZih0KXtoPXQuZ2V0SW50ZXJzZWN0aW9uQXJlYSh1KX1lbHNle2g9MH19ZWxzZXtoPW4uZ2V0SW50ZXJzZWN0aW9uQXJlYSh1KX19aWYobyl7Zj1vLmdldEludGVyc2VjdGlvbkFyZWEodSl9aWYobyYmIW4pe2lmKGY+cyl7ZygpfX1lbHNlIGlmKCFvJiZuKXtpZihoPnIpe2coKX19ZWxzZXtpZihmPnMmJmg+PXIpe2coKX1lbHNlIGlmKGY+PXMmJmg+cil7ZygpfX1mdW5jdGlvbiBnKCl7cz1mO3I9aDthPXU7Yz1kfXJldHVybiBoPT09bH0pO3JldHVybiBhP1tjLGFdOm51bGx9ZnVuY3Rpb24gWHAoe2xlZnQ6dCx0b3A6ZX0pe2NvbnN0e3Njcm9sbFg6aSxzY3JvbGxZOm59PUlkLndpbmRvdztyZXR1cm57bGVmdDp0K2ksdG9wOmUrbn19ZnVuY3Rpb24gWnAodCl7cmV0dXJuIGU9PmUrdH12YXIgdGI9aSgxNyk7Y29uc3QgZWI9WnAoXCJweFwiKTtjb25zdCBpYj1JZC5kb2N1bWVudC5ib2R5O2NsYXNzIG5iIGV4dGVuZHMgR3B7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldChcInRvcFwiLDApO3RoaXMuc2V0KFwibGVmdFwiLDApO3RoaXMuc2V0KFwicG9zaXRpb25cIixcImFycm93X253XCIpO3RoaXMuc2V0KFwiaXNWaXNpYmxlXCIsZmFsc2UpO3RoaXMuc2V0KFwid2l0aEFycm93XCIsdHJ1ZSk7dGhpcy5zZXQoXCJjbGFzc1wiKTt0aGlzLmNvbnRlbnQ9dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCk7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWJhbGxvb24tcGFuZWxcIixlLnRvKFwicG9zaXRpb25cIix0PT5gY2stYmFsbG9vbi1wYW5lbF8ke3R9YCksZS5pZihcImlzVmlzaWJsZVwiLFwiY2stYmFsbG9vbi1wYW5lbF92aXNpYmxlXCIpLGUuaWYoXCJ3aXRoQXJyb3dcIixcImNrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvd1wiKSxlLnRvKFwiY2xhc3NcIildLHN0eWxlOnt0b3A6ZS50byhcInRvcFwiLGViKSxsZWZ0OmUudG8oXCJsZWZ0XCIsZWIpfX0sY2hpbGRyZW46dGhpcy5jb250ZW50fSl9c2hvdygpe3RoaXMuaXNWaXNpYmxlPXRydWV9aGlkZSgpe3RoaXMuaXNWaXNpYmxlPWZhbHNlfWF0dGFjaFRvKHQpe3RoaXMuc2hvdygpO2NvbnN0IGU9bmIuZGVmYXVsdFBvc2l0aW9ucztjb25zdCBpPU9iamVjdC5hc3NpZ24oe30se2VsZW1lbnQ6dGhpcy5lbGVtZW50LHBvc2l0aW9uczpbZS5zb3V0aEFycm93Tm9ydGgsZS5zb3V0aEFycm93Tm9ydGhNaWRkbGVXZXN0LGUuc291dGhBcnJvd05vcnRoTWlkZGxlRWFzdCxlLnNvdXRoQXJyb3dOb3J0aFdlc3QsZS5zb3V0aEFycm93Tm9ydGhFYXN0LGUubm9ydGhBcnJvd1NvdXRoLGUubm9ydGhBcnJvd1NvdXRoTWlkZGxlV2VzdCxlLm5vcnRoQXJyb3dTb3V0aE1pZGRsZUVhc3QsZS5ub3J0aEFycm93U291dGhXZXN0LGUubm9ydGhBcnJvd1NvdXRoRWFzdF0sbGltaXRlcjppYixmaXRJblZpZXdwb3J0OnRydWV9LHQpO2NvbnN0IG49bmIuX2dldE9wdGltYWxQb3NpdGlvbihpKTtjb25zdCBvPXBhcnNlSW50KG4ubGVmdCk7Y29uc3Qgcj1wYXJzZUludChuLnRvcCk7Y29uc3Qgcz1uLm5hbWU7T2JqZWN0LmFzc2lnbih0aGlzLHt0b3A6cixsZWZ0Om8scG9zaXRpb246c30pfXBpbih0KXt0aGlzLnVucGluKCk7dGhpcy5fcGluV2hlbklzVmlzaWJsZUNhbGxiYWNrPSgpPT57aWYodGhpcy5pc1Zpc2libGUpe3RoaXMuX3N0YXJ0UGlubmluZyh0KX1lbHNle3RoaXMuX3N0b3BQaW5uaW5nKCl9fTt0aGlzLl9zdGFydFBpbm5pbmcodCk7dGhpcy5saXN0ZW5Ubyh0aGlzLFwiY2hhbmdlOmlzVmlzaWJsZVwiLHRoaXMuX3BpbldoZW5Jc1Zpc2libGVDYWxsYmFjayl9dW5waW4oKXtpZih0aGlzLl9waW5XaGVuSXNWaXNpYmxlQ2FsbGJhY2spe3RoaXMuX3N0b3BQaW5uaW5nKCk7dGhpcy5zdG9wTGlzdGVuaW5nKHRoaXMsXCJjaGFuZ2U6aXNWaXNpYmxlXCIsdGhpcy5fcGluV2hlbklzVmlzaWJsZUNhbGxiYWNrKTt0aGlzLl9waW5XaGVuSXNWaXNpYmxlQ2FsbGJhY2s9bnVsbDt0aGlzLmhpZGUoKX19X3N0YXJ0UGlubmluZyh0KXt0aGlzLmF0dGFjaFRvKHQpO2NvbnN0IGU9b2IodC50YXJnZXQpO2NvbnN0IGk9dC5saW1pdGVyP29iKHQubGltaXRlcik6aWI7dGhpcy5saXN0ZW5UbyhJZC5kb2N1bWVudCxcInNjcm9sbFwiLChuLG8pPT57Y29uc3Qgcj1vLnRhcmdldDtjb25zdCBzPWUmJnIuY29udGFpbnMoZSk7Y29uc3QgYT1pJiZyLmNvbnRhaW5zKGkpO2lmKHN8fGF8fCFlfHwhaSl7dGhpcy5hdHRhY2hUbyh0KX19LHt1c2VDYXB0dXJlOnRydWV9KTt0aGlzLmxpc3RlblRvKElkLndpbmRvdyxcInJlc2l6ZVwiLCgpPT57dGhpcy5hdHRhY2hUbyh0KX0pfV9zdG9wUGlubmluZygpe3RoaXMuc3RvcExpc3RlbmluZyhJZC5kb2N1bWVudCxcInNjcm9sbFwiKTt0aGlzLnN0b3BMaXN0ZW5pbmcoSWQud2luZG93LFwicmVzaXplXCIpfX1mdW5jdGlvbiBvYih0KXtpZihLcih0KSl7cmV0dXJuIHR9aWYod2godCkpe3JldHVybiB0LmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyfWlmKHR5cGVvZiB0PT1cImZ1bmN0aW9uXCIpe3JldHVybiBvYih0KCkpfXJldHVybiBudWxsfW5iLmFycm93SG9yaXpvbnRhbE9mZnNldD0yNTtuYi5hcnJvd1ZlcnRpY2FsT2Zmc2V0PTEwO25iLl9nZXRPcHRpbWFsUG9zaXRpb249SnA7bmIuZGVmYXVsdFBvc2l0aW9ucz17bm9ydGhXZXN0QXJyb3dTb3V0aFdlc3Q6KHQsZSk9Pih7dG9wOnJiKHQsZSksbGVmdDp0LmxlZnQtbmIuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19zd1wifSksbm9ydGhXZXN0QXJyb3dTb3V0aE1pZGRsZVdlc3Q6KHQsZSk9Pih7dG9wOnJiKHQsZSksbGVmdDp0LmxlZnQtZS53aWR0aCouMjUtbmIuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19zbXdcIn0pLG5vcnRoV2VzdEFycm93U291dGg6KHQsZSk9Pih7dG9wOnJiKHQsZSksbGVmdDp0LmxlZnQtZS53aWR0aC8yLG5hbWU6XCJhcnJvd19zXCJ9KSxub3J0aFdlc3RBcnJvd1NvdXRoTWlkZGxlRWFzdDoodCxlKT0+KHt0b3A6cmIodCxlKSxsZWZ0OnQubGVmdC1lLndpZHRoKi43NStuYi5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X3NtZVwifSksbm9ydGhXZXN0QXJyb3dTb3V0aEVhc3Q6KHQsZSk9Pih7dG9wOnJiKHQsZSksbGVmdDp0LmxlZnQtZS53aWR0aCtuYi5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X3NlXCJ9KSxub3J0aEFycm93U291dGhXZXN0Oih0LGUpPT4oe3RvcDpyYih0LGUpLGxlZnQ6dC5sZWZ0K3Qud2lkdGgvMi1uYi5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X3N3XCJ9KSxub3J0aEFycm93U291dGhNaWRkbGVXZXN0Oih0LGUpPT4oe3RvcDpyYih0LGUpLGxlZnQ6dC5sZWZ0K3Qud2lkdGgvMi1lLndpZHRoKi4yNS1uYi5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X3Ntd1wifSksbm9ydGhBcnJvd1NvdXRoOih0LGUpPT4oe3RvcDpyYih0LGUpLGxlZnQ6dC5sZWZ0K3Qud2lkdGgvMi1lLndpZHRoLzIsbmFtZTpcImFycm93X3NcIn0pLG5vcnRoQXJyb3dTb3V0aE1pZGRsZUVhc3Q6KHQsZSk9Pih7dG9wOnJiKHQsZSksbGVmdDp0LmxlZnQrdC53aWR0aC8yLWUud2lkdGgqLjc1K25iLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfc21lXCJ9KSxub3J0aEFycm93U291dGhFYXN0Oih0LGUpPT4oe3RvcDpyYih0LGUpLGxlZnQ6dC5sZWZ0K3Qud2lkdGgvMi1lLndpZHRoK25iLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfc2VcIn0pLG5vcnRoRWFzdEFycm93U291dGhXZXN0Oih0LGUpPT4oe3RvcDpyYih0LGUpLGxlZnQ6dC5yaWdodC1uYi5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X3N3XCJ9KSxub3J0aEVhc3RBcnJvd1NvdXRoTWlkZGxlV2VzdDoodCxlKT0+KHt0b3A6cmIodCxlKSxsZWZ0OnQucmlnaHQtZS53aWR0aCouMjUtbmIuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19zbXdcIn0pLG5vcnRoRWFzdEFycm93U291dGg6KHQsZSk9Pih7dG9wOnJiKHQsZSksbGVmdDp0LnJpZ2h0LWUud2lkdGgvMixuYW1lOlwiYXJyb3dfc1wifSksbm9ydGhFYXN0QXJyb3dTb3V0aE1pZGRsZUVhc3Q6KHQsZSk9Pih7dG9wOnJiKHQsZSksbGVmdDp0LnJpZ2h0LWUud2lkdGgqLjc1K25iLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfc21lXCJ9KSxub3J0aEVhc3RBcnJvd1NvdXRoRWFzdDoodCxlKT0+KHt0b3A6cmIodCxlKSxsZWZ0OnQucmlnaHQtZS53aWR0aCtuYi5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X3NlXCJ9KSxzb3V0aFdlc3RBcnJvd05vcnRoV2VzdDoodCxlKT0+KHt0b3A6c2IodCxlKSxsZWZ0OnQubGVmdC1uYi5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X253XCJ9KSxzb3V0aFdlc3RBcnJvd05vcnRoTWlkZGxlV2VzdDoodCxlKT0+KHt0b3A6c2IodCxlKSxsZWZ0OnQubGVmdC1lLndpZHRoKi4yNS1uYi5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X25td1wifSksc291dGhXZXN0QXJyb3dOb3J0aDoodCxlKT0+KHt0b3A6c2IodCxlKSxsZWZ0OnQubGVmdC1lLndpZHRoLzIsbmFtZTpcImFycm93X25cIn0pLHNvdXRoV2VzdEFycm93Tm9ydGhNaWRkbGVFYXN0Oih0LGUpPT4oe3RvcDpzYih0LGUpLGxlZnQ6dC5sZWZ0LWUud2lkdGgqLjc1K25iLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfbm1lXCJ9KSxzb3V0aFdlc3RBcnJvd05vcnRoRWFzdDoodCxlKT0+KHt0b3A6c2IodCxlKSxsZWZ0OnQubGVmdC1lLndpZHRoK25iLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfbmVcIn0pLHNvdXRoQXJyb3dOb3J0aFdlc3Q6KHQsZSk9Pih7dG9wOnNiKHQsZSksbGVmdDp0LmxlZnQrdC53aWR0aC8yLW5iLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfbndcIn0pLHNvdXRoQXJyb3dOb3J0aE1pZGRsZVdlc3Q6KHQsZSk9Pih7dG9wOnNiKHQsZSksbGVmdDp0LmxlZnQrdC53aWR0aC8yLWUud2lkdGgqLjI1LW5iLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfbm13XCJ9KSxzb3V0aEFycm93Tm9ydGg6KHQsZSk9Pih7dG9wOnNiKHQsZSksbGVmdDp0LmxlZnQrdC53aWR0aC8yLWUud2lkdGgvMixuYW1lOlwiYXJyb3dfblwifSksc291dGhBcnJvd05vcnRoTWlkZGxlRWFzdDoodCxlKT0+KHt0b3A6c2IodCxlKSxsZWZ0OnQubGVmdCt0LndpZHRoLzItZS53aWR0aCouNzUrbmIuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19ubWVcIn0pLHNvdXRoQXJyb3dOb3J0aEVhc3Q6KHQsZSk9Pih7dG9wOnNiKHQsZSksbGVmdDp0LmxlZnQrdC53aWR0aC8yLWUud2lkdGgrbmIuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19uZVwifSksc291dGhFYXN0QXJyb3dOb3J0aFdlc3Q6KHQsZSk9Pih7dG9wOnNiKHQsZSksbGVmdDp0LnJpZ2h0LW5iLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfbndcIn0pLHNvdXRoRWFzdEFycm93Tm9ydGhNaWRkbGVXZXN0Oih0LGUpPT4oe3RvcDpzYih0LGUpLGxlZnQ6dC5yaWdodC1lLndpZHRoKi4yNS1uYi5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X25td1wifSksc291dGhFYXN0QXJyb3dOb3J0aDoodCxlKT0+KHt0b3A6c2IodCxlKSxsZWZ0OnQucmlnaHQtZS53aWR0aC8yLG5hbWU6XCJhcnJvd19uXCJ9KSxzb3V0aEVhc3RBcnJvd05vcnRoTWlkZGxlRWFzdDoodCxlKT0+KHt0b3A6c2IodCxlKSxsZWZ0OnQucmlnaHQtZS53aWR0aCouNzUrbmIuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19ubWVcIn0pLHNvdXRoRWFzdEFycm93Tm9ydGhFYXN0Oih0LGUpPT4oe3RvcDpzYih0LGUpLGxlZnQ6dC5yaWdodC1lLndpZHRoK25iLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfbmVcIn0pfTtmdW5jdGlvbiByYih0LGUpe3JldHVybiB0LnRvcC1lLmhlaWdodC1uYi5hcnJvd1ZlcnRpY2FsT2Zmc2V0fWZ1bmN0aW9uIHNiKHQpe3JldHVybiB0LmJvdHRvbStuYi5hcnJvd1ZlcnRpY2FsT2Zmc2V0fXZhciBhYj1pKDE5KTtjbGFzcyBjYiBleHRlbmRzIEdwe2NvbnN0cnVjdG9yKCl7c3VwZXIoKTtjb25zdCB0PXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0KFwiY29udGVudFwiLFwiXCIpO3RoaXMuc2V0KFwidmlld0JveFwiLFwiMCAwIDIwIDIwXCIpO3RoaXMuc2V0KFwiZmlsbENvbG9yXCIsXCJcIik7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwic3ZnXCIsbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1pY29uXCJdLHZpZXdCb3g6dC50byhcInZpZXdCb3hcIil9fSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCk7dGhpcy5fdXBkYXRlWE1MQ29udGVudCgpO3RoaXMuX2NvbG9yRmlsbFBhdGhzKCk7dGhpcy5vbihcImNoYW5nZTpjb250ZW50XCIsKCk9Pnt0aGlzLl91cGRhdGVYTUxDb250ZW50KCk7dGhpcy5fY29sb3JGaWxsUGF0aHMoKX0pO3RoaXMub24oXCJjaGFuZ2U6ZmlsbENvbG9yXCIsKCk9Pnt0aGlzLl9jb2xvckZpbGxQYXRocygpfSl9X3VwZGF0ZVhNTENvbnRlbnQoKXtpZih0aGlzLmNvbnRlbnQpe2NvbnN0IHQ9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyh0aGlzLmNvbnRlbnQudHJpbSgpLFwiaW1hZ2Uvc3ZnK3htbFwiKTtjb25zdCBlPXQucXVlcnlTZWxlY3RvcihcInN2Z1wiKTtjb25zdCBpPWUuZ2V0QXR0cmlidXRlKFwidmlld0JveFwiKTtpZihpKXt0aGlzLnZpZXdCb3g9aX10aGlzLmVsZW1lbnQuaW5uZXJIVE1MPVwiXCI7d2hpbGUoZS5jaGlsZE5vZGVzLmxlbmd0aD4wKXt0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZS5jaGlsZE5vZGVzWzBdKX19fV9jb2xvckZpbGxQYXRocygpe2lmKHRoaXMuZmlsbENvbG9yKXt0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jay1pY29uX19maWxsXCIpLmZvckVhY2godD0+e3Quc3R5bGUuZmlsbD10aGlzLmZpbGxDb2xvcn0pfX19dmFyIGxiPWkoMjEpO2NsYXNzIGRiIGV4dGVuZHMgR3B7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7dGhpcy5zZXQoXCJ0ZXh0XCIsXCJcIik7dGhpcy5zZXQoXCJwb3NpdGlvblwiLFwic1wiKTtjb25zdCBlPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcInNwYW5cIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stdG9vbHRpcFwiLGUudG8oXCJwb3NpdGlvblwiLHQ9PlwiY2stdG9vbHRpcF9cIit0KSxlLmlmKFwidGV4dFwiLFwiY2staGlkZGVuXCIsdD0+IXQudHJpbSgpKV19LGNoaWxkcmVuOlt7dGFnOlwic3BhblwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay10b29sdGlwX190ZXh0XCJdfSxjaGlsZHJlbjpbe3RleHQ6ZS50byhcInRleHRcIil9XX1dfSl9fXZhciB1Yj1pKDIzKTtjbGFzcyBoYiBleHRlbmRzIEdwe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7Y29uc3QgaT1pcygpO3RoaXMuc2V0KFwiY2xhc3NcIik7dGhpcy5zZXQoXCJsYWJlbFN0eWxlXCIpO3RoaXMuc2V0KFwiaWNvblwiKTt0aGlzLnNldChcImlzRW5hYmxlZFwiLHRydWUpO3RoaXMuc2V0KFwiaXNPblwiLGZhbHNlKTt0aGlzLnNldChcImlzVmlzaWJsZVwiLHRydWUpO3RoaXMuc2V0KFwiaXNUb2dnbGVhYmxlXCIsZmFsc2UpO3RoaXMuc2V0KFwia2V5c3Ryb2tlXCIpO3RoaXMuc2V0KFwibGFiZWxcIik7dGhpcy5zZXQoXCJ0YWJpbmRleFwiLC0xKTt0aGlzLnNldChcInRvb2x0aXBcIik7dGhpcy5zZXQoXCJ0b29sdGlwUG9zaXRpb25cIixcInNcIik7dGhpcy5zZXQoXCJ0eXBlXCIsXCJidXR0b25cIik7dGhpcy5zZXQoXCJ3aXRoVGV4dFwiLGZhbHNlKTt0aGlzLnNldChcIndpdGhLZXlzdHJva2VcIixmYWxzZSk7dGhpcy5jaGlsZHJlbj10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKTt0aGlzLnRvb2x0aXBWaWV3PXRoaXMuX2NyZWF0ZVRvb2x0aXBWaWV3KCk7dGhpcy5sYWJlbFZpZXc9dGhpcy5fY3JlYXRlTGFiZWxWaWV3KGkpO3RoaXMuaWNvblZpZXc9bmV3IGNiO3RoaXMuaWNvblZpZXcuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOlwiY2stYnV0dG9uX19pY29uXCJ9fSk7dGhpcy5rZXlzdHJva2VWaWV3PXRoaXMuX2NyZWF0ZUtleXN0cm9rZVZpZXcoKTt0aGlzLmJpbmQoXCJfdG9vbHRpcFN0cmluZ1wiKS50byh0aGlzLFwidG9vbHRpcFwiLHRoaXMsXCJsYWJlbFwiLHRoaXMsXCJrZXlzdHJva2VcIix0aGlzLl9nZXRUb29sdGlwU3RyaW5nLmJpbmQodGhpcykpO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImJ1dHRvblwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1idXR0b25cIixlLnRvKFwiY2xhc3NcIiksZS5pZihcImlzRW5hYmxlZFwiLFwiY2stZGlzYWJsZWRcIix0PT4hdCksZS5pZihcImlzVmlzaWJsZVwiLFwiY2staGlkZGVuXCIsdD0+IXQpLGUudG8oXCJpc09uXCIsdD0+dD9cImNrLW9uXCI6XCJjay1vZmZcIiksZS5pZihcIndpdGhUZXh0XCIsXCJjay1idXR0b25fd2l0aC10ZXh0XCIpLGUuaWYoXCJ3aXRoS2V5c3Ryb2tlXCIsXCJjay1idXR0b25fd2l0aC1rZXlzdHJva2VcIildLHR5cGU6ZS50byhcInR5cGVcIix0PT50P3Q6XCJidXR0b25cIiksdGFiaW5kZXg6ZS50byhcInRhYmluZGV4XCIpLFwiYXJpYS1sYWJlbGxlZGJ5XCI6YGNrLWVkaXRvcl9fYXJpYS1sYWJlbF8ke2l9YCxcImFyaWEtZGlzYWJsZWRcIjplLmlmKFwiaXNFbmFibGVkXCIsdHJ1ZSx0PT4hdCksXCJhcmlhLXByZXNzZWRcIjplLnRvKFwiaXNPblwiLHQ9PnRoaXMuaXNUb2dnbGVhYmxlP1N0cmluZyh0KTpmYWxzZSl9LGNoaWxkcmVuOnRoaXMuY2hpbGRyZW4sb246e21vdXNlZG93bjplLnRvKHQ9Pnt0LnByZXZlbnREZWZhdWx0KCl9KSxjbGljazplLnRvKHQ9PntpZih0aGlzLmlzRW5hYmxlZCl7dGhpcy5maXJlKFwiZXhlY3V0ZVwiKX1lbHNle3QucHJldmVudERlZmF1bHQoKX19KX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtpZih0aGlzLmljb24pe3RoaXMuaWNvblZpZXcuYmluZChcImNvbnRlbnRcIikudG8odGhpcyxcImljb25cIik7dGhpcy5jaGlsZHJlbi5hZGQodGhpcy5pY29uVmlldyl9dGhpcy5jaGlsZHJlbi5hZGQodGhpcy50b29sdGlwVmlldyk7dGhpcy5jaGlsZHJlbi5hZGQodGhpcy5sYWJlbFZpZXcpO2lmKHRoaXMud2l0aEtleXN0cm9rZSl7dGhpcy5jaGlsZHJlbi5hZGQodGhpcy5rZXlzdHJva2VWaWV3KX19Zm9jdXMoKXt0aGlzLmVsZW1lbnQuZm9jdXMoKX1fY3JlYXRlVG9vbHRpcFZpZXcoKXtjb25zdCB0PW5ldyBkYjt0LmJpbmQoXCJ0ZXh0XCIpLnRvKHRoaXMsXCJfdG9vbHRpcFN0cmluZ1wiKTt0LmJpbmQoXCJwb3NpdGlvblwiKS50byh0aGlzLFwidG9vbHRpcFBvc2l0aW9uXCIpO3JldHVybiB0fV9jcmVhdGVMYWJlbFZpZXcodCl7Y29uc3QgZT1uZXcgR3A7Y29uc3QgaT10aGlzLmJpbmRUZW1wbGF0ZTtlLnNldFRlbXBsYXRlKHt0YWc6XCJzcGFuXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWJ1dHRvbl9fbGFiZWxcIl0sc3R5bGU6aS50byhcImxhYmVsU3R5bGVcIiksaWQ6YGNrLWVkaXRvcl9fYXJpYS1sYWJlbF8ke3R9YH0sY2hpbGRyZW46W3t0ZXh0OnRoaXMuYmluZFRlbXBsYXRlLnRvKFwibGFiZWxcIil9XX0pO3JldHVybiBlfV9jcmVhdGVLZXlzdHJva2VWaWV3KCl7Y29uc3QgdD1uZXcgR3A7dC5zZXRUZW1wbGF0ZSh7dGFnOlwic3BhblwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1idXR0b25fX2tleXN0cm9rZVwiXX0sY2hpbGRyZW46W3t0ZXh0OnRoaXMuYmluZFRlbXBsYXRlLnRvKFwia2V5c3Ryb2tlXCIsdD0+emwodCkpfV19KTtyZXR1cm4gdH1fZ2V0VG9vbHRpcFN0cmluZyh0LGUsaSl7aWYodCl7aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpe3JldHVybiB0fWVsc2V7aWYoaSl7aT16bChpKX1pZih0IGluc3RhbmNlb2YgRnVuY3Rpb24pe3JldHVybiB0KGUsaSl9ZWxzZXtyZXR1cm5gJHtlfSR7aT9gICgke2l9KWA6XCJcIn1gfX19cmV0dXJuXCJcIn19Y2xhc3MgZmJ7Y29uc3RydWN0b3IoKXt0aGlzLnNldChcImlzRm9jdXNlZFwiLGZhbHNlKTt0aGlzLnNldChcImZvY3VzZWRFbGVtZW50XCIsbnVsbCk7dGhpcy5fZWxlbWVudHM9bmV3IFNldDt0aGlzLl9uZXh0RXZlbnRMb29wVGltZW91dD1udWxsfWFkZCh0KXtpZih0aGlzLl9lbGVtZW50cy5oYXModCkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJmb2N1c1RyYWNrZXItYWRkLWVsZW1lbnQtYWxyZWFkeS1leGlzdFwiLHRoaXMpfXRoaXMubGlzdGVuVG8odCxcImZvY3VzXCIsKCk9PnRoaXMuX2ZvY3VzKHQpLHt1c2VDYXB0dXJlOnRydWV9KTt0aGlzLmxpc3RlblRvKHQsXCJibHVyXCIsKCk9PnRoaXMuX2JsdXIoKSx7dXNlQ2FwdHVyZTp0cnVlfSk7dGhpcy5fZWxlbWVudHMuYWRkKHQpfXJlbW92ZSh0KXtpZih0PT09dGhpcy5mb2N1c2VkRWxlbWVudCl7dGhpcy5fYmx1cih0KX1pZih0aGlzLl9lbGVtZW50cy5oYXModCkpe3RoaXMuc3RvcExpc3RlbmluZyh0KTt0aGlzLl9lbGVtZW50cy5kZWxldGUodCl9fWRlc3Ryb3koKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKX1fZm9jdXModCl7Y2xlYXJUaW1lb3V0KHRoaXMuX25leHRFdmVudExvb3BUaW1lb3V0KTt0aGlzLmZvY3VzZWRFbGVtZW50PXQ7dGhpcy5pc0ZvY3VzZWQ9dHJ1ZX1fYmx1cigpe2NsZWFyVGltZW91dCh0aGlzLl9uZXh0RXZlbnRMb29wVGltZW91dCk7dGhpcy5fbmV4dEV2ZW50TG9vcFRpbWVvdXQ9c2V0VGltZW91dCgoKT0+e3RoaXMuZm9jdXNlZEVsZW1lbnQ9bnVsbDt0aGlzLmlzRm9jdXNlZD1mYWxzZX0sMCl9fXZzKGZiLHFkKTt2cyhmYixKYyk7dmFyIGdiPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xMS40NjMgNS4xODdhLjg4OC44ODggMCAxIDEgMS4yNTQgMS4yNTVMOS4xNiAxMGwzLjU1NyAzLjU1N2EuODg4Ljg4OCAwIDEgMS0xLjI1NCAxLjI1NUw3LjI2IDEwLjYxYS44ODguODg4IDAgMCAxIC4xNi0xLjM4Mmw0LjA0My00LjA0MnpcIi8+PC9zdmc+Jzt2YXIgbWI9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTguNTM3IDE0LjgxM2EuODg4Ljg4OCAwIDEgMS0xLjI1NC0xLjI1NUwxMC44NCAxMCA3LjI4MyA2LjQ0MmEuODg4Ljg4OCAwIDEgMSAxLjI1NC0xLjI1NUwxMi43NCA5LjM5YS44ODguODg4IDAgMCAxLS4xNiAxLjM4MmwtNC4wNDMgNC4wNDJ6XCIvPjwvc3ZnPic7dmFyIHBiPWkoMjUpO3ZhciBiYj1pKDI3KTtjb25zdCB3Yj1acChcInB4XCIpO2NsYXNzIGtiIGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJDb250ZXh0dWFsQmFsbG9vblwifWNvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3RoaXMucG9zaXRpb25MaW1pdGVyPSgpPT57Y29uc3QgdD10aGlzLmVkaXRvci5lZGl0aW5nLnZpZXc7Y29uc3QgZT10LmRvY3VtZW50O2NvbnN0IGk9ZS5zZWxlY3Rpb24uZWRpdGFibGVFbGVtZW50O2lmKGkpe3JldHVybiB0LmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20oaS5yb290KX1yZXR1cm4gbnVsbH07dGhpcy5zZXQoXCJ2aXNpYmxlVmlld1wiLG51bGwpO3RoaXMudmlldz1uZXcgbmIodC5sb2NhbGUpO3QudWkudmlldy5ib2R5LmFkZCh0aGlzLnZpZXcpO3QudWkuZm9jdXNUcmFja2VyLmFkZCh0aGlzLnZpZXcuZWxlbWVudCk7dGhpcy5fdmlld1RvU3RhY2s9bmV3IE1hcDt0aGlzLl9pZFRvU3RhY2s9bmV3IE1hcDt0aGlzLnNldChcIl9udW1iZXJPZlN0YWNrc1wiLDApO3RoaXMuc2V0KFwiX3NpbmdsZVZpZXdNb2RlXCIsZmFsc2UpO3RoaXMuX3JvdGF0b3JWaWV3PXRoaXMuX2NyZWF0ZVJvdGF0b3JWaWV3KCk7dGhpcy5fZmFrZVBhbmVsc1ZpZXc9dGhpcy5fY3JlYXRlRmFrZVBhbmVsc1ZpZXcoKX1oYXNWaWV3KHQpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX3ZpZXdUb1N0YWNrLmtleXMoKSkuaW5jbHVkZXModCl9YWRkKHQpe2lmKHRoaXMuaGFzVmlldyh0LnZpZXcpKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwiY29udGV4dHVhbGJhbGxvb24tYWRkLXZpZXctZXhpc3Q6IENhbm5vdCBhZGQgY29uZmlndXJhdGlvbiBvZiB0aGUgc2FtZSB2aWV3IHR3aWNlLlwiLFt0aGlzLHRdKX1jb25zdCBlPXQuc3RhY2tJZHx8XCJtYWluXCI7aWYoIXRoaXMuX2lkVG9TdGFjay5oYXMoZSkpe3RoaXMuX2lkVG9TdGFjay5zZXQoZSxuZXcgTWFwKFtbdC52aWV3LHRdXSkpO3RoaXMuX3ZpZXdUb1N0YWNrLnNldCh0LnZpZXcsdGhpcy5faWRUb1N0YWNrLmdldChlKSk7dGhpcy5fbnVtYmVyT2ZTdGFja3M9dGhpcy5faWRUb1N0YWNrLnNpemU7aWYoIXRoaXMuX3Zpc2libGVTdGFja3x8dC5zaW5nbGVWaWV3TW9kZSl7dGhpcy5zaG93U3RhY2soZSl9cmV0dXJufWNvbnN0IGk9dGhpcy5faWRUb1N0YWNrLmdldChlKTtpZih0LnNpbmdsZVZpZXdNb2RlKXt0aGlzLnNob3dTdGFjayhlKX1pLnNldCh0LnZpZXcsdCk7dGhpcy5fdmlld1RvU3RhY2suc2V0KHQudmlldyxpKTtpZihpPT09dGhpcy5fdmlzaWJsZVN0YWNrKXt0aGlzLl9zaG93Vmlldyh0KX19cmVtb3ZlKHQpe2lmKCF0aGlzLmhhc1ZpZXcodCkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJjb250ZXh0dWFsYmFsbG9vbi1yZW1vdmUtdmlldy1ub3QtZXhpc3Q6IENhbm5vdCByZW1vdmUgdGhlIGNvbmZpZ3VyYXRpb24gb2YgYSBub24tZXhpc3RlbnQgdmlldy5cIixbdGhpcyx0XSl9Y29uc3QgZT10aGlzLl92aWV3VG9TdGFjay5nZXQodCk7aWYodGhpcy5fc2luZ2xlVmlld01vZGUmJnRoaXMudmlzaWJsZVZpZXc9PT10KXt0aGlzLl9zaW5nbGVWaWV3TW9kZT1mYWxzZX1pZih0aGlzLnZpc2libGVWaWV3PT09dCl7aWYoZS5zaXplPT09MSl7aWYodGhpcy5faWRUb1N0YWNrLnNpemU+MSl7dGhpcy5fc2hvd05leHRTdGFjaygpfWVsc2V7dGhpcy52aWV3LmhpZGUoKTt0aGlzLnZpc2libGVWaWV3PW51bGw7dGhpcy5fcm90YXRvclZpZXcuaGlkZVZpZXcoKX19ZWxzZXt0aGlzLl9zaG93VmlldyhBcnJheS5mcm9tKGUudmFsdWVzKCkpW2Uuc2l6ZS0yXSl9fWlmKGUuc2l6ZT09PTEpe3RoaXMuX2lkVG9TdGFjay5kZWxldGUodGhpcy5fZ2V0U3RhY2tJZChlKSk7dGhpcy5fbnVtYmVyT2ZTdGFja3M9dGhpcy5faWRUb1N0YWNrLnNpemV9ZWxzZXtlLmRlbGV0ZSh0KX10aGlzLl92aWV3VG9TdGFjay5kZWxldGUodCl9dXBkYXRlUG9zaXRpb24odCl7aWYodCl7dGhpcy5fdmlzaWJsZVN0YWNrLmdldCh0aGlzLnZpc2libGVWaWV3KS5wb3NpdGlvbj10fXRoaXMudmlldy5waW4odGhpcy5fZ2V0QmFsbG9vblBvc2l0aW9uKCkpO3RoaXMuX2Zha2VQYW5lbHNWaWV3LnVwZGF0ZVBvc2l0aW9uKCl9c2hvd1N0YWNrKHQpe3RoaXMudmlzaWJsZVN0YWNrPXQ7Y29uc3QgZT10aGlzLl9pZFRvU3RhY2suZ2V0KHQpO2lmKCFlKXt0aHJvdyBuZXcgc3NbXCJiXCJdKFwiY29udGV4dHVhbGJhbGxvb24tc2hvd3N0YWNrLXN0YWNrLW5vdC1leGlzdDogQ2Fubm90IHNob3cgYSBzdGFjayB0aGF0IGRvZXMgbm90IGV4aXN0LlwiLHRoaXMpfWlmKHRoaXMuX3Zpc2libGVTdGFjaz09PWUpe3JldHVybn10aGlzLl9zaG93VmlldyhBcnJheS5mcm9tKGUudmFsdWVzKCkpLnBvcCgpKX1nZXQgX3Zpc2libGVTdGFjaygpe3JldHVybiB0aGlzLl92aWV3VG9TdGFjay5nZXQodGhpcy52aXNpYmxlVmlldyl9X2dldFN0YWNrSWQodCl7Y29uc3QgZT1BcnJheS5mcm9tKHRoaXMuX2lkVG9TdGFjay5lbnRyaWVzKCkpLmZpbmQoZT0+ZVsxXT09PXQpO3JldHVybiBlWzBdfV9zaG93TmV4dFN0YWNrKCl7Y29uc3QgdD1BcnJheS5mcm9tKHRoaXMuX2lkVG9TdGFjay52YWx1ZXMoKSk7bGV0IGU9dC5pbmRleE9mKHRoaXMuX3Zpc2libGVTdGFjaykrMTtpZighdFtlXSl7ZT0wfXRoaXMuc2hvd1N0YWNrKHRoaXMuX2dldFN0YWNrSWQodFtlXSkpfV9zaG93UHJldlN0YWNrKCl7Y29uc3QgdD1BcnJheS5mcm9tKHRoaXMuX2lkVG9TdGFjay52YWx1ZXMoKSk7bGV0IGU9dC5pbmRleE9mKHRoaXMuX3Zpc2libGVTdGFjayktMTtpZighdFtlXSl7ZT10Lmxlbmd0aC0xfXRoaXMuc2hvd1N0YWNrKHRoaXMuX2dldFN0YWNrSWQodFtlXSkpfV9jcmVhdGVSb3RhdG9yVmlldygpe2NvbnN0IHQ9bmV3IF9iKHRoaXMuZWRpdG9yLmxvY2FsZSk7Y29uc3QgZT10aGlzLmVkaXRvci5sb2NhbGUudDt0aGlzLnZpZXcuY29udGVudC5hZGQodCk7dC5iaW5kKFwiaXNOYXZpZ2F0aW9uVmlzaWJsZVwiKS50byh0aGlzLFwiX251bWJlck9mU3RhY2tzXCIsdGhpcyxcIl9zaW5nbGVWaWV3TW9kZVwiLCh0LGUpPT4hZSYmdD4xKTt0Lm9uKFwiY2hhbmdlOmlzTmF2aWdhdGlvblZpc2libGVcIiwoKT0+dGhpcy51cGRhdGVQb3NpdGlvbigpLHtwcmlvcml0eTpcImxvd1wifSk7dC5iaW5kKFwiY291bnRlclwiKS50byh0aGlzLFwidmlzaWJsZVZpZXdcIix0aGlzLFwiX251bWJlck9mU3RhY2tzXCIsKHQsaSk9PntpZihpPDIpe3JldHVyblwiXCJ9Y29uc3Qgbj1BcnJheS5mcm9tKHRoaXMuX2lkVG9TdGFjay52YWx1ZXMoKSkuaW5kZXhPZih0aGlzLl92aXNpYmxlU3RhY2spKzE7cmV0dXJuIGUoXCJsdVwiLFtuLGldKX0pO3QuYnV0dG9uTmV4dFZpZXcub24oXCJleGVjdXRlXCIsKCk9PntpZih0LmZvY3VzVHJhY2tlci5pc0ZvY3VzZWQpe3RoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5mb2N1cygpfXRoaXMuX3Nob3dOZXh0U3RhY2soKX0pO3QuYnV0dG9uUHJldlZpZXcub24oXCJleGVjdXRlXCIsKCk9PntpZih0LmZvY3VzVHJhY2tlci5pc0ZvY3VzZWQpe3RoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5mb2N1cygpfXRoaXMuX3Nob3dQcmV2U3RhY2soKX0pO3JldHVybiB0fV9jcmVhdGVGYWtlUGFuZWxzVmlldygpe2NvbnN0IHQ9bmV3IHZiKHRoaXMuZWRpdG9yLmxvY2FsZSx0aGlzLnZpZXcpO3QuYmluZChcIm51bWJlck9mUGFuZWxzXCIpLnRvKHRoaXMsXCJfbnVtYmVyT2ZTdGFja3NcIix0aGlzLFwiX3NpbmdsZVZpZXdNb2RlXCIsKHQsZSk9Pntjb25zdCBpPSFlJiZ0Pj0yO3JldHVybiBpP01hdGgubWluKHQtMSwyKTowfSk7dC5saXN0ZW5Ubyh0aGlzLnZpZXcsXCJjaGFuZ2U6dG9wXCIsKCk9PnQudXBkYXRlUG9zaXRpb24oKSk7dC5saXN0ZW5Ubyh0aGlzLnZpZXcsXCJjaGFuZ2U6bGVmdFwiLCgpPT50LnVwZGF0ZVBvc2l0aW9uKCkpO3RoaXMuZWRpdG9yLnVpLnZpZXcuYm9keS5hZGQodCk7cmV0dXJuIHR9X3Nob3dWaWV3KHt2aWV3OnQsYmFsbG9vbkNsYXNzTmFtZTplPVwiXCIsd2l0aEFycm93Omk9dHJ1ZSxzaW5nbGVWaWV3TW9kZTpuPWZhbHNlfSl7dGhpcy52aWV3LmNsYXNzPWU7dGhpcy52aWV3LndpdGhBcnJvdz1pO3RoaXMuX3JvdGF0b3JWaWV3LnNob3dWaWV3KHQpO3RoaXMudmlzaWJsZVZpZXc9dDt0aGlzLnZpZXcucGluKHRoaXMuX2dldEJhbGxvb25Qb3NpdGlvbigpKTt0aGlzLl9mYWtlUGFuZWxzVmlldy51cGRhdGVQb3NpdGlvbigpO2lmKG4pe3RoaXMuX3NpbmdsZVZpZXdNb2RlPXRydWV9fV9nZXRCYWxsb29uUG9zaXRpb24oKXtsZXQgdD1BcnJheS5mcm9tKHRoaXMuX3Zpc2libGVTdGFjay52YWx1ZXMoKSkucG9wKCkucG9zaXRpb247aWYodCYmIXQubGltaXRlcil7dD1PYmplY3QuYXNzaWduKHt9LHQse2xpbWl0ZXI6dGhpcy5wb3NpdGlvbkxpbWl0ZXJ9KX1yZXR1cm4gdH19Y2xhc3MgX2IgZXh0ZW5kcyBHcHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXQudDtjb25zdCBpPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0KFwiaXNOYXZpZ2F0aW9uVmlzaWJsZVwiLHRydWUpO3RoaXMuZm9jdXNUcmFja2VyPW5ldyBmYjt0aGlzLmJ1dHRvblByZXZWaWV3PXRoaXMuX2NyZWF0ZUJ1dHRvblZpZXcoZShcImx2XCIpLGdiKTt0aGlzLmJ1dHRvbk5leHRWaWV3PXRoaXMuX2NyZWF0ZUJ1dHRvblZpZXcoZShcImx3XCIpLG1iKTt0aGlzLmNvbnRlbnQ9dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCk7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWJhbGxvb24tcm90YXRvclwiXSxcInotaW5kZXhcIjpcIi0xXCJ9LGNoaWxkcmVuOlt7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2stYmFsbG9vbi1yb3RhdG9yX19uYXZpZ2F0aW9uXCIsaS50byhcImlzTmF2aWdhdGlvblZpc2libGVcIix0PT50P1wiXCI6XCJjay1oaWRkZW5cIildfSxjaGlsZHJlbjpbdGhpcy5idXR0b25QcmV2Vmlldyx7dGFnOlwic3BhblwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrLWJhbGxvb24tcm90YXRvcl9fY291bnRlclwiXX0sY2hpbGRyZW46W3t0ZXh0OmkudG8oXCJjb3VudGVyXCIpfV19LHRoaXMuYnV0dG9uTmV4dFZpZXddfSx7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6XCJjay1iYWxsb29uLXJvdGF0b3JfX2NvbnRlbnRcIn0sY2hpbGRyZW46dGhpcy5jb250ZW50fV19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTt0aGlzLmZvY3VzVHJhY2tlci5hZGQodGhpcy5lbGVtZW50KX1zaG93Vmlldyh0KXt0aGlzLmhpZGVWaWV3KCk7dGhpcy5jb250ZW50LmFkZCh0KX1oaWRlVmlldygpe3RoaXMuY29udGVudC5jbGVhcigpfV9jcmVhdGVCdXR0b25WaWV3KHQsZSl7Y29uc3QgaT1uZXcgaGIodGhpcy5sb2NhbGUpO2kuc2V0KHtsYWJlbDp0LGljb246ZSx0b29sdGlwOnRydWV9KTtyZXR1cm4gaX19Y2xhc3MgdmIgZXh0ZW5kcyBHcHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpO2NvbnN0IGk9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXQoXCJ0b3BcIiwwKTt0aGlzLnNldChcImxlZnRcIiwwKTt0aGlzLnNldChcImhlaWdodFwiLDApO3RoaXMuc2V0KFwid2lkdGhcIiwwKTt0aGlzLnNldChcIm51bWJlck9mUGFuZWxzXCIsMCk7dGhpcy5jb250ZW50PXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpO3RoaXMuX2JhbGxvb25QYW5lbFZpZXc9ZTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJjay1mYWtlLXBhbmVsXCIsaS50byhcIm51bWJlck9mUGFuZWxzXCIsdD0+dD9cIlwiOlwiY2staGlkZGVuXCIpXSxzdHlsZTp7dG9wOmkudG8oXCJ0b3BcIix3YiksbGVmdDppLnRvKFwibGVmdFwiLHdiKSx3aWR0aDppLnRvKFwid2lkdGhcIix3YiksaGVpZ2h0OmkudG8oXCJoZWlnaHRcIix3Yil9fSxjaGlsZHJlbjp0aGlzLmNvbnRlbnR9KTt0aGlzLm9uKFwiY2hhbmdlOm51bWJlck9mUGFuZWxzXCIsKHQsZSxpLG4pPT57aWYoaT5uKXt0aGlzLl9hZGRQYW5lbHMoaS1uKX1lbHNle3RoaXMuX3JlbW92ZVBhbmVscyhuLWkpfXRoaXMudXBkYXRlUG9zaXRpb24oKX0pfV9hZGRQYW5lbHModCl7d2hpbGUodC0tKXtjb25zdCB0PW5ldyBHcDt0LnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIn0pO3RoaXMuY29udGVudC5hZGQodCk7dGhpcy5yZWdpc3RlckNoaWxkKHQpfX1fcmVtb3ZlUGFuZWxzKHQpe3doaWxlKHQtLSl7Y29uc3QgdD10aGlzLmNvbnRlbnQubGFzdDt0aGlzLmNvbnRlbnQucmVtb3ZlKHQpO3RoaXMuZGVyZWdpc3RlckNoaWxkKHQpO3QuZGVzdHJveSgpfX11cGRhdGVQb3NpdGlvbigpe2lmKHRoaXMubnVtYmVyT2ZQYW5lbHMpe2NvbnN0e3RvcDp0LGxlZnQ6ZX09dGhpcy5fYmFsbG9vblBhbmVsVmlldztjb25zdHt3aWR0aDppLGhlaWdodDpufT1uZXcgdmgodGhpcy5fYmFsbG9vblBhbmVsVmlldy5lbGVtZW50KTtPYmplY3QuYXNzaWduKHRoaXMse3RvcDp0LGxlZnQ6ZSx3aWR0aDppLGhlaWdodDpufSl9fX1jbGFzcyB5Yntjb25zdHJ1Y3Rvcih0KXtPYmplY3QuYXNzaWduKHRoaXMsdCk7aWYodC5hY3Rpb25zJiZ0LmtleXN0cm9rZUhhbmRsZXIpe2Zvcihjb25zdCBlIGluIHQuYWN0aW9ucyl7bGV0IGk9dC5hY3Rpb25zW2VdO2lmKHR5cGVvZiBpPT1cInN0cmluZ1wiKXtpPVtpXX1mb3IoY29uc3QgbiBvZiBpKXt0LmtleXN0cm9rZUhhbmRsZXIuc2V0KG4sKHQsaSk9Pnt0aGlzW2VdKCk7aSgpfSl9fX19Z2V0IGZpcnN0KCl7cmV0dXJuIHRoaXMuZm9jdXNhYmxlcy5maW5kKHhiKXx8bnVsbH1nZXQgbGFzdCgpe3JldHVybiB0aGlzLmZvY3VzYWJsZXMuZmlsdGVyKHhiKS5zbGljZSgtMSlbMF18fG51bGx9Z2V0IG5leHQoKXtyZXR1cm4gdGhpcy5fZ2V0Rm9jdXNhYmxlSXRlbSgxKX1nZXQgcHJldmlvdXMoKXtyZXR1cm4gdGhpcy5fZ2V0Rm9jdXNhYmxlSXRlbSgtMSl9Z2V0IGN1cnJlbnQoKXtsZXQgdD1udWxsO2lmKHRoaXMuZm9jdXNUcmFja2VyLmZvY3VzZWRFbGVtZW50PT09bnVsbCl7cmV0dXJuIG51bGx9dGhpcy5mb2N1c2FibGVzLmZpbmQoKGUsaSk9Pntjb25zdCBuPWUuZWxlbWVudD09PXRoaXMuZm9jdXNUcmFja2VyLmZvY3VzZWRFbGVtZW50O2lmKG4pe3Q9aX1yZXR1cm4gbn0pO3JldHVybiB0fWZvY3VzRmlyc3QoKXt0aGlzLl9mb2N1cyh0aGlzLmZpcnN0KX1mb2N1c0xhc3QoKXt0aGlzLl9mb2N1cyh0aGlzLmxhc3QpfWZvY3VzTmV4dCgpe3RoaXMuX2ZvY3VzKHRoaXMubmV4dCl9Zm9jdXNQcmV2aW91cygpe3RoaXMuX2ZvY3VzKHRoaXMucHJldmlvdXMpfV9mb2N1cyh0KXtpZih0KXt0LmZvY3VzKCl9fV9nZXRGb2N1c2FibGVJdGVtKHQpe2NvbnN0IGU9dGhpcy5jdXJyZW50O2NvbnN0IGk9dGhpcy5mb2N1c2FibGVzLmxlbmd0aDtpZighaSl7cmV0dXJuIG51bGx9aWYoZT09PW51bGwpe3JldHVybiB0aGlzW3Q9PT0xP1wiZmlyc3RcIjpcImxhc3RcIl19bGV0IG49KGUraSt0KSVpO2Rve2NvbnN0IGU9dGhpcy5mb2N1c2FibGVzLmdldChuKTtpZih4YihlKSl7cmV0dXJuIGV9bj0obitpK3QpJWl9d2hpbGUobiE9PWUpO3JldHVybiBudWxsfX1mdW5jdGlvbiB4Yih0KXtyZXR1cm4hISh0LmZvY3VzJiZJZC53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0LmVsZW1lbnQpLmRpc3BsYXkhPVwibm9uZVwiKX1jbGFzcyBDYiBleHRlbmRzIEdwe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcInNwYW5cIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stdG9vbGJhcl9fc2VwYXJhdG9yXCJdfX0pfX1jb25zdCBBYj0xMDA7Y2xhc3MgVGJ7Y29uc3RydWN0b3IodCxlKXtpZighVGIuX29ic2VydmVySW5zdGFuY2Upe1RiLl9jcmVhdGVPYnNlcnZlcigpfXRoaXMuX2VsZW1lbnQ9dDt0aGlzLl9jYWxsYmFjaz1lO1RiLl9hZGRFbGVtZW50Q2FsbGJhY2sodCxlKTtUYi5fb2JzZXJ2ZXJJbnN0YW5jZS5vYnNlcnZlKHQpfWRlc3Ryb3koKXtUYi5fZGVsZXRlRWxlbWVudENhbGxiYWNrKHRoaXMuX2VsZW1lbnQsdGhpcy5fY2FsbGJhY2spfXN0YXRpYyBfYWRkRWxlbWVudENhbGxiYWNrKHQsZSl7aWYoIVRiLl9lbGVtZW50Q2FsbGJhY2tzKXtUYi5fZWxlbWVudENhbGxiYWNrcz1uZXcgTWFwfWxldCBpPVRiLl9lbGVtZW50Q2FsbGJhY2tzLmdldCh0KTtpZighaSl7aT1uZXcgU2V0O1RiLl9lbGVtZW50Q2FsbGJhY2tzLnNldCh0LGkpfWkuYWRkKGUpfXN0YXRpYyBfZGVsZXRlRWxlbWVudENhbGxiYWNrKHQsZSl7Y29uc3QgaT1UYi5fZ2V0RWxlbWVudENhbGxiYWNrcyh0KTtpZihpKXtpLmRlbGV0ZShlKTtpZighaS5zaXplKXtUYi5fZWxlbWVudENhbGxiYWNrcy5kZWxldGUodCk7VGIuX29ic2VydmVySW5zdGFuY2UudW5vYnNlcnZlKHQpfX1pZihUYi5fZWxlbWVudENhbGxiYWNrcyYmIVRiLl9lbGVtZW50Q2FsbGJhY2tzLnNpemUpe1RiLl9vYnNlcnZlckluc3RhbmNlPW51bGw7VGIuX2VsZW1lbnRDYWxsYmFja3M9bnVsbH19c3RhdGljIF9nZXRFbGVtZW50Q2FsbGJhY2tzKHQpe2lmKCFUYi5fZWxlbWVudENhbGxiYWNrcyl7cmV0dXJuIG51bGx9cmV0dXJuIFRiLl9lbGVtZW50Q2FsbGJhY2tzLmdldCh0KX1zdGF0aWMgX2NyZWF0ZU9ic2VydmVyKCl7bGV0IHQ7aWYodHlwZW9mIElkLndpbmRvdy5SZXNpemVPYnNlcnZlcj09PVwiZnVuY3Rpb25cIil7dD1JZC53aW5kb3cuUmVzaXplT2JzZXJ2ZXJ9ZWxzZXt0PVBifVRiLl9vYnNlcnZlckluc3RhbmNlPW5ldyB0KHQ9Pntmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PVRiLl9nZXRFbGVtZW50Q2FsbGJhY2tzKGUudGFyZ2V0KTtpZih0KXtmb3IoY29uc3QgaSBvZiB0KXtpKGUpfX19fSl9fVRiLl9vYnNlcnZlckluc3RhbmNlPW51bGw7VGIuX2VsZW1lbnRDYWxsYmFja3M9bnVsbDtjbGFzcyBQYntjb25zdHJ1Y3Rvcih0KXt0aGlzLl9jYWxsYmFjaz10O3RoaXMuX2VsZW1lbnRzPW5ldyBTZXQ7dGhpcy5fcHJldmlvdXNSZWN0cz1uZXcgTWFwO3RoaXMuX3BlcmlvZGljQ2hlY2tUaW1lb3V0PW51bGx9b2JzZXJ2ZSh0KXt0aGlzLl9lbGVtZW50cy5hZGQodCk7dGhpcy5fY2hlY2tFbGVtZW50UmVjdHNBbmRFeGVjdXRlQ2FsbGJhY2soKTtpZih0aGlzLl9lbGVtZW50cy5zaXplPT09MSl7dGhpcy5fc3RhcnRQZXJpb2RpY0NoZWNrKCl9fXVub2JzZXJ2ZSh0KXt0aGlzLl9lbGVtZW50cy5kZWxldGUodCk7dGhpcy5fcHJldmlvdXNSZWN0cy5kZWxldGUodCk7aWYoIXRoaXMuX2VsZW1lbnRzLnNpemUpe3RoaXMuX3N0b3BQZXJpb2RpY0NoZWNrKCl9fV9zdGFydFBlcmlvZGljQ2hlY2soKXtjb25zdCB0PSgpPT57dGhpcy5fY2hlY2tFbGVtZW50UmVjdHNBbmRFeGVjdXRlQ2FsbGJhY2soKTt0aGlzLl9wZXJpb2RpY0NoZWNrVGltZW91dD1zZXRUaW1lb3V0KHQsQWIpfTt0aGlzLmxpc3RlblRvKElkLndpbmRvdyxcInJlc2l6ZVwiLCgpPT57dGhpcy5fY2hlY2tFbGVtZW50UmVjdHNBbmRFeGVjdXRlQ2FsbGJhY2soKX0pO3RoaXMuX3BlcmlvZGljQ2hlY2tUaW1lb3V0PXNldFRpbWVvdXQodCxBYil9X3N0b3BQZXJpb2RpY0NoZWNrKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3BlcmlvZGljQ2hlY2tUaW1lb3V0KTt0aGlzLnN0b3BMaXN0ZW5pbmcoKTt0aGlzLl9wcmV2aW91c1JlY3RzLmNsZWFyKCl9X2NoZWNrRWxlbWVudFJlY3RzQW5kRXhlY3V0ZUNhbGxiYWNrKCl7Y29uc3QgdD1bXTtmb3IoY29uc3QgZSBvZiB0aGlzLl9lbGVtZW50cyl7aWYodGhpcy5faGFzUmVjdENoYW5nZWQoZSkpe3QucHVzaCh7dGFyZ2V0OmUsY29udGVudFJlY3Q6dGhpcy5fcHJldmlvdXNSZWN0cy5nZXQoZSl9KX19aWYodC5sZW5ndGgpe3RoaXMuX2NhbGxiYWNrKHQpfX1faGFzUmVjdENoYW5nZWQodCl7aWYoIXQub3duZXJEb2N1bWVudC5ib2R5LmNvbnRhaW5zKHQpKXtyZXR1cm4gZmFsc2V9Y29uc3QgZT1uZXcgdmgodCk7Y29uc3QgaT10aGlzLl9wcmV2aW91c1JlY3RzLmdldCh0KTtjb25zdCBuPSFpfHwhaS5pc0VxdWFsKGUpO3RoaXMuX3ByZXZpb3VzUmVjdHMuc2V0KHQsZSk7cmV0dXJuIG59fXZzKFBiLHFkKTtmdW5jdGlvbiBTYih0KXtyZXR1cm4gdC5iaW5kVGVtcGxhdGUudG8oZT0+e2lmKGUudGFyZ2V0PT09dC5lbGVtZW50KXtlLnByZXZlbnREZWZhdWx0KCl9fSl9Y2xhc3MgRWIgZXh0ZW5kcyBHcHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0KFwiaXNWaXNpYmxlXCIsZmFsc2UpO3RoaXMuc2V0KFwicG9zaXRpb25cIixcInNlXCIpO3RoaXMuY2hpbGRyZW49dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCk7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLXJlc2V0XCIsXCJjay1kcm9wZG93bl9fcGFuZWxcIixlLnRvKFwicG9zaXRpb25cIix0PT5gY2stZHJvcGRvd25fX3BhbmVsXyR7dH1gKSxlLmlmKFwiaXNWaXNpYmxlXCIsXCJjay1kcm9wZG93bl9fcGFuZWwtdmlzaWJsZVwiKV19LGNoaWxkcmVuOnRoaXMuY2hpbGRyZW4sb246e3NlbGVjdHN0YXJ0OmUudG8odD0+dC5wcmV2ZW50RGVmYXVsdCgpKX19KX1mb2N1cygpe2lmKHRoaXMuY2hpbGRyZW4ubGVuZ3RoKXt0aGlzLmNoaWxkcmVuLmZpcnN0LmZvY3VzKCl9fWZvY3VzTGFzdCgpe2lmKHRoaXMuY2hpbGRyZW4ubGVuZ3RoKXtjb25zdCB0PXRoaXMuY2hpbGRyZW4ubGFzdDtpZih0eXBlb2YgdC5mb2N1c0xhc3Q9PT1cImZ1bmN0aW9uXCIpe3QuZm9jdXNMYXN0KCl9ZWxzZXt0LmZvY3VzKCl9fX19dmFyIFJiPWkoMjkpO2NsYXNzIE9iIGV4dGVuZHMgR3B7Y29uc3RydWN0b3IodCxlLGkpe3N1cGVyKHQpO2NvbnN0IG49dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5idXR0b25WaWV3PWU7dGhpcy5wYW5lbFZpZXc9aTt0aGlzLnNldChcImlzT3BlblwiLGZhbHNlKTt0aGlzLnNldChcImlzRW5hYmxlZFwiLHRydWUpO3RoaXMuc2V0KFwiY2xhc3NcIik7dGhpcy5zZXQoXCJpZFwiKTt0aGlzLnNldChcInBhbmVsUG9zaXRpb25cIixcImF1dG9cIik7dGhpcy5mb2N1c1RyYWNrZXI9bmV3IGZiO3RoaXMua2V5c3Ryb2tlcz1uZXcgZHA7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWRyb3Bkb3duXCIsbi50byhcImNsYXNzXCIpLG4uaWYoXCJpc0VuYWJsZWRcIixcImNrLWRpc2FibGVkXCIsdD0+IXQpXSxpZDpuLnRvKFwiaWRcIiksXCJhcmlhLWRlc2NyaWJlZGJ5XCI6bi50byhcImFyaWFEZXNjcmliZWRCeUlkXCIpfSxjaGlsZHJlbjpbZSxpXX0pO2UuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOltcImNrLWRyb3Bkb3duX19idXR0b25cIl19fSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCk7dGhpcy5saXN0ZW5Ubyh0aGlzLmJ1dHRvblZpZXcsXCJvcGVuXCIsKCk9Pnt0aGlzLmlzT3Blbj0hdGhpcy5pc09wZW59KTt0aGlzLnBhbmVsVmlldy5iaW5kKFwiaXNWaXNpYmxlXCIpLnRvKHRoaXMsXCJpc09wZW5cIik7dGhpcy5vbihcImNoYW5nZTppc09wZW5cIiwoKT0+e2lmKCF0aGlzLmlzT3Blbil7cmV0dXJufWlmKHRoaXMucGFuZWxQb3NpdGlvbj09PVwiYXV0b1wiKXt0aGlzLnBhbmVsVmlldy5wb3NpdGlvbj1PYi5fZ2V0T3B0aW1hbFBvc2l0aW9uKHtlbGVtZW50OnRoaXMucGFuZWxWaWV3LmVsZW1lbnQsdGFyZ2V0OnRoaXMuYnV0dG9uVmlldy5lbGVtZW50LGZpdEluVmlld3BvcnQ6dHJ1ZSxwb3NpdGlvbnM6dGhpcy5fcGFuZWxQb3NpdGlvbnN9KS5uYW1lfWVsc2V7dGhpcy5wYW5lbFZpZXcucG9zaXRpb249dGhpcy5wYW5lbFBvc2l0aW9ufX0pO3RoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpO3RoaXMuZm9jdXNUcmFja2VyLmFkZCh0aGlzLmVsZW1lbnQpO2NvbnN0IHQ9KHQsZSk9PntpZih0aGlzLmlzT3Blbil7dGhpcy5idXR0b25WaWV3LmZvY3VzKCk7dGhpcy5pc09wZW49ZmFsc2U7ZSgpfX07dGhpcy5rZXlzdHJva2VzLnNldChcImFycm93ZG93blwiLCh0LGUpPT57aWYodGhpcy5idXR0b25WaWV3LmlzRW5hYmxlZCYmIXRoaXMuaXNPcGVuKXt0aGlzLmlzT3Blbj10cnVlO2UoKX19KTt0aGlzLmtleXN0cm9rZXMuc2V0KFwiYXJyb3dyaWdodFwiLCh0LGUpPT57aWYodGhpcy5pc09wZW4pe2UoKX19KTt0aGlzLmtleXN0cm9rZXMuc2V0KFwiYXJyb3dsZWZ0XCIsdCk7dGhpcy5rZXlzdHJva2VzLnNldChcImVzY1wiLHQpfWZvY3VzKCl7dGhpcy5idXR0b25WaWV3LmZvY3VzKCl9Z2V0IF9wYW5lbFBvc2l0aW9ucygpe2NvbnN0e3NvdXRoRWFzdDp0LHNvdXRoV2VzdDplLG5vcnRoRWFzdDppLG5vcnRoV2VzdDpufT1PYi5kZWZhdWx0UGFuZWxQb3NpdGlvbnM7aWYodGhpcy5sb2NhbGUudWlMYW5ndWFnZURpcmVjdGlvbj09PVwibHRyXCIpe3JldHVyblt0LGUsaSxuXX1lbHNle3JldHVybltlLHQsbixpXX19fU9iLmRlZmF1bHRQYW5lbFBvc2l0aW9ucz17c291dGhFYXN0OnQ9Pih7dG9wOnQuYm90dG9tLGxlZnQ6dC5sZWZ0LG5hbWU6XCJzZVwifSksc291dGhXZXN0Oih0LGUpPT4oe3RvcDp0LmJvdHRvbSxsZWZ0OnQubGVmdC1lLndpZHRoK3Qud2lkdGgsbmFtZTpcInN3XCJ9KSxub3J0aEVhc3Q6KHQsZSk9Pih7dG9wOnQudG9wLWUuaGVpZ2h0LGxlZnQ6dC5sZWZ0LG5hbWU6XCJuZVwifSksbm9ydGhXZXN0Oih0LGUpPT4oe3RvcDp0LmJvdHRvbS1lLmhlaWdodCxsZWZ0OnQubGVmdC1lLndpZHRoK3Qud2lkdGgsbmFtZTpcIm53XCJ9KX07T2IuX2dldE9wdGltYWxQb3NpdGlvbj1KcDt2YXIgSWI9Jzxzdmcgdmlld0JveD1cIjAgMCAxMCAxMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTS45NDEgNC41MjNhLjc1Ljc1IDAgMSAxIDEuMDYtMS4wNmwzLjAwNiAzLjAwNSAzLjAwNS0zLjAwNWEuNzUuNzUgMCAxIDEgMS4wNiAxLjA2bC0zLjU0OSAzLjU1YS43NS43NSAwIDAgMS0xLjE2OC0uMTM2TC45NDEgNC41MjN6XCIvPjwvc3ZnPic7Y2xhc3MgVmIgZXh0ZW5kcyBoYntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTt0aGlzLmFycm93Vmlldz10aGlzLl9jcmVhdGVBcnJvd1ZpZXcoKTt0aGlzLmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntcImFyaWEtaGFzcG9wdXBcIjp0cnVlfX0pO3RoaXMuZGVsZWdhdGUoXCJleGVjdXRlXCIpLnRvKHRoaXMsXCJvcGVuXCIpfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpO3RoaXMuY2hpbGRyZW4uYWRkKHRoaXMuYXJyb3dWaWV3KX1fY3JlYXRlQXJyb3dWaWV3KCl7Y29uc3QgdD1uZXcgY2I7dC5jb250ZW50PUliO3QuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOlwiY2stZHJvcGRvd25fX2Fycm93XCJ9fSk7cmV0dXJuIHR9fXZhciBOYj1pKDMxKTtjbGFzcyBNYiBleHRlbmRzIEdwe2NvbnN0cnVjdG9yKCl7c3VwZXIoKTt0aGlzLml0ZW1zPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpO3RoaXMuZm9jdXNUcmFja2VyPW5ldyBmYjt0aGlzLmtleXN0cm9rZXM9bmV3IGRwO3RoaXMuX2ZvY3VzQ3ljbGVyPW5ldyB5Yih7Zm9jdXNhYmxlczp0aGlzLml0ZW1zLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOlwiYXJyb3d1cFwiLGZvY3VzTmV4dDpcImFycm93ZG93blwifX0pO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcInVsXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLXJlc2V0XCIsXCJjay1saXN0XCJdfSxjaGlsZHJlbjp0aGlzLml0ZW1zfSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5pdGVtcyl7dGhpcy5mb2N1c1RyYWNrZXIuYWRkKHQuZWxlbWVudCl9dGhpcy5pdGVtcy5vbihcImFkZFwiLCh0LGUpPT57dGhpcy5mb2N1c1RyYWNrZXIuYWRkKGUuZWxlbWVudCl9KTt0aGlzLml0ZW1zLm9uKFwicmVtb3ZlXCIsKHQsZSk9Pnt0aGlzLmZvY3VzVHJhY2tlci5yZW1vdmUoZS5lbGVtZW50KX0pO3RoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpfWZvY3VzKCl7dGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNGaXJzdCgpfWZvY3VzTGFzdCgpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzTGFzdCgpfX1jbGFzcyBCYiBleHRlbmRzIEdwe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3RoaXMuY2hpbGRyZW49dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCk7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwibGlcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stbGlzdF9faXRlbVwiXX0sY2hpbGRyZW46dGhpcy5jaGlsZHJlbn0pfWZvY3VzKCl7dGhpcy5jaGlsZHJlbi5maXJzdC5mb2N1cygpfX1jbGFzcyB6YiBleHRlbmRzIEdwe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImxpXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWxpc3RfX3NlcGFyYXRvclwiXX19KX19dmFyIExiPWkoMzMpO2NsYXNzIEZiIGV4dGVuZHMgaGJ7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7dGhpcy5pc1RvZ2dsZWFibGU9dHJ1ZTt0aGlzLnRvZ2dsZVN3aXRjaFZpZXc9dGhpcy5fY3JlYXRlVG9nZ2xlVmlldygpO3RoaXMuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOlwiY2stc3dpdGNoYnV0dG9uXCJ9fSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCk7dGhpcy5jaGlsZHJlbi5hZGQodGhpcy50b2dnbGVTd2l0Y2hWaWV3KX1fY3JlYXRlVG9nZ2xlVmlldygpe2NvbnN0IHQ9bmV3IEdwO3Quc2V0VGVtcGxhdGUoe3RhZzpcInNwYW5cIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stYnV0dG9uX190b2dnbGVcIl19LGNoaWxkcmVuOlt7dGFnOlwic3BhblwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1idXR0b25fX3RvZ2dsZV9faW5uZXJcIl19fV19KTtyZXR1cm4gdH19ZnVuY3Rpb24gRGIoe2VtaXR0ZXI6dCxhY3RpdmF0b3I6ZSxjYWxsYmFjazppLGNvbnRleHRFbGVtZW50czpufSl7dC5saXN0ZW5Ubyhkb2N1bWVudCxcIm1vdXNlZG93blwiLCh0LHt0YXJnZXQ6b30pPT57aWYoIWUoKSl7cmV0dXJufWZvcihjb25zdCB0IG9mIG4pe2lmKHQuY29udGFpbnMobykpe3JldHVybn19aSgpfSl9dmFyIGpiPWkoMzUpO3ZhciBIYj1pKDM3KTtmdW5jdGlvbiBXYih0LGU9VmIpe2NvbnN0IGk9bmV3IGUodCk7Y29uc3Qgbj1uZXcgRWIodCk7Y29uc3Qgbz1uZXcgT2IodCxpLG4pO2kuYmluZChcImlzRW5hYmxlZFwiKS50byhvKTtpZihpIGluc3RhbmNlb2YgVmIpe2kuYmluZChcImlzT25cIikudG8obyxcImlzT3BlblwiKX1lbHNle2kuYXJyb3dWaWV3LmJpbmQoXCJpc09uXCIpLnRvKG8sXCJpc09wZW5cIil9JGIobyk7cmV0dXJuIG99ZnVuY3Rpb24gcWIodCxlKXtjb25zdCBpPXQubG9jYWxlO2NvbnN0IG49aS50O2NvbnN0IG89dC50b29sYmFyVmlldz1uZXcgWGIoaSk7by5zZXQoXCJhcmlhTGFiZWxcIixuKFwibGdcIikpO3QuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOltcImNrLXRvb2xiYXItZHJvcGRvd25cIl19fSk7ZS5tYXAodD0+by5pdGVtcy5hZGQodCkpO3QucGFuZWxWaWV3LmNoaWxkcmVuLmFkZChvKTtvLml0ZW1zLmRlbGVnYXRlKFwiZXhlY3V0ZVwiKS50byh0KX1mdW5jdGlvbiBVYih0LGUpe2NvbnN0IGk9dC5sb2NhbGU7Y29uc3Qgbj10Lmxpc3RWaWV3PW5ldyBNYihpKTtuLml0ZW1zLmJpbmRUbyhlKS51c2luZygoe3R5cGU6dCxtb2RlbDplfSk9PntpZih0PT09XCJzZXBhcmF0b3JcIil7cmV0dXJuIG5ldyB6YihpKX1lbHNlIGlmKHQ9PT1cImJ1dHRvblwifHx0PT09XCJzd2l0Y2hidXR0b25cIil7Y29uc3Qgbj1uZXcgQmIoaSk7bGV0IG87aWYodD09PVwiYnV0dG9uXCIpe289bmV3IGhiKGkpfWVsc2V7bz1uZXcgRmIoaSl9by5iaW5kKC4uLk9iamVjdC5rZXlzKGUpKS50byhlKTtvLmRlbGVnYXRlKFwiZXhlY3V0ZVwiKS50byhuKTtuLmNoaWxkcmVuLmFkZChvKTtyZXR1cm4gbn19KTt0LnBhbmVsVmlldy5jaGlsZHJlbi5hZGQobik7bi5pdGVtcy5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8odCl9ZnVuY3Rpb24gJGIodCl7R2IodCk7S2IodCk7SmIodCl9ZnVuY3Rpb24gR2IodCl7dC5vbihcInJlbmRlclwiLCgpPT57RGIoe2VtaXR0ZXI6dCxhY3RpdmF0b3I6KCk9PnQuaXNPcGVuLGNhbGxiYWNrOigpPT57dC5pc09wZW49ZmFsc2V9LGNvbnRleHRFbGVtZW50czpbdC5lbGVtZW50XX0pfSl9ZnVuY3Rpb24gS2IodCl7dC5vbihcImV4ZWN1dGVcIixlPT57aWYoZS5zb3VyY2UgaW5zdGFuY2VvZiBGYil7cmV0dXJufXQuaXNPcGVuPWZhbHNlfSl9ZnVuY3Rpb24gSmIodCl7dC5rZXlzdHJva2VzLnNldChcImFycm93ZG93blwiLChlLGkpPT57aWYodC5pc09wZW4pe3QucGFuZWxWaWV3LmZvY3VzKCk7aSgpfX0pO3Qua2V5c3Ryb2tlcy5zZXQoXCJhcnJvd3VwXCIsKGUsaSk9PntpZih0LmlzT3Blbil7dC5wYW5lbFZpZXcuZm9jdXNMYXN0KCk7aSgpfX0pfXZhciBZYj0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxjaXJjbGUgY3g9XCI5LjVcIiBjeT1cIjQuNVwiIHI9XCIxLjVcIi8+PGNpcmNsZSBjeD1cIjkuNVwiIGN5PVwiMTAuNVwiIHI9XCIxLjVcIi8+PGNpcmNsZSBjeD1cIjkuNVwiIGN5PVwiMTYuNVwiIHI9XCIxLjVcIi8+PC9zdmc+Jzt2YXIgUWI9aSgzOSk7Y2xhc3MgWGIgZXh0ZW5kcyBHcHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpO2NvbnN0IGk9dGhpcy5iaW5kVGVtcGxhdGU7Y29uc3Qgbj10aGlzLnQ7dGhpcy5vcHRpb25zPWV8fHt9O3RoaXMuc2V0KFwiYXJpYUxhYmVsXCIsbihcImxyXCIpKTt0aGlzLnNldChcIm1heFdpZHRoXCIsXCJhdXRvXCIpO3RoaXMuaXRlbXM9dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCk7dGhpcy5mb2N1c1RyYWNrZXI9bmV3IGZiO3RoaXMua2V5c3Ryb2tlcz1uZXcgZHA7dGhpcy5zZXQoXCJjbGFzc1wiKTt0aGlzLnNldChcImlzQ29tcGFjdFwiLGZhbHNlKTt0aGlzLml0ZW1zVmlldz1uZXcgWmIodCk7dGhpcy5jaGlsZHJlbj10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKTt0aGlzLmNoaWxkcmVuLmFkZCh0aGlzLml0ZW1zVmlldyk7dGhpcy5mb2N1c2FibGVzPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpO3RoaXMuX2ZvY3VzQ3ljbGVyPW5ldyB5Yih7Zm9jdXNhYmxlczp0aGlzLmZvY3VzYWJsZXMsZm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLGtleXN0cm9rZUhhbmRsZXI6dGhpcy5rZXlzdHJva2VzLGFjdGlvbnM6e2ZvY3VzUHJldmlvdXM6W1wiYXJyb3dsZWZ0XCIsXCJhcnJvd3VwXCJdLGZvY3VzTmV4dDpbXCJhcnJvd3JpZ2h0XCIsXCJhcnJvd2Rvd25cIl19fSk7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLXRvb2xiYXJcIixpLnRvKFwiY2xhc3NcIiksaS5pZihcImlzQ29tcGFjdFwiLFwiY2stdG9vbGJhcl9jb21wYWN0XCIpXSxyb2xlOlwidG9vbGJhclwiLFwiYXJpYS1sYWJlbFwiOmkudG8oXCJhcmlhTGFiZWxcIiksc3R5bGU6e21heFdpZHRoOmkudG8oXCJtYXhXaWR0aFwiKX19LGNoaWxkcmVuOnRoaXMuY2hpbGRyZW4sb246e21vdXNlZG93bjpTYih0aGlzKX19KTt0aGlzLl9iZWhhdmlvcj10aGlzLm9wdGlvbnMuc2hvdWxkR3JvdXBXaGVuRnVsbD9uZXcgZXcodGhpcyk6bmV3IHR3KHRoaXMpfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpO2Zvcihjb25zdCB0IG9mIHRoaXMuaXRlbXMpe3RoaXMuZm9jdXNUcmFja2VyLmFkZCh0LmVsZW1lbnQpfXRoaXMuaXRlbXMub24oXCJhZGRcIiwodCxlKT0+e3RoaXMuZm9jdXNUcmFja2VyLmFkZChlLmVsZW1lbnQpfSk7dGhpcy5pdGVtcy5vbihcInJlbW92ZVwiLCh0LGUpPT57dGhpcy5mb2N1c1RyYWNrZXIucmVtb3ZlKGUuZWxlbWVudCl9KTt0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KTt0aGlzLl9iZWhhdmlvci5yZW5kZXIodGhpcyl9ZGVzdHJveSgpe3RoaXMuX2JlaGF2aW9yLmRlc3Ryb3koKTtyZXR1cm4gc3VwZXIuZGVzdHJveSgpfWZvY3VzKCl7dGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNGaXJzdCgpfWZvY3VzTGFzdCgpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzTGFzdCgpfWZpbGxGcm9tQ29uZmlnKHQsZSl7dC5tYXAodD0+e2lmKHQ9PVwifFwiKXt0aGlzLml0ZW1zLmFkZChuZXcgQ2IpfWVsc2UgaWYoZS5oYXModCkpe3RoaXMuaXRlbXMuYWRkKGUuY3JlYXRlKHQpKX1lbHNle2NvbnNvbGUud2FybihPYmplY3Qoc3NbXCJhXCJdKShcInRvb2xiYXJ2aWV3LWl0ZW0tdW5hdmFpbGFibGU6IFRoZSByZXF1ZXN0ZWQgdG9vbGJhciBpdGVtIGlzIHVuYXZhaWxhYmxlLlwiKSx7bmFtZTp0fSl9fSl9fWNsYXNzIFpiIGV4dGVuZHMgR3B7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7dGhpcy5jaGlsZHJlbj10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stdG9vbGJhcl9faXRlbXNcIl19LGNoaWxkcmVuOnRoaXMuY2hpbGRyZW59KX19Y2xhc3MgdHd7Y29uc3RydWN0b3IodCl7Y29uc3QgZT10LmJpbmRUZW1wbGF0ZTt0LnNldChcImlzVmVydGljYWxcIixmYWxzZSk7dC5pdGVtc1ZpZXcuY2hpbGRyZW4uYmluZFRvKHQuaXRlbXMpLnVzaW5nKHQ9PnQpO3QuZm9jdXNhYmxlcy5iaW5kVG8odC5pdGVtcykudXNpbmcodD0+dCk7dC5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6W2UuaWYoXCJpc1ZlcnRpY2FsXCIsXCJjay10b29sYmFyX3ZlcnRpY2FsXCIpXX19KX1yZW5kZXIoKXt9ZGVzdHJveSgpe319Y2xhc3MgZXd7Y29uc3RydWN0b3IodCl7dGhpcy52aWV3Q2hpbGRyZW49dC5jaGlsZHJlbjt0aGlzLnZpZXdGb2N1c2FibGVzPXQuZm9jdXNhYmxlczt0aGlzLnZpZXdJdGVtc1ZpZXc9dC5pdGVtc1ZpZXc7dGhpcy52aWV3Rm9jdXNUcmFja2VyPXQuZm9jdXNUcmFja2VyO3RoaXMudmlld0xvY2FsZT10LmxvY2FsZTt0aGlzLnVuZ3JvdXBlZEl0ZW1zPXQuY3JlYXRlQ29sbGVjdGlvbigpO3RoaXMuZ3JvdXBlZEl0ZW1zPXQuY3JlYXRlQ29sbGVjdGlvbigpO3RoaXMuZ3JvdXBlZEl0ZW1zRHJvcGRvd249dGhpcy5fY3JlYXRlR3JvdXBlZEl0ZW1zRHJvcGRvd24oKTt0aGlzLnJlc2l6ZU9ic2VydmVyPW51bGw7dGhpcy5jYWNoZWRQYWRkaW5nPW51bGw7dC5pdGVtc1ZpZXcuY2hpbGRyZW4uYmluZFRvKHRoaXMudW5ncm91cGVkSXRlbXMpLnVzaW5nKHQ9PnQpO3RoaXMudW5ncm91cGVkSXRlbXMub24oXCJhZGRcIix0aGlzLl91cGRhdGVGb2N1c0N5Y2xlYWJsZUl0ZW1zLmJpbmQodGhpcykpO3RoaXMudW5ncm91cGVkSXRlbXMub24oXCJyZW1vdmVcIix0aGlzLl91cGRhdGVGb2N1c0N5Y2xlYWJsZUl0ZW1zLmJpbmQodGhpcykpO3QuY2hpbGRyZW4ub24oXCJhZGRcIix0aGlzLl91cGRhdGVGb2N1c0N5Y2xlYWJsZUl0ZW1zLmJpbmQodGhpcykpO3QuY2hpbGRyZW4ub24oXCJyZW1vdmVcIix0aGlzLl91cGRhdGVGb2N1c0N5Y2xlYWJsZUl0ZW1zLmJpbmQodGhpcykpO3QuaXRlbXMub24oXCJhZGRcIiwodCxlLGkpPT57aWYoaT50aGlzLnVuZ3JvdXBlZEl0ZW1zLmxlbmd0aCl7dGhpcy5ncm91cGVkSXRlbXMuYWRkKGUsaS10aGlzLnVuZ3JvdXBlZEl0ZW1zLmxlbmd0aCl9ZWxzZXt0aGlzLnVuZ3JvdXBlZEl0ZW1zLmFkZChlLGkpfXRoaXMuX3VwZGF0ZUdyb3VwaW5nKCl9KTt0Lml0ZW1zLm9uKFwicmVtb3ZlXCIsKHQsZSxpKT0+e2lmKGk+dGhpcy51bmdyb3VwZWRJdGVtcy5sZW5ndGgpe3RoaXMuZ3JvdXBlZEl0ZW1zLnJlbW92ZShlKX1lbHNle3RoaXMudW5ncm91cGVkSXRlbXMucmVtb3ZlKGUpfXRoaXMuX3VwZGF0ZUdyb3VwaW5nKCl9KTt0LmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntjbGFzczpbXCJjay10b29sYmFyX2dyb3VwaW5nXCJdfX0pfXJlbmRlcih0KXt0aGlzLnZpZXdFbGVtZW50PXQuZWxlbWVudDt0aGlzLl9lbmFibGVHcm91cGluZ09uUmVzaXplKCk7dGhpcy5fZW5hYmxlR3JvdXBpbmdPbk1heFdpZHRoQ2hhbmdlKHQpfWRlc3Ryb3koKXt0aGlzLmdyb3VwZWRJdGVtc0Ryb3Bkb3duLmRlc3Ryb3koKTt0aGlzLnJlc2l6ZU9ic2VydmVyLmRlc3Ryb3koKX1fdXBkYXRlR3JvdXBpbmcoKXtpZighdGhpcy52aWV3RWxlbWVudC5vd25lckRvY3VtZW50LmJvZHkuY29udGFpbnModGhpcy52aWV3RWxlbWVudCkpe3JldHVybn1sZXQgdDt3aGlsZSh0aGlzLl9hcmVJdGVtc092ZXJmbG93aW5nKXt0aGlzLl9ncm91cExhc3RJdGVtKCk7dD10cnVlfWlmKCF0JiZ0aGlzLmdyb3VwZWRJdGVtcy5sZW5ndGgpe3doaWxlKHRoaXMuZ3JvdXBlZEl0ZW1zLmxlbmd0aCYmIXRoaXMuX2FyZUl0ZW1zT3ZlcmZsb3dpbmcpe3RoaXMuX3VuZ3JvdXBGaXJzdEl0ZW0oKX1pZih0aGlzLl9hcmVJdGVtc092ZXJmbG93aW5nKXt0aGlzLl9ncm91cExhc3RJdGVtKCl9fX1nZXQgX2FyZUl0ZW1zT3ZlcmZsb3dpbmcoKXtpZighdGhpcy51bmdyb3VwZWRJdGVtcy5sZW5ndGgpe3JldHVybiBmYWxzZX1jb25zdCB0PXRoaXMudmlld0VsZW1lbnQ7Y29uc3QgZT10aGlzLnZpZXdMb2NhbGUudWlMYW5ndWFnZURpcmVjdGlvbjtjb25zdCBpPW5ldyB2aCh0Lmxhc3RDaGlsZCk7Y29uc3Qgbj1uZXcgdmgodCk7aWYoIXRoaXMuY2FjaGVkUGFkZGluZyl7Y29uc3QgaT1JZC53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KTtjb25zdCBuPWU9PT1cImx0clwiP1wicGFkZGluZ1JpZ2h0XCI6XCJwYWRkaW5nTGVmdFwiO3RoaXMuY2FjaGVkUGFkZGluZz1OdW1iZXIucGFyc2VJbnQoaVtuXSl9aWYoZT09PVwibHRyXCIpe3JldHVybiBpLnJpZ2h0Pm4ucmlnaHQtdGhpcy5jYWNoZWRQYWRkaW5nfWVsc2V7cmV0dXJuIGkubGVmdDxuLmxlZnQrdGhpcy5jYWNoZWRQYWRkaW5nfX1fZW5hYmxlR3JvdXBpbmdPblJlc2l6ZSgpe2xldCB0O3RoaXMucmVzaXplT2JzZXJ2ZXI9bmV3IFRiKHRoaXMudmlld0VsZW1lbnQsZT0+e2lmKCF0fHx0IT09ZS5jb250ZW50UmVjdC53aWR0aCl7dGhpcy5fdXBkYXRlR3JvdXBpbmcoKTt0PWUuY29udGVudFJlY3Qud2lkdGh9fSk7dGhpcy5fdXBkYXRlR3JvdXBpbmcoKX1fZW5hYmxlR3JvdXBpbmdPbk1heFdpZHRoQ2hhbmdlKHQpe3Qub24oXCJjaGFuZ2U6bWF4V2lkdGhcIiwoKT0+e3RoaXMuX3VwZGF0ZUdyb3VwaW5nKCl9KX1fZ3JvdXBMYXN0SXRlbSgpe2lmKCF0aGlzLmdyb3VwZWRJdGVtcy5sZW5ndGgpe3RoaXMudmlld0NoaWxkcmVuLmFkZChuZXcgQ2IpO3RoaXMudmlld0NoaWxkcmVuLmFkZCh0aGlzLmdyb3VwZWRJdGVtc0Ryb3Bkb3duKTt0aGlzLnZpZXdGb2N1c1RyYWNrZXIuYWRkKHRoaXMuZ3JvdXBlZEl0ZW1zRHJvcGRvd24uZWxlbWVudCl9dGhpcy5ncm91cGVkSXRlbXMuYWRkKHRoaXMudW5ncm91cGVkSXRlbXMucmVtb3ZlKHRoaXMudW5ncm91cGVkSXRlbXMubGFzdCksMCl9X3VuZ3JvdXBGaXJzdEl0ZW0oKXt0aGlzLnVuZ3JvdXBlZEl0ZW1zLmFkZCh0aGlzLmdyb3VwZWRJdGVtcy5yZW1vdmUodGhpcy5ncm91cGVkSXRlbXMuZmlyc3QpKTtpZighdGhpcy5ncm91cGVkSXRlbXMubGVuZ3RoKXt0aGlzLnZpZXdDaGlsZHJlbi5yZW1vdmUodGhpcy5ncm91cGVkSXRlbXNEcm9wZG93bik7dGhpcy52aWV3Q2hpbGRyZW4ucmVtb3ZlKHRoaXMudmlld0NoaWxkcmVuLmxhc3QpO3RoaXMudmlld0ZvY3VzVHJhY2tlci5yZW1vdmUodGhpcy5ncm91cGVkSXRlbXNEcm9wZG93bi5lbGVtZW50KX19X2NyZWF0ZUdyb3VwZWRJdGVtc0Ryb3Bkb3duKCl7Y29uc3QgdD10aGlzLnZpZXdMb2NhbGU7Y29uc3QgZT10LnQ7Y29uc3QgaT1XYih0KTtpLmNsYXNzPVwiY2stdG9vbGJhcl9fZ3JvdXBlZC1kcm9wZG93blwiO2kucGFuZWxQb3NpdGlvbj10LnVpTGFuZ3VhZ2VEaXJlY3Rpb249PT1cImx0clwiP1wic3dcIjpcInNlXCI7cWIoaSxbXSk7aS5idXR0b25WaWV3LnNldCh7bGFiZWw6ZShcImxzXCIpLHRvb2x0aXA6dHJ1ZSxpY29uOllifSk7aS50b29sYmFyVmlldy5pdGVtcy5iaW5kVG8odGhpcy5ncm91cGVkSXRlbXMpLnVzaW5nKHQ9PnQpO3JldHVybiBpfV91cGRhdGVGb2N1c0N5Y2xlYWJsZUl0ZW1zKCl7dGhpcy52aWV3Rm9jdXNhYmxlcy5jbGVhcigpO3RoaXMudW5ncm91cGVkSXRlbXMubWFwKHQ9Pnt0aGlzLnZpZXdGb2N1c2FibGVzLmFkZCh0KX0pO2lmKHRoaXMuZ3JvdXBlZEl0ZW1zLmxlbmd0aCl7dGhpcy52aWV3Rm9jdXNhYmxlcy5hZGQodGhpcy5ncm91cGVkSXRlbXNEcm9wZG93bil9fX1mdW5jdGlvbiBpdyh0KXtpZihBcnJheS5pc0FycmF5KHQpKXtyZXR1cm57aXRlbXM6dH19aWYoIXQpe3JldHVybntpdGVtczpbXX19cmV0dXJuIE9iamVjdC5hc3NpZ24oe2l0ZW1zOltdfSx0KX1jb25zdCBudz1acChcInB4XCIpO2NsYXNzIG93IGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJCYWxsb29uVG9vbGJhclwifXN0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5ba2JdfWNvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3RoaXMuX2JhbGxvb25Db25maWc9aXcodC5jb25maWcuZ2V0KFwiYmFsbG9vblRvb2xiYXJcIikpO3RoaXMudG9vbGJhclZpZXc9dGhpcy5fY3JlYXRlVG9vbGJhclZpZXcoKTt0aGlzLmZvY3VzVHJhY2tlcj1uZXcgZmI7dC51aS5vbmNlKFwicmVhZHlcIiwoKT0+e3RoaXMuZm9jdXNUcmFja2VyLmFkZCh0LnVpLmdldEVkaXRhYmxlRWxlbWVudCgpKTt0aGlzLmZvY3VzVHJhY2tlci5hZGQodGhpcy50b29sYmFyVmlldy5lbGVtZW50KX0pO3RoaXMuX3Jlc2l6ZU9ic2VydmVyPW51bGw7dGhpcy5fYmFsbG9vbj10LnBsdWdpbnMuZ2V0KGtiKTt0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlRGVib3VuY2VkPXVoKCgpPT50aGlzLmZpcmUoXCJfc2VsZWN0aW9uQ2hhbmdlRGVib3VuY2VkXCIpLDIwMCk7dGhpcy5kZWNvcmF0ZShcInNob3dcIil9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10Lm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjt0aGlzLmxpc3RlblRvKHRoaXMuZm9jdXNUcmFja2VyLFwiY2hhbmdlOmlzRm9jdXNlZFwiLCh0LGUsaSk9Pntjb25zdCBuPXRoaXMuX2JhbGxvb24udmlzaWJsZVZpZXc9PT10aGlzLnRvb2xiYXJWaWV3O2lmKCFpJiZuKXt0aGlzLmhpZGUoKX1lbHNlIGlmKGkpe3RoaXMuc2hvdygpfX0pO3RoaXMubGlzdGVuVG8oZSxcImNoYW5nZTpyYW5nZVwiLCh0LGkpPT57aWYoaS5kaXJlY3RDaGFuZ2V8fGUuaXNDb2xsYXBzZWQpe3RoaXMuaGlkZSgpfXRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VEZWJvdW5jZWQoKX0pO3RoaXMubGlzdGVuVG8odGhpcyxcIl9zZWxlY3Rpb25DaGFuZ2VEZWJvdW5jZWRcIiwoKT0+e2lmKHRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5kb2N1bWVudC5pc0ZvY3VzZWQpe3RoaXMuc2hvdygpfX0pO2lmKCF0aGlzLl9iYWxsb29uQ29uZmlnLnNob3VsZE5vdEdyb3VwV2hlbkZ1bGwpe3RoaXMubGlzdGVuVG8odCxcInJlYWR5XCIsKCk9Pntjb25zdCBlPXQudWkudmlldy5lZGl0YWJsZS5lbGVtZW50O3RoaXMuX3Jlc2l6ZU9ic2VydmVyPW5ldyBUYihlLCgpPT57dGhpcy50b29sYmFyVmlldy5tYXhXaWR0aD1udyhuZXcgdmgoZSkud2lkdGgqLjkpfSl9KX19YWZ0ZXJJbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvci51aS5jb21wb25lbnRGYWN0b3J5O3RoaXMudG9vbGJhclZpZXcuZmlsbEZyb21Db25maWcodGhpcy5fYmFsbG9vbkNvbmZpZy5pdGVtcyx0KX1fY3JlYXRlVG9vbGJhclZpZXcoKXtjb25zdCB0PSF0aGlzLl9iYWxsb29uQ29uZmlnLnNob3VsZE5vdEdyb3VwV2hlbkZ1bGw7Y29uc3QgZT1uZXcgWGIodGhpcy5lZGl0b3IubG9jYWxlLHtzaG91bGRHcm91cFdoZW5GdWxsOnR9KTtlLmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntjbGFzczpbXCJjay10b29sYmFyX2Zsb2F0aW5nXCJdfX0pO2UucmVuZGVyKCk7cmV0dXJuIGV9c2hvdygpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7aWYodGhpcy5fYmFsbG9vbi5oYXNWaWV3KHRoaXMudG9vbGJhclZpZXcpKXtyZXR1cm59aWYodC5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uaXNDb2xsYXBzZWQpe3JldHVybn1pZihBcnJheS5mcm9tKHRoaXMudG9vbGJhclZpZXcuaXRlbXMpLmV2ZXJ5KHQ9PnQuaXNFbmFibGVkIT09dW5kZWZpbmVkJiYhdC5pc0VuYWJsZWQpKXtyZXR1cm59dGhpcy5saXN0ZW5Ubyh0aGlzLmVkaXRvci51aSxcInVwZGF0ZVwiLCgpPT57dGhpcy5fYmFsbG9vbi51cGRhdGVQb3NpdGlvbih0aGlzLl9nZXRCYWxsb29uUG9zaXRpb25EYXRhKCkpfSk7dGhpcy5fYmFsbG9vbi5hZGQoe3ZpZXc6dGhpcy50b29sYmFyVmlldyxwb3NpdGlvbjp0aGlzLl9nZXRCYWxsb29uUG9zaXRpb25EYXRhKCksYmFsbG9vbkNsYXNzTmFtZTpcImNrLXRvb2xiYXItY29udGFpbmVyXCJ9KX1oaWRlKCl7aWYodGhpcy5fYmFsbG9vbi5oYXNWaWV3KHRoaXMudG9vbGJhclZpZXcpKXt0aGlzLnN0b3BMaXN0ZW5pbmcodGhpcy5lZGl0b3IudWksXCJ1cGRhdGVcIik7dGhpcy5fYmFsbG9vbi5yZW1vdmUodGhpcy50b29sYmFyVmlldyl9fV9nZXRCYWxsb29uUG9zaXRpb25EYXRhKCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQuZWRpdGluZy52aWV3O2NvbnN0IGk9ZS5kb2N1bWVudDtjb25zdCBuPWkuc2VsZWN0aW9uO2NvbnN0IG89aS5zZWxlY3Rpb24uaXNCYWNrd2FyZDtyZXR1cm57dGFyZ2V0OigpPT57Y29uc3QgdD1vP24uZ2V0Rmlyc3RSYW5nZSgpOm4uZ2V0TGFzdFJhbmdlKCk7Y29uc3QgaT12aC5nZXREb21SYW5nZVJlY3RzKGUuZG9tQ29udmVydGVyLnZpZXdSYW5nZVRvRG9tKHQpKTtpZihvKXtyZXR1cm4gaVswXX1lbHNle2lmKGkubGVuZ3RoPjEmJmlbaS5sZW5ndGgtMV0ud2lkdGg9PT0wKXtpLnBvcCgpfXJldHVybiBpW2kubGVuZ3RoLTFdfX0scG9zaXRpb25zOnJ3KG8pfX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpO3RoaXMuc3RvcExpc3RlbmluZygpO3RoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VEZWJvdW5jZWQuY2FuY2VsKCk7dGhpcy50b29sYmFyVmlldy5kZXN0cm95KCk7dGhpcy5mb2N1c1RyYWNrZXIuZGVzdHJveSgpO2lmKHRoaXMuX3Jlc2l6ZU9ic2VydmVyKXt0aGlzLl9yZXNpemVPYnNlcnZlci5kZXN0cm95KCl9fX1mdW5jdGlvbiBydyh0KXtjb25zdCBlPW5iLmRlZmF1bHRQb3NpdGlvbnM7cmV0dXJuIHQ/W2Uubm9ydGhXZXN0QXJyb3dTb3V0aCxlLm5vcnRoV2VzdEFycm93U291dGhXZXN0LGUubm9ydGhXZXN0QXJyb3dTb3V0aEVhc3QsZS5ub3J0aFdlc3RBcnJvd1NvdXRoTWlkZGxlRWFzdCxlLm5vcnRoV2VzdEFycm93U291dGhNaWRkbGVXZXN0LGUuc291dGhXZXN0QXJyb3dOb3J0aCxlLnNvdXRoV2VzdEFycm93Tm9ydGhXZXN0LGUuc291dGhXZXN0QXJyb3dOb3J0aEVhc3QsZS5zb3V0aFdlc3RBcnJvd05vcnRoTWlkZGxlV2VzdCxlLnNvdXRoV2VzdEFycm93Tm9ydGhNaWRkbGVFYXN0XTpbZS5zb3V0aEVhc3RBcnJvd05vcnRoLGUuc291dGhFYXN0QXJyb3dOb3J0aEVhc3QsZS5zb3V0aEVhc3RBcnJvd05vcnRoV2VzdCxlLnNvdXRoRWFzdEFycm93Tm9ydGhNaWRkbGVFYXN0LGUuc291dGhFYXN0QXJyb3dOb3J0aE1pZGRsZVdlc3QsZS5ub3J0aEVhc3RBcnJvd1NvdXRoLGUubm9ydGhFYXN0QXJyb3dTb3V0aEVhc3QsZS5ub3J0aEVhc3RBcnJvd1NvdXRoV2VzdCxlLm5vcnRoRWFzdEFycm93U291dGhNaWRkbGVFYXN0LGUubm9ydGhFYXN0QXJyb3dTb3V0aE1pZGRsZVdlc3RdfWNsYXNzIHN3e2NvbnN0cnVjdG9yKHQpe3RoaXMuZWRpdG9yPXQ7dGhpcy5fY29tcG9uZW50cz1uZXcgTWFwfSpuYW1lcygpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2NvbXBvbmVudHMudmFsdWVzKCkpe3lpZWxkIHQub3JpZ2luYWxOYW1lfX1hZGQodCxlKXtpZih0aGlzLmhhcyh0KSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcImNvbXBvbmVudGZhY3RvcnktaXRlbS1leGlzdHM6IFRoZSBpdGVtIGFscmVhZHkgZXhpc3RzIGluIHRoZSBjb21wb25lbnQgZmFjdG9yeS5cIix0aGlzLHtuYW1lOnR9KX10aGlzLl9jb21wb25lbnRzLnNldChhdyh0KSx7Y2FsbGJhY2s6ZSxvcmlnaW5hbE5hbWU6dH0pfWNyZWF0ZSh0KXtpZighdGhpcy5oYXModCkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJjb21wb25lbnRmYWN0b3J5LWl0ZW0tbWlzc2luZzogVGhlIHJlcXVpcmVkIGNvbXBvbmVudCBpcyBub3QgcmVnaXN0ZXJlZCBpbiB0aGUgZmFjdG9yeS5cIix0aGlzLHtuYW1lOnR9KX1yZXR1cm4gdGhpcy5fY29tcG9uZW50cy5nZXQoYXcodCkpLmNhbGxiYWNrKHRoaXMuZWRpdG9yLmxvY2FsZSl9aGFzKHQpe3JldHVybiB0aGlzLl9jb21wb25lbnRzLmhhcyhhdyh0KSl9fWZ1bmN0aW9uIGF3KHQpe3JldHVybiBTdHJpbmcodCkudG9Mb3dlckNhc2UoKX1jbGFzcyBjd3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmVkaXRvcj10O3RoaXMuY29tcG9uZW50RmFjdG9yeT1uZXcgc3codCk7dGhpcy5mb2N1c1RyYWNrZXI9bmV3IGZiO3RoaXMuX2VkaXRhYmxlRWxlbWVudHNNYXA9bmV3IE1hcDt0aGlzLmxpc3RlblRvKHQuZWRpdGluZy52aWV3LmRvY3VtZW50LFwibGF5b3V0Q2hhbmdlZFwiLCgpPT50aGlzLnVwZGF0ZSgpKX1nZXQgZWxlbWVudCgpe3JldHVybiBudWxsfXVwZGF0ZSgpe3RoaXMuZmlyZShcInVwZGF0ZVwiKX1kZXN0cm95KCl7dGhpcy5zdG9wTGlzdGVuaW5nKCk7dGhpcy5mb2N1c1RyYWNrZXIuZGVzdHJveSgpO2Zvcihjb25zdCB0IG9mIHRoaXMuX2VkaXRhYmxlRWxlbWVudHNNYXAudmFsdWVzKCkpe3QuY2tlZGl0b3JJbnN0YW5jZT1udWxsfXRoaXMuX2VkaXRhYmxlRWxlbWVudHNNYXA9bmV3IE1hcH1zZXRFZGl0YWJsZUVsZW1lbnQodCxlKXt0aGlzLl9lZGl0YWJsZUVsZW1lbnRzTWFwLnNldCh0LGUpO2lmKCFlLmNrZWRpdG9ySW5zdGFuY2Upe2UuY2tlZGl0b3JJbnN0YW5jZT10aGlzLmVkaXRvcn19Z2V0RWRpdGFibGVFbGVtZW50KHQ9XCJtYWluXCIpe3JldHVybiB0aGlzLl9lZGl0YWJsZUVsZW1lbnRzTWFwLmdldCh0KX1nZXRFZGl0YWJsZUVsZW1lbnRzTmFtZXMoKXtyZXR1cm4gdGhpcy5fZWRpdGFibGVFbGVtZW50c01hcC5rZXlzKCl9Z2V0IF9lZGl0YWJsZUVsZW1lbnRzKCl7Y29uc29sZS53YXJuKFwiZWRpdG9yLXVpLWRlcHJlY2F0ZWQtZWRpdGFibGUtZWxlbWVudHM6IFwiK1wiVGhlIEVkaXRvclVJI19lZGl0YWJsZUVsZW1lbnRzIHByb3BlcnR5IGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmVhciBmdXR1cmUuXCIse2VkaXRvclVJOnRoaXN9KTtyZXR1cm4gdGhpcy5fZWRpdGFibGVFbGVtZW50c01hcH19dnMoY3csZHMpO2Z1bmN0aW9uIGx3KHtvcmlnaW46dCxvcmlnaW5LZXlzdHJva2VIYW5kbGVyOmUsb3JpZ2luRm9jdXNUcmFja2VyOmksdG9vbGJhcjpuLGJlZm9yZUZvY3VzOm8sYWZ0ZXJCbHVyOnJ9KXtpLmFkZChuLmVsZW1lbnQpO2Uuc2V0KFwiQWx0K0YxMFwiLCh0LGUpPT57aWYoaS5pc0ZvY3VzZWQmJiFuLmZvY3VzVHJhY2tlci5pc0ZvY3VzZWQpe2lmKG8pe28oKX1uLmZvY3VzKCk7ZSgpfX0pO24ua2V5c3Ryb2tlcy5zZXQoXCJFc2NcIiwoZSxpKT0+e2lmKG4uZm9jdXNUcmFja2VyLmlzRm9jdXNlZCl7dC5mb2N1cygpO2lmKHIpe3IoKX1pKCl9fSl9dmFyIGR3PWkoNDEpO2NvbnN0IHV3PW5ldyBXZWFrTWFwO2Z1bmN0aW9uIGh3KHQpe2NvbnN0e3ZpZXc6ZSxlbGVtZW50OmksdGV4dDpuLGlzRGlyZWN0SG9zdDpvPXRydWV9PXQ7Y29uc3Qgcj1lLmRvY3VtZW50O2lmKCF1dy5oYXMocikpe3V3LnNldChyLG5ldyBNYXApO3IucmVnaXN0ZXJQb3N0Rml4ZXIodD0+Yncocix0KSl9dXcuZ2V0KHIpLnNldChpLHt0ZXh0Om4saXNEaXJlY3RIb3N0Om99KTtlLmNoYW5nZSh0PT5idyhyLHQpKX1mdW5jdGlvbiBmdyh0LGUpe2NvbnN0IGk9ZS5kb2N1bWVudDt0LmNoYW5nZSh0PT57aWYoIXV3LmhhcyhpKSl7cmV0dXJufWNvbnN0IG49dXcuZ2V0KGkpO2NvbnN0IG89bi5nZXQoZSk7dC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlaG9sZGVyXCIsby5ob3N0RWxlbWVudCk7bXcodCxvLmhvc3RFbGVtZW50KTtuLmRlbGV0ZShlKX0pfWZ1bmN0aW9uIGd3KHQsZSl7aWYoIWUuaGFzQ2xhc3MoXCJjay1wbGFjZWhvbGRlclwiKSl7dC5hZGRDbGFzcyhcImNrLXBsYWNlaG9sZGVyXCIsZSk7cmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfWZ1bmN0aW9uIG13KHQsZSl7aWYoZS5oYXNDbGFzcyhcImNrLXBsYWNlaG9sZGVyXCIpKXt0LnJlbW92ZUNsYXNzKFwiY2stcGxhY2Vob2xkZXJcIixlKTtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9ZnVuY3Rpb24gcHcodCl7aWYoIXQuaXNBdHRhY2hlZCgpKXtyZXR1cm4gZmFsc2V9Y29uc3QgZT0hQXJyYXkuZnJvbSh0LmdldENoaWxkcmVuKCkpLnNvbWUodD0+IXQuaXMoXCJ1aUVsZW1lbnRcIikpO2NvbnN0IGk9dC5kb2N1bWVudDtpZighaS5pc0ZvY3VzZWQmJmUpe3JldHVybiB0cnVlfWNvbnN0IG49aS5zZWxlY3Rpb247Y29uc3Qgbz1uLmFuY2hvcjtpZihlJiZvJiZvLnBhcmVudCE9PXQpe3JldHVybiB0cnVlfXJldHVybiBmYWxzZX1mdW5jdGlvbiBidyh0LGUpe2NvbnN0IGk9dXcuZ2V0KHQpO2xldCBuPWZhbHNlO2Zvcihjb25zdFt0LG9db2YgaSl7aWYod3coZSx0LG8pKXtuPXRydWV9fXJldHVybiBufWZ1bmN0aW9uIHd3KHQsZSxpKXtjb25zdHt0ZXh0Om4saXNEaXJlY3RIb3N0Om99PWk7Y29uc3Qgcj1vP2U6a3coZSk7bGV0IHM9ZmFsc2U7aWYoIXIpe3JldHVybiBmYWxzZX1pLmhvc3RFbGVtZW50PXI7aWYoci5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlaG9sZGVyXCIpIT09bil7dC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlaG9sZGVyXCIsbixyKTtzPXRydWV9aWYocHcocikpe2lmKGd3KHQscikpe3M9dHJ1ZX19ZWxzZSBpZihtdyh0LHIpKXtzPXRydWV9cmV0dXJuIHN9ZnVuY3Rpb24ga3codCl7aWYodC5jaGlsZENvdW50PT09MSl7Y29uc3QgZT10LmdldENoaWxkKDApO2lmKGUuaXMoXCJlbGVtZW50XCIpJiYhZS5pcyhcInVpRWxlbWVudFwiKSl7cmV0dXJuIGV9fXJldHVybiBudWxsfWNsYXNzIF93IGV4dGVuZHMgY3d7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KTt0aGlzLnZpZXc9ZX1nZXQgZWxlbWVudCgpe3JldHVybiB0aGlzLnZpZXcuZWRpdGFibGUuZWxlbWVudH1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXRoaXMudmlldztjb25zdCBpPXQucGx1Z2lucy5nZXQoXCJCYWxsb29uVG9vbGJhclwiKTtjb25zdCBuPXQuZWRpdGluZy52aWV3O2NvbnN0IG89ZS5lZGl0YWJsZTtjb25zdCByPW4uZG9jdW1lbnQuZ2V0Um9vdCgpO28ubmFtZT1yLnJvb3ROYW1lO2UucmVuZGVyKCk7Y29uc3Qgcz1vLmVsZW1lbnQ7dGhpcy5zZXRFZGl0YWJsZUVsZW1lbnQoby5uYW1lLHMpO3RoaXMuZm9jdXNUcmFja2VyLmFkZChzKTtvLmJpbmQoXCJpc0ZvY3VzZWRcIikudG8odGhpcy5mb2N1c1RyYWNrZXIpO24uYXR0YWNoRG9tUm9vdChzKTtsdyh7b3JpZ2luOm4sb3JpZ2luRm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLG9yaWdpbktleXN0cm9rZUhhbmRsZXI6dC5rZXlzdHJva2VzLHRvb2xiYXI6aS50b29sYmFyVmlldyxiZWZvcmVGb2N1cygpe2kuc2hvdygpfSxhZnRlckJsdXIoKXtpLmhpZGUoKX19KTt0aGlzLl9pbml0UGxhY2Vob2xkZXIoKTt0aGlzLmZpcmUoXCJyZWFkeVwiKX1kZXN0cm95KCl7Y29uc3QgdD10aGlzLnZpZXc7Y29uc3QgZT10aGlzLmVkaXRvci5lZGl0aW5nLnZpZXc7ZS5kZXRhY2hEb21Sb290KHQuZWRpdGFibGUubmFtZSk7dC5kZXN0cm95KCk7c3VwZXIuZGVzdHJveSgpfV9pbml0UGxhY2Vob2xkZXIoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5lZGl0aW5nLnZpZXc7Y29uc3QgaT1lLmRvY3VtZW50LmdldFJvb3QoKTtjb25zdCBuPXQuc291cmNlRWxlbWVudDtjb25zdCBvPXQuY29uZmlnLmdldChcInBsYWNlaG9sZGVyXCIpfHxuJiZuLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PVwidGV4dGFyZWFcIiYmbi5nZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiKTtpZihvKXtodyh7dmlldzplLGVsZW1lbnQ6aSx0ZXh0Om8saXNEaXJlY3RIb3N0OmZhbHNlfSl9fX12YXIgdnc9XCJbb2JqZWN0IFN0cmluZ11cIjtmdW5jdGlvbiB5dyh0KXtyZXR1cm4gdHlwZW9mIHQ9PVwic3RyaW5nXCJ8fCFKZSh0KSYmVCh0KSYmXyh0KT09dnd9dmFyIHh3PXl3O2Z1bmN0aW9uIEN3KHQsZSxpPXt9LG49W10pe2NvbnN0IG89aSYmaS54bWxucztjb25zdCByPW8/dC5jcmVhdGVFbGVtZW50TlMobyxlKTp0LmNyZWF0ZUVsZW1lbnQoZSk7Zm9yKGNvbnN0IHQgaW4gaSl7ci5zZXRBdHRyaWJ1dGUodCxpW3RdKX1pZih4dyhuKXx8IWpzKG4pKXtuPVtuXX1mb3IobGV0IGUgb2Ygbil7aWYoeHcoZSkpe2U9dC5jcmVhdGVUZXh0Tm9kZShlKX1yLmFwcGVuZENoaWxkKGUpfXJldHVybiByfWNsYXNzIEF3IGV4dGVuZHMgYnB7YXR0YWNoVG9Eb20oKXt0aGlzLl9ib2R5Q29sbGVjdGlvbkNvbnRhaW5lcj1uZXcgX3Aoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1yZXNldF9hbGxcIixcImNrLWJvZHlcIixcImNrLXJvdW5kZWQtY29ybmVyc1wiXSxkaXI6dGhpcy5sb2NhbGUudWlMYW5ndWFnZURpcmVjdGlvbn0sY2hpbGRyZW46dGhpc30pLnJlbmRlcigpO2xldCB0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2stYm9keS13cmFwcGVyXCIpO2lmKCF0KXt0PUN3KGRvY3VtZW50LFwiZGl2XCIse2NsYXNzOlwiY2stYm9keS13cmFwcGVyXCJ9KTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpfXQuYXBwZW5kQ2hpbGQodGhpcy5fYm9keUNvbGxlY3Rpb25Db250YWluZXIpfWRldGFjaEZyb21Eb20oKXtzdXBlci5kZXN0cm95KCk7aWYodGhpcy5fYm9keUNvbGxlY3Rpb25Db250YWluZXIpe3RoaXMuX2JvZHlDb2xsZWN0aW9uQ29udGFpbmVyLnJlbW92ZSgpfWNvbnN0IHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jay1ib2R5LXdyYXBwZXJcIik7aWYodCYmdC5jaGlsZEVsZW1lbnRDb3VudD09MCl7dC5yZW1vdmUoKX19fXZhciBUdz1pKDQzKTtjbGFzcyBQdyBleHRlbmRzIEdwe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3RoaXMuYm9keT1uZXcgQXcodCl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCk7dGhpcy5ib2R5LmF0dGFjaFRvRG9tKCl9ZGVzdHJveSgpe3RoaXMuYm9keS5kZXRhY2hGcm9tRG9tKCk7cmV0dXJuIHN1cGVyLmRlc3Ryb3koKX19Y2xhc3MgU3cgZXh0ZW5kcyBHcHtjb25zdHJ1Y3Rvcih0LGUsaSl7c3VwZXIodCk7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWNvbnRlbnRcIixcImNrLWVkaXRvcl9fZWRpdGFibGVcIixcImNrLXJvdW5kZWQtY29ybmVyc1wiXSxsYW5nOnQuY29udGVudExhbmd1YWdlLGRpcjp0LmNvbnRlbnRMYW5ndWFnZURpcmVjdGlvbn19KTt0aGlzLm5hbWU9bnVsbDt0aGlzLnNldChcImlzRm9jdXNlZFwiLGZhbHNlKTt0aGlzLl9lZGl0YWJsZUVsZW1lbnQ9aTt0aGlzLl9oYXNFeHRlcm5hbEVsZW1lbnQ9ISF0aGlzLl9lZGl0YWJsZUVsZW1lbnQ7dGhpcy5fZWRpdGluZ1ZpZXc9ZX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtpZih0aGlzLl9oYXNFeHRlcm5hbEVsZW1lbnQpe3RoaXMudGVtcGxhdGUuYXBwbHkodGhpcy5lbGVtZW50PXRoaXMuX2VkaXRhYmxlRWxlbWVudCl9ZWxzZXt0aGlzLl9lZGl0YWJsZUVsZW1lbnQ9dGhpcy5lbGVtZW50fXRoaXMub24oXCJjaGFuZ2U6aXNGb2N1c2VkXCIsKCk9PnRoaXMuX3VwZGF0ZUlzRm9jdXNlZENsYXNzZXMoKSk7dGhpcy5fdXBkYXRlSXNGb2N1c2VkQ2xhc3NlcygpfWRlc3Ryb3koKXtpZih0aGlzLl9oYXNFeHRlcm5hbEVsZW1lbnQpe3RoaXMudGVtcGxhdGUucmV2ZXJ0KHRoaXMuX2VkaXRhYmxlRWxlbWVudCl9c3VwZXIuZGVzdHJveSgpfV91cGRhdGVJc0ZvY3VzZWRDbGFzc2VzKCl7Y29uc3QgdD10aGlzLl9lZGl0aW5nVmlldztpZih0LmlzUmVuZGVyaW5nSW5Qcm9ncmVzcyl7aSh0aGlzKX1lbHNle2UodGhpcyl9ZnVuY3Rpb24gZShlKXt0LmNoYW5nZShpPT57Y29uc3Qgbj10LmRvY3VtZW50LmdldFJvb3QoZS5uYW1lKTtpLmFkZENsYXNzKGUuaXNGb2N1c2VkP1wiY2stZm9jdXNlZFwiOlwiY2stYmx1cnJlZFwiLG4pO2kucmVtb3ZlQ2xhc3MoZS5pc0ZvY3VzZWQ/XCJjay1ibHVycmVkXCI6XCJjay1mb2N1c2VkXCIsbil9KX1mdW5jdGlvbiBpKG4pe3Qub25jZShcImNoYW5nZTppc1JlbmRlcmluZ0luUHJvZ3Jlc3NcIiwodCxvLHIpPT57aWYoIXIpe2Uobil9ZWxzZXtpKG4pfX0pfX19Y2xhc3MgRXcgZXh0ZW5kcyBTd3tjb25zdHJ1Y3Rvcih0LGUsaSl7c3VwZXIodCxlLGkpO3RoaXMuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e3JvbGU6XCJ0ZXh0Ym94XCIsY2xhc3M6XCJjay1lZGl0b3JfX2VkaXRhYmxlX2lubGluZVwifX0pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpO2NvbnN0IHQ9dGhpcy5fZWRpdGluZ1ZpZXc7Y29uc3QgZT10aGlzLnQ7dC5jaGFuZ2UoaT0+e2NvbnN0IG49dC5kb2N1bWVudC5nZXRSb290KHRoaXMubmFtZSk7aS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZShcIm9mXCIsW3RoaXMubmFtZV0pLG4pfSl9fWNsYXNzIFJ3IGV4dGVuZHMgUHd7Y29uc3RydWN0b3IodCxlLGkpe3N1cGVyKHQpO3RoaXMuZWRpdGFibGU9bmV3IEV3KHQsZSxpKX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTt0aGlzLnJlZ2lzdGVyQ2hpbGQodGhpcy5lZGl0YWJsZSl9fWZ1bmN0aW9uIE93KHQsZSl7aWYodCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQpe3QudmFsdWU9ZX10LmlubmVySFRNTD1lfWZ1bmN0aW9uIEl3KHQpe2lmKHQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50KXtyZXR1cm4gdC52YWx1ZX1yZXR1cm4gdC5pbm5lckhUTUx9Y29uc3QgVnc9e3NldERhdGEodCl7dGhpcy5kYXRhLnNldCh0KX0sZ2V0RGF0YSh0KXtyZXR1cm4gdGhpcy5kYXRhLmdldCh0KX19O3ZhciBOdz1Wdztjb25zdCBNdz17dXBkYXRlU291cmNlRWxlbWVudCgpe2lmKCF0aGlzLnNvdXJjZUVsZW1lbnQpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJlZGl0b3ItbWlzc2luZy1zb3VyY2VlbGVtZW50OiBDYW5ub3QgdXBkYXRlIHRoZSBzb3VyY2UgZWxlbWVudCBvZiBhIGRldGFjaGVkIGVkaXRvci5cIix0aGlzKX1Pdyh0aGlzLnNvdXJjZUVsZW1lbnQsdGhpcy5kYXRhLmdldCgpKX19O3ZhciBCdz1NdztmdW5jdGlvbiB6dyh0KXtpZighZ3QodC51cGRhdGVTb3VyY2VFbGVtZW50KSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcImF0dGFjaHRvZm9ybS1taXNzaW5nLWVsZW1lbnRhcGktaW50ZXJmYWNlOiBFZGl0b3IgcGFzc2VkIHRvIGF0dGFjaFRvRm9ybSgpIG11c3QgaW1wbGVtZW50IEVsZW1lbnRBcGkuXCIsdCl9Y29uc3QgZT10LnNvdXJjZUVsZW1lbnQ7aWYoZSYmZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1cInRleHRhcmVhXCImJmUuZm9ybSl7bGV0IGk7Y29uc3Qgbj1lLmZvcm07Y29uc3Qgbz0oKT0+dC51cGRhdGVTb3VyY2VFbGVtZW50KCk7aWYoZ3Qobi5zdWJtaXQpKXtpPW4uc3VibWl0O24uc3VibWl0PSgpPT57bygpO2kuYXBwbHkobil9fW4uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLG8pO3Qub24oXCJkZXN0cm95XCIsKCk9PntuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIixvKTtpZihpKXtuLnN1Ym1pdD1pfX0pfX1mdW5jdGlvbiBMdyh0KXtjb25zdCBlPXQuc291cmNlRWxlbWVudDtpZighZSl7cmV0dXJufWlmKGUuY2tlZGl0b3JJbnN0YW5jZSl7dGhyb3cgbmV3IHNzW1wiYlwiXShcImVkaXRvci1zb3VyY2UtZWxlbWVudC1hbHJlYWR5LXVzZWQ6IFwiK1wiVGhlIERPTSBlbGVtZW50IGNhbm5vdCBiZSB1c2VkIHRvIGNyZWF0ZSBtdWx0aXBsZSBlZGl0b3IgaW5zdGFuY2VzLlwiLHQpfWUuY2tlZGl0b3JJbnN0YW5jZT10O3Qub25jZShcImRlc3Ryb3lcIiwoKT0+e2RlbGV0ZSBlLmNrZWRpdG9ySW5zdGFuY2V9KX1jbGFzcyBGdyBleHRlbmRzIGhwe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoZSk7aWYoS3IodCkpe3RoaXMuc291cmNlRWxlbWVudD10O0x3KHRoaXMpfWNvbnN0IGk9dGhpcy5jb25maWcuZ2V0KFwicGx1Z2luc1wiKTtpLnB1c2gob3cpO3RoaXMuY29uZmlnLnNldChcInBsdWdpbnNcIixpKTt0aGlzLmNvbmZpZy5kZWZpbmUoXCJiYWxsb29uVG9vbGJhclwiLHRoaXMuY29uZmlnLmdldChcInRvb2xiYXJcIikpO3RoaXMuZGF0YS5wcm9jZXNzb3I9bmV3IGdwKHRoaXMuZGF0YS52aWV3RG9jdW1lbnQpO3RoaXMubW9kZWwuZG9jdW1lbnQuY3JlYXRlUm9vdCgpO2NvbnN0IG49bmV3IFJ3KHRoaXMubG9jYWxlLHRoaXMuZWRpdGluZy52aWV3LHRoaXMuc291cmNlRWxlbWVudCk7dGhpcy51aT1uZXcgX3codGhpcyxuKTt6dyh0aGlzKX1kZXN0cm95KCl7Y29uc3QgdD10aGlzLmdldERhdGEoKTt0aGlzLnVpLmRlc3Ryb3koKTtyZXR1cm4gc3VwZXIuZGVzdHJveSgpLnRoZW4oKCk9PntpZih0aGlzLnNvdXJjZUVsZW1lbnQpe093KHRoaXMuc291cmNlRWxlbWVudCx0KX19KX1zdGF0aWMgY3JlYXRlKHQsZT17fSl7cmV0dXJuIG5ldyBQcm9taXNlKGk9Pntjb25zdCBuPUtyKHQpO2lmKG4mJnQudGFnTmFtZT09PVwiVEVYVEFSRUFcIil7dGhyb3cgbmV3IHNzW1wiYlwiXShcImVkaXRvci13cm9uZy1lbGVtZW50OiBUaGlzIHR5cGUgb2YgZWRpdG9yIGNhbm5vdCBiZSBpbml0aWFsaXplZCBpbnNpZGUgPHRleHRhcmVhPiBlbGVtZW50LlwiLG51bGwpfWNvbnN0IG89bmV3IHRoaXModCxlKTtpKG8uaW5pdFBsdWdpbnMoKS50aGVuKCgpPT57by51aS5pbml0KCl9KS50aGVuKCgpPT57aWYoIW4mJmUuaW5pdGlhbERhdGEpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJlZGl0b3ItY3JlYXRlLWluaXRpYWwtZGF0YTogXCIrXCJUaGUgY29uZmlnLmluaXRpYWxEYXRhIG9wdGlvbiBjYW5ub3QgYmUgdXNlZCB0b2dldGhlciB3aXRoIGluaXRpYWwgZGF0YSBwYXNzZWQgaW4gRWRpdG9yLmNyZWF0ZSgpLlwiLG51bGwpfWNvbnN0IGk9ZS5pbml0aWFsRGF0YXx8RHcodCk7cmV0dXJuIG8uZGF0YS5pbml0KGkpfSkudGhlbigoKT0+by5maXJlKFwicmVhZHlcIikpLnRoZW4oKCk9Pm8pKX0pfX12cyhGdyxOdyk7dnMoRncsQncpO2Z1bmN0aW9uIER3KHQpe3JldHVybiBLcih0KT9Jdyh0KTp0fWNsYXNzIGp3e2NvbnN0cnVjdG9yKHQpe3RoaXMuZWRpdG9yPXQ7dGhpcy5zZXQoXCJ2YWx1ZVwiLHVuZGVmaW5lZCk7dGhpcy5zZXQoXCJpc0VuYWJsZWRcIixmYWxzZSk7dGhpcy5fZGlzYWJsZVN0YWNrPW5ldyBTZXQ7dGhpcy5kZWNvcmF0ZShcImV4ZWN1dGVcIik7dGhpcy5saXN0ZW5Ubyh0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudCxcImNoYW5nZVwiLCgpPT57dGhpcy5yZWZyZXNoKCl9KTt0aGlzLm9uKFwiZXhlY3V0ZVwiLHQ9PntpZighdGhpcy5pc0VuYWJsZWQpe3Quc3RvcCgpfX0se3ByaW9yaXR5OlwiaGlnaFwifSk7dGhpcy5saXN0ZW5Ubyh0LFwiY2hhbmdlOmlzUmVhZE9ubHlcIiwodCxlLGkpPT57aWYoaSl7dGhpcy5mb3JjZURpc2FibGVkKFwicmVhZE9ubHlNb2RlXCIpfWVsc2V7dGhpcy5jbGVhckZvcmNlRGlzYWJsZWQoXCJyZWFkT25seU1vZGVcIil9fSl9cmVmcmVzaCgpe3RoaXMuaXNFbmFibGVkPXRydWV9Zm9yY2VEaXNhYmxlZCh0KXt0aGlzLl9kaXNhYmxlU3RhY2suYWRkKHQpO2lmKHRoaXMuX2Rpc2FibGVTdGFjay5zaXplPT0xKXt0aGlzLm9uKFwic2V0OmlzRW5hYmxlZFwiLEh3LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pO3RoaXMuaXNFbmFibGVkPWZhbHNlfX1jbGVhckZvcmNlRGlzYWJsZWQodCl7dGhpcy5fZGlzYWJsZVN0YWNrLmRlbGV0ZSh0KTtpZih0aGlzLl9kaXNhYmxlU3RhY2suc2l6ZT09MCl7dGhpcy5vZmYoXCJzZXQ6aXNFbmFibGVkXCIsSHcpO3RoaXMucmVmcmVzaCgpfX1leGVjdXRlKCl7fWRlc3Ryb3koKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKX19dnMoancsSmMpO2Z1bmN0aW9uIEh3KHQpe3QucmV0dXJuPWZhbHNlO3Quc3RvcCgpfWZ1bmN0aW9uIFd3KHQpe2NvbnN0IGU9dC5uZXh0KCk7aWYoZS5kb25lKXtyZXR1cm4gbnVsbH1yZXR1cm4gZS52YWx1ZX1jb25zdCBxdz1bXCJsZWZ0XCIsXCJyaWdodFwiLFwiY2VudGVyXCIsXCJqdXN0aWZ5XCJdO2Z1bmN0aW9uIFV3KHQpe3JldHVybiBxdy5pbmNsdWRlcyh0KX1mdW5jdGlvbiAkdyh0LGUpe2lmKGUuY29udGVudExhbmd1YWdlRGlyZWN0aW9uPT1cInJ0bFwiKXtyZXR1cm4gdD09PVwicmlnaHRcIn1lbHNle3JldHVybiB0PT09XCJsZWZ0XCJ9fWNvbnN0IEd3PVwiYWxpZ25tZW50XCI7Y2xhc3MgS3cgZXh0ZW5kcyBqd3tyZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQubG9jYWxlO2NvbnN0IGk9V3codGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpO3RoaXMuaXNFbmFibGVkPSEhaSYmdGhpcy5fY2FuQmVBbGlnbmVkKGkpO2lmKHRoaXMuaXNFbmFibGVkJiZpLmhhc0F0dHJpYnV0ZShcImFsaWdubWVudFwiKSl7dGhpcy52YWx1ZT1pLmdldEF0dHJpYnV0ZShcImFsaWdubWVudFwiKX1lbHNle3RoaXMudmFsdWU9ZS5jb250ZW50TGFuZ3VhZ2VEaXJlY3Rpb249PT1cInJ0bFwiP1wicmlnaHRcIjpcImxlZnRcIn19ZXhlY3V0ZSh0PXt9KXtjb25zdCBlPXRoaXMuZWRpdG9yO2NvbnN0IGk9ZS5sb2NhbGU7Y29uc3Qgbj1lLm1vZGVsO2NvbnN0IG89bi5kb2N1bWVudDtjb25zdCByPXQudmFsdWU7bi5jaGFuZ2UodD0+e2NvbnN0IGU9QXJyYXkuZnJvbShvLnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKS5maWx0ZXIodD0+dGhpcy5fY2FuQmVBbGlnbmVkKHQpKTtjb25zdCBuPWVbMF0uZ2V0QXR0cmlidXRlKFwiYWxpZ25tZW50XCIpO2NvbnN0IHM9JHcocixpKXx8bj09PXJ8fCFyO2lmKHMpe0p3KGUsdCl9ZWxzZXtZdyhlLHQscil9fSl9X2NhbkJlQWxpZ25lZCh0KXtyZXR1cm4gdGhpcy5lZGl0b3IubW9kZWwuc2NoZW1hLmNoZWNrQXR0cmlidXRlKHQsR3cpfX1mdW5jdGlvbiBKdyh0LGUpe2Zvcihjb25zdCBpIG9mIHQpe2UucmVtb3ZlQXR0cmlidXRlKEd3LGkpfX1mdW5jdGlvbiBZdyh0LGUsaSl7Zm9yKGNvbnN0IG4gb2YgdCl7ZS5zZXRBdHRyaWJ1dGUoR3csaSxuKX19Y2xhc3MgUXcgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkFsaWdubWVudEVkaXRpbmdcIn1jb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTt0LmNvbmZpZy5kZWZpbmUoXCJhbGlnbm1lbnRcIix7b3B0aW9uczpbLi4ucXddfSl9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LmxvY2FsZTtjb25zdCBpPXQubW9kZWwuc2NoZW1hO2NvbnN0IG49dC5jb25maWcuZ2V0KFwiYWxpZ25tZW50Lm9wdGlvbnNcIikuZmlsdGVyKFV3KTtpLmV4dGVuZChcIiRibG9ja1wiLHthbGxvd0F0dHJpYnV0ZXM6XCJhbGlnbm1lbnRcIn0pO3QubW9kZWwuc2NoZW1hLnNldEF0dHJpYnV0ZVByb3BlcnRpZXMoXCJhbGlnbm1lbnRcIix7aXNGb3JtYXR0aW5nOnRydWV9KTtjb25zdCBvPVh3KG4uZmlsdGVyKHQ9PiEkdyh0LGUpKSk7dC5jb252ZXJzaW9uLmF0dHJpYnV0ZVRvQXR0cmlidXRlKG8pO3QuY29tbWFuZHMuYWRkKFwiYWxpZ25tZW50XCIsbmV3IEt3KHQpKX19ZnVuY3Rpb24gWHcodCl7Y29uc3QgZT17bW9kZWw6e2tleTpcImFsaWdubWVudFwiLHZhbHVlczp0LnNsaWNlKCl9LHZpZXc6e319O2Zvcihjb25zdCBpIG9mIHQpe2Uudmlld1tpXT17a2V5Olwic3R5bGVcIix2YWx1ZTp7XCJ0ZXh0LWFsaWduXCI6aX19fXJldHVybiBlfXZhciBadz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMiAzLjc1YzAgLjQxNC4zMzYuNzUuNzUuNzVoMTQuNWEuNzUuNzUgMCAxIDAgMC0xLjVIMi43NWEuNzUuNzUgMCAwIDAtLjc1Ljc1em0wIDhjMCAuNDE0LjMzNi43NS43NS43NWgxNC41YS43NS43NSAwIDEgMCAwLTEuNUgyLjc1YS43NS43NSAwIDAgMC0uNzUuNzV6bTAgNGMwIC40MTQuMzM2Ljc1Ljc1Ljc1aDkuOTI5YS43NS43NSAwIDEgMCAwLTEuNUgyLjc1YS43NS43NSAwIDAgMC0uNzUuNzV6bTAtOGMwIC40MTQuMzM2Ljc1Ljc1Ljc1aDkuOTI5YS43NS43NSAwIDEgMCAwLTEuNUgyLjc1YS43NS43NSAwIDAgMC0uNzUuNzV6XCIvPjwvc3ZnPic7dmFyIHRrPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xOCAzLjc1YS43NS43NSAwIDAgMS0uNzUuNzVIMi43NWEuNzUuNzUgMCAxIDEgMC0xLjVoMTQuNWEuNzUuNzUgMCAwIDEgLjc1Ljc1em0wIDhhLjc1Ljc1IDAgMCAxLS43NS43NUgyLjc1YS43NS43NSAwIDEgMSAwLTEuNWgxNC41YS43NS43NSAwIDAgMSAuNzUuNzV6bTAgNGEuNzUuNzUgMCAwIDEtLjc1Ljc1SDcuMzIxYS43NS43NSAwIDEgMSAwLTEuNWg5LjkyOWEuNzUuNzUgMCAwIDEgLjc1Ljc1em0wLThhLjc1Ljc1IDAgMCAxLS43NS43NUg3LjMyMWEuNzUuNzUgMCAxIDEgMC0xLjVoOS45MjlhLjc1Ljc1IDAgMCAxIC43NS43NXpcIi8+PC9zdmc+Jzt2YXIgZWs9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTIgMy43NWMwIC40MTQuMzM2Ljc1Ljc1Ljc1aDE0LjVhLjc1Ljc1IDAgMSAwIDAtMS41SDIuNzVhLjc1Ljc1IDAgMCAwLS43NS43NXptMCA4YzAgLjQxNC4zMzYuNzUuNzUuNzVoMTQuNWEuNzUuNzUgMCAxIDAgMC0xLjVIMi43NWEuNzUuNzUgMCAwIDAtLjc1Ljc1em0yLjI4NiA0YzAgLjQxNC4zMzYuNzUuNzUuNzVoOS45MjhhLjc1Ljc1IDAgMSAwIDAtMS41SDUuMDM2YS43NS43NSAwIDAgMC0uNzUuNzV6bTAtOGMwIC40MTQuMzM2Ljc1Ljc1Ljc1aDkuOTI4YS43NS43NSAwIDEgMCAwLTEuNUg1LjAzNmEuNzUuNzUgMCAwIDAtLjc1Ljc1elwiLz48L3N2Zz4nO3ZhciBpaz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMiAzLjc1YzAgLjQxNC4zMzYuNzUuNzUuNzVoMTQuNWEuNzUuNzUgMCAxIDAgMC0xLjVIMi43NWEuNzUuNzUgMCAwIDAtLjc1Ljc1em0wIDhjMCAuNDE0LjMzNi43NS43NS43NWgxNC41YS43NS43NSAwIDEgMCAwLTEuNUgyLjc1YS43NS43NSAwIDAgMC0uNzUuNzV6bTAgNGMwIC40MTQuMzM2Ljc1Ljc1Ljc1aDkuOTI5YS43NS43NSAwIDEgMCAwLTEuNUgyLjc1YS43NS43NSAwIDAgMC0uNzUuNzV6bTAtOGMwIC40MTQuMzM2Ljc1Ljc1Ljc1aDE0LjVhLjc1Ljc1IDAgMSAwIDAtMS41SDIuNzVhLjc1Ljc1IDAgMCAwLS43NS43NXpcIi8+PC9zdmc+Jztjb25zdCBuaz1uZXcgTWFwKFtbXCJsZWZ0XCIsWnddLFtcInJpZ2h0XCIsdGtdLFtcImNlbnRlclwiLGVrXSxbXCJqdXN0aWZ5XCIsaWtdXSk7Y2xhc3Mgb2sgZXh0ZW5kcyBtcHtnZXQgbG9jYWxpemVkT3B0aW9uVGl0bGVzKCl7Y29uc3QgdD10aGlzLmVkaXRvci50O3JldHVybntsZWZ0OnQoXCJpd1wiKSxyaWdodDp0KFwiaXhcIiksY2VudGVyOnQoXCJpeVwiKSxqdXN0aWZ5OnQoXCJpelwiKX19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJBbGlnbm1lbnRVSVwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC51aS5jb21wb25lbnRGYWN0b3J5O2NvbnN0IGk9dC50O2NvbnN0IG49dC5jb25maWcuZ2V0KFwiYWxpZ25tZW50Lm9wdGlvbnNcIik7bi5maWx0ZXIoVXcpLmZvckVhY2godD0+dGhpcy5fYWRkQnV0dG9uKHQpKTtlLmFkZChcImFsaWdubWVudFwiLHQ9Pntjb25zdCBvPVdiKHQpO2NvbnN0IHI9bi5tYXAodD0+ZS5jcmVhdGUoYGFsaWdubWVudDoke3R9YCkpO3FiKG8scik7by5idXR0b25WaWV3LnNldCh7bGFiZWw6aShcImphXCIpLHRvb2x0aXA6dHJ1ZX0pO28udG9vbGJhclZpZXcuaXNWZXJ0aWNhbD10cnVlO28udG9vbGJhclZpZXcuYXJpYUxhYmVsPWkoXCJqYlwiKTtvLmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntjbGFzczpcImNrLWFsaWdubWVudC1kcm9wZG93blwifX0pO2NvbnN0IHM9dC5jb250ZW50TGFuZ3VhZ2VEaXJlY3Rpb249PT1cInJ0bFwiP3RrOlp3O28uYnV0dG9uVmlldy5iaW5kKFwiaWNvblwiKS50b01hbnkocixcImlzT25cIiwoLi4udCk9Pntjb25zdCBlPXQuZmluZEluZGV4KHQ9PnQpO2lmKGU8MCl7cmV0dXJuIHN9cmV0dXJuIHJbZV0uaWNvbn0pO28uYmluZChcImlzRW5hYmxlZFwiKS50b01hbnkocixcImlzRW5hYmxlZFwiLCguLi50KT0+dC5zb21lKHQ9PnQpKTtyZXR1cm4gb30pfV9hZGRCdXR0b24odCl7Y29uc3QgZT10aGlzLmVkaXRvcjtlLnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKGBhbGlnbm1lbnQ6JHt0fWAsaT0+e2NvbnN0IG49ZS5jb21tYW5kcy5nZXQoXCJhbGlnbm1lbnRcIik7Y29uc3Qgbz1uZXcgaGIoaSk7by5zZXQoe2xhYmVsOnRoaXMubG9jYWxpemVkT3B0aW9uVGl0bGVzW3RdLGljb246bmsuZ2V0KHQpLHRvb2x0aXA6dHJ1ZSxpc1RvZ2dsZWFibGU6dHJ1ZX0pO28uYmluZChcImlzRW5hYmxlZFwiKS50byhuKTtvLmJpbmQoXCJpc09uXCIpLnRvKG4sXCJ2YWx1ZVwiLGU9PmU9PT10KTt0aGlzLmxpc3RlblRvKG8sXCJleGVjdXRlXCIsKCk9PntlLmV4ZWN1dGUoXCJhbGlnbm1lbnRcIix7dmFsdWU6dH0pO2UuZWRpdGluZy52aWV3LmZvY3VzKCl9KTtyZXR1cm4gb30pfX1jbGFzcyByayBleHRlbmRzIG1we3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bUXcsb2tdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiQWxpZ25tZW50XCJ9fWNsYXNzIHNre2NvbnN0cnVjdG9yKHQpe3RoaXMuY29udGV4dD10fWRlc3Ryb3koKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKX1zdGF0aWMgZ2V0IGlzQ29udGV4dFBsdWdpbigpe3JldHVybiB0cnVlfX12cyhzayxKYyk7Y2xhc3MgYWsgZXh0ZW5kcyBza3tzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlBlbmRpbmdBY3Rpb25zXCJ9aW5pdCgpe3RoaXMuc2V0KFwiaGFzQW55XCIsZmFsc2UpO3RoaXMuX2FjdGlvbnM9bmV3IHlzKHtpZFByb3BlcnR5OlwiX2lkXCJ9KTt0aGlzLl9hY3Rpb25zLmRlbGVnYXRlKFwiYWRkXCIsXCJyZW1vdmVcIikudG8odGhpcyl9YWRkKHQpe2lmKHR5cGVvZiB0IT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IHNzW1wiYlwiXShcInBlbmRpbmdhY3Rpb25zLWFkZC1pbnZhbGlkLW1lc3NhZ2U6IFRoZSBtZXNzYWdlIG11c3QgYmUgYSBzdHJpbmcuXCIsdGhpcyl9Y29uc3QgZT1PYmplY3QuY3JlYXRlKEpjKTtlLnNldChcIm1lc3NhZ2VcIix0KTt0aGlzLl9hY3Rpb25zLmFkZChlKTt0aGlzLmhhc0FueT10cnVlO3JldHVybiBlfXJlbW92ZSh0KXt0aGlzLl9hY3Rpb25zLnJlbW92ZSh0KTt0aGlzLmhhc0FueT0hIXRoaXMuX2FjdGlvbnMubGVuZ3RofWdldCBmaXJzdCgpe3JldHVybiB0aGlzLl9hY3Rpb25zLmdldCgwKX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9hY3Rpb25zW1N5bWJvbC5pdGVyYXRvcl0oKX19Y2xhc3MgY2t7Y29uc3RydWN0b3IoKXtjb25zdCB0PW5ldyB3aW5kb3cuRmlsZVJlYWRlcjt0aGlzLl9yZWFkZXI9dDt0aGlzLl9kYXRhPXVuZGVmaW5lZDt0aGlzLnNldChcImxvYWRlZFwiLDApO3Qub25wcm9ncmVzcz10PT57dGhpcy5sb2FkZWQ9dC5sb2FkZWR9fWdldCBlcnJvcigpe3JldHVybiB0aGlzLl9yZWFkZXIuZXJyb3J9Z2V0IGRhdGEoKXtyZXR1cm4gdGhpcy5fZGF0YX1yZWFkKHQpe2NvbnN0IGU9dGhpcy5fcmVhZGVyO3RoaXMudG90YWw9dC5zaXplO3JldHVybiBuZXcgUHJvbWlzZSgoaSxuKT0+e2Uub25sb2FkPSgpPT57Y29uc3QgdD1lLnJlc3VsdDt0aGlzLl9kYXRhPXQ7aSh0KX07ZS5vbmVycm9yPSgpPT57bihcImVycm9yXCIpfTtlLm9uYWJvcnQ9KCk9PntuKFwiYWJvcnRlZFwiKX07dGhpcy5fcmVhZGVyLnJlYWRBc0RhdGFVUkwodCl9KX1hYm9ydCgpe3RoaXMuX3JlYWRlci5hYm9ydCgpfX12cyhjayxKYyk7Y2xhc3MgbGsgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkZpbGVSZXBvc2l0b3J5XCJ9c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltha119aW5pdCgpe3RoaXMubG9hZGVycz1uZXcgeXM7dGhpcy5sb2FkZXJzLm9uKFwiYWRkXCIsKCk9PnRoaXMuX3VwZGF0ZVBlbmRpbmdBY3Rpb24oKSk7dGhpcy5sb2FkZXJzLm9uKFwicmVtb3ZlXCIsKCk9PnRoaXMuX3VwZGF0ZVBlbmRpbmdBY3Rpb24oKSk7dGhpcy5fbG9hZGVyc01hcD1uZXcgTWFwO3RoaXMuX3BlbmRpbmdBY3Rpb249bnVsbDt0aGlzLnNldChcInVwbG9hZGVkXCIsMCk7dGhpcy5zZXQoXCJ1cGxvYWRUb3RhbFwiLG51bGwpO3RoaXMuYmluZChcInVwbG9hZGVkUGVyY2VudFwiKS50byh0aGlzLFwidXBsb2FkZWRcIix0aGlzLFwidXBsb2FkVG90YWxcIiwodCxlKT0+ZT90L2UqMTAwOjApfWdldExvYWRlcih0KXtyZXR1cm4gdGhpcy5fbG9hZGVyc01hcC5nZXQodCl8fG51bGx9Y3JlYXRlTG9hZGVyKHQpe2lmKCF0aGlzLmNyZWF0ZVVwbG9hZEFkYXB0ZXIpe2NvbnNvbGUud2FybihPYmplY3Qoc3NbXCJhXCJdKShcImZpbGVyZXBvc2l0b3J5LW5vLXVwbG9hZC1hZGFwdGVyOiBVcGxvYWQgYWRhcHRlciBpcyBub3QgZGVmaW5lZC5cIikpO3JldHVybiBudWxsfWNvbnN0IGU9bmV3IGRrKFByb21pc2UucmVzb2x2ZSh0KSx0aGlzLmNyZWF0ZVVwbG9hZEFkYXB0ZXIpO3RoaXMubG9hZGVycy5hZGQoZSk7dGhpcy5fbG9hZGVyc01hcC5zZXQodCxlKTtpZih0IGluc3RhbmNlb2YgUHJvbWlzZSl7ZS5maWxlLnRoZW4odD0+e3RoaXMuX2xvYWRlcnNNYXAuc2V0KHQsZSl9KS5jYXRjaCgoKT0+e30pfWUub24oXCJjaGFuZ2U6dXBsb2FkZWRcIiwoKT0+e2xldCB0PTA7Zm9yKGNvbnN0IGUgb2YgdGhpcy5sb2FkZXJzKXt0Kz1lLnVwbG9hZGVkfXRoaXMudXBsb2FkZWQ9dH0pO2Uub24oXCJjaGFuZ2U6dXBsb2FkVG90YWxcIiwoKT0+e2xldCB0PTA7Zm9yKGNvbnN0IGUgb2YgdGhpcy5sb2FkZXJzKXtpZihlLnVwbG9hZFRvdGFsKXt0Kz1lLnVwbG9hZFRvdGFsfX10aGlzLnVwbG9hZFRvdGFsPXR9KTtyZXR1cm4gZX1kZXN0cm95TG9hZGVyKHQpe2NvbnN0IGU9dCBpbnN0YW5jZW9mIGRrP3Q6dGhpcy5nZXRMb2FkZXIodCk7ZS5fZGVzdHJveSgpO3RoaXMubG9hZGVycy5yZW1vdmUoZSk7dGhpcy5fbG9hZGVyc01hcC5mb3JFYWNoKCh0LGkpPT57aWYodD09PWUpe3RoaXMuX2xvYWRlcnNNYXAuZGVsZXRlKGkpfX0pfV91cGRhdGVQZW5kaW5nQWN0aW9uKCl7Y29uc3QgdD10aGlzLmVkaXRvci5wbHVnaW5zLmdldChhayk7aWYodGhpcy5sb2FkZXJzLmxlbmd0aCl7aWYoIXRoaXMuX3BlbmRpbmdBY3Rpb24pe2NvbnN0IGU9dGhpcy5lZGl0b3IudDtjb25zdCBpPXQ9PmAke2UoXCJsYlwiKX0gJHtwYXJzZUludCh0KX0lLmA7dGhpcy5fcGVuZGluZ0FjdGlvbj10LmFkZChpKHRoaXMudXBsb2FkZWRQZXJjZW50KSk7dGhpcy5fcGVuZGluZ0FjdGlvbi5iaW5kKFwibWVzc2FnZVwiKS50byh0aGlzLFwidXBsb2FkZWRQZXJjZW50XCIsaSl9fWVsc2V7dC5yZW1vdmUodGhpcy5fcGVuZGluZ0FjdGlvbik7dGhpcy5fcGVuZGluZ0FjdGlvbj1udWxsfX19dnMobGssSmMpO2NsYXNzIGRre2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5pZD1pcygpO3RoaXMuX2ZpbGVQcm9taXNlV3JhcHBlcj10aGlzLl9jcmVhdGVGaWxlUHJvbWlzZVdyYXBwZXIodCk7dGhpcy5fYWRhcHRlcj1lKHRoaXMpO3RoaXMuX3JlYWRlcj1uZXcgY2s7dGhpcy5zZXQoXCJzdGF0dXNcIixcImlkbGVcIik7dGhpcy5zZXQoXCJ1cGxvYWRlZFwiLDApO3RoaXMuc2V0KFwidXBsb2FkVG90YWxcIixudWxsKTt0aGlzLmJpbmQoXCJ1cGxvYWRlZFBlcmNlbnRcIikudG8odGhpcyxcInVwbG9hZGVkXCIsdGhpcyxcInVwbG9hZFRvdGFsXCIsKHQsZSk9PmU/dC9lKjEwMDowKTt0aGlzLnNldChcInVwbG9hZFJlc3BvbnNlXCIsbnVsbCl9Z2V0IGZpbGUoKXtpZighdGhpcy5fZmlsZVByb21pc2VXcmFwcGVyKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpfWVsc2V7cmV0dXJuIHRoaXMuX2ZpbGVQcm9taXNlV3JhcHBlci5wcm9taXNlLnRoZW4odD0+dGhpcy5fZmlsZVByb21pc2VXcmFwcGVyP3Q6bnVsbCl9fWdldCBkYXRhKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5kYXRhfXJlYWQoKXtpZih0aGlzLnN0YXR1cyE9XCJpZGxlXCIpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJmaWxlcmVwb3NpdG9yeS1yZWFkLXdyb25nLXN0YXR1czogWW91IGNhbm5vdCBjYWxsIHJlYWQgaWYgdGhlIHN0YXR1cyBpcyBkaWZmZXJlbnQgdGhhbiBpZGxlLlwiLHRoaXMpfXRoaXMuc3RhdHVzPVwicmVhZGluZ1wiO3JldHVybiB0aGlzLmZpbGUudGhlbih0PT50aGlzLl9yZWFkZXIucmVhZCh0KSkudGhlbih0PT57dGhpcy5zdGF0dXM9XCJpZGxlXCI7cmV0dXJuIHR9KS5jYXRjaCh0PT57aWYodD09PVwiYWJvcnRlZFwiKXt0aGlzLnN0YXR1cz1cImFib3J0ZWRcIjt0aHJvd1wiYWJvcnRlZFwifXRoaXMuc3RhdHVzPVwiZXJyb3JcIjt0aHJvdyB0aGlzLl9yZWFkZXIuZXJyb3I/dGhpcy5fcmVhZGVyLmVycm9yOnR9KX11cGxvYWQoKXtpZih0aGlzLnN0YXR1cyE9XCJpZGxlXCIpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJmaWxlcmVwb3NpdG9yeS11cGxvYWQtd3Jvbmctc3RhdHVzOiBZb3UgY2Fubm90IGNhbGwgdXBsb2FkIGlmIHRoZSBzdGF0dXMgaXMgZGlmZmVyZW50IHRoYW4gaWRsZS5cIix0aGlzKX10aGlzLnN0YXR1cz1cInVwbG9hZGluZ1wiO3JldHVybiB0aGlzLmZpbGUudGhlbigoKT0+dGhpcy5fYWRhcHRlci51cGxvYWQoKSkudGhlbih0PT57dGhpcy51cGxvYWRSZXNwb25zZT10O3RoaXMuc3RhdHVzPVwiaWRsZVwiO3JldHVybiB0fSkuY2F0Y2godD0+e2lmKHRoaXMuc3RhdHVzPT09XCJhYm9ydGVkXCIpe3Rocm93XCJhYm9ydGVkXCJ9dGhpcy5zdGF0dXM9XCJlcnJvclwiO3Rocm93IHR9KX1hYm9ydCgpe2NvbnN0IHQ9dGhpcy5zdGF0dXM7dGhpcy5zdGF0dXM9XCJhYm9ydGVkXCI7aWYoIXRoaXMuX2ZpbGVQcm9taXNlV3JhcHBlci5pc0Z1bGZpbGxlZCl7dGhpcy5fZmlsZVByb21pc2VXcmFwcGVyLnByb21pc2UuY2F0Y2goKCk9Pnt9KTt0aGlzLl9maWxlUHJvbWlzZVdyYXBwZXIucmVqZWN0ZXIoXCJhYm9ydGVkXCIpfWVsc2UgaWYodD09XCJyZWFkaW5nXCIpe3RoaXMuX3JlYWRlci5hYm9ydCgpfWVsc2UgaWYodD09XCJ1cGxvYWRpbmdcIiYmdGhpcy5fYWRhcHRlci5hYm9ydCl7dGhpcy5fYWRhcHRlci5hYm9ydCgpfXRoaXMuX2Rlc3Ryb3koKX1fZGVzdHJveSgpe3RoaXMuX2ZpbGVQcm9taXNlV3JhcHBlcj11bmRlZmluZWQ7dGhpcy5fcmVhZGVyPXVuZGVmaW5lZDt0aGlzLl9hZGFwdGVyPXVuZGVmaW5lZDt0aGlzLnVwbG9hZFJlc3BvbnNlPXVuZGVmaW5lZH1fY3JlYXRlRmlsZVByb21pc2VXcmFwcGVyKHQpe2NvbnN0IGU9e307ZS5wcm9taXNlPW5ldyBQcm9taXNlKChpLG4pPT57ZS5yZWplY3Rlcj1uO2UuaXNGdWxmaWxsZWQ9ZmFsc2U7dC50aGVuKHQ9PntlLmlzRnVsZmlsbGVkPXRydWU7aSh0KX0pLmNhdGNoKHQ9PntlLmlzRnVsZmlsbGVkPXRydWU7bih0KX0pfSk7cmV0dXJuIGV9fXZzKGRrLEpjKTtjbGFzcyB1ayBleHRlbmRzIG1we3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bbGtdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiQmFzZTY0VXBsb2FkQWRhcHRlclwifWluaXQoKXt0aGlzLmVkaXRvci5wbHVnaW5zLmdldChsaykuY3JlYXRlVXBsb2FkQWRhcHRlcj10PT5uZXcgaGsodCl9fWNsYXNzIGhre2NvbnN0cnVjdG9yKHQpe3RoaXMubG9hZGVyPXR9dXBsb2FkKCl7cmV0dXJuIG5ldyBQcm9taXNlKCh0LGUpPT57Y29uc3QgaT10aGlzLnJlYWRlcj1uZXcgd2luZG93LkZpbGVSZWFkZXI7aS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCgpPT57dCh7ZGVmYXVsdDppLnJlc3VsdH0pfSk7aS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIix0PT57ZSh0KX0pO2kuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsKCk9PntlKCl9KTt0aGlzLmxvYWRlci5maWxlLnRoZW4odD0+e2kucmVhZEFzRGF0YVVSTCh0KX0pfSl9YWJvcnQoKXt0aGlzLnJlYWRlci5hYm9ydCgpfX1jbGFzcyBmayBleHRlbmRzIGp3e3JlZnJlc2goKXt0aGlzLnZhbHVlPXRoaXMuX2dldFZhbHVlKCk7dGhpcy5pc0VuYWJsZWQ9dGhpcy5fY2hlY2tFbmFibGVkKCl9ZXhlY3V0ZSh0PXt9KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsO2NvbnN0IGk9ZS5zY2hlbWE7Y29uc3Qgbj1lLmRvY3VtZW50LnNlbGVjdGlvbjtjb25zdCBvPUFycmF5LmZyb20obi5nZXRTZWxlY3RlZEJsb2NrcygpKTtjb25zdCByPXQuZm9yY2VWYWx1ZT09PXVuZGVmaW5lZD8hdGhpcy52YWx1ZTp0LmZvcmNlVmFsdWU7ZS5jaGFuZ2UodD0+e2lmKCFyKXt0aGlzLl9yZW1vdmVRdW90ZSh0LG8uZmlsdGVyKGdrKSl9ZWxzZXtjb25zdCBlPW8uZmlsdGVyKHQ9PmdrKHQpfHxwayhpLHQpKTt0aGlzLl9hcHBseVF1b3RlKHQsZSl9fSl9X2dldFZhbHVlKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247Y29uc3QgZT1Xdyh0LmdldFNlbGVjdGVkQmxvY2tzKCkpO3JldHVybiEhKGUmJmdrKGUpKX1fY2hlY2tFbmFibGVkKCl7aWYodGhpcy52YWx1ZSl7cmV0dXJuIHRydWV9Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbC5zY2hlbWE7Y29uc3QgaT1Xdyh0LmdldFNlbGVjdGVkQmxvY2tzKCkpO2lmKCFpKXtyZXR1cm4gZmFsc2V9cmV0dXJuIHBrKGUsaSl9X3JlbW92ZVF1b3RlKHQsZSl7bWsodCxlKS5yZXZlcnNlKCkuZm9yRWFjaChlPT57aWYoZS5zdGFydC5pc0F0U3RhcnQmJmUuZW5kLmlzQXRFbmQpe3QudW53cmFwKGUuc3RhcnQucGFyZW50KTtyZXR1cm59aWYoZS5zdGFydC5pc0F0U3RhcnQpe2NvbnN0IGk9dC5jcmVhdGVQb3NpdGlvbkJlZm9yZShlLnN0YXJ0LnBhcmVudCk7dC5tb3ZlKGUsaSk7cmV0dXJufWlmKCFlLmVuZC5pc0F0RW5kKXt0LnNwbGl0KGUuZW5kKX1jb25zdCBpPXQuY3JlYXRlUG9zaXRpb25BZnRlcihlLmVuZC5wYXJlbnQpO3QubW92ZShlLGkpfSl9X2FwcGx5UXVvdGUodCxlKXtjb25zdCBpPVtdO21rKHQsZSkucmV2ZXJzZSgpLmZvckVhY2goZT0+e2xldCBuPWdrKGUuc3RhcnQpO2lmKCFuKXtuPXQuY3JlYXRlRWxlbWVudChcImJsb2NrUXVvdGVcIik7dC53cmFwKGUsbil9aS5wdXNoKG4pfSk7aS5yZXZlcnNlKCkucmVkdWNlKChlLGkpPT57aWYoZS5uZXh0U2libGluZz09aSl7dC5tZXJnZSh0LmNyZWF0ZVBvc2l0aW9uQWZ0ZXIoZSkpO3JldHVybiBlfXJldHVybiBpfSl9fWZ1bmN0aW9uIGdrKHQpe3JldHVybiB0LnBhcmVudC5uYW1lPT1cImJsb2NrUXVvdGVcIj90LnBhcmVudDpudWxsfWZ1bmN0aW9uIG1rKHQsZSl7bGV0IGk7bGV0IG49MDtjb25zdCBvPVtdO3doaWxlKG48ZS5sZW5ndGgpe2NvbnN0IHI9ZVtuXTtjb25zdCBzPWVbbisxXTtpZighaSl7aT10LmNyZWF0ZVBvc2l0aW9uQmVmb3JlKHIpfWlmKCFzfHxyLm5leHRTaWJsaW5nIT1zKXtvLnB1c2godC5jcmVhdGVSYW5nZShpLHQuY3JlYXRlUG9zaXRpb25BZnRlcihyKSkpO2k9bnVsbH1uKyt9cmV0dXJuIG99ZnVuY3Rpb24gcGsodCxlKXtjb25zdCBpPXQuY2hlY2tDaGlsZChlLnBhcmVudCxcImJsb2NrUXVvdGVcIik7Y29uc3Qgbj10LmNoZWNrQ2hpbGQoW1wiJHJvb3RcIixcImJsb2NrUXVvdGVcIl0sZSk7cmV0dXJuIGkmJm59Y2xhc3MgYmsgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkJsb2NrUXVvdGVFZGl0aW5nXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10Lm1vZGVsLnNjaGVtYTt0LmNvbW1hbmRzLmFkZChcImJsb2NrUXVvdGVcIixuZXcgZmsodCkpO2UucmVnaXN0ZXIoXCJibG9ja1F1b3RlXCIse2FsbG93V2hlcmU6XCIkYmxvY2tcIixhbGxvd0NvbnRlbnRPZjpcIiRyb290XCJ9KTtlLmFkZENoaWxkQ2hlY2soKHQsZSk9PntpZih0LmVuZHNXaXRoKFwiYmxvY2tRdW90ZVwiKSYmZS5uYW1lPT1cImJsb2NrUXVvdGVcIil7cmV0dXJuIGZhbHNlfX0pO3QuY29udmVyc2lvbi5lbGVtZW50VG9FbGVtZW50KHttb2RlbDpcImJsb2NrUXVvdGVcIix2aWV3OlwiYmxvY2txdW90ZVwifSk7dC5tb2RlbC5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcihpPT57Y29uc3Qgbj10Lm1vZGVsLmRvY3VtZW50LmRpZmZlci5nZXRDaGFuZ2VzKCk7Zm9yKGNvbnN0IHQgb2Ygbil7aWYodC50eXBlPT1cImluc2VydFwiKXtjb25zdCBuPXQucG9zaXRpb24ubm9kZUFmdGVyO2lmKCFuKXtjb250aW51ZX1pZihuLmlzKFwiYmxvY2tRdW90ZVwiKSYmbi5pc0VtcHR5KXtpLnJlbW92ZShuKTtyZXR1cm4gdHJ1ZX1lbHNlIGlmKG4uaXMoXCJibG9ja1F1b3RlXCIpJiYhZS5jaGVja0NoaWxkKHQucG9zaXRpb24sbikpe2kudW53cmFwKG4pO3JldHVybiB0cnVlfWVsc2UgaWYobi5pcyhcImVsZW1lbnRcIikpe2NvbnN0IHQ9aS5jcmVhdGVSYW5nZUluKG4pO2Zvcihjb25zdCBuIG9mIHQuZ2V0SXRlbXMoKSl7aWYobi5pcyhcImJsb2NrUXVvdGVcIikmJiFlLmNoZWNrQ2hpbGQoaS5jcmVhdGVQb3NpdGlvbkJlZm9yZShuKSxuKSl7aS51bndyYXAobik7cmV0dXJuIHRydWV9fX19ZWxzZSBpZih0LnR5cGU9PVwicmVtb3ZlXCIpe2NvbnN0IGU9dC5wb3NpdGlvbi5wYXJlbnQ7aWYoZS5pcyhcImJsb2NrUXVvdGVcIikmJmUuaXNFbXB0eSl7aS5yZW1vdmUoZSk7cmV0dXJuIHRydWV9fX1yZXR1cm4gZmFsc2V9KX1hZnRlckluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5jb21tYW5kcy5nZXQoXCJibG9ja1F1b3RlXCIpO3RoaXMubGlzdGVuVG8odGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmRvY3VtZW50LFwiZW50ZXJcIiwodCxpKT0+e2NvbnN0IG49dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQ7Y29uc3Qgbz1uLnNlbGVjdGlvbi5nZXRMYXN0UG9zaXRpb24oKS5wYXJlbnQ7aWYobi5zZWxlY3Rpb24uaXNDb2xsYXBzZWQmJm8uaXNFbXB0eSYmZS52YWx1ZSl7dGhpcy5lZGl0b3IuZXhlY3V0ZShcImJsb2NrUXVvdGVcIik7dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LnNjcm9sbFRvVGhlU2VsZWN0aW9uKCk7aS5wcmV2ZW50RGVmYXVsdCgpO3Quc3RvcCgpfX0pfX12YXIgd2s9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTMgMTAuNDIzYTYuNSA2LjUgMCAwIDEgNi4wNTYtNi40MDhsLjAzOC42N0M2LjQ0OCA1LjQyMyA1LjM1NCA3LjY2MyA1LjIyIDEwSDljLjU1MiAwIC41LjQzMi41Ljk4NnY0LjUxMWMwIC41NTQtLjQ0OC41MDMtMSAuNTAzaC01Yy0uNTUyIDAtLjUtLjQ0OS0uNS0xLjAwM3YtNC41NzR6bTggMGE2LjUgNi41IDAgMCAxIDYuMDU2LTYuNDA4bC4wMzguNjdjLTIuNjQ2LjczOS0zLjc0IDIuOTc5LTMuODczIDUuMzE1SDE3Yy41NTIgMCAuNS40MzIuNS45ODZ2NC41MTFjMCAuNTU0LS40NDguNTAzLTEgLjUwM2gtNWMtLjU1MiAwLS41LS40NDktLjUtMS4wMDN2LTQuNTc0elwiLz48L3N2Zz4nO3ZhciBraz1pKDQ1KTtjbGFzcyBfayBleHRlbmRzIG1we2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC50O3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoXCJibG9ja1F1b3RlXCIsaT0+e2NvbnN0IG49dC5jb21tYW5kcy5nZXQoXCJibG9ja1F1b3RlXCIpO2NvbnN0IG89bmV3IGhiKGkpO28uc2V0KHtsYWJlbDplKFwiamNcIiksaWNvbjp3ayx0b29sdGlwOnRydWUsaXNUb2dnbGVhYmxlOnRydWV9KTtvLmJpbmQoXCJpc09uXCIsXCJpc0VuYWJsZWRcIikudG8obixcInZhbHVlXCIsXCJpc0VuYWJsZWRcIik7dGhpcy5saXN0ZW5UbyhvLFwiZXhlY3V0ZVwiLCgpPT57dC5leGVjdXRlKFwiYmxvY2tRdW90ZVwiKTt0LmVkaXRpbmcudmlldy5mb2N1cygpfSk7cmV0dXJuIG99KX19Y2xhc3MgdmsgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2JrLF9rXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkJsb2NrUXVvdGVcIn19Y2xhc3MgeWsgZXh0ZW5kcyBqd3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpO3RoaXMuYXR0cmlidXRlS2V5PWV9cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3QgZT10LmRvY3VtZW50O3RoaXMudmFsdWU9dGhpcy5fZ2V0VmFsdWVGcm9tRmlyc3RBbGxvd2VkTm9kZSgpO3RoaXMuaXNFbmFibGVkPXQuc2NoZW1hLmNoZWNrQXR0cmlidXRlSW5TZWxlY3Rpb24oZS5zZWxlY3Rpb24sdGhpcy5hdHRyaWJ1dGVLZXkpfWV4ZWN1dGUodD17fSl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBpPWUuZG9jdW1lbnQ7Y29uc3Qgbj1pLnNlbGVjdGlvbjtjb25zdCBvPXQuZm9yY2VWYWx1ZT09PXVuZGVmaW5lZD8hdGhpcy52YWx1ZTp0LmZvcmNlVmFsdWU7ZS5jaGFuZ2UodD0+e2lmKG4uaXNDb2xsYXBzZWQpe2lmKG8pe3Quc2V0U2VsZWN0aW9uQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlS2V5LHRydWUpfWVsc2V7dC5yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXkpfX1lbHNle2NvbnN0IGk9ZS5zY2hlbWEuZ2V0VmFsaWRSYW5nZXMobi5nZXRSYW5nZXMoKSx0aGlzLmF0dHJpYnV0ZUtleSk7Zm9yKGNvbnN0IGUgb2YgaSl7aWYobyl7dC5zZXRBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXksbyxlKX1lbHNle3QucmVtb3ZlQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlS2V5LGUpfX19fSl9X2dldFZhbHVlRnJvbUZpcnN0QWxsb3dlZE5vZGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsO2NvbnN0IGU9dC5zY2hlbWE7Y29uc3QgaT10LmRvY3VtZW50LnNlbGVjdGlvbjtpZihpLmlzQ29sbGFwc2VkKXtyZXR1cm4gaS5oYXNBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXkpfWZvcihjb25zdCB0IG9mIGkuZ2V0UmFuZ2VzKCkpe2Zvcihjb25zdCBpIG9mIHQuZ2V0SXRlbXMoKSl7aWYoZS5jaGVja0F0dHJpYnV0ZShpLHRoaXMuYXR0cmlidXRlS2V5KSl7cmV0dXJuIGkuaGFzQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlS2V5KX19fXJldHVybiBmYWxzZX19Y29uc3QgeGs9XCJib2xkXCI7Y2xhc3MgQ2sgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkJvbGRFZGl0aW5nXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5tb2RlbC5zY2hlbWEuZXh0ZW5kKFwiJHRleHRcIix7YWxsb3dBdHRyaWJ1dGVzOnhrfSk7dC5tb2RlbC5zY2hlbWEuc2V0QXR0cmlidXRlUHJvcGVydGllcyh4ayx7aXNGb3JtYXR0aW5nOnRydWUsY29weU9uRW50ZXI6dHJ1ZX0pO3QuY29udmVyc2lvbi5hdHRyaWJ1dGVUb0VsZW1lbnQoe21vZGVsOnhrLHZpZXc6XCJzdHJvbmdcIix1cGNhc3RBbHNvOltcImJcIix0PT57Y29uc3QgZT10LmdldFN0eWxlKFwiZm9udC13ZWlnaHRcIik7aWYoIWUpe3JldHVybiBudWxsfWlmKGU9PVwiYm9sZFwifHxOdW1iZXIoZSk+PTYwMCl7cmV0dXJue25hbWU6dHJ1ZSxzdHlsZXM6W1wiZm9udC13ZWlnaHRcIl19fX1dfSk7dC5jb21tYW5kcy5hZGQoeGssbmV3IHlrKHQseGspKTt0LmtleXN0cm9rZXMuc2V0KFwiQ1RSTCtCXCIseGspfX12YXIgQWs9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTEwLjE4NyAxN0g1Ljc3M2MtLjYzNyAwLTEuMDkyLS4xMzgtMS4zNjQtLjQxNS0uMjczLS4yNzctLjQwOS0uNzE4LS40MDktMS4zMjNWNC43MzhjMC0uNjE3LjE0LTEuMDYyLjQxOS0xLjMzMi4yNzktLjI3LjczLS40MDYgMS4zNTQtLjQwNmg0LjY4Yy42OSAwIDEuMjg4LjA0MSAxLjc5My4xMjQuNTA2LjA4My45Ni4yNDIgMS4zNi40NzguMzQxLjE5Ny42NDQuNDQ3LjkwNi43NWEzLjI2MiAzLjI2MiAwIDAgMSAuODA4IDIuMTYyYzAgMS40MDEtLjcyMiAyLjQyNi0yLjE2NyAzLjA3NUMxNS4wNSAxMC4xNzUgMTYgMTEuMzE1IDE2IDEzLjAxYTMuNzU2IDMuNzU2IDAgMCAxLTIuMjk2IDMuNTA0IDYuMSA2LjEgMCAwIDEtMS41MTcuMzc3Yy0uNTcxLjA3My0xLjIzOC4xMS0yIC4xMXptLS4yMTctNi4yMTdIN3Y0LjA4N2gzLjA2OWMxLjk3NyAwIDIuOTY1LS42OSAyLjk2NS0yLjA3MiAwLS43MDctLjI1Ni0xLjIyLS43NjgtMS41MzctLjUxMi0uMzE5LTEuMjc3LS40NzgtMi4yOTYtLjQ3OHpNNyA1LjEzdjMuNjE5aDIuNjA2Yy43MjkgMCAxLjI5Mi0uMDY3IDEuNjktLjJhMS42IDEuNiAwIDAgMCAuOTEtLjc2NWMuMTY1LS4yNjcuMjQ3LS41NjYuMjQ3LS44OTcgMC0uNzA3LS4yNi0xLjE3Ni0uNzc4LTEuNDA5LS41MTktLjIzMi0xLjMxLS4zNDgtMi4zNzUtLjM0OEg3elwiLz48L3N2Zz4nO2NvbnN0IFRrPVwiYm9sZFwiO2NsYXNzIFBrIGV4dGVuZHMgbXB7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LnQ7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChUayxpPT57Y29uc3Qgbj10LmNvbW1hbmRzLmdldChUayk7Y29uc3Qgbz1uZXcgaGIoaSk7by5zZXQoe2xhYmVsOmUoXCJqaVwiKSxpY29uOkFrLGtleXN0cm9rZTpcIkNUUkwrQlwiLHRvb2x0aXA6dHJ1ZSxpc1RvZ2dsZWFibGU6dHJ1ZX0pO28uYmluZChcImlzT25cIixcImlzRW5hYmxlZFwiKS50byhuLFwidmFsdWVcIixcImlzRW5hYmxlZFwiKTt0aGlzLmxpc3RlblRvKG8sXCJleGVjdXRlXCIsKCk9Pnt0LmV4ZWN1dGUoVGspO3QuZWRpdGluZy52aWV3LmZvY3VzKCl9KTtyZXR1cm4gb30pfX1jbGFzcyBTayBleHRlbmRzIG1we3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bQ2ssUGtdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiQm9sZFwifX1jbGFzcyBFayBleHRlbmRzIGp3e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCk7dGhpcy5hdHRyaWJ1dGVLZXk9ZX1yZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBlPXQuZG9jdW1lbnQ7dGhpcy52YWx1ZT1lLnNlbGVjdGlvbi5nZXRBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXkpO3RoaXMuaXNFbmFibGVkPXQuc2NoZW1hLmNoZWNrQXR0cmlidXRlSW5TZWxlY3Rpb24oZS5zZWxlY3Rpb24sdGhpcy5hdHRyaWJ1dGVLZXkpfWV4ZWN1dGUodD17fSl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBpPWUuZG9jdW1lbnQ7Y29uc3Qgbj1pLnNlbGVjdGlvbjtjb25zdCBvPXQudmFsdWU7ZS5jaGFuZ2UodD0+e2lmKG4uaXNDb2xsYXBzZWQpe2lmKG8pe3Quc2V0U2VsZWN0aW9uQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlS2V5LG8pfWVsc2V7dC5yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXkpfX1lbHNle2NvbnN0IGk9ZS5zY2hlbWEuZ2V0VmFsaWRSYW5nZXMobi5nZXRSYW5nZXMoKSx0aGlzLmF0dHJpYnV0ZUtleSk7Zm9yKGNvbnN0IGUgb2YgaSl7aWYobyl7dC5zZXRBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXksbyxlKX1lbHNle3QucmVtb3ZlQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlS2V5LGUpfX19fSl9fXZhciBSaz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGNsYXNzPVwiY2staWNvbl9fZmlsbFwiIGQ9XCJNMTYuOTM1IDUuMzI4YTIgMiAwIDAgMSAwIDIuODI5bC03Ljc3OCA3Ljc3OGEyIDIgMCAwIDEtMi44MjkgMEwzLjUgMTMuMTA3YTEuOTk5IDEuOTk5IDAgMSAxIDIuODI4LTIuODI5bC43MDcuNzA3YTEgMSAwIDAgMCAxLjQxNCAwbDUuNjU4LTUuNjU3YTIgMiAwIDAgMSAyLjgyOCAwelwiLz48cGF0aCBkPVwiTTE0LjgxNCA2LjAzNUw4LjQ0OCAxMi40YTEgMSAwIDAgMS0xLjQxNCAwbC0xLjQxMy0xLjQxNUExIDEgMCAxIDAgNC4yMDcgMTIuNGwyLjgyOSAyLjgyOWExIDEgMCAwIDAgMS40MTQgMGw3Ljc3OC03Ljc3OGExIDEgMCAxIDAtMS40MTQtMS40MTV6XCIvPjwvc3ZnPic7Y2xhc3MgT2sgZXh0ZW5kcyBoYntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0KFwiY29sb3JcIik7dGhpcy5zZXQoXCJoYXNCb3JkZXJcIik7dGhpcy5pY29uPVJrO3RoaXMuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e3N0eWxlOntiYWNrZ3JvdW5kQ29sb3I6ZS50byhcImNvbG9yXCIpfSxjbGFzczpbXCJja1wiLFwiY2stY29sb3ItZ3JpZF9fdGlsZVwiLGUuaWYoXCJoYXNCb3JkZXJcIixcImNrLWNvbG9yLXRhYmxlX19jb2xvci10aWxlX2JvcmRlcmVkXCIpXX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTt0aGlzLmljb25WaWV3LmZpbGxDb2xvcj1cImhzbCgwLCAwJSwgMTAwJSlcIn19dmFyIElrPWkoNDcpO2NsYXNzIFZrIGV4dGVuZHMgR3B7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KTtjb25zdCBpPWUmJmUuY29sb3JEZWZpbml0aW9uc3x8W107Y29uc3Qgbj17fTtpZihlJiZlLmNvbHVtbnMpe24uZ3JpZFRlbXBsYXRlQ29sdW1ucz1gcmVwZWF0KCAke2UuY29sdW1uc30sIDFmcilgfXRoaXMuc2V0KFwic2VsZWN0ZWRDb2xvclwiKTt0aGlzLml0ZW1zPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpO3RoaXMuZm9jdXNUcmFja2VyPW5ldyBmYjt0aGlzLmtleXN0cm9rZXM9bmV3IGRwO3RoaXMuX2ZvY3VzQ3ljbGVyPW5ldyB5Yih7Zm9jdXNhYmxlczp0aGlzLml0ZW1zLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOlwiYXJyb3dsZWZ0XCIsZm9jdXNOZXh0OlwiYXJyb3dyaWdodFwifX0pO3RoaXMuaXRlbXMub24oXCJhZGRcIiwodCxlKT0+e2UuaXNPbj1lLmNvbG9yPT09dGhpcy5zZWxlY3RlZENvbG9yfSk7aS5mb3JFYWNoKHQ9Pntjb25zdCBlPW5ldyBPaztlLnNldCh7Y29sb3I6dC5jb2xvcixsYWJlbDp0LmxhYmVsLHRvb2x0aXA6dHJ1ZSxoYXNCb3JkZXI6dC5vcHRpb25zLmhhc0JvcmRlcn0pO2Uub24oXCJleGVjdXRlXCIsKCk9Pnt0aGlzLmZpcmUoXCJleGVjdXRlXCIse3ZhbHVlOnQuY29sb3IsaGFzQm9yZGVyOnQub3B0aW9ucy5oYXNCb3JkZXIsbGFiZWw6dC5sYWJlbH0pfSk7dGhpcy5pdGVtcy5hZGQoZSl9KTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixjaGlsZHJlbjp0aGlzLml0ZW1zLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1jb2xvci1ncmlkXCJdLHN0eWxlOm59fSk7dGhpcy5vbihcImNoYW5nZTpzZWxlY3RlZENvbG9yXCIsKHQsZSxpKT0+e2Zvcihjb25zdCB0IG9mIHRoaXMuaXRlbXMpe3QuaXNPbj10LmNvbG9yPT09aX19KX1mb2N1cygpe2lmKHRoaXMuaXRlbXMubGVuZ3RoKXt0aGlzLml0ZW1zLmZpcnN0LmZvY3VzKCl9fWZvY3VzTGFzdCgpe2lmKHRoaXMuaXRlbXMubGVuZ3RoKXt0aGlzLml0ZW1zLmxhc3QuZm9jdXMoKX19cmVuZGVyKCl7c3VwZXIucmVuZGVyKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5pdGVtcyl7dGhpcy5mb2N1c1RyYWNrZXIuYWRkKHQuZWxlbWVudCl9dGhpcy5pdGVtcy5vbihcImFkZFwiLCh0LGUpPT57dGhpcy5mb2N1c1RyYWNrZXIuYWRkKGUuZWxlbWVudCl9KTt0aGlzLml0ZW1zLm9uKFwicmVtb3ZlXCIsKHQsZSk9Pnt0aGlzLmZvY3VzVHJhY2tlci5yZW1vdmUoZS5lbGVtZW50KX0pO3RoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpfX12YXIgTms9aSg0OSk7Y2xhc3MgTWsgZXh0ZW5kcyBHcHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTt0aGlzLnNldChcInRleHRcIik7dGhpcy5zZXQoXCJmb3JcIik7dGhpcy5pZD1gY2stZWRpdG9yX19sYWJlbF8ke2lzKCl9YDtjb25zdCBlPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImxhYmVsXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWxhYmVsXCJdLGlkOnRoaXMuaWQsZm9yOmUudG8oXCJmb3JcIil9LGNoaWxkcmVuOlt7dGV4dDplLnRvKFwidGV4dFwiKX1dfSl9fWNsYXNzIEJrIGV4dGVuZHMgeXN7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7dGhpcy5zZXQoXCJpc0VtcHR5XCIsdHJ1ZSl9YWRkKHQsZSl7aWYodGhpcy5maW5kKGU9PmUuY29sb3I9PT10LmNvbG9yKSl7cmV0dXJufXN1cGVyLmFkZCh0LGUpO3RoaXMuc2V0KFwiaXNFbXB0eVwiLGZhbHNlKX1yZW1vdmUodCl7Y29uc3QgZT1zdXBlci5yZW1vdmUodCk7aWYodGhpcy5sZW5ndGg9PT0wKXt0aGlzLnNldChcImlzRW1wdHlcIix0cnVlKX1yZXR1cm4gZX1oYXNDb2xvcih0KXtyZXR1cm4hIXRoaXMuZmluZChlPT5lLmNvbG9yPT09dCl9fXZzKEJrLEpjKTt2YXIgems9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTguNjM2IDkuNTMxbC0yLjc1OCAzLjk0YS41LjUgMCAwIDAgLjEyMi42OTZsMy4yMjQgMi4yODRoMS4zMTRsMi42MzYtMy43MzZMOC42MzYgOS41M3ptLjI4OCA4LjQ1MUw1LjE0IDE1LjM5NmEyIDIgMCAwIDEtLjQ5MS0yLjc4Nmw2LjY3My05LjUzYTIgMiAwIDAgMSAyLjc4NS0uNDlsMy43NDIgMi42MmEyIDIgMCAwIDEgLjQ5MSAyLjc4NWwtNy4yNjkgMTAuMDUzLTIuMTQ3LS4wNjZ6XCIvPjxwYXRoIGQ9XCJNNCAxOGg1LjUyM3YtMUg0em0tMiAwaDF2LTFIMnpcIi8+PC9zdmc+Jzt2YXIgTGs9aSg1MSk7Y2xhc3MgRmsgZXh0ZW5kcyBHcHtjb25zdHJ1Y3Rvcih0LHtjb2xvcnM6ZSxjb2x1bW5zOmkscmVtb3ZlQnV0dG9uTGFiZWw6bixkb2N1bWVudENvbG9yc0xhYmVsOm8sZG9jdW1lbnRDb2xvcnNDb3VudDpyfSl7c3VwZXIodCk7dGhpcy5pdGVtcz10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKTt0aGlzLmNvbG9yRGVmaW5pdGlvbnM9ZTt0aGlzLmZvY3VzVHJhY2tlcj1uZXcgZmI7dGhpcy5rZXlzdHJva2VzPW5ldyBkcDt0aGlzLnNldChcInNlbGVjdGVkQ29sb3JcIik7dGhpcy5yZW1vdmVCdXR0b25MYWJlbD1uO3RoaXMuY29sdW1ucz1pO3RoaXMuZG9jdW1lbnRDb2xvcnM9bmV3IEJrO3RoaXMuZG9jdW1lbnRDb2xvcnNDb3VudD1yO3RoaXMuX2ZvY3VzQ3ljbGVyPW5ldyB5Yih7Zm9jdXNhYmxlczp0aGlzLml0ZW1zLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOlwiYXJyb3d1cFwiLGZvY3VzTmV4dDpcImFycm93ZG93blwifX0pO3RoaXMuX2RvY3VtZW50Q29sb3JzTGFiZWw9bzt0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stY29sb3ItdGFibGVcIl19LGNoaWxkcmVuOnRoaXMuaXRlbXN9KTt0aGlzLml0ZW1zLmFkZCh0aGlzLl9yZW1vdmVDb2xvckJ1dHRvbigpKX11cGRhdGVEb2N1bWVudENvbG9ycyh0LGUpe2NvbnN0IGk9dC5kb2N1bWVudDtjb25zdCBuPXRoaXMuZG9jdW1lbnRDb2xvcnNDb3VudDt0aGlzLmRvY3VtZW50Q29sb3JzLmNsZWFyKCk7Zm9yKGNvbnN0IG8gb2YgaS5nZXRSb290TmFtZXMoKSl7Y29uc3Qgcj1pLmdldFJvb3Qobyk7Y29uc3Qgcz10LmNyZWF0ZVJhbmdlSW4ocik7Zm9yKGNvbnN0IHQgb2Ygcy5nZXRJdGVtcygpKXtpZih0LmlzKFwidGV4dFByb3h5XCIpJiZ0Lmhhc0F0dHJpYnV0ZShlKSl7dGhpcy5fYWRkQ29sb3JUb0RvY3VtZW50Q29sb3JzKHQuZ2V0QXR0cmlidXRlKGUpKTtpZih0aGlzLmRvY3VtZW50Q29sb3JzLmxlbmd0aD49bil7cmV0dXJufX19fX11cGRhdGVTZWxlY3RlZENvbG9ycygpe2NvbnN0IHQ9dGhpcy5kb2N1bWVudENvbG9yc0dyaWQ7Y29uc3QgZT10aGlzLnN0YXRpY0NvbG9yc0dyaWQ7Y29uc3QgaT10aGlzLnNlbGVjdGVkQ29sb3I7ZS5zZWxlY3RlZENvbG9yPWk7aWYodCl7dC5zZWxlY3RlZENvbG9yPWl9fXJlbmRlcigpe3N1cGVyLnJlbmRlcigpO2Zvcihjb25zdCB0IG9mIHRoaXMuaXRlbXMpe3RoaXMuZm9jdXNUcmFja2VyLmFkZCh0LmVsZW1lbnQpfXRoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpfWFwcGVuZEdyaWRzKCl7aWYodGhpcy5zdGF0aWNDb2xvcnNHcmlkKXtyZXR1cm59dGhpcy5zdGF0aWNDb2xvcnNHcmlkPXRoaXMuX2NyZWF0ZVN0YXRpY0NvbG9yc0dyaWQoKTt0aGlzLml0ZW1zLmFkZCh0aGlzLnN0YXRpY0NvbG9yc0dyaWQpO2lmKHRoaXMuZG9jdW1lbnRDb2xvcnNDb3VudCl7Y29uc3QgdD1fcC5iaW5kKHRoaXMuZG9jdW1lbnRDb2xvcnMsdGhpcy5kb2N1bWVudENvbG9ycyk7Y29uc3QgZT1uZXcgTWsodGhpcy5sb2NhbGUpO2UudGV4dD10aGlzLl9kb2N1bWVudENvbG9yc0xhYmVsO2UuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1jb2xvci1ncmlkX19sYWJlbFwiLHQuaWYoXCJpc0VtcHR5XCIsXCJjay1oaWRkZW5cIildfX0pO3RoaXMuaXRlbXMuYWRkKGUpO3RoaXMuZG9jdW1lbnRDb2xvcnNHcmlkPXRoaXMuX2NyZWF0ZURvY3VtZW50Q29sb3JzR3JpZCgpO3RoaXMuaXRlbXMuYWRkKHRoaXMuZG9jdW1lbnRDb2xvcnNHcmlkKX19Zm9jdXMoKXt0aGlzLl9mb2N1c0N5Y2xlci5mb2N1c0ZpcnN0KCl9Zm9jdXNMYXN0KCl7dGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNMYXN0KCl9X3JlbW92ZUNvbG9yQnV0dG9uKCl7Y29uc3QgdD1uZXcgaGI7dC5zZXQoe3dpdGhUZXh0OnRydWUsaWNvbjp6ayx0b29sdGlwOnRydWUsbGFiZWw6dGhpcy5yZW1vdmVCdXR0b25MYWJlbH0pO3QuY2xhc3M9XCJjay1jb2xvci10YWJsZV9fcmVtb3ZlLWNvbG9yXCI7dC5vbihcImV4ZWN1dGVcIiwoKT0+e3RoaXMuZmlyZShcImV4ZWN1dGVcIix7dmFsdWU6bnVsbH0pfSk7cmV0dXJuIHR9X2NyZWF0ZVN0YXRpY0NvbG9yc0dyaWQoKXtjb25zdCB0PW5ldyBWayh0aGlzLmxvY2FsZSx7Y29sb3JEZWZpbml0aW9uczp0aGlzLmNvbG9yRGVmaW5pdGlvbnMsY29sdW1uczp0aGlzLmNvbHVtbnN9KTt0LmRlbGVnYXRlKFwiZXhlY3V0ZVwiKS50byh0aGlzKTtyZXR1cm4gdH1fY3JlYXRlRG9jdW1lbnRDb2xvcnNHcmlkKCl7Y29uc3QgdD1fcC5iaW5kKHRoaXMuZG9jdW1lbnRDb2xvcnMsdGhpcy5kb2N1bWVudENvbG9ycyk7Y29uc3QgZT1uZXcgVmsodGhpcy5sb2NhbGUse2NvbHVtbnM6dGhpcy5jb2x1bW5zfSk7ZS5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8odGhpcyk7ZS5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6dC5pZihcImlzRW1wdHlcIixcImNrLWhpZGRlblwiKX19KTtlLml0ZW1zLmJpbmRUbyh0aGlzLmRvY3VtZW50Q29sb3JzKS51c2luZyh0PT57Y29uc3QgZT1uZXcgT2s7ZS5zZXQoe2NvbG9yOnQuY29sb3IsaGFzQm9yZGVyOnQub3B0aW9ucyYmdC5vcHRpb25zLmhhc0JvcmRlcn0pO2lmKHQubGFiZWwpe2Uuc2V0KHtsYWJlbDp0LmxhYmVsLHRvb2x0aXA6dHJ1ZX0pfWUub24oXCJleGVjdXRlXCIsKCk9Pnt0aGlzLmZpcmUoXCJleGVjdXRlXCIse3ZhbHVlOnQuY29sb3J9KX0pO3JldHVybiBlfSk7dGhpcy5kb2N1bWVudENvbG9ycy5vbihcImNoYW5nZTppc0VtcHR5XCIsKHQsaSxuKT0+e2lmKG4pe2Uuc2VsZWN0ZWRDb2xvcj1udWxsfX0pO3JldHVybiBlfV9hZGRDb2xvclRvRG9jdW1lbnRDb2xvcnModCl7Y29uc3QgZT10aGlzLmNvbG9yRGVmaW5pdGlvbnMuZmluZChlPT5lLmNvbG9yPT09dCk7aWYoIWUpe3RoaXMuZG9jdW1lbnRDb2xvcnMuYWRkKHtjb2xvcjp0LGxhYmVsOnQsb3B0aW9uczp7aGFzQm9yZGVyOmZhbHNlfX0pfWVsc2V7dGhpcy5kb2N1bWVudENvbG9ycy5hZGQoT2JqZWN0LmFzc2lnbih7fSxlKSl9fX1jb25zdCBEaz1cImZvbnRTaXplXCI7Y29uc3Qgams9XCJmb250RmFtaWx5XCI7Y29uc3QgSGs9XCJmb250Q29sb3JcIjtjb25zdCBXaz1cImZvbnRCYWNrZ3JvdW5kQ29sb3JcIjtmdW5jdGlvbiBxayh0LGUpe2NvbnN0IGk9e21vZGVsOntrZXk6dCx2YWx1ZXM6W119LHZpZXc6e30sdXBjYXN0QWxzbzp7fX07Zm9yKGNvbnN0IHQgb2YgZSl7aS5tb2RlbC52YWx1ZXMucHVzaCh0Lm1vZGVsKTtpLnZpZXdbdC5tb2RlbF09dC52aWV3O2lmKHQudXBjYXN0QWxzbyl7aS51cGNhc3RBbHNvW3QubW9kZWxdPXQudXBjYXN0QWxzb319cmV0dXJuIGl9ZnVuY3Rpb24gVWsodCl7cmV0dXJuIGU9PktrKGUuZ2V0U3R5bGUodCkpfWZ1bmN0aW9uICRrKHQpe3JldHVybihlLGkpPT5pLmNyZWF0ZUF0dHJpYnV0ZUVsZW1lbnQoXCJzcGFuXCIse3N0eWxlOmAke3R9OiR7ZX1gfSx7cHJpb3JpdHk6N30pfWZ1bmN0aW9uIEdrKHtkcm9wZG93blZpZXc6dCxjb2xvcnM6ZSxjb2x1bW5zOmkscmVtb3ZlQnV0dG9uTGFiZWw6bixkb2N1bWVudENvbG9yc0xhYmVsOm8sZG9jdW1lbnRDb2xvcnNDb3VudDpyfSl7Y29uc3Qgcz10LmxvY2FsZTtjb25zdCBhPW5ldyBGayhzLHtjb2xvcnM6ZSxjb2x1bW5zOmkscmVtb3ZlQnV0dG9uTGFiZWw6bixkb2N1bWVudENvbG9yc0xhYmVsOm8sZG9jdW1lbnRDb2xvcnNDb3VudDpyfSk7dC5jb2xvclRhYmxlVmlldz1hO3QucGFuZWxWaWV3LmNoaWxkcmVuLmFkZChhKTthLmRlbGVnYXRlKFwiZXhlY3V0ZVwiKS50byh0LFwiZXhlY3V0ZVwiKTtyZXR1cm4gYX1mdW5jdGlvbiBLayh0KXtyZXR1cm4gdC5yZXBsYWNlKC9cXHMvZyxcIlwiKX1jbGFzcyBKayBleHRlbmRzIEVre2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsamspfX1mdW5jdGlvbiBZayh0KXtyZXR1cm4gdC5tYXAoUWspLmZpbHRlcih0PT4hIXQpfWZ1bmN0aW9uIFFrKHQpe2lmKHR5cGVvZiB0PT09XCJvYmplY3RcIil7cmV0dXJuIHR9aWYodD09PVwiZGVmYXVsdFwiKXtyZXR1cm57dGl0bGU6XCJEZWZhdWx0XCIsbW9kZWw6dW5kZWZpbmVkfX1pZih0eXBlb2YgdCE9PVwic3RyaW5nXCIpe3JldHVybn1yZXR1cm4gWGsodCl9ZnVuY3Rpb24gWGsodCl7Y29uc3QgZT10LnJlcGxhY2UoL1wifCcvZyxcIlwiKS5zcGxpdChcIixcIik7Y29uc3QgaT1lWzBdO2NvbnN0IG49ZS5tYXAoWmspLmpvaW4oXCIsIFwiKTtyZXR1cm57dGl0bGU6aSxtb2RlbDppLHZpZXc6e25hbWU6XCJzcGFuXCIsc3R5bGVzOntcImZvbnQtZmFtaWx5XCI6bn0scHJpb3JpdHk6N319fWZ1bmN0aW9uIFprKHQpe3Q9dC50cmltKCk7aWYodC5pbmRleE9mKFwiIFwiKT4wKXt0PWAnJHt0fSdgfXJldHVybiB0fWNsYXNzIHRfIGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJGb250RmFtaWx5RWRpdGluZ1wifWNvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3QuY29uZmlnLmRlZmluZShqayx7b3B0aW9uczpbXCJkZWZhdWx0XCIsXCJBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmXCIsXCJDb3VyaWVyIE5ldywgQ291cmllciwgbW9ub3NwYWNlXCIsXCJHZW9yZ2lhLCBzZXJpZlwiLFwiTHVjaWRhIFNhbnMgVW5pY29kZSwgTHVjaWRhIEdyYW5kZSwgc2Fucy1zZXJpZlwiLFwiVGFob21hLCBHZW5ldmEsIHNhbnMtc2VyaWZcIixcIlRpbWVzIE5ldyBSb21hbiwgVGltZXMsIHNlcmlmXCIsXCJUcmVidWNoZXQgTVMsIEhlbHZldGljYSwgc2Fucy1zZXJpZlwiLFwiVmVyZGFuYSwgR2VuZXZhLCBzYW5zLXNlcmlmXCJdfSl9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5tb2RlbC5zY2hlbWEuZXh0ZW5kKFwiJHRleHRcIix7YWxsb3dBdHRyaWJ1dGVzOmprfSk7dC5tb2RlbC5zY2hlbWEuc2V0QXR0cmlidXRlUHJvcGVydGllcyhqayx7aXNGb3JtYXR0aW5nOnRydWUsY29weU9uRW50ZXI6dHJ1ZX0pO2NvbnN0IGU9WWsodC5jb25maWcuZ2V0KFwiZm9udEZhbWlseS5vcHRpb25zXCIpKS5maWx0ZXIodD0+dC5tb2RlbCk7Y29uc3QgaT1xayhqayxlKTt0LmNvbnZlcnNpb24uYXR0cmlidXRlVG9FbGVtZW50KGkpO3QuY29tbWFuZHMuYWRkKGprLG5ldyBKayh0KSl9fWNsYXNzIGVfe2NvbnN0cnVjdG9yKHQsZSl7aWYoZSl7cWModGhpcyxlKX1pZih0KXt0aGlzLnNldCh0KX19fXZzKGVfLEpjKTt2YXIgaV89Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTExLjAzIDNoNi4xNDlhLjc1Ljc1IDAgMSAxIDAgMS41aC01LjUxNEwxMS4wMyAzem0xLjI3IDNoNC44NzlhLjc1Ljc1IDAgMSAxIDAgMS41aC00LjI0NEwxMi4zIDZ6bTEuMjcgM2gzLjYwOWEuNzUuNzUgMCAxIDEgMCAxLjVoLTIuOTczTDEzLjU3IDl6bS0yLjc1NCAyLjVMOC4wMzggNC43ODUgNS4yNjEgMTEuNWg1LjU1NXptLjYyIDEuNUg0LjY0MWwtMS42NjYgNC4wMjhIMS4zMTJsNS43ODktMTRoMS44NzVsNS43ODkgMTRoLTEuNjYzTDExLjQzNiAxM3pcIi8+PC9zdmc+JztjbGFzcyBuXyBleHRlbmRzIG1we2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC50O2NvbnN0IGk9dGhpcy5fZ2V0TG9jYWxpemVkT3B0aW9ucygpO2NvbnN0IG49dC5jb21tYW5kcy5nZXQoamspO3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoamssbz0+e2NvbnN0IHI9V2Iobyk7VWIocixvXyhpLG4pKTtyLmJ1dHRvblZpZXcuc2V0KHtsYWJlbDplKFwiam9cIiksaWNvbjppXyx0b29sdGlwOnRydWV9KTtyLmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntjbGFzczpcImNrLWZvbnQtZmFtaWx5LWRyb3Bkb3duXCJ9fSk7ci5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKG4pO3RoaXMubGlzdGVuVG8ocixcImV4ZWN1dGVcIixlPT57dC5leGVjdXRlKGUuc291cmNlLmNvbW1hbmROYW1lLHt2YWx1ZTplLnNvdXJjZS5jb21tYW5kUGFyYW19KTt0LmVkaXRpbmcudmlldy5mb2N1cygpfSk7cmV0dXJuIHJ9KX1fZ2V0TG9jYWxpemVkT3B0aW9ucygpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LnQ7Y29uc3QgaT1Zayh0LmNvbmZpZy5nZXQoamspLm9wdGlvbnMpO3JldHVybiBpLm1hcCh0PT57aWYodC50aXRsZT09PVwiRGVmYXVsdFwiKXt0LnRpdGxlPWUoXCJqcFwiKX1yZXR1cm4gdH0pfX1mdW5jdGlvbiBvXyh0LGUpe2NvbnN0IGk9bmV3IHlzO2Zvcihjb25zdCBuIG9mIHQpe2NvbnN0IHQ9e3R5cGU6XCJidXR0b25cIixtb2RlbDpuZXcgZV8oe2NvbW1hbmROYW1lOmprLGNvbW1hbmRQYXJhbTpuLm1vZGVsLGxhYmVsOm4udGl0bGUsd2l0aFRleHQ6dHJ1ZX0pfTt0Lm1vZGVsLmJpbmQoXCJpc09uXCIpLnRvKGUsXCJ2YWx1ZVwiLHQ9PnQ9PT1uLm1vZGVsKTtpZihuLnZpZXcmJm4udmlldy5zdHlsZXMpe3QubW9kZWwuc2V0KFwibGFiZWxTdHlsZVwiLGBmb250LWZhbWlseTogJHtuLnZpZXcuc3R5bGVzW1wiZm9udC1mYW1pbHlcIl19YCl9aS5hZGQodCl9cmV0dXJuIGl9Y2xhc3Mgcl8gZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW3RfLG5fXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkZvbnRGYW1pbHlcIn19Y2xhc3Mgc18gZXh0ZW5kcyBFa3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0LERrKX19ZnVuY3Rpb24gYV8odCl7cmV0dXJuIHQubWFwKGxfKS5maWx0ZXIodD0+ISF0KX1jb25zdCBjXz17dGlueTp7dGl0bGU6XCJUaW55XCIsbW9kZWw6XCJ0aW55XCIsdmlldzp7bmFtZTpcInNwYW5cIixjbGFzc2VzOlwidGV4dC10aW55XCIscHJpb3JpdHk6N319LHNtYWxsOnt0aXRsZTpcIlNtYWxsXCIsbW9kZWw6XCJzbWFsbFwiLHZpZXc6e25hbWU6XCJzcGFuXCIsY2xhc3NlczpcInRleHQtc21hbGxcIixwcmlvcml0eTo3fX0sYmlnOnt0aXRsZTpcIkJpZ1wiLG1vZGVsOlwiYmlnXCIsdmlldzp7bmFtZTpcInNwYW5cIixjbGFzc2VzOlwidGV4dC1iaWdcIixwcmlvcml0eTo3fX0saHVnZTp7dGl0bGU6XCJIdWdlXCIsbW9kZWw6XCJodWdlXCIsdmlldzp7bmFtZTpcInNwYW5cIixjbGFzc2VzOlwidGV4dC1odWdlXCIscHJpb3JpdHk6N319fTtmdW5jdGlvbiBsXyh0KXtpZih0eXBlb2YgdD09PVwib2JqZWN0XCIpe3JldHVybiB0fWlmKGNfW3RdKXtyZXR1cm4gY19bdF19aWYodD09PVwiZGVmYXVsdFwiKXtyZXR1cm57bW9kZWw6dW5kZWZpbmVkLHRpdGxlOlwiRGVmYXVsdFwifX1jb25zdCBlPXBhcnNlRmxvYXQodCk7aWYoaXNOYU4oZSkpe3JldHVybn1yZXR1cm4gZF8oZSl9ZnVuY3Rpb24gZF8odCl7Y29uc3QgZT1TdHJpbmcodCk7cmV0dXJue3RpdGxlOmUsbW9kZWw6dCx2aWV3OntuYW1lOlwic3BhblwiLHN0eWxlczp7XCJmb250LXNpemVcIjpgJHt0fXB4YH0scHJpb3JpdHk6N319fWNsYXNzIHVfIGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJGb250U2l6ZUVkaXRpbmdcIn1jb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTt0LmNvbmZpZy5kZWZpbmUoRGsse29wdGlvbnM6W1widGlueVwiLFwic21hbGxcIixcImRlZmF1bHRcIixcImJpZ1wiLFwiaHVnZVwiXX0pO2NvbnN0IGU9YV8odGhpcy5lZGl0b3IuY29uZmlnLmdldChcImZvbnRTaXplLm9wdGlvbnNcIikpLmZpbHRlcih0PT50Lm1vZGVsKTtjb25zdCBpPXFrKERrLGUpO3QuY29udmVyc2lvbi5hdHRyaWJ1dGVUb0VsZW1lbnQoaSk7dC5jb21tYW5kcy5hZGQoRGssbmV3IHNfKHQpKX1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjt0Lm1vZGVsLnNjaGVtYS5leHRlbmQoXCIkdGV4dFwiLHthbGxvd0F0dHJpYnV0ZXM6RGt9KTt0Lm1vZGVsLnNjaGVtYS5zZXRBdHRyaWJ1dGVQcm9wZXJ0aWVzKERrLHtpc0Zvcm1hdHRpbmc6dHJ1ZSxjb3B5T25FbnRlcjp0cnVlfSl9fXZhciBoXz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNOS44MTYgMTEuNUw3LjAzOCA0Ljc4NSA0LjI2MSAxMS41aDUuNTU1em0uNjIgMS41SDMuNjQxbC0xLjY2NiA0LjAyOEguMzEybDUuNzg5LTE0aDEuODc1bDUuNzg5IDE0aC0xLjY2M0wxMC40MzYgMTN6bTcuNTUgMi4yNzlsLjc3OS0uNzc5LjcwNy43MDctMi4yNjUgMi4yNjUtMi4xOTMtMi4yNjUuNzA3LS43MDcuNzY1Ljc2NVY0LjgyNWMwLS4wNDIgMC0uMDgzLjAwMi0uMTIzbC0uNzcuNzctLjcwNy0uNzA3TDE3LjIwNyAyLjVsMi4yNjUgMi4yNjUtLjcwNy43MDctLjc4Mi0uNzgyYy4wMDIuMDQzLjAwMy4wODkuMDAzLjEzNXYxMC40NTR6XCIvPjwvc3ZnPic7dmFyIGZfPWkoNTMpO2NsYXNzIGdfIGV4dGVuZHMgbXB7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LnQ7Y29uc3QgaT10aGlzLl9nZXRMb2NhbGl6ZWRPcHRpb25zKCk7Y29uc3Qgbj10LmNvbW1hbmRzLmdldChEayk7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChEayxvPT57Y29uc3Qgcj1XYihvKTtVYihyLG1fKGksbikpO3IuYnV0dG9uVmlldy5zZXQoe2xhYmVsOmUoXCJqcVwiKSxpY29uOmhfLHRvb2x0aXA6dHJ1ZX0pO3IuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOltcImNrLWZvbnQtc2l6ZS1kcm9wZG93blwiXX19KTtyLmJpbmQoXCJpc0VuYWJsZWRcIikudG8obik7dGhpcy5saXN0ZW5UbyhyLFwiZXhlY3V0ZVwiLGU9Pnt0LmV4ZWN1dGUoZS5zb3VyY2UuY29tbWFuZE5hbWUse3ZhbHVlOmUuc291cmNlLmNvbW1hbmRQYXJhbX0pO3QuZWRpdGluZy52aWV3LmZvY3VzKCl9KTtyZXR1cm4gcn0pfV9nZXRMb2NhbGl6ZWRPcHRpb25zKCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQudDtjb25zdCBpPXtEZWZhdWx0OmUoXCJqcFwiKSxUaW55OmUoXCJqclwiKSxTbWFsbDplKFwianNcIiksQmlnOmUoXCJqdFwiKSxIdWdlOmUoXCJqdVwiKX07Y29uc3Qgbj1hXyh0LmNvbmZpZy5nZXQoRGspLm9wdGlvbnMpO3JldHVybiBuLm1hcCh0PT57Y29uc3QgZT1pW3QudGl0bGVdO2lmKGUmJmUhPXQudGl0bGUpe3Q9T2JqZWN0LmFzc2lnbih7fSx0LHt0aXRsZTplfSl9cmV0dXJuIHR9KX19ZnVuY3Rpb24gbV8odCxlKXtjb25zdCBpPW5ldyB5cztmb3IoY29uc3QgbiBvZiB0KXtjb25zdCB0PXt0eXBlOlwiYnV0dG9uXCIsbW9kZWw6bmV3IGVfKHtjb21tYW5kTmFtZTpEayxjb21tYW5kUGFyYW06bi5tb2RlbCxsYWJlbDpuLnRpdGxlLGNsYXNzOlwiY2stZm9udHNpemUtb3B0aW9uXCIsd2l0aFRleHQ6dHJ1ZX0pfTtpZihuLnZpZXcmJm4udmlldy5zdHlsZXMpe3QubW9kZWwuc2V0KFwibGFiZWxTdHlsZVwiLGBmb250LXNpemU6JHtuLnZpZXcuc3R5bGVzW1wiZm9udC1zaXplXCJdfWApfWlmKG4udmlldyYmbi52aWV3LmNsYXNzZXMpe3QubW9kZWwuc2V0KFwiY2xhc3NcIixgJHt0Lm1vZGVsLmNsYXNzfSAke24udmlldy5jbGFzc2VzfWApfXQubW9kZWwuYmluZChcImlzT25cIikudG8oZSxcInZhbHVlXCIsdD0+dD09PW4ubW9kZWwpO2kuYWRkKHQpfXJldHVybiBpfWNsYXNzIHBfIGV4dGVuZHMgbXB7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVyblt1XyxnX119c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJGb250U2l6ZVwifX1jbGFzcyBiXyBleHRlbmRzIEVre2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsSGspfX1jbGFzcyB3XyBleHRlbmRzIG1we3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiRm9udENvbG9yRWRpdGluZ1wifWNvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3QuY29uZmlnLmRlZmluZShIayx7Y29sb3JzOlt7Y29sb3I6XCJoc2woMCwgMCUsIDAlKVwiLGxhYmVsOlwiQmxhY2tcIn0se2NvbG9yOlwiaHNsKDAsIDAlLCAzMCUpXCIsbGFiZWw6XCJEaW0gZ3JleVwifSx7Y29sb3I6XCJoc2woMCwgMCUsIDYwJSlcIixsYWJlbDpcIkdyZXlcIn0se2NvbG9yOlwiaHNsKDAsIDAlLCA5MCUpXCIsbGFiZWw6XCJMaWdodCBncmV5XCJ9LHtjb2xvcjpcImhzbCgwLCAwJSwgMTAwJSlcIixsYWJlbDpcIldoaXRlXCIsaGFzQm9yZGVyOnRydWV9LHtjb2xvcjpcImhzbCgwLCA3NSUsIDYwJSlcIixsYWJlbDpcIlJlZFwifSx7Y29sb3I6XCJoc2woMzAsIDc1JSwgNjAlKVwiLGxhYmVsOlwiT3JhbmdlXCJ9LHtjb2xvcjpcImhzbCg2MCwgNzUlLCA2MCUpXCIsbGFiZWw6XCJZZWxsb3dcIn0se2NvbG9yOlwiaHNsKDkwLCA3NSUsIDYwJSlcIixsYWJlbDpcIkxpZ2h0IGdyZWVuXCJ9LHtjb2xvcjpcImhzbCgxMjAsIDc1JSwgNjAlKVwiLGxhYmVsOlwiR3JlZW5cIn0se2NvbG9yOlwiaHNsKDE1MCwgNzUlLCA2MCUpXCIsbGFiZWw6XCJBcXVhbWFyaW5lXCJ9LHtjb2xvcjpcImhzbCgxODAsIDc1JSwgNjAlKVwiLGxhYmVsOlwiVHVycXVvaXNlXCJ9LHtjb2xvcjpcImhzbCgyMTAsIDc1JSwgNjAlKVwiLGxhYmVsOlwiTGlnaHQgYmx1ZVwifSx7Y29sb3I6XCJoc2woMjQwLCA3NSUsIDYwJSlcIixsYWJlbDpcIkJsdWVcIn0se2NvbG9yOlwiaHNsKDI3MCwgNzUlLCA2MCUpXCIsbGFiZWw6XCJQdXJwbGVcIn1dLGNvbHVtbnM6NX0pO3QuY29udmVyc2lvbi5mb3IoXCJ1cGNhc3RcIikuZWxlbWVudFRvQXR0cmlidXRlKHt2aWV3OntuYW1lOlwic3BhblwiLHN0eWxlczp7Y29sb3I6L1tcXHNcXFNdKy99fSxtb2RlbDp7a2V5OkhrLHZhbHVlOlVrKFwiY29sb3JcIil9fSk7dC5jb252ZXJzaW9uLmZvcihcImRvd25jYXN0XCIpLmF0dHJpYnV0ZVRvRWxlbWVudCh7bW9kZWw6SGssdmlldzokayhcImNvbG9yXCIpfSk7dC5jb21tYW5kcy5hZGQoSGssbmV3IGJfKHQpKTt0Lm1vZGVsLnNjaGVtYS5leHRlbmQoXCIkdGV4dFwiLHthbGxvd0F0dHJpYnV0ZXM6SGt9KTt0Lm1vZGVsLnNjaGVtYS5zZXRBdHRyaWJ1dGVQcm9wZXJ0aWVzKEhrLHtpc0Zvcm1hdHRpbmc6dHJ1ZSxjb3B5T25FbnRlcjp0cnVlfSl9fWZ1bmN0aW9uIGtfKHQsZSl7Y29uc3QgaT10LnQ7Y29uc3Qgbj17QmxhY2s6aShcImx4XCIpLFwiRGltIGdyZXlcIjppKFwibHlcIiksR3JleTppKFwibHpcIiksXCJMaWdodCBncmV5XCI6aShcIm1hXCIpLFdoaXRlOmkoXCJtYlwiKSxSZWQ6aShcIm1jXCIpLE9yYW5nZTppKFwibWRcIiksWWVsbG93OmkoXCJtZVwiKSxcIkxpZ2h0IGdyZWVuXCI6aShcIm1mXCIpLEdyZWVuOmkoXCJtZ1wiKSxBcXVhbWFyaW5lOmkoXCJtaFwiKSxUdXJxdW9pc2U6aShcIm1pXCIpLFwiTGlnaHQgYmx1ZVwiOmkoXCJtalwiKSxCbHVlOmkoXCJta1wiKSxQdXJwbGU6aShcIm1sXCIpfTtyZXR1cm4gZS5tYXAodD0+e2NvbnN0IGU9blt0LmxhYmVsXTtpZihlJiZlIT10LmxhYmVsKXt0LmxhYmVsPWV9cmV0dXJuIHR9KX1mdW5jdGlvbiBfXyh0KXtyZXR1cm4gdC5tYXAodl8pLmZpbHRlcih0PT4hIXQpfWZ1bmN0aW9uIHZfKHQpe2lmKHR5cGVvZiB0PT09XCJzdHJpbmdcIil7cmV0dXJue21vZGVsOnQucmVwbGFjZSgvIC9nLFwiXCIpLGxhYmVsOnQsaGFzQm9yZGVyOmZhbHNlLHZpZXc6e25hbWU6XCJzcGFuXCIsc3R5bGVzOntjb2xvcjp0fX19fWVsc2V7cmV0dXJue21vZGVsOnQuY29sb3IucmVwbGFjZSgvIC9nLFwiXCIpLGxhYmVsOnQubGFiZWx8fHQuY29sb3IsaGFzQm9yZGVyOnQuaGFzQm9yZGVyPT09dW5kZWZpbmVkP2ZhbHNlOnQuaGFzQm9yZGVyLHZpZXc6e25hbWU6XCJzcGFuXCIsc3R5bGVzOntjb2xvcjpgJHt0LmNvbG9yfWB9fX19fWNsYXNzIHlfIGV4dGVuZHMgbXB7Y29uc3RydWN0b3IodCx7Y29tbWFuZE5hbWU6ZSxpY29uOmksY29tcG9uZW50TmFtZTpuLGRyb3Bkb3duTGFiZWw6b30pe3N1cGVyKHQpO3RoaXMuY29tbWFuZE5hbWU9ZTt0aGlzLmNvbXBvbmVudE5hbWU9bjt0aGlzLmljb249aTt0aGlzLmRyb3Bkb3duTGFiZWw9bzt0aGlzLmNvbHVtbnM9dC5jb25maWcuZ2V0KGAke3RoaXMuY29tcG9uZW50TmFtZX0uY29sdW1uc2ApO3RoaXMuY29sb3JUYWJsZVZpZXd9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LmxvY2FsZTtjb25zdCBpPWUudDtjb25zdCBuPXQuY29tbWFuZHMuZ2V0KHRoaXMuY29tbWFuZE5hbWUpO2NvbnN0IG89X18odC5jb25maWcuZ2V0KHRoaXMuY29tcG9uZW50TmFtZSkuY29sb3JzKTtjb25zdCByPWtfKGUsbyk7Y29uc3Qgcz10LmNvbmZpZy5nZXQoYCR7dGhpcy5jb21wb25lbnROYW1lfS5kb2N1bWVudENvbG9yc2ApO3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQodGhpcy5jb21wb25lbnROYW1lLGU9Pntjb25zdCBvPVdiKGUpO3RoaXMuY29sb3JUYWJsZVZpZXc9R2soe2Ryb3Bkb3duVmlldzpvLGNvbG9yczpyLm1hcCh0PT4oe2xhYmVsOnQubGFiZWwsY29sb3I6dC5tb2RlbCxvcHRpb25zOntoYXNCb3JkZXI6dC5oYXNCb3JkZXJ9fSkpLGNvbHVtbnM6dGhpcy5jb2x1bW5zLHJlbW92ZUJ1dHRvbkxhYmVsOmkoXCJsaVwiKSxkb2N1bWVudENvbG9yc0xhYmVsOnMhPT0wP2koXCJsalwiKTp1bmRlZmluZWQsZG9jdW1lbnRDb2xvcnNDb3VudDpzPT09dW5kZWZpbmVkP3RoaXMuY29sdW1uczpzfSk7dGhpcy5jb2xvclRhYmxlVmlldy5iaW5kKFwic2VsZWN0ZWRDb2xvclwiKS50byhuLFwidmFsdWVcIik7by5idXR0b25WaWV3LnNldCh7bGFiZWw6dGhpcy5kcm9wZG93bkxhYmVsLGljb246dGhpcy5pY29uLHRvb2x0aXA6dHJ1ZX0pO28uZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOlwiY2stY29sb3ItdWktZHJvcGRvd25cIn19KTtvLmJpbmQoXCJpc0VuYWJsZWRcIikudG8obik7by5vbihcImV4ZWN1dGVcIiwoZSxpKT0+e3QuZXhlY3V0ZSh0aGlzLmNvbW1hbmROYW1lLGkpO3QuZWRpdGluZy52aWV3LmZvY3VzKCl9KTtvLm9uKFwiY2hhbmdlOmlzT3BlblwiLChlLGksbik9PntvLmNvbG9yVGFibGVWaWV3LmFwcGVuZEdyaWRzKCk7aWYobil7aWYocyE9PTApe3RoaXMuY29sb3JUYWJsZVZpZXcudXBkYXRlRG9jdW1lbnRDb2xvcnModC5tb2RlbCx0aGlzLmNvbXBvbmVudE5hbWUpfXRoaXMuY29sb3JUYWJsZVZpZXcudXBkYXRlU2VsZWN0ZWRDb2xvcnMoKX19KTtyZXR1cm4gb30pfX12YXIgeF89Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTEyLjQgMTAuM0wxMCA0LjVsLTIuNCA1LjhoNC44em0uNSAxLjJINy4xTDUuNyAxNUg0LjJsNS0xMmgxLjZsNSAxMmgtMS41TDEzIDExLjV6bTMuMSA3SDRhMSAxIDAgMCAxIDAtMmgxMmExIDEgMCAwIDEgMCAyelwiLz48L3N2Zz4nO2NsYXNzIENfIGV4dGVuZHMgeV97Y29uc3RydWN0b3IodCl7Y29uc3QgZT10LmxvY2FsZS50O3N1cGVyKHQse2NvbW1hbmROYW1lOkhrLGNvbXBvbmVudE5hbWU6SGssaWNvbjp4Xyxkcm9wZG93bkxhYmVsOmUoXCJqdlwiKX0pfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiRm9udENvbG9yVUlcIn19Y2xhc3MgQV8gZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW3dfLENfXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkZvbnRDb2xvclwifX1jbGFzcyBUXyBleHRlbmRzIEVre2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsV2spfX1jbGFzcyBQXyBleHRlbmRzIG1we3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiRm9udEJhY2tncm91bmRDb2xvckVkaXRpbmdcIn1jb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTt0LmNvbmZpZy5kZWZpbmUoV2sse2NvbG9yczpbe2NvbG9yOlwiaHNsKDAsIDAlLCAwJSlcIixsYWJlbDpcIkJsYWNrXCJ9LHtjb2xvcjpcImhzbCgwLCAwJSwgMzAlKVwiLGxhYmVsOlwiRGltIGdyZXlcIn0se2NvbG9yOlwiaHNsKDAsIDAlLCA2MCUpXCIsbGFiZWw6XCJHcmV5XCJ9LHtjb2xvcjpcImhzbCgwLCAwJSwgOTAlKVwiLGxhYmVsOlwiTGlnaHQgZ3JleVwifSx7Y29sb3I6XCJoc2woMCwgMCUsIDEwMCUpXCIsbGFiZWw6XCJXaGl0ZVwiLGhhc0JvcmRlcjp0cnVlfSx7Y29sb3I6XCJoc2woMCwgNzUlLCA2MCUpXCIsbGFiZWw6XCJSZWRcIn0se2NvbG9yOlwiaHNsKDMwLCA3NSUsIDYwJSlcIixsYWJlbDpcIk9yYW5nZVwifSx7Y29sb3I6XCJoc2woNjAsIDc1JSwgNjAlKVwiLGxhYmVsOlwiWWVsbG93XCJ9LHtjb2xvcjpcImhzbCg5MCwgNzUlLCA2MCUpXCIsbGFiZWw6XCJMaWdodCBncmVlblwifSx7Y29sb3I6XCJoc2woMTIwLCA3NSUsIDYwJSlcIixsYWJlbDpcIkdyZWVuXCJ9LHtjb2xvcjpcImhzbCgxNTAsIDc1JSwgNjAlKVwiLGxhYmVsOlwiQXF1YW1hcmluZVwifSx7Y29sb3I6XCJoc2woMTgwLCA3NSUsIDYwJSlcIixsYWJlbDpcIlR1cnF1b2lzZVwifSx7Y29sb3I6XCJoc2woMjEwLCA3NSUsIDYwJSlcIixsYWJlbDpcIkxpZ2h0IGJsdWVcIn0se2NvbG9yOlwiaHNsKDI0MCwgNzUlLCA2MCUpXCIsbGFiZWw6XCJCbHVlXCJ9LHtjb2xvcjpcImhzbCgyNzAsIDc1JSwgNjAlKVwiLGxhYmVsOlwiUHVycGxlXCJ9XSxjb2x1bW5zOjV9KTt0LmNvbnZlcnNpb24uZm9yKFwidXBjYXN0XCIpLmVsZW1lbnRUb0F0dHJpYnV0ZSh7dmlldzp7bmFtZTpcInNwYW5cIixzdHlsZXM6e1wiYmFja2dyb3VuZC1jb2xvclwiOi9bXFxzXFxTXSsvfX0sbW9kZWw6e2tleTpXayx2YWx1ZTpVayhcImJhY2tncm91bmQtY29sb3JcIil9fSk7dC5jb252ZXJzaW9uLmZvcihcImRvd25jYXN0XCIpLmF0dHJpYnV0ZVRvRWxlbWVudCh7bW9kZWw6V2ssdmlldzokayhcImJhY2tncm91bmQtY29sb3JcIil9KTt0LmNvbW1hbmRzLmFkZChXayxuZXcgVF8odCkpO3QubW9kZWwuc2NoZW1hLmV4dGVuZChcIiR0ZXh0XCIse2FsbG93QXR0cmlidXRlczpXa30pO3QubW9kZWwuc2NoZW1hLnNldEF0dHJpYnV0ZVByb3BlcnRpZXMoV2sse2lzRm9ybWF0dGluZzp0cnVlLGNvcHlPbkVudGVyOnRydWV9KX19dmFyIFNfPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk00IDJoMTJhMiAyIDAgMCAxIDIgMnYxMmEyIDIgMCAwIDEtMiAySDRhMiAyIDAgMCAxLTItMlY0YTIgMiAwIDAgMSAyLTJ6bTguMzggOS4yNjJINy42MkwxMCA1LjUwNmwyLjM4IDUuNzU2em0uNTMyIDEuMjg1TDE0LjM0IDE2aDEuNDI2TDEwLjgwNCA0SDkuMTk2TDQuMjM0IDE2SDUuNjZsMS40MjgtMy40NTNoNS44MjR6XCIvPjwvc3ZnPic7Y2xhc3MgRV8gZXh0ZW5kcyB5X3tjb25zdHJ1Y3Rvcih0KXtjb25zdCBlPXQubG9jYWxlLnQ7c3VwZXIodCx7Y29tbWFuZE5hbWU6V2ssY29tcG9uZW50TmFtZTpXayxpY29uOlNfLGRyb3Bkb3duTGFiZWw6ZShcImp3XCIpfSl9c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJGb250QmFja2dyb3VuZENvbG9yVUlcIn19Y2xhc3MgUl8gZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW1BfLEVfXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkZvbnRCYWNrZ3JvdW5kQ29sb3JcIn19Y2xhc3MgT18gZXh0ZW5kcyBqd3tyZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBlPXQuZG9jdW1lbnQ7Y29uc3QgaT1XdyhlLnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTt0aGlzLnZhbHVlPSEhaSYmaS5pcyhcInBhcmFncmFwaFwiKTt0aGlzLmlzRW5hYmxlZD0hIWkmJklfKGksdC5zY2hlbWEpfWV4ZWN1dGUodD17fSl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBpPWUuZG9jdW1lbnQ7ZS5jaGFuZ2Uobj0+e2NvbnN0IG89KHQuc2VsZWN0aW9ufHxpLnNlbGVjdGlvbikuZ2V0U2VsZWN0ZWRCbG9ja3MoKTtmb3IoY29uc3QgdCBvZiBvKXtpZighdC5pcyhcInBhcmFncmFwaFwiKSYmSV8odCxlLnNjaGVtYSkpe24ucmVuYW1lKHQsXCJwYXJhZ3JhcGhcIil9fX0pfX1mdW5jdGlvbiBJXyh0LGUpe3JldHVybiBlLmNoZWNrQ2hpbGQodC5wYXJlbnQsXCJwYXJhZ3JhcGhcIikmJiFlLmlzT2JqZWN0KHQpfWNsYXNzIFZfIGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJQYXJhZ3JhcGhcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQubW9kZWw7Y29uc3QgaT10LmRhdGE7dC5jb21tYW5kcy5hZGQoXCJwYXJhZ3JhcGhcIixuZXcgT18odCkpO2Uuc2NoZW1hLnJlZ2lzdGVyKFwicGFyYWdyYXBoXCIse2luaGVyaXRBbGxGcm9tOlwiJGJsb2NrXCJ9KTt0LmNvbnZlcnNpb24uZWxlbWVudFRvRWxlbWVudCh7bW9kZWw6XCJwYXJhZ3JhcGhcIix2aWV3OlwicFwifSk7dC5jb252ZXJzaW9uLmZvcihcInVwY2FzdFwiKS5lbGVtZW50VG9FbGVtZW50KHttb2RlbDoodCxlKT0+e2lmKCFWXy5wYXJhZ3JhcGhMaWtlRWxlbWVudHMuaGFzKHQubmFtZSkpe3JldHVybiBudWxsfWlmKHQuaXNFbXB0eSl7cmV0dXJuIG51bGx9cmV0dXJuIGUuY3JlYXRlRWxlbWVudChcInBhcmFncmFwaFwiKX0sY29udmVydGVyUHJpb3JpdHk6XCJsb3dcIn0pO2kudXBjYXN0RGlzcGF0Y2hlci5vbihcImVsZW1lbnRcIiwodCxlLGkpPT57aWYoIWkuY29uc3VtYWJsZS50ZXN0KGUudmlld0l0ZW0se25hbWU6ZS52aWV3SXRlbS5uYW1lfSkpe3JldHVybn1pZihNXyhlLnZpZXdJdGVtLGUubW9kZWxDdXJzb3IsaS5zY2hlbWEpKXtPYmplY3QuYXNzaWduKGUsTl8oZS52aWV3SXRlbSxlLm1vZGVsQ3Vyc29yLGkpKX19LHtwcmlvcml0eTpcImxvd1wifSk7aS51cGNhc3REaXNwYXRjaGVyLm9uKFwidGV4dFwiLCh0LGUsaSk9PntpZihlLm1vZGVsUmFuZ2Upe3JldHVybn1pZihNXyhlLnZpZXdJdGVtLGUubW9kZWxDdXJzb3IsaS5zY2hlbWEpKXtPYmplY3QuYXNzaWduKGUsTl8oZS52aWV3SXRlbSxlLm1vZGVsQ3Vyc29yLGkpKX19LHtwcmlvcml0eTpcImxvd2VzdFwifSk7ZS5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcih0PT50aGlzLl9hdXRvcGFyYWdyYXBoRW1wdHlSb290cyh0KSk7dC5kYXRhLm9uKFwicmVhZHlcIiwoKT0+e2UuZW5xdWV1ZUNoYW5nZShcInRyYW5zcGFyZW50XCIsdD0+dGhpcy5fYXV0b3BhcmFncmFwaEVtcHR5Um9vdHModCkpfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pfV9hdXRvcGFyYWdyYXBoRW1wdHlSb290cyh0KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsO2Zvcihjb25zdCBpIG9mIGUuZG9jdW1lbnQuZ2V0Um9vdE5hbWVzKCkpe2NvbnN0IG49ZS5kb2N1bWVudC5nZXRSb290KGkpO2lmKG4uaXNFbXB0eSYmbi5yb290TmFtZSE9XCIkZ3JhdmV5YXJkXCIpe2lmKGUuc2NoZW1hLmNoZWNrQ2hpbGQobixcInBhcmFncmFwaFwiKSl7dC5pbnNlcnRFbGVtZW50KFwicGFyYWdyYXBoXCIsbik7cmV0dXJuIHRydWV9fX19fVZfLnBhcmFncmFwaExpa2VFbGVtZW50cz1uZXcgU2V0KFtcImJsb2NrcXVvdGVcIixcImRkXCIsXCJkaXZcIixcImR0XCIsXCJoMVwiLFwiaDJcIixcImgzXCIsXCJoNFwiLFwiaDVcIixcImg2XCIsXCJsaVwiLFwicFwiLFwidGRcIl0pO2Z1bmN0aW9uIE5fKHQsZSxpKXtjb25zdCBuPWkud3JpdGVyLmNyZWF0ZUVsZW1lbnQoXCJwYXJhZ3JhcGhcIik7aS53cml0ZXIuaW5zZXJ0KG4sZSk7cmV0dXJuIGkuY29udmVydEl0ZW0odCxpLndyaXRlci5jcmVhdGVQb3NpdGlvbkF0KG4sMCkpfWZ1bmN0aW9uIE1fKHQsZSxpKXtjb25zdCBuPWkuY3JlYXRlQ29udGV4dChlKTtpZighaS5jaGVja0NoaWxkKG4sXCJwYXJhZ3JhcGhcIikpe3JldHVybiBmYWxzZX1pZighaS5jaGVja0NoaWxkKG4ucHVzaChcInBhcmFncmFwaFwiKSx0KSl7cmV0dXJuIGZhbHNlfXJldHVybiB0cnVlfWNsYXNzIEJfIGV4dGVuZHMgand7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KTt0aGlzLm1vZGVsRWxlbWVudHM9ZX1yZWZyZXNoKCl7Y29uc3QgdD1Xdyh0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSk7dGhpcy52YWx1ZT0hIXQmJnRoaXMubW9kZWxFbGVtZW50cy5pbmNsdWRlcyh0Lm5hbWUpJiZ0Lm5hbWU7dGhpcy5pc0VuYWJsZWQ9ISF0JiZ0aGlzLm1vZGVsRWxlbWVudHMuc29tZShlPT56Xyh0LGUsdGhpcy5lZGl0b3IubW9kZWwuc2NoZW1hKSl9ZXhlY3V0ZSh0KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsO2NvbnN0IGk9ZS5kb2N1bWVudDtjb25zdCBuPXQudmFsdWU7ZS5jaGFuZ2UodD0+e2NvbnN0IG89QXJyYXkuZnJvbShpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKS5maWx0ZXIodD0+el8odCxuLGUuc2NoZW1hKSk7Zm9yKGNvbnN0IGUgb2Ygbyl7aWYoIWUuaXMobikpe3QucmVuYW1lKGUsbil9fX0pfX1mdW5jdGlvbiB6Xyh0LGUsaSl7cmV0dXJuIGkuY2hlY2tDaGlsZCh0LnBhcmVudCxlKSYmIWkuaXNPYmplY3QodCl9Y29uc3QgTF89XCJwYXJhZ3JhcGhcIjtjbGFzcyBGXyBleHRlbmRzIG1we3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSGVhZGluZ0VkaXRpbmdcIn1jb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTt0LmNvbmZpZy5kZWZpbmUoXCJoZWFkaW5nXCIse29wdGlvbnM6W3ttb2RlbDpcInBhcmFncmFwaFwiLHRpdGxlOlwiUGFyYWdyYXBoXCIsY2xhc3M6XCJjay1oZWFkaW5nX3BhcmFncmFwaFwifSx7bW9kZWw6XCJoZWFkaW5nMVwiLHZpZXc6XCJoMlwiLHRpdGxlOlwiSGVhZGluZyAxXCIsY2xhc3M6XCJjay1oZWFkaW5nX2hlYWRpbmcxXCJ9LHttb2RlbDpcImhlYWRpbmcyXCIsdmlldzpcImgzXCIsdGl0bGU6XCJIZWFkaW5nIDJcIixjbGFzczpcImNrLWhlYWRpbmdfaGVhZGluZzJcIn0se21vZGVsOlwiaGVhZGluZzNcIix2aWV3OlwiaDRcIix0aXRsZTpcIkhlYWRpbmcgM1wiLGNsYXNzOlwiY2staGVhZGluZ19oZWFkaW5nM1wifV19KX1zdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW1ZfXX1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQuY29uZmlnLmdldChcImhlYWRpbmcub3B0aW9uc1wiKTtjb25zdCBpPVtdO2Zvcihjb25zdCBuIG9mIGUpe2lmKG4ubW9kZWwhPT1MXyl7dC5tb2RlbC5zY2hlbWEucmVnaXN0ZXIobi5tb2RlbCx7aW5oZXJpdEFsbEZyb206XCIkYmxvY2tcIn0pO3QuY29udmVyc2lvbi5lbGVtZW50VG9FbGVtZW50KG4pO2kucHVzaChuLm1vZGVsKX19dGhpcy5fYWRkRGVmYXVsdEgxQ29udmVyc2lvbih0KTt0LmNvbW1hbmRzLmFkZChcImhlYWRpbmdcIixuZXcgQl8odCxpKSl9YWZ0ZXJJbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQuY29tbWFuZHMuZ2V0KFwiZW50ZXJcIik7Y29uc3QgaT10LmNvbmZpZy5nZXQoXCJoZWFkaW5nLm9wdGlvbnNcIik7aWYoZSl7dGhpcy5saXN0ZW5UbyhlLFwiYWZ0ZXJFeGVjdXRlXCIsKGUsbik9Pntjb25zdCBvPXQubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKS5wYXJlbnQ7Y29uc3Qgcj1pLnNvbWUodD0+by5pcyh0Lm1vZGVsKSk7aWYociYmIW8uaXMoTF8pJiZvLmNoaWxkQ291bnQ9PT0wKXtuLndyaXRlci5yZW5hbWUobyxMXyl9fSl9fV9hZGREZWZhdWx0SDFDb252ZXJzaW9uKHQpe3QuY29udmVyc2lvbi5mb3IoXCJ1cGNhc3RcIikuZWxlbWVudFRvRWxlbWVudCh7bW9kZWw6XCJoZWFkaW5nMVwiLHZpZXc6XCJoMVwiLGNvbnZlcnRlclByaW9yaXR5Om9zLmdldChcImxvd1wiKSsxfSl9fWZ1bmN0aW9uIERfKHQpe2NvbnN0IGU9dC50O2NvbnN0IGk9e1BhcmFncmFwaDplKFwibnlcIiksXCJIZWFkaW5nIDFcIjplKFwibnpcIiksXCJIZWFkaW5nIDJcIjplKFwib2FcIiksXCJIZWFkaW5nIDNcIjplKFwib2JcIiksXCJIZWFkaW5nIDRcIjplKFwib2NcIiksXCJIZWFkaW5nIDVcIjplKFwib2RcIiksXCJIZWFkaW5nIDZcIjplKFwib2VcIil9O3JldHVybiB0LmNvbmZpZy5nZXQoXCJoZWFkaW5nLm9wdGlvbnNcIikubWFwKHQ9Pntjb25zdCBlPWlbdC50aXRsZV07aWYoZSYmZSE9dC50aXRsZSl7dC50aXRsZT1lfXJldHVybiB0fSl9dmFyIGpfPWkoMTEpO2NsYXNzIEhfIGV4dGVuZHMgbXB7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LnQ7Y29uc3QgaT1EXyh0KTtjb25zdCBuPWUoXCJqZFwiKTtjb25zdCBvPWUoXCJqZVwiKTt0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKFwiaGVhZGluZ1wiLGU9Pntjb25zdCByPXt9O2NvbnN0IHM9bmV3IHlzO2NvbnN0IGE9dC5jb21tYW5kcy5nZXQoXCJoZWFkaW5nXCIpO2NvbnN0IGM9dC5jb21tYW5kcy5nZXQoXCJwYXJhZ3JhcGhcIik7Y29uc3QgbD1bYV07Zm9yKGNvbnN0IHQgb2YgaSl7Y29uc3QgZT17dHlwZTpcImJ1dHRvblwiLG1vZGVsOm5ldyBlXyh7bGFiZWw6dC50aXRsZSxjbGFzczp0LmNsYXNzLHdpdGhUZXh0OnRydWV9KX07aWYodC5tb2RlbD09PVwicGFyYWdyYXBoXCIpe2UubW9kZWwuYmluZChcImlzT25cIikudG8oYyxcInZhbHVlXCIpO2UubW9kZWwuc2V0KFwiY29tbWFuZE5hbWVcIixcInBhcmFncmFwaFwiKTtsLnB1c2goYyl9ZWxzZXtlLm1vZGVsLmJpbmQoXCJpc09uXCIpLnRvKGEsXCJ2YWx1ZVwiLGU9PmU9PT10Lm1vZGVsKTtlLm1vZGVsLnNldCh7Y29tbWFuZE5hbWU6XCJoZWFkaW5nXCIsY29tbWFuZFZhbHVlOnQubW9kZWx9KX1zLmFkZChlKTtyW3QubW9kZWxdPXQudGl0bGV9Y29uc3QgZD1XYihlKTtVYihkLHMpO2QuYnV0dG9uVmlldy5zZXQoe2lzT246ZmFsc2Usd2l0aFRleHQ6dHJ1ZSx0b29sdGlwOm99KTtkLmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntjbGFzczpbXCJjay1oZWFkaW5nLWRyb3Bkb3duXCJdfX0pO2QuYmluZChcImlzRW5hYmxlZFwiKS50b01hbnkobCxcImlzRW5hYmxlZFwiLCguLi50KT0+dC5zb21lKHQ9PnQpKTtkLmJ1dHRvblZpZXcuYmluZChcImxhYmVsXCIpLnRvKGEsXCJ2YWx1ZVwiLGMsXCJ2YWx1ZVwiLCh0LGUpPT57Y29uc3QgaT10fHxlJiZcInBhcmFncmFwaFwiO3JldHVybiByW2ldP3JbaV06bn0pO3RoaXMubGlzdGVuVG8oZCxcImV4ZWN1dGVcIixlPT57dC5leGVjdXRlKGUuc291cmNlLmNvbW1hbmROYW1lLGUuc291cmNlLmNvbW1hbmRWYWx1ZT97dmFsdWU6ZS5zb3VyY2UuY29tbWFuZFZhbHVlfTp1bmRlZmluZWQpO3QuZWRpdGluZy52aWV3LmZvY3VzKCl9KTtyZXR1cm4gZH0pfX1jbGFzcyBXXyBleHRlbmRzIG1we3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bRl8sSF9dfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSGVhZGluZ1wifX1jbGFzcyBxX3tjb25zdHJ1Y3Rvcigpe3RoaXMuX3N0YWNrPVtdfWFkZCh0LGUpe2NvbnN0IGk9dGhpcy5fc3RhY2s7Y29uc3Qgbj1pWzBdO3RoaXMuX2luc2VydERlc2NyaXB0b3IodCk7Y29uc3Qgbz1pWzBdO2lmKG4hPT1vJiYhVV8obixvKSl7dGhpcy5maXJlKFwiY2hhbmdlOnRvcFwiLHtvbGREZXNjcmlwdG9yOm4sbmV3RGVzY3JpcHRvcjpvLHdyaXRlcjplfSl9fXJlbW92ZSh0LGUpe2NvbnN0IGk9dGhpcy5fc3RhY2s7Y29uc3Qgbj1pWzBdO3RoaXMuX3JlbW92ZURlc2NyaXB0b3IodCk7Y29uc3Qgbz1pWzBdO2lmKG4hPT1vJiYhVV8obixvKSl7dGhpcy5maXJlKFwiY2hhbmdlOnRvcFwiLHtvbGREZXNjcmlwdG9yOm4sbmV3RGVzY3JpcHRvcjpvLHdyaXRlcjplfSl9fV9pbnNlcnREZXNjcmlwdG9yKHQpe2NvbnN0IGU9dGhpcy5fc3RhY2s7Y29uc3QgaT1lLmZpbmRJbmRleChlPT5lLmlkPT09dC5pZCk7aWYoVV8odCxlW2ldKSl7cmV0dXJufWlmKGk+LTEpe2Uuc3BsaWNlKGksMSl9bGV0IG49MDt3aGlsZShlW25dJiYkXyhlW25dLHQpKXtuKyt9ZS5zcGxpY2UobiwwLHQpfV9yZW1vdmVEZXNjcmlwdG9yKHQpe2NvbnN0IGU9dGhpcy5fc3RhY2s7Y29uc3QgaT1lLmZpbmRJbmRleChlPT5lLmlkPT09dCk7aWYoaT4tMSl7ZS5zcGxpY2UoaSwxKX19fXZzKHFfLGRzKTtmdW5jdGlvbiBVXyh0LGUpe3JldHVybiB0JiZlJiZ0LnByaW9yaXR5PT1lLnByaW9yaXR5JiZHXyh0LmNsYXNzZXMpPT1HXyhlLmNsYXNzZXMpfWZ1bmN0aW9uICRfKHQsZSl7aWYodC5wcmlvcml0eT5lLnByaW9yaXR5KXtyZXR1cm4gdHJ1ZX1lbHNlIGlmKHQucHJpb3JpdHk8ZS5wcmlvcml0eSl7cmV0dXJuIGZhbHNlfXJldHVybiBHXyh0LmNsYXNzZXMpPkdfKGUuY2xhc3Nlcyl9ZnVuY3Rpb24gR18odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5zb3J0KCkuam9pbihcIixcIik6dH12YXIgS189Jzxzdmcgdmlld0JveD1cIjAgMCAxNiAxNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTQgMHYxSDF2M0gwVi41QS41LjUgMCAwIDEgLjUgMEg0em04IDBoMy41YS41LjUgMCAwIDEgLjUuNVY0aC0xVjFoLTNWMHpNNCAxNkguNWEuNS41IDAgMCAxLS41LS41VjEyaDF2M2gzdjF6bTggMHYtMWgzdi0zaDF2My41YS41LjUgMCAwIDEtLjUuNUgxMnpcIi8+PHBhdGggZmlsbC1vcGFjaXR5PVwiLjI1NlwiIGQ9XCJNMSAxaDE0djE0SDF6XCIvPjxnIGNsYXNzPVwiY2staWNvbl9fc2VsZWN0ZWQtaW5kaWNhdG9yXCI+PHBhdGggZD1cIk03IDBoMnYxSDdWMHpNMCA3aDF2MkgwVjd6bTE1IDBoMXYyaC0xVjd6bS04IDhoMnYxSDd2LTF6XCIvPjxwYXRoIGZpbGwtb3BhY2l0eT1cIi4yNTRcIiBkPVwiTTEgMWgxNHYxNEgxelwiLz48L2c+PC9zdmc+Jztjb25zdCBKXz1cImNrLXdpZGdldFwiO2NvbnN0IFlfPVwiY2std2lkZ2V0X3NlbGVjdGVkXCI7ZnVuY3Rpb24gUV8odCl7aWYoIXQuaXMoXCJlbGVtZW50XCIpKXtyZXR1cm4gZmFsc2V9cmV0dXJuISF0LmdldEN1c3RvbVByb3BlcnR5KFwid2lkZ2V0XCIpfWZ1bmN0aW9uIFhfKHQsZSxpPXt9KXtpZighQWwuaXNFZGdlKXtlLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLFwiZmFsc2VcIix0KX1lLmFkZENsYXNzKEpfLHQpO2Uuc2V0Q3VzdG9tUHJvcGVydHkoXCJ3aWRnZXRcIix0cnVlLHQpO3QuZ2V0RmlsbGVyT2Zmc2V0PXJ2O2lmKGkubGFiZWwpe3R2KHQsaS5sYWJlbCxlKX1pZihpLmhhc1NlbGVjdGlvbkhhbmRsZSl7c3YodCxlKX1aXyh0LGUsKHQsZSxpKT0+aS5hZGRDbGFzcyhuKGUuY2xhc3NlcyksdCksKHQsZSxpKT0+aS5yZW1vdmVDbGFzcyhuKGUuY2xhc3NlcyksdCkpO3JldHVybiB0O2Z1bmN0aW9uIG4odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dDpbdF19fWZ1bmN0aW9uIFpfKHQsZSxpLG4pe2NvbnN0IG89bmV3IHFfO28ub24oXCJjaGFuZ2U6dG9wXCIsKGUsbyk9PntpZihvLm9sZERlc2NyaXB0b3Ipe24odCxvLm9sZERlc2NyaXB0b3Isby53cml0ZXIpfWlmKG8ubmV3RGVzY3JpcHRvcil7aSh0LG8ubmV3RGVzY3JpcHRvcixvLndyaXRlcil9fSk7ZS5zZXRDdXN0b21Qcm9wZXJ0eShcImFkZEhpZ2hsaWdodFwiLCh0LGUsaSk9Pm8uYWRkKGUsaSksdCk7ZS5zZXRDdXN0b21Qcm9wZXJ0eShcInJlbW92ZUhpZ2hsaWdodFwiLCh0LGUsaSk9Pm8ucmVtb3ZlKGUsaSksdCl9ZnVuY3Rpb24gdHYodCxlLGkpe2kuc2V0Q3VzdG9tUHJvcGVydHkoXCJ3aWRnZXRMYWJlbFwiLGUsdCl9ZnVuY3Rpb24gZXYodCl7Y29uc3QgZT10LmdldEN1c3RvbVByb3BlcnR5KFwid2lkZ2V0TGFiZWxcIik7aWYoIWUpe3JldHVyblwiXCJ9cmV0dXJuIHR5cGVvZiBlPT1cImZ1bmN0aW9uXCI/ZSgpOmV9ZnVuY3Rpb24gaXYodCxlKXtlLmFkZENsYXNzKFtcImNrLWVkaXRvcl9fZWRpdGFibGVcIixcImNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlXCJdLHQpO2lmKCFBbC5pc0VkZ2Upe2Uuc2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIsdC5pc1JlYWRPbmx5P1wiZmFsc2VcIjpcInRydWVcIix0KTt0Lm9uKFwiY2hhbmdlOmlzUmVhZE9ubHlcIiwoaSxuLG8pPT57ZS5zZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIixvP1wiZmFsc2VcIjpcInRydWVcIix0KX0pfXQub24oXCJjaGFuZ2U6aXNGb2N1c2VkXCIsKGksbixvKT0+e2lmKG8pe2UuYWRkQ2xhc3MoXCJjay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZV9mb2N1c2VkXCIsdCl9ZWxzZXtlLnJlbW92ZUNsYXNzKFwiY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVfZm9jdXNlZFwiLHQpfX0pO3JldHVybiB0fWZ1bmN0aW9uIG52KHQsZSl7Y29uc3QgaT10LmdldFNlbGVjdGVkRWxlbWVudCgpO2lmKGkmJmUuc2NoZW1hLmlzQmxvY2soaSkpe3JldHVybiBlLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIoaSl9Y29uc3Qgbj10LmdldFNlbGVjdGVkQmxvY2tzKCkubmV4dCgpLnZhbHVlO2lmKG4pe2lmKG4uaXNFbXB0eSl7cmV0dXJuIGUuY3JlYXRlUG9zaXRpb25BdChuLDApfWNvbnN0IGk9ZS5jcmVhdGVQb3NpdGlvbkFmdGVyKG4pO2lmKHQuZm9jdXMuaXNUb3VjaGluZyhpKSl7cmV0dXJuIGl9cmV0dXJuIGUuY3JlYXRlUG9zaXRpb25CZWZvcmUobil9cmV0dXJuIHQuZm9jdXN9ZnVuY3Rpb24gb3YodCxlKXtyZXR1cm4oaSxuKT0+e2NvbnN0e21hcHBlcjpvLHZpZXdQb3NpdGlvbjpyfT1uO2NvbnN0IHM9by5maW5kTWFwcGVkVmlld0FuY2VzdG9yKHIpO2lmKCFlKHMpKXtyZXR1cm59Y29uc3QgYT1vLnRvTW9kZWxFbGVtZW50KHMpO24ubW9kZWxQb3NpdGlvbj10LmNyZWF0ZVBvc2l0aW9uQXQoYSxyLmlzQXRTdGFydD9cImJlZm9yZVwiOlwiYWZ0ZXJcIil9fWZ1bmN0aW9uIHJ2KCl7cmV0dXJuIG51bGx9ZnVuY3Rpb24gc3YodCxlKXtjb25zdCBpPWUuY3JlYXRlVUlFbGVtZW50KFwiZGl2XCIse2NsYXNzOlwiY2sgY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlXCJ9LChmdW5jdGlvbih0KXtjb25zdCBlPXRoaXMudG9Eb21FbGVtZW50KHQpO2NvbnN0IGk9bmV3IGNiO2kuc2V0KFwiY29udGVudFwiLEtfKTtpLnJlbmRlcigpO2UuYXBwZW5kQ2hpbGQoaS5lbGVtZW50KTtyZXR1cm4gZX0pKTtlLmluc2VydChlLmNyZWF0ZVBvc2l0aW9uQXQodCwwKSxpKTtlLmFkZENsYXNzKFtcImNrLXdpZGdldF93aXRoLXNlbGVjdGlvbi1oYW5kbGVcIl0sdCl9Y2xhc3MgYXYgZXh0ZW5kcyBqd3tyZWZyZXNoKCl7dGhpcy5pc0VuYWJsZWQ9Y3YodGhpcy5lZGl0b3IubW9kZWwpfWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsO3QuY2hhbmdlKGU9Pntjb25zdCBpPWUuY3JlYXRlRWxlbWVudChcImhvcml6b250YWxMaW5lXCIpO3QuaW5zZXJ0Q29udGVudChpKTtsZXQgbj1pLm5leHRTaWJsaW5nO2NvbnN0IG89biYmdC5zY2hlbWEuY2hlY2tDaGlsZChuLFwiJHRleHRcIik7aWYoIW8mJnQuc2NoZW1hLmNoZWNrQ2hpbGQoaS5wYXJlbnQsXCJwYXJhZ3JhcGhcIikpe249ZS5jcmVhdGVFbGVtZW50KFwicGFyYWdyYXBoXCIpO3QuaW5zZXJ0Q29udGVudChuLGUuY3JlYXRlUG9zaXRpb25BZnRlcihpKSl9aWYobil7ZS5zZXRTZWxlY3Rpb24obiwwKX19KX19ZnVuY3Rpb24gY3YodCl7Y29uc3QgZT10LnNjaGVtYTtjb25zdCBpPXQuZG9jdW1lbnQuc2VsZWN0aW9uO3JldHVybiBsdihpLGUsdCkmJiFkdihpLGUpfWZ1bmN0aW9uIGx2KHQsZSxpKXtjb25zdCBuPXV2KHQsaSk7cmV0dXJuIGUuY2hlY2tDaGlsZChuLFwiaG9yaXpvbnRhbExpbmVcIil9ZnVuY3Rpb24gZHYodCxlKXtjb25zdCBpPXQuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7cmV0dXJuIGkmJmUuaXNPYmplY3QoaSl9ZnVuY3Rpb24gdXYodCxlKXtjb25zdCBpPW52KHQsZSk7Y29uc3Qgbj1pLnBhcmVudDtpZihuLmlzRW1wdHkmJiFuLmlzKFwiJHJvb3RcIikpe3JldHVybiBuLnBhcmVudH1yZXR1cm4gbn12YXIgaHY9aSg1Nik7Y2xhc3MgZnYgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkhvcml6b250YWxMaW5lRWRpdGluZ1wifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5tb2RlbC5zY2hlbWE7Y29uc3QgaT10LnQ7Y29uc3Qgbj10LmNvbnZlcnNpb247ZS5yZWdpc3RlcihcImhvcml6b250YWxMaW5lXCIse2lzT2JqZWN0OnRydWUsYWxsb3dXaGVyZTpcIiRibG9ja1wifSk7bi5mb3IoXCJkYXRhRG93bmNhc3RcIikuZWxlbWVudFRvRWxlbWVudCh7bW9kZWw6XCJob3Jpem9udGFsTGluZVwiLHZpZXc6KHQsZSk9PmUuY3JlYXRlRW1wdHlFbGVtZW50KFwiaHJcIil9KTtuLmZvcihcImVkaXRpbmdEb3duY2FzdFwiKS5lbGVtZW50VG9FbGVtZW50KHttb2RlbDpcImhvcml6b250YWxMaW5lXCIsdmlldzoodCxlKT0+e2NvbnN0IG49aShcImpmXCIpO2NvbnN0IG89ZS5jcmVhdGVDb250YWluZXJFbGVtZW50KFwiZGl2XCIpO2NvbnN0IHI9ZS5jcmVhdGVFbXB0eUVsZW1lbnQoXCJoclwiKTtlLmFkZENsYXNzKFwiY2staG9yaXpvbnRhbC1saW5lXCIsbyk7ZS5zZXRDdXN0b21Qcm9wZXJ0eShcImhyXCIsdHJ1ZSxvKTtlLmluc2VydChlLmNyZWF0ZVBvc2l0aW9uQXQobywwKSxyKTtyZXR1cm4gZ3YobyxlLG4pfX0pO24uZm9yKFwidXBjYXN0XCIpLmVsZW1lbnRUb0VsZW1lbnQoe3ZpZXc6XCJoclwiLG1vZGVsOlwiaG9yaXpvbnRhbExpbmVcIn0pO3QuY29tbWFuZHMuYWRkKFwiaG9yaXpvbnRhbExpbmVcIixuZXcgYXYodCkpfX1mdW5jdGlvbiBndih0LGUsaSl7ZS5zZXRDdXN0b21Qcm9wZXJ0eShcImhvcml6b250YWxMaW5lXCIsdHJ1ZSx0KTtyZXR1cm4gWF8odCxlLHtsYWJlbDppfSl9dmFyIG12PSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0yIDloMTZ2MkgyelwiLz48L3N2Zz4nO2NsYXNzIHB2IGV4dGVuZHMgbXB7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LnQ7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcImhvcml6b250YWxMaW5lXCIsaT0+e2NvbnN0IG49dC5jb21tYW5kcy5nZXQoXCJob3Jpem9udGFsTGluZVwiKTtjb25zdCBvPW5ldyBoYihpKTtvLnNldCh7bGFiZWw6ZShcImpmXCIpLGljb246bXYsdG9vbHRpcDp0cnVlfSk7by5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKG4sXCJpc0VuYWJsZWRcIik7dGhpcy5saXN0ZW5UbyhvLFwiZXhlY3V0ZVwiLCgpPT57dC5leGVjdXRlKFwiaG9yaXpvbnRhbExpbmVcIik7dC5lZGl0aW5nLnZpZXcuZm9jdXMoKX0pO3JldHVybiBvfSl9fWNsYXNzIGJ2IGV4dGVuZHMgbXB7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltmdixwdl19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJIb3Jpem9udGFsTGluZVwifX1jbGFzcyB3diBleHRlbmRzIEdke29ic2VydmUodCl7dGhpcy5saXN0ZW5Ubyh0LFwibG9hZFwiLCh0LGUpPT57Y29uc3QgaT1lLnRhcmdldDtpZihpLnRhZ05hbWU9PVwiSU1HXCIpe3RoaXMuX2ZpcmVFdmVudHMoZSl9fSx7dXNlQ2FwdHVyZTp0cnVlfSl9X2ZpcmVFdmVudHModCl7aWYodGhpcy5pc0VuYWJsZWQpe3RoaXMuZG9jdW1lbnQuZmlyZShcImxheW91dENoYW5nZWRcIik7dGhpcy5kb2N1bWVudC5maXJlKFwiaW1hZ2VMb2FkZWRcIix0KX19fWZ1bmN0aW9uIGt2KHQsZSxpKXtlLnNldEN1c3RvbVByb3BlcnR5KFwiaW1hZ2VcIix0cnVlLHQpO3JldHVybiBYXyh0LGUse2xhYmVsOm59KTtmdW5jdGlvbiBuKCl7Y29uc3QgZT1Bdih0KTtjb25zdCBuPWUuZ2V0QXR0cmlidXRlKFwiYWx0XCIpO3JldHVybiBuP2Ake259ICR7aX1gOml9fWZ1bmN0aW9uIF92KHQpe3JldHVybiEhdC5nZXRDdXN0b21Qcm9wZXJ0eShcImltYWdlXCIpJiZRXyh0KX1mdW5jdGlvbiB2dih0KXtjb25zdCBlPXQuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7aWYoZSYmX3YoZSkpe3JldHVybiBlfXJldHVybiBudWxsfWZ1bmN0aW9uIHl2KHQpe3JldHVybiEhdCYmdC5pcyhcImltYWdlXCIpfWZ1bmN0aW9uIHh2KHQsZSxpPXt9KXtjb25zdCBuPXQuY3JlYXRlRWxlbWVudChcImltYWdlXCIsaSk7Y29uc3Qgbz1udihlLmRvY3VtZW50LnNlbGVjdGlvbixlKTtlLmluc2VydENvbnRlbnQobixvKTtpZihuLnBhcmVudCl7dC5zZXRTZWxlY3Rpb24obixcIm9uXCIpfX1mdW5jdGlvbiBDdih0KXtjb25zdCBlPXQuc2NoZW1hO2NvbnN0IGk9dC5kb2N1bWVudC5zZWxlY3Rpb247cmV0dXJuIFR2KGksZSx0KSYmIVB2KGksZSkmJlN2KGkpfWZ1bmN0aW9uIEF2KHQpe3JldHVybiBBcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkuZmluZCh0PT50LmlzKFwiaW1nXCIpKX1mdW5jdGlvbiBUdih0LGUsaSl7Y29uc3Qgbj1Fdih0LGkpO3JldHVybiBlLmNoZWNrQ2hpbGQobixcImltYWdlXCIpfWZ1bmN0aW9uIFB2KHQsZSl7Y29uc3QgaT10LmdldFNlbGVjdGVkRWxlbWVudCgpO3JldHVybiBpJiZlLmlzT2JqZWN0KGkpfWZ1bmN0aW9uIFN2KHQpe3JldHVyblsuLi50LmZvY3VzLmdldEFuY2VzdG9ycygpXS5ldmVyeSh0PT4hdC5pcyhcImltYWdlXCIpKX1mdW5jdGlvbiBFdih0LGUpe2NvbnN0IGk9bnYodCxlKTtjb25zdCBuPWkucGFyZW50O2lmKG4uaXNFbXB0eSYmIW4uaXMoXCIkcm9vdFwiKSl7cmV0dXJuIG4ucGFyZW50fXJldHVybiBufWZ1bmN0aW9uIFJ2KCl7cmV0dXJuIGU9PntlLm9uKFwiZWxlbWVudDpmaWd1cmVcIix0KX07ZnVuY3Rpb24gdCh0LGUsaSl7aWYoIWkuY29uc3VtYWJsZS50ZXN0KGUudmlld0l0ZW0se25hbWU6dHJ1ZSxjbGFzc2VzOlwiaW1hZ2VcIn0pKXtyZXR1cm59Y29uc3Qgbj1BdihlLnZpZXdJdGVtKTtpZighbnx8IW4uaGFzQXR0cmlidXRlKFwic3JjXCIpfHwhaS5jb25zdW1hYmxlLnRlc3Qobix7bmFtZTp0cnVlfSkpe3JldHVybn1jb25zdCBvPWkuY29udmVydEl0ZW0obixlLm1vZGVsQ3Vyc29yKTtjb25zdCByPVd3KG8ubW9kZWxSYW5nZS5nZXRJdGVtcygpKTtpZighcil7cmV0dXJufWkuY29udmVydENoaWxkcmVuKGUudmlld0l0ZW0saS53cml0ZXIuY3JlYXRlUG9zaXRpb25BdChyLDApKTtlLm1vZGVsUmFuZ2U9by5tb2RlbFJhbmdlO2UubW9kZWxDdXJzb3I9by5tb2RlbEN1cnNvcn19ZnVuY3Rpb24gT3YoKXtyZXR1cm4gZT0+e2Uub24oXCJhdHRyaWJ1dGU6c3Jjc2V0OmltYWdlXCIsdCl9O2Z1bmN0aW9uIHQodCxlLGkpe2lmKCFpLmNvbnN1bWFibGUuY29uc3VtZShlLml0ZW0sdC5uYW1lKSl7cmV0dXJufWNvbnN0IG49aS53cml0ZXI7Y29uc3Qgbz1pLm1hcHBlci50b1ZpZXdFbGVtZW50KGUuaXRlbSk7Y29uc3Qgcj1BdihvKTtpZihlLmF0dHJpYnV0ZU5ld1ZhbHVlPT09bnVsbCl7Y29uc3QgdD1lLmF0dHJpYnV0ZU9sZFZhbHVlO2lmKHQuZGF0YSl7bi5yZW1vdmVBdHRyaWJ1dGUoXCJzcmNzZXRcIixyKTtuLnJlbW92ZUF0dHJpYnV0ZShcInNpemVzXCIscik7aWYodC53aWR0aCl7bi5yZW1vdmVBdHRyaWJ1dGUoXCJ3aWR0aFwiLHIpfX19ZWxzZXtjb25zdCB0PWUuYXR0cmlidXRlTmV3VmFsdWU7aWYodC5kYXRhKXtuLnNldEF0dHJpYnV0ZShcInNyY3NldFwiLHQuZGF0YSxyKTtuLnNldEF0dHJpYnV0ZShcInNpemVzXCIsXCIxMDB2d1wiLHIpO2lmKHQud2lkdGgpe24uc2V0QXR0cmlidXRlKFwid2lkdGhcIix0LndpZHRoLHIpfX19fX1mdW5jdGlvbiBJdih0KXtyZXR1cm4gaT0+e2kub24oYGF0dHJpYnV0ZToke3R9OmltYWdlYCxlKX07ZnVuY3Rpb24gZSh0LGUsaSl7aWYoIWkuY29uc3VtYWJsZS5jb25zdW1lKGUuaXRlbSx0Lm5hbWUpKXtyZXR1cm59Y29uc3Qgbj1pLndyaXRlcjtjb25zdCBvPWkubWFwcGVyLnRvVmlld0VsZW1lbnQoZS5pdGVtKTtjb25zdCByPUF2KG8pO2lmKGUuYXR0cmlidXRlTmV3VmFsdWUhPT1udWxsKXtuLnNldEF0dHJpYnV0ZShlLmF0dHJpYnV0ZUtleSxlLmF0dHJpYnV0ZU5ld1ZhbHVlLHIpfWVsc2V7bi5yZW1vdmVBdHRyaWJ1dGUoZS5hdHRyaWJ1dGVLZXkscil9fX1jbGFzcyBWdiBleHRlbmRzIGp3e3JlZnJlc2goKXt0aGlzLmlzRW5hYmxlZD1Ddih0aGlzLmVkaXRvci5tb2RlbCl9ZXhlY3V0ZSh0KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsO2UuY2hhbmdlKGk9Pntjb25zdCBuPUFycmF5LmlzQXJyYXkodC5zb3VyY2UpP3Quc291cmNlOlt0LnNvdXJjZV07Zm9yKGNvbnN0IHQgb2Ygbil7eHYoaSxlLHtzcmM6dH0pfX0pfX1jbGFzcyBOdiBleHRlbmRzIG1we3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW1hZ2VFZGl0aW5nXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10Lm1vZGVsLnNjaGVtYTtjb25zdCBpPXQudDtjb25zdCBuPXQuY29udmVyc2lvbjt0LmVkaXRpbmcudmlldy5hZGRPYnNlcnZlcih3dik7ZS5yZWdpc3RlcihcImltYWdlXCIse2lzT2JqZWN0OnRydWUsaXNCbG9jazp0cnVlLGFsbG93V2hlcmU6XCIkYmxvY2tcIixhbGxvd0F0dHJpYnV0ZXM6W1wiYWx0XCIsXCJzcmNcIixcInNyY3NldFwiXX0pO24uZm9yKFwiZGF0YURvd25jYXN0XCIpLmVsZW1lbnRUb0VsZW1lbnQoe21vZGVsOlwiaW1hZ2VcIix2aWV3Oih0LGUpPT5NdihlKX0pO24uZm9yKFwiZWRpdGluZ0Rvd25jYXN0XCIpLmVsZW1lbnRUb0VsZW1lbnQoe21vZGVsOlwiaW1hZ2VcIix2aWV3Oih0LGUpPT5rdihNdihlKSxlLGkoXCJqeFwiKSl9KTtuLmZvcihcImRvd25jYXN0XCIpLmFkZChJdihcInNyY1wiKSkuYWRkKEl2KFwiYWx0XCIpKS5hZGQoT3YoKSk7bi5mb3IoXCJ1cGNhc3RcIikuZWxlbWVudFRvRWxlbWVudCh7dmlldzp7bmFtZTpcImltZ1wiLGF0dHJpYnV0ZXM6e3NyYzp0cnVlfX0sbW9kZWw6KHQsZSk9PmUuY3JlYXRlRWxlbWVudChcImltYWdlXCIse3NyYzp0LmdldEF0dHJpYnV0ZShcInNyY1wiKX0pfSkuYXR0cmlidXRlVG9BdHRyaWJ1dGUoe3ZpZXc6e25hbWU6XCJpbWdcIixrZXk6XCJhbHRcIn0sbW9kZWw6XCJhbHRcIn0pLmF0dHJpYnV0ZVRvQXR0cmlidXRlKHt2aWV3OntuYW1lOlwiaW1nXCIsa2V5Olwic3Jjc2V0XCJ9LG1vZGVsOntrZXk6XCJzcmNzZXRcIix2YWx1ZTp0PT57Y29uc3QgZT17ZGF0YTp0LmdldEF0dHJpYnV0ZShcInNyY3NldFwiKX07aWYodC5oYXNBdHRyaWJ1dGUoXCJ3aWR0aFwiKSl7ZS53aWR0aD10LmdldEF0dHJpYnV0ZShcIndpZHRoXCIpfXJldHVybiBlfX19KS5hZGQoUnYoKSk7dC5jb21tYW5kcy5hZGQoXCJpbWFnZUluc2VydFwiLG5ldyBWdih0KSl9fWZ1bmN0aW9uIE12KHQpe2NvbnN0IGU9dC5jcmVhdGVFbXB0eUVsZW1lbnQoXCJpbWdcIik7Y29uc3QgaT10LmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQoXCJmaWd1cmVcIix7Y2xhc3M6XCJpbWFnZVwifSk7dC5pbnNlcnQodC5jcmVhdGVQb3NpdGlvbkF0KGksMCksZSk7cmV0dXJuIGl9Y2xhc3MgQnYgZXh0ZW5kcyBKdXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTt0aGlzLmRvbUV2ZW50VHlwZT1cIm1vdXNlZG93blwifW9uRG9tRXZlbnQodCl7dGhpcy5maXJlKHQudHlwZSx0KX19dmFyIHp2PWkoNTgpO2NvbnN0IEx2PUJsKFwiQ3RybCtBXCIpO2NsYXNzIEZ2IGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJXaWRnZXRcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvci5lZGl0aW5nLnZpZXc7Y29uc3QgZT10LmRvY3VtZW50O3RoaXMuX3ByZXZpb3VzbHlTZWxlY3RlZD1uZXcgU2V0O3RoaXMuZWRpdG9yLmVkaXRpbmcuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwic2VsZWN0aW9uXCIsKHQsZSxpKT0+e3RoaXMuX2NsZWFyUHJldmlvdXNseVNlbGVjdGVkV2lkZ2V0cyhpLndyaXRlcik7Y29uc3Qgbj1pLndyaXRlcjtjb25zdCBvPW4uZG9jdW1lbnQuc2VsZWN0aW9uO2NvbnN0IHI9by5nZXRTZWxlY3RlZEVsZW1lbnQoKTtsZXQgcz1udWxsO2Zvcihjb25zdCB0IG9mIG8uZ2V0UmFuZ2VzKCkpe2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9ZS5pdGVtO2lmKFFfKHQpJiYhV3YodCxzKSl7bi5hZGRDbGFzcyhZXyx0KTt0aGlzLl9wcmV2aW91c2x5U2VsZWN0ZWQuYWRkKHQpO3M9dDtpZih0PT1yKXtuLnNldFNlbGVjdGlvbihvLmdldFJhbmdlcygpLHtmYWtlOnRydWUsbGFiZWw6ZXYocil9KX19fX19LHtwcmlvcml0eTpcImxvd1wifSk7dC5hZGRPYnNlcnZlcihCdik7dGhpcy5saXN0ZW5UbyhlLFwibW91c2Vkb3duXCIsKC4uLnQpPT50aGlzLl9vbk1vdXNlZG93biguLi50KSk7dGhpcy5saXN0ZW5UbyhlLFwia2V5ZG93blwiLCguLi50KT0+dGhpcy5fb25LZXlkb3duKC4uLnQpLHtwcmlvcml0eTpcImhpZ2hcIn0pO3RoaXMubGlzdGVuVG8oZSxcImRlbGV0ZVwiLCh0LGUpPT57aWYodGhpcy5faGFuZGxlRGVsZXRlKGUuZGlyZWN0aW9uPT1cImZvcndhcmRcIikpe2UucHJldmVudERlZmF1bHQoKTt0LnN0b3AoKX19LHtwcmlvcml0eTpcImhpZ2hcIn0pfV9vbk1vdXNlZG93bih0LGUpe2NvbnN0IGk9dGhpcy5lZGl0b3I7Y29uc3Qgbj1pLmVkaXRpbmcudmlldztjb25zdCBvPW4uZG9jdW1lbnQ7bGV0IHI9ZS50YXJnZXQ7aWYoSHYocikpe2lmKEFsLmlzU2FmYXJpJiZlLmRvbUV2ZW50LmRldGFpbD49Myl7Y29uc3QgdD1pLmVkaXRpbmcubWFwcGVyO2NvbnN0IG49dC50b01vZGVsRWxlbWVudChyKTt0aGlzLmVkaXRvci5tb2RlbC5jaGFuZ2UodD0+e2UucHJldmVudERlZmF1bHQoKTt0LnNldFNlbGVjdGlvbihuLFwiaW5cIil9KX1yZXR1cm59aWYoIVFfKHIpKXtyPXIuZmluZEFuY2VzdG9yKFFfKTtpZighcil7cmV0dXJufX1lLnByZXZlbnREZWZhdWx0KCk7aWYoIW8uaXNGb2N1c2VkKXtuLmZvY3VzKCl9Y29uc3Qgcz1pLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxFbGVtZW50KHIpO3RoaXMuX3NldFNlbGVjdGlvbk92ZXJFbGVtZW50KHMpfV9vbktleWRvd24odCxlKXtjb25zdCBpPWUua2V5Q29kZTtjb25zdCBuPXRoaXMuZWRpdG9yLmxvY2FsZS5jb250ZW50TGFuZ3VhZ2VEaXJlY3Rpb249PT1cImx0clwiO2NvbnN0IG89aT09TmwuYXJyb3dkb3dufHxpPT1ObFtuP1wiYXJyb3dyaWdodFwiOlwiYXJyb3dsZWZ0XCJdO2xldCByPWZhbHNlO2lmKER2KGkpKXtyPXRoaXMuX2hhbmRsZUFycm93S2V5cyhvKX1lbHNlIGlmKGp2KGUpKXtyPXRoaXMuX3NlbGVjdEFsbE5lc3RlZEVkaXRhYmxlQ29udGVudCgpfHx0aGlzLl9zZWxlY3RBbGxDb250ZW50KCl9ZWxzZSBpZihpPT09TmwuZW50ZXIpe3I9dGhpcy5faGFuZGxlRW50ZXJLZXkoZS5zaGlmdEtleSl9aWYocil7ZS5wcmV2ZW50RGVmYXVsdCgpO3Quc3RvcCgpfX1faGFuZGxlRGVsZXRlKHQpe2lmKHRoaXMuZWRpdG9yLmlzUmVhZE9ubHkpe3JldHVybn1jb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50O2NvbnN0IGk9ZS5zZWxlY3Rpb247aWYoIWkuaXNDb2xsYXBzZWQpe3JldHVybn1jb25zdCBuPXRoaXMuX2dldE9iamVjdEVsZW1lbnROZXh0VG9TZWxlY3Rpb24odCk7aWYobil7dGhpcy5lZGl0b3IubW9kZWwuY2hhbmdlKHQ9PntsZXQgZT1pLmFuY2hvci5wYXJlbnQ7d2hpbGUoZS5pc0VtcHR5KXtjb25zdCBpPWU7ZT1pLnBhcmVudDt0LnJlbW92ZShpKX10aGlzLl9zZXRTZWxlY3Rpb25PdmVyRWxlbWVudChuKX0pO3JldHVybiB0cnVlfX1faGFuZGxlQXJyb3dLZXlzKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3QgaT1lLnNjaGVtYTtjb25zdCBuPWUuZG9jdW1lbnQ7Y29uc3Qgbz1uLnNlbGVjdGlvbjtjb25zdCByPW8uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7aWYociYmaS5pc09iamVjdChyKSl7Y29uc3Qgbj10P28uZ2V0TGFzdFBvc2l0aW9uKCk6by5nZXRGaXJzdFBvc2l0aW9uKCk7Y29uc3Qgcj1pLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZShuLHQ/XCJmb3J3YXJkXCI6XCJiYWNrd2FyZFwiKTtpZihyKXtlLmNoYW5nZSh0PT57dC5zZXRTZWxlY3Rpb24ocil9KX1yZXR1cm4gdHJ1ZX1pZighby5pc0NvbGxhcHNlZCl7cmV0dXJufWNvbnN0IHM9dGhpcy5fZ2V0T2JqZWN0RWxlbWVudE5leHRUb1NlbGVjdGlvbih0KTtpZighIXMmJmkuaXNPYmplY3Qocykpe3RoaXMuX3NldFNlbGVjdGlvbk92ZXJFbGVtZW50KHMpO3JldHVybiB0cnVlfX1faGFuZGxlRW50ZXJLZXkodCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBpPWUuZG9jdW1lbnQuc2VsZWN0aW9uO2NvbnN0IG49aS5nZXRTZWxlY3RlZEVsZW1lbnQoKTtpZihxdihuLGUuc2NoZW1hKSl7ZS5jaGFuZ2UoaT0+e2xldCBvPWkuY3JlYXRlUG9zaXRpb25BdChuLHQ/XCJiZWZvcmVcIjpcImFmdGVyXCIpO2NvbnN0IHI9aS5jcmVhdGVFbGVtZW50KFwicGFyYWdyYXBoXCIpO2lmKGUuc2NoZW1hLmlzQmxvY2sobi5wYXJlbnQpKXtjb25zdCB0PWUuc2NoZW1hLmZpbmRBbGxvd2VkUGFyZW50KG8scik7bz1pLnNwbGl0KG8sdCkucG9zaXRpb259aS5pbnNlcnQocixvKTtpLnNldFNlbGVjdGlvbihyLFwiaW5cIil9KTtyZXR1cm4gdHJ1ZX19X3NlbGVjdEFsbE5lc3RlZEVkaXRhYmxlQ29udGVudCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3QgZT10LmRvY3VtZW50LnNlbGVjdGlvbjtjb25zdCBpPXQuc2NoZW1hLmdldExpbWl0RWxlbWVudChlKTtpZihlLmdldEZpcnN0UmFuZ2UoKS5yb290PT1pKXtyZXR1cm4gZmFsc2V9dC5jaGFuZ2UodD0+e3Quc2V0U2VsZWN0aW9uKHQuY3JlYXRlUmFuZ2VJbihpKSl9KTtyZXR1cm4gdHJ1ZX1fc2VsZWN0QWxsQ29udGVudCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3QgZT10aGlzLmVkaXRvci5lZGl0aW5nO2NvbnN0IGk9ZS52aWV3O2NvbnN0IG49aS5kb2N1bWVudDtjb25zdCBvPW4uc2VsZWN0aW9uO2NvbnN0IHI9by5nZXRTZWxlY3RlZEVsZW1lbnQoKTtpZihyJiZRXyhyKSl7Y29uc3QgaT1lLm1hcHBlci50b01vZGVsRWxlbWVudChyLnBhcmVudCk7dC5jaGFuZ2UodD0+e3Quc2V0U2VsZWN0aW9uKHQuY3JlYXRlUmFuZ2VJbihpKSl9KTtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9X3NldFNlbGVjdGlvbk92ZXJFbGVtZW50KHQpe3RoaXMuZWRpdG9yLm1vZGVsLmNoYW5nZShlPT57ZS5zZXRTZWxlY3Rpb24oZS5jcmVhdGVSYW5nZU9uKHQpKX0pfV9nZXRPYmplY3RFbGVtZW50TmV4dFRvU2VsZWN0aW9uKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3QgaT1lLnNjaGVtYTtjb25zdCBuPWUuZG9jdW1lbnQuc2VsZWN0aW9uO2NvbnN0IG89ZS5jcmVhdGVTZWxlY3Rpb24obik7ZS5tb2RpZnlTZWxlY3Rpb24obyx7ZGlyZWN0aW9uOnQ/XCJmb3J3YXJkXCI6XCJiYWNrd2FyZFwifSk7Y29uc3Qgcj10P28uZm9jdXMubm9kZUJlZm9yZTpvLmZvY3VzLm5vZGVBZnRlcjtpZighIXImJmkuaXNPYmplY3Qocikpe3JldHVybiByfXJldHVybiBudWxsfV9jbGVhclByZXZpb3VzbHlTZWxlY3RlZFdpZGdldHModCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcHJldmlvdXNseVNlbGVjdGVkKXt0LnJlbW92ZUNsYXNzKFlfLGUpfXRoaXMuX3ByZXZpb3VzbHlTZWxlY3RlZC5jbGVhcigpfX1mdW5jdGlvbiBEdih0KXtyZXR1cm4gdD09TmwuYXJyb3dyaWdodHx8dD09TmwuYXJyb3dsZWZ0fHx0PT1ObC5hcnJvd3VwfHx0PT1ObC5hcnJvd2Rvd259ZnVuY3Rpb24ganYodCl7cmV0dXJuIE1sKHQpPT1Mdn1mdW5jdGlvbiBIdih0KXt3aGlsZSh0KXtpZih0LmlzKFwiZWRpdGFibGVFbGVtZW50XCIpJiYhdC5pcyhcInJvb3RFbGVtZW50XCIpKXtyZXR1cm4gdHJ1ZX1pZihRXyh0KSl7cmV0dXJuIGZhbHNlfXQ9dC5wYXJlbnR9cmV0dXJuIGZhbHNlfWZ1bmN0aW9uIFd2KHQsZSl7aWYoIWUpe3JldHVybiBmYWxzZX1yZXR1cm4gQXJyYXkuZnJvbSh0LmdldEFuY2VzdG9ycygpKS5pbmNsdWRlcyhlKX1mdW5jdGlvbiBxdih0LGUpe3JldHVybiB0JiZlLmlzT2JqZWN0KHQpJiYhZS5pc0lubGluZSh0KX1jbGFzcyBVdiBleHRlbmRzIGp3e3JlZnJlc2goKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTt0aGlzLmlzRW5hYmxlZD15dih0KTtpZih5dih0KSYmdC5oYXNBdHRyaWJ1dGUoXCJhbHRcIikpe3RoaXMudmFsdWU9dC5nZXRBdHRyaWJ1dGUoXCJhbHRcIil9ZWxzZXt0aGlzLnZhbHVlPWZhbHNlfX1leGVjdXRlKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3QgaT1lLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTtlLmNoYW5nZShlPT57ZS5zZXRBdHRyaWJ1dGUoXCJhbHRcIix0Lm5ld1ZhbHVlLGkpfSl9fWNsYXNzICR2IGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJJbWFnZVRleHRBbHRlcm5hdGl2ZUVkaXRpbmdcIn1pbml0KCl7dGhpcy5lZGl0b3IuY29tbWFuZHMuYWRkKFwiaW1hZ2VUZXh0QWx0ZXJuYXRpdmVcIixuZXcgVXYodGhpcy5lZGl0b3IpKX19dmFyIEd2PWkoNjApO2NsYXNzIEt2IGV4dGVuZHMgR3B7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KTtjb25zdCBpPWBjay1pbnB1dC0ke2lzKCl9YDtjb25zdCBuPWBjay1zdGF0dXMtJHtpcygpfWA7dGhpcy5zZXQoXCJsYWJlbFwiKTt0aGlzLnNldChcInZhbHVlXCIpO3RoaXMuc2V0KFwiaXNSZWFkT25seVwiLGZhbHNlKTt0aGlzLnNldChcImVycm9yVGV4dFwiLG51bGwpO3RoaXMuc2V0KFwiaW5mb1RleHRcIixudWxsKTt0aGlzLmxhYmVsVmlldz10aGlzLl9jcmVhdGVMYWJlbFZpZXcoaSk7dGhpcy5pbnB1dFZpZXc9dGhpcy5fY3JlYXRlSW5wdXRWaWV3KGUsaSxuKTt0aGlzLnN0YXR1c1ZpZXc9dGhpcy5fY3JlYXRlU3RhdHVzVmlldyhuKTt0aGlzLmJpbmQoXCJfc3RhdHVzVGV4dFwiKS50byh0aGlzLFwiZXJyb3JUZXh0XCIsdGhpcyxcImluZm9UZXh0XCIsKHQsZSk9PnR8fGUpO2NvbnN0IG89dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWxhYmVsZWQtaW5wdXRcIixvLmlmKFwiaXNSZWFkT25seVwiLFwiY2stZGlzYWJsZWRcIildfSxjaGlsZHJlbjpbdGhpcy5sYWJlbFZpZXcsdGhpcy5pbnB1dFZpZXcsdGhpcy5zdGF0dXNWaWV3XX0pfV9jcmVhdGVMYWJlbFZpZXcodCl7Y29uc3QgZT1uZXcgTWsodGhpcy5sb2NhbGUpO2UuZm9yPXQ7ZS5iaW5kKFwidGV4dFwiKS50byh0aGlzLFwibGFiZWxcIik7cmV0dXJuIGV9X2NyZWF0ZUlucHV0Vmlldyh0LGUsaSl7Y29uc3Qgbj1uZXcgdCh0aGlzLmxvY2FsZSxpKTtuLmlkPWU7bi5hcmlhRGVzY3JpYmVkQnlJZD1pO24uYmluZChcInZhbHVlXCIpLnRvKHRoaXMpO24uYmluZChcImlzUmVhZE9ubHlcIikudG8odGhpcyk7bi5iaW5kKFwiaGFzRXJyb3JcIikudG8odGhpcyxcImVycm9yVGV4dFwiLHQ9PiEhdCk7bi5vbihcImlucHV0XCIsKCk9Pnt0aGlzLmVycm9yVGV4dD1udWxsfSk7cmV0dXJuIG59X2NyZWF0ZVN0YXR1c1ZpZXcodCl7Y29uc3QgZT1uZXcgR3AodGhpcy5sb2NhbGUpO2NvbnN0IGk9dGhpcy5iaW5kVGVtcGxhdGU7ZS5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWxhYmVsZWQtaW5wdXRfX3N0YXR1c1wiLGkuaWYoXCJlcnJvclRleHRcIixcImNrLWxhYmVsZWQtaW5wdXRfX3N0YXR1c19lcnJvclwiKSxpLmlmKFwiX3N0YXR1c1RleHRcIixcImNrLWhpZGRlblwiLHQ9PiF0KV0saWQ6dCxyb2xlOmkuaWYoXCJlcnJvclRleHRcIixcImFsZXJ0XCIpfSxjaGlsZHJlbjpbe3RleHQ6aS50byhcIl9zdGF0dXNUZXh0XCIpfV19KTtyZXR1cm4gZX1zZWxlY3QoKXt0aGlzLmlucHV0Vmlldy5zZWxlY3QoKX1mb2N1cygpe3RoaXMuaW5wdXRWaWV3LmZvY3VzKCl9fXZhciBKdj1pKDYyKTtjbGFzcyBZdiBleHRlbmRzIEdwe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3RoaXMuc2V0KFwidmFsdWVcIik7dGhpcy5zZXQoXCJpZFwiKTt0aGlzLnNldChcInBsYWNlaG9sZGVyXCIpO3RoaXMuc2V0KFwiaXNSZWFkT25seVwiLGZhbHNlKTt0aGlzLnNldChcImhhc0Vycm9yXCIsZmFsc2UpO3RoaXMuc2V0KFwiYXJpYURlc2NyaWJlZEJ5SWRcIik7Y29uc3QgZT10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJpbnB1dFwiLGF0dHJpYnV0ZXM6e3R5cGU6XCJ0ZXh0XCIsY2xhc3M6W1wiY2tcIixcImNrLWlucHV0XCIsXCJjay1pbnB1dC10ZXh0XCIsZS5pZihcImhhc0Vycm9yXCIsXCJjay1lcnJvclwiKV0saWQ6ZS50byhcImlkXCIpLHBsYWNlaG9sZGVyOmUudG8oXCJwbGFjZWhvbGRlclwiKSxyZWFkb25seTplLnRvKFwiaXNSZWFkT25seVwiKSxcImFyaWEtaW52YWxpZFwiOmUuaWYoXCJoYXNFcnJvclwiLHRydWUpLFwiYXJpYS1kZXNjcmliZWRieVwiOmUudG8oXCJhcmlhRGVzY3JpYmVkQnlJZFwiKX0sb246e2lucHV0OmUudG8oXCJpbnB1dFwiKX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtjb25zdCB0PXQ9Pnt0aGlzLmVsZW1lbnQudmFsdWU9IXQmJnQhPT0wP1wiXCI6dH07dCh0aGlzLnZhbHVlKTt0aGlzLm9uKFwiY2hhbmdlOnZhbHVlXCIsKGUsaSxuKT0+e3Qobil9KX1zZWxlY3QoKXt0aGlzLmVsZW1lbnQuc2VsZWN0KCl9Zm9jdXMoKXt0aGlzLmVsZW1lbnQuZm9jdXMoKX19ZnVuY3Rpb24gUXYoe3ZpZXc6dH0pe3QubGlzdGVuVG8odC5lbGVtZW50LFwic3VibWl0XCIsKGUsaSk9PntpLnByZXZlbnREZWZhdWx0KCk7dC5maXJlKFwic3VibWl0XCIpfSx7dXNlQ2FwdHVyZTp0cnVlfSl9dmFyIFh2PSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk02Ljk3MiAxNi42MTVhLjk5Ny45OTcgMCAwIDEtLjc0NC0uMjkybC00LjU5Ni00LjU5NmExIDEgMCAxIDEgMS40MTQtMS40MTRsMy45MjYgMy45MjYgOS45MzctOS45MzdhMSAxIDAgMCAxIDEuNDE0IDEuNDE1TDcuNzE3IDE2LjMyM2EuOTk3Ljk5NyAwIDAgMS0uNzQ1LjI5MnpcIi8+PC9zdmc+Jzt2YXIgWnY9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTExLjU5MSAxMC4xNzdsNC4yNDMgNC4yNDJhMSAxIDAgMCAxLTEuNDE1IDEuNDE1bC00LjI0Mi00LjI0My00LjI0MyA0LjI0M2ExIDEgMCAwIDEtMS40MTQtMS40MTVsNC4yNDMtNC4yNDJMNC41MiA1LjkzNEExIDEgMCAwIDEgNS45MzQgNC41Mmw0LjI0MyA0LjI0MyA0LjI0Mi00LjI0M2ExIDEgMCAxIDEgMS40MTUgMS40MTRsLTQuMjQzIDQuMjQzelwiLz48L3N2Zz4nO3ZhciB0eT1pKDY0KTtjbGFzcyBleSBleHRlbmRzIEdwe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dGhpcy5sb2NhbGUudDt0aGlzLmZvY3VzVHJhY2tlcj1uZXcgZmI7dGhpcy5rZXlzdHJva2VzPW5ldyBkcDt0aGlzLmxhYmVsZWRJbnB1dD10aGlzLl9jcmVhdGVMYWJlbGVkSW5wdXRWaWV3KCk7dGhpcy5zYXZlQnV0dG9uVmlldz10aGlzLl9jcmVhdGVCdXR0b24oZShcImxvXCIpLFh2LFwiY2stYnV0dG9uLXNhdmVcIik7dGhpcy5zYXZlQnV0dG9uVmlldy50eXBlPVwic3VibWl0XCI7dGhpcy5jYW5jZWxCdXR0b25WaWV3PXRoaXMuX2NyZWF0ZUJ1dHRvbihlKFwibHBcIiksWnYsXCJjay1idXR0b24tY2FuY2VsXCIsXCJjYW5jZWxcIik7dGhpcy5fZm9jdXNhYmxlcz1uZXcgYnA7dGhpcy5fZm9jdXNDeWNsZXI9bmV3IHliKHtmb2N1c2FibGVzOnRoaXMuX2ZvY3VzYWJsZXMsZm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLGtleXN0cm9rZUhhbmRsZXI6dGhpcy5rZXlzdHJva2VzLGFjdGlvbnM6e2ZvY3VzUHJldmlvdXM6XCJzaGlmdCArIHRhYlwiLGZvY3VzTmV4dDpcInRhYlwifX0pO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImZvcm1cIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stdGV4dC1hbHRlcm5hdGl2ZS1mb3JtXCJdLHRhYmluZGV4OlwiLTFcIn0sY2hpbGRyZW46W3RoaXMubGFiZWxlZElucHV0LHRoaXMuc2F2ZUJ1dHRvblZpZXcsdGhpcy5jYW5jZWxCdXR0b25WaWV3XX0pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpO3RoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpO1F2KHt2aWV3OnRoaXN9KTtbdGhpcy5sYWJlbGVkSW5wdXQsdGhpcy5zYXZlQnV0dG9uVmlldyx0aGlzLmNhbmNlbEJ1dHRvblZpZXddLmZvckVhY2godD0+e3RoaXMuX2ZvY3VzYWJsZXMuYWRkKHQpO3RoaXMuZm9jdXNUcmFja2VyLmFkZCh0LmVsZW1lbnQpfSl9X2NyZWF0ZUJ1dHRvbih0LGUsaSxuKXtjb25zdCBvPW5ldyBoYih0aGlzLmxvY2FsZSk7by5zZXQoe2xhYmVsOnQsaWNvbjplLHRvb2x0aXA6dHJ1ZX0pO28uZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOml9fSk7aWYobil7by5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8odGhpcyxuKX1yZXR1cm4gb31fY3JlYXRlTGFiZWxlZElucHV0Vmlldygpe2NvbnN0IHQ9dGhpcy5sb2NhbGUudDtjb25zdCBlPW5ldyBLdih0aGlzLmxvY2FsZSxZdik7ZS5sYWJlbD10KFwibHRcIik7ZS5pbnB1dFZpZXcucGxhY2Vob2xkZXI9dChcImx0XCIpO3JldHVybiBlfX12YXIgaXk9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTUuMDg1IDYuMjJMMi45NDMgNC4wNzhhLjc1Ljc1IDAgMSAxIDEuMDYtMS4wNmwyLjU5MiAyLjU5QTExLjA5NCAxMS4wOTQgMCAwIDEgMTAgNS4wNjhjNC43MzggMCA4LjU3OCAzLjEwMSA4LjU3OCA1LjA4MyAwIDEuMTk3LTEuNDAxIDIuODAzLTMuNTU1IDMuODg3bDEuNzE0IDEuNzEzYS43NS43NSAwIDAgMS0uMDkgMS4xMzguNDg4LjQ4OCAwIDAgMS0uMTUuMDg0Ljc1Ljc1IDAgMCAxLS44MjEtLjE2TDYuMTcgNy4zMDRjLS4yNTguMTEtLjUxLjIzMy0uNzU3LjM2NWw2LjIzOSA2LjI0LS4wMDYuMDA1Ljc4Ljc4Yy0uMzg4LjA5NC0uNzguMTY2LTEuMTc0LjIxNWwtMS4xMS0xLjExaC4wMTFMNC41NSA4LjE5N2E3LjIgNy4yIDAgMCAwLS42NjUuNTE0bC0uMTEyLjA5OCA0Ljg5NyA0Ljg5Ny0uMDA1LjAwNiAxLjI3NiAxLjI3NmExMC4xNjQgMTAuMTY0IDAgMCAxLTEuNDc3LS4xMTdsLS40NzktLjQ3OS0uMDA5LjAwOS00Ljg2My00Ljg2My0uMDIyLjAzMWEyLjU2MyAyLjU2MyAwIDAgMC0uMTI0LjJjLS4wNDMuMDc3LS4wOC4xNTgtLjEwOC4yNDFhLjUzNC41MzQgMCAwIDAtLjAyOC4xMzMuMjkuMjkgMCAwIDAgLjAwOC4wNzIuOTI3LjkyNyAwIDAgMCAuMDgyLjIyNmMuMDY3LjEzMy4xNDUuMjYuMjM0LjM3OWwzLjI0MiAzLjM2NS4wMjUuMDEuNTkuNjIzYy0zLjI2NS0uOTE4LTUuNTktMy4xNTUtNS41OS00LjY2OCAwLTEuMTk0IDEuNDQ4LTIuODM4IDMuNjYzLTMuOTN6bTcuMDcuNTMxYTQuNjMyIDQuNjMyIDAgMCAxIDEuMTA4IDUuOTkybC4zNDUuMzQ0LjA0Ni0uMDE4YTkuMzEzIDkuMzEzIDAgMCAwIDItMS4xMTJjLjI1Ni0uMTg3LjUtLjM5Mi43MjctLjYxMy4xMzctLjEzNC4yNy0uMjc3LjM5Mi0uNDMxLjA3Mi0uMDkxLjE0MS0uMTg1LjIwMy0uMjg2LjA1Ny0uMDkzLjEwNy0uMTkuMTQ4LS4yOTJhLjcyLjcyIDAgMCAwIC4wMzYtLjEyLjI5LjI5IDAgMCAwIC4wMDgtLjA3Mi40OTIuNDkyIDAgMCAwLS4wMjgtLjEzMy45OTkuOTk5IDAgMCAwLS4wMzYtLjA5NiAyLjE2NSAyLjE2NSAwIDAgMC0uMDcxLS4xNDUgMi45MTcgMi45MTcgMCAwIDAtLjEyNS0uMiAzLjU5MiAzLjU5MiAwIDAgMC0uMjYzLS4zMzUgNS40NDQgNS40NDQgMCAwIDAtLjUzLS41MjMgNy45NTUgNy45NTUgMCAwIDAtMS4wNTQtLjc2OCA5Ljc2NiA5Ljc2NiAwIDAgMC0xLjg3OS0uODkxYy0uMzM3LS4xMTgtLjY4LS4yMTktMS4wMjctLjMwMXptLTIuODUuMjFsLS4wNjkuMDAyYS41MDguNTA4IDAgMCAwLS4yNTQuMDk3LjQ5Ni40OTYgMCAwIDAtLjEwNC42NzkuNDk4LjQ5OCAwIDAgMCAuMzI2LjE5OWwuMDQ1LjAwNWMuMDkxLjAwMy4xODEuMDAzLjI3Mi4wMTJhMi40NSAyLjQ1IDAgMCAxIDIuMDE3IDEuNTEzYy4wMjQuMDYxLjA0My4xMjUuMDY5LjE4NWEuNDk0LjQ5NCAwIDAgMCAuNDUuMjg3aC4wMDhhLjQ5Ni40OTYgMCAwIDAgLjM1LS4xNTguNDgyLjQ4MiAwIDAgMCAuMTMtLjMzNS42MzguNjM4IDAgMCAwLS4wNDgtLjIxOSAzLjM3OSAzLjM3OSAwIDAgMC0uMzYtLjcyMyAzLjQzOCAzLjQzOCAwIDAgMC0yLjc5MS0xLjU0M2wtLjAyOC0uMDAxaC0uMDEzelwiLz48L3N2Zz4nO2Z1bmN0aW9uIG55KHQpe2NvbnN0IGU9dC5wbHVnaW5zLmdldChcIkNvbnRleHR1YWxCYWxsb29uXCIpO2lmKHZ2KHQuZWRpdGluZy52aWV3LmRvY3VtZW50LnNlbGVjdGlvbikpe2NvbnN0IGk9b3kodCk7ZS51cGRhdGVQb3NpdGlvbihpKX19ZnVuY3Rpb24gb3kodCl7Y29uc3QgZT10LmVkaXRpbmcudmlldztjb25zdCBpPW5iLmRlZmF1bHRQb3NpdGlvbnM7cmV0dXJue3RhcmdldDplLmRvbUNvbnZlcnRlci52aWV3VG9Eb20oZS5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCkpLHBvc2l0aW9uczpbaS5ub3J0aEFycm93U291dGgsaS5ub3J0aEFycm93U291dGhXZXN0LGkubm9ydGhBcnJvd1NvdXRoRWFzdCxpLnNvdXRoQXJyb3dOb3J0aCxpLnNvdXRoQXJyb3dOb3J0aFdlc3QsaS5zb3V0aEFycm93Tm9ydGhFYXN0XX19Y2xhc3MgcnkgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2tiXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkltYWdlVGV4dEFsdGVybmF0aXZlVUlcIn1pbml0KCl7dGhpcy5fY3JlYXRlQnV0dG9uKCk7dGhpcy5fY3JlYXRlRm9ybSgpfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCk7dGhpcy5fZm9ybS5kZXN0cm95KCl9X2NyZWF0ZUJ1dHRvbigpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LnQ7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcImltYWdlVGV4dEFsdGVybmF0aXZlXCIsaT0+e2NvbnN0IG49dC5jb21tYW5kcy5nZXQoXCJpbWFnZVRleHRBbHRlcm5hdGl2ZVwiKTtjb25zdCBvPW5ldyBoYihpKTtvLnNldCh7bGFiZWw6ZShcImxoXCIpLGljb246aXksdG9vbHRpcDp0cnVlfSk7by5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKG4sXCJpc0VuYWJsZWRcIik7dGhpcy5saXN0ZW5UbyhvLFwiZXhlY3V0ZVwiLCgpPT57dGhpcy5fc2hvd0Zvcm0oKX0pO3JldHVybiBvfSl9X2NyZWF0ZUZvcm0oKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5lZGl0aW5nLnZpZXc7Y29uc3QgaT1lLmRvY3VtZW50O3RoaXMuX2JhbGxvb249dGhpcy5lZGl0b3IucGx1Z2lucy5nZXQoXCJDb250ZXh0dWFsQmFsbG9vblwiKTt0aGlzLl9mb3JtPW5ldyBleSh0LmxvY2FsZSk7dGhpcy5fZm9ybS5yZW5kZXIoKTt0aGlzLmxpc3RlblRvKHRoaXMuX2Zvcm0sXCJzdWJtaXRcIiwoKT0+e3QuZXhlY3V0ZShcImltYWdlVGV4dEFsdGVybmF0aXZlXCIse25ld1ZhbHVlOnRoaXMuX2Zvcm0ubGFiZWxlZElucHV0LmlucHV0Vmlldy5lbGVtZW50LnZhbHVlfSk7dGhpcy5faGlkZUZvcm0odHJ1ZSl9KTt0aGlzLmxpc3RlblRvKHRoaXMuX2Zvcm0sXCJjYW5jZWxcIiwoKT0+e3RoaXMuX2hpZGVGb3JtKHRydWUpfSk7dGhpcy5fZm9ybS5rZXlzdHJva2VzLnNldChcIkVzY1wiLCh0LGUpPT57dGhpcy5faGlkZUZvcm0odHJ1ZSk7ZSgpfSk7dGhpcy5saXN0ZW5Ubyh0LnVpLFwidXBkYXRlXCIsKCk9PntpZighdnYoaS5zZWxlY3Rpb24pKXt0aGlzLl9oaWRlRm9ybSh0cnVlKX1lbHNlIGlmKHRoaXMuX2lzVmlzaWJsZSl7bnkodCl9fSk7RGIoe2VtaXR0ZXI6dGhpcy5fZm9ybSxhY3RpdmF0b3I6KCk9PnRoaXMuX2lzVmlzaWJsZSxjb250ZXh0RWxlbWVudHM6W3RoaXMuX2JhbGxvb24udmlldy5lbGVtZW50XSxjYWxsYmFjazooKT0+dGhpcy5faGlkZUZvcm0oKX0pfV9zaG93Rm9ybSgpe2lmKHRoaXMuX2lzVmlzaWJsZSl7cmV0dXJufWNvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LmNvbW1hbmRzLmdldChcImltYWdlVGV4dEFsdGVybmF0aXZlXCIpO2NvbnN0IGk9dGhpcy5fZm9ybS5sYWJlbGVkSW5wdXQ7aWYoIXRoaXMuX2lzSW5CYWxsb29uKXt0aGlzLl9iYWxsb29uLmFkZCh7dmlldzp0aGlzLl9mb3JtLHBvc2l0aW9uOm95KHQpfSl9aS52YWx1ZT1pLmlucHV0Vmlldy5lbGVtZW50LnZhbHVlPWUudmFsdWV8fFwiXCI7dGhpcy5fZm9ybS5sYWJlbGVkSW5wdXQuc2VsZWN0KCl9X2hpZGVGb3JtKHQpe2lmKCF0aGlzLl9pc0luQmFsbG9vbil7cmV0dXJufWlmKHRoaXMuX2Zvcm0uZm9jdXNUcmFja2VyLmlzRm9jdXNlZCl7dGhpcy5fZm9ybS5zYXZlQnV0dG9uVmlldy5mb2N1cygpfXRoaXMuX2JhbGxvb24ucmVtb3ZlKHRoaXMuX2Zvcm0pO2lmKHQpe3RoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5mb2N1cygpfX1nZXQgX2lzVmlzaWJsZSgpe3JldHVybiB0aGlzLl9iYWxsb29uLnZpc2libGVWaWV3PT09dGhpcy5fZm9ybX1nZXQgX2lzSW5CYWxsb29uKCl7cmV0dXJuIHRoaXMuX2JhbGxvb24uaGFzVmlldyh0aGlzLl9mb3JtKX19Y2xhc3Mgc3kgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuWyR2LHJ5XX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkltYWdlVGV4dEFsdGVybmF0aXZlXCJ9fXZhciBheT1pKDY2KTtjbGFzcyBjeSBleHRlbmRzIG1we3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bTnYsRnYsc3ldfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW1hZ2VcIn19Y2xhc3MgbHkgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2tiXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIldpZGdldFRvb2xiYXJSZXBvc2l0b3J5XCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7aWYodC5wbHVnaW5zLmhhcyhcIkJhbGxvb25Ub29sYmFyXCIpKXtjb25zdCBlPXQucGx1Z2lucy5nZXQoXCJCYWxsb29uVG9vbGJhclwiKTt0aGlzLmxpc3RlblRvKGUsXCJzaG93XCIsZT0+e2lmKGh5KHQuZWRpdGluZy52aWV3LmRvY3VtZW50LnNlbGVjdGlvbikpe2Uuc3RvcCgpfX0se3ByaW9yaXR5OlwiaGlnaFwifSl9dGhpcy5fdG9vbGJhckRlZmluaXRpb25zPW5ldyBNYXA7dGhpcy5fYmFsbG9vbj10aGlzLmVkaXRvci5wbHVnaW5zLmdldChcIkNvbnRleHR1YWxCYWxsb29uXCIpO3RoaXMub24oXCJjaGFuZ2U6aXNFbmFibGVkXCIsKCk9Pnt0aGlzLl91cGRhdGVUb29sYmFyc1Zpc2liaWxpdHkoKX0pO3RoaXMubGlzdGVuVG8odC51aSxcInVwZGF0ZVwiLCgpPT57dGhpcy5fdXBkYXRlVG9vbGJhcnNWaXNpYmlsaXR5KCl9KTt0aGlzLmxpc3RlblRvKHQudWkuZm9jdXNUcmFja2VyLFwiY2hhbmdlOmlzRm9jdXNlZFwiLCgpPT57dGhpcy5fdXBkYXRlVG9vbGJhcnNWaXNpYmlsaXR5KCl9LHtwcmlvcml0eTpcImxvd1wifSl9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKTtmb3IoY29uc3QgdCBvZiB0aGlzLl90b29sYmFyRGVmaW5pdGlvbnMudmFsdWVzKCkpe3Qudmlldy5kZXN0cm95KCl9fXJlZ2lzdGVyKHQse2FyaWFMYWJlbDplLGl0ZW1zOmksZ2V0UmVsYXRlZEVsZW1lbnQ6bixiYWxsb29uQ2xhc3NOYW1lOm89XCJjay10b29sYmFyLWNvbnRhaW5lclwifSl7Y29uc3Qgcj10aGlzLmVkaXRvcjtjb25zdCBzPXIudDtjb25zdCBhPW5ldyBYYihyLmxvY2FsZSk7YS5hcmlhTGFiZWw9ZXx8cyhcImtmXCIpO2lmKHRoaXMuX3Rvb2xiYXJEZWZpbml0aW9ucy5oYXModCkpe3Rocm93IG5ldyBzc1tcImJcIl0oXCJ3aWRnZXQtdG9vbGJhci1kdXBsaWNhdGVkOiBUb29sYmFyIHdpdGggdGhlIGdpdmVuIGlkIHdhcyBhbHJlYWR5IGFkZGVkLlwiLHRoaXMse3Rvb2xiYXJJZDp0fSl9YS5maWxsRnJvbUNvbmZpZyhpLHIudWkuY29tcG9uZW50RmFjdG9yeSk7dGhpcy5fdG9vbGJhckRlZmluaXRpb25zLnNldCh0LHt2aWV3OmEsZ2V0UmVsYXRlZEVsZW1lbnQ6bixiYWxsb29uQ2xhc3NOYW1lOm99KX1fdXBkYXRlVG9vbGJhcnNWaXNpYmlsaXR5KCl7bGV0IHQ9MDtsZXQgZT1udWxsO2xldCBpPW51bGw7Zm9yKGNvbnN0IG4gb2YgdGhpcy5fdG9vbGJhckRlZmluaXRpb25zLnZhbHVlcygpKXtjb25zdCBvPW4uZ2V0UmVsYXRlZEVsZW1lbnQodGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmRvY3VtZW50LnNlbGVjdGlvbik7aWYoIXRoaXMuaXNFbmFibGVkfHwhbyl7aWYodGhpcy5faXNUb29sYmFySW5CYWxsb29uKG4pKXt0aGlzLl9oaWRlVG9vbGJhcihuKX19ZWxzZSBpZighdGhpcy5lZGl0b3IudWkuZm9jdXNUcmFja2VyLmlzRm9jdXNlZCl7aWYodGhpcy5faXNUb29sYmFyVmlzaWJsZShuKSl7dGhpcy5faGlkZVRvb2xiYXIobil9fWVsc2V7Y29uc3Qgcj1vLmdldEFuY2VzdG9ycygpLmxlbmd0aDtpZihyPnQpe3Q9cjtlPW87aT1ufX19aWYoaSl7dGhpcy5fc2hvd1Rvb2xiYXIoaSxlKX19X2hpZGVUb29sYmFyKHQpe3RoaXMuX2JhbGxvb24ucmVtb3ZlKHQudmlldyk7dGhpcy5zdG9wTGlzdGVuaW5nKHRoaXMuX2JhbGxvb24sXCJjaGFuZ2U6dmlzaWJsZVZpZXdcIil9X3Nob3dUb29sYmFyKHQsZSl7aWYodGhpcy5faXNUb29sYmFyVmlzaWJsZSh0KSl7ZHkodGhpcy5lZGl0b3IsZSl9ZWxzZSBpZighdGhpcy5faXNUb29sYmFySW5CYWxsb29uKHQpKXt0aGlzLl9iYWxsb29uLmFkZCh7dmlldzp0LnZpZXcscG9zaXRpb246dXkodGhpcy5lZGl0b3IsZSksYmFsbG9vbkNsYXNzTmFtZTp0LmJhbGxvb25DbGFzc05hbWV9KTt0aGlzLmxpc3RlblRvKHRoaXMuX2JhbGxvb24sXCJjaGFuZ2U6dmlzaWJsZVZpZXdcIiwoKT0+e2Zvcihjb25zdCB0IG9mIHRoaXMuX3Rvb2xiYXJEZWZpbml0aW9ucy52YWx1ZXMoKSl7aWYodGhpcy5faXNUb29sYmFyVmlzaWJsZSh0KSl7Y29uc3QgZT10LmdldFJlbGF0ZWRFbGVtZW50KHRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5kb2N1bWVudC5zZWxlY3Rpb24pO2R5KHRoaXMuZWRpdG9yLGUpfX19KX19X2lzVG9vbGJhclZpc2libGUodCl7cmV0dXJuIHRoaXMuX2JhbGxvb24udmlzaWJsZVZpZXc9PT10LnZpZXd9X2lzVG9vbGJhckluQmFsbG9vbih0KXtyZXR1cm4gdGhpcy5fYmFsbG9vbi5oYXNWaWV3KHQudmlldyl9fWZ1bmN0aW9uIGR5KHQsZSl7Y29uc3QgaT10LnBsdWdpbnMuZ2V0KFwiQ29udGV4dHVhbEJhbGxvb25cIik7Y29uc3Qgbj11eSh0LGUpO2kudXBkYXRlUG9zaXRpb24obil9ZnVuY3Rpb24gdXkodCxlKXtjb25zdCBpPXQuZWRpdGluZy52aWV3O2NvbnN0IG49bmIuZGVmYXVsdFBvc2l0aW9ucztyZXR1cm57dGFyZ2V0OmkuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbShlKSxwb3NpdGlvbnM6W24ubm9ydGhBcnJvd1NvdXRoLG4ubm9ydGhBcnJvd1NvdXRoV2VzdCxuLm5vcnRoQXJyb3dTb3V0aEVhc3Qsbi5zb3V0aEFycm93Tm9ydGgsbi5zb3V0aEFycm93Tm9ydGhXZXN0LG4uc291dGhBcnJvd05vcnRoRWFzdF19fWZ1bmN0aW9uIGh5KHQpe2NvbnN0IGU9dC5nZXRTZWxlY3RlZEVsZW1lbnQoKTtyZXR1cm4hIShlJiZRXyhlKSl9Y2xhc3MgZnkgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2x5XX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkltYWdlVG9vbGJhclwifWFmdGVySW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LnQ7Y29uc3QgaT10LnBsdWdpbnMuZ2V0KGx5KTtpLnJlZ2lzdGVyKFwiaW1hZ2VcIix7YXJpYUxhYmVsOmUoXCJhXCIpLGl0ZW1zOnQuY29uZmlnLmdldChcImltYWdlLnRvb2xiYXJcIil8fFtdLGdldFJlbGF0ZWRFbGVtZW50OnZ2fSl9fWNsYXNzIGd5IGV4dGVuZHMgand7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KTt0aGlzLmRlZmF1bHRTdHlsZT1mYWxzZTt0aGlzLnN0eWxlcz1lLnJlZHVjZSgodCxlKT0+e3RbZS5uYW1lXT1lO2lmKGUuaXNEZWZhdWx0KXt0aGlzLmRlZmF1bHRTdHlsZT1lLm5hbWV9cmV0dXJuIHR9LHt9KX1yZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7dGhpcy5pc0VuYWJsZWQ9eXYodCk7aWYoIXQpe3RoaXMudmFsdWU9ZmFsc2V9ZWxzZSBpZih0Lmhhc0F0dHJpYnV0ZShcImltYWdlU3R5bGVcIikpe2NvbnN0IGU9dC5nZXRBdHRyaWJ1dGUoXCJpbWFnZVN0eWxlXCIpO3RoaXMudmFsdWU9dGhpcy5zdHlsZXNbZV0/ZTpmYWxzZX1lbHNle3RoaXMudmFsdWU9dGhpcy5kZWZhdWx0U3R5bGV9fWV4ZWN1dGUodCl7Y29uc3QgZT10LnZhbHVlO2NvbnN0IGk9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3Qgbj1pLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTtpLmNoYW5nZSh0PT57aWYodGhpcy5zdHlsZXNbZV0uaXNEZWZhdWx0KXt0LnJlbW92ZUF0dHJpYnV0ZShcImltYWdlU3R5bGVcIixuKX1lbHNle3Quc2V0QXR0cmlidXRlKFwiaW1hZ2VTdHlsZVwiLGUsbil9fSl9fWZ1bmN0aW9uIG15KHQpe3JldHVybihlLGksbik9PntpZighbi5jb25zdW1hYmxlLmNvbnN1bWUoaS5pdGVtLGUubmFtZSkpe3JldHVybn1jb25zdCBvPWJ5KGkuYXR0cmlidXRlTmV3VmFsdWUsdCk7Y29uc3Qgcj1ieShpLmF0dHJpYnV0ZU9sZFZhbHVlLHQpO2NvbnN0IHM9bi5tYXBwZXIudG9WaWV3RWxlbWVudChpLml0ZW0pO2NvbnN0IGE9bi53cml0ZXI7aWYocil7YS5yZW1vdmVDbGFzcyhyLmNsYXNzTmFtZSxzKX1pZihvKXthLmFkZENsYXNzKG8uY2xhc3NOYW1lLHMpfX19ZnVuY3Rpb24gcHkodCl7Y29uc3QgZT10LmZpbHRlcih0PT4hdC5pc0RlZmF1bHQpO3JldHVybih0LGksbik9PntpZighaS5tb2RlbFJhbmdlKXtyZXR1cm59Y29uc3Qgbz1pLnZpZXdJdGVtO2NvbnN0IHI9V3coaS5tb2RlbFJhbmdlLmdldEl0ZW1zKCkpO2lmKCFuLnNjaGVtYS5jaGVja0F0dHJpYnV0ZShyLFwiaW1hZ2VTdHlsZVwiKSl7cmV0dXJufWZvcihjb25zdCB0IG9mIGUpe2lmKG4uY29uc3VtYWJsZS5jb25zdW1lKG8se2NsYXNzZXM6dC5jbGFzc05hbWV9KSl7bi53cml0ZXIuc2V0QXR0cmlidXRlKFwiaW1hZ2VTdHlsZVwiLHQubmFtZSxyKX19fX1mdW5jdGlvbiBieSh0LGUpe2Zvcihjb25zdCBpIG9mIGUpe2lmKGkubmFtZT09PXQpe3JldHVybiBpfX19dmFyIHd5PSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0yIDQuNVYzaDE2djEuNXptMi41IDNWMTJoMTFWNy41aC0xMXpNNC4wNjEgNkgxNS45NGMuNTg2IDAgMS4wNjEuNDA3IDEuMDYxLjkxdjUuNjhjMCAuNTAzLS40NzUuOTEtMS4wNjEuOTFINC4wNmMtLjU4NSAwLTEuMDYtLjQwNy0xLjA2LS45MVY2LjkxQzMgNi40MDYgMy40NzUgNiA0LjA2MSA2ek0yIDE2LjVWMTVoMTZ2MS41elwiLz48L3N2Zz4nO3ZhciBreT0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMS40MTRcIj48cGF0aCBkPVwiTTE4IDQuNVYzSDJ2MS41aDE2em0wIDNWNmgtNS42NzR2MS41SDE4em0wIDNWOWgtNS42NzR2MS41SDE4em0wIDNWMTJoLTUuNjc0djEuNUgxOHptLTguNS02VjEyaC02VjcuNWg2em0uODE4LTEuNUgyLjY4MkMyLjMwNSA2IDIgNi40MDcgMiA2LjkxdjUuNjhjMCAuNTAzLjMwNS45MS42ODIuOTFoNy42MzZjLjM3NyAwIC42ODItLjQwNy42ODItLjkxVjYuOTFjMC0uNTAzLS4zMDUtLjkxLS42ODItLjkxek0xOCAxNi41VjE1SDJ2MS41aDE2elwiLz48L3N2Zz4nO3ZhciBfeT0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMiA0LjVWM2gxNnYxLjV6bTQuNSAzVjEyaDdWNy41aC03ek01Ljc1OCA2aDguNDg0Yy40MTkgMCAuNzU4LjQwNy43NTguOTF2NS42ODFjMCAuNTAyLS4zNC45MDktLjc1OC45MDlINS43NThjLS40MTkgMC0uNzU4LS40MDctLjc1OC0uOTFWNi45MWMwLS41MDMuMzQtLjkxLjc1OC0uOTF6TTIgMTYuNVYxNWgxNnYxLjV6XCIvPjwvc3ZnPic7dmFyIHZ5PSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0yIDQuNVYzaDE2djEuNXptMCAzVjZoNS42NzR2MS41em0wIDNWOWg1LjY3NHYxLjV6bTAgM1YxMmg1LjY3NHYxLjV6bTguNS02VjEyaDZWNy41aC02ek05LjY4MiA2aDcuNjM2Yy4zNzcgMCAuNjgyLjQwNy42ODIuOTF2NS42OGMwIC41MDMtLjMwNS45MS0uNjgyLjkxSDkuNjgyYy0uMzc3IDAtLjY4Mi0uNDA3LS42ODItLjkxVjYuOTFjMC0uNTAzLjMwNS0uOTEuNjgyLS45MXpNMiAxNi41VjE1aDE2djEuNXpcIi8+PC9zdmc+Jztjb25zdCB5eT17ZnVsbDp7bmFtZTpcImZ1bGxcIix0aXRsZTpcIkZ1bGwgc2l6ZSBpbWFnZVwiLGljb246d3ksaXNEZWZhdWx0OnRydWV9LHNpZGU6e25hbWU6XCJzaWRlXCIsdGl0bGU6XCJTaWRlIGltYWdlXCIsaWNvbjp2eSxjbGFzc05hbWU6XCJpbWFnZS1zdHlsZS1zaWRlXCJ9LGFsaWduTGVmdDp7bmFtZTpcImFsaWduTGVmdFwiLHRpdGxlOlwiTGVmdCBhbGlnbmVkIGltYWdlXCIsaWNvbjpreSxjbGFzc05hbWU6XCJpbWFnZS1zdHlsZS1hbGlnbi1sZWZ0XCJ9LGFsaWduQ2VudGVyOntuYW1lOlwiYWxpZ25DZW50ZXJcIix0aXRsZTpcIkNlbnRlcmVkIGltYWdlXCIsaWNvbjpfeSxjbGFzc05hbWU6XCJpbWFnZS1zdHlsZS1hbGlnbi1jZW50ZXJcIn0sYWxpZ25SaWdodDp7bmFtZTpcImFsaWduUmlnaHRcIix0aXRsZTpcIlJpZ2h0IGFsaWduZWQgaW1hZ2VcIixpY29uOnZ5LGNsYXNzTmFtZTpcImltYWdlLXN0eWxlLWFsaWduLXJpZ2h0XCJ9fTtjb25zdCB4eT17ZnVsbDp3eSxsZWZ0Omt5LHJpZ2h0OnZ5LGNlbnRlcjpfeX07ZnVuY3Rpb24gQ3kodD1bXSl7cmV0dXJuIHQubWFwKEF5KX1mdW5jdGlvbiBBeSh0KXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIil7Y29uc3QgZT10O2lmKHl5W2VdKXt0PU9iamVjdC5hc3NpZ24oe30seXlbZV0pfWVsc2V7Y29uc29sZS53YXJuKE9iamVjdChzc1tcImFcIl0pKFwiaW1hZ2Utc3R5bGUtbm90LWZvdW5kOiBUaGVyZSBpcyBubyBzdWNoIGltYWdlIHN0eWxlIG9mIGdpdmVuIG5hbWUuXCIpLHtuYW1lOmV9KTt0PXtuYW1lOmV9fX1lbHNlIGlmKHl5W3QubmFtZV0pe2NvbnN0IGU9eXlbdC5uYW1lXTtjb25zdCBpPU9iamVjdC5hc3NpZ24oe30sdCk7Zm9yKGNvbnN0IG4gaW4gZSl7aWYoIXQuaGFzT3duUHJvcGVydHkobikpe2lbbl09ZVtuXX19dD1pfWlmKHR5cGVvZiB0Lmljb249PVwic3RyaW5nXCImJnh5W3QuaWNvbl0pe3QuaWNvbj14eVt0Lmljb25dfXJldHVybiB0fWNsYXNzIFR5IGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJJbWFnZVN0eWxlRWRpdGluZ1wifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5tb2RlbC5zY2hlbWE7Y29uc3QgaT10LmRhdGE7Y29uc3Qgbj10LmVkaXRpbmc7dC5jb25maWcuZGVmaW5lKFwiaW1hZ2Uuc3R5bGVzXCIsW1wiZnVsbFwiLFwic2lkZVwiXSk7Y29uc3Qgbz1DeSh0LmNvbmZpZy5nZXQoXCJpbWFnZS5zdHlsZXNcIikpO2UuZXh0ZW5kKFwiaW1hZ2VcIix7YWxsb3dBdHRyaWJ1dGVzOlwiaW1hZ2VTdHlsZVwifSk7Y29uc3Qgcj1teShvKTtuLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImF0dHJpYnV0ZTppbWFnZVN0eWxlOmltYWdlXCIscik7aS5kb3duY2FzdERpc3BhdGNoZXIub24oXCJhdHRyaWJ1dGU6aW1hZ2VTdHlsZTppbWFnZVwiLHIpO2kudXBjYXN0RGlzcGF0Y2hlci5vbihcImVsZW1lbnQ6ZmlndXJlXCIscHkobykse3ByaW9yaXR5OlwibG93XCJ9KTt0LmNvbW1hbmRzLmFkZChcImltYWdlU3R5bGVcIixuZXcgZ3kodCxvKSl9fXZhciBQeT1pKDY4KTtjbGFzcyBTeSBleHRlbmRzIG1we3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW1hZ2VTdHlsZVVJXCJ9Z2V0IGxvY2FsaXplZERlZmF1bHRTdHlsZXNUaXRsZXMoKXtjb25zdCB0PXRoaXMuZWRpdG9yLnQ7cmV0dXJue1wiRnVsbCBzaXplIGltYWdlXCI6dChcImp5XCIpLFwiU2lkZSBpbWFnZVwiOnQoXCJqelwiKSxcIkxlZnQgYWxpZ25lZCBpbWFnZVwiOnQoXCJrYVwiKSxcIkNlbnRlcmVkIGltYWdlXCI6dChcImtiXCIpLFwiUmlnaHQgYWxpZ25lZCBpbWFnZVwiOnQoXCJrY1wiKX19aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LmNvbmZpZy5nZXQoXCJpbWFnZS5zdHlsZXNcIik7Y29uc3QgaT1FeShDeShlKSx0aGlzLmxvY2FsaXplZERlZmF1bHRTdHlsZXNUaXRsZXMpO2Zvcihjb25zdCB0IG9mIGkpe3RoaXMuX2NyZWF0ZUJ1dHRvbih0KX19X2NyZWF0ZUJ1dHRvbih0KXtjb25zdCBlPXRoaXMuZWRpdG9yO2NvbnN0IGk9YGltYWdlU3R5bGU6JHt0Lm5hbWV9YDtlLnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKGksaT0+e2NvbnN0IG49ZS5jb21tYW5kcy5nZXQoXCJpbWFnZVN0eWxlXCIpO2NvbnN0IG89bmV3IGhiKGkpO28uc2V0KHtsYWJlbDp0LnRpdGxlLGljb246dC5pY29uLHRvb2x0aXA6dHJ1ZSxpc1RvZ2dsZWFibGU6dHJ1ZX0pO28uYmluZChcImlzRW5hYmxlZFwiKS50byhuLFwiaXNFbmFibGVkXCIpO28uYmluZChcImlzT25cIikudG8obixcInZhbHVlXCIsZT0+ZT09PXQubmFtZSk7dGhpcy5saXN0ZW5UbyhvLFwiZXhlY3V0ZVwiLCgpPT57ZS5leGVjdXRlKFwiaW1hZ2VTdHlsZVwiLHt2YWx1ZTp0Lm5hbWV9KTtlLmVkaXRpbmcudmlldy5mb2N1cygpfSk7cmV0dXJuIG99KX19ZnVuY3Rpb24gRXkodCxlKXtmb3IoY29uc3QgaSBvZiB0KXtpZihlW2kudGl0bGVdKXtpLnRpdGxlPWVbaS50aXRsZV19fXJldHVybiB0fWNsYXNzIFJ5IGV4dGVuZHMgbXB7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltUeSxTeV19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJJbWFnZVN0eWxlXCJ9fWNsYXNzIE95e2NvbnN0cnVjdG9yKHQpe3RoaXMuc2V0KFwiYWN0aXZlSGFuZGxlUG9zaXRpb25cIixudWxsKTt0aGlzLnNldChcInByb3Bvc2VkV2lkdGhQZXJjZW50c1wiLG51bGwpO3RoaXMuc2V0KFwicHJvcG9zZWRXaWR0aFwiLG51bGwpO3RoaXMuc2V0KFwicHJvcG9zZWRIZWlnaHRcIixudWxsKTt0aGlzLnNldChcInByb3Bvc2VkSGFuZGxlSG9zdFdpZHRoXCIsbnVsbCk7dGhpcy5zZXQoXCJwcm9wb3NlZEhhbmRsZUhvc3RIZWlnaHRcIixudWxsKTt0aGlzLl9vcHRpb25zPXQ7dGhpcy5fcmVmZXJlbmNlQ29vcmRpbmF0ZXM9bnVsbH1iZWdpbih0LGUsaSl7Y29uc3Qgbj1uZXcgdmgoZSk7dGhpcy5hY3RpdmVIYW5kbGVQb3NpdGlvbj1NeSh0KTt0aGlzLl9yZWZlcmVuY2VDb29yZGluYXRlcz1WeShlLEJ5KHRoaXMuYWN0aXZlSGFuZGxlUG9zaXRpb24pKTt0aGlzLm9yaWdpbmFsV2lkdGg9bi53aWR0aDt0aGlzLm9yaWdpbmFsSGVpZ2h0PW4uaGVpZ2h0O3RoaXMuYXNwZWN0UmF0aW89bi53aWR0aC9uLmhlaWdodDtjb25zdCBvPWkuc3R5bGUud2lkdGg7aWYobyYmby5tYXRjaCgvXlxcZCtcXC4/XFxkKiUkLykpe3RoaXMub3JpZ2luYWxXaWR0aFBlcmNlbnRzPXBhcnNlRmxvYXQobyl9ZWxzZXt0aGlzLm9yaWdpbmFsV2lkdGhQZXJjZW50cz1JeShpLG4pfX11cGRhdGUodCl7dGhpcy5wcm9wb3NlZFdpZHRoPXQud2lkdGg7dGhpcy5wcm9wb3NlZEhlaWdodD10LmhlaWdodDt0aGlzLnByb3Bvc2VkV2lkdGhQZXJjZW50cz10LndpZHRoUGVyY2VudHM7dGhpcy5wcm9wb3NlZEhhbmRsZUhvc3RXaWR0aD10LmhhbmRsZUhvc3RXaWR0aDt0aGlzLnByb3Bvc2VkSGFuZGxlSG9zdEhlaWdodD10LmhhbmRsZUhvc3RIZWlnaHR9fXZzKE95LEpjKTtmdW5jdGlvbiBJeSh0LGUpe2NvbnN0IGk9dC5wYXJlbnRFbGVtZW50O2NvbnN0IG49cGFyc2VGbG9hdChpLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShpKS53aWR0aCk7cmV0dXJuIGUud2lkdGgvbioxMDB9ZnVuY3Rpb24gVnkodCxlKXtjb25zdCBpPW5ldyB2aCh0KTtjb25zdCBuPWUuc3BsaXQoXCItXCIpO2NvbnN0IG89e3g6blsxXT09XCJyaWdodFwiP2kucmlnaHQ6aS5sZWZ0LHk6blswXT09XCJib3R0b21cIj9pLmJvdHRvbTppLnRvcH07by54Kz10Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuc2Nyb2xsWDtvLnkrPXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5zY3JvbGxZO3JldHVybiBvfWZ1bmN0aW9uIE55KHQpe3JldHVybmBjay13aWRnZXRfX3Jlc2l6ZXJfX2hhbmRsZS0ke3R9YH1mdW5jdGlvbiBNeSh0KXtjb25zdCBlPVtcInRvcC1sZWZ0XCIsXCJ0b3AtcmlnaHRcIixcImJvdHRvbS1yaWdodFwiLFwiYm90dG9tLWxlZnRcIl07Zm9yKGNvbnN0IGkgb2YgZSl7aWYodC5jbGFzc0xpc3QuY29udGFpbnMoTnkoaSkpKXtyZXR1cm4gaX19fWZ1bmN0aW9uIEJ5KHQpe2NvbnN0IGU9dC5zcGxpdChcIi1cIik7Y29uc3QgaT17dG9wOlwiYm90dG9tXCIsYm90dG9tOlwidG9wXCIsbGVmdDpcInJpZ2h0XCIscmlnaHQ6XCJsZWZ0XCJ9O3JldHVybmAke2lbZVswXV19LSR7aVtlWzFdXX1gfWNsYXNzIHp5e2NvbnN0cnVjdG9yKHQpe3RoaXMuX29wdGlvbnM9dDt0aGlzLl9kb21SZXNpemVyV3JhcHBlcj1udWxsO3RoaXMuX3ZpZXdSZXNpemVyV3JhcHBlcj1udWxsO3RoaXMuc2V0KFwiaXNFbmFibGVkXCIsdHJ1ZSk7dGhpcy5kZWNvcmF0ZShcImJlZ2luXCIpO3RoaXMuZGVjb3JhdGUoXCJjYW5jZWxcIik7dGhpcy5kZWNvcmF0ZShcImNvbW1pdFwiKTt0aGlzLmRlY29yYXRlKFwidXBkYXRlU2l6ZVwiKTt0aGlzLm9uKFwiY29tbWl0XCIsdD0+e2lmKCF0aGlzLnN0YXRlLnByb3Bvc2VkV2lkdGgmJiF0aGlzLnN0YXRlLnByb3Bvc2VkV2lkdGhQZXJjZW50cyl7dGhpcy5fY2xlYW51cCgpO3Quc3RvcCgpfX0se3ByaW9yaXR5OlwiaGlnaFwifSl9YXR0YWNoKCl7Y29uc3QgdD10aGlzO2NvbnN0IGU9dGhpcy5fb3B0aW9ucy52aWV3RWxlbWVudDtjb25zdCBpPXRoaXMuX29wdGlvbnMuZWRpdG9yLmVkaXRpbmcudmlldztpLmNoYW5nZShpPT57Y29uc3Qgbj1pLmNyZWF0ZVVJRWxlbWVudChcImRpdlwiLHtjbGFzczpcImNrIGNrLXJlc2V0X2FsbCBjay13aWRnZXRfX3Jlc2l6ZXJcIn0sKGZ1bmN0aW9uKGUpe2NvbnN0IGk9dGhpcy50b0RvbUVsZW1lbnQoZSk7dC5fYXBwZW5kSGFuZGxlcyhpKTt0Ll9hcHBlbmRTaXplVUkoaSk7dC5fZG9tUmVzaXplcldyYXBwZXI9aTt0Lm9uKFwiY2hhbmdlOmlzRW5hYmxlZFwiLCh0LGUsbik9PntpLnN0eWxlLmRpc3BsYXk9bj9cIlwiOlwibm9uZVwifSk7aS5zdHlsZS5kaXNwbGF5PXQuaXNFbmFibGVkP1wiXCI6XCJub25lXCI7cmV0dXJuIGl9KSk7aS5pbnNlcnQoaS5jcmVhdGVQb3NpdGlvbkF0KGUsXCJlbmRcIiksbik7aS5hZGRDbGFzcyhcImNrLXdpZGdldF93aXRoLXJlc2l6ZXJcIixlKTt0aGlzLl92aWV3UmVzaXplcldyYXBwZXI9bn0pfWJlZ2luKHQpe3RoaXMuc3RhdGU9bmV3IE95KHRoaXMuX29wdGlvbnMpO3RoaXMuX3NpemVVSS5iaW5kVG9TdGF0ZSh0aGlzLl9vcHRpb25zLHRoaXMuc3RhdGUpO3RoaXMuc3RhdGUuYmVnaW4odCx0aGlzLl9nZXRIYW5kbGVIb3N0KCksdGhpcy5fZ2V0UmVzaXplSG9zdCgpKX11cGRhdGVTaXplKHQpe2NvbnN0IGU9dGhpcy5fcHJvcG9zZU5ld1NpemUodCk7Y29uc3QgaT10aGlzLl9vcHRpb25zLmVkaXRvci5lZGl0aW5nLnZpZXc7aS5jaGFuZ2UodD0+e2NvbnN0IGk9dGhpcy5fb3B0aW9ucy51bml0fHxcIiVcIjtjb25zdCBuPShpPT09XCIlXCI/ZS53aWR0aFBlcmNlbnRzOmUud2lkdGgpK2k7dC5zZXRTdHlsZShcIndpZHRoXCIsbix0aGlzLl9vcHRpb25zLnZpZXdFbGVtZW50KX0pO2NvbnN0IG49dGhpcy5fZ2V0SGFuZGxlSG9zdCgpO2NvbnN0IG89bmV3IHZoKG4pO2UuaGFuZGxlSG9zdFdpZHRoPU1hdGgucm91bmQoby53aWR0aCk7ZS5oYW5kbGVIb3N0SGVpZ2h0PU1hdGgucm91bmQoby5oZWlnaHQpO2NvbnN0IHI9bmV3IHZoKG4pO2Uud2lkdGg9TWF0aC5yb3VuZChyLndpZHRoKTtlLmhlaWdodD1NYXRoLnJvdW5kKHIuaGVpZ2h0KTt0aGlzLnJlZHJhdyhvKTt0aGlzLnN0YXRlLnVwZGF0ZShlKX1jb21taXQoKXtjb25zdCB0PXRoaXMuX29wdGlvbnMudW5pdHx8XCIlXCI7Y29uc3QgZT0odD09PVwiJVwiP3RoaXMuc3RhdGUucHJvcG9zZWRXaWR0aFBlcmNlbnRzOnRoaXMuc3RhdGUucHJvcG9zZWRXaWR0aCkrdDt0aGlzLl9vcHRpb25zLm9uQ29tbWl0KGUpO3RoaXMuX2NsZWFudXAoKX1jYW5jZWwoKXt0aGlzLl9jbGVhbnVwKCl9ZGVzdHJveSgpe3RoaXMuY2FuY2VsKCl9cmVkcmF3KHQpe2NvbnN0IGU9dGhpcy5fZG9tUmVzaXplcldyYXBwZXI7aWYoaShlKSl7dGhpcy5fb3B0aW9ucy5lZGl0b3IuZWRpdGluZy52aWV3LmNoYW5nZShpPT57Y29uc3Qgbj1lLnBhcmVudEVsZW1lbnQ7Y29uc3Qgbz10aGlzLl9nZXRIYW5kbGVIb3N0KCk7Y29uc3Qgcj10fHxuZXcgdmgobyk7aS5zZXRTdHlsZShcIndpZHRoXCIsci53aWR0aCtcInB4XCIsdGhpcy5fdmlld1Jlc2l6ZXJXcmFwcGVyKTtpLnNldFN0eWxlKFwiaGVpZ2h0XCIsci5oZWlnaHQrXCJweFwiLHRoaXMuX3ZpZXdSZXNpemVyV3JhcHBlcik7Y29uc3Qgcz17bGVmdDpvLm9mZnNldExlZnQsdG9wOm8ub2Zmc2V0VG9wLGhlaWdodDpvLm9mZnNldEhlaWdodCx3aWR0aDpvLm9mZnNldFdpZHRofTtpZighbi5pc1NhbWVOb2RlKG8pKXtpLnNldFN0eWxlKFwibGVmdFwiLHMubGVmdCtcInB4XCIsdGhpcy5fdmlld1Jlc2l6ZXJXcmFwcGVyKTtpLnNldFN0eWxlKFwidG9wXCIscy50b3ArXCJweFwiLHRoaXMuX3ZpZXdSZXNpemVyV3JhcHBlcik7aS5zZXRTdHlsZShcImhlaWdodFwiLHMuaGVpZ2h0K1wicHhcIix0aGlzLl92aWV3UmVzaXplcldyYXBwZXIpO2kuc2V0U3R5bGUoXCJ3aWR0aFwiLHMud2lkdGgrXCJweFwiLHRoaXMuX3ZpZXdSZXNpemVyV3JhcHBlcil9fSl9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmdC5vd25lckRvY3VtZW50JiZ0Lm93bmVyRG9jdW1lbnQuY29udGFpbnModCl9fWNvbnRhaW5zSGFuZGxlKHQpe3JldHVybiB0aGlzLl9kb21SZXNpemVyV3JhcHBlci5jb250YWlucyh0KX1zdGF0aWMgaXNSZXNpemVIYW5kbGUodCl7cmV0dXJuIHQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2std2lkZ2V0X19yZXNpemVyX19oYW5kbGVcIil9X2NsZWFudXAoKXt0aGlzLl9zaXplVUkuZGlzbWlzcygpO3RoaXMuX3NpemVVSS5pc1Zpc2libGU9ZmFsc2V9X3Byb3Bvc2VOZXdTaXplKHQpe2NvbnN0IGU9dGhpcy5zdGF0ZTtjb25zdCBpPUR5KHQpO2NvbnN0IG49dGhpcy5fb3B0aW9ucy5pc0NlbnRlcmVkP3RoaXMuX29wdGlvbnMuaXNDZW50ZXJlZCh0aGlzKTp0cnVlO2NvbnN0IG89e3g6ZS5fcmVmZXJlbmNlQ29vcmRpbmF0ZXMueC0oaS54K2Uub3JpZ2luYWxXaWR0aCkseTppLnktZS5vcmlnaW5hbEhlaWdodC1lLl9yZWZlcmVuY2VDb29yZGluYXRlcy55fTtpZihuJiZlLmFjdGl2ZUhhbmRsZVBvc2l0aW9uLmVuZHNXaXRoKFwiLXJpZ2h0XCIpKXtvLng9aS54LShlLl9yZWZlcmVuY2VDb29yZGluYXRlcy54K2Uub3JpZ2luYWxXaWR0aCl9aWYobil7by54Kj0yfWNvbnN0IHI9e3dpZHRoOk1hdGguYWJzKGUub3JpZ2luYWxXaWR0aCtvLngpLGhlaWdodDpNYXRoLmFicyhlLm9yaWdpbmFsSGVpZ2h0K28ueSl9O3IuZG9taW5hbnQ9ci53aWR0aC9lLmFzcGVjdFJhdGlvPnIuaGVpZ2h0P1wid2lkdGhcIjpcImhlaWdodFwiO3IubWF4PXJbci5kb21pbmFudF07Y29uc3Qgcz17d2lkdGg6ci53aWR0aCxoZWlnaHQ6ci5oZWlnaHR9O2lmKHIuZG9taW5hbnQ9PVwid2lkdGhcIil7cy5oZWlnaHQ9cy53aWR0aC9lLmFzcGVjdFJhdGlvfWVsc2V7cy53aWR0aD1zLmhlaWdodCplLmFzcGVjdFJhdGlvfXJldHVybnt3aWR0aDpNYXRoLnJvdW5kKHMud2lkdGgpLGhlaWdodDpNYXRoLnJvdW5kKHMuaGVpZ2h0KSx3aWR0aFBlcmNlbnRzOk1hdGgubWluKE1hdGgucm91bmQoZS5vcmlnaW5hbFdpZHRoUGVyY2VudHMvZS5vcmlnaW5hbFdpZHRoKnMud2lkdGgqMTAwKS8xMDAsMTAwKX19X2dldFJlc2l6ZUhvc3QoKXtjb25zdCB0PXRoaXMuX2RvbVJlc2l6ZXJXcmFwcGVyLnBhcmVudEVsZW1lbnQ7cmV0dXJuIHRoaXMuX29wdGlvbnMuZ2V0UmVzaXplSG9zdCh0KX1fZ2V0SGFuZGxlSG9zdCgpe2NvbnN0IHQ9dGhpcy5fZG9tUmVzaXplcldyYXBwZXIucGFyZW50RWxlbWVudDtyZXR1cm4gdGhpcy5fb3B0aW9ucy5nZXRIYW5kbGVIb3N0KHQpfV9hcHBlbmRIYW5kbGVzKHQpe2NvbnN0IGU9W1widG9wLWxlZnRcIixcInRvcC1yaWdodFwiLFwiYm90dG9tLXJpZ2h0XCIsXCJib3R0b20tbGVmdFwiXTtmb3IoY29uc3QgaSBvZiBlKXt0LmFwcGVuZENoaWxkKG5ldyBfcCh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6YGNrLXdpZGdldF9fcmVzaXplcl9faGFuZGxlICR7RnkoaSl9YH19KS5yZW5kZXIoKSl9fV9hcHBlbmRTaXplVUkodCl7Y29uc3QgZT1uZXcgTHk7ZS5yZW5kZXIoKTt0aGlzLl9zaXplVUk9ZTt0LmFwcGVuZENoaWxkKGUuZWxlbWVudCl9fXZzKHp5LEpjKTtjbGFzcyBMeSBleHRlbmRzIEdwe2NvbnN0cnVjdG9yKCl7c3VwZXIoKTtjb25zdCB0PXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1zaXplLXZpZXdcIix0LnRvKFwiYWN0aXZlSGFuZGxlUG9zaXRpb25cIix0PT50P2Bjay1vcmllbnRhdGlvbi0ke3R9YDpcIlwiKV0sc3R5bGU6e2Rpc3BsYXk6dC5pZihcImlzVmlzaWJsZVwiLFwibm9uZVwiLHQ9PiF0KX19LGNoaWxkcmVuOlt7dGV4dDp0LnRvKFwibGFiZWxcIil9XX0pfWJpbmRUb1N0YXRlKHQsZSl7dGhpcy5iaW5kKFwiaXNWaXNpYmxlXCIpLnRvKGUsXCJwcm9wb3NlZFdpZHRoXCIsZSxcInByb3Bvc2VkSGVpZ2h0XCIsKHQsZSk9PnQhPT1udWxsJiZlIT09bnVsbCk7dGhpcy5iaW5kKFwibGFiZWxcIikudG8oZSxcInByb3Bvc2VkSGFuZGxlSG9zdFdpZHRoXCIsZSxcInByb3Bvc2VkSGFuZGxlSG9zdEhlaWdodFwiLGUsXCJwcm9wb3NlZFdpZHRoUGVyY2VudHNcIiwoZSxpLG4pPT57aWYodC51bml0PT09XCJweFwiKXtyZXR1cm5gJHtlfcOXJHtpfWB9ZWxzZXtyZXR1cm5gJHtufSVgfX0pO3RoaXMuYmluZChcImFjdGl2ZUhhbmRsZVBvc2l0aW9uXCIpLnRvKGUpfWRpc21pc3MoKXt0aGlzLnVuYmluZCgpO3RoaXMuaXNWaXNpYmxlPWZhbHNlfX1mdW5jdGlvbiBGeSh0KXtyZXR1cm5gY2std2lkZ2V0X19yZXNpemVyX19oYW5kbGUtJHt0fWB9ZnVuY3Rpb24gRHkodCl7cmV0dXJue3g6dC5wYWdlWCx5OnQucGFnZVl9fXZhciBqeT1cIkV4cGVjdGVkIGEgZnVuY3Rpb25cIjtmdW5jdGlvbiBIeSh0LGUsaSl7dmFyIG49dHJ1ZSxvPXRydWU7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihqeSl9aWYoY3QoaSkpe249XCJsZWFkaW5nXCJpbiBpPyEhaS5sZWFkaW5nOm47bz1cInRyYWlsaW5nXCJpbiBpPyEhaS50cmFpbGluZzpvfXJldHVybiB1aCh0LGUse2xlYWRpbmc6bixtYXhXYWl0OmUsdHJhaWxpbmc6b30pfXZhciBXeT1IeTt2YXIgcXk9aSg3MCk7Y2xhc3MgVXkgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIldpZGdldFJlc2l6ZVwifWluaXQoKXt0aGlzLnNldChcIl92aXNpYmxlUmVzaXplclwiLG51bGwpO3RoaXMuc2V0KFwiX2FjdGl2ZVJlc2l6ZXJcIixudWxsKTt0aGlzLl9yZXNpemVycz1uZXcgTWFwO2NvbnN0IHQ9SWQud2luZG93LmRvY3VtZW50O3RoaXMuZWRpdG9yLm1vZGVsLnNjaGVtYS5zZXRBdHRyaWJ1dGVQcm9wZXJ0aWVzKFwid2lkdGhcIix7aXNGb3JtYXR0aW5nOnRydWV9KTt0aGlzLl9vYnNlcnZlcj1PYmplY3QuY3JlYXRlKHFkKTt0aGlzLl9vYnNlcnZlci5saXN0ZW5Ubyh0LFwibW91c2Vkb3duXCIsdGhpcy5fbW91c2VEb3duTGlzdGVuZXIuYmluZCh0aGlzKSk7dGhpcy5fb2JzZXJ2ZXIubGlzdGVuVG8odCxcIm1vdXNlbW92ZVwiLHRoaXMuX21vdXNlTW92ZUxpc3RlbmVyLmJpbmQodGhpcykpO3RoaXMuX29ic2VydmVyLmxpc3RlblRvKHQsXCJtb3VzZXVwXCIsdGhpcy5fbW91c2VVcExpc3RlbmVyLmJpbmQodGhpcykpO2NvbnN0IGU9KCk9PntpZih0aGlzLl92aXNpYmxlUmVzaXplcil7dGhpcy5fdmlzaWJsZVJlc2l6ZXIucmVkcmF3KCl9fTtjb25zdCBpPVd5KGUsMjAwKTt0aGlzLm9uKFwiY2hhbmdlOl92aXNpYmxlUmVzaXplclwiLGUpO3RoaXMuZWRpdG9yLnVpLm9uKFwidXBkYXRlXCIsaSk7dGhpcy5fb2JzZXJ2ZXIubGlzdGVuVG8oSWQud2luZG93LFwicmVzaXplXCIsaSk7Y29uc3Qgbj10aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuZG9jdW1lbnQuc2VsZWN0aW9uO24ub24oXCJjaGFuZ2VcIiwoKT0+e2NvbnN0IHQ9bi5nZXRTZWxlY3RlZEVsZW1lbnQoKTt0aGlzLl92aXNpYmxlUmVzaXplcj10aGlzLl9nZXRSZXNpemVyQnlWaWV3RWxlbWVudCh0KXx8bnVsbH0pfWRlc3Ryb3koKXt0aGlzLl9vYnNlcnZlci5zdG9wTGlzdGVuaW5nKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmVzaXplcnMudmFsdWVzKCkpe3QuZGVzdHJveSgpfX1hdHRhY2hUbyh0KXtjb25zdCBlPW5ldyB6eSh0KTtjb25zdCBpPXRoaXMuZWRpdG9yLnBsdWdpbnM7ZS5hdHRhY2goKTtpZihpLmhhcyhcIldpZGdldFRvb2xiYXJSZXBvc2l0b3J5XCIpKXtjb25zdCB0PWkuZ2V0KFwiV2lkZ2V0VG9vbGJhclJlcG9zaXRvcnlcIik7ZS5vbihcImJlZ2luXCIsKCk9Pnt0LmZvcmNlRGlzYWJsZWQoXCJyZXNpemVcIil9LHtwcmlvcml0eTpcImxvd2VzdFwifSk7ZS5vbihcImNhbmNlbFwiLCgpPT57dC5jbGVhckZvcmNlRGlzYWJsZWQoXCJyZXNpemVcIil9LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pO2Uub24oXCJjb21taXRcIiwoKT0+e3QuY2xlYXJGb3JjZURpc2FibGVkKFwicmVzaXplXCIpfSx7cHJpb3JpdHk6XCJoaWdoZXN0XCJ9KX10aGlzLl9yZXNpemVycy5zZXQodC52aWV3RWxlbWVudCxlKTtyZXR1cm4gZX1fZ2V0UmVzaXplckJ5SGFuZGxlKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3Jlc2l6ZXJzLnZhbHVlcygpKXtpZihlLmNvbnRhaW5zSGFuZGxlKHQpKXtyZXR1cm4gZX19fV9nZXRSZXNpemVyQnlWaWV3RWxlbWVudCh0KXtyZXR1cm4gdGhpcy5fcmVzaXplcnMuZ2V0KHQpfV9tb3VzZURvd25MaXN0ZW5lcih0LGUpe2lmKCF6eS5pc1Jlc2l6ZUhhbmRsZShlLnRhcmdldCkpe3JldHVybn1jb25zdCBpPWUudGFyZ2V0O3RoaXMuX2FjdGl2ZVJlc2l6ZXI9dGhpcy5fZ2V0UmVzaXplckJ5SGFuZGxlKGkpO2lmKHRoaXMuX2FjdGl2ZVJlc2l6ZXIpe3RoaXMuX2FjdGl2ZVJlc2l6ZXIuYmVnaW4oaSl9fV9tb3VzZU1vdmVMaXN0ZW5lcih0LGUpe2lmKHRoaXMuX2FjdGl2ZVJlc2l6ZXIpe3RoaXMuX2FjdGl2ZVJlc2l6ZXIudXBkYXRlU2l6ZShlKX19X21vdXNlVXBMaXN0ZW5lcigpe2lmKHRoaXMuX2FjdGl2ZVJlc2l6ZXIpe3RoaXMuX2FjdGl2ZVJlc2l6ZXIuY29tbWl0KCk7dGhpcy5fYWN0aXZlUmVzaXplcj1udWxsfX19dnMoVXksSmMpO2NsYXNzICR5IGV4dGVuZHMgand7cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO3RoaXMuaXNFbmFibGVkPXl2KHQpO2lmKCF0fHwhdC5oYXNBdHRyaWJ1dGUoXCJ3aWR0aFwiKSl7dGhpcy52YWx1ZT1udWxsfWVsc2V7dGhpcy52YWx1ZT17d2lkdGg6dC5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSxoZWlnaHQ6bnVsbH19fWV4ZWN1dGUodCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBpPWUuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO2UuY2hhbmdlKGU9PntlLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsdC53aWR0aCxpKX0pfX12YXIgR3k9aSg3Mik7Y2xhc3MgS3kgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW1V5XX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkltYWdlUmVzaXplXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT1uZXcgJHkodCk7dGhpcy5fcmVnaXN0ZXJTY2hlbWEoKTt0aGlzLl9yZWdpc3RlckNvbnZlcnRlcnMoKTt0LmNvbW1hbmRzLmFkZChcImltYWdlUmVzaXplXCIsZSk7dC5lZGl0aW5nLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImluc2VydDppbWFnZVwiLChpLG4sbyk9Pntjb25zdCByPW8ubWFwcGVyLnRvVmlld0VsZW1lbnQobi5pdGVtKTtjb25zdCBzPXQucGx1Z2lucy5nZXQoVXkpLmF0dGFjaFRvKHt1bml0OnQuY29uZmlnLmdldChcImltYWdlLnJlc2l6ZVVuaXRcIil8fFwiJVwiLG1vZGVsRWxlbWVudDpuLml0ZW0sdmlld0VsZW1lbnQ6cixlZGl0b3I6dCxnZXRIYW5kbGVIb3N0KHQpe3JldHVybiB0LnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIil9LGdldFJlc2l6ZUhvc3QodCl7cmV0dXJuIHR9LGlzQ2VudGVyZWQoKXtjb25zdCB0PW4uaXRlbS5nZXRBdHRyaWJ1dGUoXCJpbWFnZVN0eWxlXCIpO3JldHVybiF0fHx0PT1cImZ1bGxcInx8dD09XCJhbGlnbkNlbnRlclwifSxvbkNvbW1pdChlKXt0LmV4ZWN1dGUoXCJpbWFnZVJlc2l6ZVwiLHt3aWR0aDplfSl9fSk7cy5vbihcInVwZGF0ZVNpemVcIiwoKT0+e2lmKCFyLmhhc0NsYXNzKFwiaW1hZ2VfcmVzaXplZFwiKSl7dC5lZGl0aW5nLnZpZXcuY2hhbmdlKHQ9Pnt0LmFkZENsYXNzKFwiaW1hZ2VfcmVzaXplZFwiLHIpfSl9fSk7cy5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKGUpfSx7cHJpb3JpdHk6XCJsb3dcIn0pfV9yZWdpc3RlclNjaGVtYSgpe3RoaXMuZWRpdG9yLm1vZGVsLnNjaGVtYS5leHRlbmQoXCJpbWFnZVwiLHthbGxvd0F0dHJpYnV0ZXM6XCJ3aWR0aFwifSl9X3JlZ2lzdGVyQ29udmVydGVycygpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5jb252ZXJzaW9uLmZvcihcImRvd25jYXN0XCIpLmFkZCh0PT50Lm9uKFwiYXR0cmlidXRlOndpZHRoOmltYWdlXCIsKHQsZSxpKT0+e2lmKCFpLmNvbnN1bWFibGUuY29uc3VtZShlLml0ZW0sdC5uYW1lKSl7cmV0dXJufWNvbnN0IG49aS53cml0ZXI7Y29uc3Qgbz1pLm1hcHBlci50b1ZpZXdFbGVtZW50KGUuaXRlbSk7aWYoZS5hdHRyaWJ1dGVOZXdWYWx1ZSE9PW51bGwpe24uc2V0U3R5bGUoXCJ3aWR0aFwiLGUuYXR0cmlidXRlTmV3VmFsdWUsbyk7bi5hZGRDbGFzcyhcImltYWdlX3Jlc2l6ZWRcIixvKX1lbHNle24ucmVtb3ZlU3R5bGUoXCJ3aWR0aFwiLG8pO24ucmVtb3ZlQ2xhc3MoXCJpbWFnZV9yZXNpemVkXCIsbyl9fSkpO3QuY29udmVyc2lvbi5mb3IoXCJ1cGNhc3RcIikuYXR0cmlidXRlVG9BdHRyaWJ1dGUoe3ZpZXc6e25hbWU6XCJmaWd1cmVcIixzdHlsZXM6e3dpZHRoOi8uKy99fSxtb2RlbDp7a2V5Olwid2lkdGhcIix2YWx1ZTp0PT50LmdldFN0eWxlKFwid2lkdGhcIil9fSl9fWNsYXNzIEp5IGV4dGVuZHMgR3B7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7dGhpcy5idXR0b25WaWV3PW5ldyBoYih0KTt0aGlzLl9maWxlSW5wdXRWaWV3PW5ldyBZeSh0KTt0aGlzLl9maWxlSW5wdXRWaWV3LmJpbmQoXCJhY2NlcHRlZFR5cGVcIikudG8odGhpcyk7dGhpcy5fZmlsZUlucHV0Vmlldy5iaW5kKFwiYWxsb3dNdWx0aXBsZUZpbGVzXCIpLnRvKHRoaXMpO3RoaXMuX2ZpbGVJbnB1dFZpZXcuZGVsZWdhdGUoXCJkb25lXCIpLnRvKHRoaXMpO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcInNwYW5cIixhdHRyaWJ1dGVzOntjbGFzczpcImNrLWZpbGUtZGlhbG9nLWJ1dHRvblwifSxjaGlsZHJlbjpbdGhpcy5idXR0b25WaWV3LHRoaXMuX2ZpbGVJbnB1dFZpZXddfSk7dGhpcy5idXR0b25WaWV3Lm9uKFwiZXhlY3V0ZVwiLCgpPT57dGhpcy5fZmlsZUlucHV0Vmlldy5vcGVuKCl9KX1mb2N1cygpe3RoaXMuYnV0dG9uVmlldy5mb2N1cygpfX1jbGFzcyBZeSBleHRlbmRzIEdwe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3RoaXMuc2V0KFwiYWNjZXB0ZWRUeXBlXCIpO3RoaXMuc2V0KFwiYWxsb3dNdWx0aXBsZUZpbGVzXCIsZmFsc2UpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiaW5wdXRcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJjay1oaWRkZW5cIl0sdHlwZTpcImZpbGVcIix0YWJpbmRleDpcIi0xXCIsYWNjZXB0OmUudG8oXCJhY2NlcHRlZFR5cGVcIiksbXVsdGlwbGU6ZS50byhcImFsbG93TXVsdGlwbGVGaWxlc1wiKX0sb246e2NoYW5nZTplLnRvKCgpPT57aWYodGhpcy5lbGVtZW50JiZ0aGlzLmVsZW1lbnQuZmlsZXMmJnRoaXMuZWxlbWVudC5maWxlcy5sZW5ndGgpe3RoaXMuZmlyZShcImRvbmVcIix0aGlzLmVsZW1lbnQuZmlsZXMpfXRoaXMuZWxlbWVudC52YWx1ZT1cIlwifSl9fSl9b3Blbigpe3RoaXMuZWxlbWVudC5jbGljaygpfX12YXIgUXk9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTYuOTEgMTAuNTRjLjI2LS4yMy42NC0uMjEuODguMDNsMy4zNiAzLjE0IDIuMjMtMi4wNmEuNjQuNjQgMCAwIDEgLjg3IDBsMi41MiAyLjk3VjQuNUgzLjJ2MTAuMTJsMy43MS00LjA4em0xMC4yNy03LjUxYy42IDAgMS4wOS40NyAxLjA5IDEuMDV2MTEuODRjMCAuNTktLjQ5IDEuMDYtMS4wOSAxLjA2SDIuNzljLS42IDAtMS4wOS0uNDctMS4wOS0xLjA2VjQuMDhjMC0uNTguNDktMS4wNSAxLjEtMS4wNWgxNC4zOHptLTUuMjIgNS41NmExLjk2IDEuOTYgMCAxIDEgMy40LTEuOTYgMS45NiAxLjk2IDAgMCAxLTMuNCAxLjk2elwiLz48L3N2Zz4nO2Z1bmN0aW9uIFh5KHQpe2NvbnN0IGU9dC5tYXAodD0+dC5yZXBsYWNlKFwiK1wiLFwiXFxcXCtcIikpO3JldHVybiBuZXcgUmVnRXhwKGBeaW1hZ2VcXFxcLygke2Uuam9pbihcInxcIil9KSRgKX1mdW5jdGlvbiBaeSh0KXtyZXR1cm4gbmV3IFByb21pc2UoKGUsaSk9Pntjb25zdCBuPXQuZ2V0QXR0cmlidXRlKFwic3JjXCIpO2ZldGNoKG4pLnRoZW4odD0+dC5ibG9iKCkpLnRoZW4odD0+e2NvbnN0IG89ZXgodCxuKTtjb25zdCByPW8ucmVwbGFjZShcImltYWdlL1wiLFwiXCIpO2NvbnN0IHM9YGltYWdlLiR7cn1gO2NvbnN0IGE9aXgodCxzLG8pO2E/ZShhKTppKCl9KS5jYXRjaChpKX0pfWZ1bmN0aW9uIHR4KHQpe2lmKCF0LmlzKFwiZWxlbWVudFwiLFwiaW1nXCIpfHwhdC5nZXRBdHRyaWJ1dGUoXCJzcmNcIikpe3JldHVybiBmYWxzZX1yZXR1cm4gdC5nZXRBdHRyaWJ1dGUoXCJzcmNcIikubWF0Y2goL15kYXRhOmltYWdlXFwvXFx3KztiYXNlNjQsL2cpfHx0LmdldEF0dHJpYnV0ZShcInNyY1wiKS5tYXRjaCgvXmJsb2I6L2cpfWZ1bmN0aW9uIGV4KHQsZSl7aWYodC50eXBlKXtyZXR1cm4gdC50eXBlfWVsc2UgaWYoZS5tYXRjaCgvZGF0YTooaW1hZ2VcXC9cXHcrKTtiYXNlNjQvKSl7cmV0dXJuIGUubWF0Y2goL2RhdGE6KGltYWdlXFwvXFx3Kyk7YmFzZTY0LylbMV0udG9Mb3dlckNhc2UoKX1lbHNle3JldHVyblwiaW1hZ2UvanBlZ1wifX1mdW5jdGlvbiBpeCh0LGUsaSl7dHJ5e3JldHVybiBuZXcgRmlsZShbdF0sZSx7dHlwZTppfSl9Y2F0Y2godCl7cmV0dXJuIG51bGx9fWNsYXNzIG54IGV4dGVuZHMgbXB7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LnQ7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcImltYWdlVXBsb2FkXCIsaT0+e2NvbnN0IG49bmV3IEp5KGkpO2NvbnN0IG89dC5jb21tYW5kcy5nZXQoXCJpbWFnZVVwbG9hZFwiKTtjb25zdCByPXQuY29uZmlnLmdldChcImltYWdlLnVwbG9hZC50eXBlc1wiKTtjb25zdCBzPVh5KHIpO24uc2V0KHthY2NlcHRlZFR5cGU6ci5tYXAodD0+YGltYWdlLyR7dH1gKS5qb2luKFwiLFwiKSxhbGxvd011bHRpcGxlRmlsZXM6dHJ1ZX0pO24uYnV0dG9uVmlldy5zZXQoe2xhYmVsOmUoXCJrZFwiKSxpY29uOlF5LHRvb2x0aXA6dHJ1ZX0pO24uYnV0dG9uVmlldy5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKG8pO24ub24oXCJkb25lXCIsKGUsaSk9Pntjb25zdCBuPUFycmF5LmZyb20oaSkuZmlsdGVyKHQ9PnMudGVzdCh0LnR5cGUpKTtpZihuLmxlbmd0aCl7dC5leGVjdXRlKFwiaW1hZ2VVcGxvYWRcIix7ZmlsZTpufSl9fSk7cmV0dXJuIG59KX19dmFyIG94PSc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDcwMCAyNTBcIj48cmVjdCByeD1cIjRcIi8+PC9zdmc+Jzt2YXIgcng9aSg3NCk7dmFyIHN4PWkoNzYpO3ZhciBheD1pKDc4KTtjbGFzcyBjeCBleHRlbmRzIG1we2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3RoaXMucGxhY2Vob2xkZXI9XCJkYXRhOmltYWdlL3N2Zyt4bWw7dXRmOCxcIitlbmNvZGVVUklDb21wb25lbnQob3gpfWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO3QuZWRpdGluZy5kb3duY2FzdERpc3BhdGNoZXIub24oXCJhdHRyaWJ1dGU6dXBsb2FkU3RhdHVzOmltYWdlXCIsKC4uLnQpPT50aGlzLnVwbG9hZFN0YXR1c0NoYW5nZSguLi50KSl9dXBsb2FkU3RhdHVzQ2hhbmdlKHQsZSxpKXtjb25zdCBuPXRoaXMuZWRpdG9yO2NvbnN0IG89ZS5pdGVtO2NvbnN0IHI9by5nZXRBdHRyaWJ1dGUoXCJ1cGxvYWRJZFwiKTtpZighaS5jb25zdW1hYmxlLmNvbnN1bWUoZS5pdGVtLHQubmFtZSkpe3JldHVybn1jb25zdCBzPW4ucGx1Z2lucy5nZXQobGspO2NvbnN0IGE9cj9lLmF0dHJpYnV0ZU5ld1ZhbHVlOm51bGw7Y29uc3QgYz10aGlzLnBsYWNlaG9sZGVyO2NvbnN0IGw9bi5lZGl0aW5nLm1hcHBlci50b1ZpZXdFbGVtZW50KG8pO2NvbnN0IGQ9aS53cml0ZXI7aWYoYT09XCJyZWFkaW5nXCIpe2x4KGwsZCk7dXgoYyxsLGQpO3JldHVybn1pZihhPT1cInVwbG9hZGluZ1wiKXtjb25zdCB0PXMubG9hZGVycy5nZXQocik7bHgobCxkKTtpZighdCl7dXgoYyxsLGQpfWVsc2V7aHgobCxkKTtmeChsLGQsdCxuLmVkaXRpbmcudmlldyk7X3gobCxkLHQpfXJldHVybn1pZihhPT1cImNvbXBsZXRlXCImJnMubG9hZGVycy5nZXQocikmJiFBbC5pc0VkZ2Upe214KGwsZCxuLmVkaXRpbmcudmlldyl9Z3gobCxkKTtoeChsLGQpO2R4KGwsZCl9fWZ1bmN0aW9uIGx4KHQsZSl7aWYoIXQuaGFzQ2xhc3MoXCJjay1hcHBlYXJcIikpe2UuYWRkQ2xhc3MoXCJjay1hcHBlYXJcIix0KX19ZnVuY3Rpb24gZHgodCxlKXtlLnJlbW92ZUNsYXNzKFwiY2stYXBwZWFyXCIsdCl9ZnVuY3Rpb24gdXgodCxlLGkpe2lmKCFlLmhhc0NsYXNzKFwiY2staW1hZ2UtdXBsb2FkLXBsYWNlaG9sZGVyXCIpKXtpLmFkZENsYXNzKFwiY2staW1hZ2UtdXBsb2FkLXBsYWNlaG9sZGVyXCIsZSl9Y29uc3Qgbj1BdihlKTtpZihuLmdldEF0dHJpYnV0ZShcInNyY1wiKSE9PXQpe2kuc2V0QXR0cmlidXRlKFwic3JjXCIsdCxuKX1pZighd3goZSxcInBsYWNlaG9sZGVyXCIpKXtpLmluc2VydChpLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIobiksYngoaSkpfX1mdW5jdGlvbiBoeCh0LGUpe2lmKHQuaGFzQ2xhc3MoXCJjay1pbWFnZS11cGxvYWQtcGxhY2Vob2xkZXJcIikpe2UucmVtb3ZlQ2xhc3MoXCJjay1pbWFnZS11cGxvYWQtcGxhY2Vob2xkZXJcIix0KX1reCh0LGUsXCJwbGFjZWhvbGRlclwiKX1mdW5jdGlvbiBmeCh0LGUsaSxuKXtjb25zdCBvPXB4KGUpO2UuaW5zZXJ0KGUuY3JlYXRlUG9zaXRpb25BdCh0LFwiZW5kXCIpLG8pO2kub24oXCJjaGFuZ2U6dXBsb2FkZWRQZXJjZW50XCIsKHQsZSxpKT0+e24uY2hhbmdlKHQ9Pnt0LnNldFN0eWxlKFwid2lkdGhcIixpK1wiJVwiLG8pfSl9KX1mdW5jdGlvbiBneCh0LGUpe2t4KHQsZSxcInByb2dyZXNzQmFyXCIpfWZ1bmN0aW9uIG14KHQsZSxpKXtjb25zdCBuPWUuY3JlYXRlVUlFbGVtZW50KFwiZGl2XCIse2NsYXNzOlwiY2staW1hZ2UtdXBsb2FkLWNvbXBsZXRlLWljb25cIn0pO2UuaW5zZXJ0KGUuY3JlYXRlUG9zaXRpb25BdCh0LFwiZW5kXCIpLG4pO3NldFRpbWVvdXQoKCk9PntpLmNoYW5nZSh0PT50LnJlbW92ZSh0LmNyZWF0ZVJhbmdlT24obikpKX0sM2UzKX1mdW5jdGlvbiBweCh0KXtjb25zdCBlPXQuY3JlYXRlVUlFbGVtZW50KFwiZGl2XCIse2NsYXNzOlwiY2stcHJvZ3Jlc3MtYmFyXCJ9KTt0LnNldEN1c3RvbVByb3BlcnR5KFwicHJvZ3Jlc3NCYXJcIix0cnVlLGUpO3JldHVybiBlfWZ1bmN0aW9uIGJ4KHQpe2NvbnN0IGU9dC5jcmVhdGVVSUVsZW1lbnQoXCJkaXZcIix7Y2xhc3M6XCJjay11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVyXCJ9KTt0LnNldEN1c3RvbVByb3BlcnR5KFwicGxhY2Vob2xkZXJcIix0cnVlLGUpO3JldHVybiBlfWZ1bmN0aW9uIHd4KHQsZSl7Zm9yKGNvbnN0IGkgb2YgdC5nZXRDaGlsZHJlbigpKXtpZihpLmdldEN1c3RvbVByb3BlcnR5KGUpKXtyZXR1cm4gaX19fWZ1bmN0aW9uIGt4KHQsZSxpKXtjb25zdCBuPXd4KHQsaSk7aWYobil7ZS5yZW1vdmUoZS5jcmVhdGVSYW5nZU9uKG4pKX19ZnVuY3Rpb24gX3godCxlLGkpe2lmKGkuZGF0YSl7Y29uc3Qgbj1Bdih0KTtlLnNldEF0dHJpYnV0ZShcInNyY1wiLGkuZGF0YSxuKX19Y2xhc3MgdnggZXh0ZW5kcyBza3tzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIk5vdGlmaWNhdGlvblwifWluaXQoKXt0aGlzLm9uKFwic2hvdzp3YXJuaW5nXCIsKHQsZSk9Pnt3aW5kb3cuYWxlcnQoZS5tZXNzYWdlKX0se3ByaW9yaXR5OlwibG93ZXN0XCJ9KX1zaG93U3VjY2Vzcyh0LGU9e30pe3RoaXMuX3Nob3dOb3RpZmljYXRpb24oe21lc3NhZ2U6dCx0eXBlOlwic3VjY2Vzc1wiLG5hbWVzcGFjZTplLm5hbWVzcGFjZSx0aXRsZTplLnRpdGxlfSl9c2hvd0luZm8odCxlPXt9KXt0aGlzLl9zaG93Tm90aWZpY2F0aW9uKHttZXNzYWdlOnQsdHlwZTpcImluZm9cIixuYW1lc3BhY2U6ZS5uYW1lc3BhY2UsdGl0bGU6ZS50aXRsZX0pfXNob3dXYXJuaW5nKHQsZT17fSl7dGhpcy5fc2hvd05vdGlmaWNhdGlvbih7bWVzc2FnZTp0LHR5cGU6XCJ3YXJuaW5nXCIsbmFtZXNwYWNlOmUubmFtZXNwYWNlLHRpdGxlOmUudGl0bGV9KX1fc2hvd05vdGlmaWNhdGlvbih0KXtjb25zdCBlPWBzaG93OiR7dC50eXBlfWArKHQubmFtZXNwYWNlP2A6JHt0Lm5hbWVzcGFjZX1gOlwiXCIpO3RoaXMuZmlyZShlLHttZXNzYWdlOnQubWVzc2FnZSx0eXBlOnQudHlwZSx0aXRsZTp0LnRpdGxlfHxcIlwifSl9fWNsYXNzIHl4e2NvbnN0cnVjdG9yKHQpe3RoaXMuZmlsZXM9eHgodCk7dGhpcy5fbmF0aXZlPXR9Z2V0IHR5cGVzKCl7cmV0dXJuIHRoaXMuX25hdGl2ZS50eXBlc31nZXREYXRhKHQpe3JldHVybiB0aGlzLl9uYXRpdmUuZ2V0RGF0YSh0KX1zZXREYXRhKHQsZSl7dGhpcy5fbmF0aXZlLnNldERhdGEodCxlKX19ZnVuY3Rpb24geHgodCl7Y29uc3QgZT10LmZpbGVzP0FycmF5LmZyb20odC5maWxlcyk6W107Y29uc3QgaT10Lml0ZW1zP0FycmF5LmZyb20odC5pdGVtcyk6W107aWYoZS5sZW5ndGgpe3JldHVybiBlfXJldHVybiBpLmZpbHRlcih0PT50LmtpbmQ9PT1cImZpbGVcIikubWFwKHQ9PnQuZ2V0QXNGaWxlKCkpfWNsYXNzIEN4IGV4dGVuZHMgSnV7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmRvY3VtZW50O3RoaXMuZG9tRXZlbnRUeXBlPVtcInBhc3RlXCIsXCJjb3B5XCIsXCJjdXRcIixcImRyb3BcIixcImRyYWdvdmVyXCJdO3RoaXMubGlzdGVuVG8oZSxcInBhc3RlXCIsaSx7cHJpb3JpdHk6XCJsb3dcIn0pO3RoaXMubGlzdGVuVG8oZSxcImRyb3BcIixpLHtwcmlvcml0eTpcImxvd1wifSk7ZnVuY3Rpb24gaSh0LGkpe2kucHJldmVudERlZmF1bHQoKTtjb25zdCBuPWkuZHJvcFJhbmdlP1tpLmRyb3BSYW5nZV06QXJyYXkuZnJvbShlLnNlbGVjdGlvbi5nZXRSYW5nZXMoKSk7Y29uc3Qgbz1uZXcgdHMoZSxcImNsaXBib2FyZElucHV0XCIpO2UuZmlyZShvLHtkYXRhVHJhbnNmZXI6aS5kYXRhVHJhbnNmZXIsdGFyZ2V0UmFuZ2VzOm59KTtpZihvLnN0b3AuY2FsbGVkKXtpLnN0b3BQcm9wYWdhdGlvbigpfX19b25Eb21FdmVudCh0KXtjb25zdCBlPXtkYXRhVHJhbnNmZXI6bmV3IHl4KHQuY2xpcGJvYXJkRGF0YT90LmNsaXBib2FyZERhdGE6dC5kYXRhVHJhbnNmZXIpfTtpZih0LnR5cGU9PVwiZHJvcFwiKXtlLmRyb3BSYW5nZT1BeCh0aGlzLnZpZXcsdCl9dGhpcy5maXJlKHQudHlwZSx0LGUpfX1mdW5jdGlvbiBBeCh0LGUpe2NvbnN0IGk9ZS50YXJnZXQub3duZXJEb2N1bWVudDtjb25zdCBuPWUuY2xpZW50WDtjb25zdCBvPWUuY2xpZW50WTtsZXQgcjtpZihpLmNhcmV0UmFuZ2VGcm9tUG9pbnQmJmkuY2FyZXRSYW5nZUZyb21Qb2ludChuLG8pKXtyPWkuY2FyZXRSYW5nZUZyb21Qb2ludChuLG8pfWVsc2UgaWYoZS5yYW5nZVBhcmVudCl7cj1pLmNyZWF0ZVJhbmdlKCk7ci5zZXRTdGFydChlLnJhbmdlUGFyZW50LGUucmFuZ2VPZmZzZXQpO3IuY29sbGFwc2UodHJ1ZSl9aWYocil7cmV0dXJuIHQuZG9tQ29udmVydGVyLmRvbVJhbmdlVG9WaWV3KHIpfWVsc2V7cmV0dXJuIHQuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKX19ZnVuY3Rpb24gVHgodCl7dD10LnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKS5yZXBsYWNlKC9cXG4vZyxcIjwvcD48cD5cIikucmVwbGFjZSgvXlxccy8sXCImbmJzcDtcIikucmVwbGFjZSgvXFxzJC8sXCImbmJzcDtcIikucmVwbGFjZSgvXFxzXFxzL2csXCIgJm5ic3A7XCIpO2lmKHQuaW5kZXhPZihcIjwvcD48cD5cIik+LTEpe3Q9YDxwPiR7dH08L3A+YH1yZXR1cm4gdH1mdW5jdGlvbiBQeCh0KXtyZXR1cm4gdC5yZXBsYWNlKC88c3Bhbig/OiBjbGFzcz1cIkFwcGxlLWNvbnZlcnRlZC1zcGFjZVwifCk+KFxccyspPFxcL3NwYW4+L2csKHQsZSk9PntpZihlLmxlbmd0aD09MSl7cmV0dXJuXCIgXCJ9cmV0dXJuIGV9KX1jb25zdCBTeD1bXCJmaWdjYXB0aW9uXCIsXCJsaVwiXTtmdW5jdGlvbiBFeCh0KXtsZXQgZT1cIlwiO2lmKHQuaXMoXCJ0ZXh0XCIpfHx0LmlzKFwidGV4dFByb3h5XCIpKXtlPXQuZGF0YX1lbHNlIGlmKHQuaXMoXCJpbWdcIikmJnQuaGFzQXR0cmlidXRlKFwiYWx0XCIpKXtlPXQuZ2V0QXR0cmlidXRlKFwiYWx0XCIpfWVsc2V7bGV0IGk9bnVsbDtmb3IoY29uc3QgbiBvZiB0LmdldENoaWxkcmVuKCkpe2NvbnN0IHQ9RXgobik7aWYoaSYmKGkuaXMoXCJjb250YWluZXJFbGVtZW50XCIpfHxuLmlzKFwiY29udGFpbmVyRWxlbWVudFwiKSkpe2lmKFN4LmluY2x1ZGVzKGkubmFtZSl8fFN4LmluY2x1ZGVzKG4ubmFtZSkpe2UrPVwiXFxuXCJ9ZWxzZXtlKz1cIlxcblxcblwifX1lKz10O2k9bn19cmV0dXJuIGV9Y2xhc3MgUnggZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkNsaXBib2FyZFwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5tb2RlbC5kb2N1bWVudDtjb25zdCBpPXQuZWRpdGluZy52aWV3O2NvbnN0IG49aS5kb2N1bWVudDt0aGlzLl9odG1sRGF0YVByb2Nlc3Nvcj1uZXcgZ3Aobik7aS5hZGRPYnNlcnZlcihDeCk7dGhpcy5saXN0ZW5UbyhuLFwiY2xpcGJvYXJkSW5wdXRcIixlPT57aWYodC5pc1JlYWRPbmx5KXtlLnN0b3AoKX19LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pO3RoaXMubGlzdGVuVG8obixcImNsaXBib2FyZElucHV0XCIsKHQsZSk9Pntjb25zdCBuPWUuZGF0YVRyYW5zZmVyO2xldCBvPVwiXCI7aWYobi5nZXREYXRhKFwidGV4dC9odG1sXCIpKXtvPVB4KG4uZ2V0RGF0YShcInRleHQvaHRtbFwiKSl9ZWxzZSBpZihuLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKXtvPVR4KG4uZ2V0RGF0YShcInRleHQvcGxhaW5cIikpfW89dGhpcy5faHRtbERhdGFQcm9jZXNzb3IudG9WaWV3KG8pO3RoaXMuZmlyZShcImlucHV0VHJhbnNmb3JtYXRpb25cIix7Y29udGVudDpvLGRhdGFUcmFuc2ZlcjpufSk7aS5zY3JvbGxUb1RoZVNlbGVjdGlvbigpfSx7cHJpb3JpdHk6XCJsb3dcIn0pO3RoaXMubGlzdGVuVG8odGhpcyxcImlucHV0VHJhbnNmb3JtYXRpb25cIiwodCxlKT0+e2lmKCFlLmNvbnRlbnQuaXNFbXB0eSl7Y29uc3QgdD10aGlzLmVkaXRvci5kYXRhO2NvbnN0IGk9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3Qgbj10LnRvTW9kZWwoZS5jb250ZW50LFwiJGNsaXBib2FyZEhvbGRlclwiKTtpZihuLmNoaWxkQ291bnQ9PTApe3JldHVybn1pLmluc2VydENvbnRlbnQobil9fSx7cHJpb3JpdHk6XCJsb3dcIn0pO2Z1bmN0aW9uIG8oaSxvKXtjb25zdCByPW8uZGF0YVRyYW5zZmVyO28ucHJldmVudERlZmF1bHQoKTtjb25zdCBzPXQuZGF0YS50b1ZpZXcodC5tb2RlbC5nZXRTZWxlY3RlZENvbnRlbnQoZS5zZWxlY3Rpb24pKTtuLmZpcmUoXCJjbGlwYm9hcmRPdXRwdXRcIix7ZGF0YVRyYW5zZmVyOnIsY29udGVudDpzLG1ldGhvZDppLm5hbWV9KX10aGlzLmxpc3RlblRvKG4sXCJjb3B5XCIsbyx7cHJpb3JpdHk6XCJsb3dcIn0pO3RoaXMubGlzdGVuVG8obixcImN1dFwiLChlLGkpPT57aWYodC5pc1JlYWRPbmx5KXtpLnByZXZlbnREZWZhdWx0KCl9ZWxzZXtvKGUsaSl9fSx7cHJpb3JpdHk6XCJsb3dcIn0pO3RoaXMubGlzdGVuVG8obixcImNsaXBib2FyZE91dHB1dFwiLChpLG4pPT57aWYoIW4uY29udGVudC5pc0VtcHR5KXtuLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dC9odG1sXCIsdGhpcy5faHRtbERhdGFQcm9jZXNzb3IudG9EYXRhKG4uY29udGVudCkpO24uZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsRXgobi5jb250ZW50KSl9aWYobi5tZXRob2Q9PVwiY3V0XCIpe3QubW9kZWwuZGVsZXRlQ29udGVudChlLnNlbGVjdGlvbil9fSx7cHJpb3JpdHk6XCJsb3dcIn0pfX1jbGFzcyBPeHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmRvY3VtZW50PXR9Y3JlYXRlRG9jdW1lbnRGcmFnbWVudCh0KXtyZXR1cm4gbmV3IHFsKHRoaXMuZG9jdW1lbnQsdCl9Y3JlYXRlRWxlbWVudCh0LGUsaSl7cmV0dXJuIG5ldyB6Yyh0aGlzLmRvY3VtZW50LHQsZSxpKX1jcmVhdGVUZXh0KHQpe3JldHVybiBuZXcgTHModGhpcy5kb2N1bWVudCx0KX1jbG9uZSh0LGU9ZmFsc2Upe3JldHVybiB0Ll9jbG9uZShlKX1hcHBlbmRDaGlsZCh0LGUpe3JldHVybiBlLl9hcHBlbmRDaGlsZCh0KX1pbnNlcnRDaGlsZCh0LGUsaSl7cmV0dXJuIGkuX2luc2VydENoaWxkKHQsZSl9cmVtb3ZlQ2hpbGRyZW4odCxlLGkpe3JldHVybiBpLl9yZW1vdmVDaGlsZHJlbih0LGUpfXJlbW92ZSh0KXtjb25zdCBlPXQucGFyZW50O2lmKGUpe3JldHVybiB0aGlzLnJlbW92ZUNoaWxkcmVuKGUuZ2V0Q2hpbGRJbmRleCh0KSwxLGUpfXJldHVybltdfXJlcGxhY2UodCxlKXtjb25zdCBpPXQucGFyZW50O2lmKGkpe2NvbnN0IG49aS5nZXRDaGlsZEluZGV4KHQpO3RoaXMucmVtb3ZlQ2hpbGRyZW4obiwxLGkpO3RoaXMuaW5zZXJ0Q2hpbGQobixlLGkpO3JldHVybiB0cnVlfXJldHVybiBmYWxzZX11bndyYXBFbGVtZW50KHQpe2NvbnN0IGU9dC5wYXJlbnQ7aWYoZSl7Y29uc3QgaT1lLmdldENoaWxkSW5kZXgodCk7dGhpcy5yZW1vdmUodCk7dGhpcy5pbnNlcnRDaGlsZChpLHQuZ2V0Q2hpbGRyZW4oKSxlKX19cmVuYW1lKHQsZSl7Y29uc3QgaT1uZXcgemModGhpcy5kb2N1bWVudCx0LGUuZ2V0QXR0cmlidXRlcygpLGUuZ2V0Q2hpbGRyZW4oKSk7cmV0dXJuIHRoaXMucmVwbGFjZShlLGkpP2k6bnVsbH1zZXRBdHRyaWJ1dGUodCxlLGkpe2kuX3NldEF0dHJpYnV0ZSh0LGUpfXJlbW92ZUF0dHJpYnV0ZSh0LGUpe2UuX3JlbW92ZUF0dHJpYnV0ZSh0KX1hZGRDbGFzcyh0LGUpe2UuX2FkZENsYXNzKHQpfXJlbW92ZUNsYXNzKHQsZSl7ZS5fcmVtb3ZlQ2xhc3ModCl9c2V0U3R5bGUodCxlLGkpe2lmKE4odCkmJmk9PT11bmRlZmluZWQpe2k9ZX1pLl9zZXRTdHlsZSh0LGUpfXJlbW92ZVN0eWxlKHQsZSl7ZS5fcmVtb3ZlU3R5bGUodCl9c2V0Q3VzdG9tUHJvcGVydHkodCxlLGkpe2kuX3NldEN1c3RvbVByb3BlcnR5KHQsZSl9cmVtb3ZlQ3VzdG9tUHJvcGVydHkodCxlKXtyZXR1cm4gZS5fcmVtb3ZlQ3VzdG9tUHJvcGVydHkodCl9Y3JlYXRlUG9zaXRpb25BdCh0LGUpe3JldHVybiBkbC5fY3JlYXRlQXQodCxlKX1jcmVhdGVQb3NpdGlvbkFmdGVyKHQpe3JldHVybiBkbC5fY3JlYXRlQWZ0ZXIodCl9Y3JlYXRlUG9zaXRpb25CZWZvcmUodCl7cmV0dXJuIGRsLl9jcmVhdGVCZWZvcmUodCl9Y3JlYXRlUmFuZ2UodCxlKXtyZXR1cm4gbmV3IHVsKHQsZSl9Y3JlYXRlUmFuZ2VPbih0KXtyZXR1cm4gdWwuX2NyZWF0ZU9uKHQpfWNyZWF0ZVJhbmdlSW4odCl7cmV0dXJuIHVsLl9jcmVhdGVJbih0KX1jcmVhdGVTZWxlY3Rpb24odCxlLGkpe3JldHVybiBuZXcgZ2wodCxlLGkpfX1jbGFzcyBJeCBleHRlbmRzIGp3e3JlZnJlc2goKXt0aGlzLmlzRW5hYmxlZD1Ddih0aGlzLmVkaXRvci5tb2RlbCl9ZXhlY3V0ZSh0KXtjb25zdCBlPXRoaXMuZWRpdG9yO2NvbnN0IGk9ZS5tb2RlbDtjb25zdCBuPWUucGx1Z2lucy5nZXQobGspO2kuY2hhbmdlKGU9Pntjb25zdCBvPUFycmF5LmlzQXJyYXkodC5maWxlKT90LmZpbGU6W3QuZmlsZV07Zm9yKGNvbnN0IHQgb2Ygbyl7VngoZSxpLG4sdCl9fSl9fWZ1bmN0aW9uIFZ4KHQsZSxpLG4pe2NvbnN0IG89aS5jcmVhdGVMb2FkZXIobik7aWYoIW8pe3JldHVybn14dih0LGUse3VwbG9hZElkOm8uaWR9KX1jbGFzcyBOeCBleHRlbmRzIG1we3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bbGssdngsUnhdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW1hZ2VVcGxvYWRFZGl0aW5nXCJ9Y29uc3RydWN0b3IodCl7c3VwZXIodCk7dC5jb25maWcuZGVmaW5lKFwiaW1hZ2VcIix7dXBsb2FkOnt0eXBlczpbXCJqcGVnXCIsXCJwbmdcIixcImdpZlwiLFwiYm1wXCIsXCJ3ZWJwXCIsXCJ0aWZmXCJdfX0pfWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5tb2RlbC5kb2N1bWVudDtjb25zdCBpPXQubW9kZWwuc2NoZW1hO2NvbnN0IG49dC5jb252ZXJzaW9uO2NvbnN0IG89dC5wbHVnaW5zLmdldChsayk7Y29uc3Qgcj1YeSh0LmNvbmZpZy5nZXQoXCJpbWFnZS51cGxvYWQudHlwZXNcIikpO2kuZXh0ZW5kKFwiaW1hZ2VcIix7YWxsb3dBdHRyaWJ1dGVzOltcInVwbG9hZElkXCIsXCJ1cGxvYWRTdGF0dXNcIl19KTt0LmNvbW1hbmRzLmFkZChcImltYWdlVXBsb2FkXCIsbmV3IEl4KHQpKTtuLmZvcihcInVwY2FzdFwiKS5hdHRyaWJ1dGVUb0F0dHJpYnV0ZSh7dmlldzp7bmFtZTpcImltZ1wiLGtleTpcInVwbG9hZElkXCJ9LG1vZGVsOlwidXBsb2FkSWRcIn0pO3RoaXMubGlzdGVuVG8odC5lZGl0aW5nLnZpZXcuZG9jdW1lbnQsXCJjbGlwYm9hcmRJbnB1dFwiLChlLGkpPT57aWYoTXgoaS5kYXRhVHJhbnNmZXIpKXtyZXR1cm59Y29uc3Qgbj1BcnJheS5mcm9tKGkuZGF0YVRyYW5zZmVyLmZpbGVzKS5maWx0ZXIodD0+e2lmKCF0KXtyZXR1cm4gZmFsc2V9cmV0dXJuIHIudGVzdCh0LnR5cGUpfSk7Y29uc3Qgbz1pLnRhcmdldFJhbmdlcy5tYXAoZT0+dC5lZGl0aW5nLm1hcHBlci50b01vZGVsUmFuZ2UoZSkpO3QubW9kZWwuY2hhbmdlKGk9PntpLnNldFNlbGVjdGlvbihvKTtpZihuLmxlbmd0aCl7ZS5zdG9wKCk7dC5tb2RlbC5lbnF1ZXVlQ2hhbmdlKFwiZGVmYXVsdFwiLCgpPT57dC5leGVjdXRlKFwiaW1hZ2VVcGxvYWRcIix7ZmlsZTpufSl9KX19KX0pO3RoaXMubGlzdGVuVG8odC5wbHVnaW5zLmdldChSeCksXCJpbnB1dFRyYW5zZm9ybWF0aW9uXCIsKGUsaSk9Pntjb25zdCBuPUFycmF5LmZyb20odC5lZGl0aW5nLnZpZXcuY3JlYXRlUmFuZ2VJbihpLmNvbnRlbnQpKS5maWx0ZXIodD0+dHgodC5pdGVtKSYmIXQuaXRlbS5nZXRBdHRyaWJ1dGUoXCJ1cGxvYWRQcm9jZXNzZWRcIikpLm1hcCh0PT4oe3Byb21pc2U6WnkodC5pdGVtKSxpbWFnZUVsZW1lbnQ6dC5pdGVtfSkpO2lmKCFuLmxlbmd0aCl7cmV0dXJufWNvbnN0IHI9bmV3IE94KHQuZWRpdGluZy52aWV3LmRvY3VtZW50KTtmb3IoY29uc3QgdCBvZiBuKXtyLnNldEF0dHJpYnV0ZShcInVwbG9hZFByb2Nlc3NlZFwiLHRydWUsdC5pbWFnZUVsZW1lbnQpO2NvbnN0IGU9by5jcmVhdGVMb2FkZXIodC5wcm9taXNlKTtpZihlKXtyLnNldEF0dHJpYnV0ZShcInNyY1wiLFwiXCIsdC5pbWFnZUVsZW1lbnQpO3Iuc2V0QXR0cmlidXRlKFwidXBsb2FkSWRcIixlLmlkLHQuaW1hZ2VFbGVtZW50KX19fSk7dC5lZGl0aW5nLnZpZXcuZG9jdW1lbnQub24oXCJkcmFnb3ZlclwiLCh0LGUpPT57ZS5wcmV2ZW50RGVmYXVsdCgpfSk7ZS5vbihcImNoYW5nZVwiLCgpPT57Y29uc3QgaT1lLmRpZmZlci5nZXRDaGFuZ2VzKHtpbmNsdWRlQ2hhbmdlc0luR3JhdmV5YXJkOnRydWV9KTtmb3IoY29uc3QgZSBvZiBpKXtpZihlLnR5cGU9PVwiaW5zZXJ0XCImJmUubmFtZSE9XCIkdGV4dFwiKXtjb25zdCBpPWUucG9zaXRpb24ubm9kZUFmdGVyO2NvbnN0IG49ZS5wb3NpdGlvbi5yb290LnJvb3ROYW1lPT1cIiRncmF2ZXlhcmRcIjtmb3IoY29uc3QgZSBvZiBCeCh0LGkpKXtjb25zdCB0PWUuZ2V0QXR0cmlidXRlKFwidXBsb2FkSWRcIik7aWYoIXQpe2NvbnRpbnVlfWNvbnN0IGk9by5sb2FkZXJzLmdldCh0KTtpZighaSl7Y29udGludWV9aWYobil7aS5hYm9ydCgpfWVsc2UgaWYoaS5zdGF0dXM9PVwiaWRsZVwiKXt0aGlzLl9yZWFkQW5kVXBsb2FkKGksZSl9fX19fSl9X3JlYWRBbmRVcGxvYWQodCxlKXtjb25zdCBpPXRoaXMuZWRpdG9yO2NvbnN0IG49aS5tb2RlbDtjb25zdCBvPWkubG9jYWxlLnQ7Y29uc3Qgcj1pLnBsdWdpbnMuZ2V0KGxrKTtjb25zdCBzPWkucGx1Z2lucy5nZXQodngpO24uZW5xdWV1ZUNoYW5nZShcInRyYW5zcGFyZW50XCIsdD0+e3Quc2V0QXR0cmlidXRlKFwidXBsb2FkU3RhdHVzXCIsXCJyZWFkaW5nXCIsZSl9KTtyZXR1cm4gdC5yZWFkKCkudGhlbigoKT0+e2NvbnN0IG89dC51cGxvYWQoKTtpZihBbC5pc1NhZmFyaSl7Y29uc3QgdD1pLmVkaXRpbmcubWFwcGVyLnRvVmlld0VsZW1lbnQoZSk7Y29uc3Qgbj1Bdih0KTtpLmVkaXRpbmcudmlldy5vbmNlKFwicmVuZGVyXCIsKCk9PntpZighbi5wYXJlbnQpe3JldHVybn1jb25zdCB0PWkuZWRpdGluZy52aWV3LmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20obi5wYXJlbnQpO2lmKCF0KXtyZXR1cm59Y29uc3QgZT10LnN0eWxlLmRpc3BsYXk7dC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3QuX2NrSGFjaz10Lm9mZnNldEhlaWdodDt0LnN0eWxlLmRpc3BsYXk9ZX0pfW4uZW5xdWV1ZUNoYW5nZShcInRyYW5zcGFyZW50XCIsdD0+e3Quc2V0QXR0cmlidXRlKFwidXBsb2FkU3RhdHVzXCIsXCJ1cGxvYWRpbmdcIixlKX0pO3JldHVybiBvfSkudGhlbih0PT57bi5lbnF1ZXVlQ2hhbmdlKFwidHJhbnNwYXJlbnRcIixpPT57aS5zZXRBdHRyaWJ1dGVzKHt1cGxvYWRTdGF0dXM6XCJjb21wbGV0ZVwiLHNyYzp0LmRlZmF1bHR9LGUpO3RoaXMuX3BhcnNlQW5kU2V0U3Jjc2V0QXR0cmlidXRlT25JbWFnZSh0LGUsaSl9KTthKCl9KS5jYXRjaChpPT57aWYodC5zdGF0dXMhPT1cImVycm9yXCImJnQuc3RhdHVzIT09XCJhYm9ydGVkXCIpe3Rocm93IGl9aWYodC5zdGF0dXM9PVwiZXJyb3JcIiYmaSl7cy5zaG93V2FybmluZyhpLHt0aXRsZTpvKFwia2VcIiksbmFtZXNwYWNlOlwidXBsb2FkXCJ9KX1hKCk7bi5lbnF1ZXVlQ2hhbmdlKFwidHJhbnNwYXJlbnRcIix0PT57dC5yZW1vdmUoZSl9KX0pO2Z1bmN0aW9uIGEoKXtuLmVucXVldWVDaGFuZ2UoXCJ0cmFuc3BhcmVudFwiLHQ9Pnt0LnJlbW92ZUF0dHJpYnV0ZShcInVwbG9hZElkXCIsZSk7dC5yZW1vdmVBdHRyaWJ1dGUoXCJ1cGxvYWRTdGF0dXNcIixlKX0pO3IuZGVzdHJveUxvYWRlcih0KX19X3BhcnNlQW5kU2V0U3Jjc2V0QXR0cmlidXRlT25JbWFnZSh0LGUsaSl7bGV0IG49MDtjb25zdCBvPU9iamVjdC5rZXlzKHQpLmZpbHRlcih0PT57Y29uc3QgZT1wYXJzZUludCh0LDEwKTtpZighaXNOYU4oZSkpe249TWF0aC5tYXgobixlKTtyZXR1cm4gdHJ1ZX19KS5tYXAoZT0+YCR7dFtlXX0gJHtlfXdgKS5qb2luKFwiLCBcIik7aWYobyE9XCJcIil7aS5zZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIix7ZGF0YTpvLHdpZHRoOm59LGUpfX19ZnVuY3Rpb24gTXgodCl7cmV0dXJuIEFycmF5LmZyb20odC50eXBlcykuaW5jbHVkZXMoXCJ0ZXh0L2h0bWxcIikmJnQuZ2V0RGF0YShcInRleHQvaHRtbFwiKSE9PVwiXCJ9ZnVuY3Rpb24gQngodCxlKXtyZXR1cm4gQXJyYXkuZnJvbSh0Lm1vZGVsLmNyZWF0ZVJhbmdlT24oZSkpLmZpbHRlcih0PT50Lml0ZW0uaXMoXCJpbWFnZVwiKSkubWFwKHQ9PnQuaXRlbSl9Y2xhc3MgenggZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkltYWdlVXBsb2FkXCJ9c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltOeCxueCxjeF19fWNsYXNzIEx4IGV4dGVuZHMgand7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7dGhpcy5fY2hpbGRDb21tYW5kcz1bXX1yZWZyZXNoKCl7fWV4ZWN1dGUoLi4udCl7Y29uc3QgZT10aGlzLl9nZXRGaXJzdEVuYWJsZWRDb21tYW5kKCk7ZS5leGVjdXRlKHQpfXJlZ2lzdGVyQ2hpbGRDb21tYW5kKHQpe3RoaXMuX2NoaWxkQ29tbWFuZHMucHVzaCh0KTt0Lm9uKFwiY2hhbmdlOmlzRW5hYmxlZFwiLCgpPT50aGlzLl9jaGVja0VuYWJsZWQoKSk7dGhpcy5fY2hlY2tFbmFibGVkKCl9X2NoZWNrRW5hYmxlZCgpe3RoaXMuaXNFbmFibGVkPSEhdGhpcy5fZ2V0Rmlyc3RFbmFibGVkQ29tbWFuZCgpfV9nZXRGaXJzdEVuYWJsZWRDb21tYW5kKCl7cmV0dXJuIHRoaXMuX2NoaWxkQ29tbWFuZHMuZmluZCh0PT50LmlzRW5hYmxlZCl9fWNsYXNzIEZ4IGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJJbmRlbnRFZGl0aW5nXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5jb21tYW5kcy5hZGQoXCJpbmRlbnRcIixuZXcgTHgodCkpO3QuY29tbWFuZHMuYWRkKFwib3V0ZGVudFwiLG5ldyBMeCh0KSl9fXZhciBEeD0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMiAzLjc1YzAgLjQxNC4zMzYuNzUuNzUuNzVoMTQuNWEuNzUuNzUgMCAxIDAgMC0xLjVIMi43NWEuNzUuNzUgMCAwIDAtLjc1Ljc1em01IDZjMCAuNDE0LjMzNi43NS43NS43NWg5LjVhLjc1Ljc1IDAgMSAwIDAtMS41aC05LjVhLjc1Ljc1IDAgMCAwLS43NS43NXpNMi43NSAxNi41aDE0LjVhLjc1Ljc1IDAgMSAwIDAtMS41SDIuNzVhLjc1Ljc1IDAgMSAwIDAgMS41ek0xLjYzMiA2Ljk1TDUuMDIgOS4zNThhLjQuNCAwIDAgMS0uMDEzLjY2MWwtMy4zOSAyLjIwN0EuNC40IDAgMCAxIDEgMTEuODkyVjcuMjc1YS40LjQgMCAwIDEgLjYzMi0uMzI2elwiLz48L3N2Zz4nO3ZhciBqeD0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMiAzLjc1YzAgLjQxNC4zMzYuNzUuNzUuNzVoMTQuNWEuNzUuNzUgMCAxIDAgMC0xLjVIMi43NWEuNzUuNzUgMCAwIDAtLjc1Ljc1em01IDZjMCAuNDE0LjMzNi43NS43NS43NWg5LjVhLjc1Ljc1IDAgMSAwIDAtMS41aC05LjVhLjc1Ljc1IDAgMCAwLS43NS43NXpNMi43NSAxNi41aDE0LjVhLjc1Ljc1IDAgMSAwIDAtMS41SDIuNzVhLjc1Ljc1IDAgMSAwIDAgMS41em0xLjYxOC05LjU1TC45OCA5LjM1OGEuNC40IDAgMCAwIC4wMTMuNjYxbDMuMzkgMi4yMDdBLjQuNCAwIDAgMCA1IDExLjg5MlY3LjI3NWEuNC40IDAgMCAwLS42MzItLjMyNnpcIi8+PC9zdmc+JztjbGFzcyBIeCBleHRlbmRzIG1we3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW5kZW50VUlcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQubG9jYWxlO2NvbnN0IGk9dC50O2NvbnN0IG49ZS51aUxhbmd1YWdlRGlyZWN0aW9uPT1cImx0clwiP0R4Omp4O2NvbnN0IG89ZS51aUxhbmd1YWdlRGlyZWN0aW9uPT1cImx0clwiP2p4OkR4O3RoaXMuX2RlZmluZUJ1dHRvbihcImluZGVudFwiLGkoXCJqZ1wiKSxuKTt0aGlzLl9kZWZpbmVCdXR0b24oXCJvdXRkZW50XCIsaShcImpoXCIpLG8pfV9kZWZpbmVCdXR0b24odCxlLGkpe2NvbnN0IG49dGhpcy5lZGl0b3I7bi51aS5jb21wb25lbnRGYWN0b3J5LmFkZCh0LG89Pntjb25zdCByPW4uY29tbWFuZHMuZ2V0KHQpO2NvbnN0IHM9bmV3IGhiKG8pO3Muc2V0KHtsYWJlbDplLGljb246aSx0b29sdGlwOnRydWV9KTtzLmJpbmQoXCJpc09uXCIsXCJpc0VuYWJsZWRcIikudG8ocixcInZhbHVlXCIsXCJpc0VuYWJsZWRcIik7dGhpcy5saXN0ZW5UbyhzLFwiZXhlY3V0ZVwiLCgpPT57bi5leGVjdXRlKHQpO24uZWRpdGluZy52aWV3LmZvY3VzKCl9KTtyZXR1cm4gc30pfX1jbGFzcyBXeCBleHRlbmRzIG1we3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW5kZW50XCJ9c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltGeCxIeF19fWNsYXNzIHF4IGV4dGVuZHMgand7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KTt0aGlzLl9pbmRlbnRCZWhhdmlvcj1lfXJlZnJlc2goKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5tb2RlbDtjb25zdCBpPVd3KGUuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpO2lmKCFpfHwhZS5zY2hlbWEuY2hlY2tBdHRyaWJ1dGUoaSxcImJsb2NrSW5kZW50XCIpKXt0aGlzLmlzRW5hYmxlZD1mYWxzZTtyZXR1cm59dGhpcy5pc0VuYWJsZWQ9dGhpcy5faW5kZW50QmVoYXZpb3IuY2hlY2tFbmFibGVkKGkuZ2V0QXR0cmlidXRlKFwiYmxvY2tJbmRlbnRcIikpfWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsO2NvbnN0IGU9VXgodCk7dC5jaGFuZ2UodD0+e2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9aS5nZXRBdHRyaWJ1dGUoXCJibG9ja0luZGVudFwiKTtjb25zdCBuPXRoaXMuX2luZGVudEJlaGF2aW9yLmdldE5leHRJbmRlbnQoZSk7aWYobil7dC5zZXRBdHRyaWJ1dGUoXCJibG9ja0luZGVudFwiLG4saSl9ZWxzZXt0LnJlbW92ZUF0dHJpYnV0ZShcImJsb2NrSW5kZW50XCIsaSl9fX0pfX1mdW5jdGlvbiBVeCh0KXtjb25zdCBlPXQuZG9jdW1lbnQuc2VsZWN0aW9uO2NvbnN0IGk9dC5zY2hlbWE7Y29uc3Qgbj1BcnJheS5mcm9tKGUuZ2V0U2VsZWN0ZWRCbG9ja3MoKSk7cmV0dXJuIG4uZmlsdGVyKHQ9PmkuY2hlY2tBdHRyaWJ1dGUodCxcImJsb2NrSW5kZW50XCIpKX1jbGFzcyAkeHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmlzRm9yd2FyZD10LmRpcmVjdGlvbj09PVwiZm9yd2FyZFwiO3RoaXMub2Zmc2V0PXQub2Zmc2V0O3RoaXMudW5pdD10LnVuaXR9Y2hlY2tFbmFibGVkKHQpe2NvbnN0IGU9cGFyc2VGbG9hdCh0fHwwKTtyZXR1cm4gdGhpcy5pc0ZvcndhcmR8fGU+MH1nZXROZXh0SW5kZW50KHQpe2NvbnN0IGU9cGFyc2VGbG9hdCh0fHwwKTtjb25zdCBpPSF0fHx0LmVuZHNXaXRoKHRoaXMudW5pdCk7aWYoIWkpe3JldHVybiB0aGlzLmlzRm9yd2FyZD90aGlzLm9mZnNldCt0aGlzLnVuaXQ6dW5kZWZpbmVkfWNvbnN0IG49dGhpcy5pc0ZvcndhcmQ/dGhpcy5vZmZzZXQ6LXRoaXMub2Zmc2V0O2NvbnN0IG89ZStuO3JldHVybiBvPjA/byt0aGlzLnVuaXQ6dW5kZWZpbmVkfX1jbGFzcyBHeHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmlzRm9yd2FyZD10LmRpcmVjdGlvbj09PVwiZm9yd2FyZFwiO3RoaXMuY2xhc3Nlcz10LmNsYXNzZXN9Y2hlY2tFbmFibGVkKHQpe2NvbnN0IGU9dGhpcy5jbGFzc2VzLmluZGV4T2YodCk7aWYodGhpcy5pc0ZvcndhcmQpe3JldHVybiBlPHRoaXMuY2xhc3Nlcy5sZW5ndGgtMX1lbHNle3JldHVybiBlPj0wfX1nZXROZXh0SW5kZW50KHQpe2NvbnN0IGU9dGhpcy5jbGFzc2VzLmluZGV4T2YodCk7Y29uc3QgaT10aGlzLmlzRm9yd2FyZD8xOi0xO3JldHVybiB0aGlzLmNsYXNzZXNbZStpXX19Y29uc3QgS3g9L14jKFswLTlhLWZdezMsNH18WzAtOWEtZl17Nn18WzAtOWEtZl17OH0pJC9pO2NvbnN0IEp4PS9ecmdiXFwoWyBdPyhbMC05XXsxLDN9WyAlXT8sWyBdPyl7MiwzfVswLTldezEsM31bICVdP1xcKSQvaTtjb25zdCBZeD0vXnJnYmFcXChbIF0/KFswLTldezEsM31bICVdPyxbIF0/KXszfSgxfFswLTldKyV8WzBdP1xcLj9bMC05XSspXFwpJC9pO2NvbnN0IFF4PS9eaHNsXFwoWyBdPyhbMC05XXsxLDN9WyAlXT9bLF0/WyBdKil7M30oMXxbMC05XSslfFswXT9cXC4/WzAtOV0rKT9cXCkkL2k7Y29uc3QgWHg9L15oc2xhXFwoWyBdPyhbMC05XXsxLDN9WyAlXT8sWyBdPyl7MiwzfSgxfFswLTldKyV8WzBdP1xcLj9bMC05XSspXFwpJC9pO2NvbnN0IFp4PW5ldyBTZXQoW1wiYmxhY2tcIixcInNpbHZlclwiLFwiZ3JheVwiLFwid2hpdGVcIixcIm1hcm9vblwiLFwicmVkXCIsXCJwdXJwbGVcIixcImZ1Y2hzaWFcIixcImdyZWVuXCIsXCJsaW1lXCIsXCJvbGl2ZVwiLFwieWVsbG93XCIsXCJuYXZ5XCIsXCJibHVlXCIsXCJ0ZWFsXCIsXCJhcXVhXCIsXCJvcmFuZ2VcIixcImFsaWNlYmx1ZVwiLFwiYW50aXF1ZXdoaXRlXCIsXCJhcXVhbWFyaW5lXCIsXCJhenVyZVwiLFwiYmVpZ2VcIixcImJpc3F1ZVwiLFwiYmxhbmNoZWRhbG1vbmRcIixcImJsdWV2aW9sZXRcIixcImJyb3duXCIsXCJidXJseXdvb2RcIixcImNhZGV0Ymx1ZVwiLFwiY2hhcnRyZXVzZVwiLFwiY2hvY29sYXRlXCIsXCJjb3JhbFwiLFwiY29ybmZsb3dlcmJsdWVcIixcImNvcm5zaWxrXCIsXCJjcmltc29uXCIsXCJjeWFuXCIsXCJkYXJrYmx1ZVwiLFwiZGFya2N5YW5cIixcImRhcmtnb2xkZW5yb2RcIixcImRhcmtncmF5XCIsXCJkYXJrZ3JlZW5cIixcImRhcmtncmV5XCIsXCJkYXJra2hha2lcIixcImRhcmttYWdlbnRhXCIsXCJkYXJrb2xpdmVncmVlblwiLFwiZGFya29yYW5nZVwiLFwiZGFya29yY2hpZFwiLFwiZGFya3JlZFwiLFwiZGFya3NhbG1vblwiLFwiZGFya3NlYWdyZWVuXCIsXCJkYXJrc2xhdGVibHVlXCIsXCJkYXJrc2xhdGVncmF5XCIsXCJkYXJrc2xhdGVncmV5XCIsXCJkYXJrdHVycXVvaXNlXCIsXCJkYXJrdmlvbGV0XCIsXCJkZWVwcGlua1wiLFwiZGVlcHNreWJsdWVcIixcImRpbWdyYXlcIixcImRpbWdyZXlcIixcImRvZGdlcmJsdWVcIixcImZpcmVicmlja1wiLFwiZmxvcmFsd2hpdGVcIixcImZvcmVzdGdyZWVuXCIsXCJnYWluc2Jvcm9cIixcImdob3N0d2hpdGVcIixcImdvbGRcIixcImdvbGRlbnJvZFwiLFwiZ3JlZW55ZWxsb3dcIixcImdyZXlcIixcImhvbmV5ZGV3XCIsXCJob3RwaW5rXCIsXCJpbmRpYW5yZWRcIixcImluZGlnb1wiLFwiaXZvcnlcIixcImtoYWtpXCIsXCJsYXZlbmRlclwiLFwibGF2ZW5kZXJibHVzaFwiLFwibGF3bmdyZWVuXCIsXCJsZW1vbmNoaWZmb25cIixcImxpZ2h0Ymx1ZVwiLFwibGlnaHRjb3JhbFwiLFwibGlnaHRjeWFuXCIsXCJsaWdodGdvbGRlbnJvZHllbGxvd1wiLFwibGlnaHRncmF5XCIsXCJsaWdodGdyZWVuXCIsXCJsaWdodGdyZXlcIixcImxpZ2h0cGlua1wiLFwibGlnaHRzYWxtb25cIixcImxpZ2h0c2VhZ3JlZW5cIixcImxpZ2h0c2t5Ymx1ZVwiLFwibGlnaHRzbGF0ZWdyYXlcIixcImxpZ2h0c2xhdGVncmV5XCIsXCJsaWdodHN0ZWVsYmx1ZVwiLFwibGlnaHR5ZWxsb3dcIixcImxpbWVncmVlblwiLFwibGluZW5cIixcIm1hZ2VudGFcIixcIm1lZGl1bWFxdWFtYXJpbmVcIixcIm1lZGl1bWJsdWVcIixcIm1lZGl1bW9yY2hpZFwiLFwibWVkaXVtcHVycGxlXCIsXCJtZWRpdW1zZWFncmVlblwiLFwibWVkaXVtc2xhdGVibHVlXCIsXCJtZWRpdW1zcHJpbmdncmVlblwiLFwibWVkaXVtdHVycXVvaXNlXCIsXCJtZWRpdW12aW9sZXRyZWRcIixcIm1pZG5pZ2h0Ymx1ZVwiLFwibWludGNyZWFtXCIsXCJtaXN0eXJvc2VcIixcIm1vY2Nhc2luXCIsXCJuYXZham93aGl0ZVwiLFwib2xkbGFjZVwiLFwib2xpdmVkcmFiXCIsXCJvcmFuZ2VyZWRcIixcIm9yY2hpZFwiLFwicGFsZWdvbGRlbnJvZFwiLFwicGFsZWdyZWVuXCIsXCJwYWxldHVycXVvaXNlXCIsXCJwYWxldmlvbGV0cmVkXCIsXCJwYXBheWF3aGlwXCIsXCJwZWFjaHB1ZmZcIixcInBlcnVcIixcInBpbmtcIixcInBsdW1cIixcInBvd2RlcmJsdWVcIixcInJvc3licm93blwiLFwicm95YWxibHVlXCIsXCJzYWRkbGVicm93blwiLFwic2FsbW9uXCIsXCJzYW5keWJyb3duXCIsXCJzZWFncmVlblwiLFwic2Vhc2hlbGxcIixcInNpZW5uYVwiLFwic2t5Ymx1ZVwiLFwic2xhdGVibHVlXCIsXCJzbGF0ZWdyYXlcIixcInNsYXRlZ3JleVwiLFwic25vd1wiLFwic3ByaW5nZ3JlZW5cIixcInN0ZWVsYmx1ZVwiLFwidGFuXCIsXCJ0aGlzdGxlXCIsXCJ0b21hdG9cIixcInR1cnF1b2lzZVwiLFwidmlvbGV0XCIsXCJ3aGVhdFwiLFwid2hpdGVzbW9rZVwiLFwieWVsbG93Z3JlZW5cIixcInJlYmVjY2FwdXJwbGVcIixcImN1cnJlbnRjb2xvclwiLFwidHJhbnNwYXJlbnRcIl0pO2Z1bmN0aW9uIHRDKHQpe2lmKHQuc3RhcnRzV2l0aChcIiNcIikpe3JldHVybiBLeC50ZXN0KHQpfWlmKHQuc3RhcnRzV2l0aChcInJnYlwiKSl7cmV0dXJuIEp4LnRlc3QodCl8fFl4LnRlc3QodCl9aWYodC5zdGFydHNXaXRoKFwiaHNsXCIpKXtyZXR1cm4gUXgudGVzdCh0KXx8WHgudGVzdCh0KX1yZXR1cm4gWnguaGFzKHQudG9Mb3dlckNhc2UoKSl9Y29uc3QgZUM9W1wibm9uZVwiLFwiaGlkZGVuXCIsXCJkb3R0ZWRcIixcImRhc2hlZFwiLFwic29saWRcIixcImRvdWJsZVwiLFwiZ3Jvb3ZlXCIsXCJyaWRnZVwiLFwiaW5zZXRcIixcIm91dHNldFwiXTtmdW5jdGlvbiBpQyh0KXtyZXR1cm4gZUMuaW5jbHVkZXModCl9Y29uc3QgbkM9L14oWystXT9bMC05XSpbLl0/WzAtOV0rKHB4fGNtfG1tfGlufHBjfHB0fGNofGVtfGV4fHJlbXx2aHx2d3x2bWlufHZtYXgpfDApJC87ZnVuY3Rpb24gb0ModCl7cmV0dXJuIG5DLnRlc3QodCl9Y29uc3QgckM9L15bKy1dP1swLTldKlsuXT9bMC05XSslJC87ZnVuY3Rpb24gc0ModCl7cmV0dXJuIHJDLnRlc3QodCl9Y29uc3QgYUM9W1wicmVwZWF0LXhcIixcInJlcGVhdC15XCIsXCJyZXBlYXRcIixcInNwYWNlXCIsXCJyb3VuZFwiLFwibm8tcmVwZWF0XCJdO2Z1bmN0aW9uIGNDKHQpe3JldHVybiBhQy5pbmNsdWRlcyh0KX1jb25zdCBsQz1bXCJjZW50ZXJcIixcInRvcFwiLFwiYm90dG9tXCIsXCJsZWZ0XCIsXCJyaWdodFwiXTtmdW5jdGlvbiBkQyh0KXtyZXR1cm4gbEMuaW5jbHVkZXModCl9Y29uc3QgdUM9W1wiZml4ZWRcIixcInNjcm9sbFwiLFwibG9jYWxcIl07ZnVuY3Rpb24gaEModCl7cmV0dXJuIHVDLmluY2x1ZGVzKHQpfWNvbnN0IGZDPS9edXJsXFwoLztmdW5jdGlvbiBnQyh0KXtyZXR1cm4gZkMudGVzdCh0KX1mdW5jdGlvbiBtQyh0PVwiXCIpe2lmKHQ9PT1cIlwiKXtyZXR1cm57dG9wOnVuZGVmaW5lZCxyaWdodDp1bmRlZmluZWQsYm90dG9tOnVuZGVmaW5lZCxsZWZ0OnVuZGVmaW5lZH19Y29uc3QgZT1rQyh0KTtjb25zdCBpPWVbMF07Y29uc3Qgbj1lWzJdfHxpO2NvbnN0IG89ZVsxXXx8aTtjb25zdCByPWVbM118fG87cmV0dXJue3RvcDppLGJvdHRvbTpuLHJpZ2h0Om8sbGVmdDpyfX1mdW5jdGlvbiBwQyh0KXtyZXR1cm4gZT0+e2NvbnN0e3RvcDppLHJpZ2h0Om4sYm90dG9tOm8sbGVmdDpyfT1lO2NvbnN0IHM9W107aWYoIVtpLG4scixvXS5ldmVyeSh0PT4hIXQpKXtpZihpKXtzLnB1c2goW3QrXCItdG9wXCIsaV0pfWlmKG4pe3MucHVzaChbdCtcIi1yaWdodFwiLG5dKX1pZihvKXtzLnB1c2goW3QrXCItYm90dG9tXCIsb10pfWlmKHIpe3MucHVzaChbdCtcIi1sZWZ0XCIscl0pfX1lbHNle3MucHVzaChbdCxiQyhlKV0pfXJldHVybiBzfX1mdW5jdGlvbiBiQyh7dG9wOnQscmlnaHQ6ZSxib3R0b206aSxsZWZ0Om59KXtjb25zdCBvPVtdO2lmKG4hPT1lKXtvLnB1c2godCxlLGksbil9ZWxzZSBpZihpIT09dCl7by5wdXNoKHQsZSxpKX1lbHNlIGlmKGUhPT10KXtvLnB1c2godCxlKX1lbHNle28ucHVzaCh0KX1yZXR1cm4gby5qb2luKFwiIFwiKX1mdW5jdGlvbiB3Qyh0KXtyZXR1cm4gZT0+KHtwYXRoOnQsdmFsdWU6bUMoZSl9KX1mdW5jdGlvbiBrQyh0KXtyZXR1cm4gdC5yZXBsYWNlKC8sIC9nLFwiLFwiKS5zcGxpdChcIiBcIikubWFwKHQ9PnQucmVwbGFjZSgvLC9nLFwiLCBcIikpfWZ1bmN0aW9uIF9DKHQpe3Quc2V0Tm9ybWFsaXplcihcIm1hcmdpblwiLHdDKFwibWFyZ2luXCIpKTt0LnNldE5vcm1hbGl6ZXIoXCJtYXJnaW4tdG9wXCIsdD0+KHtwYXRoOlwibWFyZ2luLnRvcFwiLHZhbHVlOnR9KSk7dC5zZXROb3JtYWxpemVyKFwibWFyZ2luLXJpZ2h0XCIsdD0+KHtwYXRoOlwibWFyZ2luLnJpZ2h0XCIsdmFsdWU6dH0pKTt0LnNldE5vcm1hbGl6ZXIoXCJtYXJnaW4tYm90dG9tXCIsdD0+KHtwYXRoOlwibWFyZ2luLmJvdHRvbVwiLHZhbHVlOnR9KSk7dC5zZXROb3JtYWxpemVyKFwibWFyZ2luLWxlZnRcIix0PT4oe3BhdGg6XCJtYXJnaW4ubGVmdFwiLHZhbHVlOnR9KSk7dC5zZXRSZWR1Y2VyKFwibWFyZ2luXCIscEMoXCJtYXJnaW5cIikpO3Quc2V0U3R5bGVSZWxhdGlvbihcIm1hcmdpblwiLFtcIm1hcmdpbi10b3BcIixcIm1hcmdpbi1yaWdodFwiLFwibWFyZ2luLWJvdHRvbVwiLFwibWFyZ2luLWxlZnRcIl0pfWNsYXNzIHZDIGV4dGVuZHMgbXB7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7dC5jb25maWcuZGVmaW5lKFwiaW5kZW50QmxvY2tcIix7b2Zmc2V0OjQwLHVuaXQ6XCJweFwifSl9c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJJbmRlbnRCbG9ja1wifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5jb25maWcuZ2V0KFwiaW5kZW50QmxvY2tcIik7Y29uc3QgaT0hZS5jbGFzc2VzfHwhZS5jbGFzc2VzLmxlbmd0aDtjb25zdCBuPU9iamVjdC5hc3NpZ24oe2RpcmVjdGlvbjpcImZvcndhcmRcIn0sZSk7Y29uc3Qgbz1PYmplY3QuYXNzaWduKHtkaXJlY3Rpb246XCJiYWNrd2FyZFwifSxlKTtpZihpKXt0LmRhdGEuYWRkU3R5bGVQcm9jZXNzb3JSdWxlcyhfQyk7dGhpcy5fc2V0dXBDb252ZXJzaW9uVXNpbmdPZmZzZXQodC5jb252ZXJzaW9uKTt0LmNvbW1hbmRzLmFkZChcImluZGVudEJsb2NrXCIsbmV3IHF4KHQsbmV3ICR4KG4pKSk7dC5jb21tYW5kcy5hZGQoXCJvdXRkZW50QmxvY2tcIixuZXcgcXgodCxuZXcgJHgobykpKX1lbHNle3RoaXMuX3NldHVwQ29udmVyc2lvblVzaW5nQ2xhc3NlcyhlLmNsYXNzZXMpO3QuY29tbWFuZHMuYWRkKFwiaW5kZW50QmxvY2tcIixuZXcgcXgodCxuZXcgR3gobikpKTt0LmNvbW1hbmRzLmFkZChcIm91dGRlbnRCbG9ja1wiLG5ldyBxeCh0LG5ldyBHeChvKSkpfX1hZnRlckluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5tb2RlbC5zY2hlbWE7Y29uc3QgaT10LmNvbW1hbmRzLmdldChcImluZGVudFwiKTtjb25zdCBuPXQuY29tbWFuZHMuZ2V0KFwib3V0ZGVudFwiKTtjb25zdCBvPVtcInBhcmFncmFwaFwiLFwiaGVhZGluZzFcIixcImhlYWRpbmcyXCIsXCJoZWFkaW5nM1wiLFwiaGVhZGluZzRcIixcImhlYWRpbmc1XCIsXCJoZWFkaW5nNlwiXTtvLmZvckVhY2godD0+e2lmKGUuaXNSZWdpc3RlcmVkKHQpKXtlLmV4dGVuZCh0LHthbGxvd0F0dHJpYnV0ZXM6XCJibG9ja0luZGVudFwifSl9fSk7aS5yZWdpc3RlckNoaWxkQ29tbWFuZCh0LmNvbW1hbmRzLmdldChcImluZGVudEJsb2NrXCIpKTtuLnJlZ2lzdGVyQ2hpbGRDb21tYW5kKHQuY29tbWFuZHMuZ2V0KFwib3V0ZGVudEJsb2NrXCIpKX1fc2V0dXBDb252ZXJzaW9uVXNpbmdPZmZzZXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLmNvbnZlcnNpb247Y29uc3QgZT10aGlzLmVkaXRvci5sb2NhbGU7Y29uc3QgaT1lLmNvbnRlbnRMYW5ndWFnZURpcmVjdGlvbj09PVwicnRsXCI/XCJtYXJnaW4tcmlnaHRcIjpcIm1hcmdpbi1sZWZ0XCI7dC5mb3IoXCJ1cGNhc3RcIikuYXR0cmlidXRlVG9BdHRyaWJ1dGUoe3ZpZXc6e3N0eWxlczp7W2ldOi9bXFxzXFxTXSsvfX0sbW9kZWw6e2tleTpcImJsb2NrSW5kZW50XCIsdmFsdWU6dD0+dC5nZXRTdHlsZShpKX19KTt0LmZvcihcImRvd25jYXN0XCIpLmF0dHJpYnV0ZVRvQXR0cmlidXRlKHttb2RlbDpcImJsb2NrSW5kZW50XCIsdmlldzp0PT4oe2tleTpcInN0eWxlXCIsdmFsdWU6e1tpXTp0fX0pfSl9X3NldHVwQ29udmVyc2lvblVzaW5nQ2xhc3Nlcyh0KXtjb25zdCBlPXttb2RlbDp7a2V5OlwiYmxvY2tJbmRlbnRcIix2YWx1ZXM6W119LHZpZXc6e319O2Zvcihjb25zdCBpIG9mIHQpe2UubW9kZWwudmFsdWVzLnB1c2goaSk7ZS52aWV3W2ldPXtrZXk6XCJjbGFzc1wiLHZhbHVlOltpXX19dGhpcy5lZGl0b3IuY29udmVyc2lvbi5hdHRyaWJ1dGVUb0F0dHJpYnV0ZShlKX19Y29uc3QgeUM9XCJpdGFsaWNcIjtjbGFzcyB4QyBleHRlbmRzIG1we3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSXRhbGljRWRpdGluZ1wifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO3QubW9kZWwuc2NoZW1hLmV4dGVuZChcIiR0ZXh0XCIse2FsbG93QXR0cmlidXRlczp5Q30pO3QubW9kZWwuc2NoZW1hLnNldEF0dHJpYnV0ZVByb3BlcnRpZXMoeUMse2lzRm9ybWF0dGluZzp0cnVlLGNvcHlPbkVudGVyOnRydWV9KTt0LmNvbnZlcnNpb24uYXR0cmlidXRlVG9FbGVtZW50KHttb2RlbDp5Qyx2aWV3OlwiaVwiLHVwY2FzdEFsc286W1wiZW1cIix7c3R5bGVzOntcImZvbnQtc3R5bGVcIjpcIml0YWxpY1wifX1dfSk7dC5jb21tYW5kcy5hZGQoeUMsbmV3IHlrKHQseUMpKTt0LmtleXN0cm9rZXMuc2V0KFwiQ1RSTCtJXCIseUMpfX12YXIgQ0M9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTkuNTg2IDE0LjYzM2wuMDIxLjAwNGMtLjAzNi4zMzUuMDk1LjY1NS4zOTMuOTYyLjA4Mi4wODMuMTczLjE1LjI3NC4yMDFoMS40NzRhLjYuNiAwIDEgMSAwIDEuMkg1LjMwNGEuNi42IDAgMCAxIDAtMS4yaDEuMTVjLjQ3NC0uMDcuODA5LS4xODIgMS4wMDUtLjMzNC4xNTctLjEyMi4yOTEtLjMyLjQwNC0uNTk3bDIuNDE2LTkuNTVhMS4wNTMgMS4wNTMgMCAwIDAtLjI4MS0uODIzIDEuMTIgMS4xMiAwIDAgMC0uNDQyLS4yOTZIOC4xNWEuNi42IDAgMCAxIDAtMS4yaDYuNDQzYS42LjYgMCAxIDEgMCAxLjJoLTEuMTk1Yy0uMzc2LjA1Ni0uNjUuMTU1LS44MjMuMjk2LS4yMTUuMTc1LS40MjMuNDM5LS42MjMuNzlsLTIuMzY2IDkuMzQ3elwiLz48L3N2Zz4nO2NvbnN0IEFDPVwiaXRhbGljXCI7Y2xhc3MgVEMgZXh0ZW5kcyBtcHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQudDt0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKEFDLGk9Pntjb25zdCBuPXQuY29tbWFuZHMuZ2V0KEFDKTtjb25zdCBvPW5ldyBoYihpKTtvLnNldCh7bGFiZWw6ZShcImpqXCIpLGljb246Q0Msa2V5c3Ryb2tlOlwiQ1RSTCtJXCIsdG9vbHRpcDp0cnVlLGlzVG9nZ2xlYWJsZTp0cnVlfSk7by5iaW5kKFwiaXNPblwiLFwiaXNFbmFibGVkXCIpLnRvKG4sXCJ2YWx1ZVwiLFwiaXNFbmFibGVkXCIpO3RoaXMubGlzdGVuVG8obyxcImV4ZWN1dGVcIiwoKT0+e3QuZXhlY3V0ZShBQyk7dC5lZGl0aW5nLnZpZXcuZm9jdXMoKX0pO3JldHVybiBvfSl9fWNsYXNzIFBDIGV4dGVuZHMgbXB7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVyblt4QyxUQ119c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJJdGFsaWNcIn19ZnVuY3Rpb24gU0ModCxlLGkpe3JldHVybiBpLmNyZWF0ZVJhbmdlKEVDKHQsZSx0cnVlLGkpLEVDKHQsZSxmYWxzZSxpKSl9ZnVuY3Rpb24gRUModCxlLGksbil7bGV0IG89dC50ZXh0Tm9kZXx8KGk/dC5ub2RlQmVmb3JlOnQubm9kZUFmdGVyKTtsZXQgcj1udWxsO3doaWxlKG8mJm8uZ2V0QXR0cmlidXRlKFwibGlua0hyZWZcIik9PWUpe3I9bztvPWk/by5wcmV2aW91c1NpYmxpbmc6by5uZXh0U2libGluZ31yZXR1cm4gcj9uLmNyZWF0ZVBvc2l0aW9uQXQocixpP1wiYmVmb3JlXCI6XCJhZnRlclwiKTp0fWNsYXNzIFJDIGV4dGVuZHMgand7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7dGhpcy5tYW51YWxEZWNvcmF0b3JzPW5ldyB5c31yZXN0b3JlTWFudWFsRGVjb3JhdG9yU3RhdGVzKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5tYW51YWxEZWNvcmF0b3JzKXt0LnZhbHVlPXRoaXMuX2dldERlY29yYXRvclN0YXRlRnJvbU1vZGVsKHQuaWQpfX1yZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBlPXQuZG9jdW1lbnQ7dGhpcy52YWx1ZT1lLnNlbGVjdGlvbi5nZXRBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiKTtmb3IoY29uc3QgdCBvZiB0aGlzLm1hbnVhbERlY29yYXRvcnMpe3QudmFsdWU9dGhpcy5fZ2V0RGVjb3JhdG9yU3RhdGVGcm9tTW9kZWwodC5pZCl9dGhpcy5pc0VuYWJsZWQ9dC5zY2hlbWEuY2hlY2tBdHRyaWJ1dGVJblNlbGVjdGlvbihlLnNlbGVjdGlvbixcImxpbmtIcmVmXCIpfWV4ZWN1dGUodCxlPXt9KXtjb25zdCBpPXRoaXMuZWRpdG9yLm1vZGVsO2NvbnN0IG49aS5kb2N1bWVudC5zZWxlY3Rpb247Y29uc3Qgbz1bXTtjb25zdCByPVtdO2Zvcihjb25zdCB0IGluIGUpe2lmKGVbdF0pe28ucHVzaCh0KX1lbHNle3IucHVzaCh0KX19aS5jaGFuZ2UoZT0+e2lmKG4uaXNDb2xsYXBzZWQpe2NvbnN0IHM9bi5nZXRGaXJzdFBvc2l0aW9uKCk7aWYobi5oYXNBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiKSl7Y29uc3QgYT1TQyhzLG4uZ2V0QXR0cmlidXRlKFwibGlua0hyZWZcIiksaSk7ZS5zZXRBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiLHQsYSk7by5mb3JFYWNoKHQ9PntlLnNldEF0dHJpYnV0ZSh0LHRydWUsYSl9KTtyLmZvckVhY2godD0+e2UucmVtb3ZlQXR0cmlidXRlKHQsYSl9KTtlLnNldFNlbGVjdGlvbihhKX1lbHNlIGlmKHQhPT1cIlwiKXtjb25zdCByPUhzKG4uZ2V0QXR0cmlidXRlcygpKTtyLnNldChcImxpbmtIcmVmXCIsdCk7by5mb3JFYWNoKHQ9PntyLnNldCh0LHRydWUpfSk7Y29uc3QgYT1lLmNyZWF0ZVRleHQodCxyKTtpLmluc2VydENvbnRlbnQoYSxzKTtlLnNldFNlbGVjdGlvbihlLmNyZWF0ZVJhbmdlT24oYSkpfX1lbHNle2NvbnN0IHM9aS5zY2hlbWEuZ2V0VmFsaWRSYW5nZXMobi5nZXRSYW5nZXMoKSxcImxpbmtIcmVmXCIpO2Zvcihjb25zdCBpIG9mIHMpe2Uuc2V0QXR0cmlidXRlKFwibGlua0hyZWZcIix0LGkpO28uZm9yRWFjaCh0PT57ZS5zZXRBdHRyaWJ1dGUodCx0cnVlLGkpfSk7ci5mb3JFYWNoKHQ9PntlLnJlbW92ZUF0dHJpYnV0ZSh0LGkpfSl9fX0pfV9nZXREZWNvcmF0b3JTdGF0ZUZyb21Nb2RlbCh0KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50O3JldHVybiBlLnNlbGVjdGlvbi5nZXRBdHRyaWJ1dGUodCl8fGZhbHNlfX1jbGFzcyBPQyBleHRlbmRzIGp3e3JlZnJlc2goKXt0aGlzLmlzRW5hYmxlZD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uaGFzQXR0cmlidXRlKFwibGlua0hyZWZcIil9ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBpPWUuZG9jdW1lbnQuc2VsZWN0aW9uO2NvbnN0IG49dC5jb21tYW5kcy5nZXQoXCJsaW5rXCIpO2UuY2hhbmdlKHQ9Pntjb25zdCBvPWkuaXNDb2xsYXBzZWQ/W1NDKGkuZ2V0Rmlyc3RQb3NpdGlvbigpLGkuZ2V0QXR0cmlidXRlKFwibGlua0hyZWZcIiksZSldOmkuZ2V0UmFuZ2VzKCk7Zm9yKGNvbnN0IGUgb2Ygbyl7dC5yZW1vdmVBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiLGUpO2lmKG4pe2Zvcihjb25zdCBpIG9mIG4ubWFudWFsRGVjb3JhdG9ycyl7dC5yZW1vdmVBdHRyaWJ1dGUoaS5pZCxlKX19fX0pfX1mdW5jdGlvbiBJQyh0LGUsaSl7dmFyIG49dC5sZW5ndGg7aT1pPT09dW5kZWZpbmVkP246aTtyZXR1cm4hZSYmaT49bj90Ok9hKHQsZSxpKX12YXIgVkM9SUM7dmFyIE5DPVwiXFxcXHVkODAwLVxcXFx1ZGZmZlwiLE1DPVwiXFxcXHUwMzAwLVxcXFx1MDM2ZlwiLEJDPVwiXFxcXHVmZTIwLVxcXFx1ZmUyZlwiLHpDPVwiXFxcXHUyMGQwLVxcXFx1MjBmZlwiLExDPU1DK0JDK3pDLEZDPVwiXFxcXHVmZTBlXFxcXHVmZTBmXCI7dmFyIERDPVwiXFxcXHUyMDBkXCI7dmFyIGpDPVJlZ0V4cChcIltcIitEQytOQytMQytGQytcIl1cIik7ZnVuY3Rpb24gSEModCl7cmV0dXJuIGpDLnRlc3QodCl9dmFyIFdDPUhDO2Z1bmN0aW9uIHFDKHQpe3JldHVybiB0LnNwbGl0KFwiXCIpfXZhciBVQz1xQzt2YXIgJEM9XCJcXFxcdWQ4MDAtXFxcXHVkZmZmXCIsR0M9XCJcXFxcdTAzMDAtXFxcXHUwMzZmXCIsS0M9XCJcXFxcdWZlMjAtXFxcXHVmZTJmXCIsSkM9XCJcXFxcdTIwZDAtXFxcXHUyMGZmXCIsWUM9R0MrS0MrSkMsUUM9XCJcXFxcdWZlMGVcXFxcdWZlMGZcIjt2YXIgWEM9XCJbXCIrJEMrXCJdXCIsWkM9XCJbXCIrWUMrXCJdXCIsdEE9XCJcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl1cIixlQT1cIig/OlwiK1pDK1wifFwiK3RBK1wiKVwiLGlBPVwiW15cIiskQytcIl1cIixuQT1cIig/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn1cIixvQT1cIltcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXVwiLHJBPVwiXFxcXHUyMDBkXCI7dmFyIHNBPWVBK1wiP1wiLGFBPVwiW1wiK1FDK1wiXT9cIixjQT1cIig/OlwiK3JBK1wiKD86XCIrW2lBLG5BLG9BXS5qb2luKFwifFwiKStcIilcIithQStzQStcIikqXCIsbEE9YUErc0ErY0EsZEE9XCIoPzpcIitbaUErWkMrXCI/XCIsWkMsbkEsb0EsWENdLmpvaW4oXCJ8XCIpK1wiKVwiO3ZhciB1QT1SZWdFeHAodEErXCIoPz1cIit0QStcIil8XCIrZEErbEEsXCJnXCIpO2Z1bmN0aW9uIGhBKHQpe3JldHVybiB0Lm1hdGNoKHVBKXx8W119dmFyIGZBPWhBO2Z1bmN0aW9uIGdBKHQpe3JldHVybiBXQyh0KT9mQSh0KTpVQyh0KX12YXIgbUE9Z0E7ZnVuY3Rpb24gcEEodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2U9X2EoZSk7dmFyIGk9V0MoZSk/bUEoZSk6dW5kZWZpbmVkO3ZhciBuPWk/aVswXTplLmNoYXJBdCgwKTt2YXIgbz1pP1ZDKGksMSkuam9pbihcIlwiKTplLnNsaWNlKDEpO3JldHVybiBuW3RdKCkrb319dmFyIGJBPXBBO3ZhciB3QT1iQShcInRvVXBwZXJDYXNlXCIpO3ZhciBrQT13QTtjb25zdCBfQT0vW1xcdTAwMDAtXFx1MDAyMFxcdTAwQTBcXHUxNjgwXFx1MTgwRVxcdTIwMDAtXFx1MjAyOVxcdTIwNWZcXHUzMDAwXS9nO2NvbnN0IHZBPS9eKD86KD86aHR0cHM/fGZ0cHM/fG1haWx0byk6fFteYS16XXxbYS16Ky4tXSsoPzpbXmEteisuOi1dfCQpKS9pO2Z1bmN0aW9uIHlBKHQpe3JldHVybiB0LmlzKFwiYXR0cmlidXRlRWxlbWVudFwiKSYmISF0LmdldEN1c3RvbVByb3BlcnR5KFwibGlua1wiKX1mdW5jdGlvbiB4QSh0LGUpe2NvbnN0IGk9ZS5jcmVhdGVBdHRyaWJ1dGVFbGVtZW50KFwiYVwiLHtocmVmOnR9LHtwcmlvcml0eTo1fSk7ZS5zZXRDdXN0b21Qcm9wZXJ0eShcImxpbmtcIix0cnVlLGkpO3JldHVybiBpfWZ1bmN0aW9uIENBKHQpe3Q9U3RyaW5nKHQpO3JldHVybiBBQSh0KT90OlwiI1wifWZ1bmN0aW9uIEFBKHQpe2NvbnN0IGU9dC5yZXBsYWNlKF9BLFwiXCIpO3JldHVybiBlLm1hdGNoKHZBKX1mdW5jdGlvbiBUQSh0LGUpe2NvbnN0IGk9e1wiT3BlbiBpbiBhIG5ldyB0YWJcIjp0KFwibW1cIiksRG93bmxvYWRhYmxlOnQoXCJtblwiKX07ZS5mb3JFYWNoKHQ9PntpZih0LmxhYmVsJiZpW3QubGFiZWxdKXt0LmxhYmVsPWlbdC5sYWJlbF19cmV0dXJuIHR9KTtyZXR1cm4gZX1mdW5jdGlvbiBQQSh0KXtjb25zdCBlPVtdO2lmKHQpe2Zvcihjb25zdFtpLG5db2YgT2JqZWN0LmVudHJpZXModCkpe2NvbnN0IHQ9T2JqZWN0LmFzc2lnbih7fSxuLHtpZDpgbGluayR7a0EoaSl9YH0pO2UucHVzaCh0KX19cmV0dXJuIGV9Y2xhc3MgU0F7Y29uc3RydWN0b3IoKXt0aGlzLl9kZWZpbml0aW9ucz1uZXcgU2V0fWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fZGVmaW5pdGlvbnMuc2l6ZX1hZGQodCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7dC5mb3JFYWNoKHQ9PnRoaXMuX2RlZmluaXRpb25zLmFkZCh0KSl9ZWxzZXt0aGlzLl9kZWZpbml0aW9ucy5hZGQodCl9fWdldERpc3BhdGNoZXIoKXtyZXR1cm4gdD0+e3Qub24oXCJhdHRyaWJ1dGU6bGlua0hyZWZcIiwodCxlLGkpPT57aWYoIWkuY29uc3VtYWJsZS50ZXN0KGUuaXRlbSxcImF0dHJpYnV0ZTpsaW5rSHJlZlwiKSl7cmV0dXJufWNvbnN0IG49aS53cml0ZXI7Y29uc3Qgbz1uLmRvY3VtZW50LnNlbGVjdGlvbjtmb3IoY29uc3QgdCBvZiB0aGlzLl9kZWZpbml0aW9ucyl7Y29uc3Qgcj1uLmNyZWF0ZUF0dHJpYnV0ZUVsZW1lbnQoXCJhXCIsdC5hdHRyaWJ1dGVzLHtwcmlvcml0eTo1fSk7bi5zZXRDdXN0b21Qcm9wZXJ0eShcImxpbmtcIix0cnVlLHIpO2lmKHQuY2FsbGJhY2soZS5hdHRyaWJ1dGVOZXdWYWx1ZSkpe2lmKGUuaXRlbS5pcyhcInNlbGVjdGlvblwiKSl7bi53cmFwKG8uZ2V0Rmlyc3RSYW5nZSgpLHIpfWVsc2V7bi53cmFwKGkubWFwcGVyLnRvVmlld1JhbmdlKGUucmFuZ2UpLHIpfX1lbHNle24udW53cmFwKGkubWFwcGVyLnRvVmlld1JhbmdlKGUucmFuZ2UpLHIpfX19LHtwcmlvcml0eTpcImhpZ2hcIn0pfX19Y2xhc3MgRUF7Y29uc3RydWN0b3Ioe2lkOnQsbGFiZWw6ZSxhdHRyaWJ1dGVzOml9KXt0aGlzLmlkPXQ7dGhpcy5zZXQoXCJ2YWx1ZVwiKTt0aGlzLmxhYmVsPWU7dGhpcy5hdHRyaWJ1dGVzPWl9fXZzKEVBLEpjKTtmdW5jdGlvbiBSQSh7dmlldzp0LG1vZGVsOmUsZW1pdHRlcjppLGF0dHJpYnV0ZTpuLGxvY2FsZTpvfSl7Y29uc3Qgcj1uZXcgT0EoZSxpLG4pO2NvbnN0IHM9ZS5kb2N1bWVudC5zZWxlY3Rpb247aS5saXN0ZW5Ubyh0LmRvY3VtZW50LFwia2V5ZG93blwiLCh0LGUpPT57aWYoIXMuaXNDb2xsYXBzZWQpe3JldHVybn1pZihlLnNoaWZ0S2V5fHxlLmFsdEtleXx8ZS5jdHJsS2V5KXtyZXR1cm59Y29uc3QgaT1lLmtleUNvZGU9PU5sLmFycm93cmlnaHQ7Y29uc3Qgbj1lLmtleUNvZGU9PU5sLmFycm93bGVmdDtpZighaSYmIW4pe3JldHVybn1jb25zdCBhPXMuZ2V0Rmlyc3RQb3NpdGlvbigpO2NvbnN0IGM9by5jb250ZW50TGFuZ3VhZ2VEaXJlY3Rpb247bGV0IGw7aWYoYz09PVwibHRyXCImJml8fGM9PT1cInJ0bFwiJiZuKXtsPXIuaGFuZGxlRm9yd2FyZE1vdmVtZW50KGEsZSl9ZWxzZXtsPXIuaGFuZGxlQmFja3dhcmRNb3ZlbWVudChhLGUpfWlmKGwpe3Quc3RvcCgpfX0se3ByaW9yaXR5Om9zLmdldChcImhpZ2hcIikrMX0pfWNsYXNzIE9Be2NvbnN0cnVjdG9yKHQsZSxpKXt0aGlzLm1vZGVsPXQ7dGhpcy5hdHRyaWJ1dGU9aTt0aGlzLl9tb2RlbFNlbGVjdGlvbj10LmRvY3VtZW50LnNlbGVjdGlvbjt0aGlzLl9vdmVycmlkZVVpZD1udWxsO3RoaXMuX2lzTmV4dEdyYXZpdHlSZXN0b3JhdGlvblNraXBwZWQ9ZmFsc2U7ZS5saXN0ZW5Ubyh0aGlzLl9tb2RlbFNlbGVjdGlvbixcImNoYW5nZTpyYW5nZVwiLCh0LGUpPT57aWYodGhpcy5faXNOZXh0R3Jhdml0eVJlc3RvcmF0aW9uU2tpcHBlZCl7dGhpcy5faXNOZXh0R3Jhdml0eVJlc3RvcmF0aW9uU2tpcHBlZD1mYWxzZTtyZXR1cm59aWYoIXRoaXMuX2lzR3Jhdml0eU92ZXJyaWRkZW4pe3JldHVybn1pZighZS5kaXJlY3RDaGFuZ2UmJklBKHRoaXMuX21vZGVsU2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSxpKSl7cmV0dXJufXRoaXMuX3Jlc3RvcmVHcmF2aXR5KCl9KX1oYW5kbGVGb3J3YXJkTW92ZW1lbnQodCxlKXtjb25zdCBpPXRoaXMuYXR0cmlidXRlO2lmKHRoaXMuX2lzR3Jhdml0eU92ZXJyaWRkZW4pe3JldHVybn1pZih0LmlzQXRTdGFydCYmdGhpcy5faGFzU2VsZWN0aW9uQXR0cmlidXRlKXtyZXR1cm59aWYoTUEodCxpKSYmdGhpcy5faGFzU2VsZWN0aW9uQXR0cmlidXRlKXt0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudChlKTt0aGlzLl9yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUoKTtyZXR1cm4gdHJ1ZX1pZihWQSh0LGkpKXt0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudChlKTt0aGlzLl9vdmVycmlkZUdyYXZpdHkoKTtyZXR1cm4gdHJ1ZX1pZihOQSh0LGkpJiZ0aGlzLl9oYXNTZWxlY3Rpb25BdHRyaWJ1dGUpe3RoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KGUpO3RoaXMuX292ZXJyaWRlR3Jhdml0eSgpO3JldHVybiB0cnVlfX1oYW5kbGVCYWNrd2FyZE1vdmVtZW50KHQsZSl7Y29uc3QgaT10aGlzLmF0dHJpYnV0ZTtpZih0aGlzLl9pc0dyYXZpdHlPdmVycmlkZGVuKXtpZihNQSh0LGkpJiZ0aGlzLl9oYXNTZWxlY3Rpb25BdHRyaWJ1dGUpe3RoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KGUpO3RoaXMuX3Jlc3RvcmVHcmF2aXR5KCk7dGhpcy5fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKCk7cmV0dXJuIHRydWV9ZWxzZXt0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudChlKTt0aGlzLl9yZXN0b3JlR3Jhdml0eSgpO2lmKHQuaXNBdFN0YXJ0KXt0aGlzLl9yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUoKX1yZXR1cm4gdHJ1ZX19ZWxzZXtpZihNQSh0LGkpJiYhdGhpcy5faGFzU2VsZWN0aW9uQXR0cmlidXRlKXt0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudChlKTt0aGlzLl9zZXRTZWxlY3Rpb25BdHRyaWJ1dGVGcm9tVGhlTm9kZUJlZm9yZSh0KTtyZXR1cm4gdHJ1ZX1pZih0LmlzQXRFbmQmJk5BKHQsaSkpe2lmKHRoaXMuX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZSl7aWYoQkEodCxpKSl7dGhpcy5fc2tpcE5leHRBdXRvbWF0aWNHcmF2aXR5UmVzdG9yYXRpb24oKTt0aGlzLl9vdmVycmlkZUdyYXZpdHkoKX1yZXR1cm59ZWxzZXt0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudChlKTt0aGlzLl9zZXRTZWxlY3Rpb25BdHRyaWJ1dGVGcm9tVGhlTm9kZUJlZm9yZSh0KTtyZXR1cm4gdHJ1ZX19aWYodC5pc0F0U3RhcnQpe2lmKHRoaXMuX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZSl7dGhpcy5fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKCk7dGhpcy5fcHJldmVudENhcmV0TW92ZW1lbnQoZSk7cmV0dXJuIHRydWV9cmV0dXJufWlmKEJBKHQsaSkpe3RoaXMuX3NraXBOZXh0QXV0b21hdGljR3Jhdml0eVJlc3RvcmF0aW9uKCk7dGhpcy5fb3ZlcnJpZGVHcmF2aXR5KCl9fX1nZXQgX2lzR3Jhdml0eU92ZXJyaWRkZW4oKXtyZXR1cm4hIXRoaXMuX292ZXJyaWRlVWlkfWdldCBfaGFzU2VsZWN0aW9uQXR0cmlidXRlKCl7cmV0dXJuIHRoaXMuX21vZGVsU2VsZWN0aW9uLmhhc0F0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZSl9X292ZXJyaWRlR3Jhdml0eSgpe3RoaXMuX292ZXJyaWRlVWlkPXRoaXMubW9kZWwuY2hhbmdlKHQ9PnQub3ZlcnJpZGVTZWxlY3Rpb25HcmF2aXR5KCkpfV9yZXN0b3JlR3Jhdml0eSgpe3RoaXMubW9kZWwuY2hhbmdlKHQ9Pnt0LnJlc3RvcmVTZWxlY3Rpb25HcmF2aXR5KHRoaXMuX292ZXJyaWRlVWlkKTt0aGlzLl9vdmVycmlkZVVpZD1udWxsfSl9X3ByZXZlbnRDYXJldE1vdmVtZW50KHQpe3QucHJldmVudERlZmF1bHQoKX1fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKCl7dGhpcy5tb2RlbC5jaGFuZ2UodD0+e3QucmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlKX0pfV9zZXRTZWxlY3Rpb25BdHRyaWJ1dGVGcm9tVGhlTm9kZUJlZm9yZSh0KXtjb25zdCBlPXRoaXMuYXR0cmlidXRlO3RoaXMubW9kZWwuY2hhbmdlKGk9PntpLnNldFNlbGVjdGlvbkF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZSx0Lm5vZGVCZWZvcmUuZ2V0QXR0cmlidXRlKGUpKX0pfV9za2lwTmV4dEF1dG9tYXRpY0dyYXZpdHlSZXN0b3JhdGlvbigpe3RoaXMuX2lzTmV4dEdyYXZpdHlSZXN0b3JhdGlvblNraXBwZWQ9dHJ1ZX19ZnVuY3Rpb24gSUEodCxlKXtyZXR1cm4gVkEodCxlKXx8TkEodCxlKX1mdW5jdGlvbiBWQSh0LGUpe2NvbnN0e25vZGVCZWZvcmU6aSxub2RlQWZ0ZXI6bn09dDtjb25zdCBvPWk/aS5oYXNBdHRyaWJ1dGUoZSk6ZmFsc2U7Y29uc3Qgcj1uP24uaGFzQXR0cmlidXRlKGUpOmZhbHNlO3JldHVybiByJiYoIW98fGkuZ2V0QXR0cmlidXRlKGUpIT09bi5nZXRBdHRyaWJ1dGUoZSkpfWZ1bmN0aW9uIE5BKHQsZSl7Y29uc3R7bm9kZUJlZm9yZTppLG5vZGVBZnRlcjpufT10O2NvbnN0IG89aT9pLmhhc0F0dHJpYnV0ZShlKTpmYWxzZTtjb25zdCByPW4/bi5oYXNBdHRyaWJ1dGUoZSk6ZmFsc2U7cmV0dXJuIG8mJighcnx8aS5nZXRBdHRyaWJ1dGUoZSkhPT1uLmdldEF0dHJpYnV0ZShlKSl9ZnVuY3Rpb24gTUEodCxlKXtjb25zdHtub2RlQmVmb3JlOmksbm9kZUFmdGVyOm59PXQ7Y29uc3Qgbz1pP2kuaGFzQXR0cmlidXRlKGUpOmZhbHNlO2NvbnN0IHI9bj9uLmhhc0F0dHJpYnV0ZShlKTpmYWxzZTtpZighcnx8IW8pe3JldHVybn1yZXR1cm4gbi5nZXRBdHRyaWJ1dGUoZSkhPT1pLmdldEF0dHJpYnV0ZShlKX1mdW5jdGlvbiBCQSh0LGUpe3JldHVybiBJQSh0LmdldFNoaWZ0ZWRCeSgtMSksZSl9dmFyIHpBPWkoODApO2NvbnN0IExBPVwiY2stbGlua19zZWxlY3RlZFwiO2NvbnN0IEZBPVwiYXV0b21hdGljXCI7Y29uc3QgREE9XCJtYW51YWxcIjtjb25zdCBqQT0vXihodHRwcz86KT9cXC9cXC8vO2NsYXNzIEhBIGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJMaW5rRWRpdGluZ1wifWNvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3QuY29uZmlnLmRlZmluZShcImxpbmtcIix7YWRkVGFyZ2V0VG9FeHRlcm5hbExpbmtzOmZhbHNlfSl9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LmxvY2FsZTt0Lm1vZGVsLnNjaGVtYS5leHRlbmQoXCIkdGV4dFwiLHthbGxvd0F0dHJpYnV0ZXM6XCJsaW5rSHJlZlwifSk7dC5jb252ZXJzaW9uLmZvcihcImRhdGFEb3duY2FzdFwiKS5hdHRyaWJ1dGVUb0VsZW1lbnQoe21vZGVsOlwibGlua0hyZWZcIix2aWV3OnhBfSk7dC5jb252ZXJzaW9uLmZvcihcImVkaXRpbmdEb3duY2FzdFwiKS5hdHRyaWJ1dGVUb0VsZW1lbnQoe21vZGVsOlwibGlua0hyZWZcIix2aWV3Oih0LGUpPT54QShDQSh0KSxlKX0pO3QuY29udmVyc2lvbi5mb3IoXCJ1cGNhc3RcIikuZWxlbWVudFRvQXR0cmlidXRlKHt2aWV3OntuYW1lOlwiYVwiLGF0dHJpYnV0ZXM6e2hyZWY6dHJ1ZX19LG1vZGVsOntrZXk6XCJsaW5rSHJlZlwiLHZhbHVlOnQ9PnQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKX19KTt0LmNvbW1hbmRzLmFkZChcImxpbmtcIixuZXcgUkModCkpO3QuY29tbWFuZHMuYWRkKFwidW5saW5rXCIsbmV3IE9DKHQpKTtjb25zdCBpPVRBKHQudCxQQSh0LmNvbmZpZy5nZXQoXCJsaW5rLmRlY29yYXRvcnNcIikpKTt0aGlzLl9lbmFibGVBdXRvbWF0aWNEZWNvcmF0b3JzKGkuZmlsdGVyKHQ9PnQubW9kZT09PUZBKSk7dGhpcy5fZW5hYmxlTWFudWFsRGVjb3JhdG9ycyhpLmZpbHRlcih0PT50Lm1vZGU9PT1EQSkpO1JBKHt2aWV3OnQuZWRpdGluZy52aWV3LG1vZGVsOnQubW9kZWwsZW1pdHRlcjp0aGlzLGF0dHJpYnV0ZTpcImxpbmtIcmVmXCIsbG9jYWxlOmV9KTt0aGlzLl9zZXR1cExpbmtIaWdobGlnaHQoKX1fZW5hYmxlQXV0b21hdGljRGVjb3JhdG9ycyh0KXtjb25zdCBlPXRoaXMuZWRpdG9yO2NvbnN0IGk9bmV3IFNBO2lmKGUuY29uZmlnLmdldChcImxpbmsuYWRkVGFyZ2V0VG9FeHRlcm5hbExpbmtzXCIpKXtpLmFkZCh7aWQ6XCJsaW5rSXNFeHRlcm5hbFwiLG1vZGU6RkEsY2FsbGJhY2s6dD0+akEudGVzdCh0KSxhdHRyaWJ1dGVzOnt0YXJnZXQ6XCJfYmxhbmtcIixyZWw6XCJub29wZW5lciBub3JlZmVycmVyXCJ9fSl9aS5hZGQodCk7aWYoaS5sZW5ndGgpe2UuY29udmVyc2lvbi5mb3IoXCJkb3duY2FzdFwiKS5hZGQoaS5nZXREaXNwYXRjaGVyKCkpfX1fZW5hYmxlTWFudWFsRGVjb3JhdG9ycyh0KXtpZighdC5sZW5ndGgpe3JldHVybn1jb25zdCBlPXRoaXMuZWRpdG9yO2NvbnN0IGk9ZS5jb21tYW5kcy5nZXQoXCJsaW5rXCIpO2NvbnN0IG49aS5tYW51YWxEZWNvcmF0b3JzO3QuZm9yRWFjaCh0PT57ZS5tb2RlbC5zY2hlbWEuZXh0ZW5kKFwiJHRleHRcIix7YWxsb3dBdHRyaWJ1dGVzOnQuaWR9KTtuLmFkZChuZXcgRUEodCkpO2UuY29udmVyc2lvbi5mb3IoXCJkb3duY2FzdFwiKS5hdHRyaWJ1dGVUb0VsZW1lbnQoe21vZGVsOnQuaWQsdmlldzooZSxpKT0+e2lmKGUpe2NvbnN0IGU9bi5nZXQodC5pZCkuYXR0cmlidXRlcztjb25zdCBvPWkuY3JlYXRlQXR0cmlidXRlRWxlbWVudChcImFcIixlLHtwcmlvcml0eTo1fSk7aS5zZXRDdXN0b21Qcm9wZXJ0eShcImxpbmtcIix0cnVlLG8pO3JldHVybiBvfX19KTtlLmNvbnZlcnNpb24uZm9yKFwidXBjYXN0XCIpLmVsZW1lbnRUb0F0dHJpYnV0ZSh7dmlldzp7bmFtZTpcImFcIixhdHRyaWJ1dGVzOm4uZ2V0KHQuaWQpLmF0dHJpYnV0ZXN9LG1vZGVsOntrZXk6dC5pZH19KX0pfV9zZXR1cExpbmtIaWdobGlnaHQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5lZGl0aW5nLnZpZXc7Y29uc3QgaT1uZXcgU2V0O2UuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIoZT0+e2NvbnN0IG49dC5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247bGV0IG89ZmFsc2U7aWYobi5oYXNBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiKSl7Y29uc3Qgcj1TQyhuLmdldEZpcnN0UG9zaXRpb24oKSxuLmdldEF0dHJpYnV0ZShcImxpbmtIcmVmXCIpLHQubW9kZWwpO2NvbnN0IHM9dC5lZGl0aW5nLm1hcHBlci50b1ZpZXdSYW5nZShyKTtmb3IoY29uc3QgdCBvZiBzLmdldEl0ZW1zKCkpe2lmKHQuaXMoXCJhXCIpJiYhdC5oYXNDbGFzcyhMQSkpe2UuYWRkQ2xhc3MoTEEsdCk7aS5hZGQodCk7bz10cnVlfX19cmV0dXJuIG99KTt0LmNvbnZlcnNpb24uZm9yKFwiZWRpdGluZ0Rvd25jYXN0XCIpLmFkZCh0PT57dC5vbihcImluc2VydFwiLG4se3ByaW9yaXR5OlwiaGlnaGVzdFwifSk7dC5vbihcInJlbW92ZVwiLG4se3ByaW9yaXR5OlwiaGlnaGVzdFwifSk7dC5vbihcImF0dHJpYnV0ZVwiLG4se3ByaW9yaXR5OlwiaGlnaGVzdFwifSk7dC5vbihcInNlbGVjdGlvblwiLG4se3ByaW9yaXR5OlwiaGlnaGVzdFwifSk7ZnVuY3Rpb24gbigpe2UuY2hhbmdlKHQ9Pntmb3IoY29uc3QgZSBvZiBpLnZhbHVlcygpKXt0LnJlbW92ZUNsYXNzKExBLGUpO2kuZGVsZXRlKGUpfX0pfX0pfX1jbGFzcyBXQSBleHRlbmRzIEp1e2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3RoaXMuZG9tRXZlbnRUeXBlPVwiY2xpY2tcIn1vbkRvbUV2ZW50KHQpe3RoaXMuZmlyZSh0LnR5cGUsdCl9fXZhciBxQT1pKDgyKTtjbGFzcyBVQSBleHRlbmRzIEdwe2NvbnN0cnVjdG9yKHQsZT1bXSl7c3VwZXIodCk7Y29uc3QgaT10LnQ7dGhpcy5mb2N1c1RyYWNrZXI9bmV3IGZiO3RoaXMua2V5c3Ryb2tlcz1uZXcgZHA7dGhpcy51cmxJbnB1dFZpZXc9dGhpcy5fY3JlYXRlVXJsSW5wdXQoKTt0aGlzLnNhdmVCdXR0b25WaWV3PXRoaXMuX2NyZWF0ZUJ1dHRvbihpKFwibG9cIiksWHYsXCJjay1idXR0b24tc2F2ZVwiKTt0aGlzLnNhdmVCdXR0b25WaWV3LnR5cGU9XCJzdWJtaXRcIjt0aGlzLmNhbmNlbEJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKGkoXCJscFwiKSxadixcImNrLWJ1dHRvbi1jYW5jZWxcIixcImNhbmNlbFwiKTt0aGlzLl9tYW51YWxEZWNvcmF0b3JTd2l0Y2hlcz10aGlzLl9jcmVhdGVNYW51YWxEZWNvcmF0b3JTd2l0Y2hlcyhlKTt0aGlzLmNoaWxkcmVuPXRoaXMuX2NyZWF0ZUZvcm1DaGlsZHJlbihlKTt0aGlzLl9mb2N1c2FibGVzPW5ldyBicDt0aGlzLl9mb2N1c0N5Y2xlcj1uZXcgeWIoe2ZvY3VzYWJsZXM6dGhpcy5fZm9jdXNhYmxlcyxmb2N1c1RyYWNrZXI6dGhpcy5mb2N1c1RyYWNrZXIsa2V5c3Ryb2tlSGFuZGxlcjp0aGlzLmtleXN0cm9rZXMsYWN0aW9uczp7Zm9jdXNQcmV2aW91czpcInNoaWZ0ICsgdGFiXCIsZm9jdXNOZXh0OlwidGFiXCJ9fSk7Y29uc3Qgbj1bXCJja1wiLFwiY2stbGluay1mb3JtXCJdO2lmKGUubGVuZ3RoKXtuLnB1c2goXCJjay1saW5rLWZvcm1fbGF5b3V0LXZlcnRpY2FsXCIpfXRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImZvcm1cIixhdHRyaWJ1dGVzOntjbGFzczpuLHRhYmluZGV4OlwiLTFcIn0sY2hpbGRyZW46dGhpcy5jaGlsZHJlbn0pfWdldERlY29yYXRvclN3aXRjaGVzU3RhdGUoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9tYW51YWxEZWNvcmF0b3JTd2l0Y2hlcykucmVkdWNlKCh0LGUpPT57dFtlLm5hbWVdPWUuaXNPbjtyZXR1cm4gdH0se30pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpO1F2KHt2aWV3OnRoaXN9KTtjb25zdCB0PVt0aGlzLnVybElucHV0VmlldywuLi50aGlzLl9tYW51YWxEZWNvcmF0b3JTd2l0Y2hlcyx0aGlzLnNhdmVCdXR0b25WaWV3LHRoaXMuY2FuY2VsQnV0dG9uVmlld107dC5mb3JFYWNoKHQ9Pnt0aGlzLl9mb2N1c2FibGVzLmFkZCh0KTt0aGlzLmZvY3VzVHJhY2tlci5hZGQodC5lbGVtZW50KX0pO3RoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpfWZvY3VzKCl7dGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNGaXJzdCgpfV9jcmVhdGVVcmxJbnB1dCgpe2NvbnN0IHQ9dGhpcy5sb2NhbGUudDtjb25zdCBlPW5ldyBLdih0aGlzLmxvY2FsZSxZdik7ZS5sYWJlbD10KFwibHFcIik7ZS5pbnB1dFZpZXcucGxhY2Vob2xkZXI9XCJodHRwczovL2V4YW1wbGUuY29tXCI7cmV0dXJuIGV9X2NyZWF0ZUJ1dHRvbih0LGUsaSxuKXtjb25zdCBvPW5ldyBoYih0aGlzLmxvY2FsZSk7by5zZXQoe2xhYmVsOnQsaWNvbjplLHRvb2x0aXA6dHJ1ZX0pO28uZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOml9fSk7aWYobil7by5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8odGhpcyxuKX1yZXR1cm4gb31fY3JlYXRlTWFudWFsRGVjb3JhdG9yU3dpdGNoZXModCl7Y29uc3QgZT10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKTtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PW5ldyBGYih0aGlzLmxvY2FsZSk7dC5zZXQoe25hbWU6aS5pZCxsYWJlbDppLmxhYmVsLHdpdGhUZXh0OnRydWV9KTt0LmJpbmQoXCJpc09uXCIpLnRvKGksXCJ2YWx1ZVwiKTt0Lm9uKFwiZXhlY3V0ZVwiLCgpPT57aS5zZXQoXCJ2YWx1ZVwiLCF0LmlzT24pfSk7ZS5hZGQodCl9cmV0dXJuIGV9X2NyZWF0ZUZvcm1DaGlsZHJlbih0KXtjb25zdCBlPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpO2UuYWRkKHRoaXMudXJsSW5wdXRWaWV3KTtpZih0Lmxlbmd0aCl7Y29uc3QgdD1uZXcgR3A7dC5zZXRUZW1wbGF0ZSh7dGFnOlwidWxcIixjaGlsZHJlbjp0aGlzLl9tYW51YWxEZWNvcmF0b3JTd2l0Y2hlcy5tYXAodD0+KHt0YWc6XCJsaVwiLGNoaWxkcmVuOlt0XSxhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stbGlzdF9faXRlbVwiXX19KSksYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLXJlc2V0XCIsXCJjay1saXN0XCJdfX0pO2UuYWRkKHQpfWUuYWRkKHRoaXMuc2F2ZUJ1dHRvblZpZXcpO2UuYWRkKHRoaXMuY2FuY2VsQnV0dG9uVmlldyk7cmV0dXJuIGV9fXZhciAkQT0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTEuMDc3IDE1bC45OTEtMS40MTZhLjc1Ljc1IDAgMSAxIDEuMjI5Ljg2bC0xLjE0OCAxLjY0YS43NDguNzQ4IDAgMCAxLS4yMTcuMjA2IDUuMjUxIDUuMjUxIDAgMCAxLTguNTAzLTUuOTU1Ljc0MS43NDEgMCAwIDEgLjEyLS4yNzRsMS4xNDctMS42MzlhLjc1Ljc1IDAgMSAxIDEuMjI4Ljg2TDQuOTMzIDEwLjdsLjAwNi4wMDNhMy43NSAzLjc1IDAgMCAwIDYuMTMyIDQuMjk0bC4wMDYuMDA0em01LjQ5NC01LjMzNWEuNzQ4Ljc0OCAwIDAgMS0uMTIuMjc0bC0xLjE0NyAxLjYzOWEuNzUuNzUgMCAxIDEtMS4yMjgtLjg2bC44Ni0xLjIzYTMuNzUgMy43NSAwIDAgMC02LjE0NC00LjMwMWwtLjg2IDEuMjI5YS43NS43NSAwIDAgMS0xLjIyOS0uODZsMS4xNDgtMS42NGEuNzQ4Ljc0OCAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTV6bS00LjU2My0yLjUzMmEuNzUuNzUgMCAwIDEgLjE4NCAxLjA0NWwtMy4xNTUgNC41MDVhLjc1Ljc1IDAgMSAxLTEuMjI5LS44NmwzLjE1NS00LjUwNmEuNzUuNzUgMCAwIDEgMS4wNDUtLjE4NHptNC45MTkgMTAuNTYybC0xLjQxNCAxLjQxNGEuNzUuNzUgMCAxIDEtMS4wNi0xLjA2bDEuNDE0LTEuNDE1LTEuNDE1LTEuNDE0YS43NS43NSAwIDAgMSAxLjA2MS0xLjA2bDEuNDE0IDEuNDE0IDEuNDE0LTEuNDE1YS43NS43NSAwIDAgMSAxLjA2MSAxLjA2MWwtMS40MTQgMS40MTQgMS40MTQgMS40MTVhLjc1Ljc1IDAgMCAxLTEuMDYgMS4wNmwtMS40MTUtMS40MTR6XCIvPjwvc3ZnPic7dmFyIEdBPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk03LjMgMTcuMzdsLS4wNjEuMDg4YTEuNTE4IDEuNTE4IDAgMCAxLS45MzQuNTM1bC00LjE3OC42NjMtLjgwNi00LjE1M2ExLjQ5NSAxLjQ5NSAwIDAgMSAuMTg3LTEuMDU4bC4wNTYtLjA4Nkw4Ljc3IDIuNjM5Yy45NTgtMS4zNTEgMi44MDMtMS4wNzYgNC4yOTYtLjAzIDEuNDk3IDEuMDQ3IDIuMzg3IDIuNjkzIDEuNDMzIDQuMDU1TDcuMyAxNy4zN3pNOS4xNCA0LjcyOGwtNS41NDUgOC4zNDYgMy4yNzcgMi4yOTQgNS41NDQtOC4zNDZMOS4xNCA0LjcyOHpNNi4wNyAxNi41MTJsLTMuMjc2LTIuMjk1LjUzIDIuNzMgMi43NDYtLjQzNXpNOS45OTQgMy41MDZMMTMuMjcxIDUuOGMuMzE2LS40NTItLjE2LTEuMzMzLTEuMDY1LTEuOTY2LS45MDUtLjYzNC0xLjg5NS0uNzgtMi4yMTItLjMyOHpNOCAxOC41TDkuMzc1IDE3SDE5djEuNUg4elwiLz48L3N2Zz4nO3ZhciBLQT1pKDg0KTtjbGFzcyBKQSBleHRlbmRzIEdwe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dC50O3RoaXMuZm9jdXNUcmFja2VyPW5ldyBmYjt0aGlzLmtleXN0cm9rZXM9bmV3IGRwO3RoaXMucHJldmlld0J1dHRvblZpZXc9dGhpcy5fY3JlYXRlUHJldmlld0J1dHRvbigpO3RoaXMudW5saW5rQnV0dG9uVmlldz10aGlzLl9jcmVhdGVCdXR0b24oZShcImxrXCIpLCRBLFwidW5saW5rXCIpO3RoaXMuZWRpdEJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKGUoXCJsbFwiKSxHQSxcImVkaXRcIik7dGhpcy5zZXQoXCJocmVmXCIpO3RoaXMuX2ZvY3VzYWJsZXM9bmV3IGJwO3RoaXMuX2ZvY3VzQ3ljbGVyPW5ldyB5Yih7Zm9jdXNhYmxlczp0aGlzLl9mb2N1c2FibGVzLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOlwic2hpZnQgKyB0YWJcIixmb2N1c05leHQ6XCJ0YWJcIn19KTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stbGluay1hY3Rpb25zXCJdLHRhYmluZGV4OlwiLTFcIn0sY2hpbGRyZW46W3RoaXMucHJldmlld0J1dHRvblZpZXcsdGhpcy5lZGl0QnV0dG9uVmlldyx0aGlzLnVubGlua0J1dHRvblZpZXddfSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCk7Y29uc3QgdD1bdGhpcy5wcmV2aWV3QnV0dG9uVmlldyx0aGlzLmVkaXRCdXR0b25WaWV3LHRoaXMudW5saW5rQnV0dG9uVmlld107dC5mb3JFYWNoKHQ9Pnt0aGlzLl9mb2N1c2FibGVzLmFkZCh0KTt0aGlzLmZvY3VzVHJhY2tlci5hZGQodC5lbGVtZW50KX0pO3RoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpfWZvY3VzKCl7dGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNGaXJzdCgpfV9jcmVhdGVCdXR0b24odCxlLGkpe2NvbnN0IG49bmV3IGhiKHRoaXMubG9jYWxlKTtuLnNldCh7bGFiZWw6dCxpY29uOmUsdG9vbHRpcDp0cnVlfSk7bi5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8odGhpcyxpKTtyZXR1cm4gbn1fY3JlYXRlUHJldmlld0J1dHRvbigpe2NvbnN0IHQ9bmV3IGhiKHRoaXMubG9jYWxlKTtjb25zdCBlPXRoaXMuYmluZFRlbXBsYXRlO2NvbnN0IGk9dGhpcy50O3Quc2V0KHt3aXRoVGV4dDp0cnVlLHRvb2x0aXA6aShcImxtXCIpfSk7dC5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWxpbmstYWN0aW9uc19fcHJldmlld1wiXSxocmVmOmUudG8oXCJocmVmXCIsdD0+dCYmQ0EodCkpLHRhcmdldDpcIl9ibGFua1wiLHJlbDpcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIn19KTt0LmJpbmQoXCJsYWJlbFwiKS50byh0aGlzLFwiaHJlZlwiLHQ9PnR8fGkoXCJsblwiKSk7dC5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKHRoaXMsXCJocmVmXCIsdD0+ISF0KTt0LnRlbXBsYXRlLnRhZz1cImFcIjt0LnRlbXBsYXRlLmV2ZW50TGlzdGVuZXJzPXt9O3JldHVybiB0fX12YXIgWUE9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTExLjA3NyAxNWwuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6XCIvPjwvc3ZnPic7Y29uc3QgUUE9XCJDdHJsK0tcIjtjbGFzcyBYQSBleHRlbmRzIG1we3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5ba2JdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiTGlua1VJXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5lZGl0aW5nLnZpZXcuYWRkT2JzZXJ2ZXIoV0EpO3RoaXMuYWN0aW9uc1ZpZXc9dGhpcy5fY3JlYXRlQWN0aW9uc1ZpZXcoKTt0aGlzLmZvcm1WaWV3PXRoaXMuX2NyZWF0ZUZvcm1WaWV3KCk7dGhpcy5fYmFsbG9vbj10LnBsdWdpbnMuZ2V0KGtiKTt0aGlzLl9jcmVhdGVUb29sYmFyTGlua0J1dHRvbigpO3RoaXMuX2VuYWJsZVVzZXJCYWxsb29uSW50ZXJhY3Rpb25zKCl9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKTt0aGlzLmZvcm1WaWV3LmRlc3Ryb3koKX1fY3JlYXRlQWN0aW9uc1ZpZXcoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9bmV3IEpBKHQubG9jYWxlKTtjb25zdCBpPXQuY29tbWFuZHMuZ2V0KFwibGlua1wiKTtjb25zdCBuPXQuY29tbWFuZHMuZ2V0KFwidW5saW5rXCIpO2UuYmluZChcImhyZWZcIikudG8oaSxcInZhbHVlXCIpO2UuZWRpdEJ1dHRvblZpZXcuYmluZChcImlzRW5hYmxlZFwiKS50byhpKTtlLnVubGlua0J1dHRvblZpZXcuYmluZChcImlzRW5hYmxlZFwiKS50byhuKTt0aGlzLmxpc3RlblRvKGUsXCJlZGl0XCIsKCk9Pnt0aGlzLl9hZGRGb3JtVmlldygpfSk7dGhpcy5saXN0ZW5UbyhlLFwidW5saW5rXCIsKCk9Pnt0LmV4ZWN1dGUoXCJ1bmxpbmtcIik7dGhpcy5faGlkZVVJKCl9KTtlLmtleXN0cm9rZXMuc2V0KFwiRXNjXCIsKHQsZSk9Pnt0aGlzLl9oaWRlVUkoKTtlKCl9KTtlLmtleXN0cm9rZXMuc2V0KFFBLCh0LGUpPT57dGhpcy5fYWRkRm9ybVZpZXcoKTtlKCl9KTtyZXR1cm4gZX1fY3JlYXRlRm9ybVZpZXcoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5jb21tYW5kcy5nZXQoXCJsaW5rXCIpO2NvbnN0IGk9bmV3IFVBKHQubG9jYWxlLGUubWFudWFsRGVjb3JhdG9ycyk7aS51cmxJbnB1dFZpZXcuYmluZChcInZhbHVlXCIpLnRvKGUsXCJ2YWx1ZVwiKTtpLnVybElucHV0Vmlldy5iaW5kKFwiaXNSZWFkT25seVwiKS50byhlLFwiaXNFbmFibGVkXCIsdD0+IXQpO2kuc2F2ZUJ1dHRvblZpZXcuYmluZChcImlzRW5hYmxlZFwiKS50byhlKTt0aGlzLmxpc3RlblRvKGksXCJzdWJtaXRcIiwoKT0+e3QuZXhlY3V0ZShcImxpbmtcIixpLnVybElucHV0Vmlldy5pbnB1dFZpZXcuZWxlbWVudC52YWx1ZSxpLmdldERlY29yYXRvclN3aXRjaGVzU3RhdGUoKSk7dGhpcy5fY2xvc2VGb3JtVmlldygpfSk7dGhpcy5saXN0ZW5UbyhpLFwiY2FuY2VsXCIsKCk9Pnt0aGlzLl9jbG9zZUZvcm1WaWV3KCl9KTtpLmtleXN0cm9rZXMuc2V0KFwiRXNjXCIsKHQsZSk9Pnt0aGlzLl9jbG9zZUZvcm1WaWV3KCk7ZSgpfSk7cmV0dXJuIGl9X2NyZWF0ZVRvb2xiYXJMaW5rQnV0dG9uKCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQuY29tbWFuZHMuZ2V0KFwibGlua1wiKTtjb25zdCBpPXQudDt0LmtleXN0cm9rZXMuc2V0KFFBLCh0LGUpPT57ZSgpO3RoaXMuX3Nob3dVSSh0cnVlKX0pO3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoXCJsaW5rXCIsdD0+e2NvbnN0IG49bmV3IGhiKHQpO24uaXNFbmFibGVkPXRydWU7bi5sYWJlbD1pKFwibGZcIik7bi5pY29uPVlBO24ua2V5c3Ryb2tlPVFBO24udG9vbHRpcD10cnVlO24uaXNUb2dnbGVhYmxlPXRydWU7bi5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKGUsXCJpc0VuYWJsZWRcIik7bi5iaW5kKFwiaXNPblwiKS50byhlLFwidmFsdWVcIix0PT4hIXQpO3RoaXMubGlzdGVuVG8obixcImV4ZWN1dGVcIiwoKT0+dGhpcy5fc2hvd1VJKHRydWUpKTtyZXR1cm4gbn0pfV9lbmFibGVVc2VyQmFsbG9vbkludGVyYWN0aW9ucygpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmRvY3VtZW50O3RoaXMubGlzdGVuVG8odCxcImNsaWNrXCIsKCk9Pntjb25zdCB0PXRoaXMuX2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKTtpZih0KXt0aGlzLl9zaG93VUkoKX19KTt0aGlzLmVkaXRvci5rZXlzdHJva2VzLnNldChcIlRhYlwiLCh0LGUpPT57aWYodGhpcy5fYXJlQWN0aW9uc1Zpc2libGUmJiF0aGlzLmFjdGlvbnNWaWV3LmZvY3VzVHJhY2tlci5pc0ZvY3VzZWQpe3RoaXMuYWN0aW9uc1ZpZXcuZm9jdXMoKTtlKCl9fSx7cHJpb3JpdHk6XCJoaWdoXCJ9KTt0aGlzLmVkaXRvci5rZXlzdHJva2VzLnNldChcIkVzY1wiLCh0LGUpPT57aWYodGhpcy5faXNVSVZpc2libGUpe3RoaXMuX2hpZGVVSSgpO2UoKX19KTtEYih7ZW1pdHRlcjp0aGlzLmZvcm1WaWV3LGFjdGl2YXRvcjooKT0+dGhpcy5faXNVSUluUGFuZWwsY29udGV4dEVsZW1lbnRzOlt0aGlzLl9iYWxsb29uLnZpZXcuZWxlbWVudF0sY2FsbGJhY2s6KCk9PnRoaXMuX2hpZGVVSSgpfSl9X2FkZEFjdGlvbnNWaWV3KCl7aWYodGhpcy5fYXJlQWN0aW9uc0luUGFuZWwpe3JldHVybn10aGlzLl9iYWxsb29uLmFkZCh7dmlldzp0aGlzLmFjdGlvbnNWaWV3LHBvc2l0aW9uOnRoaXMuX2dldEJhbGxvb25Qb3NpdGlvbkRhdGEoKX0pfV9hZGRGb3JtVmlldygpe2lmKHRoaXMuX2lzRm9ybUluUGFuZWwpe3JldHVybn1jb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5jb21tYW5kcy5nZXQoXCJsaW5rXCIpO3RoaXMuX2JhbGxvb24uYWRkKHt2aWV3OnRoaXMuZm9ybVZpZXcscG9zaXRpb246dGhpcy5fZ2V0QmFsbG9vblBvc2l0aW9uRGF0YSgpfSk7aWYodGhpcy5fYmFsbG9vbi52aXNpYmxlVmlldz09PXRoaXMuZm9ybVZpZXcpe3RoaXMuZm9ybVZpZXcudXJsSW5wdXRWaWV3LnNlbGVjdCgpfXRoaXMuZm9ybVZpZXcudXJsSW5wdXRWaWV3LmlucHV0Vmlldy5lbGVtZW50LnZhbHVlPWUudmFsdWV8fFwiXCJ9X2Nsb3NlRm9ybVZpZXcoKXtjb25zdCB0PXRoaXMuZWRpdG9yLmNvbW1hbmRzLmdldChcImxpbmtcIik7dC5yZXN0b3JlTWFudWFsRGVjb3JhdG9yU3RhdGVzKCk7aWYodC52YWx1ZSE9PXVuZGVmaW5lZCl7dGhpcy5fcmVtb3ZlRm9ybVZpZXcoKX1lbHNle3RoaXMuX2hpZGVVSSgpfX1fcmVtb3ZlRm9ybVZpZXcoKXtpZih0aGlzLl9pc0Zvcm1JblBhbmVsKXt0aGlzLmZvcm1WaWV3LnNhdmVCdXR0b25WaWV3LmZvY3VzKCk7dGhpcy5fYmFsbG9vbi5yZW1vdmUodGhpcy5mb3JtVmlldyk7dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmZvY3VzKCl9fV9zaG93VUkodD1mYWxzZSl7aWYoIXRoaXMuX2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKSl7dGhpcy5fYWRkQWN0aW9uc1ZpZXcoKTtpZih0KXt0aGlzLl9iYWxsb29uLnNob3dTdGFjayhcIm1haW5cIil9dGhpcy5fYWRkRm9ybVZpZXcoKX1lbHNle2lmKHRoaXMuX2FyZUFjdGlvbnNWaXNpYmxlKXt0aGlzLl9hZGRGb3JtVmlldygpfWVsc2V7dGhpcy5fYWRkQWN0aW9uc1ZpZXcoKX1pZih0KXt0aGlzLl9iYWxsb29uLnNob3dTdGFjayhcIm1haW5cIil9fXRoaXMuX3N0YXJ0VXBkYXRpbmdVSSgpfV9oaWRlVUkoKXtpZighdGhpcy5faXNVSUluUGFuZWwpe3JldHVybn1jb25zdCB0PXRoaXMuZWRpdG9yO3RoaXMuc3RvcExpc3RlbmluZyh0LnVpLFwidXBkYXRlXCIpO3RoaXMuc3RvcExpc3RlbmluZyh0aGlzLl9iYWxsb29uLFwiY2hhbmdlOnZpc2libGVWaWV3XCIpO3QuZWRpdGluZy52aWV3LmZvY3VzKCk7dGhpcy5fcmVtb3ZlRm9ybVZpZXcoKTt0aGlzLl9iYWxsb29uLnJlbW92ZSh0aGlzLmFjdGlvbnNWaWV3KX1fc3RhcnRVcGRhdGluZ1VJKCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQuZWRpdGluZy52aWV3LmRvY3VtZW50O2xldCBpPXRoaXMuX2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKTtsZXQgbj1yKCk7Y29uc3Qgbz0oKT0+e2NvbnN0IHQ9dGhpcy5fZ2V0U2VsZWN0ZWRMaW5rRWxlbWVudCgpO2NvbnN0IGU9cigpO2lmKGkmJiF0fHwhaSYmZSE9PW4pe3RoaXMuX2hpZGVVSSgpfWVsc2UgaWYodGhpcy5faXNVSVZpc2libGUpe3RoaXMuX2JhbGxvb24udXBkYXRlUG9zaXRpb24odGhpcy5fZ2V0QmFsbG9vblBvc2l0aW9uRGF0YSgpKX1pPXQ7bj1lfTtmdW5jdGlvbiByKCl7cmV0dXJuIGUuc2VsZWN0aW9uLmZvY3VzLmdldEFuY2VzdG9ycygpLnJldmVyc2UoKS5maW5kKHQ9PnQuaXMoXCJlbGVtZW50XCIpKX10aGlzLmxpc3RlblRvKHQudWksXCJ1cGRhdGVcIixvKTt0aGlzLmxpc3RlblRvKHRoaXMuX2JhbGxvb24sXCJjaGFuZ2U6dmlzaWJsZVZpZXdcIixvKX1nZXQgX2lzRm9ybUluUGFuZWwoKXtyZXR1cm4gdGhpcy5fYmFsbG9vbi5oYXNWaWV3KHRoaXMuZm9ybVZpZXcpfWdldCBfYXJlQWN0aW9uc0luUGFuZWwoKXtyZXR1cm4gdGhpcy5fYmFsbG9vbi5oYXNWaWV3KHRoaXMuYWN0aW9uc1ZpZXcpfWdldCBfYXJlQWN0aW9uc1Zpc2libGUoKXtyZXR1cm4gdGhpcy5fYmFsbG9vbi52aXNpYmxlVmlldz09PXRoaXMuYWN0aW9uc1ZpZXd9Z2V0IF9pc1VJSW5QYW5lbCgpe3JldHVybiB0aGlzLl9pc0Zvcm1JblBhbmVsfHx0aGlzLl9hcmVBY3Rpb25zSW5QYW5lbH1nZXQgX2lzVUlWaXNpYmxlKCl7Y29uc3QgdD10aGlzLl9iYWxsb29uLnZpc2libGVWaWV3O3JldHVybiB0PT10aGlzLmZvcm1WaWV3fHx0aGlzLl9hcmVBY3Rpb25zVmlzaWJsZX1fZ2V0QmFsbG9vblBvc2l0aW9uRGF0YSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3O2NvbnN0IGU9dC5kb2N1bWVudDtjb25zdCBpPXRoaXMuX2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKTtjb25zdCBuPWk/dC5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKGkpOnQuZG9tQ29udmVydGVyLnZpZXdSYW5nZVRvRG9tKGUuc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKSk7cmV0dXJue3RhcmdldDpufX1fZ2V0U2VsZWN0ZWRMaW5rRWxlbWVudCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3O2NvbnN0IGU9dC5kb2N1bWVudC5zZWxlY3Rpb247aWYoZS5pc0NvbGxhcHNlZCl7cmV0dXJuIFpBKGUuZ2V0Rmlyc3RQb3NpdGlvbigpKX1lbHNle2NvbnN0IGk9ZS5nZXRGaXJzdFJhbmdlKCkuZ2V0VHJpbW1lZCgpO2NvbnN0IG49WkEoaS5zdGFydCk7Y29uc3Qgbz1aQShpLmVuZCk7aWYoIW58fG4hPW8pe3JldHVybiBudWxsfWlmKHQuY3JlYXRlUmFuZ2VJbihuKS5nZXRUcmltbWVkKCkuaXNFcXVhbChpKSl7cmV0dXJuIG59ZWxzZXtyZXR1cm4gbnVsbH19fX1mdW5jdGlvbiBaQSh0KXtyZXR1cm4gdC5nZXRBbmNlc3RvcnMoKS5maW5kKHQ9PnlBKHQpKX1jbGFzcyB0VCBleHRlbmRzIG1we3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bSEEsWEFdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiTGlua1wifX1jbGFzcyBlVCBleHRlbmRzIGp3e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCk7dGhpcy50eXBlPWV9cmVmcmVzaCgpe3RoaXMudmFsdWU9dGhpcy5fZ2V0VmFsdWUoKTt0aGlzLmlzRW5hYmxlZD10aGlzLl9jaGVja0VuYWJsZWQoKX1leGVjdXRlKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBlPXQuZG9jdW1lbnQ7Y29uc3QgaT1BcnJheS5mcm9tKGUuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpLmZpbHRlcihlPT5uVChlLHQuc2NoZW1hKSk7Y29uc3Qgbj10aGlzLnZhbHVlPT09dHJ1ZTt0LmNoYW5nZSh0PT57aWYobil7bGV0IGU9aVtpLmxlbmd0aC0xXS5uZXh0U2libGluZztsZXQgbj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7bGV0IG89W107d2hpbGUoZSYmZS5uYW1lPT1cImxpc3RJdGVtXCImJmUuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSE9PTApe2NvbnN0IHQ9ZS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpO2lmKHQ8bil7bj10fWNvbnN0IGk9dC1uO28ucHVzaCh7ZWxlbWVudDplLGxpc3RJbmRlbnQ6aX0pO2U9ZS5uZXh0U2libGluZ31vPW8ucmV2ZXJzZSgpO2Zvcihjb25zdCBlIG9mIG8pe3Quc2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiLGUubGlzdEluZGVudCxlLmVsZW1lbnQpfX1pZighbil7bGV0IHQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2Zvcihjb25zdCBlIG9mIGkpe2lmKGUuaXMoXCJsaXN0SXRlbVwiKSYmZS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpPHQpe3Q9ZS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpfX10PXQ9PT0wPzE6dDtpVChpLHRydWUsdCk7aVQoaSxmYWxzZSx0KX1mb3IoY29uc3QgZSBvZiBpLnJldmVyc2UoKSl7aWYobiYmZS5uYW1lPT1cImxpc3RJdGVtXCIpe3QucmVuYW1lKGUsXCJwYXJhZ3JhcGhcIil9ZWxzZSBpZighbiYmZS5uYW1lIT1cImxpc3RJdGVtXCIpe3Quc2V0QXR0cmlidXRlcyh7bGlzdFR5cGU6dGhpcy50eXBlLGxpc3RJbmRlbnQ6MH0sZSk7dC5yZW5hbWUoZSxcImxpc3RJdGVtXCIpfWVsc2UgaWYoIW4mJmUubmFtZT09XCJsaXN0SXRlbVwiJiZlLmdldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIpIT10aGlzLnR5cGUpe3Quc2V0QXR0cmlidXRlKFwibGlzdFR5cGVcIix0aGlzLnR5cGUsZSl9fX0pfV9nZXRWYWx1ZSgpe2NvbnN0IHQ9V3codGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpO3JldHVybiEhdCYmdC5pcyhcImxpc3RJdGVtXCIpJiZ0LmdldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIpPT10aGlzLnR5cGV9X2NoZWNrRW5hYmxlZCgpe2lmKHRoaXMudmFsdWUpe3JldHVybiB0cnVlfWNvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uO2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwuc2NoZW1hO2NvbnN0IGk9V3codC5nZXRTZWxlY3RlZEJsb2NrcygpKTtpZighaSl7cmV0dXJuIGZhbHNlfXJldHVybiBuVChpLGUpfX1mdW5jdGlvbiBpVCh0LGUsaSl7Y29uc3Qgbj1lP3RbMF06dFt0Lmxlbmd0aC0xXTtpZihuLmlzKFwibGlzdEl0ZW1cIikpe2xldCBvPW5bZT9cInByZXZpb3VzU2libGluZ1wiOlwibmV4dFNpYmxpbmdcIl07bGV0IHI9bi5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpO3doaWxlKG8mJm8uaXMoXCJsaXN0SXRlbVwiKSYmby5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpPj1pKXtpZihyPm8uZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSl7cj1vLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIil9aWYoby5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpPT1yKXt0W2U/XCJ1bnNoaWZ0XCI6XCJwdXNoXCJdKG8pfW89b1tlP1wicHJldmlvdXNTaWJsaW5nXCI6XCJuZXh0U2libGluZ1wiXX19fWZ1bmN0aW9uIG5UKHQsZSl7cmV0dXJuIGUuY2hlY2tDaGlsZCh0LnBhcmVudCxcImxpc3RJdGVtXCIpJiYhZS5pc09iamVjdCh0KX1jbGFzcyBvVCBleHRlbmRzIGp3e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCk7dGhpcy5faW5kZW50Qnk9ZT09XCJmb3J3YXJkXCI/MTotMX1yZWZyZXNoKCl7dGhpcy5pc0VuYWJsZWQ9dGhpcy5fY2hlY2tFbmFibGVkKCl9ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3QgZT10LmRvY3VtZW50O2xldCBpPUFycmF5LmZyb20oZS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSk7dC5jaGFuZ2UodD0+e2NvbnN0IGU9aVtpLmxlbmd0aC0xXTtsZXQgbj1lLm5leHRTaWJsaW5nO3doaWxlKG4mJm4ubmFtZT09XCJsaXN0SXRlbVwiJiZuLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik+ZS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpKXtpLnB1c2gobik7bj1uLm5leHRTaWJsaW5nfWlmKHRoaXMuX2luZGVudEJ5PDApe2k9aS5yZXZlcnNlKCl9Zm9yKGNvbnN0IGUgb2YgaSl7Y29uc3QgaT1lLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIikrdGhpcy5faW5kZW50Qnk7aWYoaTwwKXt0LnJlbmFtZShlLFwicGFyYWdyYXBoXCIpfWVsc2V7dC5zZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIsaSxlKX19fSl9X2NoZWNrRW5hYmxlZCgpe2NvbnN0IHQ9V3codGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpO2lmKCF0fHwhdC5pcyhcImxpc3RJdGVtXCIpKXtyZXR1cm4gZmFsc2V9aWYodGhpcy5faW5kZW50Qnk+MCl7Y29uc3QgZT10LmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik7Y29uc3QgaT10LmdldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIpO2xldCBuPXQucHJldmlvdXNTaWJsaW5nO3doaWxlKG4mJm4uaXMoXCJsaXN0SXRlbVwiKSYmbi5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpPj1lKXtpZihuLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik9PWUpe3JldHVybiBuLmdldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIpPT1pfW49bi5wcmV2aW91c1NpYmxpbmd9cmV0dXJuIGZhbHNlfXJldHVybiB0cnVlfX1mdW5jdGlvbiByVCh0KXtjb25zdCBlPXQuY3JlYXRlQ29udGFpbmVyRWxlbWVudChcImxpXCIpO2UuZ2V0RmlsbGVyT2Zmc2V0PWhUO3JldHVybiBlfWZ1bmN0aW9uIHNUKHQsZSl7Y29uc3QgaT1lLm1hcHBlcjtjb25zdCBuPWUud3JpdGVyO2NvbnN0IG89dC5nZXRBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiKT09XCJudW1iZXJlZFwiP1wib2xcIjpcInVsXCI7Y29uc3Qgcj1yVChuKTtjb25zdCBzPW4uY3JlYXRlQ29udGFpbmVyRWxlbWVudChvLG51bGwpO24uaW5zZXJ0KG4uY3JlYXRlUG9zaXRpb25BdChzLDApLHIpO2kuYmluZEVsZW1lbnRzKHQscik7cmV0dXJuIHJ9ZnVuY3Rpb24gYVQodCxlLGksbil7Y29uc3Qgbz1lLnBhcmVudDtjb25zdCByPWkubWFwcGVyO2NvbnN0IHM9aS53cml0ZXI7bGV0IGE9ci50b1ZpZXdQb3NpdGlvbihuLmNyZWF0ZVBvc2l0aW9uQmVmb3JlKHQpKTtjb25zdCBjPWRUKHQucHJldmlvdXNTaWJsaW5nLHtzYW1lSW5kZW50OnRydWUsc21hbGxlckluZGVudDp0cnVlLGxpc3RJbmRlbnQ6dC5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpfSk7Y29uc3QgbD10LnByZXZpb3VzU2libGluZztpZihjJiZjLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik9PXQuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSl7Y29uc3QgdD1yLnRvVmlld0VsZW1lbnQoYyk7YT1zLmJyZWFrQ29udGFpbmVyKHMuY3JlYXRlUG9zaXRpb25BZnRlcih0KSl9ZWxzZXtpZihsJiZsLm5hbWU9PVwibGlzdEl0ZW1cIil7YT1yLnRvVmlld1Bvc2l0aW9uKG4uY3JlYXRlUG9zaXRpb25BdChsLFwiZW5kXCIpKX1lbHNle2E9ci50b1ZpZXdQb3NpdGlvbihuLmNyZWF0ZVBvc2l0aW9uQmVmb3JlKHQpKX19YT1sVChhKTtzLmluc2VydChhLG8pO2lmKGwmJmwubmFtZT09XCJsaXN0SXRlbVwiKXtjb25zdCB0PXIudG9WaWV3RWxlbWVudChsKTtjb25zdCBpPXMuY3JlYXRlUmFuZ2Uocy5jcmVhdGVQb3NpdGlvbkF0KHQsMCksYSk7Y29uc3Qgbj1pLmdldFdhbGtlcih7aWdub3JlRWxlbWVudEVuZDp0cnVlfSk7Zm9yKGNvbnN0IHQgb2Ygbil7aWYodC5pdGVtLmlzKFwibGlcIikpe2NvbnN0IGk9cy5icmVha0NvbnRhaW5lcihzLmNyZWF0ZVBvc2l0aW9uQmVmb3JlKHQuaXRlbSkpO2NvbnN0IG89dC5pdGVtLnBhcmVudDtjb25zdCByPXMuY3JlYXRlUG9zaXRpb25BdChlLFwiZW5kXCIpO2NUKHMsci5ub2RlQmVmb3JlLHIubm9kZUFmdGVyKTtzLm1vdmUocy5jcmVhdGVSYW5nZU9uKG8pLHIpO24ucG9zaXRpb249aX19fWVsc2V7Y29uc3QgaT1vLm5leHRTaWJsaW5nO2lmKGkmJihpLmlzKFwidWxcIil8fGkuaXMoXCJvbFwiKSkpe2xldCBuPW51bGw7Zm9yKGNvbnN0IGUgb2YgaS5nZXRDaGlsZHJlbigpKXtjb25zdCBpPXIudG9Nb2RlbEVsZW1lbnQoZSk7aWYoaSYmaS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpPnQuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSl7bj1lfWVsc2V7YnJlYWt9fWlmKG4pe3MuYnJlYWtDb250YWluZXIocy5jcmVhdGVQb3NpdGlvbkFmdGVyKG4pKTtzLm1vdmUocy5jcmVhdGVSYW5nZU9uKG4ucGFyZW50KSxzLmNyZWF0ZVBvc2l0aW9uQXQoZSxcImVuZFwiKSl9fX1jVChzLG8sby5uZXh0U2libGluZyk7Y1QocyxvLnByZXZpb3VzU2libGluZyxvKX1mdW5jdGlvbiBjVCh0LGUsaSl7aWYoIWV8fCFpfHxlLm5hbWUhPVwidWxcIiYmZS5uYW1lIT1cIm9sXCIpe3JldHVybiBudWxsfWlmKGUubmFtZSE9aS5uYW1lfHxlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIT09aS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSl7cmV0dXJuIG51bGx9cmV0dXJuIHQubWVyZ2VDb250YWluZXJzKHQuY3JlYXRlUG9zaXRpb25BZnRlcihlKSl9ZnVuY3Rpb24gbFQodCl7cmV0dXJuIHQuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24odD0+dC5pdGVtLmlzKFwidWlFbGVtZW50XCIpKX1mdW5jdGlvbiBkVCh0LGUpe2NvbnN0IGk9ISFlLnNhbWVJbmRlbnQ7Y29uc3Qgbj0hIWUuc21hbGxlckluZGVudDtjb25zdCBvPWUubGlzdEluZGVudDtsZXQgcj10O3doaWxlKHImJnIubmFtZT09XCJsaXN0SXRlbVwiKXtjb25zdCB0PXIuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKTtpZihpJiZvPT10fHxuJiZvPnQpe3JldHVybiByfXI9ci5wcmV2aW91c1NpYmxpbmd9cmV0dXJuIG51bGx9ZnVuY3Rpb24gdVQodCxlLGksbil7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChlLG89Pntjb25zdCByPXQuY29tbWFuZHMuZ2V0KGUpO2NvbnN0IHM9bmV3IGhiKG8pO3Muc2V0KHtsYWJlbDppLGljb246bix0b29sdGlwOnRydWUsaXNUb2dnbGVhYmxlOnRydWV9KTtzLmJpbmQoXCJpc09uXCIsXCJpc0VuYWJsZWRcIikudG8ocixcInZhbHVlXCIsXCJpc0VuYWJsZWRcIik7cy5vbihcImV4ZWN1dGVcIiwoKT0+e3QuZXhlY3V0ZShlKTt0LmVkaXRpbmcudmlldy5mb2N1cygpfSk7cmV0dXJuIHN9KX1mdW5jdGlvbiBoVCgpe2NvbnN0IHQ9IXRoaXMuaXNFbXB0eSYmKHRoaXMuZ2V0Q2hpbGQoMCkubmFtZT09XCJ1bFwifHx0aGlzLmdldENoaWxkKDApLm5hbWU9PVwib2xcIik7aWYodGhpcy5pc0VtcHR5fHx0KXtyZXR1cm4gMH1yZXR1cm4gSGMuY2FsbCh0aGlzKX1mdW5jdGlvbiBmVCh0KXtyZXR1cm4oZSxpLG4pPT57Y29uc3Qgbz1uLmNvbnN1bWFibGU7aWYoIW8udGVzdChpLml0ZW0sXCJpbnNlcnRcIil8fCFvLnRlc3QoaS5pdGVtLFwiYXR0cmlidXRlOmxpc3RUeXBlXCIpfHwhby50ZXN0KGkuaXRlbSxcImF0dHJpYnV0ZTpsaXN0SW5kZW50XCIpKXtyZXR1cm59by5jb25zdW1lKGkuaXRlbSxcImluc2VydFwiKTtvLmNvbnN1bWUoaS5pdGVtLFwiYXR0cmlidXRlOmxpc3RUeXBlXCIpO28uY29uc3VtZShpLml0ZW0sXCJhdHRyaWJ1dGU6bGlzdEluZGVudFwiKTtjb25zdCByPWkuaXRlbTtjb25zdCBzPXNUKHIsbik7YVQocixzLG4sdCl9fWZ1bmN0aW9uIGdUKHQpe3JldHVybihlLGksbik9Pntjb25zdCBvPW4ubWFwcGVyLnRvVmlld1Bvc2l0aW9uKGkucG9zaXRpb24pLmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKHQ9PiF0Lml0ZW0uaXMoXCJsaVwiKSk7Y29uc3Qgcj1vLm5vZGVBZnRlcjtjb25zdCBzPW4ud3JpdGVyO3MuYnJlYWtDb250YWluZXIocy5jcmVhdGVQb3NpdGlvbkJlZm9yZShyKSk7cy5icmVha0NvbnRhaW5lcihzLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIocikpO2NvbnN0IGE9ci5wYXJlbnQ7Y29uc3QgYz1hLnByZXZpb3VzU2libGluZztjb25zdCBsPXMuY3JlYXRlUmFuZ2VPbihhKTtjb25zdCBkPXMucmVtb3ZlKGwpO2lmKGMmJmMubmV4dFNpYmxpbmcpe2NUKHMsYyxjLm5leHRTaWJsaW5nKX1jb25zdCB1PW4ubWFwcGVyLnRvTW9kZWxFbGVtZW50KHIpO0VUKHUuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSsxLGkucG9zaXRpb24sbC5zdGFydCxyLG4sdCk7Zm9yKGNvbnN0IHQgb2Ygcy5jcmVhdGVSYW5nZUluKGQpLmdldEl0ZW1zKCkpe24ubWFwcGVyLnVuYmluZFZpZXdFbGVtZW50KHQpfWUuc3RvcCgpfX1mdW5jdGlvbiBtVCh0LGUsaSl7aWYoIWkuY29uc3VtYWJsZS5jb25zdW1lKGUuaXRlbSxcImF0dHJpYnV0ZTpsaXN0VHlwZVwiKSl7cmV0dXJufWNvbnN0IG49aS5tYXBwZXIudG9WaWV3RWxlbWVudChlLml0ZW0pO2NvbnN0IG89aS53cml0ZXI7by5icmVha0NvbnRhaW5lcihvLmNyZWF0ZVBvc2l0aW9uQmVmb3JlKG4pKTtvLmJyZWFrQ29udGFpbmVyKG8uY3JlYXRlUG9zaXRpb25BZnRlcihuKSk7Y29uc3Qgcj1uLnBhcmVudDtjb25zdCBzPWUuYXR0cmlidXRlTmV3VmFsdWU9PVwibnVtYmVyZWRcIj9cIm9sXCI6XCJ1bFwiO28ucmVuYW1lKHMscil9ZnVuY3Rpb24gcFQodCxlLGkpe2NvbnN0IG49aS5tYXBwZXIudG9WaWV3RWxlbWVudChlLml0ZW0pO2NvbnN0IG89bi5wYXJlbnQ7Y29uc3Qgcj1pLndyaXRlcjtjVChyLG8sby5uZXh0U2libGluZyk7Y1QocixvLnByZXZpb3VzU2libGluZyxvKTtmb3IoY29uc3QgdCBvZiBlLml0ZW0uZ2V0Q2hpbGRyZW4oKSl7aS5jb25zdW1hYmxlLmNvbnN1bWUodCxcImluc2VydFwiKX19ZnVuY3Rpb24gYlQodCl7cmV0dXJuKGUsaSxuKT0+e2lmKCFuLmNvbnN1bWFibGUuY29uc3VtZShpLml0ZW0sXCJhdHRyaWJ1dGU6bGlzdEluZGVudFwiKSl7cmV0dXJufWNvbnN0IG89bi5tYXBwZXIudG9WaWV3RWxlbWVudChpLml0ZW0pO2NvbnN0IHI9bi53cml0ZXI7ci5icmVha0NvbnRhaW5lcihyLmNyZWF0ZVBvc2l0aW9uQmVmb3JlKG8pKTtyLmJyZWFrQ29udGFpbmVyKHIuY3JlYXRlUG9zaXRpb25BZnRlcihvKSk7Y29uc3Qgcz1vLnBhcmVudDtjb25zdCBhPXMucHJldmlvdXNTaWJsaW5nO2NvbnN0IGM9ci5jcmVhdGVSYW5nZU9uKHMpO3IucmVtb3ZlKGMpO2lmKGEmJmEubmV4dFNpYmxpbmcpe2NUKHIsYSxhLm5leHRTaWJsaW5nKX1FVChpLmF0dHJpYnV0ZU9sZFZhbHVlKzEsaS5yYW5nZS5zdGFydCxjLnN0YXJ0LG8sbix0KTthVChpLml0ZW0sbyxuLHQpO2Zvcihjb25zdCB0IG9mIGkuaXRlbS5nZXRDaGlsZHJlbigpKXtuLmNvbnN1bWFibGUuY29uc3VtZSh0LFwiaW5zZXJ0XCIpfX19ZnVuY3Rpb24gd1QodCxlLGkpe2lmKGUuaXRlbS5uYW1lIT1cImxpc3RJdGVtXCIpe2xldCB0PWkubWFwcGVyLnRvVmlld1Bvc2l0aW9uKGUucmFuZ2Uuc3RhcnQpO2NvbnN0IG49aS53cml0ZXI7Y29uc3Qgbz1bXTt3aGlsZSh0LnBhcmVudC5uYW1lPT1cInVsXCJ8fHQucGFyZW50Lm5hbWU9PVwib2xcIil7dD1uLmJyZWFrQ29udGFpbmVyKHQpO2lmKHQucGFyZW50Lm5hbWUhPVwibGlcIil7YnJlYWt9Y29uc3QgZT10O2NvbnN0IGk9bi5jcmVhdGVQb3NpdGlvbkF0KHQucGFyZW50LFwiZW5kXCIpO2lmKCFlLmlzRXF1YWwoaSkpe2NvbnN0IHQ9bi5yZW1vdmUobi5jcmVhdGVSYW5nZShlLGkpKTtvLnB1c2godCl9dD1uLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIodC5wYXJlbnQpfWlmKG8ubGVuZ3RoPjApe2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKXtjb25zdCBpPXQubm9kZUJlZm9yZTtjb25zdCByPW4uaW5zZXJ0KHQsb1tlXSk7dD1yLmVuZDtpZihlPjApe2NvbnN0IGU9Y1QobixpLGkubmV4dFNpYmxpbmcpO2lmKGUmJmUucGFyZW50PT1pKXt0Lm9mZnNldC0tfX19Y1Qobix0Lm5vZGVCZWZvcmUsdC5ub2RlQWZ0ZXIpfX19ZnVuY3Rpb24ga1QodCxlLGkpe2NvbnN0IG49aS5tYXBwZXIudG9WaWV3UG9zaXRpb24oZS5wb3NpdGlvbik7Y29uc3Qgbz1uLm5vZGVCZWZvcmU7Y29uc3Qgcj1uLm5vZGVBZnRlcjtjVChpLndyaXRlcixvLHIpfWZ1bmN0aW9uIF9UKHQsZSxpKXtpZihpLmNvbnN1bWFibGUuY29uc3VtZShlLnZpZXdJdGVtLHtuYW1lOnRydWV9KSl7Y29uc3QgdD1pLndyaXRlcjtjb25zdCBuPXQuY3JlYXRlRWxlbWVudChcImxpc3RJdGVtXCIpO2NvbnN0IG89T1QoZS52aWV3SXRlbSk7dC5zZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIsbyxuKTtjb25zdCByPWUudmlld0l0ZW0ucGFyZW50JiZlLnZpZXdJdGVtLnBhcmVudC5uYW1lPT1cIm9sXCI/XCJudW1iZXJlZFwiOlwiYnVsbGV0ZWRcIjt0LnNldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIscixuKTtjb25zdCBzPWkuc3BsaXRUb0FsbG93ZWRQYXJlbnQobixlLm1vZGVsQ3Vyc29yKTtpZighcyl7cmV0dXJufXQuaW5zZXJ0KG4scy5wb3NpdGlvbik7Y29uc3QgYT1QVChuLGUudmlld0l0ZW0uZ2V0Q2hpbGRyZW4oKSxpKTtlLm1vZGVsUmFuZ2U9dC5jcmVhdGVSYW5nZShlLm1vZGVsQ3Vyc29yLGEpO2lmKHMuY3Vyc29yUGFyZW50KXtlLm1vZGVsQ3Vyc29yPXQuY3JlYXRlUG9zaXRpb25BdChzLmN1cnNvclBhcmVudCwwKX1lbHNle2UubW9kZWxDdXJzb3I9ZS5tb2RlbFJhbmdlLmVuZH19fWZ1bmN0aW9uIHZUKHQsZSxpKXtpZihpLmNvbnN1bWFibGUudGVzdChlLnZpZXdJdGVtLHtuYW1lOnRydWV9KSl7Y29uc3QgdD1BcnJheS5mcm9tKGUudmlld0l0ZW0uZ2V0Q2hpbGRyZW4oKSk7Zm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD0hKGUuaXMoXCJsaVwiKXx8UlQoZSkpO2lmKHQpe2UuX3JlbW92ZSgpfX19fWZ1bmN0aW9uIHlUKHQsZSxpKXtpZihpLmNvbnN1bWFibGUudGVzdChlLnZpZXdJdGVtLHtuYW1lOnRydWV9KSl7aWYoZS52aWV3SXRlbS5jaGlsZENvdW50PT09MCl7cmV0dXJufWNvbnN0IHQ9Wy4uLmUudmlld0l0ZW0uZ2V0Q2hpbGRyZW4oKV07bGV0IGk9ZmFsc2U7bGV0IG49dHJ1ZTtmb3IoY29uc3QgZSBvZiB0KXtpZihpJiYhUlQoZSkpe2UuX3JlbW92ZSgpfWlmKGUuaXMoXCJ0ZXh0XCIpKXtpZihuKXtlLl9kYXRhPWUuZGF0YS5yZXBsYWNlKC9eXFxzKy8sXCJcIil9aWYoIWUubmV4dFNpYmxpbmd8fFJUKGUubmV4dFNpYmxpbmcpKXtlLl9kYXRhPWUuZGF0YS5yZXBsYWNlKC9cXHMrJC8sXCJcIil9fWVsc2UgaWYoUlQoZSkpe2k9dHJ1ZX1uPWZhbHNlfX19ZnVuY3Rpb24geFQodCl7cmV0dXJuKGUsaSk9PntpZihpLmlzUGhhbnRvbSl7cmV0dXJufWNvbnN0IG49aS5tb2RlbFBvc2l0aW9uLm5vZGVCZWZvcmU7aWYobiYmbi5pcyhcImxpc3RJdGVtXCIpKXtjb25zdCBlPWkubWFwcGVyLnRvVmlld0VsZW1lbnQobik7Y29uc3Qgbz1lLmdldEFuY2VzdG9ycygpLmZpbmQoUlQpO2NvbnN0IHI9dC5jcmVhdGVQb3NpdGlvbkF0KGUsMCkuZ2V0V2Fsa2VyKCk7Zm9yKGNvbnN0IHQgb2Ygcil7aWYodC50eXBlPT1cImVsZW1lbnRTdGFydFwiJiZ0Lml0ZW0uaXMoXCJsaVwiKSl7aS52aWV3UG9zaXRpb249dC5wcmV2aW91c1Bvc2l0aW9uO2JyZWFrfWVsc2UgaWYodC50eXBlPT1cImVsZW1lbnRFbmRcIiYmdC5pdGVtPT1vKXtpLnZpZXdQb3NpdGlvbj10Lm5leHRQb3NpdGlvbjticmVha319fX19ZnVuY3Rpb24gQ1QodCl7cmV0dXJuKGUsaSk9Pntjb25zdCBuPWkudmlld1Bvc2l0aW9uO2NvbnN0IG89bi5wYXJlbnQ7Y29uc3Qgcj1pLm1hcHBlcjtpZihvLm5hbWU9PVwidWxcInx8by5uYW1lPT1cIm9sXCIpe2lmKCFuLmlzQXRFbmQpe2NvbnN0IGU9ci50b01vZGVsRWxlbWVudChuLm5vZGVBZnRlcik7aS5tb2RlbFBvc2l0aW9uPXQuY3JlYXRlUG9zaXRpb25CZWZvcmUoZSl9ZWxzZXtjb25zdCBlPXIudG9Nb2RlbEVsZW1lbnQobi5ub2RlQmVmb3JlKTtjb25zdCBvPXIuZ2V0TW9kZWxMZW5ndGgobi5ub2RlQmVmb3JlKTtpLm1vZGVsUG9zaXRpb249dC5jcmVhdGVQb3NpdGlvbkJlZm9yZShlKS5nZXRTaGlmdGVkQnkobyl9ZS5zdG9wKCl9ZWxzZSBpZihvLm5hbWU9PVwibGlcIiYmbi5ub2RlQmVmb3JlJiYobi5ub2RlQmVmb3JlLm5hbWU9PVwidWxcInx8bi5ub2RlQmVmb3JlLm5hbWU9PVwib2xcIikpe2NvbnN0IHM9ci50b01vZGVsRWxlbWVudChvKTtsZXQgYT0xO2xldCBjPW4ubm9kZUJlZm9yZTt3aGlsZShjJiZSVChjKSl7YSs9ci5nZXRNb2RlbExlbmd0aChjKTtjPWMucHJldmlvdXNTaWJsaW5nfWkubW9kZWxQb3NpdGlvbj10LmNyZWF0ZVBvc2l0aW9uQmVmb3JlKHMpLmdldFNoaWZ0ZWRCeShhKTtlLnN0b3AoKX19fWZ1bmN0aW9uIEFUKHQsZSl7Y29uc3QgaT10LmRvY3VtZW50LmRpZmZlci5nZXRDaGFuZ2VzKCk7Y29uc3Qgbj1uZXcgTWFwO2xldCBvPWZhbHNlO2Zvcihjb25zdCBuIG9mIGkpe2lmKG4udHlwZT09XCJpbnNlcnRcIiYmbi5uYW1lPT1cImxpc3RJdGVtXCIpe3Iobi5wb3NpdGlvbil9ZWxzZSBpZihuLnR5cGU9PVwiaW5zZXJ0XCImJm4ubmFtZSE9XCJsaXN0SXRlbVwiKXtpZihuLm5hbWUhPVwiJHRleHRcIil7Y29uc3QgaT1uLnBvc2l0aW9uLm5vZGVBZnRlcjtpZihpLmhhc0F0dHJpYnV0ZShcImxpc3RJbmRlbnRcIikpe2UucmVtb3ZlQXR0cmlidXRlKFwibGlzdEluZGVudFwiLGkpO289dHJ1ZX1pZihpLmhhc0F0dHJpYnV0ZShcImxpc3RUeXBlXCIpKXtlLnJlbW92ZUF0dHJpYnV0ZShcImxpc3RUeXBlXCIsaSk7bz10cnVlfWZvcihjb25zdCBlIG9mIEFycmF5LmZyb20odC5jcmVhdGVSYW5nZUluKGkpKS5maWx0ZXIodD0+dC5pdGVtLmlzKFwibGlzdEl0ZW1cIikpKXtyKGUucHJldmlvdXNQb3NpdGlvbil9fWNvbnN0IGk9bi5wb3NpdGlvbi5nZXRTaGlmdGVkQnkobi5sZW5ndGgpO3IoaSl9ZWxzZSBpZihuLnR5cGU9PVwicmVtb3ZlXCImJm4ubmFtZT09XCJsaXN0SXRlbVwiKXtyKG4ucG9zaXRpb24pfWVsc2UgaWYobi50eXBlPT1cImF0dHJpYnV0ZVwiJiZuLmF0dHJpYnV0ZUtleT09XCJsaXN0SW5kZW50XCIpe3Iobi5yYW5nZS5zdGFydCl9ZWxzZSBpZihuLnR5cGU9PVwiYXR0cmlidXRlXCImJm4uYXR0cmlidXRlS2V5PT1cImxpc3RUeXBlXCIpe3Iobi5yYW5nZS5zdGFydCl9fWZvcihjb25zdCB0IG9mIG4udmFsdWVzKCkpe3ModCk7YSh0KX1yZXR1cm4gbztmdW5jdGlvbiByKHQpe2NvbnN0IGU9dC5ub2RlQmVmb3JlO2lmKCFlfHwhZS5pcyhcImxpc3RJdGVtXCIpKXtjb25zdCBlPXQubm9kZUFmdGVyO2lmKGUmJmUuaXMoXCJsaXN0SXRlbVwiKSl7bi5zZXQoZSxlKX19ZWxzZXtsZXQgaT1lO2lmKG4uaGFzKGkpKXtyZXR1cm59d2hpbGUoaS5wcmV2aW91c1NpYmxpbmcmJmkucHJldmlvdXNTaWJsaW5nLmlzKFwibGlzdEl0ZW1cIikpe2k9aS5wcmV2aW91c1NpYmxpbmc7aWYobi5oYXMoaSkpe3JldHVybn19bi5zZXQodC5ub2RlQmVmb3JlLGkpfX1mdW5jdGlvbiBzKHQpe2xldCBpPTA7bGV0IG49bnVsbDt3aGlsZSh0JiZ0LmlzKFwibGlzdEl0ZW1cIikpe2NvbnN0IHI9dC5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpO2lmKHI+aSl7bGV0IHM7aWYobj09PW51bGwpe249ci1pO3M9aX1lbHNle2lmKG4+cil7bj1yfXM9ci1ufWUuc2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiLHMsdCk7bz10cnVlfWVsc2V7bj1udWxsO2k9dC5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpKzF9dD10Lm5leHRTaWJsaW5nfX1mdW5jdGlvbiBhKHQpe2xldCBpPVtdO2xldCBuPW51bGw7d2hpbGUodCYmdC5pcyhcImxpc3RJdGVtXCIpKXtjb25zdCByPXQuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKTtpZihuJiZuLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik+cil7aT1pLnNsaWNlKDAscisxKX1pZihyIT0wKXtpZihpW3JdKXtjb25zdCBuPWlbcl07aWYodC5nZXRBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiKSE9bil7ZS5zZXRBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiLG4sdCk7bz10cnVlfX1lbHNle2lbcl09dC5nZXRBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiKX19bj10O3Q9dC5uZXh0U2libGluZ319fWZ1bmN0aW9uIFRUKHQsW2UsaV0pe2xldCBuPWUuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpP2UuZ2V0Q2hpbGQoMCk6ZTtsZXQgbztpZighaSl7bz10aGlzLmRvY3VtZW50LnNlbGVjdGlvbn1lbHNle289dGhpcy5jcmVhdGVTZWxlY3Rpb24oaSl9aWYobiYmbi5pcyhcImxpc3RJdGVtXCIpKXtjb25zdCB0PW8uZ2V0Rmlyc3RQb3NpdGlvbigpO2xldCBlPW51bGw7aWYodC5wYXJlbnQuaXMoXCJsaXN0SXRlbVwiKSl7ZT10LnBhcmVudH1lbHNlIGlmKHQubm9kZUJlZm9yZSYmdC5ub2RlQmVmb3JlLmlzKFwibGlzdEl0ZW1cIikpe2U9dC5ub2RlQmVmb3JlfWlmKGUpe2NvbnN0IHQ9ZS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpO2lmKHQ+MCl7d2hpbGUobiYmbi5pcyhcImxpc3RJdGVtXCIpKXtuLl9zZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIsbi5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpK3QpO249bi5uZXh0U2libGluZ319fX19ZnVuY3Rpb24gUFQodCxlLGkpe2NvbnN0e3dyaXRlcjpuLHNjaGVtYTpvfT1pO2xldCByPW4uY3JlYXRlUG9zaXRpb25BZnRlcih0KTtmb3IoY29uc3QgcyBvZiBlKXtpZihzLm5hbWU9PVwidWxcInx8cy5uYW1lPT1cIm9sXCIpe3I9aS5jb252ZXJ0SXRlbShzLHIpLm1vZGVsQ3Vyc29yfWVsc2V7Y29uc3QgZT1pLmNvbnZlcnRJdGVtKHMsbi5jcmVhdGVQb3NpdGlvbkF0KHQsXCJlbmRcIikpO2NvbnN0IGE9ZS5tb2RlbFJhbmdlLnN0YXJ0Lm5vZGVBZnRlcjtjb25zdCBjPWEmJmEuaXMoXCJlbGVtZW50XCIpJiYhby5jaGVja0NoaWxkKHQsYS5uYW1lKTtpZihjKXtpZihlLm1vZGVsQ3Vyc29yLnBhcmVudC5pcyhcImxpc3RJdGVtXCIpKXt0PWUubW9kZWxDdXJzb3IucGFyZW50fWVsc2V7dD1TVChlLm1vZGVsQ3Vyc29yKX1yPW4uY3JlYXRlUG9zaXRpb25BZnRlcih0KX19fXJldHVybiByfWZ1bmN0aW9uIFNUKHQpe2NvbnN0IGU9bmV3IFdoKHtzdGFydFBvc2l0aW9uOnR9KTtsZXQgaTtkb3tpPWUubmV4dCgpfXdoaWxlKCFpLnZhbHVlLml0ZW0uaXMoXCJsaXN0SXRlbVwiKSk7cmV0dXJuIGkudmFsdWUuaXRlbX1mdW5jdGlvbiBFVCh0LGUsaSxuLG8scil7Y29uc3Qgcz1kVChlLm5vZGVCZWZvcmUse3NhbWVJbmRlbnQ6dHJ1ZSxzbWFsbGVySW5kZW50OnRydWUsbGlzdEluZGVudDp0LGZvbzpcImJcIn0pO2NvbnN0IGE9by5tYXBwZXI7Y29uc3QgYz1vLndyaXRlcjtjb25zdCBsPXM/cy5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpOm51bGw7bGV0IGQ7aWYoIXMpe2Q9aX1lbHNlIGlmKGw9PXQpe2NvbnN0IHQ9YS50b1ZpZXdFbGVtZW50KHMpLnBhcmVudDtkPWMuY3JlYXRlUG9zaXRpb25BZnRlcih0KX1lbHNle2NvbnN0IHQ9ci5jcmVhdGVQb3NpdGlvbkF0KHMsXCJlbmRcIik7ZD1hLnRvVmlld1Bvc2l0aW9uKHQpfWQ9bFQoZCk7Zm9yKGNvbnN0IHQgb2ZbLi4ubi5nZXRDaGlsZHJlbigpXSl7aWYoUlQodCkpe2Q9Yy5tb3ZlKGMuY3JlYXRlUmFuZ2VPbih0KSxkKS5lbmQ7Y1QoYyx0LHQubmV4dFNpYmxpbmcpO2NUKGMsdC5wcmV2aW91c1NpYmxpbmcsdCl9fX1mdW5jdGlvbiBSVCh0KXtyZXR1cm4gdC5pcyhcIm9sXCIpfHx0LmlzKFwidWxcIil9ZnVuY3Rpb24gT1QodCl7bGV0IGU9MDtsZXQgaT10LnBhcmVudDt3aGlsZShpKXtpZihpLmlzKFwibGlcIikpe2UrK31lbHNle2NvbnN0IHQ9aS5wcmV2aW91c1NpYmxpbmc7aWYodCYmdC5pcyhcImxpXCIpKXtlKyt9fWk9aS5wYXJlbnR9cmV0dXJuIGV9Y2xhc3MgSVQgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkxpc3RFZGl0aW5nXCJ9c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltWX119aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5tb2RlbC5zY2hlbWEucmVnaXN0ZXIoXCJsaXN0SXRlbVwiLHtpbmhlcml0QWxsRnJvbTpcIiRibG9ja1wiLGFsbG93QXR0cmlidXRlczpbXCJsaXN0VHlwZVwiLFwibGlzdEluZGVudFwiXX0pO2NvbnN0IGU9dC5kYXRhO2NvbnN0IGk9dC5lZGl0aW5nO3QubW9kZWwuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIoZT0+QVQodC5tb2RlbCxlKSk7aS5tYXBwZXIucmVnaXN0ZXJWaWV3VG9Nb2RlbExlbmd0aChcImxpXCIsVlQpO2UubWFwcGVyLnJlZ2lzdGVyVmlld1RvTW9kZWxMZW5ndGgoXCJsaVwiLFZUKTtpLm1hcHBlci5vbihcIm1vZGVsVG9WaWV3UG9zaXRpb25cIix4VChpLnZpZXcpKTtpLm1hcHBlci5vbihcInZpZXdUb01vZGVsUG9zaXRpb25cIixDVCh0Lm1vZGVsKSk7ZS5tYXBwZXIub24oXCJtb2RlbFRvVmlld1Bvc2l0aW9uXCIseFQoaS52aWV3KSk7dC5jb252ZXJzaW9uLmZvcihcImVkaXRpbmdEb3duY2FzdFwiKS5hZGQoZT0+e2Uub24oXCJpbnNlcnRcIix3VCx7cHJpb3JpdHk6XCJoaWdoXCJ9KTtlLm9uKFwiaW5zZXJ0Omxpc3RJdGVtXCIsZlQodC5tb2RlbCkpO2Uub24oXCJhdHRyaWJ1dGU6bGlzdFR5cGU6bGlzdEl0ZW1cIixtVCx7cHJpb3JpdHk6XCJoaWdoXCJ9KTtlLm9uKFwiYXR0cmlidXRlOmxpc3RUeXBlOmxpc3RJdGVtXCIscFQse3ByaW9yaXR5OlwibG93XCJ9KTtlLm9uKFwiYXR0cmlidXRlOmxpc3RJbmRlbnQ6bGlzdEl0ZW1cIixiVCh0Lm1vZGVsKSk7ZS5vbihcInJlbW92ZTpsaXN0SXRlbVwiLGdUKHQubW9kZWwpKTtlLm9uKFwicmVtb3ZlXCIsa1Qse3ByaW9yaXR5OlwibG93XCJ9KX0pO3QuY29udmVyc2lvbi5mb3IoXCJkYXRhRG93bmNhc3RcIikuYWRkKGU9PntlLm9uKFwiaW5zZXJ0XCIsd1Qse3ByaW9yaXR5OlwiaGlnaFwifSk7ZS5vbihcImluc2VydDpsaXN0SXRlbVwiLGZUKHQubW9kZWwpKX0pO3QuY29udmVyc2lvbi5mb3IoXCJ1cGNhc3RcIikuYWRkKHQ9Pnt0Lm9uKFwiZWxlbWVudDp1bFwiLHZULHtwcmlvcml0eTpcImhpZ2hcIn0pO3Qub24oXCJlbGVtZW50Om9sXCIsdlQse3ByaW9yaXR5OlwiaGlnaFwifSk7dC5vbihcImVsZW1lbnQ6bGlcIix5VCx7cHJpb3JpdHk6XCJoaWdoXCJ9KTt0Lm9uKFwiZWxlbWVudDpsaVwiLF9UKX0pO3QubW9kZWwub24oXCJpbnNlcnRDb250ZW50XCIsVFQse3ByaW9yaXR5OlwiaGlnaFwifSk7dC5jb21tYW5kcy5hZGQoXCJudW1iZXJlZExpc3RcIixuZXcgZVQodCxcIm51bWJlcmVkXCIpKTt0LmNvbW1hbmRzLmFkZChcImJ1bGxldGVkTGlzdFwiLG5ldyBlVCh0LFwiYnVsbGV0ZWRcIikpO3QuY29tbWFuZHMuYWRkKFwiaW5kZW50TGlzdFwiLG5ldyBvVCh0LFwiZm9yd2FyZFwiKSk7dC5jb21tYW5kcy5hZGQoXCJvdXRkZW50TGlzdFwiLG5ldyBvVCh0LFwiYmFja3dhcmRcIikpO2NvbnN0IG49aS52aWV3LmRvY3VtZW50O3RoaXMubGlzdGVuVG8obixcImVudGVyXCIsKHQsZSk9Pntjb25zdCBpPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50O2NvbnN0IG49aS5zZWxlY3Rpb24uZ2V0TGFzdFBvc2l0aW9uKCkucGFyZW50O2lmKGkuc2VsZWN0aW9uLmlzQ29sbGFwc2VkJiZuLm5hbWU9PVwibGlzdEl0ZW1cIiYmbi5pc0VtcHR5KXt0aGlzLmVkaXRvci5leGVjdXRlKFwib3V0ZGVudExpc3RcIik7ZS5wcmV2ZW50RGVmYXVsdCgpO3Quc3RvcCgpfX0pO3RoaXMubGlzdGVuVG8obixcImRlbGV0ZVwiLCh0LGUpPT57aWYoZS5kaXJlY3Rpb24hPT1cImJhY2t3YXJkXCIpe3JldHVybn1jb25zdCBpPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtpZighaS5pc0NvbGxhcHNlZCl7cmV0dXJufWNvbnN0IG49aS5nZXRGaXJzdFBvc2l0aW9uKCk7aWYoIW4uaXNBdFN0YXJ0KXtyZXR1cm59Y29uc3Qgbz1uLnBhcmVudDtpZihvLm5hbWUhPT1cImxpc3RJdGVtXCIpe3JldHVybn1jb25zdCByPW8ucHJldmlvdXNTaWJsaW5nJiZvLnByZXZpb3VzU2libGluZy5uYW1lPT09XCJsaXN0SXRlbVwiO2lmKHIpe3JldHVybn10aGlzLmVkaXRvci5leGVjdXRlKFwib3V0ZGVudExpc3RcIik7ZS5wcmV2ZW50RGVmYXVsdCgpO3Quc3RvcCgpfSx7cHJpb3JpdHk6XCJoaWdoXCJ9KTtjb25zdCBvPXQ9PihlLGkpPT57Y29uc3Qgbj10aGlzLmVkaXRvci5jb21tYW5kcy5nZXQodCk7aWYobi5pc0VuYWJsZWQpe3RoaXMuZWRpdG9yLmV4ZWN1dGUodCk7aSgpfX07dC5rZXlzdHJva2VzLnNldChcIlRhYlwiLG8oXCJpbmRlbnRMaXN0XCIpKTt0LmtleXN0cm9rZXMuc2V0KFwiU2hpZnQrVGFiXCIsbyhcIm91dGRlbnRMaXN0XCIpKX1hZnRlckluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLmNvbW1hbmRzO2NvbnN0IGU9dC5nZXQoXCJpbmRlbnRcIik7Y29uc3QgaT10LmdldChcIm91dGRlbnRcIik7aWYoZSl7ZS5yZWdpc3RlckNoaWxkQ29tbWFuZCh0LmdldChcImluZGVudExpc3RcIikpfWlmKGkpe2kucmVnaXN0ZXJDaGlsZENvbW1hbmQodC5nZXQoXCJvdXRkZW50TGlzdFwiKSl9fX1mdW5jdGlvbiBWVCh0KXtsZXQgZT0xO2Zvcihjb25zdCBpIG9mIHQuZ2V0Q2hpbGRyZW4oKSl7aWYoaS5uYW1lPT1cInVsXCJ8fGkubmFtZT09XCJvbFwiKXtmb3IoY29uc3QgdCBvZiBpLmdldENoaWxkcmVuKCkpe2UrPVZUKHQpfX19cmV0dXJuIGV9dmFyIE5UPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk03IDUuNzVjMCAuNDE0LjMzNi43NS43NS43NWg5LjVhLjc1Ljc1IDAgMSAwIDAtMS41aC05LjVhLjc1Ljc1IDAgMCAwLS43NS43NXpNMy41IDN2NUgyVjMuN0gxdi0xaDIuNVYzek0uMzQzIDE3Ljg1N2wyLjU5LTMuMjU3SDIuOTJhLjYuNiAwIDEgMC0xLjA0IDBILjMwMmEyIDIgMCAxIDEgMy45OTUgMGgtLjAwMWMtLjA0OC40MDUtLjE2LjczNC0uMzMzLjk4OC0uMTc1LjI1NC0uNTkuNjkyLTEuMjQ0IDEuMzEySDQuM3YxaC00bC4wNDMtLjA0M3pNNyAxNC43NWEuNzUuNzUgMCAwIDEgLjc1LS43NWg5LjVhLjc1Ljc1IDAgMSAxIDAgMS41aC05LjVhLjc1Ljc1IDAgMCAxLS43NS0uNzV6XCIvPjwvc3ZnPic7dmFyIE1UPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk03IDUuNzVjMCAuNDE0LjMzNi43NS43NS43NWg5LjVhLjc1Ljc1IDAgMSAwIDAtMS41aC05LjVhLjc1Ljc1IDAgMCAwLS43NS43NXptLTYgMEMxIDQuNzg0IDEuNzc3IDQgMi43NSA0Yy45NjYgMCAxLjc1Ljc3NyAxLjc1IDEuNzUgMCAuOTY2LS43NzcgMS43NS0xLjc1IDEuNzVDMS43ODQgNy41IDEgNi43MjMgMSA1Ljc1em02IDljMCAuNDE0LjMzNi43NS43NS43NWg5LjVhLjc1Ljc1IDAgMSAwIDAtMS41aC05LjVhLjc1Ljc1IDAgMCAwLS43NS43NXptLTYgMGMwLS45NjYuNzc3LTEuNzUgMS43NS0xLjc1Ljk2NiAwIDEuNzUuNzc3IDEuNzUgMS43NSAwIC45NjYtLjc3NyAxLjc1LTEuNzUgMS43NS0uOTY2IDAtMS43NS0uNzc3LTEuNzUtMS43NXpcIi8+PC9zdmc+JztjbGFzcyBCVCBleHRlbmRzIG1we2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLnQ7dVQodGhpcy5lZGl0b3IsXCJudW1iZXJlZExpc3RcIix0KFwibGNcIiksTlQpO3VUKHRoaXMuZWRpdG9yLFwiYnVsbGV0ZWRMaXN0XCIsdChcImxkXCIpLE1UKX19Y2xhc3MgelQgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW0lULEJUXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkxpc3RcIn19dmFyIExUPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk04LjY5IDE0LjkxNWMuMDUzLjA1Mi4xNzMuMDgzLjM2LjA5M2EuMzY2LjM2NiAwIDAgMSAuMzQ1LjQ4NWwtLjAwMy4wMWEuNzM4LjczOCAwIDAgMS0uNjk3LjQ5N2gtMi42N2EuMzc0LjM3NCAwIDAgMS0uMzUzLS40OTZsLjAxMy0uMDM4YS42ODEuNjgxIDAgMCAxIC42NDQtLjQ1OGMuMTk3LS4wMTIuMzI1LS4wNDMuMzg2LS4wOTNhLjI4LjI4IDAgMCAwIC4wNzItLjExTDkuNTkyIDQuNUg2LjI2OWMtLjM1OS0uMDE3LS42MDkuMDEzLS43NS4wOS0uMTQyLjA3OC0uMjg5LjI2NS0uNDQyLjU2My0uMTkyLjI5LS41MTYuNDY0LS44NjQuNDY0SDQuMTdhLjQzLjQzIDAgMCAxLS40MDctLjU2OUw0LjQ2IDNoMTMuMDhsLS42MiAyLjA0M2EuODEuODEgMCAwIDEtLjc3NS41NzRoLS4xMTRhLjQ4Ni40ODYgMCAwIDEtLjQ4Ni0uNDg2Yy4wMDEtLjI4NC0uMDU0LS40NjQtLjE2Ny0uNTQtLjExMi0uMDc2LS4zNjctLjEwNi0uNzY2LS4wOTFoLTMuMjhsLTIuNjggMTAuMjU3Yy0uMDA2LjA3NC4wMDcuMTI3LjAzOC4xNTh6TTMgMTdoOGEuNS41IDAgMSAxIDAgMUgzYS41LjUgMCAxIDEgMC0xem0xMS4yOTkgMS4xN2EuNzUuNzUgMCAxIDEtMS4wNi0xLjA2bDEuNDE0LTEuNDE1LTEuNDE1LTEuNDE0YS43NS43NSAwIDAgMSAxLjA2LTEuMDZsMS40MTUgMS40MTQgMS40MTQtMS40MTVhLjc1Ljc1IDAgMSAxIDEuMDYgMS4wNmwtMS40MTMgMS40MTUgMS40MTQgMS40MTVhLjc1Ljc1IDAgMCAxLTEuMDYgMS4wNmwtMS40MTUtMS40MTQtMS40MTQgMS40MTR6XCIvPjwvc3ZnPic7Y29uc3QgRlQ9XCJyZW1vdmVGb3JtYXRcIjtjbGFzcyBEVCBleHRlbmRzIG1we3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiUmVtb3ZlRm9ybWF0VUlcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQudDt0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKEZULGk9Pntjb25zdCBuPXQuY29tbWFuZHMuZ2V0KEZUKTtjb25zdCBvPW5ldyBoYihpKTtvLnNldCh7bGFiZWw6ZShcImxhXCIpLGljb246TFQsdG9vbHRpcDp0cnVlfSk7by5iaW5kKFwiaXNPblwiLFwiaXNFbmFibGVkXCIpLnRvKG4sXCJ2YWx1ZVwiLFwiaXNFbmFibGVkXCIpO3RoaXMubGlzdGVuVG8obyxcImV4ZWN1dGVcIiwoKT0+e3QuZXhlY3V0ZShGVCk7dC5lZGl0aW5nLnZpZXcuZm9jdXMoKX0pO3JldHVybiBvfSl9fWNsYXNzIGpUIGV4dGVuZHMgand7cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWw7dGhpcy5pc0VuYWJsZWQ9ISFXdyh0aGlzLl9nZXRGb3JtYXR0aW5nSXRlbXModC5kb2N1bWVudC5zZWxlY3Rpb24sdC5zY2hlbWEpKX1leGVjdXRlKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBlPXQuc2NoZW1hO3QuY2hhbmdlKGk9Pntmb3IoY29uc3QgbiBvZiB0aGlzLl9nZXRGb3JtYXR0aW5nSXRlbXModC5kb2N1bWVudC5zZWxlY3Rpb24sZSkpe2lmKG4uaXMoXCJzZWxlY3Rpb25cIikpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2dldEZvcm1hdHRpbmdBdHRyaWJ1dGVzKG4sZSkpe2kucmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKHQpfX1lbHNle2NvbnN0IHQ9aS5jcmVhdGVSYW5nZU9uKG4pO2Zvcihjb25zdCBvIG9mIHRoaXMuX2dldEZvcm1hdHRpbmdBdHRyaWJ1dGVzKG4sZSkpe2kucmVtb3ZlQXR0cmlidXRlKG8sdCl9fX19KX0qX2dldEZvcm1hdHRpbmdJdGVtcyh0LGUpe2NvbnN0IGk9dD0+ISFXdyh0aGlzLl9nZXRGb3JtYXR0aW5nQXR0cmlidXRlcyh0LGUpKTtmb3IoY29uc3QgZSBvZiB0LmdldFJhbmdlcygpKXtmb3IoY29uc3QgdCBvZiBlLmdldEl0ZW1zKCkpe2lmKGkodCkpe3lpZWxkIHR9fX1pZihpKHQpKXt5aWVsZCB0fX0qX2dldEZvcm1hdHRpbmdBdHRyaWJ1dGVzKHQsZSl7Zm9yKGNvbnN0W2ldb2YgdC5nZXRBdHRyaWJ1dGVzKCkpe2NvbnN0IHQ9ZS5nZXRBdHRyaWJ1dGVQcm9wZXJ0aWVzKGkpO2lmKHQmJnQuaXNGb3JtYXR0aW5nKXt5aWVsZCBpfX19fWNsYXNzIEhUIGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJSZW1vdmVGb3JtYXRFZGl0aW5nXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5jb21tYW5kcy5hZGQoXCJyZW1vdmVGb3JtYXRcIixuZXcgalQodCkpfX1jbGFzcyBXVCBleHRlbmRzIG1we3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bSFQsRFRdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiUmVtb3ZlRm9ybWF0XCJ9fWNsYXNzIHFUe2NvbnN0cnVjdG9yKHQsZT0yMCl7dGhpcy5tb2RlbD10O3RoaXMuc2l6ZT0wO3RoaXMubGltaXQ9ZTt0aGlzLmlzTG9ja2VkPWZhbHNlO3RoaXMuX2NoYW5nZUNhbGxiYWNrPSh0LGUpPT57aWYoZS50eXBlIT1cInRyYW5zcGFyZW50XCImJmUhPT10aGlzLl9iYXRjaCl7dGhpcy5fcmVzZXQodHJ1ZSl9fTt0aGlzLl9zZWxlY3Rpb25DaGFuZ2VDYWxsYmFjaz0oKT0+e3RoaXMuX3Jlc2V0KCl9O3RoaXMubW9kZWwuZG9jdW1lbnQub24oXCJjaGFuZ2VcIix0aGlzLl9jaGFuZ2VDYWxsYmFjayk7dGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24ub24oXCJjaGFuZ2U6cmFuZ2VcIix0aGlzLl9zZWxlY3Rpb25DaGFuZ2VDYWxsYmFjayk7dGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24ub24oXCJjaGFuZ2U6YXR0cmlidXRlXCIsdGhpcy5fc2VsZWN0aW9uQ2hhbmdlQ2FsbGJhY2spfWdldCBiYXRjaCgpe2lmKCF0aGlzLl9iYXRjaCl7dGhpcy5fYmF0Y2g9dGhpcy5tb2RlbC5jcmVhdGVCYXRjaCgpfXJldHVybiB0aGlzLl9iYXRjaH1pbnB1dCh0KXt0aGlzLnNpemUrPXQ7aWYodGhpcy5zaXplPj10aGlzLmxpbWl0KXt0aGlzLl9yZXNldCh0cnVlKX19bG9jaygpe3RoaXMuaXNMb2NrZWQ9dHJ1ZX11bmxvY2soKXt0aGlzLmlzTG9ja2VkPWZhbHNlfWRlc3Ryb3koKXt0aGlzLm1vZGVsLmRvY3VtZW50Lm9mZihcImNoYW5nZVwiLHRoaXMuX2NoYW5nZUNhbGxiYWNrKTt0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5vZmYoXCJjaGFuZ2U6cmFuZ2VcIix0aGlzLl9zZWxlY3Rpb25DaGFuZ2VDYWxsYmFjayk7dGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24ub2ZmKFwiY2hhbmdlOmF0dHJpYnV0ZVwiLHRoaXMuX3NlbGVjdGlvbkNoYW5nZUNhbGxiYWNrKX1fcmVzZXQodCl7aWYoIXRoaXMuaXNMb2NrZWR8fHQpe3RoaXMuX2JhdGNoPW51bGw7dGhpcy5zaXplPTB9fX1jbGFzcyBVVCBleHRlbmRzIGp3e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCk7dGhpcy5fYnVmZmVyPW5ldyBxVCh0Lm1vZGVsLGUpO3RoaXMuX2JhdGNoZXM9bmV3IFdlYWtTZXR9Z2V0IGJ1ZmZlcigpe3JldHVybiB0aGlzLl9idWZmZXJ9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKTt0aGlzLl9idWZmZXIuZGVzdHJveSgpfWV4ZWN1dGUodD17fSl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBpPWUuZG9jdW1lbnQ7Y29uc3Qgbj10LnRleHR8fFwiXCI7Y29uc3Qgbz1uLmxlbmd0aDtjb25zdCByPXQucmFuZ2U/ZS5jcmVhdGVTZWxlY3Rpb24odC5yYW5nZSk6aS5zZWxlY3Rpb247Y29uc3Qgcz10LnJlc3VsdFJhbmdlO2UuZW5xdWV1ZUNoYW5nZSh0aGlzLl9idWZmZXIuYmF0Y2gsdD0+e3RoaXMuX2J1ZmZlci5sb2NrKCk7ZS5kZWxldGVDb250ZW50KHIpO2lmKG4pe2UuaW5zZXJ0Q29udGVudCh0LmNyZWF0ZVRleHQobixpLnNlbGVjdGlvbi5nZXRBdHRyaWJ1dGVzKCkpLHIpfWlmKHMpe3Quc2V0U2VsZWN0aW9uKHMpfWVsc2UgaWYoIXIuaXMoXCJkb2N1bWVudFNlbGVjdGlvblwiKSl7dC5zZXRTZWxlY3Rpb24ocil9dGhpcy5fYnVmZmVyLnVubG9jaygpO3RoaXMuX2J1ZmZlci5pbnB1dChvKTt0aGlzLl9iYXRjaGVzLmFkZCh0aGlzLl9idWZmZXIuYmF0Y2gpfSl9fWZ1bmN0aW9uICRUKHQpe2xldCBlPW51bGw7Y29uc3QgaT10Lm1vZGVsO2NvbnN0IG49dC5lZGl0aW5nLnZpZXc7Y29uc3Qgbz10LmNvbW1hbmRzLmdldChcImlucHV0XCIpO2lmKEFsLmlzQW5kcm9pZCl7bi5kb2N1bWVudC5vbihcImJlZm9yZWlucHV0XCIsKHQsZSk9PnIoZSkse3ByaW9yaXR5OlwibG93ZXN0XCJ9KX1lbHNle24uZG9jdW1lbnQub24oXCJrZXlkb3duXCIsKHQsZSk9PnIoZSkse3ByaW9yaXR5OlwibG93ZXN0XCJ9KX1uLmRvY3VtZW50Lm9uKFwiY29tcG9zaXRpb25zdGFydFwiLHMse3ByaW9yaXR5OlwibG93ZXN0XCJ9KTtuLmRvY3VtZW50Lm9uKFwiY29tcG9zaXRpb25lbmRcIiwoKT0+e2U9aS5jcmVhdGVTZWxlY3Rpb24oaS5kb2N1bWVudC5zZWxlY3Rpb24pfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pO2Z1bmN0aW9uIHIodCl7Y29uc3Qgcj1pLmRvY3VtZW50O2NvbnN0IHM9bi5kb2N1bWVudC5pc0NvbXBvc2luZztjb25zdCBjPWUmJmUuaXNFcXVhbChyLnNlbGVjdGlvbik7ZT1udWxsO2lmKCFvLmlzRW5hYmxlZCl7cmV0dXJufWlmKEtUKHQpfHxyLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCl7cmV0dXJufWlmKHMmJnQua2V5Q29kZT09PTIyOSl7cmV0dXJufWlmKCFzJiZ0LmtleUNvZGU9PT0yMjkmJmMpe3JldHVybn1hKCl9ZnVuY3Rpb24gcygpe2NvbnN0IHQ9aS5kb2N1bWVudDtjb25zdCBlPXQuc2VsZWN0aW9uLnJhbmdlQ291bnQ9PT0xP3Quc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKS5pc0ZsYXQ6dHJ1ZTtpZih0LnNlbGVjdGlvbi5pc0NvbGxhcHNlZHx8ZSl7cmV0dXJufWEoKX1mdW5jdGlvbiBhKCl7Y29uc3QgdD1vLmJ1ZmZlcjt0LmxvY2soKTtpLmVucXVldWVDaGFuZ2UodC5iYXRjaCwoKT0+e2kuZGVsZXRlQ29udGVudChpLmRvY3VtZW50LnNlbGVjdGlvbil9KTt0LnVubG9jaygpfX1jb25zdCBHVD1bTWwoXCJhcnJvd1VwXCIpLE1sKFwiYXJyb3dSaWdodFwiKSxNbChcImFycm93RG93blwiKSxNbChcImFycm93TGVmdFwiKSw5LDE2LDE3LDE4LDE5LDIwLDI3LDMzLDM0LDM1LDM2LDQ1LDkxLDkzLDE0NCwxNDUsMTczLDE3NCwxNzUsMTc2LDE3NywxNzgsMTc5LDI1NV07Zm9yKGxldCB0PTExMjt0PD0xMzU7dCsrKXtHVC5wdXNoKHQpfWZ1bmN0aW9uIEtUKHQpe2lmKHQuY3RybEtleSl7cmV0dXJuIHRydWV9cmV0dXJuIEdULmluY2x1ZGVzKHQua2V5Q29kZSl9ZnVuY3Rpb24gSlQodCxlKXtjb25zdCBpPVtdO2xldCBuPTA7bGV0IG87dC5mb3JFYWNoKHQ9PntpZih0PT1cImVxdWFsXCIpe3IoKTtuKyt9ZWxzZSBpZih0PT1cImluc2VydFwiKXtpZihzKFwiaW5zZXJ0XCIpKXtvLnZhbHVlcy5wdXNoKGVbbl0pfWVsc2V7cigpO289e3R5cGU6XCJpbnNlcnRcIixpbmRleDpuLHZhbHVlczpbZVtuXV19fW4rK31lbHNle2lmKHMoXCJkZWxldGVcIikpe28uaG93TWFueSsrfWVsc2V7cigpO289e3R5cGU6XCJkZWxldGVcIixpbmRleDpuLGhvd01hbnk6MX19fX0pO3IoKTtyZXR1cm4gaTtmdW5jdGlvbiByKCl7aWYobyl7aS5wdXNoKG8pO289bnVsbH19ZnVuY3Rpb24gcyh0KXtyZXR1cm4gbyYmby50eXBlPT10fX1mdW5jdGlvbiBZVCh0KXtpZih0Lmxlbmd0aD09MCl7cmV0dXJuIGZhbHNlfWZvcihjb25zdCBlIG9mIHQpe2lmKGUudHlwZT09PVwiY2hpbGRyZW5cIiYmIVFUKGUpKXtyZXR1cm4gdHJ1ZX19cmV0dXJuIGZhbHNlfWZ1bmN0aW9uIFFUKHQpe2lmKHQubmV3Q2hpbGRyZW4ubGVuZ3RoLXQub2xkQ2hpbGRyZW4ubGVuZ3RoIT0xKXtyZXR1cm59Y29uc3QgZT1fZCh0Lm9sZENoaWxkcmVuLHQubmV3Q2hpbGRyZW4sWFQpO2NvbnN0IGk9SlQoZSx0Lm5ld0NoaWxkcmVuKTtpZihpLmxlbmd0aD4xKXtyZXR1cm59Y29uc3Qgbj1pWzBdO2lmKCEoISFuLnZhbHVlc1swXSYmbi52YWx1ZXNbMF0uaXMoXCJ0ZXh0XCIpKSl7cmV0dXJufXJldHVybiBufWZ1bmN0aW9uIFhUKHQsZSl7aWYoISF0JiZ0LmlzKFwidGV4dFwiKSYmISFlJiZlLmlzKFwidGV4dFwiKSl7cmV0dXJuIHQuZGF0YT09PWUuZGF0YX1lbHNle3JldHVybiB0PT09ZX19ZnVuY3Rpb24gWlQodCl7dC5lZGl0aW5nLnZpZXcuZG9jdW1lbnQub24oXCJtdXRhdGlvbnNcIiwoZSxpLG4pPT57bmV3IHRQKHQpLmhhbmRsZShpLG4pfSl9Y2xhc3MgdFB7Y29uc3RydWN0b3IodCl7dGhpcy5lZGl0b3I9dDt0aGlzLmVkaXRpbmc9dGhpcy5lZGl0b3IuZWRpdGluZ31oYW5kbGUodCxlKXtpZihZVCh0KSl7dGhpcy5faGFuZGxlQ29udGFpbmVyQ2hpbGRyZW5NdXRhdGlvbnModCxlKX1lbHNle2Zvcihjb25zdCBpIG9mIHQpe3RoaXMuX2hhbmRsZVRleHRNdXRhdGlvbihpLGUpO3RoaXMuX2hhbmRsZVRleHROb2RlSW5zZXJ0aW9uKGkpfX19X2hhbmRsZUNvbnRhaW5lckNoaWxkcmVuTXV0YXRpb25zKHQsZSl7Y29uc3QgaT1lUCh0KTtpZighaSl7cmV0dXJufWNvbnN0IG49dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmRvbUNvbnZlcnRlcjtjb25zdCBvPW4ubWFwVmlld1RvRG9tKGkpO2NvbnN0IHI9bmV3IHpkKHRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5kb2N1bWVudCk7Y29uc3Qgcz10aGlzLmVkaXRvci5kYXRhLnRvTW9kZWwoci5kb21Ub1ZpZXcobykpLmdldENoaWxkKDApO2NvbnN0IGE9dGhpcy5lZGl0b3IuZWRpdGluZy5tYXBwZXIudG9Nb2RlbEVsZW1lbnQoaSk7aWYoIWEpe3JldHVybn1jb25zdCBjPUFycmF5LmZyb20ocy5nZXRDaGlsZHJlbigpKTtjb25zdCBsPUFycmF5LmZyb20oYS5nZXRDaGlsZHJlbigpKTtjb25zdCBkPWNbYy5sZW5ndGgtMV07Y29uc3QgdT1sW2wubGVuZ3RoLTFdO2lmKGQmJmQuaXMoXCJzb2Z0QnJlYWtcIikmJnUmJiF1LmlzKFwic29mdEJyZWFrXCIpKXtjLnBvcCgpfWNvbnN0IGg9dGhpcy5lZGl0b3IubW9kZWwuc2NoZW1hO2lmKCFpUChjLGgpfHwhaVAobCxoKSl7cmV0dXJufWNvbnN0IGY9Yy5tYXAodD0+dC5pcyhcInRleHRcIik/dC5kYXRhOlwiQFwiKS5qb2luKFwiXCIpLnJlcGxhY2UoL1xcdTAwQTAvZyxcIiBcIik7Y29uc3QgZz1sLm1hcCh0PT50LmlzKFwidGV4dFwiKT90LmRhdGE6XCJAXCIpLmpvaW4oXCJcIikucmVwbGFjZSgvXFx1MDBBMC9nLFwiIFwiKTtpZihnPT09Zil7cmV0dXJufWNvbnN0IG09X2QoZyxmKTtjb25zdHtmaXJzdENoYW5nZUF0OnAsaW5zZXJ0aW9uczpiLGRlbGV0aW9uczp3fT1uUChtKTtsZXQgaz1udWxsO2lmKGUpe2s9dGhpcy5lZGl0aW5nLm1hcHBlci50b01vZGVsUmFuZ2UoZS5nZXRGaXJzdFJhbmdlKCkpfWNvbnN0IF89Zi5zdWJzdHIocCxiKTtjb25zdCB2PXRoaXMuZWRpdG9yLm1vZGVsLmNyZWF0ZVJhbmdlKHRoaXMuZWRpdG9yLm1vZGVsLmNyZWF0ZVBvc2l0aW9uQXQoYSxwKSx0aGlzLmVkaXRvci5tb2RlbC5jcmVhdGVQb3NpdGlvbkF0KGEscCt3KSk7dGhpcy5lZGl0b3IuZXhlY3V0ZShcImlucHV0XCIse3RleHQ6XyxyYW5nZTp2LHJlc3VsdFJhbmdlOmt9KX1faGFuZGxlVGV4dE11dGF0aW9uKHQsZSl7aWYodC50eXBlIT1cInRleHRcIil7cmV0dXJufWNvbnN0IGk9dC5uZXdUZXh0LnJlcGxhY2UoL1xcdTAwQTAvZyxcIiBcIik7Y29uc3Qgbj10Lm9sZFRleHQucmVwbGFjZSgvXFx1MDBBMC9nLFwiIFwiKTtpZihuPT09aSl7cmV0dXJufWNvbnN0IG89X2QobixpKTtjb25zdHtmaXJzdENoYW5nZUF0OnIsaW5zZXJ0aW9uczpzLGRlbGV0aW9uczphfT1uUChvKTtsZXQgYz1udWxsO2lmKGUpe2M9dGhpcy5lZGl0aW5nLm1hcHBlci50b01vZGVsUmFuZ2UoZS5nZXRGaXJzdFJhbmdlKCkpfWNvbnN0IGw9dGhpcy5lZGl0aW5nLnZpZXcuY3JlYXRlUG9zaXRpb25BdCh0Lm5vZGUscik7Y29uc3QgZD10aGlzLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxQb3NpdGlvbihsKTtjb25zdCB1PXRoaXMuZWRpdG9yLm1vZGVsLmNyZWF0ZVJhbmdlKGQsZC5nZXRTaGlmdGVkQnkoYSkpO2NvbnN0IGg9aS5zdWJzdHIocixzKTt0aGlzLmVkaXRvci5leGVjdXRlKFwiaW5wdXRcIix7dGV4dDpoLHJhbmdlOnUscmVzdWx0UmFuZ2U6Y30pfV9oYW5kbGVUZXh0Tm9kZUluc2VydGlvbih0KXtpZih0LnR5cGUhPVwiY2hpbGRyZW5cIil7cmV0dXJufWNvbnN0IGU9UVQodCk7Y29uc3QgaT10aGlzLmVkaXRpbmcudmlldy5jcmVhdGVQb3NpdGlvbkF0KHQubm9kZSxlLmluZGV4KTtjb25zdCBuPXRoaXMuZWRpdGluZy5tYXBwZXIudG9Nb2RlbFBvc2l0aW9uKGkpO2NvbnN0IG89ZS52YWx1ZXNbMF0uZGF0YTt0aGlzLmVkaXRvci5leGVjdXRlKFwiaW5wdXRcIix7dGV4dDpvLnJlcGxhY2UoL1xcdTAwQTAvZyxcIiBcIikscmFuZ2U6dGhpcy5lZGl0b3IubW9kZWwuY3JlYXRlUmFuZ2Uobil9KX19ZnVuY3Rpb24gZVAodCl7Y29uc3QgZT10Lm1hcCh0PT50Lm5vZGUpLnJlZHVjZSgodCxlKT0+dC5nZXRDb21tb25BbmNlc3RvcihlLHtpbmNsdWRlU2VsZjp0cnVlfSkpO2lmKCFlKXtyZXR1cm59cmV0dXJuIGUuZ2V0QW5jZXN0b3JzKHtpbmNsdWRlU2VsZjp0cnVlLHBhcmVudEZpcnN0OnRydWV9KS5maW5kKHQ9PnQuaXMoXCJjb250YWluZXJFbGVtZW50XCIpfHx0LmlzKFwicm9vdEVsZW1lbnRcIikpfWZ1bmN0aW9uIGlQKHQsZSl7cmV0dXJuIHQuZXZlcnkodD0+ZS5pc0lubGluZSh0KSl9ZnVuY3Rpb24gblAodCl7bGV0IGU9bnVsbDtsZXQgaT1udWxsO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCBvPXRbbl07aWYobyE9XCJlcXVhbFwiKXtlPWU9PT1udWxsP246ZTtpPW59fWxldCBuPTA7bGV0IG89MDtmb3IobGV0IHI9ZTtyPD1pO3IrKyl7aWYodFtyXSE9XCJpbnNlcnRcIil7bisrfWlmKHRbcl0hPVwiZGVsZXRlXCIpe28rK319cmV0dXJue2luc2VydGlvbnM6byxkZWxldGlvbnM6bixmaXJzdENoYW5nZUF0OmV9fWNsYXNzIG9QIGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJJbnB1dFwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9bmV3IFVUKHQsdC5jb25maWcuZ2V0KFwidHlwaW5nLnVuZG9TdGVwXCIpfHwyMCk7dC5jb21tYW5kcy5hZGQoXCJpbnB1dFwiLGUpOyRUKHQpO1pUKHQpfWlzSW5wdXQodCl7Y29uc3QgZT10aGlzLmVkaXRvci5jb21tYW5kcy5nZXQoXCJpbnB1dFwiKTtyZXR1cm4gZS5fYmF0Y2hlcy5oYXModCl9fWNsYXNzIHJQIGV4dGVuZHMgand7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KTt0aGlzLmRpcmVjdGlvbj1lO3RoaXMuX2J1ZmZlcj1uZXcgcVQodC5tb2RlbCx0LmNvbmZpZy5nZXQoXCJ0eXBpbmcudW5kb1N0ZXBcIikpfWdldCBidWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfWV4ZWN1dGUodD17fSl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBpPWUuZG9jdW1lbnQ7ZS5lbnF1ZXVlQ2hhbmdlKHRoaXMuX2J1ZmZlci5iYXRjaCxuPT57dGhpcy5fYnVmZmVyLmxvY2soKTtjb25zdCBvPW4uY3JlYXRlU2VsZWN0aW9uKHQuc2VsZWN0aW9ufHxpLnNlbGVjdGlvbik7Y29uc3Qgcj1vLmlzQ29sbGFwc2VkO2lmKG8uaXNDb2xsYXBzZWQpe2UubW9kaWZ5U2VsZWN0aW9uKG8se2RpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbix1bml0OnQudW5pdH0pfWlmKHRoaXMuX3Nob3VsZEVudGlyZUNvbnRlbnRCZVJlcGxhY2VkV2l0aFBhcmFncmFwaCh0LnNlcXVlbmNlfHwxKSl7dGhpcy5fcmVwbGFjZUVudGlyZUNvbnRlbnRXaXRoUGFyYWdyYXBoKG4pO3JldHVybn1pZihvLmlzQ29sbGFwc2VkKXtyZXR1cm59bGV0IHM9MDtvLmdldEZpcnN0UmFuZ2UoKS5nZXRNaW5pbWFsRmxhdFJhbmdlcygpLmZvckVhY2godD0+e3MrPWZsKHQuZ2V0V2Fsa2VyKHtzaW5nbGVDaGFyYWN0ZXJzOnRydWUsaWdub3JlRWxlbWVudEVuZDp0cnVlLHNoYWxsb3c6dHJ1ZX0pKX0pO2UuZGVsZXRlQ29udGVudChvLHtkb05vdFJlc2V0RW50aXJlQ29udGVudDpyLGRpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbn0pO3RoaXMuX2J1ZmZlci5pbnB1dChzKTtuLnNldFNlbGVjdGlvbihvKTt0aGlzLl9idWZmZXIudW5sb2NrKCl9KX1fc2hvdWxkRW50aXJlQ29udGVudEJlUmVwbGFjZWRXaXRoUGFyYWdyYXBoKHQpe2lmKHQ+MSl7cmV0dXJuIGZhbHNlfWNvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3QgaT1lLmRvY3VtZW50O2NvbnN0IG49aS5zZWxlY3Rpb247Y29uc3Qgbz1lLnNjaGVtYS5nZXRMaW1pdEVsZW1lbnQobik7Y29uc3Qgcj1uLmlzQ29sbGFwc2VkJiZuLmNvbnRhaW5zRW50aXJlQ29udGVudChvKTtpZighcil7cmV0dXJuIGZhbHNlfWlmKCFlLnNjaGVtYS5jaGVja0NoaWxkKG8sXCJwYXJhZ3JhcGhcIikpe3JldHVybiBmYWxzZX1jb25zdCBzPW8uZ2V0Q2hpbGQoMCk7aWYocyYmcy5uYW1lPT09XCJwYXJhZ3JhcGhcIil7cmV0dXJuIGZhbHNlfXJldHVybiB0cnVlfV9yZXBsYWNlRW50aXJlQ29udGVudFdpdGhQYXJhZ3JhcGgodCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBpPWUuZG9jdW1lbnQ7Y29uc3Qgbj1pLnNlbGVjdGlvbjtjb25zdCBvPWUuc2NoZW1hLmdldExpbWl0RWxlbWVudChuKTtjb25zdCByPXQuY3JlYXRlRWxlbWVudChcInBhcmFncmFwaFwiKTt0LnJlbW92ZSh0LmNyZWF0ZVJhbmdlSW4obykpO3QuaW5zZXJ0KHIsbyk7dC5zZXRTZWxlY3Rpb24ociwwKX19Y2xhc3Mgc1AgZXh0ZW5kcyBHZHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXQuZG9jdW1lbnQ7bGV0IGk9MDtlLm9uKFwia2V5dXBcIiwodCxlKT0+e2lmKGUua2V5Q29kZT09TmwuZGVsZXRlfHxlLmtleUNvZGU9PU5sLmJhY2tzcGFjZSl7aT0wfX0pO2Uub24oXCJrZXlkb3duXCIsKHQsZSk9Pntjb25zdCBvPXt9O2lmKGUua2V5Q29kZT09TmwuZGVsZXRlKXtvLmRpcmVjdGlvbj1cImZvcndhcmRcIjtvLnVuaXQ9XCJjaGFyYWN0ZXJcIn1lbHNlIGlmKGUua2V5Q29kZT09TmwuYmFja3NwYWNlKXtvLmRpcmVjdGlvbj1cImJhY2t3YXJkXCI7by51bml0PVwiY29kZVBvaW50XCJ9ZWxzZXtyZXR1cm59Y29uc3Qgcj1BbC5pc01hYz9lLmFsdEtleTplLmN0cmxLZXk7by51bml0PXI/XCJ3b3JkXCI6by51bml0O28uc2VxdWVuY2U9KytpO24odCxlLmRvbUV2ZW50LG8pfSk7aWYoQWwuaXNBbmRyb2lkKXtlLm9uKFwiYmVmb3JlaW5wdXRcIiwoZSxpKT0+e2lmKGkuZG9tRXZlbnQuaW5wdXRUeXBlIT1cImRlbGV0ZUNvbnRlbnRCYWNrd2FyZFwiKXtyZXR1cm59Y29uc3Qgbz17dW5pdDpcImNvZGVwb2ludFwiLGRpcmVjdGlvbjpcImJhY2t3YXJkXCIsc2VxdWVuY2U6MX07Y29uc3Qgcj1pLmRvbVRhcmdldC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldFNlbGVjdGlvbigpO2lmKHIuYW5jaG9yTm9kZT09ci5mb2N1c05vZGUmJnIuYW5jaG9yT2Zmc2V0KzEhPXIuZm9jdXNPZmZzZXQpe28uc2VsZWN0aW9uVG9SZW1vdmU9dC5kb21Db252ZXJ0ZXIuZG9tU2VsZWN0aW9uVG9WaWV3KHIpfW4oZSxpLmRvbUV2ZW50LG8pfSl9ZnVuY3Rpb24gbih0LGksbil7bGV0IG87ZS5vbmNlKFwiZGVsZXRlXCIsdD0+bz10LHtwcmlvcml0eTpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9KTtlLmZpcmUoXCJkZWxldGVcIixuZXcgS3UoZSxpLG4pKTtpZihvJiZvLnN0b3AuY2FsbGVkKXt0LnN0b3AoKX19fW9ic2VydmUoKXt9fWNsYXNzIGFQIGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJEZWxldGVcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQuZWRpdGluZy52aWV3O2NvbnN0IGk9ZS5kb2N1bWVudDtlLmFkZE9ic2VydmVyKHNQKTt0LmNvbW1hbmRzLmFkZChcImZvcndhcmREZWxldGVcIixuZXcgclAodCxcImZvcndhcmRcIikpO3QuY29tbWFuZHMuYWRkKFwiZGVsZXRlXCIsbmV3IHJQKHQsXCJiYWNrd2FyZFwiKSk7dGhpcy5saXN0ZW5UbyhpLFwiZGVsZXRlXCIsKGksbik9Pntjb25zdCBvPXt1bml0Om4udW5pdCxzZXF1ZW5jZTpuLnNlcXVlbmNlfTtpZihuLnNlbGVjdGlvblRvUmVtb3ZlKXtjb25zdCBlPXQubW9kZWwuY3JlYXRlU2VsZWN0aW9uKCk7Y29uc3QgaT1bXTtmb3IoY29uc3QgZSBvZiBuLnNlbGVjdGlvblRvUmVtb3ZlLmdldFJhbmdlcygpKXtpLnB1c2godC5lZGl0aW5nLm1hcHBlci50b01vZGVsUmFuZ2UoZSkpfWUuc2V0VG8oaSk7by5zZWxlY3Rpb249ZX10LmV4ZWN1dGUobi5kaXJlY3Rpb249PVwiZm9yd2FyZFwiP1wiZm9yd2FyZERlbGV0ZVwiOlwiZGVsZXRlXCIsbyk7bi5wcmV2ZW50RGVmYXVsdCgpO2Uuc2Nyb2xsVG9UaGVTZWxlY3Rpb24oKX0pO2lmKEFsLmlzQW5kcm9pZCl7bGV0IHQ9bnVsbDt0aGlzLmxpc3RlblRvKGksXCJkZWxldGVcIiwoZSxpKT0+e2NvbnN0IG49aS5kb21UYXJnZXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKTt0PXthbmNob3JOb2RlOm4uYW5jaG9yTm9kZSxhbmNob3JPZmZzZXQ6bi5hbmNob3JPZmZzZXQsZm9jdXNOb2RlOm4uZm9jdXNOb2RlLGZvY3VzT2Zmc2V0Om4uZm9jdXNPZmZzZXR9fSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pO3RoaXMubGlzdGVuVG8oaSxcImtleXVwXCIsKGUsaSk9PntpZih0KXtjb25zdCBlPWkuZG9tVGFyZ2V0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0U2VsZWN0aW9uKCk7ZS5jb2xsYXBzZSh0LmFuY2hvck5vZGUsdC5hbmNob3JPZmZzZXQpO2UuZXh0ZW5kKHQuZm9jdXNOb2RlLHQuZm9jdXNPZmZzZXQpO3Q9bnVsbH19KX19fWNsYXNzIGNQIGV4dGVuZHMgbXB7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltvUCxhUF19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJUeXBpbmdcIn19Y2xhc3MgbFAgZXh0ZW5kcyBHcHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpO2NvbnN0IGk9dC50O3RoaXMubGFiZWxWaWV3PW5ldyBNayh0KTt0aGlzLmxhYmVsVmlldy50ZXh0PWkoXCJiXCIpO3RoaXMuZ3JvdXBEcm9wZG93blZpZXc9dGhpcy5fY3JlYXRlR3JvdXBEcm9wZG93bihlKTt0aGlzLmdyb3VwRHJvcGRvd25WaWV3LnBhbmVsUG9zaXRpb249dC51aUxhbmd1YWdlRGlyZWN0aW9uPT09XCJydGxcIj9cInNlXCI6XCJzd1wiO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1zcGVjaWFsLWNoYXJhY3RlcnMtbmF2aWdhdGlvblwiXX0sY2hpbGRyZW46W3RoaXMubGFiZWxWaWV3LHRoaXMuZ3JvdXBEcm9wZG93blZpZXddfSl9Z2V0IGN1cnJlbnRHcm91cE5hbWUoKXtyZXR1cm4gdGhpcy5ncm91cERyb3Bkb3duVmlldy52YWx1ZX1fY3JlYXRlR3JvdXBEcm9wZG93bih0KXtjb25zdCBlPXRoaXMubG9jYWxlO2NvbnN0IGk9ZS50O2NvbnN0IG49V2IoZSk7Y29uc3Qgbz10aGlzLl9nZXRDaGFyYWN0ZXJHcm91cExpc3RJdGVtRGVmaW5pdGlvbnMobix0KTtuLnNldChcInZhbHVlXCIsby5maXJzdC5tb2RlbC5sYWJlbCk7bi5idXR0b25WaWV3LmJpbmQoXCJsYWJlbFwiKS50byhuLFwidmFsdWVcIik7bi5idXR0b25WaWV3LnNldCh7aXNPbjpmYWxzZSx3aXRoVGV4dDp0cnVlLHRvb2x0aXA6aShcImxlXCIpfSk7bi5vbihcImV4ZWN1dGVcIix0PT57bi52YWx1ZT10LnNvdXJjZS5sYWJlbH0pO24uZGVsZWdhdGUoXCJleGVjdXRlXCIpLnRvKHRoaXMpO1ViKG4sbyk7cmV0dXJuIG59X2dldENoYXJhY3Rlckdyb3VwTGlzdEl0ZW1EZWZpbml0aW9ucyh0LGUpe2NvbnN0IGk9bmV3IHlzO2Zvcihjb25zdCBuIG9mIGUpe2NvbnN0IGU9e3R5cGU6XCJidXR0b25cIixtb2RlbDpuZXcgZV8oe2xhYmVsOm4sd2l0aFRleHQ6dHJ1ZX0pfTtlLm1vZGVsLmJpbmQoXCJpc09uXCIpLnRvKHQsXCJ2YWx1ZVwiLHQ9PnQ9PT1lLm1vZGVsLmxhYmVsKTtpLmFkZChlKX1yZXR1cm4gaX19dmFyIGRQPWkoODYpO2NsYXNzIHVQIGV4dGVuZHMgR3B7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7dGhpcy50aWxlcz10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixjaGlsZHJlbjpbe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1jaGFyYWN0ZXItZ3JpZF9fdGlsZXNcIl19LGNoaWxkcmVuOnRoaXMudGlsZXN9XSxhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stY2hhcmFjdGVyLWdyaWRcIl19fSl9Y3JlYXRlVGlsZSh0LGUpe2NvbnN0IGk9bmV3IGhiKHRoaXMubG9jYWxlKTtpLnNldCh7bGFiZWw6dCx3aXRoVGV4dDp0cnVlLGNsYXNzOlwiY2stY2hhcmFjdGVyLWdyaWRfX3RpbGVcIn0pO2kuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e3RpdGxlOmV9LG9uOnttb3VzZW92ZXI6aS5iaW5kVGVtcGxhdGUudG8oXCJtb3VzZW92ZXJcIil9fSk7aS5vbihcIm1vdXNlb3ZlclwiLCgpPT57dGhpcy5maXJlKFwidGlsZUhvdmVyXCIse25hbWU6ZSxjaGFyYWN0ZXI6dH0pfSk7aS5vbihcImV4ZWN1dGVcIiwoKT0+e3RoaXMuZmlyZShcImV4ZWN1dGVcIix7bmFtZTplLGNoYXJhY3Rlcjp0fSl9KTtyZXR1cm4gaX19dmFyIGhQPWkoODgpO2NsYXNzIGZQIGV4dGVuZHMgR3B7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldChcImNoYXJhY3RlclwiLG51bGwpO3RoaXMuc2V0KFwibmFtZVwiLG51bGwpO3RoaXMuYmluZChcImNvZGVcIikudG8odGhpcyxcImNoYXJhY3RlclwiLGdQKTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixjaGlsZHJlbjpbe3RhZzpcInNwYW5cIixhdHRyaWJ1dGVzOntjbGFzczpbXCJjay1jaGFyYWN0ZXItaW5mb19fbmFtZVwiXX0sY2hpbGRyZW46W3t0ZXh0OmUudG8oXCJuYW1lXCIsdD0+dD90Olwi4oCLXCIpfV19LHt0YWc6XCJzcGFuXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2stY2hhcmFjdGVyLWluZm9fX2NvZGVcIl19LGNoaWxkcmVuOlt7dGV4dDplLnRvKFwiY29kZVwiKX1dfV0sYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWNoYXJhY3Rlci1pbmZvXCJdfX0pfX1mdW5jdGlvbiBnUCh0KXtpZih0PT09bnVsbCl7cmV0dXJuXCJcIn1jb25zdCBlPXQuY29kZVBvaW50QXQoMCkudG9TdHJpbmcoMTYpO3JldHVyblwiVStcIisoXCIwMDAwXCIrZSkuc2xpY2UoLTQpfXZhciBtUD0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTAgMi41YTcuNDcgNy40NyAwIDAgMSA0LjIzMSAxLjMxIDcuMjY4IDcuMjY4IDAgMCAxIDIuNzAzIDMuNDU0IDcuMTI4IDcuMTI4IDAgMCAxIC4xOTkgNC4zNTNjLS4zOSAxLjQzNi0xLjQ3NSAyLjcyLTIuNjMzIDMuNjc3aDIuMDEzYzAtLjIyNi4wOTItLjQ0My4yNTQtLjYwM2EuODc2Ljg3NiAwIDAgMSAxLjIyOSAwYy4xNjMuMTYuMjU0LjM3Ny4yNTQuNjAzdi44NTNjMCAuMjA5LS4wNzguNDEtLjIyLjU2N2EuODczLjg3MyAwIDAgMS0uNTQ3LjI4bC0uMTAxLjAwNmgtNC42OTVhLjUxNy41MTcgMCAwIDEtLjUxNi0uNTE4di0xLjI2NWMwLS4yMS4xMjgtLjM5OC4zMTctLjQ4OWE1LjYwMSA1LjYwMSAwIDAgMCAyLjQ5Mi0yLjM3MSA1LjQ1OSA1LjQ1OSAwIDAgMCAuNTUyLTMuNjkzIDUuNTMgNS41MyAwIDAgMC0xLjk1NS0zLjJBNS43MSA1LjcxIDAgMCAwIDEwIDQuMjA2IDUuNzA4IDUuNzA4IDAgMCAwIDYuNDE5IDUuNDYgNS41MjcgNS41MjcgMCAwIDAgNC40NiA4LjY2M2E1LjQ1NyA1LjQ1NyAwIDAgMCAuNTU0IDMuNjk1IDUuNiA1LjYgMCAwIDAgMi40OTcgMi4zNy41NS41NSAwIDAgMSAuMzE3LjQ5djEuMjY0YzAgLjI4Ni0uMjMuNTE4LS41MTYuNTE4SDIuNjE4YS44NzcuODc3IDAgMCAxLS42MTQtLjI1Ljg0NS44NDUgMCAwIDEtLjI1NC0uNjAzdi0uODUzYzAtLjIyNi4wOTEtLjQ0My4yNTQtLjYwM2EuODc2Ljg3NiAwIDAgMSAxLjIyOCAwYy4xNjMuMTYuMjU1LjM3Ny4yNTUuNjAzaDEuOTI1Yy0xLjE1OC0uOTU4LTIuMTU1LTIuMjQxLTIuNTQ1LTMuNjc4YTcuMTI4IDcuMTI4IDAgMCAxIC4xOTktNC4zNTIgNy4yNjggNy4yNjggMCAwIDEgMi43MDMtMy40NTVBNy40NzUgNy40NzUgMCAwIDEgMTAgMi41elwiLz48L3N2Zz4nO3ZhciBwUD1pKDkwKTtjb25zdCBiUD1cIkFsbFwiO2NsYXNzIHdQIGV4dGVuZHMgbXB7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltjUF19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJTcGVjaWFsQ2hhcmFjdGVyc1wifWNvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3RoaXMuX2NoYXJhY3RlcnM9bmV3IE1hcDt0aGlzLl9ncm91cHM9bmV3IE1hcH1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQudDtjb25zdCBpPXQuY29tbWFuZHMuZ2V0KFwiaW5wdXRcIik7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcInNwZWNpYWxDaGFyYWN0ZXJzXCIsbj0+e2NvbnN0IG89V2Iobik7bGV0IHI7by5idXR0b25WaWV3LnNldCh7bGFiZWw6ZShcImJcIiksaWNvbjptUCx0b29sdGlwOnRydWV9KTtvLmJpbmQoXCJpc0VuYWJsZWRcIikudG8oaSk7by5vbihcImV4ZWN1dGVcIiwoZSxpKT0+e3QuZXhlY3V0ZShcImlucHV0XCIse3RleHQ6aS5jaGFyYWN0ZXJ9KTt0LmVkaXRpbmcudmlldy5mb2N1cygpfSk7by5vbihcImNoYW5nZTppc09wZW5cIiwoKT0+e2lmKCFyKXtyPXRoaXMuX2NyZWF0ZURyb3Bkb3duUGFuZWxDb250ZW50KG4sbyk7by5wYW5lbFZpZXcuY2hpbGRyZW4uYWRkKHIubmF2aWdhdGlvblZpZXcpO28ucGFuZWxWaWV3LmNoaWxkcmVuLmFkZChyLmdyaWRWaWV3KTtvLnBhbmVsVmlldy5jaGlsZHJlbi5hZGQoci5pbmZvVmlldyl9ci5pbmZvVmlldy5zZXQoe2NoYXJhY3RlcjpudWxsLG5hbWU6bnVsbH0pfSk7cmV0dXJuIG99KX1hZGRJdGVtcyh0LGUpe2lmKHQ9PT1iUCl7dGhyb3cgbmV3IHNzW1wiYlwiXShgc3BlY2lhbC1jaGFyYWN0ZXItaW52YWxpZC1ncm91cC1uYW1lOiBUaGUgbmFtZSBcIiR7YlB9XCIgaXMgcmVzZXJ2ZWQgYW5kIGNhbm5vdCBiZSB1c2VkLmApfWNvbnN0IGk9dGhpcy5fZ2V0R3JvdXAodCk7Zm9yKGNvbnN0IHQgb2YgZSl7aS5hZGQodC50aXRsZSk7dGhpcy5fY2hhcmFjdGVycy5zZXQodC50aXRsZSx0LmNoYXJhY3Rlcil9fWdldEdyb3Vwcygpe3JldHVybiB0aGlzLl9ncm91cHMua2V5cygpfWdldENoYXJhY3RlcnNGb3JHcm91cCh0KXtpZih0PT09YlApe3JldHVybiBuZXcgU2V0KHRoaXMuX2NoYXJhY3RlcnMua2V5cygpKX1yZXR1cm4gdGhpcy5fZ3JvdXBzLmdldCh0KX1nZXRDaGFyYWN0ZXIodCl7cmV0dXJuIHRoaXMuX2NoYXJhY3RlcnMuZ2V0KHQpfV9nZXRHcm91cCh0KXtpZighdGhpcy5fZ3JvdXBzLmhhcyh0KSl7dGhpcy5fZ3JvdXBzLnNldCh0LG5ldyBTZXQpfXJldHVybiB0aGlzLl9ncm91cHMuZ2V0KHQpfV91cGRhdGVHcmlkKHQsZSl7ZS50aWxlcy5jbGVhcigpO2NvbnN0IGk9dGhpcy5nZXRDaGFyYWN0ZXJzRm9yR3JvdXAodCk7Zm9yKGNvbnN0IHQgb2YgaSl7Y29uc3QgaT10aGlzLmdldENoYXJhY3Rlcih0KTtlLnRpbGVzLmFkZChlLmNyZWF0ZVRpbGUoaSx0KSl9fV9jcmVhdGVEcm9wZG93blBhbmVsQ29udGVudCh0LGUpe2NvbnN0IGk9Wy4uLnRoaXMuZ2V0R3JvdXBzKCldO2kudW5zaGlmdChiUCk7Y29uc3Qgbj1uZXcgbFAodCxpKTtjb25zdCBvPW5ldyB1UCh0KTtjb25zdCByPW5ldyBmUCh0KTtvLmRlbGVnYXRlKFwiZXhlY3V0ZVwiKS50byhlKTtvLm9uKFwidGlsZUhvdmVyXCIsKHQsZSk9PntyLnNldChlKX0pO24ub24oXCJleGVjdXRlXCIsKCk9Pnt0aGlzLl91cGRhdGVHcmlkKG4uY3VycmVudEdyb3VwTmFtZSxvKX0pO3RoaXMuX3VwZGF0ZUdyaWQobi5jdXJyZW50R3JvdXBOYW1lLG8pO3JldHVybntuYXZpZ2F0aW9uVmlldzpuLGdyaWRWaWV3Om8saW5mb1ZpZXc6cn19fWNsYXNzIGtQIGV4dGVuZHMgbXB7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LnQ7dC5wbHVnaW5zLmdldChcIlNwZWNpYWxDaGFyYWN0ZXJzXCIpLmFkZEl0ZW1zKFwiQ3VycmVuY3lcIixbe2NoYXJhY3RlcjpcIiRcIix0aXRsZTplKFwidVwiKX0se2NoYXJhY3RlcjpcIuKCrFwiLHRpdGxlOmUoXCJ2XCIpfSx7Y2hhcmFjdGVyOlwiwqVcIix0aXRsZTplKFwid1wiKX0se2NoYXJhY3RlcjpcIsKjXCIsdGl0bGU6ZShcInhcIil9LHtjaGFyYWN0ZXI6XCLColwiLHRpdGxlOmUoXCJ5XCIpfSx7Y2hhcmFjdGVyOlwi4oKgXCIsdGl0bGU6ZShcInpcIil9LHtjaGFyYWN0ZXI6XCLigqFcIix0aXRsZTplKFwiYWFcIil9LHtjaGFyYWN0ZXI6XCLigqJcIix0aXRsZTplKFwiYWJcIil9LHtjaGFyYWN0ZXI6XCLigqNcIix0aXRsZTplKFwiYWNcIil9LHtjaGFyYWN0ZXI6XCLigqRcIix0aXRsZTplKFwiYWRcIil9LHtjaGFyYWN0ZXI6XCLCpFwiLHRpdGxlOmUoXCJhZVwiKX0se2NoYXJhY3RlcjpcIuKCv1wiLHRpdGxlOmUoXCJhZlwiKX0se2NoYXJhY3RlcjpcIuKCpVwiLHRpdGxlOmUoXCJhZ1wiKX0se2NoYXJhY3RlcjpcIuKCplwiLHRpdGxlOmUoXCJhaFwiKX0se2NoYXJhY3RlcjpcIuKCp1wiLHRpdGxlOmUoXCJhaVwiKX0se2NoYXJhY3RlcjpcIuKCqFwiLHRpdGxlOmUoXCJhalwiKX0se2NoYXJhY3RlcjpcIuKCqVwiLHRpdGxlOmUoXCJha1wiKX0se2NoYXJhY3RlcjpcIuKCqlwiLHRpdGxlOmUoXCJhbFwiKX0se2NoYXJhY3RlcjpcIuKCq1wiLHRpdGxlOmUoXCJhbVwiKX0se2NoYXJhY3RlcjpcIuKCrVwiLHRpdGxlOmUoXCJhblwiKX0se2NoYXJhY3RlcjpcIuKCrlwiLHRpdGxlOmUoXCJhb1wiKX0se2NoYXJhY3RlcjpcIuKCr1wiLHRpdGxlOmUoXCJhcFwiKX0se2NoYXJhY3RlcjpcIuKCsFwiLHRpdGxlOmUoXCJhcVwiKX0se2NoYXJhY3RlcjpcIuKCsVwiLHRpdGxlOmUoXCJhclwiKX0se2NoYXJhY3RlcjpcIuKCslwiLHRpdGxlOmUoXCJhc1wiKX0se2NoYXJhY3RlcjpcIuKCs1wiLHRpdGxlOmUoXCJhdFwiKX0se2NoYXJhY3RlcjpcIuKCtFwiLHRpdGxlOmUoXCJhdVwiKX0se2NoYXJhY3RlcjpcIuKCtVwiLHRpdGxlOmUoXCJhdlwiKX0se2NoYXJhY3RlcjpcIuKCtlwiLHRpdGxlOmUoXCJhd1wiKX0se2NoYXJhY3RlcjpcIuKCt1wiLHRpdGxlOmUoXCJheFwiKX0se2NoYXJhY3RlcjpcIuKCuFwiLHRpdGxlOmUoXCJheVwiKX0se2NoYXJhY3RlcjpcIuKCuVwiLHRpdGxlOmUoXCJhelwiKX0se2NoYXJhY3RlcjpcIuKCulwiLHRpdGxlOmUoXCJiYVwiKX0se2NoYXJhY3RlcjpcIuKCu1wiLHRpdGxlOmUoXCJiYlwiKX0se2NoYXJhY3RlcjpcIuKCvFwiLHRpdGxlOmUoXCJiY1wiKX0se2NoYXJhY3RlcjpcIuKCvVwiLHRpdGxlOmUoXCJiZFwiKX1dKX19Y2xhc3MgX1AgZXh0ZW5kcyBtcHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQudDt0LnBsdWdpbnMuZ2V0KFwiU3BlY2lhbENoYXJhY3RlcnNcIikuYWRkSXRlbXMoXCJNYXRoZW1hdGljYWxcIixbe2NoYXJhY3RlcjpcIjxcIix0aXRsZTplKFwiZ2NcIil9LHtjaGFyYWN0ZXI6XCI+XCIsdGl0bGU6ZShcImdkXCIpfSx7Y2hhcmFjdGVyOlwi4omkXCIsdGl0bGU6ZShcImdlXCIpfSx7Y2hhcmFjdGVyOlwi4omlXCIsdGl0bGU6ZShcImdmXCIpfSx7Y2hhcmFjdGVyOlwi4oCTXCIsdGl0bGU6ZShcImdnXCIpfSx7Y2hhcmFjdGVyOlwi4oCUXCIsdGl0bGU6ZShcImdoXCIpfSx7Y2hhcmFjdGVyOlwiwq9cIix0aXRsZTplKFwiZ2lcIil9LHtjaGFyYWN0ZXI6XCLigL5cIix0aXRsZTplKFwiZ2pcIil9LHtjaGFyYWN0ZXI6XCLCsFwiLHRpdGxlOmUoXCJna1wiKX0se2NoYXJhY3RlcjpcIuKIklwiLHRpdGxlOmUoXCJnbFwiKX0se2NoYXJhY3RlcjpcIsKxXCIsdGl0bGU6ZShcImdtXCIpfSx7Y2hhcmFjdGVyOlwiw7dcIix0aXRsZTplKFwiZ25cIil9LHtjaGFyYWN0ZXI6XCLigYRcIix0aXRsZTplKFwiZ29cIil9LHtjaGFyYWN0ZXI6XCLDl1wiLHRpdGxlOmUoXCJncFwiKX0se2NoYXJhY3RlcjpcIsaSXCIsdGl0bGU6ZShcImdxXCIpfSx7Y2hhcmFjdGVyOlwi4oirXCIsdGl0bGU6ZShcImdyXCIpfSx7Y2hhcmFjdGVyOlwi4oiRXCIsdGl0bGU6ZShcImdzXCIpfSx7Y2hhcmFjdGVyOlwi4oieXCIsdGl0bGU6ZShcImd0XCIpfSx7Y2hhcmFjdGVyOlwi4oiaXCIsdGl0bGU6ZShcImd1XCIpfSx7Y2hhcmFjdGVyOlwi4oi8XCIsdGl0bGU6ZShcImd2XCIpfSx7Y2hhcmFjdGVyOlwi4omFXCIsdGl0bGU6ZShcImd3XCIpfSx7Y2hhcmFjdGVyOlwi4omIXCIsdGl0bGU6ZShcImd4XCIpfSx7Y2hhcmFjdGVyOlwi4omgXCIsdGl0bGU6ZShcImd5XCIpfSx7Y2hhcmFjdGVyOlwi4omhXCIsdGl0bGU6ZShcImd6XCIpfSx7Y2hhcmFjdGVyOlwi4oiIXCIsdGl0bGU6ZShcImhhXCIpfSx7Y2hhcmFjdGVyOlwi4oiJXCIsdGl0bGU6ZShcImhiXCIpfSx7Y2hhcmFjdGVyOlwi4oiLXCIsdGl0bGU6ZShcImhjXCIpfSx7Y2hhcmFjdGVyOlwi4oiPXCIsdGl0bGU6ZShcImhkXCIpfSx7Y2hhcmFjdGVyOlwi4oinXCIsdGl0bGU6ZShcImhlXCIpfSx7Y2hhcmFjdGVyOlwi4oioXCIsdGl0bGU6ZShcImhmXCIpfSx7Y2hhcmFjdGVyOlwiwqxcIix0aXRsZTplKFwiaGdcIil9LHtjaGFyYWN0ZXI6XCLiiKlcIix0aXRsZTplKFwiaGhcIil9LHtjaGFyYWN0ZXI6XCLiiKpcIix0aXRsZTplKFwiaGlcIil9LHtjaGFyYWN0ZXI6XCLiiIJcIix0aXRsZTplKFwiaGpcIil9LHtjaGFyYWN0ZXI6XCLiiIBcIix0aXRsZTplKFwiaGtcIil9LHtjaGFyYWN0ZXI6XCLiiINcIix0aXRsZTplKFwiaGxcIil9LHtjaGFyYWN0ZXI6XCLiiIVcIix0aXRsZTplKFwiaG1cIil9LHtjaGFyYWN0ZXI6XCLiiIdcIix0aXRsZTplKFwiaG5cIil9LHtjaGFyYWN0ZXI6XCLiiJdcIix0aXRsZTplKFwiaG9cIil9LHtjaGFyYWN0ZXI6XCLiiJ1cIix0aXRsZTplKFwiaHBcIil9LHtjaGFyYWN0ZXI6XCLiiKBcIix0aXRsZTplKFwiaHFcIil9LHtjaGFyYWN0ZXI6XCLCvFwiLHRpdGxlOmUoXCJoclwiKX0se2NoYXJhY3RlcjpcIsK9XCIsdGl0bGU6ZShcImhzXCIpfSx7Y2hhcmFjdGVyOlwiwr5cIix0aXRsZTplKFwiaHRcIil9XSl9fWNsYXNzIHZQIGV4dGVuZHMgbXB7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LnQ7dC5wbHVnaW5zLmdldChcIlNwZWNpYWxDaGFyYWN0ZXJzXCIpLmFkZEl0ZW1zKFwiQXJyb3dzXCIsW3t0aXRsZTplKFwiY1wiKSxjaGFyYWN0ZXI6XCLih5BcIn0se3RpdGxlOmUoXCJkXCIpLGNoYXJhY3RlcjpcIuKHklwifSx7dGl0bGU6ZShcImVcIiksY2hhcmFjdGVyOlwi4oeRXCJ9LHt0aXRsZTplKFwiZlwiKSxjaGFyYWN0ZXI6XCLih5NcIn0se3RpdGxlOmUoXCJnXCIpLGNoYXJhY3RlcjpcIuKHoFwifSx7dGl0bGU6ZShcImhcIiksY2hhcmFjdGVyOlwi4oeiXCJ9LHt0aXRsZTplKFwiaVwiKSxjaGFyYWN0ZXI6XCLih6FcIn0se3RpdGxlOmUoXCJqXCIpLGNoYXJhY3RlcjpcIuKHo1wifSx7dGl0bGU6ZShcImtcIiksY2hhcmFjdGVyOlwi4oekXCJ9LHt0aXRsZTplKFwibFwiKSxjaGFyYWN0ZXI6XCLih6VcIn0se3RpdGxlOmUoXCJtXCIpLGNoYXJhY3RlcjpcIuKkklwifSx7dGl0bGU6ZShcIm5cIiksY2hhcmFjdGVyOlwi4qSTXCJ9LHt0aXRsZTplKFwib1wiKSxjaGFyYWN0ZXI6XCLihqhcIn0se3RpdGxlOmUoXCJwXCIpLGNoYXJhY3RlcjpcIvCflJlcIn0se3RpdGxlOmUoXCJxXCIpLGNoYXJhY3RlcjpcIvCflJpcIn0se3RpdGxlOmUoXCJyXCIpLGNoYXJhY3RlcjpcIvCflJtcIn0se3RpdGxlOmUoXCJzXCIpLGNoYXJhY3RlcjpcIvCflJxcIn0se3RpdGxlOmUoXCJ0XCIpLGNoYXJhY3RlcjpcIvCflJ1cIn1dKX19Y2xhc3MgeVAgZXh0ZW5kcyBtcHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQudDt0LnBsdWdpbnMuZ2V0KFwiU3BlY2lhbENoYXJhY3RlcnNcIikuYWRkSXRlbXMoXCJMYXRpblwiLFt7Y2hhcmFjdGVyOlwixIBcIix0aXRsZTplKFwiYmVcIil9LHtjaGFyYWN0ZXI6XCLEgVwiLHRpdGxlOmUoXCJiZlwiKX0se2NoYXJhY3RlcjpcIsSCXCIsdGl0bGU6ZShcImJnXCIpfSx7Y2hhcmFjdGVyOlwixINcIix0aXRsZTplKFwiYmhcIil9LHtjaGFyYWN0ZXI6XCLEhFwiLHRpdGxlOmUoXCJiaVwiKX0se2NoYXJhY3RlcjpcIsSFXCIsdGl0bGU6ZShcImJqXCIpfSx7Y2hhcmFjdGVyOlwixIZcIix0aXRsZTplKFwiYmtcIil9LHtjaGFyYWN0ZXI6XCLEh1wiLHRpdGxlOmUoXCJibFwiKX0se2NoYXJhY3RlcjpcIsSIXCIsdGl0bGU6ZShcImJtXCIpfSx7Y2hhcmFjdGVyOlwixIlcIix0aXRsZTplKFwiYm5cIil9LHtjaGFyYWN0ZXI6XCLEilwiLHRpdGxlOmUoXCJib1wiKX0se2NoYXJhY3RlcjpcIsSLXCIsdGl0bGU6ZShcImJwXCIpfSx7Y2hhcmFjdGVyOlwixIxcIix0aXRsZTplKFwiYnFcIil9LHtjaGFyYWN0ZXI6XCLEjVwiLHRpdGxlOmUoXCJiclwiKX0se2NoYXJhY3RlcjpcIsSOXCIsdGl0bGU6ZShcImJzXCIpfSx7Y2hhcmFjdGVyOlwixI9cIix0aXRsZTplKFwiYnRcIil9LHtjaGFyYWN0ZXI6XCLEkFwiLHRpdGxlOmUoXCJidVwiKX0se2NoYXJhY3RlcjpcIsSRXCIsdGl0bGU6ZShcImJ2XCIpfSx7Y2hhcmFjdGVyOlwixJJcIix0aXRsZTplKFwiYndcIil9LHtjaGFyYWN0ZXI6XCLEk1wiLHRpdGxlOmUoXCJieFwiKX0se2NoYXJhY3RlcjpcIsSUXCIsdGl0bGU6ZShcImJ5XCIpfSx7Y2hhcmFjdGVyOlwixJVcIix0aXRsZTplKFwiYnpcIil9LHtjaGFyYWN0ZXI6XCLEllwiLHRpdGxlOmUoXCJjYVwiKX0se2NoYXJhY3RlcjpcIsSXXCIsdGl0bGU6ZShcImNiXCIpfSx7Y2hhcmFjdGVyOlwixJhcIix0aXRsZTplKFwiY2NcIil9LHtjaGFyYWN0ZXI6XCLEmVwiLHRpdGxlOmUoXCJjZFwiKX0se2NoYXJhY3RlcjpcIsSaXCIsdGl0bGU6ZShcImNlXCIpfSx7Y2hhcmFjdGVyOlwixJtcIix0aXRsZTplKFwiY2ZcIil9LHtjaGFyYWN0ZXI6XCLEnFwiLHRpdGxlOmUoXCJjZ1wiKX0se2NoYXJhY3RlcjpcIsSdXCIsdGl0bGU6ZShcImNoXCIpfSx7Y2hhcmFjdGVyOlwixJ5cIix0aXRsZTplKFwiY2lcIil9LHtjaGFyYWN0ZXI6XCLEn1wiLHRpdGxlOmUoXCJjalwiKX0se2NoYXJhY3RlcjpcIsSgXCIsdGl0bGU6ZShcImNrXCIpfSx7Y2hhcmFjdGVyOlwixKFcIix0aXRsZTplKFwiY2xcIil9LHtjaGFyYWN0ZXI6XCLEolwiLHRpdGxlOmUoXCJjbVwiKX0se2NoYXJhY3RlcjpcIsSjXCIsdGl0bGU6ZShcImNuXCIpfSx7Y2hhcmFjdGVyOlwixKRcIix0aXRsZTplKFwiY29cIil9LHtjaGFyYWN0ZXI6XCLEpVwiLHRpdGxlOmUoXCJjcFwiKX0se2NoYXJhY3RlcjpcIsSmXCIsdGl0bGU6ZShcImNxXCIpfSx7Y2hhcmFjdGVyOlwixKdcIix0aXRsZTplKFwiY3JcIil9LHtjaGFyYWN0ZXI6XCLEqFwiLHRpdGxlOmUoXCJjc1wiKX0se2NoYXJhY3RlcjpcIsSpXCIsdGl0bGU6ZShcImN0XCIpfSx7Y2hhcmFjdGVyOlwixKpcIix0aXRsZTplKFwiY3VcIil9LHtjaGFyYWN0ZXI6XCLEq1wiLHRpdGxlOmUoXCJjdlwiKX0se2NoYXJhY3RlcjpcIsSsXCIsdGl0bGU6ZShcImN3XCIpfSx7Y2hhcmFjdGVyOlwixK1cIix0aXRsZTplKFwiY3hcIil9LHtjaGFyYWN0ZXI6XCLErlwiLHRpdGxlOmUoXCJjeVwiKX0se2NoYXJhY3RlcjpcIsSvXCIsdGl0bGU6ZShcImN6XCIpfSx7Y2hhcmFjdGVyOlwixLBcIix0aXRsZTplKFwiZGFcIil9LHtjaGFyYWN0ZXI6XCLEsVwiLHRpdGxlOmUoXCJkYlwiKX0se2NoYXJhY3RlcjpcIsSyXCIsdGl0bGU6ZShcImRjXCIpfSx7Y2hhcmFjdGVyOlwixLNcIix0aXRsZTplKFwiZGRcIil9LHtjaGFyYWN0ZXI6XCLEtFwiLHRpdGxlOmUoXCJkZVwiKX0se2NoYXJhY3RlcjpcIsS1XCIsdGl0bGU6ZShcImRmXCIpfSx7Y2hhcmFjdGVyOlwixLZcIix0aXRsZTplKFwiZGdcIil9LHtjaGFyYWN0ZXI6XCLEt1wiLHRpdGxlOmUoXCJkaFwiKX0se2NoYXJhY3RlcjpcIsS4XCIsdGl0bGU6ZShcImRpXCIpfSx7Y2hhcmFjdGVyOlwixLlcIix0aXRsZTplKFwiZGpcIil9LHtjaGFyYWN0ZXI6XCLEulwiLHRpdGxlOmUoXCJka1wiKX0se2NoYXJhY3RlcjpcIsS7XCIsdGl0bGU6ZShcImRsXCIpfSx7Y2hhcmFjdGVyOlwixLxcIix0aXRsZTplKFwiZG1cIil9LHtjaGFyYWN0ZXI6XCLEvVwiLHRpdGxlOmUoXCJkblwiKX0se2NoYXJhY3RlcjpcIsS+XCIsdGl0bGU6ZShcImRvXCIpfSx7Y2hhcmFjdGVyOlwixL9cIix0aXRsZTplKFwiZHBcIil9LHtjaGFyYWN0ZXI6XCLFgFwiLHRpdGxlOmUoXCJkcVwiKX0se2NoYXJhY3RlcjpcIsWBXCIsdGl0bGU6ZShcImRyXCIpfSx7Y2hhcmFjdGVyOlwixYJcIix0aXRsZTplKFwiZHNcIil9LHtjaGFyYWN0ZXI6XCLFg1wiLHRpdGxlOmUoXCJkdFwiKX0se2NoYXJhY3RlcjpcIsWEXCIsdGl0bGU6ZShcImR1XCIpfSx7Y2hhcmFjdGVyOlwixYVcIix0aXRsZTplKFwiZHZcIil9LHtjaGFyYWN0ZXI6XCLFhlwiLHRpdGxlOmUoXCJkd1wiKX0se2NoYXJhY3RlcjpcIsWHXCIsdGl0bGU6ZShcImR4XCIpfSx7Y2hhcmFjdGVyOlwixYhcIix0aXRsZTplKFwiZHlcIil9LHtjaGFyYWN0ZXI6XCLFiVwiLHRpdGxlOmUoXCJkelwiKX0se2NoYXJhY3RlcjpcIsWKXCIsdGl0bGU6ZShcImVhXCIpfSx7Y2hhcmFjdGVyOlwixYtcIix0aXRsZTplKFwiZWJcIil9LHtjaGFyYWN0ZXI6XCLFjFwiLHRpdGxlOmUoXCJlY1wiKX0se2NoYXJhY3RlcjpcIsWNXCIsdGl0bGU6ZShcImVkXCIpfSx7Y2hhcmFjdGVyOlwixY5cIix0aXRsZTplKFwiZWVcIil9LHtjaGFyYWN0ZXI6XCLFj1wiLHRpdGxlOmUoXCJlZlwiKX0se2NoYXJhY3RlcjpcIsWQXCIsdGl0bGU6ZShcImVnXCIpfSx7Y2hhcmFjdGVyOlwixZFcIix0aXRsZTplKFwiZWhcIil9LHtjaGFyYWN0ZXI6XCLFklwiLHRpdGxlOmUoXCJlaVwiKX0se2NoYXJhY3RlcjpcIsWTXCIsdGl0bGU6ZShcImVqXCIpfSx7Y2hhcmFjdGVyOlwixZRcIix0aXRsZTplKFwiZWtcIil9LHtjaGFyYWN0ZXI6XCLFlVwiLHRpdGxlOmUoXCJlbFwiKX0se2NoYXJhY3RlcjpcIsWWXCIsdGl0bGU6ZShcImVtXCIpfSx7Y2hhcmFjdGVyOlwixZdcIix0aXRsZTplKFwiZW5cIil9LHtjaGFyYWN0ZXI6XCLFmFwiLHRpdGxlOmUoXCJlb1wiKX0se2NoYXJhY3RlcjpcIsWZXCIsdGl0bGU6ZShcImVwXCIpfSx7Y2hhcmFjdGVyOlwixZpcIix0aXRsZTplKFwiZXFcIil9LHtjaGFyYWN0ZXI6XCLFm1wiLHRpdGxlOmUoXCJlclwiKX0se2NoYXJhY3RlcjpcIsWcXCIsdGl0bGU6ZShcImVzXCIpfSx7Y2hhcmFjdGVyOlwixZ1cIix0aXRsZTplKFwiZXRcIil9LHtjaGFyYWN0ZXI6XCLFnlwiLHRpdGxlOmUoXCJldVwiKX0se2NoYXJhY3RlcjpcIsWfXCIsdGl0bGU6ZShcImV2XCIpfSx7Y2hhcmFjdGVyOlwixaBcIix0aXRsZTplKFwiZXdcIil9LHtjaGFyYWN0ZXI6XCLFoVwiLHRpdGxlOmUoXCJleFwiKX0se2NoYXJhY3RlcjpcIsWiXCIsdGl0bGU6ZShcImV5XCIpfSx7Y2hhcmFjdGVyOlwixaNcIix0aXRsZTplKFwiZXpcIil9LHtjaGFyYWN0ZXI6XCLFpFwiLHRpdGxlOmUoXCJmYVwiKX0se2NoYXJhY3RlcjpcIsWlXCIsdGl0bGU6ZShcImZiXCIpfSx7Y2hhcmFjdGVyOlwixaZcIix0aXRsZTplKFwiZmNcIil9LHtjaGFyYWN0ZXI6XCLFp1wiLHRpdGxlOmUoXCJmZFwiKX0se2NoYXJhY3RlcjpcIsWoXCIsdGl0bGU6ZShcImZlXCIpfSx7Y2hhcmFjdGVyOlwixalcIix0aXRsZTplKFwiZmZcIil9LHtjaGFyYWN0ZXI6XCLFqlwiLHRpdGxlOmUoXCJmZ1wiKX0se2NoYXJhY3RlcjpcIsWrXCIsdGl0bGU6ZShcImZoXCIpfSx7Y2hhcmFjdGVyOlwixaxcIix0aXRsZTplKFwiZmlcIil9LHtjaGFyYWN0ZXI6XCLFrVwiLHRpdGxlOmUoXCJmalwiKX0se2NoYXJhY3RlcjpcIsWuXCIsdGl0bGU6ZShcImZrXCIpfSx7Y2hhcmFjdGVyOlwixa9cIix0aXRsZTplKFwiZmxcIil9LHtjaGFyYWN0ZXI6XCLFsFwiLHRpdGxlOmUoXCJmbVwiKX0se2NoYXJhY3RlcjpcIsWxXCIsdGl0bGU6ZShcImZuXCIpfSx7Y2hhcmFjdGVyOlwixbJcIix0aXRsZTplKFwiZm9cIil9LHtjaGFyYWN0ZXI6XCLFs1wiLHRpdGxlOmUoXCJmcFwiKX0se2NoYXJhY3RlcjpcIsW0XCIsdGl0bGU6ZShcImZxXCIpfSx7Y2hhcmFjdGVyOlwixbVcIix0aXRsZTplKFwiZnJcIil9LHtjaGFyYWN0ZXI6XCLFtlwiLHRpdGxlOmUoXCJmc1wiKX0se2NoYXJhY3RlcjpcIsW3XCIsdGl0bGU6ZShcImZ0XCIpfSx7Y2hhcmFjdGVyOlwixbhcIix0aXRsZTplKFwiZnVcIil9LHtjaGFyYWN0ZXI6XCLFuVwiLHRpdGxlOmUoXCJmdlwiKX0se2NoYXJhY3RlcjpcIsW6XCIsdGl0bGU6ZShcImZ3XCIpfSx7Y2hhcmFjdGVyOlwixbtcIix0aXRsZTplKFwiZnhcIil9LHtjaGFyYWN0ZXI6XCLFvFwiLHRpdGxlOmUoXCJmeVwiKX0se2NoYXJhY3RlcjpcIsW9XCIsdGl0bGU6ZShcImZ6XCIpfSx7Y2hhcmFjdGVyOlwixb5cIix0aXRsZTplKFwiZ2FcIil9LHtjaGFyYWN0ZXI6XCLFv1wiLHRpdGxlOmUoXCJnYlwiKX1dKX19Y2xhc3MgeFAgZXh0ZW5kcyBtcHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQudDt0LnBsdWdpbnMuZ2V0KFwiU3BlY2lhbENoYXJhY3RlcnNcIikuYWRkSXRlbXMoXCJUZXh0XCIsW3tjaGFyYWN0ZXI6XCLigLlcIix0aXRsZTplKFwiaHVcIil9LHtjaGFyYWN0ZXI6XCLigLpcIix0aXRsZTplKFwiaHZcIil9LHtjaGFyYWN0ZXI6XCLCq1wiLHRpdGxlOmUoXCJod1wiKX0se2NoYXJhY3RlcjpcIsK7XCIsdGl0bGU6ZShcImh4XCIpfSx7Y2hhcmFjdGVyOlwi4oCYXCIsdGl0bGU6ZShcImh5XCIpfSx7Y2hhcmFjdGVyOlwi4oCZXCIsdGl0bGU6ZShcImh6XCIpfSx7Y2hhcmFjdGVyOlwi4oCcXCIsdGl0bGU6ZShcImlhXCIpfSx7Y2hhcmFjdGVyOlwi4oCdXCIsdGl0bGU6ZShcImliXCIpfSx7Y2hhcmFjdGVyOlwi4oCaXCIsdGl0bGU6ZShcImljXCIpfSx7Y2hhcmFjdGVyOlwi4oCeXCIsdGl0bGU6ZShcImlkXCIpfSx7Y2hhcmFjdGVyOlwiwqFcIix0aXRsZTplKFwiaWVcIil9LHtjaGFyYWN0ZXI6XCLCv1wiLHRpdGxlOmUoXCJpZlwiKX0se2NoYXJhY3RlcjpcIuKApVwiLHRpdGxlOmUoXCJpZ1wiKX0se2NoYXJhY3RlcjpcIuKAplwiLHRpdGxlOmUoXCJpaFwiKX0se2NoYXJhY3RlcjpcIuKAoVwiLHRpdGxlOmUoXCJpaVwiKX0se2NoYXJhY3RlcjpcIuKAsFwiLHRpdGxlOmUoXCJpalwiKX0se2NoYXJhY3RlcjpcIuKAsVwiLHRpdGxlOmUoXCJpa1wiKX0se2NoYXJhY3RlcjpcIuKAvFwiLHRpdGxlOmUoXCJpbFwiKX0se2NoYXJhY3RlcjpcIuKBiFwiLHRpdGxlOmUoXCJpbVwiKX0se2NoYXJhY3RlcjpcIuKBiVwiLHRpdGxlOmUoXCJpblwiKX0se2NoYXJhY3RlcjpcIuKBh1wiLHRpdGxlOmUoXCJpb1wiKX0se2NoYXJhY3RlcjpcIsKpXCIsdGl0bGU6ZShcImlwXCIpfSx7Y2hhcmFjdGVyOlwiwq5cIix0aXRsZTplKFwiaXFcIil9LHtjaGFyYWN0ZXI6XCLihKJcIix0aXRsZTplKFwiaXJcIil9LHtjaGFyYWN0ZXI6XCLCp1wiLHRpdGxlOmUoXCJpc1wiKX0se2NoYXJhY3RlcjpcIsK2XCIsdGl0bGU6ZShcIml0XCIpfSx7Y2hhcmFjdGVyOlwi4oGLXCIsdGl0bGU6ZShcIml1XCIpfV0pfX1jbGFzcyBDUCBleHRlbmRzIG1we3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5ba1AseFAsX1AsdlAseVBdfX1jb25zdCBBUD1cInN0cmlrZXRocm91Z2hcIjtjbGFzcyBUUCBleHRlbmRzIG1we3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiU3RyaWtldGhyb3VnaEVkaXRpbmdcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjt0Lm1vZGVsLnNjaGVtYS5leHRlbmQoXCIkdGV4dFwiLHthbGxvd0F0dHJpYnV0ZXM6QVB9KTt0Lm1vZGVsLnNjaGVtYS5zZXRBdHRyaWJ1dGVQcm9wZXJ0aWVzKEFQLHtpc0Zvcm1hdHRpbmc6dHJ1ZSxjb3B5T25FbnRlcjp0cnVlfSk7dC5jb252ZXJzaW9uLmF0dHJpYnV0ZVRvRWxlbWVudCh7bW9kZWw6QVAsdmlldzpcInNcIix1cGNhc3RBbHNvOltcImRlbFwiLFwic3RyaWtlXCIse3N0eWxlczp7XCJ0ZXh0LWRlY29yYXRpb25cIjpcImxpbmUtdGhyb3VnaFwifX1dfSk7dC5jb21tYW5kcy5hZGQoQVAsbmV3IHlrKHQsQVApKTt0LmtleXN0cm9rZXMuc2V0KFwiQ1RSTCtTSElGVCtYXCIsXCJzdHJpa2V0aHJvdWdoXCIpfX12YXIgUFA9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTcgMTYuNGMtLjgtLjQtMS41LS45LTIuMi0xLjVhLjYuNiAwIDAgMS0uMi0uNWwuMy0uNmgxYzEgMS4yIDIuMSAxLjcgMy43IDEuNyAxIDAgMS44LS4zIDIuMy0uNi42LS40LjYtMS4yLjYtMS4zLjItMS4yLS45LTIuMS0uOS0yLjFoMi4xYy4zLjcuNCAxLjIuNCAxLjd2LjhsLS42IDEuMmMtLjYuOC0xLjEgMS0xLjYgMS4yYTYgNiAwIDAgMS0yLjQuNmMtMSAwLTEuOC0uMy0yLjUtLjZ6TTYuOCA5TDYgOC4zYy0uNC0uNS0uNS0uOC0uNS0xLjYgMC0uNy4xLTEuMy41LTEuOC40LS42IDEtMSAxLjYtMS4zYTYuMyA2LjMgMCAwIDEgNC43IDAgNCA0IDAgMCAxIDEuNyAxbC4zLjdjMCAuMS4yLjQtLjIuNy0uNC4yLS45LjEtMSAwYTMgMyAwIDAgMC0xLjItMWMtLjQtLjItMS0uMy0yLS40LS43IDAtMS40LjItMiAuNi0uOC42LTEgLjgtMSAxLjUgMCAuOC41IDEgMS4yIDEuNS42LjQgMS4xLjcgMS45IDFINi44elwiLz48cGF0aCBkPVwiTTMgMTAuNVY5aDE0djEuNXpcIi8+PC9zdmc+Jztjb25zdCBTUD1cInN0cmlrZXRocm91Z2hcIjtjbGFzcyBFUCBleHRlbmRzIG1we2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC50O3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoU1AsaT0+e2NvbnN0IG49dC5jb21tYW5kcy5nZXQoU1ApO2NvbnN0IG89bmV3IGhiKGkpO28uc2V0KHtsYWJlbDplKFwiamtcIiksaWNvbjpQUCxrZXlzdHJva2U6XCJDVFJMK1NISUZUK1hcIix0b29sdGlwOnRydWUsaXNUb2dnbGVhYmxlOnRydWV9KTtvLmJpbmQoXCJpc09uXCIsXCJpc0VuYWJsZWRcIikudG8obixcInZhbHVlXCIsXCJpc0VuYWJsZWRcIik7dGhpcy5saXN0ZW5UbyhvLFwiZXhlY3V0ZVwiLCgpPT57dC5leGVjdXRlKFNQKTt0LmVkaXRpbmcudmlldy5mb2N1cygpfSk7cmV0dXJuIG99KX19Y2xhc3MgUlAgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW1RQLEVQXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlN0cmlrZXRocm91Z2hcIn19Y29uc3QgT1A9XCJzdWJzY3JpcHRcIjtjbGFzcyBJUCBleHRlbmRzIG1we3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiU3Vic2NyaXB0RWRpdGluZ1wifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO3QubW9kZWwuc2NoZW1hLmV4dGVuZChcIiR0ZXh0XCIse2FsbG93QXR0cmlidXRlczpPUH0pO3QubW9kZWwuc2NoZW1hLnNldEF0dHJpYnV0ZVByb3BlcnRpZXMoT1Ase2lzRm9ybWF0dGluZzp0cnVlLGNvcHlPbkVudGVyOnRydWV9KTt0LmNvbnZlcnNpb24uYXR0cmlidXRlVG9FbGVtZW50KHttb2RlbDpPUCx2aWV3Olwic3ViXCIsdXBjYXN0QWxzbzpbe3N0eWxlczp7XCJ2ZXJ0aWNhbC1hbGlnblwiOlwic3ViXCJ9fV19KTt0LmNvbW1hbmRzLmFkZChPUCxuZXcgeWsodCxPUCkpfX12YXIgVlA9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTcuMDMgMTAuMzQ5bDMuODE4LTMuODE5YS44LjggMCAxIDEgMS4xMzIgMS4xMzJMOC4xNiAxMS40OGwzLjgxOSAzLjgxOGEuOC44IDAgMSAxLTEuMTMyIDEuMTMyTDcuMDMgMTIuNjFsLTMuODE4IDMuODJhLjguOCAwIDEgMS0xLjEzMi0xLjEzMkw1LjkgMTEuNDggMi4wOCA3LjY2MkEuOC44IDAgMSAxIDMuMjEyIDYuNTNsMy44MTggMy44MnptOC4xNDcgNy44MjloMi41NDljLjI1NCAwIC40NDcuMDUuNTguMTUyYS40OS40OSAwIDAgMSAuMjAxLjQxMy41NC41NCAwIDAgMS0uMTU5LjM5M2MtLjEwNS4xMDgtLjI2Ni4xNjItLjQ4LjE2MmgtMy41OTRjLS4yNDUgMC0uNDM1LS4wNjYtLjU3Mi0uMTk3YS42MjEuNjIxIDAgMCAxLS4yMDUtLjQ2M2MwLS4xMTQuMDQ0LS4yNjUuMTMyLS40NTNhMS42MiAxLjYyIDAgMCAxIC4yODgtLjQ0NGMuNDMzLS40MzYuODI0LS44MSAxLjE3Mi0xLjEyMi4zNDgtLjMxMi41OTctLjUxNy43NDctLjYxNS4yNjctLjE4My40OS0uMzY4LjY2Ny0uNTUzLjE3Ny0uMTg1LjMxMi0uMzc1LjQwNS0uNTcuMDkzLS4xOTQuMTM5LS4zODQuMTM5LS41N2ExLjAwOCAxLjAwOCAwIDAgMC0uNTU0LS45MTcgMS4xOTcgMS4xOTcgMCAwIDAtLjU2LS4xMzNjLS40MjYgMC0uNzYxLjE4Mi0xLjAwNS41NDZhMi4zMzIgMi4zMzIgMCAwIDAtLjE2NC4zOSAxLjYwOSAxLjYwOSAwIDAgMS0uMjU4LjQ4OGMtLjA5Ni4xMTQtLjIzNy4xNy0uNDIzLjE3YS41NTguNTU4IDAgMCAxLS40MDUtLjE1Ni41NjguNTY4IDAgMCAxLS4xNjEtLjQyN2MwLS4yMTguMDUtLjQ0Ni4xNTEtLjY4My4xMDEtLjIzOC4yNTItLjQ1My40NTItLjY0NnMuNDU0LS4zNDkuNzYyLS40NjdhMi45OTggMi45OTggMCAwIDEgMS4wODEtLjE3OGMuNDk4IDAgLjkyMy4wNzYgMS4yNzQuMjI4YTEuOTE2IDEuOTE2IDAgMCAxIDEuMDA0IDEuMDMyIDEuOTg0IDEuOTg0IDAgMCAxLS4xNTYgMS43OTRjLS4yLjMyLS40MDUuNTcyLS42MTMuNzU0LS4yMDguMTgyLS41NTguNDY4LTEuMDQ4Ljg1Ny0uNDkuMzktLjgyNi42OTEtMS4wMDguOTA2YTIuNzAzIDIuNzAzIDAgMCAwLS4yNC4zMDl6XCIvPjwvc3ZnPic7Y29uc3QgTlA9XCJzdWJzY3JpcHRcIjtjbGFzcyBNUCBleHRlbmRzIG1we2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC50O3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoTlAsaT0+e2NvbnN0IG49dC5jb21tYW5kcy5nZXQoTlApO2NvbnN0IG89bmV3IGhiKGkpO28uc2V0KHtsYWJlbDplKFwiamxcIiksaWNvbjpWUCx0b29sdGlwOnRydWUsaXNUb2dnbGVhYmxlOnRydWV9KTtvLmJpbmQoXCJpc09uXCIsXCJpc0VuYWJsZWRcIikudG8obixcInZhbHVlXCIsXCJpc0VuYWJsZWRcIik7dGhpcy5saXN0ZW5UbyhvLFwiZXhlY3V0ZVwiLCgpPT57dC5leGVjdXRlKE5QKTt0LmVkaXRpbmcudmlldy5mb2N1cygpfSk7cmV0dXJuIG99KX19Y2xhc3MgQlAgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW0lQLE1QXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlN1YnNjcmlwdFwifX1jb25zdCB6UD1cInN1cGVyc2NyaXB0XCI7Y2xhc3MgTFAgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlN1cGVyc2NyaXB0RWRpdGluZ1wifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO3QubW9kZWwuc2NoZW1hLmV4dGVuZChcIiR0ZXh0XCIse2FsbG93QXR0cmlidXRlczp6UH0pO3QubW9kZWwuc2NoZW1hLnNldEF0dHJpYnV0ZVByb3BlcnRpZXMoelAse2lzRm9ybWF0dGluZzp0cnVlLGNvcHlPbkVudGVyOnRydWV9KTt0LmNvbnZlcnNpb24uYXR0cmlidXRlVG9FbGVtZW50KHttb2RlbDp6UCx2aWV3Olwic3VwXCIsdXBjYXN0QWxzbzpbe3N0eWxlczp7XCJ2ZXJ0aWNhbC1hbGlnblwiOlwic3VwZXJcIn19XX0pO3QuY29tbWFuZHMuYWRkKHpQLG5ldyB5ayh0LHpQKSl9fXZhciBGUD0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTUuNjc3IDguNjc4aDIuNTQ5Yy4yNTQgMCAuNDQ3LjA1LjU4LjE1MmEuNDkuNDkgMCAwIDEgLjIwMS40MTMuNTQuNTQgMCAwIDEtLjE1OS4zOTNjLS4xMDUuMTA4LS4yNjYuMTYyLS40OC4xNjJoLTMuNTk0Yy0uMjQ1IDAtLjQzNS0uMDY2LS41NzItLjE5N2EuNjIxLjYyMSAwIDAgMS0uMjA1LS40NjNjMC0uMTE0LjA0NC0uMjY1LjEzMi0uNDUzYTEuNjIgMS42MiAwIDAgMSAuMjg4LS40NDRjLjQzMy0uNDM2LjgyNC0uODEgMS4xNzItMS4xMjIuMzQ4LS4zMTIuNTk3LS41MTcuNzQ3LS42MTUuMjY3LS4xODMuNDktLjM2OC42NjctLjU1My4xNzctLjE4NS4zMTItLjM3NS40MDUtLjU3LjA5My0uMTk0LjEzOS0uMzg0LjEzOS0uNTdhMS4wMDggMS4wMDggMCAwIDAtLjU1NC0uOTE3IDEuMTk3IDEuMTk3IDAgMCAwLS41Ni0uMTMzYy0uNDI2IDAtLjc2MS4xODItMS4wMDUuNTQ2YTIuMzMyIDIuMzMyIDAgMCAwLS4xNjQuMzkgMS42MDkgMS42MDkgMCAwIDEtLjI1OC40ODhjLS4wOTYuMTE0LS4yMzcuMTctLjQyMy4xN2EuNTU4LjU1OCAwIDAgMS0uNDA1LS4xNTYuNTY4LjU2OCAwIDAgMS0uMTYxLS40MjdjMC0uMjE4LjA1LS40NDYuMTUxLS42ODMuMTAxLS4yMzguMjUyLS40NTMuNDUyLS42NDZzLjQ1NC0uMzQ5Ljc2Mi0uNDY3YTIuOTk4IDIuOTk4IDAgMCAxIDEuMDgxLS4xNzhjLjQ5OCAwIC45MjMuMDc2IDEuMjc0LjIyOGExLjkxNiAxLjkxNiAwIDAgMSAxLjAwNCAxLjAzMiAxLjk4NCAxLjk4NCAwIDAgMS0uMTU2IDEuNzk0Yy0uMi4zMi0uNDA1LjU3Mi0uNjEzLjc1NC0uMjA4LjE4Mi0uNTU4LjQ2OC0xLjA0OC44NTctLjQ5LjM5LS44MjYuNjkxLTEuMDA4LjkwNmEyLjcwMyAyLjcwMyAwIDAgMC0uMjQuMzA5ek03LjAzIDEwLjM0OWwzLjgxOC0zLjgxOWEuOC44IDAgMSAxIDEuMTMyIDEuMTMyTDguMTYgMTEuNDhsMy44MTkgMy44MThhLjguOCAwIDEgMS0xLjEzMiAxLjEzMkw3LjAzIDEyLjYxbC0zLjgxOCAzLjgyYS44LjggMCAxIDEtMS4xMzItMS4xMzJMNS45IDExLjQ4IDIuMDggNy42NjJBLjguOCAwIDEgMSAzLjIxMiA2LjUzbDMuODE4IDMuODJ6XCIvPjwvc3ZnPic7Y29uc3QgRFA9XCJzdXBlcnNjcmlwdFwiO2NsYXNzIGpQIGV4dGVuZHMgbXB7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LnQ7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChEUCxpPT57Y29uc3Qgbj10LmNvbW1hbmRzLmdldChEUCk7Y29uc3Qgbz1uZXcgaGIoaSk7by5zZXQoe2xhYmVsOmUoXCJqbVwiKSxpY29uOkZQLHRvb2x0aXA6dHJ1ZSxpc1RvZ2dsZWFibGU6dHJ1ZX0pO28uYmluZChcImlzT25cIixcImlzRW5hYmxlZFwiKS50byhuLFwidmFsdWVcIixcImlzRW5hYmxlZFwiKTt0aGlzLmxpc3RlblRvKG8sXCJleGVjdXRlXCIsKCk9Pnt0LmV4ZWN1dGUoRFApO3QuZWRpdGluZy52aWV3LmZvY3VzKCl9KTtyZXR1cm4gb30pfX1jbGFzcyBIUCBleHRlbmRzIG1we3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bTFAsalBdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiU3VwZXJzY3JpcHRcIn19ZnVuY3Rpb24gV1AodCxlKXtsZXQgaT1lLnBhcmVudDt3aGlsZShpKXtpZihpLm5hbWU9PT10KXtyZXR1cm4gaX1pPWkucGFyZW50fX1mdW5jdGlvbiBxUCh0LGUsaSxuLG89MSl7aWYoZT5vKXtuLnNldEF0dHJpYnV0ZSh0LGUsaSl9ZWxzZXtuLnJlbW92ZUF0dHJpYnV0ZSh0LGkpfX1mdW5jdGlvbiBVUCh0LGUsaT17fSl7Y29uc3Qgbj10LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZUNlbGxcIixpKTt0Lmluc2VydEVsZW1lbnQoXCJwYXJhZ3JhcGhcIixuKTt0Lmluc2VydChuLGUpfWZ1bmN0aW9uICRQKHQpe2lmKCF0fHwhY3QodCkpe3JldHVybiB0fWNvbnN0e3RvcDplLHJpZ2h0OmksYm90dG9tOm4sbGVmdDpvfT10O2lmKGU9PWkmJmk9PW4mJm49PW8pe3JldHVybiBlfX1mdW5jdGlvbiBHUCh0LGUpe2NvbnN0IGk9cGFyc2VGbG9hdCh0KTtpZihOdW1iZXIuaXNOYU4oaSkpe3JldHVybiB0fWlmKFN0cmluZyhpKSE9PVN0cmluZyh0KSl7cmV0dXJuIHR9cmV0dXJuYCR7aX0ke2V9YH1mdW5jdGlvbiBLUCh0LGUpe2NvbnN0IGk9ZS5wYXJlbnQucGFyZW50O2NvbnN0IG49cGFyc2VJbnQoaS5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nQ29sdW1uc1wiKXx8MCk7Y29uc3R7Y29sdW1uOm99PXQuZ2V0Q2VsbExvY2F0aW9uKGUpO3JldHVybiEhbiYmbzxufWZ1bmN0aW9uIEpQKCl7cmV0dXJuIHQ9Pnt0Lm9uKFwiZWxlbWVudDp0YWJsZVwiLCh0LGUsaSk9Pntjb25zdCBuPWUudmlld0l0ZW07aWYoIWkuY29uc3VtYWJsZS50ZXN0KG4se25hbWU6dHJ1ZX0pKXtyZXR1cm59Y29uc3R7cm93czpvLGhlYWRpbmdSb3dzOnIsaGVhZGluZ0NvbHVtbnM6c309UVAobik7Y29uc3QgYT17fTtpZihzKXthLmhlYWRpbmdDb2x1bW5zPXN9aWYocil7YS5oZWFkaW5nUm93cz1yfWNvbnN0IGM9aS53cml0ZXIuY3JlYXRlRWxlbWVudChcInRhYmxlXCIsYSk7Y29uc3QgbD1pLnNwbGl0VG9BbGxvd2VkUGFyZW50KGMsZS5tb2RlbEN1cnNvcik7aWYoIWwpe3JldHVybn1pLndyaXRlci5pbnNlcnQoYyxsLnBvc2l0aW9uKTtpLmNvbnN1bWFibGUuY29uc3VtZShuLHtuYW1lOnRydWV9KTtpZihvLmxlbmd0aCl7by5mb3JFYWNoKHQ9PmkuY29udmVydEl0ZW0odCxpLndyaXRlci5jcmVhdGVQb3NpdGlvbkF0KGMsXCJlbmRcIikpKX1lbHNle2NvbnN0IHQ9aS53cml0ZXIuY3JlYXRlRWxlbWVudChcInRhYmxlUm93XCIpO2kud3JpdGVyLmluc2VydCh0LGkud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQXQoYyxcImVuZFwiKSk7VVAoaS53cml0ZXIsaS53cml0ZXIuY3JlYXRlUG9zaXRpb25BdCh0LFwiZW5kXCIpKX1lLm1vZGVsUmFuZ2U9aS53cml0ZXIuY3JlYXRlUmFuZ2UoaS53cml0ZXIuY3JlYXRlUG9zaXRpb25CZWZvcmUoYyksaS53cml0ZXIuY3JlYXRlUG9zaXRpb25BZnRlcihjKSk7aWYobC5jdXJzb3JQYXJlbnQpe2UubW9kZWxDdXJzb3I9aS53cml0ZXIuY3JlYXRlUG9zaXRpb25BdChsLmN1cnNvclBhcmVudCwwKX1lbHNle2UubW9kZWxDdXJzb3I9ZS5tb2RlbFJhbmdlLmVuZH19KX19ZnVuY3Rpb24gWVAodCl7cmV0dXJuIGU9PntlLm9uKGBlbGVtZW50OiR7dH1gLCh0LGUsaSk9Pntjb25zdCBuPWUudmlld0l0ZW07aWYoIWkuY29uc3VtYWJsZS50ZXN0KG4se25hbWU6dHJ1ZX0pKXtyZXR1cm59Y29uc3Qgbz1pLndyaXRlci5jcmVhdGVFbGVtZW50KFwidGFibGVDZWxsXCIpO2NvbnN0IHI9aS5zcGxpdFRvQWxsb3dlZFBhcmVudChvLGUubW9kZWxDdXJzb3IpO2lmKCFyKXtyZXR1cm59aS53cml0ZXIuaW5zZXJ0KG8sci5wb3NpdGlvbik7aS5jb25zdW1hYmxlLmNvbnN1bWUobix7bmFtZTp0cnVlfSk7Y29uc3Qgcz1pLndyaXRlci5jcmVhdGVQb3NpdGlvbkF0KG8sMCk7aS5jb252ZXJ0Q2hpbGRyZW4obixzKTtpZighby5jaGlsZENvdW50KXtpLndyaXRlci5pbnNlcnRFbGVtZW50KFwicGFyYWdyYXBoXCIscyl9ZS5tb2RlbFJhbmdlPWkud3JpdGVyLmNyZWF0ZVJhbmdlKGkud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQmVmb3JlKG8pLGkud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIobykpO2UubW9kZWxDdXJzb3I9ZS5tb2RlbFJhbmdlLmVuZH0pfX1mdW5jdGlvbiBRUCh0KXtjb25zdCBlPXtoZWFkaW5nUm93czowLGhlYWRpbmdDb2x1bW5zOjB9O2NvbnN0IGk9W107Y29uc3Qgbj1bXTtsZXQgbztmb3IoY29uc3QgciBvZiBBcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkpe2lmKHIubmFtZT09PVwidGJvZHlcInx8ci5uYW1lPT09XCJ0aGVhZFwifHxyLm5hbWU9PT1cInRmb290XCIpe2lmKHIubmFtZT09PVwidGhlYWRcIiYmIW8pe289cn1jb25zdCB0PUFycmF5LmZyb20oci5nZXRDaGlsZHJlbigpKS5maWx0ZXIodD0+dC5pcyhcImVsZW1lbnRcIixcInRyXCIpKTtmb3IoY29uc3QgciBvZiB0KXtpZihyLnBhcmVudC5uYW1lPT09XCJ0aGVhZFwiJiZyLnBhcmVudD09PW8pe2UuaGVhZGluZ1Jvd3MrKztpLnB1c2gocil9ZWxzZXtuLnB1c2gocik7Y29uc3QgdD1YUChyLGUsbyk7aWYodD5lLmhlYWRpbmdDb2x1bW5zKXtlLmhlYWRpbmdDb2x1bW5zPXR9fX19fWUucm93cz1bLi4uaSwuLi5uXTtyZXR1cm4gZX1mdW5jdGlvbiBYUCh0KXtsZXQgZT0wO2xldCBpPTA7Y29uc3Qgbj1BcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkuZmlsdGVyKHQ9PnQubmFtZT09PVwidGhcInx8dC5uYW1lPT09XCJ0ZFwiKTt3aGlsZShpPG4ubGVuZ3RoJiZuW2ldLm5hbWU9PT1cInRoXCIpe2NvbnN0IHQ9bltpXTtjb25zdCBvPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKXx8MSk7ZT1lK287aSsrfXJldHVybiBlfWNsYXNzIFpQe2NvbnN0cnVjdG9yKHQsZT17fSl7dGhpcy50YWJsZT10O3RoaXMuc3RhcnRSb3c9ZS5zdGFydFJvd3x8MDt0aGlzLmVuZFJvdz10eXBlb2YgZS5lbmRSb3c9PVwibnVtYmVyXCI/ZS5lbmRSb3c6dW5kZWZpbmVkO3RoaXMuaW5jbHVkZVNwYW5uZWQ9ISFlLmluY2x1ZGVTcGFubmVkO3RoaXMuY29sdW1uPXR5cGVvZiBlLmNvbHVtbj09XCJudW1iZXJcIj9lLmNvbHVtbjp1bmRlZmluZWQ7dGhpcy5fc2tpcFJvd3M9bmV3IFNldDt0aGlzLl9yb3c9MDt0aGlzLl9jb2x1bW49MDt0aGlzLl9jZWxsSW5kZXg9MDt0aGlzLl9zcGFubmVkQ2VsbHM9bmV3IE1hcDt0aGlzLl9uZXh0Q2VsbEF0Q29sdW1uPS0xfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9bmV4dCgpe2NvbnN0IHQ9dGhpcy50YWJsZS5nZXRDaGlsZCh0aGlzLl9yb3cpO2lmKCF0fHx0aGlzLl9pc092ZXJFbmRSb3coKSl7cmV0dXJue2RvbmU6dHJ1ZX19bGV0IGUsaSxuO2lmKHRoaXMuX2lzU3Bhbm5lZCh0aGlzLl9yb3csdGhpcy5fY29sdW1uKSl7ZT10aGlzLl9nZXRTcGFubmVkKHRoaXMuX3Jvdyx0aGlzLl9jb2x1bW4pO2k9IXRoaXMuaW5jbHVkZVNwYW5uZWR8fHRoaXMuX3Nob3VsZFNraXBSb3coKXx8dGhpcy5fc2hvdWxkU2tpcENvbHVtbigpO249dGhpcy5fZm9ybWF0T3V0VmFsdWUoZSx0aGlzLl9jb2x1bW4sdHJ1ZSl9ZWxzZXtlPXQuZ2V0Q2hpbGQodGhpcy5fY2VsbEluZGV4KTtpZighZSl7dGhpcy5fcm93Kys7dGhpcy5fY29sdW1uPTA7dGhpcy5fY2VsbEluZGV4PTA7dGhpcy5fbmV4dENlbGxBdENvbHVtbj0tMTtyZXR1cm4gdGhpcy5uZXh0KCl9Y29uc3Qgbz1wYXJzZUludChlLmdldEF0dHJpYnV0ZShcImNvbHNwYW5cIil8fDEpO2NvbnN0IHI9cGFyc2VJbnQoZS5nZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIpfHwxKTtpZihvPjF8fHI+MSl7dGhpcy5fcmVjb3JkU3BhbnModGhpcy5fcm93LHRoaXMuX2NvbHVtbixyLG8sZSl9dGhpcy5fbmV4dENlbGxBdENvbHVtbj10aGlzLl9jb2x1bW4rbztpPXRoaXMuX3Nob3VsZFNraXBSb3coKXx8dGhpcy5fc2hvdWxkU2tpcENvbHVtbigpO249dGhpcy5fZm9ybWF0T3V0VmFsdWUoZSx0aGlzLl9jb2x1bW4sZmFsc2UscixvKX10aGlzLl9jb2x1bW4rKztpZih0aGlzLl9jb2x1bW49PXRoaXMuX25leHRDZWxsQXRDb2x1bW4pe3RoaXMuX2NlbGxJbmRleCsrfXJldHVybiBpP3RoaXMubmV4dCgpOm59c2tpcFJvdyh0KXt0aGlzLl9za2lwUm93cy5hZGQodCl9X2lzT3ZlckVuZFJvdygpe3JldHVybiB0aGlzLmVuZFJvdyE9PXVuZGVmaW5lZCYmdGhpcy5fcm93PnRoaXMuZW5kUm93fV9mb3JtYXRPdXRWYWx1ZSh0LGUsaSxuPTEsbz0xKXtyZXR1cm57ZG9uZTpmYWxzZSx2YWx1ZTp7Y2VsbDp0LHJvdzp0aGlzLl9yb3csY29sdW1uOmUsaXNTcGFubmVkOmkscm93c3BhbjpuLGNvbHNwYW46byxjZWxsSW5kZXg6dGhpcy5fY2VsbEluZGV4fX19X3Nob3VsZFNraXBSb3coKXtjb25zdCB0PXRoaXMuX3Jvdzx0aGlzLnN0YXJ0Um93O2NvbnN0IGU9dGhpcy5fc2tpcFJvd3MuaGFzKHRoaXMuX3Jvdyk7cmV0dXJuIHR8fGV9X3Nob3VsZFNraXBDb2x1bW4oKXtpZih0aGlzLmNvbHVtbj09PXVuZGVmaW5lZCl7cmV0dXJuIGZhbHNlfXJldHVybiB0aGlzLmNvbHVtbiE9dGhpcy5fY29sdW1ufV9pc1NwYW5uZWQodCxlKXtpZighdGhpcy5fc3Bhbm5lZENlbGxzLmhhcyh0KSl7cmV0dXJuIGZhbHNlfWNvbnN0IGk9dGhpcy5fc3Bhbm5lZENlbGxzLmdldCh0KTtyZXR1cm4gaS5oYXMoZSl9X2dldFNwYW5uZWQodCxlKXtyZXR1cm4gdGhpcy5fc3Bhbm5lZENlbGxzLmdldCh0KS5nZXQoZSl9X3JlY29yZFNwYW5zKHQsZSxpLG4sbyl7Zm9yKGxldCBpPWUrMTtpPD1lK24tMTtpKyspe3RoaXMuX21hcmtTcGFubmVkQ2VsbCh0LGksbyl9Zm9yKGxldCByPXQrMTtyPHQraTtyKyspe2ZvcihsZXQgdD1lO3Q8PWUrbi0xO3QrKyl7dGhpcy5fbWFya1NwYW5uZWRDZWxsKHIsdCxvKX19fV9tYXJrU3Bhbm5lZENlbGwodCxlLGkpe2lmKCF0aGlzLl9zcGFubmVkQ2VsbHMuaGFzKHQpKXt0aGlzLl9zcGFubmVkQ2VsbHMuc2V0KHQsbmV3IE1hcCl9Y29uc3Qgbj10aGlzLl9zcGFubmVkQ2VsbHMuZ2V0KHQpO24uc2V0KGUsaSl9fWZ1bmN0aW9uIHRTKHQsZSl7ZS5zZXRDdXN0b21Qcm9wZXJ0eShcInRhYmxlXCIsdHJ1ZSx0KTtyZXR1cm4gWF8odCxlLHtoYXNTZWxlY3Rpb25IYW5kbGU6dHJ1ZX0pfWZ1bmN0aW9uIGVTKHQpe3JldHVybiEhdC5nZXRDdXN0b21Qcm9wZXJ0eShcInRhYmxlXCIpJiZRXyh0KX1mdW5jdGlvbiBpUyh0KXtjb25zdCBlPXQuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7aWYoZSYmZVMoZSkpe3JldHVybiBlfXJldHVybiBudWxsfWZ1bmN0aW9uIG5TKHQpe2NvbnN0IGU9V1AoXCJ0YWJsZVwiLHQuZ2V0Rmlyc3RQb3NpdGlvbigpKTtpZihlJiZlUyhlLnBhcmVudCkpe3JldHVybiBlLnBhcmVudH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBvUyh0KXtjb25zdCBlPVtdO2Zvcihjb25zdCBpIG9mIGFTKHQuZ2V0UmFuZ2VzKCkpKXtjb25zdCB0PWkuZ2V0Q29udGFpbmVkRWxlbWVudCgpO2lmKHQmJnQuaXMoXCJ0YWJsZUNlbGxcIikpe2UucHVzaCh0KX19cmV0dXJuIGV9ZnVuY3Rpb24gclModCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgaSBvZiB0LmdldFJhbmdlcygpKXtjb25zdCB0PVdQKFwidGFibGVDZWxsXCIsaS5zdGFydCk7aWYodCl7ZS5wdXNoKHQpfX1yZXR1cm4gZX1mdW5jdGlvbiBzUyh0KXtjb25zdCBlPW9TKHQpO2lmKGUubGVuZ3RoKXtyZXR1cm4gZX1yZXR1cm4gclModCl9ZnVuY3Rpb24gYVModCl7cmV0dXJuIEFycmF5LmZyb20odCkuc29ydChjUyl9ZnVuY3Rpb24gY1ModCxlKXtjb25zdCBpPXQuc3RhcnQ7Y29uc3Qgbj1lLnN0YXJ0O2lmKGkuaXNFcXVhbChuKSl7cmV0dXJuIDB9cmV0dXJuIGkuaXNCZWZvcmUobik/LTE6MX1mdW5jdGlvbiBsUyh0PXt9KXtyZXR1cm4gZT0+ZS5vbihcImluc2VydDp0YWJsZVwiLChlLGksbik9Pntjb25zdCBvPWkuaXRlbTtpZighbi5jb25zdW1hYmxlLmNvbnN1bWUobyxcImluc2VydFwiKSl7cmV0dXJufW4uY29uc3VtYWJsZS5jb25zdW1lKG8sXCJhdHRyaWJ1dGU6aGVhZGluZ1Jvd3M6dGFibGVcIik7bi5jb25zdW1hYmxlLmNvbnN1bWUobyxcImF0dHJpYnV0ZTpoZWFkaW5nQ29sdW1uczp0YWJsZVwiKTtjb25zdCByPXQmJnQuYXNXaWRnZXQ7Y29uc3Qgcz1uLndyaXRlci5jcmVhdGVDb250YWluZXJFbGVtZW50KFwiZmlndXJlXCIse2NsYXNzOlwidGFibGVcIn0pO2NvbnN0IGE9bi53cml0ZXIuY3JlYXRlQ29udGFpbmVyRWxlbWVudChcInRhYmxlXCIpO24ud3JpdGVyLmluc2VydChuLndyaXRlci5jcmVhdGVQb3NpdGlvbkF0KHMsMCksYSk7bGV0IGM7aWYocil7Yz10UyhzLG4ud3JpdGVyKX1jb25zdCBsPW5ldyBaUChvKTtjb25zdCBkPXtoZWFkaW5nUm93czpvLmdldEF0dHJpYnV0ZShcImhlYWRpbmdSb3dzXCIpfHwwLGhlYWRpbmdDb2x1bW5zOm8uZ2V0QXR0cmlidXRlKFwiaGVhZGluZ0NvbHVtbnNcIil8fDB9O2NvbnN0IHU9bmV3IE1hcDtmb3IoY29uc3QgZSBvZiBsKXtjb25zdHtyb3c6aSxjZWxsOnJ9PWU7Y29uc3Qgcz12UyhfUyhpLGQpLGEsbik7Y29uc3QgYz1vLmdldENoaWxkKGkpO2NvbnN0IGw9dS5nZXQoaSl8fHdTKGMsaSxzLG4pO3Uuc2V0KGksbCk7bi5jb25zdW1hYmxlLmNvbnN1bWUocixcImluc2VydFwiKTtjb25zdCBoPW4ud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQXQobCxcImVuZFwiKTtiUyhlLGQsaCxuLHQpfWNvbnN0IGg9bi5tYXBwZXIudG9WaWV3UG9zaXRpb24oaS5yYW5nZS5zdGFydCk7bi5tYXBwZXIuYmluZEVsZW1lbnRzKG8scj9jOnMpO24ud3JpdGVyLmluc2VydChoLHI/YzpzKX0pfWZ1bmN0aW9uIGRTKHQ9e30pe3JldHVybiBlPT5lLm9uKFwiaW5zZXJ0OnRhYmxlUm93XCIsKGUsaSxuKT0+e2NvbnN0IG89aS5pdGVtO2lmKCFuLmNvbnN1bWFibGUuY29uc3VtZShvLFwiaW5zZXJ0XCIpKXtyZXR1cm59Y29uc3Qgcj1vLnBhcmVudDtjb25zdCBzPW4ubWFwcGVyLnRvVmlld0VsZW1lbnQocik7Y29uc3QgYT1UUyhzKTtjb25zdCBjPXIuZ2V0Q2hpbGRJbmRleChvKTtjb25zdCBsPW5ldyBaUChyLHtzdGFydFJvdzpjLGVuZFJvdzpjfSk7Y29uc3QgZD17aGVhZGluZ1Jvd3M6ci5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiKXx8MCxoZWFkaW5nQ29sdW1uczpyLmdldEF0dHJpYnV0ZShcImhlYWRpbmdDb2x1bW5zXCIpfHwwfTtjb25zdCB1PW5ldyBNYXA7Zm9yKGNvbnN0IGUgb2YgbCl7Y29uc3QgaT12UyhfUyhjLGQpLGEsbik7Y29uc3Qgcj11LmdldChjKXx8d1MobyxjLGksbik7dS5zZXQoYyxyKTtuLmNvbnN1bWFibGUuY29uc3VtZShlLmNlbGwsXCJpbnNlcnRcIik7Y29uc3Qgcz1uLndyaXRlci5jcmVhdGVQb3NpdGlvbkF0KHIsXCJlbmRcIik7YlMoZSxkLHMsbix0KX19KX1mdW5jdGlvbiB1Uyh0PXt9KXtyZXR1cm4gZT0+ZS5vbihcImluc2VydDp0YWJsZUNlbGxcIiwoZSxpLG4pPT57Y29uc3Qgbz1pLml0ZW07aWYoIW4uY29uc3VtYWJsZS5jb25zdW1lKG8sXCJpbnNlcnRcIikpe3JldHVybn1jb25zdCByPW8ucGFyZW50O2NvbnN0IHM9ci5wYXJlbnQ7Y29uc3QgYT1zLmdldENoaWxkSW5kZXgocik7Y29uc3QgYz1uZXcgWlAocyx7c3RhcnRSb3c6YSxlbmRSb3c6YX0pO2NvbnN0IGw9e2hlYWRpbmdSb3dzOnMuZ2V0QXR0cmlidXRlKFwiaGVhZGluZ1Jvd3NcIil8fDAsaGVhZGluZ0NvbHVtbnM6cy5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nQ29sdW1uc1wiKXx8MH07Zm9yKGNvbnN0IGUgb2YgYyl7aWYoZS5jZWxsPT09byl7Y29uc3QgaT1uLm1hcHBlci50b1ZpZXdFbGVtZW50KHIpO2NvbnN0IHM9bi53cml0ZXIuY3JlYXRlUG9zaXRpb25BdChpLHIuZ2V0Q2hpbGRJbmRleChvKSk7YlMoZSxsLHMsbix0KTtyZXR1cm59fX0pfWZ1bmN0aW9uIGhTKHQ9e30pe2NvbnN0IGU9ISF0LmFzV2lkZ2V0O3JldHVybiB0PT50Lm9uKFwiYXR0cmlidXRlOmhlYWRpbmdSb3dzOnRhYmxlXCIsKHQsaSxuKT0+e2NvbnN0IG89aS5pdGVtO2lmKCFuLmNvbnN1bWFibGUuY29uc3VtZShpLml0ZW0sdC5uYW1lKSl7cmV0dXJufWNvbnN0IHI9bi5tYXBwZXIudG9WaWV3RWxlbWVudChvKTtjb25zdCBzPVRTKHIpO2NvbnN0IGE9aS5hdHRyaWJ1dGVPbGRWYWx1ZTtjb25zdCBjPWkuYXR0cmlidXRlTmV3VmFsdWU7aWYoYz5hKXtjb25zdCB0PUFycmF5LmZyb20oby5nZXRDaGlsZHJlbigpKS5maWx0ZXIoKHtpbmRleDp0fSk9PmwodCxhLTEsYykpO2NvbnN0IGk9dlMoXCJ0aGVhZFwiLHMsbik7QVModCxpLG4sXCJlbmRcIik7Zm9yKGNvbnN0IGkgb2YgdCl7Zm9yKGNvbnN0IHQgb2YgaS5nZXRDaGlsZHJlbigpKXttUyh0LFwidGhcIixuLGUpfX1DUyhcInRib2R5XCIscyxuKX1lbHNle2NvbnN0IHQ9QXJyYXkuZnJvbShvLmdldENoaWxkcmVuKCkpLmZpbHRlcigoe2luZGV4OnR9KT0+bCh0LGMtMSxhKSkucmV2ZXJzZSgpO2NvbnN0IGk9dlMoXCJ0Ym9keVwiLHMsbik7QVModCxpLG4sMCk7Y29uc3Qgcj1uZXcgWlAobyx7c3RhcnRSb3c6Yz9jLTE6YyxlbmRSb3c6YS0xfSk7Y29uc3QgZD17aGVhZGluZ1Jvd3M6by5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiKXx8MCxoZWFkaW5nQ29sdW1uczpvLmdldEF0dHJpYnV0ZShcImhlYWRpbmdDb2x1bW5zXCIpfHwwfTtmb3IoY29uc3QgdCBvZiByKXtwUyh0LGQsbixlKX1DUyhcInRoZWFkXCIscyxuKX1mdW5jdGlvbiBsKHQsZSxpKXtyZXR1cm4gdD5lJiZ0PGl9fSl9ZnVuY3Rpb24gZlModD17fSl7Y29uc3QgZT0hIXQuYXNXaWRnZXQ7cmV0dXJuIHQ9PnQub24oXCJhdHRyaWJ1dGU6aGVhZGluZ0NvbHVtbnM6dGFibGVcIiwodCxpLG4pPT57Y29uc3Qgbz1pLml0ZW07aWYoIW4uY29uc3VtYWJsZS5jb25zdW1lKGkuaXRlbSx0Lm5hbWUpKXtyZXR1cm59Y29uc3Qgcj17aGVhZGluZ1Jvd3M6by5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiKXx8MCxoZWFkaW5nQ29sdW1uczpvLmdldEF0dHJpYnV0ZShcImhlYWRpbmdDb2x1bW5zXCIpfHwwfTtjb25zdCBzPWkuYXR0cmlidXRlT2xkVmFsdWU7Y29uc3QgYT1pLmF0dHJpYnV0ZU5ld1ZhbHVlO2NvbnN0IGM9KHM+YT9zOmEpLTE7Zm9yKGNvbnN0IHQgb2YgbmV3IFpQKG8pKXtpZih0LmNvbHVtbj5jKXtjb250aW51ZX1wUyh0LHIsbixlKX19KX1mdW5jdGlvbiBnUygpe3JldHVybiB0PT50Lm9uKFwicmVtb3ZlOnRhYmxlUm93XCIsKHQsZSxpKT0+e3Quc3RvcCgpO2NvbnN0IG49aS53cml0ZXI7Y29uc3Qgbz1pLm1hcHBlcjtjb25zdCByPW8udG9WaWV3UG9zaXRpb24oZS5wb3NpdGlvbikuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24odD0+IXQuaXRlbS5pcyhcInRyXCIpKTtjb25zdCBzPXIubm9kZUFmdGVyO2NvbnN0IGE9cy5wYXJlbnQ7Y29uc3QgYz1uLmNyZWF0ZVJhbmdlT24ocyk7Y29uc3QgbD1uLnJlbW92ZShjKTtmb3IoY29uc3QgdCBvZiBuLmNyZWF0ZVJhbmdlSW4obCkuZ2V0SXRlbXMoKSl7by51bmJpbmRWaWV3RWxlbWVudCh0KX1pZighYS5jaGlsZENvdW50KXtuLnJlbW92ZShuLmNyZWF0ZVJhbmdlT24oYSkpfX0se3ByaW9yaXR5OlwiaGlnaGVyXCJ9KX1mdW5jdGlvbiBtUyh0LGUsaSxuKXtjb25zdCBvPWkud3JpdGVyO2NvbnN0IHI9aS5tYXBwZXIudG9WaWV3RWxlbWVudCh0KTtpZighcil7cmV0dXJufWxldCBzO2lmKG4pe2NvbnN0IHQ9by5jcmVhdGVFZGl0YWJsZUVsZW1lbnQoZSxyLmdldEF0dHJpYnV0ZXMoKSk7cz1pdih0LG8pO28uaW5zZXJ0KG8uY3JlYXRlUG9zaXRpb25BZnRlcihyKSxzKTtvLm1vdmUoby5jcmVhdGVSYW5nZUluKHIpLG8uY3JlYXRlUG9zaXRpb25BdChzLDApKTtvLnJlbW92ZShvLmNyZWF0ZVJhbmdlT24ocikpfWVsc2V7cz1vLnJlbmFtZShlLHIpfWkubWFwcGVyLnVuYmluZFZpZXdFbGVtZW50KHIpO2kubWFwcGVyLmJpbmRFbGVtZW50cyh0LHMpfWZ1bmN0aW9uIHBTKHQsZSxpLG4pe2NvbnN0e2NlbGw6b309dDtjb25zdCByPWtTKHQsZSk7Y29uc3Qgcz1pLm1hcHBlci50b1ZpZXdFbGVtZW50KG8pO2lmKHMmJnMubmFtZSE9PXIpe21TKG8scixpLG4pfX1mdW5jdGlvbiBiUyh0LGUsaSxuLG8pe2NvbnN0IHI9byYmby5hc1dpZGdldDtjb25zdCBzPWtTKHQsZSk7Y29uc3QgYT1yP2l2KG4ud3JpdGVyLmNyZWF0ZUVkaXRhYmxlRWxlbWVudChzKSxuLndyaXRlcik6bi53cml0ZXIuY3JlYXRlQ29udGFpbmVyRWxlbWVudChzKTtjb25zdCBjPXQuY2VsbDtjb25zdCBsPWMuZ2V0Q2hpbGQoMCk7Y29uc3QgZD1jLmNoaWxkQ291bnQ9PT0xJiZsLm5hbWU9PT1cInBhcmFncmFwaFwiO24ud3JpdGVyLmluc2VydChpLGEpO2lmKGQmJiFQUyhsKSl7Y29uc3QgdD1jLmdldENoaWxkKDApO2NvbnN0IGU9bi53cml0ZXIuY3JlYXRlUG9zaXRpb25BdChhLFwiZW5kXCIpO24uY29uc3VtYWJsZS5jb25zdW1lKHQsXCJpbnNlcnRcIik7aWYoby5hc1dpZGdldCl7Y29uc3QgaT1uLndyaXRlci5jcmVhdGVDb250YWluZXJFbGVtZW50KFwic3BhblwiLHtzdHlsZTpcImRpc3BsYXk6aW5saW5lLWJsb2NrXCJ9KTtuLm1hcHBlci5iaW5kRWxlbWVudHModCxpKTtuLndyaXRlci5pbnNlcnQoZSxpKTtuLm1hcHBlci5iaW5kRWxlbWVudHMoYyxhKX1lbHNle24ubWFwcGVyLmJpbmRFbGVtZW50cyhjLGEpO24ubWFwcGVyLmJpbmRFbGVtZW50cyh0LGEpfX1lbHNle24ubWFwcGVyLmJpbmRFbGVtZW50cyhjLGEpfX1mdW5jdGlvbiB3Uyh0LGUsaSxuKXtuLmNvbnN1bWFibGUuY29uc3VtZSh0LFwiaW5zZXJ0XCIpO2NvbnN0IG89bi53cml0ZXIuY3JlYXRlQ29udGFpbmVyRWxlbWVudChcInRyXCIpO24ubWFwcGVyLmJpbmRFbGVtZW50cyh0LG8pO2NvbnN0IHI9dC5wYXJlbnQuZ2V0QXR0cmlidXRlKFwiaGVhZGluZ1Jvd3NcIil8fDA7Y29uc3Qgcz1yPjAmJmU+PXI/ZS1yOmU7Y29uc3QgYT1uLndyaXRlci5jcmVhdGVQb3NpdGlvbkF0KGkscyk7bi53cml0ZXIuaW5zZXJ0KGEsbyk7cmV0dXJuIG99ZnVuY3Rpb24ga1ModCxlKXtjb25zdHtyb3c6aSxjb2x1bW46bn09dDtjb25zdHtoZWFkaW5nQ29sdW1uczpvLGhlYWRpbmdSb3dzOnJ9PWU7Y29uc3Qgcz1yJiZyPmk7aWYocyl7cmV0dXJuXCJ0aFwifWNvbnN0IGE9byYmbz5uO3JldHVybiBhP1widGhcIjpcInRkXCJ9ZnVuY3Rpb24gX1ModCxlKXtyZXR1cm4gdDxlLmhlYWRpbmdSb3dzP1widGhlYWRcIjpcInRib2R5XCJ9ZnVuY3Rpb24gdlModCxlLGkpe2NvbnN0IG49eVModCxlKTtyZXR1cm4gbj9uOnhTKHQsZSxpKX1mdW5jdGlvbiB5Uyh0LGUpe2Zvcihjb25zdCBpIG9mIGUuZ2V0Q2hpbGRyZW4oKSl7aWYoaS5uYW1lPT10KXtyZXR1cm4gaX19fWZ1bmN0aW9uIHhTKHQsZSxpKXtjb25zdCBuPWkud3JpdGVyLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQodCk7Y29uc3Qgbz1pLndyaXRlci5jcmVhdGVQb3NpdGlvbkF0KGUsdD09XCJ0Ym9keVwiP1wiZW5kXCI6MCk7aS53cml0ZXIuaW5zZXJ0KG8sbik7cmV0dXJuIG59ZnVuY3Rpb24gQ1ModCxlLGkpe2NvbnN0IG49eVModCxlKTtpZihuJiZuLmNoaWxkQ291bnQ9PT0wKXtpLndyaXRlci5yZW1vdmUoaS53cml0ZXIuY3JlYXRlUmFuZ2VPbihuKSl9fWZ1bmN0aW9uIEFTKHQsZSxpLG4pe2Zvcihjb25zdCBvIG9mIHQpe2NvbnN0IHQ9aS5tYXBwZXIudG9WaWV3RWxlbWVudChvKTtpZih0KXtpLndyaXRlci5tb3ZlKGkud3JpdGVyLmNyZWF0ZVJhbmdlT24odCksaS53cml0ZXIuY3JlYXRlUG9zaXRpb25BdChlLG4pKX19fWZ1bmN0aW9uIFRTKHQpe2Zvcihjb25zdCBlIG9mIHQuZ2V0Q2hpbGRyZW4oKSl7aWYoZS5uYW1lPT09XCJ0YWJsZVwiKXtyZXR1cm4gZX19fWZ1bmN0aW9uIFBTKHQpe3JldHVybiEhWy4uLnQuZ2V0QXR0cmlidXRlS2V5cygpXS5sZW5ndGh9Y2xhc3MgU1MgZXh0ZW5kcyBqd3tyZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBlPXQuZG9jdW1lbnQuc2VsZWN0aW9uO2NvbnN0IGk9dC5zY2hlbWE7Y29uc3Qgbj1FUyhlLmdldEZpcnN0UG9zaXRpb24oKSk7dGhpcy5pc0VuYWJsZWQ9aS5jaGVja0NoaWxkKG4sXCJ0YWJsZVwiKX1leGVjdXRlKHQ9e30pe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3QgaT1lLmRvY3VtZW50LnNlbGVjdGlvbjtjb25zdCBuPXRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KFwiVGFibGVVdGlsc1wiKTtjb25zdCBvPXBhcnNlSW50KHQucm93cyl8fDI7Y29uc3Qgcj1wYXJzZUludCh0LmNvbHVtbnMpfHwyO2NvbnN0IHM9bnYoaSxlKTtlLmNoYW5nZSh0PT57Y29uc3QgaT1uLmNyZWF0ZVRhYmxlKHQsbyxyKTtlLmluc2VydENvbnRlbnQoaSxzKTt0LnNldFNlbGVjdGlvbih0LmNyZWF0ZVBvc2l0aW9uQXQoaS5nZXROb2RlQnlQYXRoKFswLDAsMF0pLDApKX0pfX1mdW5jdGlvbiBFUyh0KXtjb25zdCBlPXQucGFyZW50O3JldHVybiBlPT09ZS5yb290P2U6ZS5wYXJlbnR9Y2xhc3MgUlMgZXh0ZW5kcyBqd3tjb25zdHJ1Y3Rvcih0LGU9e30pe3N1cGVyKHQpO3RoaXMub3JkZXI9ZS5vcmRlcnx8XCJiZWxvd1wifXJlZnJlc2goKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtjb25zdCBlPVdQKFwidGFibGVcIix0LmdldEZpcnN0UG9zaXRpb24oKSk7dGhpcy5pc0VuYWJsZWQ9ISFlfWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247Y29uc3QgaT10LnBsdWdpbnMuZ2V0KFwiVGFibGVVdGlsc1wiKTtjb25zdCBuPXRoaXMub3JkZXI9PT1cImFib3ZlXCI7Y29uc3Qgbz1uP2UuZ2V0Rmlyc3RQb3NpdGlvbigpOmUuZ2V0TGFzdFBvc2l0aW9uKCk7Y29uc3Qgcj1uP2UuZ2V0Rmlyc3RSYW5nZSgpOmUuZ2V0TGFzdFJhbmdlKCk7Y29uc3Qgcz1yLmdldENvbnRhaW5lZEVsZW1lbnQoKXx8V1AoXCJ0YWJsZUNlbGxcIixvKTtjb25zdCBhPXMucGFyZW50O2NvbnN0IGM9YS5wYXJlbnQ7Y29uc3QgbD1jLmdldENoaWxkSW5kZXgoYSk7aS5pbnNlcnRSb3dzKGMse3Jvd3M6MSxhdDp0aGlzLm9yZGVyPT09XCJiZWxvd1wiP2wrMTpsfSl9fWNsYXNzIE9TIGV4dGVuZHMgand7Y29uc3RydWN0b3IodCxlPXt9KXtzdXBlcih0KTt0aGlzLm9yZGVyPWUub3JkZXJ8fFwicmlnaHRcIn1yZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247Y29uc3QgZT1XUChcInRhYmxlXCIsdC5nZXRGaXJzdFBvc2l0aW9uKCkpO3RoaXMuaXNFbmFibGVkPSEhZX1leGVjdXRlKCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uO2NvbnN0IGk9dC5wbHVnaW5zLmdldChcIlRhYmxlVXRpbHNcIik7Y29uc3Qgbj10aGlzLm9yZGVyPT09XCJsZWZ0XCI7Y29uc3Qgbz1uP2UuZ2V0Rmlyc3RQb3NpdGlvbigpOmUuZ2V0TGFzdFBvc2l0aW9uKCk7Y29uc3Qgcj1uP2UuZ2V0Rmlyc3RSYW5nZSgpOmUuZ2V0TGFzdFJhbmdlKCk7Y29uc3Qgcz1yLmdldENvbnRhaW5lZEVsZW1lbnQoKXx8V1AoXCJ0YWJsZUNlbGxcIixvKTtjb25zdCBhPXMucGFyZW50LnBhcmVudDtjb25zdHtjb2x1bW46Y309aS5nZXRDZWxsTG9jYXRpb24ocyk7aS5pbnNlcnRDb2x1bW5zKGEse2NvbHVtbnM6MSxhdDpuP2M6YysxfSl9fWNsYXNzIElTIGV4dGVuZHMgand7Y29uc3RydWN0b3IodCxlPXt9KXtzdXBlcih0KTt0aGlzLmRpcmVjdGlvbj1lLmRpcmVjdGlvbnx8XCJob3Jpem9udGFsbHlcIn1yZWZyZXNoKCl7Y29uc3QgdD1zUyh0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24pO3RoaXMuaXNFbmFibGVkPXQubGVuZ3RoPT09MX1leGVjdXRlKCl7Y29uc3QgdD1zUyh0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24pWzBdO2NvbnN0IGU9dGhpcy5kaXJlY3Rpb249PT1cImhvcml6b250YWxseVwiO2NvbnN0IGk9dGhpcy5lZGl0b3IucGx1Z2lucy5nZXQoXCJUYWJsZVV0aWxzXCIpO2lmKGUpe2kuc3BsaXRDZWxsSG9yaXpvbnRhbGx5KHQsMil9ZWxzZXtpLnNwbGl0Q2VsbFZlcnRpY2FsbHkodCwyKX19fWNsYXNzIFZTIGV4dGVuZHMgand7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KTt0aGlzLmRpcmVjdGlvbj1lLmRpcmVjdGlvbjt0aGlzLmlzSG9yaXpvbnRhbD10aGlzLmRpcmVjdGlvbj09XCJyaWdodFwifHx0aGlzLmRpcmVjdGlvbj09XCJsZWZ0XCJ9cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5fZ2V0TWVyZ2VhYmxlQ2VsbCgpO3RoaXMudmFsdWU9dDt0aGlzLmlzRW5hYmxlZD0hIXR9ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3QgZT10LmRvY3VtZW50O2NvbnN0IGk9clMoZS5zZWxlY3Rpb24pWzBdO2NvbnN0IG49dGhpcy52YWx1ZTtjb25zdCBvPXRoaXMuZGlyZWN0aW9uO3QuY2hhbmdlKHQ9Pntjb25zdCBlPW89PVwicmlnaHRcInx8bz09XCJkb3duXCI7Y29uc3Qgcj1lP2k6bjtjb25zdCBzPWU/bjppO2NvbnN0IGE9cy5wYXJlbnQ7elMocyxyLHQpO2NvbnN0IGM9dGhpcy5pc0hvcml6b250YWw/XCJjb2xzcGFuXCI6XCJyb3dzcGFuXCI7Y29uc3QgbD1wYXJzZUludChpLmdldEF0dHJpYnV0ZShjKXx8MSk7Y29uc3QgZD1wYXJzZUludChuLmdldEF0dHJpYnV0ZShjKXx8MSk7dC5zZXRBdHRyaWJ1dGUoYyxsK2Qscik7dC5zZXRTZWxlY3Rpb24odC5jcmVhdGVSYW5nZUluKHIpKTtpZighYS5jaGlsZENvdW50KXtCUyhhLHQpfX0pfV9nZXRNZXJnZWFibGVDZWxsKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBlPXQuZG9jdW1lbnQ7Y29uc3QgaT1yUyhlLnNlbGVjdGlvbilbMF07aWYoIWkpe3JldHVybn1jb25zdCBuPXRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KFwiVGFibGVVdGlsc1wiKTtjb25zdCBvPXRoaXMuaXNIb3Jpem9udGFsP05TKGksdGhpcy5kaXJlY3Rpb24sbik6TVMoaSx0aGlzLmRpcmVjdGlvbik7aWYoIW8pe3JldHVybn1jb25zdCByPXRoaXMuaXNIb3Jpem9udGFsP1wicm93c3BhblwiOlwiY29sc3BhblwiO2NvbnN0IHM9cGFyc2VJbnQoaS5nZXRBdHRyaWJ1dGUocil8fDEpO2NvbnN0IGE9cGFyc2VJbnQoby5nZXRBdHRyaWJ1dGUocil8fDEpO2lmKGE9PT1zKXtyZXR1cm4gb319fWZ1bmN0aW9uIE5TKHQsZSxpKXtjb25zdCBuPXQucGFyZW50O2NvbnN0IG89bi5wYXJlbnQ7Y29uc3Qgcj1lPT1cInJpZ2h0XCI/dC5uZXh0U2libGluZzp0LnByZXZpb3VzU2libGluZztjb25zdCBzPShvLmdldEF0dHJpYnV0ZShcImhlYWRpbmdDb2x1bW5zXCIpfHwwKT4wO2lmKCFyKXtyZXR1cm59Y29uc3QgYT1lPT1cInJpZ2h0XCI/dDpyO2NvbnN0IGM9ZT09XCJyaWdodFwiP3I6dDtjb25zdHtjb2x1bW46bH09aS5nZXRDZWxsTG9jYXRpb24oYSk7Y29uc3R7Y29sdW1uOmR9PWkuZ2V0Q2VsbExvY2F0aW9uKGMpO2NvbnN0IHU9cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIpfHwxKTtjb25zdCBoPUtQKGksYSxvKTtjb25zdCBmPUtQKGksYyxvKTtpZihzJiZoIT1mKXtyZXR1cm59Y29uc3QgZz1sK3U9PT1kO3JldHVybiBnP3I6dW5kZWZpbmVkfWZ1bmN0aW9uIE1TKHQsZSl7Y29uc3QgaT10LnBhcmVudDtjb25zdCBuPWkucGFyZW50O2NvbnN0IG89bi5nZXRDaGlsZEluZGV4KGkpO2lmKGU9PVwiZG93blwiJiZvPT09bi5jaGlsZENvdW50LTF8fGU9PVwidXBcIiYmbz09PTApe3JldHVybn1jb25zdCByPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwicm93c3BhblwiKXx8MSk7Y29uc3Qgcz1uLmdldEF0dHJpYnV0ZShcImhlYWRpbmdSb3dzXCIpfHwwO2NvbnN0IGE9ZT09XCJkb3duXCImJm8rcj09PXM7Y29uc3QgYz1lPT1cInVwXCImJm89PT1zO2lmKHMmJihhfHxjKSl7cmV0dXJufWNvbnN0IGw9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIpfHwxKTtjb25zdCBkPWU9PVwiZG93blwiP28rbDpvO2NvbnN0IHU9Wy4uLm5ldyBaUChuLHtlbmRSb3c6ZH0pXTtjb25zdCBoPXUuZmluZChlPT5lLmNlbGw9PT10KTtjb25zdCBmPWguY29sdW1uO2NvbnN0IGc9dS5maW5kKCh7cm93OnQscm93c3BhbjppLGNvbHVtbjpufSk9PntpZihuIT09Zil7cmV0dXJuIGZhbHNlfWlmKGU9PVwiZG93blwiKXtyZXR1cm4gdD09PWR9ZWxzZXtyZXR1cm4gZD09PXQraX19KTtyZXR1cm4gZyYmZy5jZWxsfWZ1bmN0aW9uIEJTKHQsZSl7Y29uc3QgaT10LnBhcmVudDtjb25zdCBuPWkuZ2V0Q2hpbGRJbmRleCh0KTtmb3IoY29uc3R7Y2VsbDp0LHJvdzpvLHJvd3NwYW46cn1vZiBuZXcgWlAoaSx7ZW5kUm93Om59KSl7Y29uc3QgaT1vK3ItMT49bjtpZihpKXtxUChcInJvd3NwYW5cIixyLTEsdCxlKX19ZS5yZW1vdmUodCl9ZnVuY3Rpb24gelModCxlLGkpe2lmKCFMUyh0KSl7aWYoTFMoZSkpe2kucmVtb3ZlKGkuY3JlYXRlUmFuZ2VJbihlKSl9aS5tb3ZlKGkuY3JlYXRlUmFuZ2VJbih0KSxpLmNyZWF0ZVBvc2l0aW9uQXQoZSxcImVuZFwiKSl9aS5yZW1vdmUodCl9ZnVuY3Rpb24gTFModCl7cmV0dXJuIHQuY2hpbGRDb3VudD09MSYmdC5nZXRDaGlsZCgwKS5pcyhcInBhcmFncmFwaFwiKSYmdC5nZXRDaGlsZCgwKS5pc0VtcHR5fWNsYXNzIEZTIGV4dGVuZHMgand7cmVmcmVzaCgpe2NvbnN0IHQ9c1ModGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uKTtjb25zdCBlPXRbMF07aWYoZSl7Y29uc3QgaT1lLnBhcmVudC5wYXJlbnQ7Y29uc3Qgbj10aGlzLmVkaXRvci5wbHVnaW5zLmdldChcIlRhYmxlVXRpbHNcIikuZ2V0Um93cyhpKTtjb25zdCBvPVsuLi5uZXcgWlAoaSldO2NvbnN0IHI9by5maWx0ZXIoZT0+dC5pbmNsdWRlcyhlLmNlbGwpKS5tYXAodD0+dC5yb3cpO2NvbnN0IHM9clswXTtjb25zdCBhPXJbci5sZW5ndGgtMV07dGhpcy5pc0VuYWJsZWQ9YS1zPG4tMX1lbHNle3RoaXMuaXNFbmFibGVkPWZhbHNlfX1leGVjdXRlKCl7Y29uc3QgdD1zUyh0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24pO2NvbnN0IGU9RFModCk7Y29uc3QgaT10WzBdO2NvbnN0IG49aS5wYXJlbnQucGFyZW50O2NvbnN0IG89Wy4uLm5ldyBaUChuLHtlbmRSb3c6ZS5sYXN0fSldO2NvbnN0IHI9dGhpcy5lZGl0b3IubW9kZWwuY3JlYXRlQmF0Y2goKTtjb25zdCBzPUhTKG8saSk7dGhpcy5lZGl0b3IubW9kZWwuZW5xdWV1ZUNoYW5nZShyLHQ9Pnt0LnNldFNlbGVjdGlvbih0LmNyZWF0ZVNlbGVjdGlvbihuLFwib25cIikpfSk7bGV0IGE7Zm9yKGxldCB0PWUubGFzdDt0Pj1lLmZpcnN0O3QtLSl7dGhpcy5lZGl0b3IubW9kZWwuZW5xdWV1ZUNoYW5nZShyLGU9Pntjb25zdCBpPXQ7dGhpcy5fcmVtb3ZlUm93KGksbixlLG8pO2E9alMobixpLHMpfSl9dGhpcy5lZGl0b3IubW9kZWwuZW5xdWV1ZUNoYW5nZShyLHQ9Pnt0LnNldFNlbGVjdGlvbih0LmNyZWF0ZVBvc2l0aW9uQXQoYSwwKSl9KX1fcmVtb3ZlUm93KHQsZSxpLG4pe2NvbnN0IG89bmV3IE1hcDtjb25zdCByPWUuZ2V0Q2hpbGQodCk7Y29uc3Qgcz1lLmdldEF0dHJpYnV0ZShcImhlYWRpbmdSb3dzXCIpfHwwO2lmKHMmJnQ8cyl7cVAoXCJoZWFkaW5nUm93c1wiLHMtMSxlLGksMCl9bi5maWx0ZXIoKHtyb3c6ZSxyb3dzcGFuOml9KT0+ZT09PXQmJmk+MSkuZm9yRWFjaCgoe2NvbHVtbjp0LGNlbGw6ZSxyb3dzcGFuOml9KT0+by5zZXQodCx7Y2VsbDplLHJvd3NwYW5Ub1NldDppLTF9KSk7bi5maWx0ZXIoKHtyb3c6ZSxyb3dzcGFuOml9KT0+ZTw9dC0xJiZlK2k+dCkuZm9yRWFjaCgoe2NlbGw6dCxyb3dzcGFuOmV9KT0+cVAoXCJyb3dzcGFuXCIsZS0xLHQsaSkpO2NvbnN0IGE9dCsxO2NvbnN0IGM9bmV3IFpQKGUse2luY2x1ZGVTcGFubmVkOnRydWUsc3RhcnRSb3c6YSxlbmRSb3c6YX0pO2xldCBsO2Zvcihjb25zdHtyb3c6dCxjb2x1bW46bixjZWxsOnJ9b2ZbLi4uY10pe2lmKG8uaGFzKG4pKXtjb25zdHtjZWxsOnIscm93c3BhblRvU2V0OnN9PW8uZ2V0KG4pO2NvbnN0IGE9bD9pLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIobCk6aS5jcmVhdGVQb3NpdGlvbkF0KGUuZ2V0Q2hpbGQodCksMCk7aS5tb3ZlKGkuY3JlYXRlUmFuZ2VPbihyKSxhKTtxUChcInJvd3NwYW5cIixzLHIsaSk7bD1yfWVsc2V7bD1yfX1pLnJlbW92ZShyKX19ZnVuY3Rpb24gRFModCl7Y29uc3QgZT10Lm1hcCh0PT50LnBhcmVudC5pbmRleCkuc29ydCgpO3JldHVybntmaXJzdDplWzBdLGxhc3Q6ZVtlLmxlbmd0aC0xXX19ZnVuY3Rpb24galModCxlLGkpe2NvbnN0IG49dC5nZXRDaGlsZChlKXx8dC5nZXRDaGlsZCh0LmNoaWxkQ291bnQtMSk7bGV0IG89bi5nZXRDaGlsZCgwKTtsZXQgcj0wO2Zvcihjb25zdCB0IG9mIG4uZ2V0Q2hpbGRyZW4oKSl7aWYocj5pKXtyZXR1cm4gb31vPXQ7cis9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIpfHwxKX1yZXR1cm4gb31mdW5jdGlvbiBIUyh0LGUpe2NvbnN0IGk9dC5maW5kKHQ9PnQuY2VsbD09PWUpO3JldHVybiBpLmNvbHVtbn1jbGFzcyBXUyBleHRlbmRzIGp3e3JlZnJlc2goKXtjb25zdCB0PXNTKHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbik7Y29uc3QgZT10WzBdO2lmKGUpe2NvbnN0IGk9ZS5wYXJlbnQucGFyZW50O2NvbnN0IG49dGhpcy5lZGl0b3IucGx1Z2lucy5nZXQoXCJUYWJsZVV0aWxzXCIpLmdldENvbHVtbnMoaSk7Y29uc3Qgbz1bLi4ubmV3IFpQKGkpXTtjb25zdCByPW8uZmlsdGVyKGU9PnQuaW5jbHVkZXMoZS5jZWxsKSkubWFwKHQ9PnQuY29sdW1uKS5zb3J0KCk7Y29uc3Qgcz1yWzBdO2NvbnN0IGE9cltyLmxlbmd0aC0xXTt0aGlzLmlzRW5hYmxlZD1hLXM8bi0xfWVsc2V7dGhpcy5pc0VuYWJsZWQ9ZmFsc2V9fWV4ZWN1dGUoKXtjb25zdFt0LGVdPSRTKHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbik7Y29uc3QgaT10LnBhcmVudC5wYXJlbnQ7Y29uc3Qgbj1bLi4ubmV3IFpQKGkpXTtjb25zdCBvPXtmaXJzdDpuLmZpbmQoZT0+ZS5jZWxsPT09dCkuY29sdW1uLGxhc3Q6bi5maW5kKHQ9PnQuY2VsbD09PWUpLmNvbHVtbn07Y29uc3Qgcj1VUyhuLHQsZSxvKTt0aGlzLmVkaXRvci5tb2RlbC5jaGFuZ2UodD0+e3Quc2V0U2VsZWN0aW9uKHQuY3JlYXRlUmFuZ2VPbihpKSk7cVMoaSxvLHQpO2ZvcihsZXQgZT1vLmxhc3Q7ZT49by5maXJzdDtlLS0pe2Zvcihjb25zdHtjZWxsOmksY29sdW1uOm8sY29sc3BhbjpyfW9mIG4pe2lmKG88PWUmJnI+MSYmbytyPmUpe3FQKFwiY29sc3BhblwiLHItMSxpLHQpfWVsc2UgaWYobz09PWUpe2NvbnN0IGU9aS5wYXJlbnQ7dC5yZW1vdmUoaSk7aWYoIWUuY2hpbGRDb3VudCl7dC5yZW1vdmUoZSl9fX19dC5zZXRTZWxlY3Rpb24odC5jcmVhdGVQb3NpdGlvbkF0KHIsMCkpfSl9fWZ1bmN0aW9uIHFTKHQsZSxpKXtjb25zdCBuPXQuZ2V0QXR0cmlidXRlKFwiaGVhZGluZ0NvbHVtbnNcIil8fDA7aWYobiYmZS5maXJzdDw9bil7Y29uc3Qgbz1NYXRoLm1pbihuLTEsZS5sYXN0KS1lLmZpcnN0KzE7aS5zZXRBdHRyaWJ1dGUoXCJoZWFkaW5nQ29sdW1uc1wiLG4tbyx0KX19ZnVuY3Rpb24gVVModCxlLGksbil7Y29uc3Qgbz1wYXJzZUludChpLmdldEF0dHJpYnV0ZShcImNvbHNwYW5cIil8fDEpO2lmKG8+MSl7cmV0dXJuIGl9ZWxzZSBpZihlLnByZXZpb3VzU2libGluZ3x8aS5uZXh0U2libGluZyl7cmV0dXJuIGkubmV4dFNpYmxpbmd8fGUucHJldmlvdXNTaWJsaW5nfWVsc2V7aWYobi5maXJzdCl7cmV0dXJuIHQucmV2ZXJzZSgpLmZpbmQoKHtjb2x1bW46dH0pPT50PG4uZmlyc3QpLmNlbGx9ZWxzZXtyZXR1cm4gdC5yZXZlcnNlKCkuZmluZCgoe2NvbHVtbjp0fSk9PnQ+bi5sYXN0KS5jZWxsfX19ZnVuY3Rpb24gJFModCl7Y29uc3QgZT1zUyh0KTtjb25zdCBpPWVbMF07Y29uc3Qgbj1lLnBvcCgpO2NvbnN0IG89W2ksbl07cmV0dXJuIGkuaXNCZWZvcmUobik/bzpvLnJldmVyc2UoKX1jbGFzcyBHUyBleHRlbmRzIGp3e3JlZnJlc2goKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsO2NvbnN0IGU9c1ModC5kb2N1bWVudC5zZWxlY3Rpb24pO2NvbnN0IGk9ZS5sZW5ndGg+MDt0aGlzLmlzRW5hYmxlZD1pO3RoaXMudmFsdWU9aSYmZS5ldmVyeSh0PT50aGlzLl9pc0luSGVhZGluZyh0LHQucGFyZW50LnBhcmVudCkpfWV4ZWN1dGUodD17fSl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBpPXNTKGUuZG9jdW1lbnQuc2VsZWN0aW9uKTtjb25zdCBuPWlbMF07Y29uc3Qgbz1pW2kubGVuZ3RoLTFdO2NvbnN0IHI9bi5wYXJlbnQucGFyZW50O2NvbnN0IHM9ci5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiKXx8MDtjb25zdFthLGNdPVtuLnBhcmVudC5pbmRleCxvLnBhcmVudC5pbmRleF0uc29ydCgpO2lmKHQuZm9yY2VWYWx1ZT09PXRoaXMudmFsdWUpe3JldHVybn1jb25zdCBsPXRoaXMudmFsdWU/YTpjKzE7ZS5jaGFuZ2UodD0+e2lmKGwpe2NvbnN0IGU9S1MocixsLHMpO2Zvcihjb25zdCBpIG9mIGUpe0pTKGksbCx0KX19cVAoXCJoZWFkaW5nUm93c1wiLGwscix0LDApfSl9X2lzSW5IZWFkaW5nKHQsZSl7Y29uc3QgaT1wYXJzZUludChlLmdldEF0dHJpYnV0ZShcImhlYWRpbmdSb3dzXCIpfHwwKTtyZXR1cm4hIWkmJnQucGFyZW50LmluZGV4PGl9fWZ1bmN0aW9uIEtTKHQsZSxpKXtjb25zdCBuPVtdO2NvbnN0IG89ZT5pP2k6MDtjb25zdCByPWUtMTtjb25zdCBzPW5ldyBaUCh0LHtzdGFydFJvdzpvLGVuZFJvdzpyfSk7Zm9yKGNvbnN0e3Jvdzp0LHJvd3NwYW46aSxjZWxsOm99b2Ygcyl7aWYoaT4xJiZ0K2k+ZSl7bi5wdXNoKG8pfX1yZXR1cm4gbn1mdW5jdGlvbiBKUyh0LGUsaSl7Y29uc3Qgbj10LnBhcmVudDtjb25zdCBvPW4ucGFyZW50O2NvbnN0IHI9bi5pbmRleDtjb25zdCBzPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwicm93c3BhblwiKSk7Y29uc3QgYT1lLXI7Y29uc3QgYz17fTtjb25zdCBsPXMtYTtpZihsPjEpe2Mucm93c3Bhbj1sfWNvbnN0IGQ9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIpfHwxKTtpZihkPjEpe2MuY29sc3Bhbj1kfWNvbnN0IHU9by5nZXRDaGlsZEluZGV4KG4pO2NvbnN0IGg9dSthO2NvbnN0IGY9Wy4uLm5ldyBaUChvLHtzdGFydFJvdzp1LGVuZFJvdzpoLGluY2x1ZGVTcGFubmVkOnRydWV9KV07bGV0IGc7Zm9yKGNvbnN0e3JvdzplLGNvbHVtbjpuLGNlbGw6cixjZWxsSW5kZXg6c31vZiBmKXtpZihyPT09dCYmZz09PXVuZGVmaW5lZCl7Zz1ufWlmKGchPT11bmRlZmluZWQmJmc9PT1uJiZlPT09aCl7Y29uc3QgdD1vLmdldENoaWxkKGUpO2NvbnN0IG49aS5jcmVhdGVQb3NpdGlvbkF0KHQscyk7VVAoaSxuLGMpfX1xUChcInJvd3NwYW5cIixhLHQsaSl9Y2xhc3MgWVMgZXh0ZW5kcyBqd3tyZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBlPXNTKHQuZG9jdW1lbnQuc2VsZWN0aW9uKTtjb25zdCBpPXRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KFwiVGFibGVVdGlsc1wiKTtjb25zdCBuPWUubGVuZ3RoPjA7dGhpcy5pc0VuYWJsZWQ9bjt0aGlzLnZhbHVlPW4mJmUuZXZlcnkodD0+S1AoaSx0KSl9ZXhlY3V0ZSh0PXt9KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsO2NvbnN0IGk9dGhpcy5lZGl0b3IucGx1Z2lucy5nZXQoXCJUYWJsZVV0aWxzXCIpO2NvbnN0IG49c1MoZS5kb2N1bWVudC5zZWxlY3Rpb24pO2NvbnN0IG89blswXTtjb25zdCByPW5bbi5sZW5ndGgtMV07Y29uc3Qgcz1vLnBhcmVudDtjb25zdCBhPXMucGFyZW50O2NvbnN0W2MsbF09W2kuZ2V0Q2VsbExvY2F0aW9uKG8pLmNvbHVtbixpLmdldENlbGxMb2NhdGlvbihyKS5jb2x1bW5dLnNvcnQoKTtpZih0LmZvcmNlVmFsdWU9PT10aGlzLnZhbHVlKXtyZXR1cm59Y29uc3QgZD10aGlzLnZhbHVlP2M6bCsxO2UuY2hhbmdlKHQ9PntxUChcImhlYWRpbmdDb2x1bW5zXCIsZCxhLHQsMCl9KX19Y2xhc3MgUVMgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlRhYmxlVXRpbHNcIn1nZXRDZWxsTG9jYXRpb24odCl7Y29uc3QgZT10LnBhcmVudDtjb25zdCBpPWUucGFyZW50O2NvbnN0IG49aS5nZXRDaGlsZEluZGV4KGUpO2NvbnN0IG89bmV3IFpQKGkse3N0YXJ0Um93Om4sZW5kUm93Om59KTtmb3IoY29uc3R7Y2VsbDplLHJvdzppLGNvbHVtbjpufW9mIG8pe2lmKGU9PT10KXtyZXR1cm57cm93OmksY29sdW1uOm59fX19Y3JlYXRlVGFibGUodCxlLGkpe2NvbnN0IG49dC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7WFModCxuLDAsZSxpKTtyZXR1cm4gbn1pbnNlcnRSb3dzKHQsZT17fSl7Y29uc3QgaT10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBuPWUuYXR8fDA7Y29uc3Qgbz1lLnJvd3N8fDE7aS5jaGFuZ2UoZT0+e2NvbnN0IGk9dC5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiKXx8MDtpZihpPm4pe2Uuc2V0QXR0cmlidXRlKFwiaGVhZGluZ1Jvd3NcIixpK28sdCl9aWYobj09PTB8fG49PT10LmNoaWxkQ291bnQpe1hTKGUsdCxuLG8sdGhpcy5nZXRDb2x1bW5zKHQpKTtyZXR1cm59Y29uc3Qgcj1uZXcgWlAodCx7ZW5kUm93Om59KTtsZXQgcz0wO2Zvcihjb25zdHtyb3c6dCxyb3dzcGFuOmksY29sc3BhbjphLGNlbGw6Y31vZiByKXtjb25zdCByPXQ8bjtjb25zdCBsPXQraT5uO2lmKHImJmwpe2Uuc2V0QXR0cmlidXRlKFwicm93c3BhblwiLGkrbyxjKX1pZih0PT09bil7cys9YX19WFMoZSx0LG4sbyxzKX0pfWluc2VydENvbHVtbnModCxlPXt9KXtjb25zdCBpPXRoaXMuZWRpdG9yLm1vZGVsO2NvbnN0IG49ZS5hdHx8MDtjb25zdCBvPWUuY29sdW1uc3x8MTtpLmNoYW5nZShlPT57Y29uc3QgaT10LmdldEF0dHJpYnV0ZShcImhlYWRpbmdDb2x1bW5zXCIpO2lmKG48aSl7ZS5zZXRBdHRyaWJ1dGUoXCJoZWFkaW5nQ29sdW1uc1wiLGkrbyx0KX1jb25zdCByPXRoaXMuZ2V0Q29sdW1ucyh0KTtpZihuPT09MHx8cj09PW4pe2Zvcihjb25zdCBpIG9mIHQuZ2V0Q2hpbGRyZW4oKSl7WlMobyxlLGUuY3JlYXRlUG9zaXRpb25BdChpLG4/XCJlbmRcIjowKSl9cmV0dXJufWNvbnN0IHM9bmV3IFpQKHQse2NvbHVtbjpuLGluY2x1ZGVTcGFubmVkOnRydWV9KTtmb3IoY29uc3R7cm93OmksY2VsbDpyLGNlbGxJbmRleDphfW9mIHMpe2NvbnN0IGM9cGFyc2VJbnQoci5nZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIpfHwxKTtjb25zdCBsPXBhcnNlSW50KHIuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKXx8MSk7aWYoci5pbmRleCE9PW4mJmw+MSl7ZS5zZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIsbCtvLHIpO3Muc2tpcFJvdyhpKTtpZihjPjEpe2ZvcihsZXQgdD1pKzE7dDxpK2M7dCsrKXtzLnNraXBSb3codCl9fX1lbHNle2NvbnN0IG49ZS5jcmVhdGVQb3NpdGlvbkF0KHQuZ2V0Q2hpbGQoaSksYSk7WlMobyxlLG4pfX19KX1zcGxpdENlbGxWZXJ0aWNhbGx5KHQsZT0yKXtjb25zdCBpPXRoaXMuZWRpdG9yLm1vZGVsO2NvbnN0IG49dC5wYXJlbnQ7Y29uc3Qgbz1uLnBhcmVudDtjb25zdCByPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwicm93c3BhblwiKXx8MSk7Y29uc3Qgcz1wYXJzZUludCh0LmdldEF0dHJpYnV0ZShcImNvbHNwYW5cIil8fDEpO2kuY2hhbmdlKGk9PntpZihzPjEpe2NvbnN0e25ld0NlbGxzU3BhbjpuLHVwZGF0ZWRTcGFuOm99PXRFKHMsZSk7cVAoXCJjb2xzcGFuXCIsbyx0LGkpO2NvbnN0IGE9e307aWYobj4xKXthLmNvbHNwYW49bn1pZihyPjEpe2Eucm93c3Bhbj1yfWNvbnN0IGM9cz5lP2UtMTpzLTE7WlMoYyxpLGkuY3JlYXRlUG9zaXRpb25BZnRlcih0KSxhKX1pZihzPGUpe2NvbnN0IG49ZS1zO2NvbnN0IGE9Wy4uLm5ldyBaUChvKV07Y29uc3R7Y29sdW1uOmN9PWEuZmluZCgoe2NlbGw6ZX0pPT5lPT09dCk7Y29uc3QgbD1hLmZpbHRlcigoe2NlbGw6ZSxjb2xzcGFuOmksY29sdW1uOm59KT0+e2NvbnN0IG89ZSE9PXQmJm49PT1jO2NvbnN0IHI9bjxjJiZuK2k+YztyZXR1cm4gb3x8cn0pO2Zvcihjb25zdHtjZWxsOnQsY29sc3BhbjplfW9mIGwpe2kuc2V0QXR0cmlidXRlKFwiY29sc3BhblwiLGUrbix0KX1jb25zdCBkPXt9O2lmKHI+MSl7ZC5yb3dzcGFuPXJ9WlMobixpLGkuY3JlYXRlUG9zaXRpb25BZnRlcih0KSxkKTtjb25zdCB1PW8uZ2V0QXR0cmlidXRlKFwiaGVhZGluZ0NvbHVtbnNcIil8fDA7aWYodT5jKXtxUChcImhlYWRpbmdDb2x1bW5zXCIsdStuLG8saSl9fX0pfXNwbGl0Q2VsbEhvcml6b250YWxseSh0LGU9Mil7Y29uc3QgaT10aGlzLmVkaXRvci5tb2RlbDtjb25zdCBuPXQucGFyZW50O2NvbnN0IG89bi5wYXJlbnQ7Y29uc3Qgcj1vLmdldENoaWxkSW5kZXgobik7Y29uc3Qgcz1wYXJzZUludCh0LmdldEF0dHJpYnV0ZShcInJvd3NwYW5cIil8fDEpO2NvbnN0IGE9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIpfHwxKTtpLmNoYW5nZShpPT57aWYocz4xKXtjb25zdCBuPVsuLi5uZXcgWlAobyx7c3RhcnRSb3c6cixlbmRSb3c6citzLTEsaW5jbHVkZVNwYW5uZWQ6dHJ1ZX0pXTtjb25zdHtuZXdDZWxsc1NwYW46Yyx1cGRhdGVkU3BhbjpsfT10RShzLGUpO3FQKFwicm93c3BhblwiLGwsdCxpKTtjb25zdHtjb2x1bW46ZH09bi5maW5kKCh7Y2VsbDplfSk9PmU9PT10KTtjb25zdCB1PXt9O2lmKGM+MSl7dS5yb3dzcGFuPWN9aWYoYT4xKXt1LmNvbHNwYW49YX1mb3IoY29uc3R7Y29sdW1uOnQscm93OmUsY2VsbEluZGV4OnN9b2Ygbil7Y29uc3Qgbj1lPj1yK2w7Y29uc3QgYT10PT09ZDtjb25zdCBoPShlK3IrbCklYz09PTA7aWYobiYmYSYmaCl7Y29uc3QgdD1pLmNyZWF0ZVBvc2l0aW9uQXQoby5nZXRDaGlsZChlKSxzKTtaUygxLGksdCx1KX19fWlmKHM8ZSl7Y29uc3Qgbj1lLXM7Y29uc3QgYz1bLi4ubmV3IFpQKG8se3N0YXJ0Um93OjAsZW5kUm93OnJ9KV07Zm9yKGNvbnN0e2NlbGw6ZSxyb3dzcGFuOm8scm93OnN9b2YgYyl7aWYoZSE9PXQmJnMrbz5yKXtjb25zdCB0PW8rbjtpLnNldEF0dHJpYnV0ZShcInJvd3NwYW5cIix0LGUpfX1jb25zdCBsPXt9O2lmKGE+MSl7bC5jb2xzcGFuPWF9WFMoaSxvLHIrMSxuLDEsbCk7Y29uc3QgZD1vLmdldEF0dHJpYnV0ZShcImhlYWRpbmdSb3dzXCIpfHwwO2lmKGQ+cil7cVAoXCJoZWFkaW5nUm93c1wiLGQrbixvLGkpfX19KX1nZXRDb2x1bW5zKHQpe2NvbnN0IGU9dC5nZXRDaGlsZCgwKTtyZXR1cm5bLi4uZS5nZXRDaGlsZHJlbigpXS5yZWR1Y2UoKHQsZSk9Pntjb25zdCBpPXBhcnNlSW50KGUuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKXx8MSk7cmV0dXJuIHQraX0sMCl9Z2V0Um93cyh0KXtyZXR1cm4gdC5jaGlsZENvdW50fX1mdW5jdGlvbiBYUyh0LGUsaSxuLG8scj17fSl7Zm9yKGxldCBzPTA7czxuO3MrKyl7Y29uc3Qgbj10LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVJvd1wiKTt0Lmluc2VydChuLGUsaSk7WlMobyx0LHQuY3JlYXRlUG9zaXRpb25BdChuLFwiZW5kXCIpLHIpfX1mdW5jdGlvbiBaUyh0LGUsaSxuPXt9KXtmb3IobGV0IG89MDtvPHQ7bysrKXtVUChlLGksbil9fWZ1bmN0aW9uIHRFKHQsZSl7aWYodDxlKXtyZXR1cm57bmV3Q2VsbHNTcGFuOjEsdXBkYXRlZFNwYW46MX19Y29uc3QgaT1NYXRoLmZsb29yKHQvZSk7Y29uc3Qgbj10LWkqZStpO3JldHVybntuZXdDZWxsc1NwYW46aSx1cGRhdGVkU3BhbjpufX1mdW5jdGlvbiBlRSh0KXt0LmRvY3VtZW50LnJlZ2lzdGVyUG9zdEZpeGVyKGU9PmlFKGUsdCkpfWZ1bmN0aW9uIGlFKHQsZSl7Y29uc3QgaT1lLmRvY3VtZW50LmRpZmZlci5nZXRDaGFuZ2VzKCk7bGV0IG49ZmFsc2U7Y29uc3Qgbz1uZXcgU2V0O2Zvcihjb25zdCBlIG9mIGkpe2xldCBpO2lmKGUubmFtZT09XCJ0YWJsZVwiJiZlLnR5cGU9PVwiaW5zZXJ0XCIpe2k9ZS5wb3NpdGlvbi5ub2RlQWZ0ZXJ9aWYoZS5uYW1lPT1cInRhYmxlUm93XCJ8fGUubmFtZT09XCJ0YWJsZUNlbGxcIil7aT1XUChcInRhYmxlXCIsZS5wb3NpdGlvbil9aWYoYUUoZSkpe2k9V1AoXCJ0YWJsZVwiLGUucmFuZ2Uuc3RhcnQpfWlmKGkmJiFvLmhhcyhpKSl7bj1uRShpLHQpfHxuO249b0UoaSx0KXx8bjtvLmFkZChpKX19cmV0dXJuIG59ZnVuY3Rpb24gbkUodCxlKXtsZXQgaT1mYWxzZTtjb25zdCBuPXJFKHQpO2lmKG4ubGVuZ3RoKXtpPXRydWU7Zm9yKGNvbnN0IHQgb2Ygbil7cVAoXCJyb3dzcGFuXCIsdC5yb3dzcGFuLHQuY2VsbCxlLDEpfX1yZXR1cm4gaX1mdW5jdGlvbiBvRSh0LGUpe2xldCBpPWZhbHNlO2NvbnN0IG49c0UodCk7Y29uc3Qgbz1uWzBdO2NvbnN0IHI9T2JqZWN0LnZhbHVlcyhuKS5ldmVyeSh0PT50PT09byk7aWYoIXIpe2NvbnN0IG89T2JqZWN0LnZhbHVlcyhuKS5yZWR1Y2UoKHQsZSk9PmU+dD9lOnQsMCk7Zm9yKGNvbnN0W3Isc11vZiBPYmplY3QuZW50cmllcyhuKSl7Y29uc3Qgbj1vLXM7aWYobil7Zm9yKGxldCBpPTA7aTxuO2krKyl7VVAoZSxlLmNyZWF0ZVBvc2l0aW9uQXQodC5nZXRDaGlsZChyKSxcImVuZFwiKSl9aT10cnVlfX19cmV0dXJuIGl9ZnVuY3Rpb24gckUodCl7Y29uc3QgZT1wYXJzZUludCh0LmdldEF0dHJpYnV0ZShcImhlYWRpbmdSb3dzXCIpfHwwKTtjb25zdCBpPXQuY2hpbGRDb3VudDtjb25zdCBuPVtdO2Zvcihjb25zdHtyb3c6byxyb3dzcGFuOnIsY2VsbDpzfW9mIG5ldyBaUCh0KSl7aWYocjwyKXtjb250aW51ZX1jb25zdCB0PW88ZTtjb25zdCBhPXQ/ZTppO2lmKG8rcj5hKXtjb25zdCB0PWEtbztuLnB1c2goe2NlbGw6cyxyb3dzcGFuOnR9KX19cmV0dXJuIG59ZnVuY3Rpb24gc0UodCl7Y29uc3QgZT17fTtmb3IoY29uc3R7cm93Oml9b2YgbmV3IFpQKHQse2luY2x1ZGVTcGFubmVkOnRydWV9KSl7aWYoIWVbaV0pe2VbaV09MH1lW2ldKz0xfXJldHVybiBlfWZ1bmN0aW9uIGFFKHQpe2NvbnN0IGU9dC50eXBlPT09XCJhdHRyaWJ1dGVcIjtjb25zdCBpPXQuYXR0cmlidXRlS2V5O3JldHVybiBlJiYoaT09PVwiaGVhZGluZ1Jvd3NcInx8aT09PVwiY29sc3BhblwifHxpPT09XCJyb3dzcGFuXCIpfWZ1bmN0aW9uIGNFKHQpe3QuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIoZT0+bEUoZSx0KSl9ZnVuY3Rpb24gbEUodCxlKXtjb25zdCBpPWUuZG9jdW1lbnQuZGlmZmVyLmdldENoYW5nZXMoKTtsZXQgbj1mYWxzZTtmb3IoY29uc3QgZSBvZiBpKXtpZihlLnR5cGU9PVwiaW5zZXJ0XCImJmUubmFtZT09XCJ0YWJsZVwiKXtuPWRFKGUucG9zaXRpb24ubm9kZUFmdGVyLHQpfHxufWlmKGUudHlwZT09XCJpbnNlcnRcIiYmZS5uYW1lPT1cInRhYmxlUm93XCIpe249dUUoZS5wb3NpdGlvbi5ub2RlQWZ0ZXIsdCl8fG59aWYoZS50eXBlPT1cImluc2VydFwiJiZlLm5hbWU9PVwidGFibGVDZWxsXCIpe249aEUoZS5wb3NpdGlvbi5ub2RlQWZ0ZXIsdCl8fG59aWYoZkUoZSkpe249aEUoZS5wb3NpdGlvbi5wYXJlbnQsdCl8fG59fXJldHVybiBufWZ1bmN0aW9uIGRFKHQsZSl7bGV0IGk9ZmFsc2U7Zm9yKGNvbnN0IG4gb2YgdC5nZXRDaGlsZHJlbigpKXtpPXVFKG4sZSl8fGl9cmV0dXJuIGl9ZnVuY3Rpb24gdUUodCxlKXtsZXQgaT1mYWxzZTtmb3IoY29uc3QgbiBvZiB0LmdldENoaWxkcmVuKCkpe2k9aEUobixlKXx8aX1yZXR1cm4gaX1mdW5jdGlvbiBoRSh0LGUpe2lmKHQuY2hpbGRDb3VudD09MCl7ZS5pbnNlcnRFbGVtZW50KFwicGFyYWdyYXBoXCIsdCk7cmV0dXJuIHRydWV9Y29uc3QgaT1BcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkuZmlsdGVyKHQ9PnQuaXMoXCJ0ZXh0XCIpKTtmb3IoY29uc3QgdCBvZiBpKXtlLndyYXAoZS5jcmVhdGVSYW5nZU9uKHQpLFwicGFyYWdyYXBoXCIpfXJldHVybiEhaS5sZW5ndGh9ZnVuY3Rpb24gZkUodCl7aWYoIXQucG9zaXRpb258fCF0LnBvc2l0aW9uLnBhcmVudC5pcyhcInRhYmxlQ2VsbFwiKSl7cmV0dXJuIGZhbHNlfXJldHVybiB0LnR5cGU9PVwiaW5zZXJ0XCImJnQubmFtZT09XCIkdGV4dFwifHx0LnR5cGU9PVwicmVtb3ZlXCJ9ZnVuY3Rpb24gZ0UodCl7dC5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcigoKT0+bUUodCkpfWZ1bmN0aW9uIG1FKHQpe2NvbnN0IGU9dC5kb2N1bWVudC5kaWZmZXI7Y29uc3QgaT1uZXcgU2V0O2Zvcihjb25zdCB0IG9mIGUuZ2V0Q2hhbmdlcygpKXtjb25zdCBlPXQudHlwZT09XCJpbnNlcnRcInx8dC50eXBlPT1cInJlbW92ZVwiP3QucG9zaXRpb24ucGFyZW50OnQucmFuZ2Uuc3RhcnQucGFyZW50O2lmKGUuaXMoXCJ0YWJsZUNlbGxcIikmJnBFKGUsdC50eXBlKSl7aS5hZGQoZSl9fWlmKGkuc2l6ZSl7Zm9yKGNvbnN0IHQgb2YgaS52YWx1ZXMoKSl7ZS5yZWZyZXNoSXRlbSh0KX1yZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9ZnVuY3Rpb24gcEUodCxlKXtjb25zdCBpPUFycmF5LmZyb20odC5nZXRDaGlsZHJlbigpKS5zb21lKHQ9PnQuaXMoXCJwYXJhZ3JhcGhcIikpO2lmKCFpKXtyZXR1cm4gZmFsc2V9aWYoZT09XCJhdHRyaWJ1dGVcIil7Y29uc3QgZT1BcnJheS5mcm9tKHQuZ2V0Q2hpbGQoMCkuZ2V0QXR0cmlidXRlS2V5cygpKS5sZW5ndGg7cmV0dXJuIHQuY2hpbGRDb3VudD09PTEmJmU8Mn1yZXR1cm4gdC5jaGlsZENvdW50PD0oZT09XCJpbnNlcnRcIj8yOjEpfXZhciBiRT1pKDkyKTtjbGFzcyB3RSBleHRlbmRzIG1we3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiVGFibGVFZGl0aW5nXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10Lm1vZGVsO2NvbnN0IGk9ZS5zY2hlbWE7Y29uc3Qgbj10LmNvbnZlcnNpb247aS5yZWdpc3RlcihcInRhYmxlXCIse2FsbG93V2hlcmU6XCIkYmxvY2tcIixhbGxvd0F0dHJpYnV0ZXM6W1wiaGVhZGluZ1Jvd3NcIixcImhlYWRpbmdDb2x1bW5zXCJdLGlzTGltaXQ6dHJ1ZSxpc09iamVjdDp0cnVlLGlzQmxvY2s6dHJ1ZX0pO2kucmVnaXN0ZXIoXCJ0YWJsZVJvd1wiLHthbGxvd0luOlwidGFibGVcIixpc0xpbWl0OnRydWV9KTtpLnJlZ2lzdGVyKFwidGFibGVDZWxsXCIse2FsbG93SW46XCJ0YWJsZVJvd1wiLGFsbG93QXR0cmlidXRlczpbXCJjb2xzcGFuXCIsXCJyb3dzcGFuXCJdLGlzT2JqZWN0OnRydWV9KTtpLmV4dGVuZChcIiRibG9ja1wiLHthbGxvd0luOlwidGFibGVDZWxsXCJ9KTtpLmFkZENoaWxkQ2hlY2soKHQsZSk9PntpZihlLm5hbWU9PVwidGFibGVcIiYmQXJyYXkuZnJvbSh0LmdldE5hbWVzKCkpLmluY2x1ZGVzKFwidGFibGVcIikpe3JldHVybiBmYWxzZX19KTtuLmZvcihcInVwY2FzdFwiKS5hZGQoSlAoKSk7bi5mb3IoXCJlZGl0aW5nRG93bmNhc3RcIikuYWRkKGxTKHthc1dpZGdldDp0cnVlfSkpO24uZm9yKFwiZGF0YURvd25jYXN0XCIpLmFkZChsUygpKTtuLmZvcihcInVwY2FzdFwiKS5lbGVtZW50VG9FbGVtZW50KHttb2RlbDpcInRhYmxlUm93XCIsdmlldzpcInRyXCJ9KTtuLmZvcihcImVkaXRpbmdEb3duY2FzdFwiKS5hZGQoZFMoe2FzV2lkZ2V0OnRydWV9KSk7bi5mb3IoXCJkYXRhRG93bmNhc3RcIikuYWRkKGRTKCkpO24uZm9yKFwiZG93bmNhc3RcIikuYWRkKGdTKCkpO24uZm9yKFwidXBjYXN0XCIpLmFkZChZUChcInRkXCIpKTtuLmZvcihcInVwY2FzdFwiKS5hZGQoWVAoXCJ0aFwiKSk7bi5mb3IoXCJlZGl0aW5nRG93bmNhc3RcIikuYWRkKHVTKHthc1dpZGdldDp0cnVlfSkpO24uZm9yKFwiZGF0YURvd25jYXN0XCIpLmFkZCh1UygpKTtuLmF0dHJpYnV0ZVRvQXR0cmlidXRlKHttb2RlbDpcImNvbHNwYW5cIix2aWV3OlwiY29sc3BhblwifSk7bi5hdHRyaWJ1dGVUb0F0dHJpYnV0ZSh7bW9kZWw6XCJyb3dzcGFuXCIsdmlldzpcInJvd3NwYW5cIn0pO24uZm9yKFwiZWRpdGluZ0Rvd25jYXN0XCIpLmFkZChmUyh7YXNXaWRnZXQ6dHJ1ZX0pKTtuLmZvcihcImRhdGFEb3duY2FzdFwiKS5hZGQoZlMoKSk7bi5mb3IoXCJlZGl0aW5nRG93bmNhc3RcIikuYWRkKGhTKHthc1dpZGdldDp0cnVlfSkpO24uZm9yKFwiZGF0YURvd25jYXN0XCIpLmFkZChoUygpKTt0LmNvbW1hbmRzLmFkZChcImluc2VydFRhYmxlXCIsbmV3IFNTKHQpKTt0LmNvbW1hbmRzLmFkZChcImluc2VydFRhYmxlUm93QWJvdmVcIixuZXcgUlModCx7b3JkZXI6XCJhYm92ZVwifSkpO3QuY29tbWFuZHMuYWRkKFwiaW5zZXJ0VGFibGVSb3dCZWxvd1wiLG5ldyBSUyh0LHtvcmRlcjpcImJlbG93XCJ9KSk7dC5jb21tYW5kcy5hZGQoXCJpbnNlcnRUYWJsZUNvbHVtbkxlZnRcIixuZXcgT1ModCx7b3JkZXI6XCJsZWZ0XCJ9KSk7dC5jb21tYW5kcy5hZGQoXCJpbnNlcnRUYWJsZUNvbHVtblJpZ2h0XCIsbmV3IE9TKHQse29yZGVyOlwicmlnaHRcIn0pKTt0LmNvbW1hbmRzLmFkZChcInJlbW92ZVRhYmxlUm93XCIsbmV3IEZTKHQpKTt0LmNvbW1hbmRzLmFkZChcInJlbW92ZVRhYmxlQ29sdW1uXCIsbmV3IFdTKHQpKTt0LmNvbW1hbmRzLmFkZChcInNwbGl0VGFibGVDZWxsVmVydGljYWxseVwiLG5ldyBJUyh0LHtkaXJlY3Rpb246XCJ2ZXJ0aWNhbGx5XCJ9KSk7dC5jb21tYW5kcy5hZGQoXCJzcGxpdFRhYmxlQ2VsbEhvcml6b250YWxseVwiLG5ldyBJUyh0LHtkaXJlY3Rpb246XCJob3Jpem9udGFsbHlcIn0pKTt0LmNvbW1hbmRzLmFkZChcIm1lcmdlVGFibGVDZWxsUmlnaHRcIixuZXcgVlModCx7ZGlyZWN0aW9uOlwicmlnaHRcIn0pKTt0LmNvbW1hbmRzLmFkZChcIm1lcmdlVGFibGVDZWxsTGVmdFwiLG5ldyBWUyh0LHtkaXJlY3Rpb246XCJsZWZ0XCJ9KSk7dC5jb21tYW5kcy5hZGQoXCJtZXJnZVRhYmxlQ2VsbERvd25cIixuZXcgVlModCx7ZGlyZWN0aW9uOlwiZG93blwifSkpO3QuY29tbWFuZHMuYWRkKFwibWVyZ2VUYWJsZUNlbGxVcFwiLG5ldyBWUyh0LHtkaXJlY3Rpb246XCJ1cFwifSkpO3QuY29tbWFuZHMuYWRkKFwic2V0VGFibGVDb2x1bW5IZWFkZXJcIixuZXcgWVModCkpO3QuY29tbWFuZHMuYWRkKFwic2V0VGFibGVSb3dIZWFkZXJcIixuZXcgR1ModCkpO2VFKGUpO2dFKGUpO2NFKGUpO3RoaXMuZWRpdG9yLmtleXN0cm9rZXMuc2V0KFwiVGFiXCIsKC4uLnQpPT50aGlzLl9oYW5kbGVUYWJPblNlbGVjdGVkVGFibGUoLi4udCkse3ByaW9yaXR5OlwibG93XCJ9KTt0aGlzLmVkaXRvci5rZXlzdHJva2VzLnNldChcIlRhYlwiLHRoaXMuX2dldFRhYkhhbmRsZXIodHJ1ZSkse3ByaW9yaXR5OlwibG93XCJ9KTt0aGlzLmVkaXRvci5rZXlzdHJva2VzLnNldChcIlNoaWZ0K1RhYlwiLHRoaXMuX2dldFRhYkhhbmRsZXIoZmFsc2UpLHtwcmlvcml0eTpcImxvd1wifSl9c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltRU119X2hhbmRsZVRhYk9uU2VsZWN0ZWRUYWJsZSh0LGUpe2NvbnN0IGk9dGhpcy5lZGl0b3I7Y29uc3Qgbj1pLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtpZighbi5pc0NvbGxhcHNlZCYmbi5yYW5nZUNvdW50PT09MSYmbi5nZXRGaXJzdFJhbmdlKCkuaXNGbGF0KXtjb25zdCB0PW4uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7aWYoIXR8fCF0LmlzKFwidGFibGVcIikpe3JldHVybn1lKCk7aS5tb2RlbC5jaGFuZ2UoZT0+e2Uuc2V0U2VsZWN0aW9uKGUuY3JlYXRlUmFuZ2VJbih0LmdldENoaWxkKDApLmdldENoaWxkKDApKSl9KX19X2dldFRhYkhhbmRsZXIodCl7Y29uc3QgZT10aGlzLmVkaXRvcjtyZXR1cm4oaSxuKT0+e2NvbnN0IG89ZS5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247Y29uc3Qgcj1yUyhvKVswXTtpZighcil7cmV0dXJufW4oKTtjb25zdCBzPXIucGFyZW50O2NvbnN0IGE9cy5wYXJlbnQ7Y29uc3QgYz1hLmdldENoaWxkSW5kZXgocyk7Y29uc3QgbD1zLmdldENoaWxkSW5kZXgocik7Y29uc3QgZD1sPT09MDtpZighdCYmZCYmYz09PTApe3JldHVybn1jb25zdCB1PWw9PT1zLmNoaWxkQ291bnQtMTtjb25zdCBoPWM9PT1hLmNoaWxkQ291bnQtMTtpZih0JiZoJiZ1KXtlLmV4ZWN1dGUoXCJpbnNlcnRUYWJsZVJvd0JlbG93XCIpO2lmKGM9PT1hLmNoaWxkQ291bnQtMSl7cmV0dXJufX1sZXQgZjtpZih0JiZ1KXtjb25zdCB0PWEuZ2V0Q2hpbGQoYysxKTtmPXQuZ2V0Q2hpbGQoMCl9ZWxzZSBpZighdCYmZCl7Y29uc3QgdD1hLmdldENoaWxkKGMtMSk7Zj10LmdldENoaWxkKHQuY2hpbGRDb3VudC0xKX1lbHNle2Y9cy5nZXRDaGlsZChsKyh0PzE6LTEpKX1lLm1vZGVsLmNoYW5nZSh0PT57dC5zZXRTZWxlY3Rpb24odC5jcmVhdGVSYW5nZUluKGYpKX0pfX19dmFyIGtFPWkoOTQpO2NsYXNzIF9FIGV4dGVuZHMgR3B7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLml0ZW1zPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpO3RoaXMuc2V0KFwicm93c1wiLDApO3RoaXMuc2V0KFwiY29sdW1uc1wiLDApO3RoaXMuYmluZChcImxhYmVsXCIpLnRvKHRoaXMsXCJjb2x1bW5zXCIsdGhpcyxcInJvd3NcIiwodCxlKT0+YCR7ZX0gw5cgJHt0fWApO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCJdfSxjaGlsZHJlbjpbe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrLWluc2VydC10YWJsZS1kcm9wZG93bl9fZ3JpZFwiXX0sY2hpbGRyZW46dGhpcy5pdGVtc30se3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrLWluc2VydC10YWJsZS1kcm9wZG93bl9fbGFiZWxcIl19LGNoaWxkcmVuOlt7dGV4dDplLnRvKFwibGFiZWxcIil9XX1dLG9uOnttb3VzZWRvd246ZS50byh0PT57dC5wcmV2ZW50RGVmYXVsdCgpfSksY2xpY2s6ZS50bygoKT0+e3RoaXMuZmlyZShcImV4ZWN1dGVcIil9KX19KTtmb3IobGV0IHQ9MDt0PDEwMDt0Kyspe2NvbnN0IGU9bmV3IHZFO2Uub24oXCJvdmVyXCIsKCk9Pntjb25zdCBlPU1hdGguZmxvb3IodC8xMCk7Y29uc3QgaT10JTEwO3RoaXMuc2V0KFwicm93c1wiLGUrMSk7dGhpcy5zZXQoXCJjb2x1bW5zXCIsaSsxKX0pO3RoaXMuaXRlbXMuYWRkKGUpfXRoaXMub24oXCJjaGFuZ2U6Y29sdW1uc1wiLCgpPT57dGhpcy5faGlnaGxpZ2h0R3JpZEJveGVzKCl9KTt0aGlzLm9uKFwiY2hhbmdlOnJvd3NcIiwoKT0+e3RoaXMuX2hpZ2hsaWdodEdyaWRCb3hlcygpfSl9Zm9jdXMoKXt9Zm9jdXNMYXN0KCl7fV9oaWdobGlnaHRHcmlkQm94ZXMoKXtjb25zdCB0PXRoaXMucm93cztjb25zdCBlPXRoaXMuY29sdW1uczt0aGlzLml0ZW1zLm1hcCgoaSxuKT0+e2NvbnN0IG89TWF0aC5mbG9vcihuLzEwKTtjb25zdCByPW4lMTA7Y29uc3Qgcz1vPHQmJnI8ZTtpLnNldChcImlzT25cIixzKX0pfX1jbGFzcyB2RSBleHRlbmRzIEdwe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXQoXCJpc09uXCIsZmFsc2UpO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ncmlkLWJveFwiLGUuaWYoXCJpc09uXCIsXCJjay1vblwiKV19LG9uOnttb3VzZW92ZXI6ZS50byhcIm92ZXJcIil9fSl9fXZhciB5RT0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMyA2djNoNFY2SDN6bTAgNHYzaDR2LTNIM3ptMCA0djNoNHYtM0gzem01IDNoNHYtM0g4djN6bTUgMGg0di0zaC00djN6bTQtNHYtM2gtNHYzaDR6bTAtNFY2aC00djNoNHptMS41IDhhMS41IDEuNSAwIDAgMS0xLjUgMS41SDNBMS41IDEuNSAwIDAgMSAxLjUgMTdWNGMuMjIyLS44NjMgMS4wNjgtMS41IDItMS41aDEzYy45MzIgMCAxLjc3OC42MzcgMiAxLjV2MTN6TTEyIDEzdi0zSDh2M2g0em0wLTRWNkg4djNoNHpcIi8+PC9zdmc+Jzt2YXIgeEU9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTIuNSAxaDE1QTEuNSAxLjUgMCAwIDEgMTkgMi41djE1YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMTVBMS41IDEuNSAwIDAgMSAxIDE3LjV2LTE1QTEuNSAxLjUgMCAwIDEgMi41IDF6TTIgMnYxNmgxNlYySDJ6XCIgb3BhY2l0eT1cIi42XCIvPjxwYXRoIGQ9XCJNMTggN3YxSDJWN2gxNnptMCA1djFIMnYtMWgxNnpcIiBvcGFjaXR5PVwiLjZcIi8+PHBhdGggZD1cIk0xNCAxdjE4YTEgMSAwIDAgMS0xIDFIN2ExIDEgMCAwIDEtMS0xVjFhMSAxIDAgMCAxIDEtMWg2YTEgMSAwIDAgMSAxIDF6bS0yIDFIOHY0aDRWMnptMCA2SDh2NGg0Vjh6bTAgNkg4djRoNHYtNHpcIi8+PC9zdmc+Jzt2YXIgQ0U9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTIuNSAxaDE1QTEuNSAxLjUgMCAwIDEgMTkgMi41djE1YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMTVBMS41IDEuNSAwIDAgMSAxIDE3LjV2LTE1QTEuNSAxLjUgMCAwIDEgMi41IDF6TTIgMnYxNmgxNlYySDJ6XCIgb3BhY2l0eT1cIi42XCIvPjxwYXRoIGQ9XCJNNyAyaDF2MTZIN1Yyem01IDBoMXYxNmgtMVYyelwiIG9wYWNpdHk9XCIuNlwiLz48cGF0aCBkPVwiTTEgNmgxOGExIDEgMCAwIDEgMSAxdjZhMSAxIDAgMCAxLTEgMUgxYTEgMSAwIDAgMS0xLTFWN2ExIDEgMCAwIDEgMS0xem0xIDJ2NGg0VjhIMnptNiAwdjRoNFY4SDh6bTYgMHY0aDRWOGgtNHpcIi8+PC9zdmc+Jzt2YXIgQUU9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTIuNSAxaDE1QTEuNSAxLjUgMCAwIDEgMTkgMi41djE1YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMTVBMS41IDEuNSAwIDAgMSAxIDE3LjV2LTE1QTEuNSAxLjUgMCAwIDEgMi41IDF6TTIgMnYxNmgxNlYySDJ6XCIgb3BhY2l0eT1cIi42XCIvPjxwYXRoIGQ9XCJNNyAyaDF2MTZIN1Yyem01IDBoMXY3aC0xVjJ6bTYgNXYxSDJWN2gxNnpNOCAxMnYxSDJ2LTFoNnpcIiBvcGFjaXR5PVwiLjZcIi8+PHBhdGggZD1cIk03IDdoMTJhMSAxIDAgMCAxIDEgMXYxMWExIDEgMCAwIDEtMSAxSDdhMSAxIDAgMCAxLTEtMVY4YTEgMSAwIDAgMSAxLTF6bTEgMnY5aDEwVjlIOHpcIi8+PC9zdmc+JztjbGFzcyBURSBleHRlbmRzIG1we2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dGhpcy5lZGl0b3IudDtjb25zdCBpPXQubG9jYWxlLmNvbnRlbnRMYW5ndWFnZURpcmVjdGlvbjtjb25zdCBuPWk9PT1cImx0clwiO3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoXCJpbnNlcnRUYWJsZVwiLGk9Pntjb25zdCBuPXQuY29tbWFuZHMuZ2V0KFwiaW5zZXJ0VGFibGVcIik7Y29uc3Qgbz1XYihpKTtvLmJpbmQoXCJpc0VuYWJsZWRcIikudG8obik7by5idXR0b25WaWV3LnNldCh7aWNvbjp5RSxsYWJlbDplKFwia2lcIiksdG9vbHRpcDp0cnVlfSk7bGV0IHI7by5vbihcImNoYW5nZTppc09wZW5cIiwoKT0+e2lmKHIpe3JldHVybn1yPW5ldyBfRShpKTtvLnBhbmVsVmlldy5jaGlsZHJlbi5hZGQocik7ci5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8obyk7by5idXR0b25WaWV3Lm9uKFwib3BlblwiLCgpPT57ci5yb3dzPTA7ci5jb2x1bW5zPTB9KTtvLm9uKFwiZXhlY3V0ZVwiLCgpPT57dC5leGVjdXRlKFwiaW5zZXJ0VGFibGVcIix7cm93czpyLnJvd3MsY29sdW1uczpyLmNvbHVtbnN9KTt0LmVkaXRpbmcudmlldy5mb2N1cygpfSl9KTtyZXR1cm4gb30pO3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoXCJ0YWJsZUNvbHVtblwiLHQ9Pntjb25zdCBpPVt7dHlwZTpcInN3aXRjaGJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcInNldFRhYmxlQ29sdW1uSGVhZGVyXCIsbGFiZWw6ZShcImtqXCIpLGJpbmRJc09uOnRydWV9fSx7dHlwZTpcInNlcGFyYXRvclwifSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpuP1wiaW5zZXJ0VGFibGVDb2x1bW5MZWZ0XCI6XCJpbnNlcnRUYWJsZUNvbHVtblJpZ2h0XCIsbGFiZWw6ZShcImtrXCIpfX0se3R5cGU6XCJidXR0b25cIixtb2RlbDp7Y29tbWFuZE5hbWU6bj9cImluc2VydFRhYmxlQ29sdW1uUmlnaHRcIjpcImluc2VydFRhYmxlQ29sdW1uTGVmdFwiLGxhYmVsOmUoXCJrbFwiKX19LHt0eXBlOlwiYnV0dG9uXCIsbW9kZWw6e2NvbW1hbmROYW1lOlwicmVtb3ZlVGFibGVDb2x1bW5cIixsYWJlbDplKFwia21cIil9fV07cmV0dXJuIHRoaXMuX3ByZXBhcmVEcm9wZG93bihlKFwia25cIikseEUsaSx0KX0pO3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoXCJ0YWJsZVJvd1wiLHQ9Pntjb25zdCBpPVt7dHlwZTpcInN3aXRjaGJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcInNldFRhYmxlUm93SGVhZGVyXCIsbGFiZWw6ZShcImtvXCIpLGJpbmRJc09uOnRydWV9fSx7dHlwZTpcInNlcGFyYXRvclwifSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcImluc2VydFRhYmxlUm93QmVsb3dcIixsYWJlbDplKFwia3BcIil9fSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcImluc2VydFRhYmxlUm93QWJvdmVcIixsYWJlbDplKFwia3FcIil9fSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcInJlbW92ZVRhYmxlUm93XCIsbGFiZWw6ZShcImtyXCIpfX1dO3JldHVybiB0aGlzLl9wcmVwYXJlRHJvcGRvd24oZShcImtzXCIpLENFLGksdCl9KTt0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKFwibWVyZ2VUYWJsZUNlbGxzXCIsdD0+e2NvbnN0IGk9W3t0eXBlOlwiYnV0dG9uXCIsbW9kZWw6e2NvbW1hbmROYW1lOlwibWVyZ2VUYWJsZUNlbGxVcFwiLGxhYmVsOmUoXCJrdFwiKX19LHt0eXBlOlwiYnV0dG9uXCIsbW9kZWw6e2NvbW1hbmROYW1lOm4/XCJtZXJnZVRhYmxlQ2VsbFJpZ2h0XCI6XCJtZXJnZVRhYmxlQ2VsbExlZnRcIixsYWJlbDplKFwia3VcIil9fSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcIm1lcmdlVGFibGVDZWxsRG93blwiLGxhYmVsOmUoXCJrdlwiKX19LHt0eXBlOlwiYnV0dG9uXCIsbW9kZWw6e2NvbW1hbmROYW1lOm4/XCJtZXJnZVRhYmxlQ2VsbExlZnRcIjpcIm1lcmdlVGFibGVDZWxsUmlnaHRcIixsYWJlbDplKFwia3dcIil9fSx7dHlwZTpcInNlcGFyYXRvclwifSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcInNwbGl0VGFibGVDZWxsVmVydGljYWxseVwiLGxhYmVsOmUoXCJreFwiKX19LHt0eXBlOlwiYnV0dG9uXCIsbW9kZWw6e2NvbW1hbmROYW1lOlwic3BsaXRUYWJsZUNlbGxIb3Jpem9udGFsbHlcIixsYWJlbDplKFwia3lcIil9fV07cmV0dXJuIHRoaXMuX3ByZXBhcmVEcm9wZG93bihlKFwia3pcIiksQUUsaSx0KX0pfV9wcmVwYXJlRHJvcGRvd24odCxlLGksbil7Y29uc3Qgbz10aGlzLmVkaXRvcjtjb25zdCByPVdiKG4pO2NvbnN0IHM9W107Y29uc3QgYT1uZXcgeXM7Zm9yKGNvbnN0IHQgb2YgaSl7UEUodCxvLHMsYSl9VWIocixhLG8udWkuY29tcG9uZW50RmFjdG9yeSk7ci5idXR0b25WaWV3LnNldCh7bGFiZWw6dCxpY29uOmUsdG9vbHRpcDp0cnVlfSk7ci5iaW5kKFwiaXNFbmFibGVkXCIpLnRvTWFueShzLFwiaXNFbmFibGVkXCIsKC4uLnQpPT50LnNvbWUodD0+dCkpO3RoaXMubGlzdGVuVG8ocixcImV4ZWN1dGVcIix0PT57by5leGVjdXRlKHQuc291cmNlLmNvbW1hbmROYW1lKTtvLmVkaXRpbmcudmlldy5mb2N1cygpfSk7cmV0dXJuIHJ9fWZ1bmN0aW9uIFBFKHQsZSxpLG4pe2NvbnN0IG89dC5tb2RlbD1uZXcgZV8odC5tb2RlbCk7Y29uc3R7Y29tbWFuZE5hbWU6cixiaW5kSXNPbjpzfT10Lm1vZGVsO2lmKHQudHlwZT09PVwiYnV0dG9uXCJ8fHQudHlwZT09PVwic3dpdGNoYnV0dG9uXCIpe2NvbnN0IHQ9ZS5jb21tYW5kcy5nZXQocik7aS5wdXNoKHQpO28uc2V0KHtjb21tYW5kTmFtZTpyfSk7by5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKHQpO2lmKHMpe28uYmluZChcImlzT25cIikudG8odCxcInZhbHVlXCIpfX1vLnNldCh7d2l0aFRleHQ6dHJ1ZX0pO24uYWRkKHQpfWNsYXNzIFNFIGV4dGVuZHMgSnV7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7dGhpcy5kb21FdmVudFR5cGU9W1wibW91c2Vtb3ZlXCIsXCJtb3VzZXVwXCIsXCJtb3VzZWxlYXZlXCJdfW9uRG9tRXZlbnQodCl7dGhpcy5maXJlKHQudHlwZSx0KX19ZnVuY3Rpb24gRUUodCxlLGkpe2NvbnN0IG49QXJyYXkuZnJvbSh0KTtjb25zdCBvPW5bMF07Y29uc3Qgcj1uW24ubGVuZ3RoLTFdO2NvbnN0e3JvdzpzLGNvbHVtbjphfT1lLmdldENlbGxMb2NhdGlvbihvKTtjb25zdCBjPVJFKG4sYSxpLGUpO2NvbnN0e3JvdzpsLGNvbHVtbjpkfT1lLmdldENlbGxMb2NhdGlvbihyKTtjb25zdCB1PWQtYSsxO2NvbnN0IGg9bC1zKzE7SUUoYyx1LGgsaSxlKTtjb25zdCBmPVdQKFwidGFibGVcIixvKTtWRShjLGYscyxhLGkpO3JldHVybiBjfWZ1bmN0aW9uIFJFKHQsZSxpLG4pe2NvbnN0IG89aS5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7Y29uc3Qgcj1uZXcgTWFwO2NvbnN0IHM9bmV3IE1hcDtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PVdQKFwidGFibGVSb3dcIixlKTtpZighci5oYXModCkpe2NvbnN0IGU9dC5fY2xvbmUoKTtpLmFwcGVuZChlLG8pO3Iuc2V0KHQsZSl9Y29uc3QgYT1lLl9jbG9uZSh0cnVlKTtjb25zdHtjb2x1bW46Y309bi5nZXRDZWxsTG9jYXRpb24oZSk7cy5zZXQoYSxjKTtpLmFwcGVuZChhLHIuZ2V0KHQpKX1PRShvLGUscyxpLG4pO3JldHVybiBvfWZ1bmN0aW9uIE9FKHQsZSxpLG4sbyl7Zm9yKGNvbnN0IHIgb2YgdC5nZXRDaGlsZHJlbigpKXtmb3IoY29uc3QgdCBvZiBBcnJheS5mcm9tKHIuZ2V0Q2hpbGRyZW4oKSkpe2NvbnN0e2NvbHVtbjpyfT1vLmdldENlbGxMb2NhdGlvbih0KTtjb25zdCBzPWkuZ2V0KHQpO2NvbnN0IGE9cy1lO2lmKHIhPT1hKXtmb3IobGV0IGU9MDtlPGEtcjtlKyspe2NvbnN0IGU9bi5jcmVhdGVFbGVtZW50KFwidGFibGVDZWxsXCIpO24uaW5zZXJ0KGUsbi5jcmVhdGVQb3NpdGlvbkJlZm9yZSh0KSk7Y29uc3QgaT1uLmNyZWF0ZUVsZW1lbnQoXCJwYXJhZ3JhcGhcIik7bi5pbnNlcnQoaSxlLDApO24uaW5zZXJ0VGV4dChcIlwiLGksMCl9fX19fWZ1bmN0aW9uIElFKHQsZSxpLG4sbyl7Zm9yKGNvbnN0IHIgb2YgdC5nZXRDaGlsZHJlbigpKXtmb3IoY29uc3QgdCBvZiByLmdldENoaWxkcmVuKCkpe2NvbnN0IHI9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIpfHwxKTtjb25zdCBzPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwicm93c3BhblwiKXx8MSk7Y29uc3R7cm93OmEsY29sdW1uOmN9PW8uZ2V0Q2VsbExvY2F0aW9uKHQpO2lmKGMrcj5lKXtjb25zdCBpPWUtYztpZihpPjEpe24uc2V0QXR0cmlidXRlKFwiY29sc3BhblwiLGksdCl9ZWxzZXtuLnJlbW92ZUF0dHJpYnV0ZShcImNvbHNwYW5cIix0KX19aWYoYStzPmkpe2NvbnN0IGU9aS1hO2lmKGU+MSl7bi5zZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIsZSx0KX1lbHNle24ucmVtb3ZlQXR0cmlidXRlKFwicm93c3BhblwiLHQpfX19fX1mdW5jdGlvbiBWRSh0LGUsaSxuLG8pe2NvbnN0IHI9cGFyc2VJbnQoZS5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiKXx8MCk7aWYocj4wKXtjb25zdCBlPXItaTtvLnNldEF0dHJpYnV0ZShcImhlYWRpbmdSb3dzXCIsZSx0KX1jb25zdCBzPXBhcnNlSW50KGUuZ2V0QXR0cmlidXRlKFwiaGVhZGluZ0NvbHVtbnNcIil8fDApO2lmKHM+MCl7Y29uc3QgZT1zLW47by5zZXRBdHRyaWJ1dGUoXCJoZWFkaW5nQ29sdW1uc1wiLGUsdCl9fXZhciBORT1pKDk2KTtjbGFzcyBNRSBleHRlbmRzIG1we3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiVGFibGVTZWxlY3Rpb25cIn1zdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW1FTXX1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQubW9kZWw7dGhpcy5saXN0ZW5UbyhlLFwiZGVsZXRlQ29udGVudFwiLCh0LGUpPT50aGlzLl9oYW5kbGVEZWxldGVDb250ZW50KHQsZSkse3ByaW9yaXR5OlwiaGlnaFwifSk7dC5lZGl0aW5nLnZpZXcuYWRkT2JzZXJ2ZXIoU0UpO3RoaXMuX2RlZmluZVNlbGVjdGlvbkNvbnZlcnRlcigpO3RoaXMuX2VuYWJsZVNoaWZ0Q2xpY2tTZWxlY3Rpb24oKTt0aGlzLl9lbmFibGVNb3VzZURyYWdTZWxlY3Rpb24oKX1nZXRTZWxlY3RlZFRhYmxlQ2VsbHMoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtjb25zdCBlPW9TKHQpO2lmKGUubGVuZ3RoPT0wKXtyZXR1cm4gbnVsbH1yZXR1cm4gZX1nZXRTZWxlY3Rpb25Bc0ZyYWdtZW50KCl7Y29uc3QgdD10aGlzLmdldFNlbGVjdGVkVGFibGVDZWxscygpO2lmKCF0KXtyZXR1cm4gbnVsbH1yZXR1cm4gdGhpcy5lZGl0b3IubW9kZWwuY2hhbmdlKGU9Pntjb25zdCBpPWUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2NvbnN0IG49RUUodCx0aGlzLmVkaXRvci5wbHVnaW5zLmdldChcIlRhYmxlVXRpbHNcIiksZSk7ZS5pbnNlcnQobixpLDApO3JldHVybiBpfSl9X2RlZmluZVNlbGVjdGlvbkNvbnZlcnRlcigpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT1uZXcgU2V0O3QuY29udmVyc2lvbi5mb3IoXCJlZGl0aW5nRG93bmNhc3RcIikuYWRkKHQ9PnQub24oXCJzZWxlY3Rpb25cIiwodCxuLG8pPT57Y29uc3Qgcj1vLndyaXRlcjtpKHIpO2NvbnN0IHM9dGhpcy5nZXRTZWxlY3RlZFRhYmxlQ2VsbHMoKTtpZighcyl7cmV0dXJufWZvcihjb25zdCB0IG9mIHMpe2NvbnN0IGk9by5tYXBwZXIudG9WaWV3RWxlbWVudCh0KTtyLmFkZENsYXNzKFwiY2stZWRpdG9yX19lZGl0YWJsZV9zZWxlY3RlZFwiLGkpO2UuYWRkKGkpfWNvbnN0IGE9by5tYXBwZXIudG9WaWV3RWxlbWVudChzW3MubGVuZ3RoLTFdKTtyLnNldFNlbGVjdGlvbihhLDApfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pKTtmdW5jdGlvbiBpKHQpe2Zvcihjb25zdCBpIG9mIGUpe3QucmVtb3ZlQ2xhc3MoXCJjay1lZGl0b3JfX2VkaXRhYmxlX3NlbGVjdGVkXCIsaSl9ZS5jbGVhcigpfX1fZW5hYmxlU2hpZnRDbGlja1NlbGVjdGlvbigpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7bGV0IGU9ZmFsc2U7dGhpcy5saXN0ZW5Ubyh0LmVkaXRpbmcudmlldy5kb2N1bWVudCxcIm1vdXNlZG93blwiLChpLG4pPT57aWYoIXRoaXMuaXNFbmFibGVkKXtyZXR1cm59aWYoIW4uZG9tRXZlbnQuc2hpZnRLZXkpe3JldHVybn1jb25zdCBvPXJTKHQubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uKVswXTtpZighbyl7cmV0dXJufWNvbnN0IHI9dGhpcy5fZ2V0TW9kZWxUYWJsZUNlbGxGcm9tRG9tRXZlbnQobik7aWYociYmekUobyxyKSl7ZT10cnVlO3RoaXMuX3NldENlbGxTZWxlY3Rpb24obyxyKTtuLnByZXZlbnREZWZhdWx0KCl9fSk7dGhpcy5saXN0ZW5Ubyh0LmVkaXRpbmcudmlldy5kb2N1bWVudCxcIm1vdXNldXBcIiwoKT0+e2U9ZmFsc2V9KTt0aGlzLmxpc3RlblRvKHQuZWRpdGluZy52aWV3LmRvY3VtZW50LFwic2VsZWN0aW9uQ2hhbmdlXCIsdD0+e2lmKGUpe3Quc3RvcCgpfX0se3ByaW9yaXR5OlwiaGlnaGVzdFwifSl9X2VuYWJsZU1vdXNlRHJhZ1NlbGVjdGlvbigpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7bGV0IGUsaTtsZXQgbj1mYWxzZTtsZXQgbz1mYWxzZTt0aGlzLmxpc3RlblRvKHQuZWRpdGluZy52aWV3LmRvY3VtZW50LFwibW91c2Vkb3duXCIsKHQsaSk9PntpZighdGhpcy5pc0VuYWJsZWQpe3JldHVybn1pZihpLmRvbUV2ZW50LnNoaWZ0S2V5fHxpLmRvbUV2ZW50LmN0cmxLZXl8fGkuZG9tRXZlbnQuYWx0S2V5KXtyZXR1cm59ZT10aGlzLl9nZXRNb2RlbFRhYmxlQ2VsbEZyb21Eb21FdmVudChpKX0pO3RoaXMubGlzdGVuVG8odC5lZGl0aW5nLnZpZXcuZG9jdW1lbnQsXCJtb3VzZW1vdmVcIiwodCxyKT0+e2lmKCFyLmRvbUV2ZW50LmJ1dHRvbnMpe3JldHVybn1pZighZSl7cmV0dXJufWNvbnN0IHM9dGhpcy5fZ2V0TW9kZWxUYWJsZUNlbGxGcm9tRG9tRXZlbnQocik7aWYocyYmekUoZSxzKSl7aT1zO2lmKCFuJiZpIT1lKXtuPXRydWV9fWlmKCFuKXtyZXR1cm59bz10cnVlO3RoaXMuX3NldENlbGxTZWxlY3Rpb24oZSxpKTtyLnByZXZlbnREZWZhdWx0KCl9KTt0aGlzLmxpc3RlblRvKHQuZWRpdGluZy52aWV3LmRvY3VtZW50LFwibW91c2V1cFwiLCgpPT57bj1mYWxzZTtvPWZhbHNlO2U9bnVsbDtpPW51bGx9KTt0aGlzLmxpc3RlblRvKHQuZWRpdGluZy52aWV3LmRvY3VtZW50LFwic2VsZWN0aW9uQ2hhbmdlXCIsdD0+e2lmKG8pe3Quc3RvcCgpfX0se3ByaW9yaXR5OlwiaGlnaGVzdFwifSl9X2hhbmRsZURlbGV0ZUNvbnRlbnQodCxlKXtjb25zdFtpLG5dPWU7Y29uc3Qgbz10aGlzLmVkaXRvci5tb2RlbDtjb25zdCByPSFufHxuLmRpcmVjdGlvbj09XCJiYWNrd2FyZFwiO2NvbnN0IHM9b1MoaSk7aWYoIXMubGVuZ3RoKXtyZXR1cm59dC5zdG9wKCk7by5jaGFuZ2UodD0+e2NvbnN0IGU9c1tyP3MubGVuZ3RoLTE6MF07by5jaGFuZ2UodD0+e2Zvcihjb25zdCBlIG9mIHMpe28uZGVsZXRlQ29udGVudCh0LmNyZWF0ZVNlbGVjdGlvbihlLFwiaW5cIikpfX0pO2NvbnN0IG49by5zY2hlbWEuZ2V0TmVhcmVzdFNlbGVjdGlvblJhbmdlKHQuY3JlYXRlUG9zaXRpb25BdChlLDApKTtpZihuKXtpZihpLmlzKFwiZG9jdW1lbnRTZWxlY3Rpb25cIikpe3Quc2V0U2VsZWN0aW9uKG4pfWVsc2V7aS5zZXRUbyhuKX19fSl9X3NldENlbGxTZWxlY3Rpb24odCxlKXtjb25zdCBpPXRoaXMuX2dldENlbGxzVG9TZWxlY3QodCxlKTt0aGlzLmVkaXRvci5tb2RlbC5jaGFuZ2UodD0+e3Quc2V0U2VsZWN0aW9uKGkuY2VsbHMubWFwKGU9PnQuY3JlYXRlUmFuZ2VPbihlKSkse2JhY2t3YXJkOmkuYmFja3dhcmR9KX0pfV9nZXRNb2RlbFRhYmxlQ2VsbEZyb21Eb21FdmVudCh0KXtjb25zdCBlPXQudGFyZ2V0O2NvbnN0IGk9dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmNyZWF0ZVBvc2l0aW9uQXQoZSwwKTtjb25zdCBuPXRoaXMuZWRpdG9yLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxQb3NpdGlvbihpKTtjb25zdCBvPW4ucGFyZW50O2lmKCFvKXtyZXR1cm59aWYoby5pcyhcInRhYmxlQ2VsbFwiKSl7cmV0dXJuIG99cmV0dXJuIFdQKFwidGFibGVDZWxsXCIsbyl9X2dldENlbGxzVG9TZWxlY3QodCxlKXtjb25zdCBpPXRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KFwiVGFibGVVdGlsc1wiKTtjb25zdCBuPWkuZ2V0Q2VsbExvY2F0aW9uKHQpO2NvbnN0IG89aS5nZXRDZWxsTG9jYXRpb24oZSk7Y29uc3Qgcj1NYXRoLm1pbihuLnJvdyxvLnJvdyk7Y29uc3Qgcz1NYXRoLm1heChuLnJvdyxvLnJvdyk7Y29uc3QgYT1NYXRoLm1pbihuLmNvbHVtbixvLmNvbHVtbik7Y29uc3QgYz1NYXRoLm1heChuLmNvbHVtbixvLmNvbHVtbik7Y29uc3QgbD1bXTtmb3IoY29uc3QgZSBvZiBuZXcgWlAoV1AoXCJ0YWJsZVwiLHQpLHtzdGFydFJvdzpyLGVuZFJvdzpzfSkpe2lmKGUuY29sdW1uPj1hJiZlLmNvbHVtbjw9Yyl7bC5wdXNoKGUuY2VsbCl9fWlmKEJFKG4sbykpe3JldHVybntjZWxsczpsLnJldmVyc2UoKSxiYWNrd2FyZDp0cnVlfX1yZXR1cm57Y2VsbHM6bCxiYWNrd2FyZDpmYWxzZX19fWZ1bmN0aW9uIEJFKHQsZSl7aWYodC5yb3c+ZS5yb3cpe3JldHVybiB0cnVlfWlmKHQucm93PT1lLnJvdyYmdC5jb2x1bW4+ZS5jb2x1bW4pe3JldHVybiB0cnVlfXJldHVybiBmYWxzZX1mdW5jdGlvbiB6RSh0LGUpe3JldHVybiB0LnBhcmVudC5wYXJlbnQ9PWUucGFyZW50LnBhcmVudH1jbGFzcyBMRSBleHRlbmRzIG1we3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiVGFibGVDbGlwYm9hcmRcIn1zdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW01FXX1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQuZWRpdGluZy52aWV3LmRvY3VtZW50O3RoaXMubGlzdGVuVG8oZSxcImNvcHlcIiwodCxlKT0+dGhpcy5fb25Db3B5Q3V0KHQsZSkpO3RoaXMubGlzdGVuVG8oZSxcImN1dFwiLCh0LGUpPT50aGlzLl9vbkNvcHlDdXQodCxlKSl9X29uQ29weUN1dCh0LGUpe2NvbnN0IGk9dGhpcy5lZGl0b3IucGx1Z2lucy5nZXQoXCJUYWJsZVNlbGVjdGlvblwiKTtpZighaS5nZXRTZWxlY3RlZFRhYmxlQ2VsbHMoKSl7cmV0dXJufWlmKHQubmFtZT09XCJjdXRcIiYmdGhpcy5lZGl0b3IuaXNSZWFkT25seSl7cmV0dXJufWUucHJldmVudERlZmF1bHQoKTt0LnN0b3AoKTtjb25zdCBuPXRoaXMuZWRpdG9yLmRhdGE7Y29uc3Qgbz10aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuZG9jdW1lbnQ7Y29uc3Qgcj1uLnRvVmlldyhpLmdldFNlbGVjdGlvbkFzRnJhZ21lbnQoKSk7by5maXJlKFwiY2xpcGJvYXJkT3V0cHV0XCIse2RhdGFUcmFuc2ZlcjplLmRhdGFUcmFuc2Zlcixjb250ZW50OnIsbWV0aG9kOnQubmFtZX0pfX12YXIgRkU9aSg5OCk7Y2xhc3MgREUgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW3dFLFRFLE1FLExFLEZ2XX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlRhYmxlXCJ9fXZhciBqRT1pKDEwMCk7Y2xhc3MgSEUgZXh0ZW5kcyBHcHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpO2NvbnN0IGk9YGNrLWxhYmVsZWQtdmlldy0ke2lzKCl9YDtjb25zdCBuPWBjay1sYWJlbGVkLXZpZXctc3RhdHVzLSR7aXMoKX1gO3RoaXMudmlldz1lKHRoaXMsaSxuKTt0aGlzLnNldChcImxhYmVsXCIpO3RoaXMuc2V0KFwiaXNFbmFibGVkXCIsdHJ1ZSk7dGhpcy5zZXQoXCJlcnJvclRleHRcIixudWxsKTt0aGlzLnNldChcImluZm9UZXh0XCIsbnVsbCk7dGhpcy5zZXQoXCJjbGFzc1wiKTt0aGlzLmxhYmVsVmlldz10aGlzLl9jcmVhdGVMYWJlbFZpZXcoaSk7dGhpcy5zdGF0dXNWaWV3PXRoaXMuX2NyZWF0ZVN0YXR1c1ZpZXcobik7dGhpcy5iaW5kKFwiX3N0YXR1c1RleHRcIikudG8odGhpcyxcImVycm9yVGV4dFwiLHRoaXMsXCJpbmZvVGV4dFwiLCh0LGUpPT50fHxlKTtjb25zdCBvPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1sYWJlbGVkLXZpZXdcIixvLnRvKFwiY2xhc3NcIiksby5pZihcImlzRW5hYmxlZFwiLFwiY2stZGlzYWJsZWRcIix0PT4hdCldfSxjaGlsZHJlbjpbdGhpcy5sYWJlbFZpZXcsdGhpcy52aWV3LHRoaXMuc3RhdHVzVmlld119KX1fY3JlYXRlTGFiZWxWaWV3KHQpe2NvbnN0IGU9bmV3IE1rKHRoaXMubG9jYWxlKTtlLmZvcj10O2UuYmluZChcInRleHRcIikudG8odGhpcyxcImxhYmVsXCIpO3JldHVybiBlfV9jcmVhdGVTdGF0dXNWaWV3KHQpe2NvbnN0IGU9bmV3IEdwKHRoaXMubG9jYWxlKTtjb25zdCBpPXRoaXMuYmluZFRlbXBsYXRlO2Uuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1sYWJlbGVkLXZpZXdfX3N0YXR1c1wiLGkuaWYoXCJlcnJvclRleHRcIixcImNrLWxhYmVsZWQtdmlld19fc3RhdHVzX2Vycm9yXCIpLGkuaWYoXCJfc3RhdHVzVGV4dFwiLFwiY2staGlkZGVuXCIsdD0+IXQpXSxpZDp0LHJvbGU6aS5pZihcImVycm9yVGV4dFwiLFwiYWxlcnRcIil9LGNoaWxkcmVuOlt7dGV4dDppLnRvKFwiX3N0YXR1c1RleHRcIil9XX0pO3JldHVybiBlfWZvY3VzKCl7dGhpcy52aWV3LmZvY3VzKCl9fWZ1bmN0aW9uIFdFKHQsZSxpKXtjb25zdCBuPW5ldyBZdih0LmxvY2FsZSk7bi5zZXQoe2lkOmUsYXJpYURlc2NyaWJlZEJ5SWQ6aX0pO24uYmluZChcImlzUmVhZE9ubHlcIikudG8odCxcImlzRW5hYmxlZFwiLHQ9PiF0KTtuLmJpbmQoXCJoYXNFcnJvclwiKS50byh0LFwiZXJyb3JUZXh0XCIsdD0+ISF0KTtuLm9uKFwiaW5wdXRcIiwoKT0+e3QuZXJyb3JUZXh0PW51bGx9KTtyZXR1cm4gbn1mdW5jdGlvbiBxRSh0LGUsaSl7Y29uc3Qgbj1XYih0LmxvY2FsZSk7bi5zZXQoe2lkOmUsYXJpYURlc2NyaWJlZEJ5SWQ6aX0pO24uYmluZChcImlzRW5hYmxlZFwiKS50byh0KTtyZXR1cm4gbn12YXIgVUU9aSgxMDIpO2NsYXNzICRFIGV4dGVuZHMgR3B7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KTtjb25zdCBpPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0KFwidmFsdWVcIixcIlwiKTt0aGlzLnNldChcImlkXCIpO3RoaXMuc2V0KFwiaXNSZWFkT25seVwiLGZhbHNlKTt0aGlzLnNldChcImhhc0Vycm9yXCIsZmFsc2UpO3RoaXMuc2V0KFwiYXJpYURlc2NyaWJlZEJ5SWRcIik7dGhpcy5vcHRpb25zPWU7dGhpcy5fZHJvcGRvd25WaWV3PXRoaXMuX2NyZWF0ZURyb3Bkb3duVmlldyh0KTt0aGlzLl9pbnB1dFZpZXc9dGhpcy5fY3JlYXRlSW5wdXRUZXh0Vmlldyh0KTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2staW5wdXQtY29sb3JcIixpLmlmKFwiaGFzRXJyb3JcIixcImNrLWVycm9yXCIpXSxpZDppLnRvKFwiaWRcIiksXCJhcmlhLWludmFsaWRcIjppLmlmKFwiaGFzRXJyb3JcIix0cnVlKSxcImFyaWEtZGVzY3JpYmVkYnlcIjppLnRvKFwiYXJpYURlc2NyaWJlZEJ5SWRcIil9LGNoaWxkcmVuOlt0aGlzLl9pbnB1dFZpZXcsdGhpcy5fZHJvcGRvd25WaWV3XX0pfWZvY3VzKCl7dGhpcy5faW5wdXRWaWV3LmZvY3VzKCl9X2NyZWF0ZURyb3Bkb3duVmlldygpe2NvbnN0IHQ9dGhpcy5sb2NhbGU7Y29uc3QgZT10aGlzLmJpbmRUZW1wbGF0ZTtjb25zdCBpPXRoaXMuX2NyZWF0ZUNvbG9yR3JpZCh0KTtjb25zdCBuPVdiKHQpO2NvbnN0IG89bmV3IEdwO2NvbnN0IHI9dGhpcy5fY3JlYXRlUmVtb3ZlQ29sb3JCdXR0b24odCk7by5zZXRUZW1wbGF0ZSh7dGFnOlwic3BhblwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1pbnB1dC1jb2xvcl9fYnV0dG9uX19wcmV2aWV3XCJdLHN0eWxlOntiYWNrZ3JvdW5kQ29sb3I6ZS50byhcInZhbHVlXCIpfX0sY2hpbGRyZW46W3t0YWc6XCJzcGFuXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWlucHV0LWNvbG9yX19idXR0b25fX3ByZXZpZXdfX25vLWNvbG9yLWluZGljYXRvclwiLGUuaWYoXCJ2YWx1ZVwiLFwiY2staGlkZGVuXCIsdD0+dCE9XCJcIildfX1dfSk7bi5idXR0b25WaWV3LmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntjbGFzczpcImNrLWlucHV0LWNvbG9yX19idXR0b25cIn19KTtuLmJ1dHRvblZpZXcuY2hpbGRyZW4uYWRkKG8pO24ucGFuZWxQb3NpdGlvbj10LnVpTGFuZ3VhZ2VEaXJlY3Rpb249PT1cInJ0bFwiP1wic2VcIjpcInN3XCI7bi5wYW5lbFZpZXcuY2hpbGRyZW4uYWRkKHIpO24ucGFuZWxWaWV3LmNoaWxkcmVuLmFkZChpKTtuLmJpbmQoXCJpc0VuYWJsZWRcIikudG8odGhpcyxcImlzUmVhZE9ubHlcIix0PT4hdCk7cmV0dXJuIG59X2NyZWF0ZUlucHV0VGV4dFZpZXcoKXtjb25zdCB0PXRoaXMubG9jYWxlO2NvbnN0IGU9bmV3IFl2KHQpO2UuYmluZChcInZhbHVlXCIpLnRvKHRoaXMpO2UuYmluZChcImlzUmVhZE9ubHlcIikudG8odGhpcyk7ZS5iaW5kKFwiaGFzRXJyb3JcIikudG8odGhpcyk7ZS5vbihcImlucHV0XCIsKCk9Pnt0aGlzLnZhbHVlPWUuZWxlbWVudC52YWx1ZX0pO2UuZGVsZWdhdGUoXCJpbnB1dFwiKS50byh0aGlzKTtyZXR1cm4gZX1fY3JlYXRlUmVtb3ZlQ29sb3JCdXR0b24oKXtjb25zdCB0PXRoaXMubG9jYWxlO2NvbnN0IGU9dC50O2NvbnN0IGk9bmV3IGhiKHQpO2kuY2xhc3M9XCJjay1pbnB1dC1jb2xvcl9fcmVtb3ZlLWNvbG9yXCI7aS53aXRoVGV4dD10cnVlO2kuaWNvbj16aztpLmxhYmVsPWUoXCJsaVwiKTtpLm9uKFwiZXhlY3V0ZVwiLCgpPT57dGhpcy52YWx1ZT1cIlwiO3RoaXMuX2Ryb3Bkb3duVmlldy5pc09wZW49ZmFsc2U7dGhpcy5maXJlKFwiaW5wdXRcIil9KTtyZXR1cm4gaX1fY3JlYXRlQ29sb3JHcmlkKHQpe2NvbnN0IGU9bmV3IFZrKHQse2NvbG9yRGVmaW5pdGlvbnM6dGhpcy5vcHRpb25zLmNvbG9yRGVmaW5pdGlvbnMsY29sdW1uczp0aGlzLm9wdGlvbnMuY29sdW1uc30pO2Uub24oXCJleGVjdXRlXCIsKHQsZSk9Pnt0aGlzLnZhbHVlPWUudmFsdWU7dGhpcy5fZHJvcGRvd25WaWV3LmlzT3Blbj1mYWxzZTt0aGlzLmZpcmUoXCJpbnB1dFwiKX0pO2UuYmluZChcInNlbGVjdGVkQ29sb3JcIikudG8odGhpcyxcInZhbHVlXCIpO3JldHVybiBlfX1jb25zdCBHRT1uYi5kZWZhdWx0UG9zaXRpb25zO2NvbnN0IEtFPVtHRS5ub3J0aEFycm93U291dGgsR0Uubm9ydGhBcnJvd1NvdXRoV2VzdCxHRS5ub3J0aEFycm93U291dGhFYXN0LEdFLnNvdXRoQXJyb3dOb3J0aCxHRS5zb3V0aEFycm93Tm9ydGhXZXN0LEdFLnNvdXRoQXJyb3dOb3J0aEVhc3RdO2NvbnN0IEpFPXQ9PnQ9PT1cIlwiO2Z1bmN0aW9uIFlFKHQsZSl7Y29uc3QgaT10LnBsdWdpbnMuZ2V0KFwiQ29udGV4dHVhbEJhbGxvb25cIik7aWYoblModC5lZGl0aW5nLnZpZXcuZG9jdW1lbnQuc2VsZWN0aW9uKSl7bGV0IG47aWYoZT09PVwiY2VsbFwiKXtuPVhFKHQpfWVsc2V7bj1RRSh0KX1pLnVwZGF0ZVBvc2l0aW9uKG4pfX1mdW5jdGlvbiBRRSh0KXtjb25zdCBlPXQubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKTtjb25zdCBpPVdQKFwidGFibGVcIixlKTtjb25zdCBuPXQuZWRpdGluZy5tYXBwZXIudG9WaWV3RWxlbWVudChpKTtyZXR1cm57dGFyZ2V0OnQuZWRpdGluZy52aWV3LmRvbUNvbnZlcnRlci52aWV3VG9Eb20obikscG9zaXRpb25zOktFfX1mdW5jdGlvbiBYRSh0KXtjb25zdCBlPXVSKHQubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSk7Y29uc3QgaT10LmVkaXRpbmcubWFwcGVyLnRvVmlld0VsZW1lbnQoZSk7cmV0dXJue3RhcmdldDp0LmVkaXRpbmcudmlldy5kb21Db252ZXJ0ZXIudmlld1RvRG9tKGkpLHBvc2l0aW9uczpLRX19ZnVuY3Rpb24gWkUodCl7cmV0dXJue25vbmU6dChcIm1xXCIpLHNvbGlkOnQoXCJtclwiKSxkb3R0ZWQ6dChcIm1zXCIpLGRhc2hlZDp0KFwibXRcIiksZG91YmxlOnQoXCJtdVwiKSxncm9vdmU6dChcIm12XCIpLHJpZGdlOnQoXCJtd1wiKSxpbnNldDp0KFwibXhcIiksb3V0c2V0OnQoXCJteVwiKX19ZnVuY3Rpb24gdFIodCl7cmV0dXJuIHQoXCJtelwiKX1mdW5jdGlvbiBlUih0KXtyZXR1cm4gdChcIm5hXCIpfWZ1bmN0aW9uIGlSKHQpe3Q9dC50cmltKCk7cmV0dXJuIEpFKHQpfHx0Qyh0KX1mdW5jdGlvbiBuUih0KXt0PXQudHJpbSgpO3JldHVybiBKRSh0KXx8bFIodCl8fG9DKHQpfHxzQyh0KX1mdW5jdGlvbiBvUih0KXt0PXQudHJpbSgpO3JldHVybiBKRSh0KXx8bFIodCl8fG9DKHQpfWZ1bmN0aW9uIHJSKHQpe2NvbnN0IGU9bmV3IHlzO2NvbnN0IGk9WkUodC50KTtmb3IoY29uc3QgbiBpbiBpKXtjb25zdCBvPXt0eXBlOlwiYnV0dG9uXCIsbW9kZWw6bmV3IGVfKHtfYm9yZGVyU3R5bGVWYWx1ZTpuPT09XCJub25lXCI/XCJcIjpuLGxhYmVsOmlbbl0sd2l0aFRleHQ6dHJ1ZX0pfTtpZihuPT09XCJub25lXCIpe28ubW9kZWwuYmluZChcImlzT25cIikudG8odCxcImJvcmRlclN0eWxlXCIsdD0+IXQpfWVsc2V7by5tb2RlbC5iaW5kKFwiaXNPblwiKS50byh0LFwiYm9yZGVyU3R5bGVcIix0PT50PT09bil9ZS5hZGQobyl9cmV0dXJuIGV9ZnVuY3Rpb24gc1Ioe3ZpZXc6dCxpY29uczplLHRvb2xiYXI6aSxsYWJlbHM6bixwcm9wZXJ0eU5hbWU6byxuYW1lVG9WYWx1ZTpyfSl7Zm9yKGNvbnN0IHMgaW4gbil7Y29uc3QgYT1uZXcgaGIodC5sb2NhbGUpO2Euc2V0KHtsYWJlbDpuW3NdLGljb246ZVtzXX0pO2EuYmluZChcImlzT25cIikudG8odCxvLHQ9PnQ9PT1yKHMpKTthLm9uKFwiZXhlY3V0ZVwiLCgpPT57dFtvXT1yKHMpfSk7aS5pdGVtcy5hZGQoYSl9fWNvbnN0IGFSPVt7Y29sb3I6XCJoc2woMCwgMCUsIDAlKVwiLGxhYmVsOlwiQmxhY2tcIn0se2NvbG9yOlwiaHNsKDAsIDAlLCAzMCUpXCIsbGFiZWw6XCJEaW0gZ3JleVwifSx7Y29sb3I6XCJoc2woMCwgMCUsIDYwJSlcIixsYWJlbDpcIkdyZXlcIn0se2NvbG9yOlwiaHNsKDAsIDAlLCA5MCUpXCIsbGFiZWw6XCJMaWdodCBncmV5XCJ9LHtjb2xvcjpcImhzbCgwLCAwJSwgMTAwJSlcIixsYWJlbDpcIldoaXRlXCIsaGFzQm9yZGVyOnRydWV9LHtjb2xvcjpcImhzbCgwLCA3NSUsIDYwJSlcIixsYWJlbDpcIlJlZFwifSx7Y29sb3I6XCJoc2woMzAsIDc1JSwgNjAlKVwiLGxhYmVsOlwiT3JhbmdlXCJ9LHtjb2xvcjpcImhzbCg2MCwgNzUlLCA2MCUpXCIsbGFiZWw6XCJZZWxsb3dcIn0se2NvbG9yOlwiaHNsKDkwLCA3NSUsIDYwJSlcIixsYWJlbDpcIkxpZ2h0IGdyZWVuXCJ9LHtjb2xvcjpcImhzbCgxMjAsIDc1JSwgNjAlKVwiLGxhYmVsOlwiR3JlZW5cIn0se2NvbG9yOlwiaHNsKDE1MCwgNzUlLCA2MCUpXCIsbGFiZWw6XCJBcXVhbWFyaW5lXCJ9LHtjb2xvcjpcImhzbCgxODAsIDc1JSwgNjAlKVwiLGxhYmVsOlwiVHVycXVvaXNlXCJ9LHtjb2xvcjpcImhzbCgyMTAsIDc1JSwgNjAlKVwiLGxhYmVsOlwiTGlnaHQgYmx1ZVwifSx7Y29sb3I6XCJoc2woMjQwLCA3NSUsIDYwJSlcIixsYWJlbDpcIkJsdWVcIn0se2NvbG9yOlwiaHNsKDI3MCwgNzUlLCA2MCUpXCIsbGFiZWw6XCJQdXJwbGVcIn1dO2Z1bmN0aW9uIGNSKHQpe3JldHVybihlLGksbik9Pntjb25zdCBvPW5ldyAkRShlLmxvY2FsZSx7Y29sb3JEZWZpbml0aW9uczpkUih0LmNvbG9yQ29uZmlnKSxjb2x1bW5zOnQuY29sdW1uc30pO28uc2V0KHtpZDppLGFyaWFEZXNjcmliZWRCeUlkOm59KTtvLmJpbmQoXCJpc1JlYWRPbmx5XCIpLnRvKGUsXCJpc0VuYWJsZWRcIix0PT4hdCk7by5iaW5kKFwiZXJyb3JUZXh0XCIpLnRvKGUpO28ub24oXCJpbnB1dFwiLCgpPT57ZS5lcnJvclRleHQ9bnVsbH0pO3JldHVybiBvfX1mdW5jdGlvbiBsUih0KXtjb25zdCBlPXBhcnNlRmxvYXQodCk7cmV0dXJuIU51bWJlci5pc05hTihlKSYmdD09PVN0cmluZyhlKX1mdW5jdGlvbiBkUih0KXtyZXR1cm4gdC5tYXAodD0+KHtjb2xvcjp0Lm1vZGVsLGxhYmVsOnQubGFiZWwsb3B0aW9uczp7aGFzQm9yZGVyOnQuaGFzQm9yZGVyfX0pKX1mdW5jdGlvbiB1Uih0KXtjb25zdCBlPXQubm9kZUFmdGVyJiZ0Lm5vZGVBZnRlci5pcyhcInRhYmxlQ2VsbFwiKTtyZXR1cm4gZT90Lm5vZGVBZnRlcjpXUChcInRhYmxlQ2VsbFwiLHQpfXZhciBoUj1pKDEwNCk7Y2xhc3MgZlIgZXh0ZW5kcyBHcHtjb25zdHJ1Y3Rvcih0LGU9e30pe3N1cGVyKHQpO2NvbnN0IGk9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXQoXCJjbGFzc1wiLGUuY2xhc3N8fG51bGwpO3RoaXMuY2hpbGRyZW49dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCk7aWYoZS5jaGlsZHJlbil7ZS5jaGlsZHJlbi5mb3JFYWNoKHQ9PnRoaXMuY2hpbGRyZW4uYWRkKHQpKX10aGlzLnNldChcIl9yb2xlXCIsbnVsbCk7dGhpcy5zZXQoXCJfYXJpYUxhYmVsbGVkQnlcIixudWxsKTtpZihlLmxhYmVsVmlldyl7dGhpcy5zZXQoe19yb2xlOlwiZ3JvdXBcIixfYXJpYUxhYmVsbGVkQnk6ZS5sYWJlbFZpZXcuaWR9KX10aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stZm9ybV9fcm93XCIsaS50byhcImNsYXNzXCIpXSxyb2xlOmkudG8oXCJfcm9sZVwiKSxcImFyaWEtbGFiZWxsZWRieVwiOmkudG8oXCJfYXJpYUxhYmVsbGVkQnlcIil9LGNoaWxkcmVuOnRoaXMuY2hpbGRyZW59KX19dmFyIGdSPWkoMTA2KTtjbGFzcyBtUiBleHRlbmRzIEdwe2NvbnN0cnVjdG9yKHQsZT17fSl7c3VwZXIodCk7Y29uc3QgaT10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLmNoaWxkcmVuPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpO3RoaXMuc2V0KFwiY2xhc3NcIixlLmNsYXNzfHxudWxsKTt0aGlzLnNldChcImxhYmVsXCIsZS5sYWJlbHx8XCJcIik7Y29uc3Qgbj1uZXcgR3AodCk7bi5zZXRUZW1wbGF0ZSh7dGFnOlwic3BhblwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1mb3JtX19oZWFkZXJfX2xhYmVsXCJdfSxjaGlsZHJlbjpbe3RleHQ6aS50byhcImxhYmVsXCIpfV19KTt0aGlzLmNoaWxkcmVuLmFkZChuKTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stZm9ybV9faGVhZGVyXCIsaS50byhcImNsYXNzXCIpXX0sY2hpbGRyZW46dGhpcy5jaGlsZHJlbn0pfX12YXIgcFI9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTEwLjI2MSA3LjA2MmwyLjg4IDEuNjYzYS43NS43NSAwIDAgMS0uNzUgMS4zTDEwLjUgOC45MzN2Ny4zMTdhLjc1Ljc1IDAgMSAxLTEuNSAwVjguOTMybC0xLjg5IDEuMDkzYS43NS43NSAwIDAgMS0uNzUtMS4zbDIuODc5LTEuNjYzYS43NTIuNzUyIDAgMCAxIC41MTEtLjE4Ny43NTIuNzUyIDAgMCAxIC41MTEuMTg3ek0xNS4yNSA0YS43NS43NSAwIDEgMSAwIDEuNUg0Ljc1YS43NS43NSAwIDAgMSAwLTEuNWgxMC41elwiLz48L3N2Zz4nO3ZhciBiUj0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNOS43NSAxMS44NzVhLjc1Mi43NTIgMCAwIDEgLjUwOC4xODRsMi44ODMgMS42NjZhLjc1Ljc1IDAgMCAxLS42NTkgMS4zNDRsLS4wOTEtLjA0NC0xLjg5Mi0xLjA5My4wMDEgNC4zMThhLjc1Ljc1IDAgMSAxLTEuNSAwdi00LjMxN2wtMS44OSAxLjA5MmEuNzUuNzUgMCAwIDEtLjc1LTEuM2wyLjg3OS0xLjY2M2EuNzUyLjc1MiAwIDAgMSAuNTEtLjE4N3pNMTUuMjUgOWEuNzUuNzUgMCAxIDEgMCAxLjVINC43NWEuNzUuNzUgMCAxIDEgMC0xLjVoMTAuNXpNOS43NS4zNzVhLjc1Ljc1IDAgMCAxIC43NS43NXY0LjMxOGwxLjg5LTEuMDkzLjA5Mi0uMDQ1YS43NS43NSAwIDAgMSAuNjU5IDEuMzQ0bC0yLjg4MyAxLjY2N2EuNzUyLjc1MiAwIDAgMS0uNTA4LjE4NC43NTIuNzUyIDAgMCAxLS41MTEtLjE4N0w2LjM1OSA1LjY1YS43NS43NSAwIDAgMSAuNzUtMS4yOTlMOSA1LjQ0MlYxLjEyNWEuNzUuNzUgMCAwIDEgLjc1LS43NXpcIi8+PC9zdmc+Jzt2YXIgd1I9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTkuMjM5IDEzLjkzOGwtMi44OC0xLjY2M2EuNzUuNzUgMCAwIDEgLjc1LTEuM0w5IDEyLjA2N1Y0Ljc1YS43NS43NSAwIDEgMSAxLjUgMHY3LjMxOGwxLjg5LTEuMDkzYS43NS43NSAwIDAgMSAuNzUgMS4zbC0yLjg3OSAxLjY2M2EuNzUyLjc1MiAwIDAgMS0uNTExLjE4Ny43NTIuNzUyIDAgMCAxLS41MTEtLjE4N3pNNC4yNSAxN2EuNzUuNzUgMCAxIDEgMC0xLjVoMTAuNWEuNzUuNzUgMCAwIDEgMCAxLjVINC4yNXpcIi8+PC9zdmc+Jzt2YXIga1I9aSgxMik7dmFyIF9SPWkoMTMpO3ZhciB2Uj1pKDExMCk7Y29uc3QgeVI9e2xlZnQ6WncsY2VudGVyOmVrLHJpZ2h0OnRrLGp1c3RpZnk6aWssdG9wOnBSLG1pZGRsZTpiUixib3R0b206d1J9O2NsYXNzIHhSIGV4dGVuZHMgR3B7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KTt0aGlzLnNldCh7Ym9yZGVyU3R5bGU6XCJcIixib3JkZXJXaWR0aDpcIlwiLGJvcmRlckNvbG9yOlwiXCIscGFkZGluZzpcIlwiLGJhY2tncm91bmRDb2xvcjpcIlwiLHdpZHRoOlwiXCIsaGVpZ2h0OlwiXCIsaG9yaXpvbnRhbEFsaWdubWVudDpcIlwiLHZlcnRpY2FsQWxpZ25tZW50OlwiXCJ9KTt0aGlzLm9wdGlvbnM9ZTtjb25zdHtib3JkZXJTdHlsZURyb3Bkb3duOmksYm9yZGVyV2lkdGhJbnB1dDpuLGJvcmRlckNvbG9ySW5wdXQ6byxib3JkZXJSb3dMYWJlbDpyfT10aGlzLl9jcmVhdGVCb3JkZXJGaWVsZHMoKTtjb25zdHt3aWR0aElucHV0OnMsb3BlcmF0b3JMYWJlbDphLGhlaWdodElucHV0OmMsZGltZW5zaW9uc0xhYmVsOmx9PXRoaXMuX2NyZWF0ZURpbWVuc2lvbkZpZWxkcygpO2NvbnN0e2hvcml6b250YWxBbGlnbm1lbnRUb29sYmFyOmQsdmVydGljYWxBbGlnbm1lbnRUb29sYmFyOnUsYWxpZ25tZW50TGFiZWw6aH09dGhpcy5fY3JlYXRlQWxpZ25tZW50RmllbGRzKCk7dGhpcy5mb2N1c1RyYWNrZXI9bmV3IGZiO3RoaXMua2V5c3Ryb2tlcz1uZXcgZHA7dGhpcy5jaGlsZHJlbj10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKTt0aGlzLmJvcmRlclN0eWxlRHJvcGRvd249aTt0aGlzLmJvcmRlcldpZHRoSW5wdXQ9bjt0aGlzLmJvcmRlckNvbG9ySW5wdXQ9bzt0aGlzLmJhY2tncm91bmRJbnB1dD10aGlzLl9jcmVhdGVCYWNrZ3JvdW5kRmllbGQoKTt0aGlzLnBhZGRpbmdJbnB1dD10aGlzLl9jcmVhdGVQYWRkaW5nRmllbGQoKTt0aGlzLndpZHRoSW5wdXQ9czt0aGlzLmhlaWdodElucHV0PWM7dGhpcy5ob3Jpem9udGFsQWxpZ25tZW50VG9vbGJhcj1kO3RoaXMudmVydGljYWxBbGlnbm1lbnRUb29sYmFyPXU7Y29uc3R7c2F2ZUJ1dHRvblZpZXc6ZixjYW5jZWxCdXR0b25WaWV3Omd9PXRoaXMuX2NyZWF0ZUFjdGlvbkJ1dHRvbnMoKTt0aGlzLnNhdmVCdXR0b25WaWV3PWY7dGhpcy5jYW5jZWxCdXR0b25WaWV3PWc7dGhpcy5fZm9jdXNhYmxlcz1uZXcgYnA7dGhpcy5fZm9jdXNDeWNsZXI9bmV3IHliKHtmb2N1c2FibGVzOnRoaXMuX2ZvY3VzYWJsZXMsZm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLGtleXN0cm9rZUhhbmRsZXI6dGhpcy5rZXlzdHJva2VzLGFjdGlvbnM6e2ZvY3VzUHJldmlvdXM6XCJzaGlmdCArIHRhYlwiLGZvY3VzTmV4dDpcInRhYlwifX0pO3RoaXMuY2hpbGRyZW4uYWRkKG5ldyBtUih0LHtsYWJlbDp0aGlzLnQoXCJDZWxsIHByb3BlcnRpZXNcIil9KSk7dGhpcy5jaGlsZHJlbi5hZGQobmV3IGZSKHQse2xhYmVsVmlldzpyLGNoaWxkcmVuOltyLGksbyxuXSxjbGFzczpcImNrLXRhYmxlLWZvcm1fX2JvcmRlci1yb3dcIn0pKTt0aGlzLmNoaWxkcmVuLmFkZChuZXcgZlIodCx7Y2hpbGRyZW46W3RoaXMuYmFja2dyb3VuZElucHV0XX0pKTt0aGlzLmNoaWxkcmVuLmFkZChuZXcgZlIodCx7Y2hpbGRyZW46W25ldyBmUih0LHtsYWJlbFZpZXc6bCxjaGlsZHJlbjpbbCxzLGEsY10sY2xhc3M6XCJjay10YWJsZS1mb3JtX19kaW1lbnNpb25zLXJvd1wifSksbmV3IGZSKHQse2NoaWxkcmVuOlt0aGlzLnBhZGRpbmdJbnB1dF0sY2xhc3M6XCJjay10YWJsZS1jZWxsLXByb3BlcnRpZXMtZm9ybV9fcGFkZGluZy1yb3dcIn0pXX0pKTt0aGlzLmNoaWxkcmVuLmFkZChuZXcgZlIodCx7bGFiZWxWaWV3OmgsY2hpbGRyZW46W2gsZCx1XSxjbGFzczpcImNrLXRhYmxlLWNlbGwtcHJvcGVydGllcy1mb3JtX19hbGlnbm1lbnQtcm93XCJ9KSk7dGhpcy5jaGlsZHJlbi5hZGQobmV3IGZSKHQse2NoaWxkcmVuOlt0aGlzLnNhdmVCdXR0b25WaWV3LHRoaXMuY2FuY2VsQnV0dG9uVmlld10sY2xhc3M6XCJjay10YWJsZS1mb3JtX19hY3Rpb24tcm93XCJ9KSk7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZm9ybVwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1mb3JtXCIsXCJjay10YWJsZS1mb3JtXCIsXCJjay10YWJsZS1jZWxsLXByb3BlcnRpZXMtZm9ybVwiXSx0YWJpbmRleDpcIi0xXCJ9LGNoaWxkcmVuOnRoaXMuY2hpbGRyZW59KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtRdih7dmlldzp0aGlzfSk7W3RoaXMuYm9yZGVyU3R5bGVEcm9wZG93bix0aGlzLmJvcmRlckNvbG9ySW5wdXQsdGhpcy5ib3JkZXJXaWR0aElucHV0LHRoaXMuYmFja2dyb3VuZElucHV0LHRoaXMud2lkdGhJbnB1dCx0aGlzLmhlaWdodElucHV0LHRoaXMucGFkZGluZ0lucHV0LHRoaXMuaG9yaXpvbnRhbEFsaWdubWVudFRvb2xiYXIsdGhpcy52ZXJ0aWNhbEFsaWdubWVudFRvb2xiYXIsdGhpcy5zYXZlQnV0dG9uVmlldyx0aGlzLmNhbmNlbEJ1dHRvblZpZXddLmZvckVhY2godD0+e3RoaXMuX2ZvY3VzYWJsZXMuYWRkKHQpO3RoaXMuZm9jdXNUcmFja2VyLmFkZCh0LmVsZW1lbnQpfSk7dGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWxlbWVudCl9Zm9jdXMoKXt0aGlzLl9mb2N1c0N5Y2xlci5mb2N1c0ZpcnN0KCl9X2NyZWF0ZUJvcmRlckZpZWxkcygpe2NvbnN0IHQ9Y1Ioe2NvbG9yQ29uZmlnOnRoaXMub3B0aW9ucy5ib3JkZXJDb2xvcnMsY29sdW1uczo1fSk7Y29uc3QgZT10aGlzLmxvY2FsZTtjb25zdCBpPXRoaXMudDtjb25zdCBuPW5ldyBNayhlKTtuLnRleHQ9aShcIm5iXCIpO2NvbnN0IG89WkUoaSk7Y29uc3Qgcj1uZXcgSEUoZSxxRSk7ci5zZXQoe2xhYmVsOmkoXCJuY1wiKSxjbGFzczpcImNrLXRhYmxlLWZvcm1fX2JvcmRlci1zdHlsZVwifSk7ci52aWV3LmJ1dHRvblZpZXcuc2V0KHtpc09uOmZhbHNlLHdpdGhUZXh0OnRydWUsdG9vbHRpcDppKFwibmNcIil9KTtyLnZpZXcuYnV0dG9uVmlldy5iaW5kKFwibGFiZWxcIikudG8odGhpcyxcImJvcmRlclN0eWxlXCIsdD0+b1t0P3Q6XCJub25lXCJdKTtyLnZpZXcub24oXCJleGVjdXRlXCIsdD0+e3RoaXMuYm9yZGVyU3R5bGU9dC5zb3VyY2UuX2JvcmRlclN0eWxlVmFsdWV9KTtVYihyLnZpZXcsclIodGhpcykpO2NvbnN0IHM9bmV3IEhFKGUsV0UpO3Muc2V0KHtsYWJlbDppKFwibmRcIiksY2xhc3M6XCJjay10YWJsZS1mb3JtX19ib3JkZXItd2lkdGhcIn0pO3Mudmlldy5iaW5kKFwidmFsdWVcIikudG8odGhpcyxcImJvcmRlcldpZHRoXCIpO3MuYmluZChcImlzRW5hYmxlZFwiKS50byh0aGlzLFwiYm9yZGVyU3R5bGVcIixDUik7cy52aWV3Lm9uKFwiaW5wdXRcIiwoKT0+e3RoaXMuYm9yZGVyV2lkdGg9cy52aWV3LmVsZW1lbnQudmFsdWV9KTtjb25zdCBhPW5ldyBIRShlLHQpO2Euc2V0KHtsYWJlbDppKFwibmVcIiksY2xhc3M6XCJjay10YWJsZS1mb3JtX19ib3JkZXItY29sb3JcIn0pO2Eudmlldy5iaW5kKFwidmFsdWVcIikudG8odGhpcyxcImJvcmRlckNvbG9yXCIpO2EuYmluZChcImlzRW5hYmxlZFwiKS50byh0aGlzLFwiYm9yZGVyU3R5bGVcIixDUik7YS52aWV3Lm9uKFwiaW5wdXRcIiwoKT0+e3RoaXMuYm9yZGVyQ29sb3I9YS52aWV3LnZhbHVlfSk7dGhpcy5vbihcImNoYW5nZTpib3JkZXJTdHlsZVwiLCh0LGUsaSk9PntpZighQ1IoaSkpe3RoaXMuYm9yZGVyQ29sb3I9XCJcIjt0aGlzLmJvcmRlcldpZHRoPVwiXCJ9fSk7cmV0dXJue2JvcmRlclJvd0xhYmVsOm4sYm9yZGVyU3R5bGVEcm9wZG93bjpyLGJvcmRlckNvbG9ySW5wdXQ6YSxib3JkZXJXaWR0aElucHV0OnN9fV9jcmVhdGVCYWNrZ3JvdW5kRmllbGQoKXtjb25zdCB0PXRoaXMubG9jYWxlO2NvbnN0IGU9dGhpcy50O2NvbnN0IGk9Y1Ioe2NvbG9yQ29uZmlnOnRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3JzLGNvbHVtbnM6NX0pO2NvbnN0IG49bmV3IEhFKHQsaSk7bi5zZXQoe2xhYmVsOmUoXCJuZlwiKSxjbGFzczpcImNrLXRhYmxlLWNlbGwtcHJvcGVydGllcy1mb3JtX19iYWNrZ3JvdW5kXCJ9KTtuLnZpZXcuYmluZChcInZhbHVlXCIpLnRvKHRoaXMsXCJiYWNrZ3JvdW5kQ29sb3JcIik7bi52aWV3Lm9uKFwiaW5wdXRcIiwoKT0+e3RoaXMuYmFja2dyb3VuZENvbG9yPW4udmlldy52YWx1ZX0pO3JldHVybiBufV9jcmVhdGVEaW1lbnNpb25GaWVsZHMoKXtjb25zdCB0PXRoaXMubG9jYWxlO2NvbnN0IGU9dGhpcy50O2NvbnN0IGk9bmV3IE1rKHQpO2kudGV4dD1lKFwibmdcIik7Y29uc3Qgbj1uZXcgSEUodCxXRSk7bi5zZXQoe2xhYmVsOmUoXCJuZFwiKSxjbGFzczpcImNrLXRhYmxlLWZvcm1fX2RpbWVuc2lvbnMtcm93X193aWR0aFwifSk7bi52aWV3LmJpbmQoXCJ2YWx1ZVwiKS50byh0aGlzLFwid2lkdGhcIik7bi52aWV3Lm9uKFwiaW5wdXRcIiwoKT0+e3RoaXMud2lkdGg9bi52aWV3LmVsZW1lbnQudmFsdWV9KTtjb25zdCBvPW5ldyBHcCh0KTtvLnNldFRlbXBsYXRlKHt0YWc6XCJzcGFuXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2stdGFibGUtZm9ybV9fZGltZW5zaW9uLW9wZXJhdG9yXCJdfSxjaGlsZHJlbjpbe3RleHQ6XCLDl1wifV19KTtjb25zdCByPW5ldyBIRSh0LFdFKTtyLnNldCh7bGFiZWw6ZShcIm5oXCIpLGNsYXNzOlwiY2stdGFibGUtZm9ybV9fZGltZW5zaW9ucy1yb3dfX2hlaWdodFwifSk7ci52aWV3LmJpbmQoXCJ2YWx1ZVwiKS50byh0aGlzLFwiaGVpZ2h0XCIpO3Iudmlldy5vbihcImlucHV0XCIsKCk9Pnt0aGlzLmhlaWdodD1yLnZpZXcuZWxlbWVudC52YWx1ZX0pO3JldHVybntkaW1lbnNpb25zTGFiZWw6aSx3aWR0aElucHV0Om4sb3BlcmF0b3JMYWJlbDpvLGhlaWdodElucHV0OnJ9fV9jcmVhdGVQYWRkaW5nRmllbGQoKXtjb25zdCB0PXRoaXMubG9jYWxlO2NvbnN0IGU9dGhpcy50O2NvbnN0IGk9bmV3IEhFKHQsV0UpO2kuc2V0KHtsYWJlbDplKFwibmlcIiksY2xhc3M6XCJjay10YWJsZS1jZWxsLXByb3BlcnRpZXMtZm9ybV9fcGFkZGluZ1wifSk7aS52aWV3LmJpbmQoXCJ2YWx1ZVwiKS50byh0aGlzLFwicGFkZGluZ1wiKTtpLnZpZXcub24oXCJpbnB1dFwiLCgpPT57dGhpcy5wYWRkaW5nPWkudmlldy5lbGVtZW50LnZhbHVlfSk7cmV0dXJuIGl9X2NyZWF0ZUFsaWdubWVudEZpZWxkcygpe2NvbnN0IHQ9dGhpcy5sb2NhbGU7Y29uc3QgZT10aGlzLnQ7Y29uc3QgaT1uZXcgTWsodCk7aS50ZXh0PWUoXCJualwiKTtjb25zdCBuPW5ldyBYYih0KTtjb25zdCBvPXRoaXMubG9jYWxlLmNvbnRlbnRMYW5ndWFnZURpcmVjdGlvbj09PVwicnRsXCI7bi5zZXQoe2lzQ29tcGFjdDp0cnVlLGFyaWFMYWJlbDplKFwibmtcIil9KTtzUih7dmlldzp0aGlzLGljb25zOnlSLHRvb2xiYXI6bixsYWJlbHM6dGhpcy5faG9yaXpvbnRhbEFsaWdubWVudExhYmVscyxwcm9wZXJ0eU5hbWU6XCJob3Jpem9udGFsQWxpZ25tZW50XCIsbmFtZVRvVmFsdWU6dD0+dD09PShvP1wicmlnaHRcIjpcImxlZnRcIik/XCJcIjp0fSk7Y29uc3Qgcj1uZXcgWGIodCk7ci5zZXQoe2lzQ29tcGFjdDp0cnVlLGFyaWFMYWJlbDplKFwibmxcIil9KTtzUih7dmlldzp0aGlzLGljb25zOnlSLHRvb2xiYXI6cixsYWJlbHM6dGhpcy5fdmVydGljYWxBbGlnbm1lbnRMYWJlbHMscHJvcGVydHlOYW1lOlwidmVydGljYWxBbGlnbm1lbnRcIixuYW1lVG9WYWx1ZTp0PT50PT09XCJtaWRkbGVcIj9cIlwiOnR9KTtyZXR1cm57aG9yaXpvbnRhbEFsaWdubWVudFRvb2xiYXI6bix2ZXJ0aWNhbEFsaWdubWVudFRvb2xiYXI6cixhbGlnbm1lbnRMYWJlbDppfX1fY3JlYXRlQWN0aW9uQnV0dG9ucygpe2NvbnN0IHQ9dGhpcy5sb2NhbGU7Y29uc3QgZT10aGlzLnQ7Y29uc3QgaT1uZXcgaGIodCk7Y29uc3Qgbj1uZXcgaGIodCk7Y29uc3Qgbz1bdGhpcy5ib3JkZXJXaWR0aElucHV0LHRoaXMuYm9yZGVyQ29sb3JJbnB1dCx0aGlzLmJhY2tncm91bmRJbnB1dCx0aGlzLnBhZGRpbmdJbnB1dF07aS5zZXQoe2xhYmVsOmUoXCJsb1wiKSxpY29uOlh2LGNsYXNzOlwiY2stYnV0dG9uLXNhdmVcIix0eXBlOlwic3VibWl0XCIsd2l0aFRleHQ6dHJ1ZX0pO2kuYmluZChcImlzRW5hYmxlZFwiKS50b01hbnkobyxcImVycm9yVGV4dFwiLCguLi50KT0+dC5ldmVyeSh0PT4hdCkpO24uc2V0KHtsYWJlbDplKFwibHBcIiksaWNvbjpadixjbGFzczpcImNrLWJ1dHRvbi1jYW5jZWxcIix0eXBlOlwiY2FuY2VsXCIsd2l0aFRleHQ6dHJ1ZX0pO24uZGVsZWdhdGUoXCJleGVjdXRlXCIpLnRvKHRoaXMsXCJjYW5jZWxcIik7cmV0dXJue3NhdmVCdXR0b25WaWV3OmksY2FuY2VsQnV0dG9uVmlldzpufX1nZXQgX2hvcml6b250YWxBbGlnbm1lbnRMYWJlbHMoKXtjb25zdCB0PXRoaXMubG9jYWxlO2NvbnN0IGU9dGhpcy50O2NvbnN0IGk9ZShcIm5tXCIpO2NvbnN0IG49ZShcIm5uXCIpO2NvbnN0IG89ZShcIm5vXCIpO2NvbnN0IHI9ZShcIm5wXCIpO2lmKHQudWlMYW5ndWFnZURpcmVjdGlvbj09PVwicnRsXCIpe3JldHVybntyaWdodDpvLGNlbnRlcjpuLGxlZnQ6aSxqdXN0aWZ5OnJ9fWVsc2V7cmV0dXJue2xlZnQ6aSxjZW50ZXI6bixyaWdodDpvLGp1c3RpZnk6cn19fWdldCBfdmVydGljYWxBbGlnbm1lbnRMYWJlbHMoKXtjb25zdCB0PXRoaXMudDtyZXR1cm57dG9wOnQoXCJucVwiKSxtaWRkbGU6dChcIm5yXCIpLGJvdHRvbTp0KFwibnNcIil9fX1mdW5jdGlvbiBDUih0KXtyZXR1cm4hIXR9dmFyIEFSPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xMS4xMDUgMThsLS4xNyAxSDIuNUExLjUgMS41IDAgMCAxIDEgMTcuNXYtMTVBMS41IDEuNSAwIDAgMSAyLjUgMWgxNUExLjUgMS41IDAgMCAxIDE5IDIuNXY5Ljk3NWwtLjg1LS4xMjQtLjE1LS4zMDJWOGgtNXY0aC4wMjFsLS4xNzIuMzUxLTEuOTE2LjI4LS4xNTEuMDI3Yy0uMjg3LjA2My0uNTQuMTgyLS43NTUuMzQxTDggMTN2NWgzLjEwNXpNMiAxMmg1VjhIMnY0em0xMC00SDh2NGg0Vjh6TTIgMnY1aDVWMkgyem0wIDE2aDV2LTVIMnY1ek0xMyA3aDVWMmgtNXY1ek04IDJ2NWg0VjJIOHpcIiBvcGFjaXR5PVwiLjZcIi8+PHBhdGggZD1cIk0xNS41IDExLjVsMS4zMjMgMi42OCAyLjk1Ny40My0yLjE0IDIuMDg1LjUwNSAyLjk0NkwxNS41IDE4LjI1bC0yLjY0NSAxLjM5LjUwNS0yLjk0NS0yLjE0LTIuMDg2IDIuOTU3LS40M0wxNS41IDExLjV6TTEzIDZhMSAxIDAgMCAxIDEgMXYzLjE3MmEyLjA0NyAyLjA0NyAwIDAgMC0uMjkzLjQ0M2wtLjg1OCAxLjczNi0xLjkxNi4yOC0uMTUxLjAyN0ExLjk3NiAxLjk3NiAwIDAgMCA5LjMxNSAxNEg3YTEgMSAwIDAgMS0xLTFWN2ExIDEgMCAwIDEgMS0xaDZ6bS0xIDJIOHY0aDRWOHpcIi8+PC9zdmc+Jztjb25zdCBUUj01MDA7Y2xhc3MgUFIgZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2tiXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlRhYmxlQ2VsbFByb3BlcnRpZXNVSVwifWNvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3QuY29uZmlnLmRlZmluZShcInRhYmxlLnRhYmxlQ2VsbFByb3BlcnRpZXNcIix7Ym9yZGVyQ29sb3JzOmFSLGJhY2tncm91bmRDb2xvcnM6YVJ9KX1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQudDt0aGlzLl9iYWxsb29uPXQucGx1Z2lucy5nZXQoa2IpO3RoaXMudmlldz10aGlzLl9jcmVhdGVQcm9wZXJ0aWVzVmlldygpO3RoaXMuX3VuZG9TdGVwQmF0Y2g9bnVsbDt0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKFwidGFibGVDZWxsUHJvcGVydGllc1wiLHQ9Pntjb25zdCBpPW5ldyBoYih0KTtpLnNldCh7bGFiZWw6ZShcImtoXCIpLGljb246QVIsdG9vbHRpcDp0cnVlfSk7dGhpcy5saXN0ZW5UbyhpLFwiZXhlY3V0ZVwiLCgpPT50aGlzLl9zaG93VmlldygpKTtyZXR1cm4gaX0pfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCk7dGhpcy52aWV3LmRlc3Ryb3koKX1fY3JlYXRlUHJvcGVydGllc1ZpZXcoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5lZGl0aW5nLnZpZXcuZG9jdW1lbnQ7Y29uc3QgaT10LmNvbmZpZy5nZXQoXCJ0YWJsZS50YWJsZUNlbGxQcm9wZXJ0aWVzXCIpO2NvbnN0IG49X18oaS5ib3JkZXJDb2xvcnMpO2NvbnN0IG89a18odC5sb2NhbGUsbik7Y29uc3Qgcj1fXyhpLmJhY2tncm91bmRDb2xvcnMpO2NvbnN0IHM9a18odC5sb2NhbGUscik7Y29uc3QgYT1uZXcgeFIodC5sb2NhbGUse2JvcmRlckNvbG9yczpvLGJhY2tncm91bmRDb2xvcnM6c30pO2NvbnN0IGM9dC50O2EucmVuZGVyKCk7dGhpcy5saXN0ZW5UbyhhLFwic3VibWl0XCIsKCk9Pnt0aGlzLl9oaWRlVmlldygpfSk7dGhpcy5saXN0ZW5UbyhhLFwiY2FuY2VsXCIsKCk9PntpZih0aGlzLl91bmRvU3RlcEJhdGNoLm9wZXJhdGlvbnMubGVuZ3RoKXt0LmV4ZWN1dGUoXCJ1bmRvXCIsdGhpcy5fdW5kb1N0ZXBCYXRjaCl9dGhpcy5faGlkZVZpZXcoKX0pO2Eua2V5c3Ryb2tlcy5zZXQoXCJFc2NcIiwodCxlKT0+e3RoaXMuX2hpZGVWaWV3KCk7ZSgpfSk7dGhpcy5saXN0ZW5Ubyh0LnVpLFwidXBkYXRlXCIsKCk9PntpZighblMoZS5zZWxlY3Rpb24pKXt0aGlzLl9oaWRlVmlldygpfWVsc2UgaWYodGhpcy5faXNWaWV3VmlzaWJsZSl7WUUodCxcImNlbGxcIil9fSk7RGIoe2VtaXR0ZXI6YSxhY3RpdmF0b3I6KCk9PnRoaXMuX2lzVmlld0luQmFsbG9vbixjb250ZXh0RWxlbWVudHM6W3RoaXMuX2JhbGxvb24udmlldy5lbGVtZW50XSxjYWxsYmFjazooKT0+dGhpcy5faGlkZVZpZXcoKX0pO2NvbnN0IGw9dFIoYyk7Y29uc3QgZD1lUihjKTthLm9uKFwiY2hhbmdlOmJvcmRlclN0eWxlXCIsdGhpcy5fZ2V0UHJvcGVydHlDaGFuZ2VDYWxsYmFjayhcInRhYmxlQ2VsbEJvcmRlclN0eWxlXCIpKTthLm9uKFwiY2hhbmdlOmJvcmRlckNvbG9yXCIsdGhpcy5fZ2V0VmFsaWRhdGVkUHJvcGVydHlDaGFuZ2VDYWxsYmFjayh7dmlld0ZpZWxkOmEuYm9yZGVyQ29sb3JJbnB1dCxjb21tYW5kTmFtZTpcInRhYmxlQ2VsbEJvcmRlckNvbG9yXCIsZXJyb3JUZXh0OmwsdmFsaWRhdG9yOmlSfSkpO2Eub24oXCJjaGFuZ2U6Ym9yZGVyV2lkdGhcIix0aGlzLl9nZXRWYWxpZGF0ZWRQcm9wZXJ0eUNoYW5nZUNhbGxiYWNrKHt2aWV3RmllbGQ6YS5ib3JkZXJXaWR0aElucHV0LGNvbW1hbmROYW1lOlwidGFibGVDZWxsQm9yZGVyV2lkdGhcIixlcnJvclRleHQ6ZCx2YWxpZGF0b3I6b1J9KSk7YS5vbihcImNoYW5nZTpwYWRkaW5nXCIsdGhpcy5fZ2V0VmFsaWRhdGVkUHJvcGVydHlDaGFuZ2VDYWxsYmFjayh7dmlld0ZpZWxkOmEucGFkZGluZ0lucHV0LGNvbW1hbmROYW1lOlwidGFibGVDZWxsUGFkZGluZ1wiLGVycm9yVGV4dDpkLHZhbGlkYXRvcjpuUn0pKTthLm9uKFwiY2hhbmdlOndpZHRoXCIsdGhpcy5fZ2V0VmFsaWRhdGVkUHJvcGVydHlDaGFuZ2VDYWxsYmFjayh7dmlld0ZpZWxkOmEud2lkdGhJbnB1dCxjb21tYW5kTmFtZTpcInRhYmxlQ2VsbFdpZHRoXCIsZXJyb3JUZXh0OmQsdmFsaWRhdG9yOm5SfSkpO2Eub24oXCJjaGFuZ2U6aGVpZ2h0XCIsdGhpcy5fZ2V0VmFsaWRhdGVkUHJvcGVydHlDaGFuZ2VDYWxsYmFjayh7dmlld0ZpZWxkOmEuaGVpZ2h0SW5wdXQsY29tbWFuZE5hbWU6XCJ0YWJsZUNlbGxIZWlnaHRcIixlcnJvclRleHQ6ZCx2YWxpZGF0b3I6blJ9KSk7YS5vbihcImNoYW5nZTpiYWNrZ3JvdW5kQ29sb3JcIix0aGlzLl9nZXRWYWxpZGF0ZWRQcm9wZXJ0eUNoYW5nZUNhbGxiYWNrKHt2aWV3RmllbGQ6YS5iYWNrZ3JvdW5kSW5wdXQsY29tbWFuZE5hbWU6XCJ0YWJsZUNlbGxCYWNrZ3JvdW5kQ29sb3JcIixlcnJvclRleHQ6bCx2YWxpZGF0b3I6aVJ9KSk7YS5vbihcImNoYW5nZTpob3Jpem9udGFsQWxpZ25tZW50XCIsdGhpcy5fZ2V0UHJvcGVydHlDaGFuZ2VDYWxsYmFjayhcInRhYmxlQ2VsbEhvcml6b250YWxBbGlnbm1lbnRcIikpO2Eub24oXCJjaGFuZ2U6dmVydGljYWxBbGlnbm1lbnRcIix0aGlzLl9nZXRQcm9wZXJ0eUNoYW5nZUNhbGxiYWNrKFwidGFibGVDZWxsVmVydGljYWxBbGlnbm1lbnRcIikpO3JldHVybiBhfV9maWxsVmlld0Zvcm1Gcm9tQ29tbWFuZFZhbHVlcygpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuY29tbWFuZHM7dGhpcy52aWV3LnNldCh7Ym9yZGVyU3R5bGU6dC5nZXQoXCJ0YWJsZUNlbGxCb3JkZXJTdHlsZVwiKS52YWx1ZXx8XCJcIixib3JkZXJDb2xvcjp0LmdldChcInRhYmxlQ2VsbEJvcmRlckNvbG9yXCIpLnZhbHVlfHxcIlwiLGJvcmRlcldpZHRoOnQuZ2V0KFwidGFibGVDZWxsQm9yZGVyV2lkdGhcIikudmFsdWV8fFwiXCIsd2lkdGg6dC5nZXQoXCJ0YWJsZUNlbGxXaWR0aFwiKS52YWx1ZXx8XCJcIixoZWlnaHQ6dC5nZXQoXCJ0YWJsZUNlbGxIZWlnaHRcIikudmFsdWV8fFwiXCIscGFkZGluZzp0LmdldChcInRhYmxlQ2VsbFBhZGRpbmdcIikudmFsdWV8fFwiXCIsYmFja2dyb3VuZENvbG9yOnQuZ2V0KFwidGFibGVDZWxsQmFja2dyb3VuZENvbG9yXCIpLnZhbHVlfHxcIlwiLGhvcml6b250YWxBbGlnbm1lbnQ6dC5nZXQoXCJ0YWJsZUNlbGxIb3Jpem9udGFsQWxpZ25tZW50XCIpLnZhbHVlfHxcIlwiLHZlcnRpY2FsQWxpZ25tZW50OnQuZ2V0KFwidGFibGVDZWxsVmVydGljYWxBbGlnbm1lbnRcIikudmFsdWV8fFwiXCJ9KX1fc2hvd1ZpZXcoKXtjb25zdCB0PXRoaXMuZWRpdG9yO3RoaXMuX2JhbGxvb24uYWRkKHt2aWV3OnRoaXMudmlldyxwb3NpdGlvbjpYRSh0KX0pO3RoaXMuX3VuZG9TdGVwQmF0Y2g9dC5tb2RlbC5jcmVhdGVCYXRjaCgpO3RoaXMuX2ZpbGxWaWV3Rm9ybUZyb21Db21tYW5kVmFsdWVzKCk7dGhpcy52aWV3LmZvY3VzKCl9X2hpZGVWaWV3KCl7aWYoIXRoaXMuX2lzVmlld0luQmFsbG9vbil7cmV0dXJufWNvbnN0IHQ9dGhpcy5lZGl0b3I7dGhpcy5zdG9wTGlzdGVuaW5nKHQudWksXCJ1cGRhdGVcIik7dGhpcy52aWV3LnNhdmVCdXR0b25WaWV3LmZvY3VzKCk7dGhpcy5fYmFsbG9vbi5yZW1vdmUodGhpcy52aWV3KTt0aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuZm9jdXMoKX1nZXQgX2lzVmlld1Zpc2libGUoKXtyZXR1cm4gdGhpcy5fYmFsbG9vbi52aXNpYmxlVmlldz09PXRoaXMudmlld31nZXQgX2lzVmlld0luQmFsbG9vbigpe3JldHVybiB0aGlzLl9iYWxsb29uLmhhc1ZpZXcodGhpcy52aWV3KX1fZ2V0UHJvcGVydHlDaGFuZ2VDYWxsYmFjayh0KXtyZXR1cm4oZSxpLG4pPT57dGhpcy5lZGl0b3IuZXhlY3V0ZSh0LHt2YWx1ZTpuLGJhdGNoOnRoaXMuX3VuZG9TdGVwQmF0Y2h9KX19X2dldFZhbGlkYXRlZFByb3BlcnR5Q2hhbmdlQ2FsbGJhY2soe2NvbW1hbmROYW1lOnQsdmlld0ZpZWxkOmUsdmFsaWRhdG9yOmksZXJyb3JUZXh0Om59KXtjb25zdCBvPXVoKCgpPT57ZS5lcnJvclRleHQ9bn0sVFIpO3JldHVybihuLHIscyk9PntvLmNhbmNlbCgpO2lmKGkocykpe3RoaXMuZWRpdG9yLmV4ZWN1dGUodCx7dmFsdWU6cyxiYXRjaDp0aGlzLl91bmRvU3RlcEJhdGNofSk7ZS5lcnJvclRleHQ9bnVsbH1lbHNle28oKX19fX1mdW5jdGlvbiBTUih0KXt0LnNldE5vcm1hbGl6ZXIoXCJib3JkZXJcIixFUik7dC5zZXROb3JtYWxpemVyKFwiYm9yZGVyLXRvcFwiLFJSKFwidG9wXCIpKTt0LnNldE5vcm1hbGl6ZXIoXCJib3JkZXItcmlnaHRcIixSUihcInJpZ2h0XCIpKTt0LnNldE5vcm1hbGl6ZXIoXCJib3JkZXItYm90dG9tXCIsUlIoXCJib3R0b21cIikpO3Quc2V0Tm9ybWFsaXplcihcImJvcmRlci1sZWZ0XCIsUlIoXCJsZWZ0XCIpKTt0LnNldE5vcm1hbGl6ZXIoXCJib3JkZXItY29sb3JcIixPUihcImNvbG9yXCIpKTt0LnNldE5vcm1hbGl6ZXIoXCJib3JkZXItd2lkdGhcIixPUihcIndpZHRoXCIpKTt0LnNldE5vcm1hbGl6ZXIoXCJib3JkZXItc3R5bGVcIixPUihcInN0eWxlXCIpKTt0LnNldE5vcm1hbGl6ZXIoXCJib3JkZXItdG9wLWNvbG9yXCIsVlIoXCJjb2xvclwiLFwidG9wXCIpKTt0LnNldE5vcm1hbGl6ZXIoXCJib3JkZXItdG9wLXN0eWxlXCIsVlIoXCJzdHlsZVwiLFwidG9wXCIpKTt0LnNldE5vcm1hbGl6ZXIoXCJib3JkZXItdG9wLXdpZHRoXCIsVlIoXCJ3aWR0aFwiLFwidG9wXCIpKTt0LnNldE5vcm1hbGl6ZXIoXCJib3JkZXItcmlnaHQtY29sb3JcIixWUihcImNvbG9yXCIsXCJyaWdodFwiKSk7dC5zZXROb3JtYWxpemVyKFwiYm9yZGVyLXJpZ2h0LXN0eWxlXCIsVlIoXCJzdHlsZVwiLFwicmlnaHRcIikpO3Quc2V0Tm9ybWFsaXplcihcImJvcmRlci1yaWdodC13aWR0aFwiLFZSKFwid2lkdGhcIixcInJpZ2h0XCIpKTt0LnNldE5vcm1hbGl6ZXIoXCJib3JkZXItYm90dG9tLWNvbG9yXCIsVlIoXCJjb2xvclwiLFwiYm90dG9tXCIpKTt0LnNldE5vcm1hbGl6ZXIoXCJib3JkZXItYm90dG9tLXN0eWxlXCIsVlIoXCJzdHlsZVwiLFwiYm90dG9tXCIpKTt0LnNldE5vcm1hbGl6ZXIoXCJib3JkZXItYm90dG9tLXdpZHRoXCIsVlIoXCJ3aWR0aFwiLFwiYm90dG9tXCIpKTt0LnNldE5vcm1hbGl6ZXIoXCJib3JkZXItbGVmdC1jb2xvclwiLFZSKFwiY29sb3JcIixcImxlZnRcIikpO3Quc2V0Tm9ybWFsaXplcihcImJvcmRlci1sZWZ0LXN0eWxlXCIsVlIoXCJzdHlsZVwiLFwibGVmdFwiKSk7dC5zZXROb3JtYWxpemVyKFwiYm9yZGVyLWxlZnQtd2lkdGhcIixWUihcIndpZHRoXCIsXCJsZWZ0XCIpKTt0LnNldEV4dHJhY3RvcihcImJvcmRlci10b3BcIixOUihcInRvcFwiKSk7dC5zZXRFeHRyYWN0b3IoXCJib3JkZXItcmlnaHRcIixOUihcInJpZ2h0XCIpKTt0LnNldEV4dHJhY3RvcihcImJvcmRlci1ib3R0b21cIixOUihcImJvdHRvbVwiKSk7dC5zZXRFeHRyYWN0b3IoXCJib3JkZXItbGVmdFwiLE5SKFwibGVmdFwiKSk7dC5zZXRFeHRyYWN0b3IoXCJib3JkZXItdG9wLWNvbG9yXCIsXCJib3JkZXIuY29sb3IudG9wXCIpO3Quc2V0RXh0cmFjdG9yKFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIsXCJib3JkZXIuY29sb3IucmlnaHRcIik7dC5zZXRFeHRyYWN0b3IoXCJib3JkZXItYm90dG9tLWNvbG9yXCIsXCJib3JkZXIuY29sb3IuYm90dG9tXCIpO3Quc2V0RXh0cmFjdG9yKFwiYm9yZGVyLWxlZnQtY29sb3JcIixcImJvcmRlci5jb2xvci5sZWZ0XCIpO3Quc2V0RXh0cmFjdG9yKFwiYm9yZGVyLXRvcC13aWR0aFwiLFwiYm9yZGVyLndpZHRoLnRvcFwiKTt0LnNldEV4dHJhY3RvcihcImJvcmRlci1yaWdodC13aWR0aFwiLFwiYm9yZGVyLndpZHRoLnJpZ2h0XCIpO3Quc2V0RXh0cmFjdG9yKFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFwiYm9yZGVyLndpZHRoLmJvdHRvbVwiKTt0LnNldEV4dHJhY3RvcihcImJvcmRlci1sZWZ0LXdpZHRoXCIsXCJib3JkZXIud2lkdGgubGVmdFwiKTt0LnNldEV4dHJhY3RvcihcImJvcmRlci10b3Atc3R5bGVcIixcImJvcmRlci5zdHlsZS50b3BcIik7dC5zZXRFeHRyYWN0b3IoXCJib3JkZXItcmlnaHQtc3R5bGVcIixcImJvcmRlci5zdHlsZS5yaWdodFwiKTt0LnNldEV4dHJhY3RvcihcImJvcmRlci1ib3R0b20tc3R5bGVcIixcImJvcmRlci5zdHlsZS5ib3R0b21cIik7dC5zZXRFeHRyYWN0b3IoXCJib3JkZXItbGVmdC1zdHlsZVwiLFwiYm9yZGVyLnN0eWxlLmxlZnRcIik7dC5zZXRSZWR1Y2VyKFwiYm9yZGVyLWNvbG9yXCIscEMoXCJib3JkZXItY29sb3JcIikpO3Quc2V0UmVkdWNlcihcImJvcmRlci1zdHlsZVwiLHBDKFwiYm9yZGVyLXN0eWxlXCIpKTt0LnNldFJlZHVjZXIoXCJib3JkZXItd2lkdGhcIixwQyhcImJvcmRlci13aWR0aFwiKSk7dC5zZXRSZWR1Y2VyKFwiYm9yZGVyLXRvcFwiLExSKFwidG9wXCIpKTt0LnNldFJlZHVjZXIoXCJib3JkZXItcmlnaHRcIixMUihcInJpZ2h0XCIpKTt0LnNldFJlZHVjZXIoXCJib3JkZXItYm90dG9tXCIsTFIoXCJib3R0b21cIikpO3Quc2V0UmVkdWNlcihcImJvcmRlci1sZWZ0XCIsTFIoXCJsZWZ0XCIpKTt0LnNldFJlZHVjZXIoXCJib3JkZXJcIix6Uik7dC5zZXRTdHlsZVJlbGF0aW9uKFwiYm9yZGVyXCIsW1wiYm9yZGVyLWNvbG9yXCIsXCJib3JkZXItc3R5bGVcIixcImJvcmRlci13aWR0aFwiLFwiYm9yZGVyLXRvcFwiLFwiYm9yZGVyLXJpZ2h0XCIsXCJib3JkZXItYm90dG9tXCIsXCJib3JkZXItbGVmdFwiLFwiYm9yZGVyLXRvcC1jb2xvclwiLFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIsXCJib3JkZXItYm90dG9tLWNvbG9yXCIsXCJib3JkZXItbGVmdC1jb2xvclwiLFwiYm9yZGVyLXRvcC1zdHlsZVwiLFwiYm9yZGVyLXJpZ2h0LXN0eWxlXCIsXCJib3JkZXItYm90dG9tLXN0eWxlXCIsXCJib3JkZXItbGVmdC1zdHlsZVwiLFwiYm9yZGVyLXRvcC13aWR0aFwiLFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIsXCJib3JkZXItYm90dG9tLXdpZHRoXCIsXCJib3JkZXItbGVmdC13aWR0aFwiXSk7dC5zZXRTdHlsZVJlbGF0aW9uKFwiYm9yZGVyLWNvbG9yXCIsW1wiYm9yZGVyLXRvcC1jb2xvclwiLFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIsXCJib3JkZXItYm90dG9tLWNvbG9yXCIsXCJib3JkZXItbGVmdC1jb2xvclwiXSk7dC5zZXRTdHlsZVJlbGF0aW9uKFwiYm9yZGVyLXN0eWxlXCIsW1wiYm9yZGVyLXRvcC1zdHlsZVwiLFwiYm9yZGVyLXJpZ2h0LXN0eWxlXCIsXCJib3JkZXItYm90dG9tLXN0eWxlXCIsXCJib3JkZXItbGVmdC1zdHlsZVwiXSk7dC5zZXRTdHlsZVJlbGF0aW9uKFwiYm9yZGVyLXdpZHRoXCIsW1wiYm9yZGVyLXRvcC13aWR0aFwiLFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIsXCJib3JkZXItYm90dG9tLXdpZHRoXCIsXCJib3JkZXItbGVmdC13aWR0aFwiXSk7dC5zZXRTdHlsZVJlbGF0aW9uKFwiYm9yZGVyLXRvcFwiLFtcImJvcmRlci10b3AtY29sb3JcIixcImJvcmRlci10b3Atc3R5bGVcIixcImJvcmRlci10b3Atd2lkdGhcIl0pO3Quc2V0U3R5bGVSZWxhdGlvbihcImJvcmRlci1yaWdodFwiLFtcImJvcmRlci1yaWdodC1jb2xvclwiLFwiYm9yZGVyLXJpZ2h0LXN0eWxlXCIsXCJib3JkZXItcmlnaHQtd2lkdGhcIl0pO3Quc2V0U3R5bGVSZWxhdGlvbihcImJvcmRlci1ib3R0b21cIixbXCJib3JkZXItYm90dG9tLWNvbG9yXCIsXCJib3JkZXItYm90dG9tLXN0eWxlXCIsXCJib3JkZXItYm90dG9tLXdpZHRoXCJdKTt0LnNldFN0eWxlUmVsYXRpb24oXCJib3JkZXItbGVmdFwiLFtcImJvcmRlci1sZWZ0LWNvbG9yXCIsXCJib3JkZXItbGVmdC1zdHlsZVwiLFwiYm9yZGVyLWxlZnQtd2lkdGhcIl0pfWZ1bmN0aW9uIEVSKHQpe2NvbnN0e2NvbG9yOmUsc3R5bGU6aSx3aWR0aDpufT1CUih0KTtyZXR1cm57cGF0aDpcImJvcmRlclwiLHZhbHVlOntjb2xvcjptQyhlKSxzdHlsZTptQyhpKSx3aWR0aDptQyhuKX19fWZ1bmN0aW9uIFJSKHQpe3JldHVybiBlPT57Y29uc3R7Y29sb3I6aSxzdHlsZTpuLHdpZHRoOm99PUJSKGUpO2NvbnN0IHI9e307aWYoaSE9PXVuZGVmaW5lZCl7ci5jb2xvcj17W3RdOml9fWlmKG4hPT11bmRlZmluZWQpe3Iuc3R5bGU9e1t0XTpufX1pZihvIT09dW5kZWZpbmVkKXtyLndpZHRoPXtbdF06b319cmV0dXJue3BhdGg6XCJib3JkZXJcIix2YWx1ZTpyfX19ZnVuY3Rpb24gT1IodCl7cmV0dXJuIGU9Pih7cGF0aDpcImJvcmRlclwiLHZhbHVlOklSKGUsdCl9KX1mdW5jdGlvbiBJUih0LGUpe3JldHVybntbZV06bUModCl9fWZ1bmN0aW9uIFZSKHQsZSl7cmV0dXJuIGk9Pih7cGF0aDpcImJvcmRlclwiLHZhbHVlOntbdF06e1tlXTppfX19KX1mdW5jdGlvbiBOUih0KXtyZXR1cm4oZSxpKT0+e2lmKGkuYm9yZGVyKXtyZXR1cm4gTVIoaS5ib3JkZXIsdCl9fX1mdW5jdGlvbiBNUih0LGUpe2NvbnN0IGk9e307aWYodC53aWR0aCYmdC53aWR0aFtlXSl7aS53aWR0aD10LndpZHRoW2VdfWlmKHQuc3R5bGUmJnQuc3R5bGVbZV0pe2kuc3R5bGU9dC5zdHlsZVtlXX1pZih0LmNvbG9yJiZ0LmNvbG9yW2VdKXtpLmNvbG9yPXQuY29sb3JbZV19cmV0dXJuIGl9ZnVuY3Rpb24gQlIodCl7Y29uc3QgZT17fTtjb25zdCBpPWtDKHQpO2Zvcihjb25zdCB0IG9mIGkpe2lmKG9DKHQpfHwvdGhpbnxtZWRpdW18dGhpY2svLnRlc3QodCkpe2Uud2lkdGg9dH1lbHNlIGlmKGlDKHQpKXtlLnN0eWxlPXR9ZWxzZXtlLmNvbG9yPXR9fXJldHVybiBlfWZ1bmN0aW9uIHpSKHQpe2NvbnN0IGU9W107ZS5wdXNoKC4uLkZSKE1SKHQsXCJ0b3BcIiksXCJ0b3BcIikpO2UucHVzaCguLi5GUihNUih0LFwicmlnaHRcIiksXCJyaWdodFwiKSk7ZS5wdXNoKC4uLkZSKE1SKHQsXCJib3R0b21cIiksXCJib3R0b21cIikpO2UucHVzaCguLi5GUihNUih0LFwibGVmdFwiKSxcImxlZnRcIikpO3JldHVybiBlfWZ1bmN0aW9uIExSKHQpe3JldHVybiBlPT5GUihlLHQpfWZ1bmN0aW9uIEZSKHQsZSl7Y29uc3QgaT1bXTtpZih0JiZ0LndpZHRoIT09dW5kZWZpbmVkKXtpLnB1c2godC53aWR0aCl9aWYodCYmdC5zdHlsZSE9PXVuZGVmaW5lZCl7aS5wdXNoKHQuc3R5bGUpfWlmKHQmJnQuY29sb3IhPT11bmRlZmluZWQpe2kucHVzaCh0LmNvbG9yKX1pZihpLmxlbmd0aCl7cmV0dXJuW1tgYm9yZGVyLSR7ZX1gLGkuam9pbihcIiBcIildXX1yZXR1cm5bXX1mdW5jdGlvbiBEUih0KXt0LnNldE5vcm1hbGl6ZXIoXCJwYWRkaW5nXCIsd0MoXCJwYWRkaW5nXCIpKTt0LnNldE5vcm1hbGl6ZXIoXCJwYWRkaW5nLXRvcFwiLHQ9Pih7cGF0aDpcInBhZGRpbmcudG9wXCIsdmFsdWU6dH0pKTt0LnNldE5vcm1hbGl6ZXIoXCJwYWRkaW5nLXJpZ2h0XCIsdD0+KHtwYXRoOlwicGFkZGluZy5yaWdodFwiLHZhbHVlOnR9KSk7dC5zZXROb3JtYWxpemVyKFwicGFkZGluZy1ib3R0b21cIix0PT4oe3BhdGg6XCJwYWRkaW5nLmJvdHRvbVwiLHZhbHVlOnR9KSk7dC5zZXROb3JtYWxpemVyKFwicGFkZGluZy1sZWZ0XCIsdD0+KHtwYXRoOlwicGFkZGluZy5sZWZ0XCIsdmFsdWU6dH0pKTt0LnNldFJlZHVjZXIoXCJwYWRkaW5nXCIscEMoXCJwYWRkaW5nXCIpKTt0LnNldFN0eWxlUmVsYXRpb24oXCJwYWRkaW5nXCIsW1wicGFkZGluZy10b3BcIixcInBhZGRpbmctcmlnaHRcIixcInBhZGRpbmctYm90dG9tXCIsXCJwYWRkaW5nLWxlZnRcIl0pfWZ1bmN0aW9uIGpSKHQpe3Quc2V0Tm9ybWFsaXplcihcImJhY2tncm91bmRcIixIUik7dC5zZXROb3JtYWxpemVyKFwiYmFja2dyb3VuZC1jb2xvclwiLHQ9Pih7cGF0aDpcImJhY2tncm91bmQuY29sb3JcIix2YWx1ZTp0fSkpO3Quc2V0UmVkdWNlcihcImJhY2tncm91bmRcIix0PT57Y29uc3QgZT1bXTtlLnB1c2goW1wiYmFja2dyb3VuZC1jb2xvclwiLHQuY29sb3JdKTtyZXR1cm4gZX0pfWZ1bmN0aW9uIEhSKHQpe2NvbnN0IGU9e307Y29uc3QgaT1rQyh0KTtmb3IoY29uc3QgdCBvZiBpKXtpZihjQyh0KSl7ZS5yZXBlYXQ9ZS5yZXBlYXR8fFtdO2UucmVwZWF0LnB1c2godCl9ZWxzZSBpZihkQyh0KSl7ZS5wb3NpdGlvbj1lLnBvc2l0aW9ufHxbXTtlLnBvc2l0aW9uLnB1c2godCl9ZWxzZSBpZihoQyh0KSl7ZS5hdHRhY2htZW50PXR9ZWxzZSBpZih0Qyh0KSl7ZS5jb2xvcj10fWVsc2UgaWYoZ0ModCkpe2UuaW1hZ2U9dH19cmV0dXJue3BhdGg6XCJiYWNrZ3JvdW5kXCIsdmFsdWU6ZX19ZnVuY3Rpb24gV1IodCxlLGksbil7dC5mb3IoXCJ1cGNhc3RcIikuYXR0cmlidXRlVG9BdHRyaWJ1dGUoe3ZpZXc6e3N0eWxlczp7W25dOi9bXFxzXFxTXSsvfX0sbW9kZWw6e25hbWU6ZSxrZXk6aSx2YWx1ZTp0PT50LmdldE5vcm1hbGl6ZWRTdHlsZShuKX19KX1mdW5jdGlvbiBxUih0LGUpe3QuZm9yKFwidXBjYXN0XCIpLmFkZCh0PT50Lm9uKFwiZWxlbWVudDpcIitlLCh0LGUsaSk9Pntjb25zdCBuPVtcImJvcmRlci10b3BcIixcImJvcmRlci1yaWdodFwiLFwiYm9yZGVyLWJvdHRvbVwiLFwiYm9yZGVyLWxlZnRcIl0uZmlsdGVyKHQ9PmUudmlld0l0ZW0uaGFzU3R5bGUodCkpO2lmKCFuLmxlbmd0aCl7cmV0dXJufWNvbnN0IG89e3N0eWxlczpufTtpZighaS5jb25zdW1hYmxlLnRlc3QoZS52aWV3SXRlbSxvKSl7cmV0dXJufWlmKCFlLm1vZGVsUmFuZ2Upe2U9T2JqZWN0LmFzc2lnbihlLGkuY29udmVydENoaWxkcmVuKGUudmlld0l0ZW0sZS5tb2RlbEN1cnNvcikpfWNvbnN0IHI9Wy4uLmUubW9kZWxSYW5nZS5nZXRJdGVtcyh7c2hhbGxvdzp0cnVlfSldLnBvcCgpO2kuY29uc3VtYWJsZS5jb25zdW1lKGUudmlld0l0ZW0sbyk7aS53cml0ZXIuc2V0QXR0cmlidXRlKFwiYm9yZGVyU3R5bGVcIixlLnZpZXdJdGVtLmdldE5vcm1hbGl6ZWRTdHlsZShcImJvcmRlci1zdHlsZVwiKSxyKTtpLndyaXRlci5zZXRBdHRyaWJ1dGUoXCJib3JkZXJDb2xvclwiLGUudmlld0l0ZW0uZ2V0Tm9ybWFsaXplZFN0eWxlKFwiYm9yZGVyLWNvbG9yXCIpLHIpO2kud3JpdGVyLnNldEF0dHJpYnV0ZShcImJvcmRlcldpZHRoXCIsZS52aWV3SXRlbS5nZXROb3JtYWxpemVkU3R5bGUoXCJib3JkZXItd2lkdGhcIikscil9KSl9ZnVuY3Rpb24gVVIodCxlLGksbil7dC5mb3IoXCJkb3duY2FzdFwiKS5hdHRyaWJ1dGVUb0F0dHJpYnV0ZSh7bW9kZWw6e25hbWU6ZSxrZXk6aX0sdmlldzp0PT4oe2tleTpcInN0eWxlXCIsdmFsdWU6e1tuXTp0fX0pfSl9ZnVuY3Rpb24gJFIodCxlLGkpe3QuZm9yKFwiZG93bmNhc3RcIikuYWRkKHQ9PnQub24oYGF0dHJpYnV0ZToke2V9OnRhYmxlYCwodCxlLG4pPT57Y29uc3R7aXRlbTpvLGF0dHJpYnV0ZU5ld1ZhbHVlOnJ9PWU7Y29uc3R7bWFwcGVyOnMsd3JpdGVyOmF9PW47aWYoIW4uY29uc3VtYWJsZS5jb25zdW1lKGUuaXRlbSx0Lm5hbWUpKXtyZXR1cm59Y29uc3QgYz1bLi4ucy50b1ZpZXdFbGVtZW50KG8pLmdldENoaWxkcmVuKCldLmZpbmQodD0+dC5pcyhcInRhYmxlXCIpKTtpZihyKXthLnNldFN0eWxlKGkscixjKX1lbHNle2EucmVtb3ZlU3R5bGUoaSxjKX19KSl9Y2xhc3MgR1IgZXh0ZW5kcyBqd3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpO3RoaXMuYXR0cmlidXRlTmFtZT1lfXJlZnJlc2goKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9c1ModC5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24pO3RoaXMuaXNFbmFibGVkPSEhZS5sZW5ndGg7dGhpcy52YWx1ZT10aGlzLl9nZXRTaW5nbGVWYWx1ZShlKX1leGVjdXRlKHQ9e30pe2NvbnN0e3ZhbHVlOmUsYmF0Y2g6aX09dDtjb25zdCBuPXRoaXMuZWRpdG9yLm1vZGVsO2NvbnN0IG89c1Mobi5kb2N1bWVudC5zZWxlY3Rpb24pO2NvbnN0IHI9dGhpcy5fZ2V0VmFsdWVUb1NldChlKTtuLmVucXVldWVDaGFuZ2UoaXx8XCJkZWZhdWx0XCIsdD0+e2lmKHIpe28uZm9yRWFjaChlPT50LnNldEF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZU5hbWUscixlKSl9ZWxzZXtvLmZvckVhY2goZT0+dC5yZW1vdmVBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVOYW1lLGUpKX19KX1fZ2V0QXR0cmlidXRlKHQpe2lmKCF0KXtyZXR1cm59cmV0dXJuIHQuZ2V0QXR0cmlidXRlKHRoaXMuYXR0cmlidXRlTmFtZSl9X2dldFZhbHVlVG9TZXQodCl7cmV0dXJuIHR9X2dldFNpbmdsZVZhbHVlKHQpe2NvbnN0IGU9dGhpcy5fZ2V0QXR0cmlidXRlKHRbMF0pO2NvbnN0IGk9dC5ldmVyeSh0PT50aGlzLl9nZXRBdHRyaWJ1dGUodCk9PT1lKTtyZXR1cm4gaT9lOnVuZGVmaW5lZH19Y2xhc3MgS1IgZXh0ZW5kcyBHUntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0LFwicGFkZGluZ1wiKX1fZ2V0QXR0cmlidXRlKHQpe2lmKCF0KXtyZXR1cm59cmV0dXJuICRQKHQuZ2V0QXR0cmlidXRlKHRoaXMuYXR0cmlidXRlTmFtZSkpfV9nZXRWYWx1ZVRvU2V0KHQpe3JldHVybiBHUCh0LFwicHhcIil9fWNsYXNzIEpSIGV4dGVuZHMgR1J7Y29uc3RydWN0b3IodCl7c3VwZXIodCxcIndpZHRoXCIpfV9nZXRWYWx1ZVRvU2V0KHQpe3JldHVybiBHUCh0LFwicHhcIil9fWNsYXNzIFlSIGV4dGVuZHMgR1J7Y29uc3RydWN0b3IodCl7c3VwZXIodCxcImhlaWdodFwiKX1fZ2V0VmFsdWVUb1NldCh0KXtyZXR1cm4gR1AodCxcInB4XCIpfX1jbGFzcyBRUiBleHRlbmRzIEdSe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsXCJiYWNrZ3JvdW5kQ29sb3JcIil9fWNsYXNzIFhSIGV4dGVuZHMgR1J7Y29uc3RydWN0b3IodCl7c3VwZXIodCxcInZlcnRpY2FsQWxpZ25tZW50XCIpfX1jbGFzcyBaUiBleHRlbmRzIEdSe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsXCJob3Jpem9udGFsQWxpZ25tZW50XCIpfX1jbGFzcyB0TyBleHRlbmRzIEdSe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsXCJib3JkZXJTdHlsZVwiKX1fZ2V0QXR0cmlidXRlKHQpe2lmKCF0KXtyZXR1cm59cmV0dXJuICRQKHQuZ2V0QXR0cmlidXRlKHRoaXMuYXR0cmlidXRlTmFtZSkpfX1jbGFzcyBlTyBleHRlbmRzIEdSe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsXCJib3JkZXJDb2xvclwiKX1fZ2V0QXR0cmlidXRlKHQpe2lmKCF0KXtyZXR1cm59cmV0dXJuICRQKHQuZ2V0QXR0cmlidXRlKHRoaXMuYXR0cmlidXRlTmFtZSkpfX1jbGFzcyBpTyBleHRlbmRzIEdSe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsXCJib3JkZXJXaWR0aFwiKX1fZ2V0QXR0cmlidXRlKHQpe2lmKCF0KXtyZXR1cm59cmV0dXJuICRQKHQuZ2V0QXR0cmlidXRlKHRoaXMuYXR0cmlidXRlTmFtZSkpfV9nZXRWYWx1ZVRvU2V0KHQpe3JldHVybiBHUCh0LFwicHhcIil9fWNvbnN0IG5PPS9eKHRvcHxib3R0b20pJC87Y2xhc3Mgb08gZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlRhYmxlQ2VsbFByb3BlcnRpZXNFZGl0aW5nXCJ9c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVyblt3RV19aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10Lm1vZGVsLnNjaGVtYTtjb25zdCBpPXQuY29udmVyc2lvbjt0LmRhdGEuYWRkU3R5bGVQcm9jZXNzb3JSdWxlcyhTUik7ck8oZSxpKTt0LmNvbW1hbmRzLmFkZChcInRhYmxlQ2VsbEJvcmRlclN0eWxlXCIsbmV3IHRPKHQpKTt0LmNvbW1hbmRzLmFkZChcInRhYmxlQ2VsbEJvcmRlckNvbG9yXCIsbmV3IGVPKHQpKTt0LmNvbW1hbmRzLmFkZChcInRhYmxlQ2VsbEJvcmRlcldpZHRoXCIsbmV3IGlPKHQpKTtzTyhlLGkpO3QuY29tbWFuZHMuYWRkKFwidGFibGVDZWxsSG9yaXpvbnRhbEFsaWdubWVudFwiLG5ldyBaUih0KSk7Y08oZSxpLFwid2lkdGhcIixcIndpZHRoXCIpO3QuY29tbWFuZHMuYWRkKFwidGFibGVDZWxsV2lkdGhcIixuZXcgSlIodCkpO2NPKGUsaSxcImhlaWdodFwiLFwiaGVpZ2h0XCIpO3QuY29tbWFuZHMuYWRkKFwidGFibGVDZWxsSGVpZ2h0XCIsbmV3IFlSKHQpKTt0LmRhdGEuYWRkU3R5bGVQcm9jZXNzb3JSdWxlcyhEUik7Y08oZSxpLFwicGFkZGluZ1wiLFwicGFkZGluZ1wiKTt0LmNvbW1hbmRzLmFkZChcInRhYmxlQ2VsbFBhZGRpbmdcIixuZXcgS1IodCkpO3QuZGF0YS5hZGRTdHlsZVByb2Nlc3NvclJ1bGVzKGpSKTtjTyhlLGksXCJiYWNrZ3JvdW5kQ29sb3JcIixcImJhY2tncm91bmQtY29sb3JcIik7dC5jb21tYW5kcy5hZGQoXCJ0YWJsZUNlbGxCYWNrZ3JvdW5kQ29sb3JcIixuZXcgUVIodCkpO2FPKGUsaSk7dC5jb21tYW5kcy5hZGQoXCJ0YWJsZUNlbGxWZXJ0aWNhbEFsaWdubWVudFwiLG5ldyBYUih0KSl9fWZ1bmN0aW9uIHJPKHQsZSl7dC5leHRlbmQoXCJ0YWJsZUNlbGxcIix7YWxsb3dBdHRyaWJ1dGVzOltcImJvcmRlcldpZHRoXCIsXCJib3JkZXJDb2xvclwiLFwiYm9yZGVyU3R5bGVcIl19KTtxUihlLFwidGRcIik7cVIoZSxcInRoXCIpO1VSKGUsXCJ0YWJsZUNlbGxcIixcImJvcmRlclN0eWxlXCIsXCJib3JkZXItc3R5bGVcIik7VVIoZSxcInRhYmxlQ2VsbFwiLFwiYm9yZGVyQ29sb3JcIixcImJvcmRlci1jb2xvclwiKTtVUihlLFwidGFibGVDZWxsXCIsXCJib3JkZXJXaWR0aFwiLFwiYm9yZGVyLXdpZHRoXCIpfWZ1bmN0aW9uIHNPKHQsZSl7dC5leHRlbmQoXCJ0YWJsZUNlbGxcIix7YWxsb3dBdHRyaWJ1dGVzOltcImhvcml6b250YWxBbGlnbm1lbnRcIl19KTtlLmF0dHJpYnV0ZVRvQXR0cmlidXRlKHttb2RlbDp7bmFtZTpcInRhYmxlQ2VsbFwiLGtleTpcImhvcml6b250YWxBbGlnbm1lbnRcIix2YWx1ZXM6W1wicmlnaHRcIixcImNlbnRlclwiLFwianVzdGlmeVwiXX0sdmlldzp7cmlnaHQ6e2tleTpcInN0eWxlXCIsdmFsdWU6e1widGV4dC1hbGlnblwiOlwicmlnaHRcIn19LGNlbnRlcjp7a2V5Olwic3R5bGVcIix2YWx1ZTp7XCJ0ZXh0LWFsaWduXCI6XCJjZW50ZXJcIn19LGp1c3RpZnk6e2tleTpcInN0eWxlXCIsdmFsdWU6e1widGV4dC1hbGlnblwiOlwianVzdGlmeVwifX19fSl9ZnVuY3Rpb24gYU8odCxlKXt0LmV4dGVuZChcInRhYmxlQ2VsbFwiLHthbGxvd0F0dHJpYnV0ZXM6W1widmVydGljYWxBbGlnbm1lbnRcIl19KTtlLmF0dHJpYnV0ZVRvQXR0cmlidXRlKHttb2RlbDp7bmFtZTpcInRhYmxlQ2VsbFwiLGtleTpcInZlcnRpY2FsQWxpZ25tZW50XCIsdmFsdWVzOltcInRvcFwiLFwiYm90dG9tXCJdfSx2aWV3Ont0b3A6e2tleTpcInN0eWxlXCIsdmFsdWU6e1widmVydGljYWwtYWxpZ25cIjpcInRvcFwifX0sYm90dG9tOntrZXk6XCJzdHlsZVwiLHZhbHVlOntcInZlcnRpY2FsLWFsaWduXCI6XCJib3R0b21cIn19fX0pO2UuZm9yKFwidXBjYXN0XCIpLmF0dHJpYnV0ZVRvQXR0cmlidXRlKHt2aWV3OnthdHRyaWJ1dGVzOnt2YWxpZ246bk99fSxtb2RlbDp7bmFtZTpcInRhYmxlQ2VsbFwiLGtleTpcInZlcnRpY2FsQWxpZ25tZW50XCIsdmFsdWU6dD0+dC5nZXRBdHRyaWJ1dGUoXCJ2YWxpZ25cIil9fSl9ZnVuY3Rpb24gY08odCxlLGksbil7dC5leHRlbmQoXCJ0YWJsZUNlbGxcIix7YWxsb3dBdHRyaWJ1dGVzOltpXX0pO1dSKGUsXCJ0YWJsZUNlbGxcIixpLG4pO1VSKGUsXCJ0YWJsZUNlbGxcIixpLG4pfWNsYXNzIGxPIGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJUYWJsZUNlbGxQcm9wZXJ0aWVzXCJ9c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltvTyxQUl19fWNsYXNzIGRPIGV4dGVuZHMgbXB7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltseV19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJUYWJsZVRvb2xiYXJcIn1hZnRlckluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC50O2NvbnN0IGk9dC5wbHVnaW5zLmdldChseSk7Y29uc3Qgbj10LmNvbmZpZy5nZXQoXCJ0YWJsZS5jb250ZW50VG9vbGJhclwiKTtjb25zdCBvPXQuY29uZmlnLmdldChcInRhYmxlLnRhYmxlVG9vbGJhclwiKTtpZihuKXtpLnJlZ2lzdGVyKFwidGFibGVDb250ZW50XCIse2FyaWFMYWJlbDplKFwiaXZcIiksaXRlbXM6bixnZXRSZWxhdGVkRWxlbWVudDpuU30pfWlmKG8pe2kucmVnaXN0ZXIoXCJ0YWJsZVwiLHthcmlhTGFiZWw6ZShcIml2XCIpLGl0ZW1zOm8sZ2V0UmVsYXRlZEVsZW1lbnQ6aVN9KX19fWNsYXNzIHVPIGV4dGVuZHMgand7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KTt0aGlzLmF0dHJpYnV0ZU5hbWU9ZX1yZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uO2NvbnN0IGk9V1AoXCJ0YWJsZVwiLGUuZ2V0Rmlyc3RQb3NpdGlvbigpKTt0aGlzLmlzRW5hYmxlZD0hIWk7dGhpcy52YWx1ZT10aGlzLl9nZXRWYWx1ZShpKX1leGVjdXRlKHQ9e30pe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3QgaT1lLmRvY3VtZW50LnNlbGVjdGlvbjtjb25zdHt2YWx1ZTpuLGJhdGNoOm99PXQ7Y29uc3Qgcj1XUChcInRhYmxlXCIsaS5nZXRGaXJzdFBvc2l0aW9uKCkpO2NvbnN0IHM9dGhpcy5fZ2V0VmFsdWVUb1NldChuKTtlLmVucXVldWVDaGFuZ2Uob3x8XCJkZWZhdWx0XCIsdD0+e2lmKHMpe3Quc2V0QXR0cmlidXRlKHRoaXMuYXR0cmlidXRlTmFtZSxzLHIpfWVsc2V7dC5yZW1vdmVBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVOYW1lLHIpfX0pfV9nZXRWYWx1ZSh0KXtpZighdCl7cmV0dXJufXJldHVybiB0LmdldEF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZU5hbWUpfV9nZXRWYWx1ZVRvU2V0KHQpe3JldHVybiB0fX1jbGFzcyBoTyBleHRlbmRzIHVPe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsXCJiYWNrZ3JvdW5kQ29sb3JcIil9fWNsYXNzIGZPIGV4dGVuZHMgdU97Y29uc3RydWN0b3IodCl7c3VwZXIodCxcImJvcmRlckNvbG9yXCIpfV9nZXRWYWx1ZSh0KXtpZighdCl7cmV0dXJufXJldHVybiAkUCh0LmdldEF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZU5hbWUpKX19Y2xhc3MgZ08gZXh0ZW5kcyB1T3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0LFwiYm9yZGVyU3R5bGVcIil9X2dldFZhbHVlKHQpe2lmKCF0KXtyZXR1cm59cmV0dXJuICRQKHQuZ2V0QXR0cmlidXRlKHRoaXMuYXR0cmlidXRlTmFtZSkpfX1jbGFzcyBtTyBleHRlbmRzIHVPe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsXCJib3JkZXJXaWR0aFwiKX1fZ2V0VmFsdWUodCl7aWYoIXQpe3JldHVybn1yZXR1cm4gJFAodC5nZXRBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVOYW1lKSl9X2dldFZhbHVlVG9TZXQodCl7cmV0dXJuIEdQKHQsXCJweFwiKX19Y2xhc3MgcE8gZXh0ZW5kcyB1T3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0LFwid2lkdGhcIil9X2dldFZhbHVlVG9TZXQodCl7cmV0dXJuIEdQKHQsXCJweFwiKX19Y2xhc3MgYk8gZXh0ZW5kcyB1T3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0LFwiaGVpZ2h0XCIpfV9nZXRWYWx1ZVRvU2V0KHQpe3JldHVybiBHUCh0LFwicHhcIil9fWNsYXNzIHdPIGV4dGVuZHMgdU97Y29uc3RydWN0b3IodCl7c3VwZXIodCxcImFsaWdubWVudFwiKX19Y29uc3Qga089L14obGVmdHxyaWdodCkkLztjbGFzcyBfTyBleHRlbmRzIG1we3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiVGFibGVQcm9wZXJ0aWVzRWRpdGluZ1wifXN0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bd0VdfWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5tb2RlbC5zY2hlbWE7Y29uc3QgaT10LmNvbnZlcnNpb247dC5kYXRhLmFkZFN0eWxlUHJvY2Vzc29yUnVsZXMoU1IpO3ZPKGUsaSk7dC5jb21tYW5kcy5hZGQoXCJ0YWJsZUJvcmRlckNvbG9yXCIsbmV3IGZPKHQpKTt0LmNvbW1hbmRzLmFkZChcInRhYmxlQm9yZGVyU3R5bGVcIixuZXcgZ08odCkpO3QuY29tbWFuZHMuYWRkKFwidGFibGVCb3JkZXJXaWR0aFwiLG5ldyBtTyh0KSk7eU8oZSxpKTt0LmNvbW1hbmRzLmFkZChcInRhYmxlQWxpZ25tZW50XCIsbmV3IHdPKHQpKTtDTyhlLGksXCJ3aWR0aFwiLFwid2lkdGhcIik7dC5jb21tYW5kcy5hZGQoXCJ0YWJsZVdpZHRoXCIsbmV3IHBPKHQpKTtDTyhlLGksXCJoZWlnaHRcIixcImhlaWdodFwiKTt0LmNvbW1hbmRzLmFkZChcInRhYmxlSGVpZ2h0XCIsbmV3IGJPKHQpKTt0LmRhdGEuYWRkU3R5bGVQcm9jZXNzb3JSdWxlcyhqUik7eE8oZSxpLFwiYmFja2dyb3VuZENvbG9yXCIsXCJiYWNrZ3JvdW5kLWNvbG9yXCIpO3QuY29tbWFuZHMuYWRkKFwidGFibGVCYWNrZ3JvdW5kQ29sb3JcIixuZXcgaE8odCkpfX1mdW5jdGlvbiB2Tyh0LGUpe3QuZXh0ZW5kKFwidGFibGVcIix7YWxsb3dBdHRyaWJ1dGVzOltcImJvcmRlcldpZHRoXCIsXCJib3JkZXJDb2xvclwiLFwiYm9yZGVyU3R5bGVcIl19KTtxUihlLFwidGFibGVcIik7JFIoZSxcImJvcmRlckNvbG9yXCIsXCJib3JkZXItY29sb3JcIik7JFIoZSxcImJvcmRlclN0eWxlXCIsXCJib3JkZXItc3R5bGVcIik7JFIoZSxcImJvcmRlcldpZHRoXCIsXCJib3JkZXItd2lkdGhcIil9ZnVuY3Rpb24geU8odCxlKXt0LmV4dGVuZChcInRhYmxlXCIse2FsbG93QXR0cmlidXRlczpbXCJhbGlnbm1lbnRcIl19KTtlLmF0dHJpYnV0ZVRvQXR0cmlidXRlKHttb2RlbDp7bmFtZTpcInRhYmxlXCIsa2V5OlwiYWxpZ25tZW50XCIsdmFsdWVzOltcImxlZnRcIixcInJpZ2h0XCJdfSx2aWV3OntsZWZ0OntrZXk6XCJzdHlsZVwiLHZhbHVlOntmbG9hdDpcImxlZnRcIn19LHJpZ2h0OntrZXk6XCJzdHlsZVwiLHZhbHVlOntmbG9hdDpcInJpZ2h0XCJ9fX0sY29udmVydGVyUHJpb3JpdHk6XCJoaWdoXCJ9KTtlLmZvcihcInVwY2FzdFwiKS5hdHRyaWJ1dGVUb0F0dHJpYnV0ZSh7dmlldzp7YXR0cmlidXRlczp7YWxpZ246a099fSxtb2RlbDp7bmFtZTpcInRhYmxlXCIsa2V5OlwiYWxpZ25tZW50XCIsdmFsdWU6dD0+dC5nZXRBdHRyaWJ1dGUoXCJhbGlnblwiKX19KX1mdW5jdGlvbiB4Tyh0LGUsaSxuKXt0LmV4dGVuZChcInRhYmxlXCIse2FsbG93QXR0cmlidXRlczpbaV19KTtXUihlLFwidGFibGVcIixpLG4pOyRSKGUsaSxuKX1mdW5jdGlvbiBDTyh0LGUsaSxuKXt0LmV4dGVuZChcInRhYmxlXCIse2FsbG93QXR0cmlidXRlczpbaV19KTtXUihlLFwidGFibGVcIixpLG4pO1VSKGUsXCJ0YWJsZVwiLGksbil9dmFyIEFPPWkoMTEyKTtjb25zdCBUTz17bGVmdDpreSxjZW50ZXI6X3kscmlnaHQ6dnl9O2NsYXNzIFBPIGV4dGVuZHMgR3B7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KTt0aGlzLnNldCh7Ym9yZGVyU3R5bGU6XCJcIixib3JkZXJXaWR0aDpcIlwiLGJvcmRlckNvbG9yOlwiXCIsYmFja2dyb3VuZENvbG9yOlwiXCIsd2lkdGg6XCJcIixoZWlnaHQ6XCJcIixhbGlnbm1lbnQ6XCJcIn0pO3RoaXMub3B0aW9ucz1lO2NvbnN0e2JvcmRlclN0eWxlRHJvcGRvd246aSxib3JkZXJXaWR0aElucHV0Om4sYm9yZGVyQ29sb3JJbnB1dDpvLGJvcmRlclJvd0xhYmVsOnJ9PXRoaXMuX2NyZWF0ZUJvcmRlckZpZWxkcygpO2NvbnN0e3dpZHRoSW5wdXQ6cyxvcGVyYXRvckxhYmVsOmEsaGVpZ2h0SW5wdXQ6YyxkaW1lbnNpb25zTGFiZWw6bH09dGhpcy5fY3JlYXRlRGltZW5zaW9uRmllbGRzKCk7Y29uc3R7YWxpZ25tZW50VG9vbGJhcjpkLGFsaWdubWVudExhYmVsOnV9PXRoaXMuX2NyZWF0ZUFsaWdubWVudEZpZWxkcygpO3RoaXMuZm9jdXNUcmFja2VyPW5ldyBmYjt0aGlzLmtleXN0cm9rZXM9bmV3IGRwO3RoaXMuY2hpbGRyZW49dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCk7dGhpcy5ib3JkZXJTdHlsZURyb3Bkb3duPWk7dGhpcy5ib3JkZXJXaWR0aElucHV0PW47dGhpcy5ib3JkZXJDb2xvcklucHV0PW87dGhpcy5iYWNrZ3JvdW5kSW5wdXQ9dGhpcy5fY3JlYXRlQmFja2dyb3VuZEZpZWxkKCk7dGhpcy53aWR0aElucHV0PXM7dGhpcy5oZWlnaHRJbnB1dD1jO3RoaXMuYWxpZ25tZW50VG9vbGJhcj1kO2NvbnN0e3NhdmVCdXR0b25WaWV3OmgsY2FuY2VsQnV0dG9uVmlldzpmfT10aGlzLl9jcmVhdGVBY3Rpb25CdXR0b25zKCk7dGhpcy5zYXZlQnV0dG9uVmlldz1oO3RoaXMuY2FuY2VsQnV0dG9uVmlldz1mO3RoaXMuX2ZvY3VzYWJsZXM9bmV3IGJwO3RoaXMuX2ZvY3VzQ3ljbGVyPW5ldyB5Yih7Zm9jdXNhYmxlczp0aGlzLl9mb2N1c2FibGVzLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOlwic2hpZnQgKyB0YWJcIixmb2N1c05leHQ6XCJ0YWJcIn19KTt0aGlzLmNoaWxkcmVuLmFkZChuZXcgbVIodCx7bGFiZWw6dGhpcy50KFwiVGFibGUgcHJvcGVydGllc1wiKX0pKTt0aGlzLmNoaWxkcmVuLmFkZChuZXcgZlIodCx7bGFiZWxWaWV3OnIsY2hpbGRyZW46W3IsaSxvLG5dLGNsYXNzOlwiY2stdGFibGUtZm9ybV9fYm9yZGVyLXJvd1wifSkpO3RoaXMuY2hpbGRyZW4uYWRkKG5ldyBmUih0LHtjaGlsZHJlbjpbdGhpcy5iYWNrZ3JvdW5kSW5wdXRdfSkpO3RoaXMuY2hpbGRyZW4uYWRkKG5ldyBmUih0LHtjaGlsZHJlbjpbbmV3IGZSKHQse2xhYmVsVmlldzpsLGNoaWxkcmVuOltsLHMsYSxjXSxjbGFzczpcImNrLXRhYmxlLWZvcm1fX2RpbWVuc2lvbnMtcm93XCJ9KSxuZXcgZlIodCx7bGFiZWxWaWV3OnUsY2hpbGRyZW46W3UsZF0sY2xhc3M6XCJjay10YWJsZS1wcm9wZXJ0aWVzLWZvcm1fX2FsaWdubWVudC1yb3dcIn0pXX0pKTt0aGlzLmNoaWxkcmVuLmFkZChuZXcgZlIodCx7Y2hpbGRyZW46W3RoaXMuc2F2ZUJ1dHRvblZpZXcsdGhpcy5jYW5jZWxCdXR0b25WaWV3XSxjbGFzczpcImNrLXRhYmxlLWZvcm1fX2FjdGlvbi1yb3dcIn0pKTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJmb3JtXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWZvcm1cIixcImNrLXRhYmxlLWZvcm1cIixcImNrLXRhYmxlLXByb3BlcnRpZXMtZm9ybVwiXSx0YWJpbmRleDpcIi0xXCJ9LGNoaWxkcmVuOnRoaXMuY2hpbGRyZW59KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtRdih7dmlldzp0aGlzfSk7W3RoaXMuYm9yZGVyU3R5bGVEcm9wZG93bix0aGlzLmJvcmRlckNvbG9ySW5wdXQsdGhpcy5ib3JkZXJXaWR0aElucHV0LHRoaXMuYmFja2dyb3VuZElucHV0LHRoaXMud2lkdGhJbnB1dCx0aGlzLmhlaWdodElucHV0LHRoaXMuYWxpZ25tZW50VG9vbGJhcix0aGlzLnNhdmVCdXR0b25WaWV3LHRoaXMuY2FuY2VsQnV0dG9uVmlld10uZm9yRWFjaCh0PT57dGhpcy5fZm9jdXNhYmxlcy5hZGQodCk7dGhpcy5mb2N1c1RyYWNrZXIuYWRkKHQuZWxlbWVudCl9KTt0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KX1mb2N1cygpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzRmlyc3QoKX1fY3JlYXRlQm9yZGVyRmllbGRzKCl7Y29uc3QgdD1jUih7Y29sb3JDb25maWc6dGhpcy5vcHRpb25zLmJvcmRlckNvbG9ycyxjb2x1bW5zOjV9KTtjb25zdCBlPXRoaXMubG9jYWxlO2NvbnN0IGk9dGhpcy50O2NvbnN0IG49bmV3IE1rKGUpO24udGV4dD1pKFwibmJcIik7Y29uc3Qgbz1aRSh0aGlzLnQpO2NvbnN0IHI9bmV3IEhFKGUscUUpO3Iuc2V0KHtsYWJlbDppKFwibmNcIiksY2xhc3M6XCJjay10YWJsZS1mb3JtX19ib3JkZXItc3R5bGVcIn0pO3Iudmlldy5idXR0b25WaWV3LnNldCh7aXNPbjpmYWxzZSx3aXRoVGV4dDp0cnVlLHRvb2x0aXA6aShcIm5jXCIpfSk7ci52aWV3LmJ1dHRvblZpZXcuYmluZChcImxhYmVsXCIpLnRvKHRoaXMsXCJib3JkZXJTdHlsZVwiLHQ9Pm9bdD90Olwibm9uZVwiXSk7ci52aWV3Lm9uKFwiZXhlY3V0ZVwiLHQ9Pnt0aGlzLmJvcmRlclN0eWxlPXQuc291cmNlLl9ib3JkZXJTdHlsZVZhbHVlfSk7VWIoci52aWV3LHJSKHRoaXMpKTtjb25zdCBzPW5ldyBIRShlLFdFKTtzLnNldCh7bGFiZWw6aShcIm5kXCIpLGNsYXNzOlwiY2stdGFibGUtZm9ybV9fYm9yZGVyLXdpZHRoXCJ9KTtzLnZpZXcuYmluZChcInZhbHVlXCIpLnRvKHRoaXMsXCJib3JkZXJXaWR0aFwiKTtzLmJpbmQoXCJpc0VuYWJsZWRcIikudG8odGhpcyxcImJvcmRlclN0eWxlXCIsU08pO3Mudmlldy5vbihcImlucHV0XCIsKCk9Pnt0aGlzLmJvcmRlcldpZHRoPXMudmlldy5lbGVtZW50LnZhbHVlfSk7Y29uc3QgYT1uZXcgSEUoZSx0KTthLnNldCh7bGFiZWw6aShcIm5lXCIpLGNsYXNzOlwiY2stdGFibGUtZm9ybV9fYm9yZGVyLWNvbG9yXCJ9KTthLnZpZXcuYmluZChcInZhbHVlXCIpLnRvKHRoaXMsXCJib3JkZXJDb2xvclwiKTthLmJpbmQoXCJpc0VuYWJsZWRcIikudG8odGhpcyxcImJvcmRlclN0eWxlXCIsU08pO2Eudmlldy5vbihcImlucHV0XCIsKCk9Pnt0aGlzLmJvcmRlckNvbG9yPWEudmlldy52YWx1ZX0pO3RoaXMub24oXCJjaGFuZ2U6Ym9yZGVyU3R5bGVcIiwodCxlLGkpPT57aWYoIVNPKGkpKXt0aGlzLmJvcmRlckNvbG9yPVwiXCI7dGhpcy5ib3JkZXJXaWR0aD1cIlwifX0pO3JldHVybntib3JkZXJSb3dMYWJlbDpuLGJvcmRlclN0eWxlRHJvcGRvd246cixib3JkZXJDb2xvcklucHV0OmEsYm9yZGVyV2lkdGhJbnB1dDpzfX1fY3JlYXRlQmFja2dyb3VuZEZpZWxkKCl7Y29uc3QgdD1jUih7Y29sb3JDb25maWc6dGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvcnMsY29sdW1uczo1fSk7Y29uc3QgZT10aGlzLmxvY2FsZTtjb25zdCBpPXRoaXMudDtjb25zdCBuPW5ldyBIRShlLHQpO24uc2V0KHtsYWJlbDppKFwibmZcIiksY2xhc3M6XCJjay10YWJsZS1wcm9wZXJ0aWVzLWZvcm1fX2JhY2tncm91bmRcIn0pO24udmlldy5iaW5kKFwidmFsdWVcIikudG8odGhpcyxcImJhY2tncm91bmRDb2xvclwiKTtuLnZpZXcub24oXCJpbnB1dFwiLCgpPT57dGhpcy5iYWNrZ3JvdW5kQ29sb3I9bi52aWV3LnZhbHVlfSk7cmV0dXJuIG59X2NyZWF0ZURpbWVuc2lvbkZpZWxkcygpe2NvbnN0IHQ9dGhpcy5sb2NhbGU7Y29uc3QgZT10aGlzLnQ7Y29uc3QgaT1uZXcgTWsodCk7aS50ZXh0PWUoXCJuZ1wiKTtjb25zdCBuPW5ldyBIRSh0LFdFKTtuLnNldCh7bGFiZWw6ZShcIm5kXCIpLGNsYXNzOlwiY2stdGFibGUtZm9ybV9fZGltZW5zaW9ucy1yb3dfX3dpZHRoXCJ9KTtuLnZpZXcuYmluZChcInZhbHVlXCIpLnRvKHRoaXMsXCJ3aWR0aFwiKTtuLnZpZXcub24oXCJpbnB1dFwiLCgpPT57dGhpcy53aWR0aD1uLnZpZXcuZWxlbWVudC52YWx1ZX0pO2NvbnN0IG89bmV3IEdwKHQpO28uc2V0VGVtcGxhdGUoe3RhZzpcInNwYW5cIixhdHRyaWJ1dGVzOntjbGFzczpbXCJjay10YWJsZS1mb3JtX19kaW1lbnNpb24tb3BlcmF0b3JcIl19LGNoaWxkcmVuOlt7dGV4dDpcIsOXXCJ9XX0pO2NvbnN0IHI9bmV3IEhFKHQsV0UpO3Iuc2V0KHtsYWJlbDplKFwibmhcIiksY2xhc3M6XCJjay10YWJsZS1mb3JtX19kaW1lbnNpb25zLXJvd19faGVpZ2h0XCJ9KTtyLnZpZXcuYmluZChcInZhbHVlXCIpLnRvKHRoaXMsXCJoZWlnaHRcIik7ci52aWV3Lm9uKFwiaW5wdXRcIiwoKT0+e3RoaXMuaGVpZ2h0PXIudmlldy5lbGVtZW50LnZhbHVlfSk7cmV0dXJue2RpbWVuc2lvbnNMYWJlbDppLHdpZHRoSW5wdXQ6bixvcGVyYXRvckxhYmVsOm8saGVpZ2h0SW5wdXQ6cn19X2NyZWF0ZUFsaWdubWVudEZpZWxkcygpe2NvbnN0IHQ9dGhpcy5sb2NhbGU7Y29uc3QgZT10aGlzLnQ7Y29uc3QgaT1uZXcgTWsodCk7aS50ZXh0PWUoXCJudFwiKTtjb25zdCBuPW5ldyBYYih0KTtuLnNldCh7aXNDb21wYWN0OnRydWUsYXJpYUxhYmVsOmUoXCJudVwiKX0pO3NSKHt2aWV3OnRoaXMsaWNvbnM6VE8sdG9vbGJhcjpuLGxhYmVsczp0aGlzLl9hbGlnbm1lbnRMYWJlbHMscHJvcGVydHlOYW1lOlwiYWxpZ25tZW50XCIsbmFtZVRvVmFsdWU6dD0+dD09PVwiY2VudGVyXCI/XCJcIjp0fSk7cmV0dXJue2FsaWdubWVudExhYmVsOmksYWxpZ25tZW50VG9vbGJhcjpufX1fY3JlYXRlQWN0aW9uQnV0dG9ucygpe2NvbnN0IHQ9dGhpcy5sb2NhbGU7Y29uc3QgZT10aGlzLnQ7Y29uc3QgaT1uZXcgaGIodCk7Y29uc3Qgbj1uZXcgaGIodCk7Y29uc3Qgbz1bdGhpcy5ib3JkZXJXaWR0aElucHV0LHRoaXMuYm9yZGVyQ29sb3JJbnB1dCx0aGlzLmJhY2tncm91bmRJbnB1dCx0aGlzLndpZHRoSW5wdXQsdGhpcy5oZWlnaHRJbnB1dF07aS5zZXQoe2xhYmVsOmUoXCJsb1wiKSxpY29uOlh2LGNsYXNzOlwiY2stYnV0dG9uLXNhdmVcIix0eXBlOlwic3VibWl0XCIsd2l0aFRleHQ6dHJ1ZX0pO2kuYmluZChcImlzRW5hYmxlZFwiKS50b01hbnkobyxcImVycm9yVGV4dFwiLCguLi50KT0+dC5ldmVyeSh0PT4hdCkpO24uc2V0KHtsYWJlbDplKFwibHBcIiksaWNvbjpadixjbGFzczpcImNrLWJ1dHRvbi1jYW5jZWxcIix0eXBlOlwiY2FuY2VsXCIsd2l0aFRleHQ6dHJ1ZX0pO24uZGVsZWdhdGUoXCJleGVjdXRlXCIpLnRvKHRoaXMsXCJjYW5jZWxcIik7cmV0dXJue3NhdmVCdXR0b25WaWV3OmksY2FuY2VsQnV0dG9uVmlldzpufX1nZXQgX2FsaWdubWVudExhYmVscygpe2NvbnN0IHQ9dGhpcy5sb2NhbGU7Y29uc3QgZT10aGlzLnQ7Y29uc3QgaT1lKFwibnZcIik7Y29uc3Qgbj1lKFwibndcIik7Y29uc3Qgbz1lKFwibnhcIik7aWYodC51aUxhbmd1YWdlRGlyZWN0aW9uPT09XCJydGxcIil7cmV0dXJue3JpZ2h0Om8sY2VudGVyOm4sbGVmdDppfX1lbHNle3JldHVybntsZWZ0OmksY2VudGVyOm4scmlnaHQ6b319fX1mdW5jdGlvbiBTTyh0KXtyZXR1cm4hIXR9dmFyIEVPPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk04IDJ2NWg0VjJoMXY1aDV2MWgtNXY0aC4wMjFsLS4xNzIuMzUxLTEuOTE2LjI4LS4xNTEuMDI3Yy0uMjg3LjA2My0uNTQuMTgyLS43NTUuMzQxTDggMTN2NUg3di01SDJ2LTFoNVY4SDJWN2g1VjJoMXptNCA2SDh2NGg0Vjh6XCIgb3BhY2l0eT1cIi42XCIvPjxwYXRoIGQ9XCJNMTUuNSAxMS41bDEuMzIzIDIuNjggMi45NTcuNDMtMi4xNCAyLjA4NS41MDUgMi45NDZMMTUuNSAxOC4yNWwtMi42NDUgMS4zOS41MDUtMi45NDUtMi4xNC0yLjA4NiAyLjk1Ny0uNDNMMTUuNSAxMS41ek0xNyAxYTIgMiAwIDAgMSAyIDJ2OS40NzVsLS44NS0uMTI0LS44NTctMS43MzZhMi4wNDggMi4wNDggMCAwIDAtLjI5Mi0uNDRMMTcgM0gzdjE0aDcuODA4bC40MDIuMzkyTDEwLjkzNSAxOUgzYTIgMiAwIDAgMS0yLTJWM2EyIDIgMCAwIDEgMi0yaDE0elwiLz48L3N2Zz4nO2NvbnN0IFJPPTUwMDtjbGFzcyBPTyBleHRlbmRzIG1we3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5ba2JdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiVGFibGVQcm9wZXJ0aWVzVUlcIn1jb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTt0LmNvbmZpZy5kZWZpbmUoXCJ0YWJsZS50YWJsZVByb3BlcnRpZXNcIix7Ym9yZGVyQ29sb3JzOmFSLGJhY2tncm91bmRDb2xvcnM6YVJ9KX1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQudDt0aGlzLl9iYWxsb29uPXQucGx1Z2lucy5nZXQoa2IpO3RoaXMudmlldz10aGlzLl9jcmVhdGVQcm9wZXJ0aWVzVmlldygpO3RoaXMuX3VuZG9TdGVwQmF0Y2g9bnVsbDt0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKFwidGFibGVQcm9wZXJ0aWVzXCIsdD0+e2NvbnN0IGk9bmV3IGhiKHQpO2kuc2V0KHtsYWJlbDplKFwia2dcIiksaWNvbjpFTyx0b29sdGlwOnRydWV9KTt0aGlzLmxpc3RlblRvKGksXCJleGVjdXRlXCIsKCk9PnRoaXMuX3Nob3dWaWV3KCkpO3JldHVybiBpfSl9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKTt0aGlzLnZpZXcuZGVzdHJveSgpfV9jcmVhdGVQcm9wZXJ0aWVzVmlldygpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7Y29uc3QgZT10LmVkaXRpbmcudmlldy5kb2N1bWVudDtjb25zdCBpPXQuY29uZmlnLmdldChcInRhYmxlLnRhYmxlUHJvcGVydGllc1wiKTtjb25zdCBuPV9fKGkuYm9yZGVyQ29sb3JzKTtjb25zdCBvPWtfKHQubG9jYWxlLG4pO2NvbnN0IHI9X18oaS5iYWNrZ3JvdW5kQ29sb3JzKTtjb25zdCBzPWtfKHQubG9jYWxlLHIpO2NvbnN0IGE9bmV3IFBPKHQubG9jYWxlLHtib3JkZXJDb2xvcnM6byxiYWNrZ3JvdW5kQ29sb3JzOnN9KTtjb25zdCBjPXQudDthLnJlbmRlcigpO3RoaXMubGlzdGVuVG8oYSxcInN1Ym1pdFwiLCgpPT57dGhpcy5faGlkZVZpZXcoKX0pO3RoaXMubGlzdGVuVG8oYSxcImNhbmNlbFwiLCgpPT57aWYodGhpcy5fdW5kb1N0ZXBCYXRjaC5vcGVyYXRpb25zLmxlbmd0aCl7dC5leGVjdXRlKFwidW5kb1wiLHRoaXMuX3VuZG9TdGVwQmF0Y2gpfXRoaXMuX2hpZGVWaWV3KCl9KTthLmtleXN0cm9rZXMuc2V0KFwiRXNjXCIsKHQsZSk9Pnt0aGlzLl9oaWRlVmlldygpO2UoKX0pO3RoaXMubGlzdGVuVG8odC51aSxcInVwZGF0ZVwiLCgpPT57aWYoIW5TKGUuc2VsZWN0aW9uKSl7dGhpcy5faGlkZVZpZXcoKX1lbHNlIGlmKHRoaXMuX2lzVmlld1Zpc2libGUpe1lFKHQsXCJ0YWJsZVwiKX19KTtEYih7ZW1pdHRlcjphLGFjdGl2YXRvcjooKT0+dGhpcy5faXNWaWV3SW5CYWxsb29uLGNvbnRleHRFbGVtZW50czpbdGhpcy5fYmFsbG9vbi52aWV3LmVsZW1lbnRdLGNhbGxiYWNrOigpPT50aGlzLl9oaWRlVmlldygpfSk7Y29uc3QgbD10UihjKTtjb25zdCBkPWVSKGMpO2Eub24oXCJjaGFuZ2U6Ym9yZGVyU3R5bGVcIix0aGlzLl9nZXRQcm9wZXJ0eUNoYW5nZUNhbGxiYWNrKFwidGFibGVCb3JkZXJTdHlsZVwiKSk7YS5vbihcImNoYW5nZTpib3JkZXJDb2xvclwiLHRoaXMuX2dldFZhbGlkYXRlZFByb3BlcnR5Q2hhbmdlQ2FsbGJhY2soe3ZpZXdGaWVsZDphLmJvcmRlckNvbG9ySW5wdXQsY29tbWFuZE5hbWU6XCJ0YWJsZUJvcmRlckNvbG9yXCIsZXJyb3JUZXh0OmwsdmFsaWRhdG9yOmlSfSkpO2Eub24oXCJjaGFuZ2U6Ym9yZGVyV2lkdGhcIix0aGlzLl9nZXRWYWxpZGF0ZWRQcm9wZXJ0eUNoYW5nZUNhbGxiYWNrKHt2aWV3RmllbGQ6YS5ib3JkZXJXaWR0aElucHV0LGNvbW1hbmROYW1lOlwidGFibGVCb3JkZXJXaWR0aFwiLGVycm9yVGV4dDpkLHZhbGlkYXRvcjpvUn0pKTthLm9uKFwiY2hhbmdlOmJhY2tncm91bmRDb2xvclwiLHRoaXMuX2dldFZhbGlkYXRlZFByb3BlcnR5Q2hhbmdlQ2FsbGJhY2soe3ZpZXdGaWVsZDphLmJhY2tncm91bmRJbnB1dCxjb21tYW5kTmFtZTpcInRhYmxlQmFja2dyb3VuZENvbG9yXCIsZXJyb3JUZXh0OmwsdmFsaWRhdG9yOmlSfSkpO2Eub24oXCJjaGFuZ2U6d2lkdGhcIix0aGlzLl9nZXRWYWxpZGF0ZWRQcm9wZXJ0eUNoYW5nZUNhbGxiYWNrKHt2aWV3RmllbGQ6YS53aWR0aElucHV0LGNvbW1hbmROYW1lOlwidGFibGVXaWR0aFwiLGVycm9yVGV4dDpkLHZhbGlkYXRvcjpuUn0pKTthLm9uKFwiY2hhbmdlOmhlaWdodFwiLHRoaXMuX2dldFZhbGlkYXRlZFByb3BlcnR5Q2hhbmdlQ2FsbGJhY2soe3ZpZXdGaWVsZDphLmhlaWdodElucHV0LGNvbW1hbmROYW1lOlwidGFibGVIZWlnaHRcIixlcnJvclRleHQ6ZCx2YWxpZGF0b3I6blJ9KSk7YS5vbihcImNoYW5nZTphbGlnbm1lbnRcIix0aGlzLl9nZXRQcm9wZXJ0eUNoYW5nZUNhbGxiYWNrKFwidGFibGVBbGlnbm1lbnRcIikpO3JldHVybiBhfV9maWxsVmlld0Zvcm1Gcm9tQ29tbWFuZFZhbHVlcygpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuY29tbWFuZHM7dGhpcy52aWV3LnNldCh7Ym9yZGVyU3R5bGU6dC5nZXQoXCJ0YWJsZUJvcmRlclN0eWxlXCIpLnZhbHVlfHxcIlwiLGJvcmRlckNvbG9yOnQuZ2V0KFwidGFibGVCb3JkZXJDb2xvclwiKS52YWx1ZXx8XCJcIixib3JkZXJXaWR0aDp0LmdldChcInRhYmxlQm9yZGVyV2lkdGhcIikudmFsdWV8fFwiXCIsYmFja2dyb3VuZENvbG9yOnQuZ2V0KFwidGFibGVCYWNrZ3JvdW5kQ29sb3JcIikudmFsdWV8fFwiXCIsd2lkdGg6dC5nZXQoXCJ0YWJsZVdpZHRoXCIpLnZhbHVlfHxcIlwiLGhlaWdodDp0LmdldChcInRhYmxlSGVpZ2h0XCIpLnZhbHVlfHxcIlwiLGFsaWdubWVudDp0LmdldChcInRhYmxlQWxpZ25tZW50XCIpLnZhbHVlfHxcIlwifSl9X3Nob3dWaWV3KCl7Y29uc3QgdD10aGlzLmVkaXRvcjt0aGlzLl9iYWxsb29uLmFkZCh7dmlldzp0aGlzLnZpZXcscG9zaXRpb246UUUodCl9KTt0aGlzLl91bmRvU3RlcEJhdGNoPXQubW9kZWwuY3JlYXRlQmF0Y2goKTt0aGlzLl9maWxsVmlld0Zvcm1Gcm9tQ29tbWFuZFZhbHVlcygpO3RoaXMudmlldy5mb2N1cygpfV9oaWRlVmlldygpe2lmKCF0aGlzLl9pc1ZpZXdJbkJhbGxvb24pe3JldHVybn1jb25zdCB0PXRoaXMuZWRpdG9yO3RoaXMuc3RvcExpc3RlbmluZyh0LnVpLFwidXBkYXRlXCIpO3RoaXMudmlldy5zYXZlQnV0dG9uVmlldy5mb2N1cygpO3RoaXMuX2JhbGxvb24ucmVtb3ZlKHRoaXMudmlldyk7dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmZvY3VzKCl9Z2V0IF9pc1ZpZXdWaXNpYmxlKCl7cmV0dXJuIHRoaXMuX2JhbGxvb24udmlzaWJsZVZpZXc9PT10aGlzLnZpZXd9Z2V0IF9pc1ZpZXdJbkJhbGxvb24oKXtyZXR1cm4gdGhpcy5fYmFsbG9vbi5oYXNWaWV3KHRoaXMudmlldyl9X2dldFByb3BlcnR5Q2hhbmdlQ2FsbGJhY2sodCl7cmV0dXJuKGUsaSxuKT0+e3RoaXMuZWRpdG9yLmV4ZWN1dGUodCx7dmFsdWU6bixiYXRjaDp0aGlzLl91bmRvU3RlcEJhdGNofSl9fV9nZXRWYWxpZGF0ZWRQcm9wZXJ0eUNoYW5nZUNhbGxiYWNrKHtjb21tYW5kTmFtZTp0LHZpZXdGaWVsZDplLHZhbGlkYXRvcjppLGVycm9yVGV4dDpufSl7Y29uc3Qgbz11aCgoKT0+e2UuZXJyb3JUZXh0PW59LFJPKTtyZXR1cm4obixyLHMpPT57by5jYW5jZWwoKTtpZihpKHMpKXt0aGlzLmVkaXRvci5leGVjdXRlKHQse3ZhbHVlOnMsYmF0Y2g6dGhpcy5fdW5kb1N0ZXBCYXRjaH0pO2UuZXJyb3JUZXh0PW51bGx9ZWxzZXtvKCl9fX19Y2xhc3MgSU8gZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlRhYmxlUHJvcGVydGllc1wifXN0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bX08sT09dfX1jb25zdCBWTz1cInVuZGVybGluZVwiO2NsYXNzIE5PIGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJVbmRlcmxpbmVFZGl0aW5nXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5tb2RlbC5zY2hlbWEuZXh0ZW5kKFwiJHRleHRcIix7YWxsb3dBdHRyaWJ1dGVzOlZPfSk7dC5tb2RlbC5zY2hlbWEuc2V0QXR0cmlidXRlUHJvcGVydGllcyhWTyx7aXNGb3JtYXR0aW5nOnRydWUsY29weU9uRW50ZXI6dHJ1ZX0pO3QuY29udmVyc2lvbi5hdHRyaWJ1dGVUb0VsZW1lbnQoe21vZGVsOlZPLHZpZXc6XCJ1XCIsdXBjYXN0QWxzbzp7c3R5bGVzOntcInRleHQtZGVjb3JhdGlvblwiOlwidW5kZXJsaW5lXCJ9fX0pO3QuY29tbWFuZHMuYWRkKFZPLG5ldyB5ayh0LFZPKSk7dC5rZXlzdHJva2VzLnNldChcIkNUUkwrVVwiLFwidW5kZXJsaW5lXCIpfX12YXIgTU89Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTMgMTh2LTEuNWgxNFYxOHptMi4yLThWMy42YzAtLjQuNC0uNi44LS42LjMgMCAuNy4yLjcuNnY2LjJjMCAyIDEuMyAyLjggMy4yIDIuOCAxLjkgMCAzLjQtLjkgMy40LTIuOVYzLjZjMC0uMy40LS41LjgtLjUuMyAwIC43LjIuNy41VjEwYzAgMi43LTIuMiA0LTQuOSA0LTIuNiAwLTQuNy0xLjItNC43LTR6XCIvPjwvc3ZnPic7Y29uc3QgQk89XCJ1bmRlcmxpbmVcIjtjbGFzcyB6TyBleHRlbmRzIG1we2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC50O3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoQk8saT0+e2NvbnN0IG49dC5jb21tYW5kcy5nZXQoQk8pO2NvbnN0IG89bmV3IGhiKGkpO28uc2V0KHtsYWJlbDplKFwiam5cIiksaWNvbjpNTyxrZXlzdHJva2U6XCJDVFJMK1VcIix0b29sdGlwOnRydWUsaXNUb2dnbGVhYmxlOnRydWV9KTtvLmJpbmQoXCJpc09uXCIsXCJpc0VuYWJsZWRcIikudG8obixcInZhbHVlXCIsXCJpc0VuYWJsZWRcIik7dGhpcy5saXN0ZW5UbyhvLFwiZXhlY3V0ZVwiLCgpPT57dC5leGVjdXRlKEJPKTt0LmVkaXRpbmcudmlldy5mb2N1cygpfSk7cmV0dXJuIG99KX19Y2xhc3MgTE8gZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW05PLHpPXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlVuZGVybGluZVwifX1mdW5jdGlvbipGTyh0LGUpe2Zvcihjb25zdCBpIG9mIGUpe2lmKGkmJnQuZ2V0QXR0cmlidXRlUHJvcGVydGllcyhpWzBdKS5jb3B5T25FbnRlcil7eWllbGQgaX19fWNsYXNzIERPIGV4dGVuZHMgand7ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3QgZT10LmRvY3VtZW50O3QuY2hhbmdlKGk9PntqTyh0aGlzLmVkaXRvci5tb2RlbCxpLGUuc2VsZWN0aW9uLHQuc2NoZW1hKTt0aGlzLmZpcmUoXCJhZnRlckV4ZWN1dGVcIix7d3JpdGVyOml9KX0pfX1mdW5jdGlvbiBqTyh0LGUsaSxuKXtjb25zdCBvPWkuaXNDb2xsYXBzZWQ7Y29uc3Qgcj1pLmdldEZpcnN0UmFuZ2UoKTtjb25zdCBzPXIuc3RhcnQucGFyZW50O2NvbnN0IGE9ci5lbmQucGFyZW50O2lmKG4uaXNMaW1pdChzKXx8bi5pc0xpbWl0KGEpKXtpZighbyYmcz09YSl7dC5kZWxldGVDb250ZW50KGkpfXJldHVybn1pZihvKXtjb25zdCB0PUZPKGUubW9kZWwuc2NoZW1hLGkuZ2V0QXR0cmlidXRlcygpKTtITyhlLHIuc3RhcnQpO2Uuc2V0U2VsZWN0aW9uQXR0cmlidXRlKHQpfWVsc2V7Y29uc3Qgbj0hKHIuc3RhcnQuaXNBdFN0YXJ0JiZyLmVuZC5pc0F0RW5kKTtjb25zdCBvPXM9PWE7dC5kZWxldGVDb250ZW50KGkse2xlYXZlVW5tZXJnZWQ6bn0pO2lmKG4pe2lmKG8pe0hPKGUsaS5mb2N1cyl9ZWxzZXtlLnNldFNlbGVjdGlvbihhLDApfX19fWZ1bmN0aW9uIEhPKHQsZSl7dC5zcGxpdChlKTt0LnNldFNlbGVjdGlvbihlLnBhcmVudC5uZXh0U2libGluZywwKX1jbGFzcyBXTyBleHRlbmRzIEdke2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dGhpcy5kb2N1bWVudDtlLm9uKFwia2V5ZG93blwiLCh0LGkpPT57aWYodGhpcy5pc0VuYWJsZWQmJmkua2V5Q29kZT09TmwuZW50ZXIpe2xldCBuO2Uub25jZShcImVudGVyXCIsdD0+bj10LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pO2UuZmlyZShcImVudGVyXCIsbmV3IEt1KGUsaS5kb21FdmVudCx7aXNTb2Z0Omkuc2hpZnRLZXl9KSk7aWYobiYmbi5zdG9wLmNhbGxlZCl7dC5zdG9wKCl9fX0pfW9ic2VydmUoKXt9fWNsYXNzIHFPIGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJFbnRlclwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5lZGl0aW5nLnZpZXc7Y29uc3QgaT1lLmRvY3VtZW50O2UuYWRkT2JzZXJ2ZXIoV08pO3QuY29tbWFuZHMuYWRkKFwiZW50ZXJcIixuZXcgRE8odCkpO3RoaXMubGlzdGVuVG8oaSxcImVudGVyXCIsKGksbik9PntuLnByZXZlbnREZWZhdWx0KCk7aWYobi5pc1NvZnQpe3JldHVybn10LmV4ZWN1dGUoXCJlbnRlclwiKTtlLnNjcm9sbFRvVGhlU2VsZWN0aW9uKCl9LHtwcmlvcml0eTpcImxvd1wifSl9fWNsYXNzIFVPIGV4dGVuZHMgand7ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3QgZT10LmRvY3VtZW50O3QuY2hhbmdlKGk9PntHTyh0LGksZS5zZWxlY3Rpb24pO3RoaXMuZmlyZShcImFmdGVyRXhlY3V0ZVwiLHt3cml0ZXI6aX0pfSl9cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWw7Y29uc3QgZT10LmRvY3VtZW50O3RoaXMuaXNFbmFibGVkPSRPKHQuc2NoZW1hLGUuc2VsZWN0aW9uKX19ZnVuY3Rpb24gJE8odCxlKXtpZihlLnJhbmdlQ291bnQ+MSl7cmV0dXJuIGZhbHNlfWNvbnN0IGk9ZS5hbmNob3I7aWYoIWl8fCF0LmNoZWNrQ2hpbGQoaSxcInNvZnRCcmVha1wiKSl7cmV0dXJuIGZhbHNlfWNvbnN0IG49ZS5nZXRGaXJzdFJhbmdlKCk7Y29uc3Qgbz1uLnN0YXJ0LnBhcmVudDtjb25zdCByPW4uZW5kLnBhcmVudDtpZigoSk8obyx0KXx8Sk8ocix0KSkmJm8hPT1yKXtyZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9ZnVuY3Rpb24gR08odCxlLGkpe2NvbnN0IG49aS5pc0NvbGxhcHNlZDtjb25zdCBvPWkuZ2V0Rmlyc3RSYW5nZSgpO2NvbnN0IHI9by5zdGFydC5wYXJlbnQ7Y29uc3Qgcz1vLmVuZC5wYXJlbnQ7Y29uc3QgYT1yPT1zO2lmKG4pe2NvbnN0IG49Rk8odC5zY2hlbWEsaS5nZXRBdHRyaWJ1dGVzKCkpO0tPKHQsZSxvLmVuZCk7ZS5yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUoaS5nZXRBdHRyaWJ1dGVLZXlzKCkpO2Uuc2V0U2VsZWN0aW9uQXR0cmlidXRlKG4pfWVsc2V7Y29uc3Qgbj0hKG8uc3RhcnQuaXNBdFN0YXJ0JiZvLmVuZC5pc0F0RW5kKTt0LmRlbGV0ZUNvbnRlbnQoaSx7bGVhdmVVbm1lcmdlZDpufSk7aWYoYSl7S08odCxlLGkuZm9jdXMpfWVsc2V7aWYobil7ZS5zZXRTZWxlY3Rpb24ocywwKX19fX1mdW5jdGlvbiBLTyh0LGUsaSl7Y29uc3Qgbj1lLmNyZWF0ZUVsZW1lbnQoXCJzb2Z0QnJlYWtcIik7dC5pbnNlcnRDb250ZW50KG4saSk7ZS5zZXRTZWxlY3Rpb24obixcImFmdGVyXCIpfWZ1bmN0aW9uIEpPKHQsZSl7aWYodC5pcyhcInJvb3RFbGVtZW50XCIpKXtyZXR1cm4gZmFsc2V9cmV0dXJuIGUuaXNMaW1pdCh0KXx8Sk8odC5wYXJlbnQsZSl9Y2xhc3MgWU8gZXh0ZW5kcyBtcHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlNoaWZ0RW50ZXJcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjtjb25zdCBlPXQubW9kZWwuc2NoZW1hO2NvbnN0IGk9dC5jb252ZXJzaW9uO2NvbnN0IG49dC5lZGl0aW5nLnZpZXc7Y29uc3Qgbz1uLmRvY3VtZW50O2UucmVnaXN0ZXIoXCJzb2Z0QnJlYWtcIix7YWxsb3dXaGVyZTpcIiR0ZXh0XCIsaXNJbmxpbmU6dHJ1ZX0pO2kuZm9yKFwidXBjYXN0XCIpLmVsZW1lbnRUb0VsZW1lbnQoe21vZGVsOlwic29mdEJyZWFrXCIsdmlldzpcImJyXCJ9KTtpLmZvcihcImRvd25jYXN0XCIpLmVsZW1lbnRUb0VsZW1lbnQoe21vZGVsOlwic29mdEJyZWFrXCIsdmlldzoodCxlKT0+ZS5jcmVhdGVFbXB0eUVsZW1lbnQoXCJiclwiKX0pO24uYWRkT2JzZXJ2ZXIoV08pO3QuY29tbWFuZHMuYWRkKFwic2hpZnRFbnRlclwiLG5ldyBVTyh0KSk7dGhpcy5saXN0ZW5UbyhvLFwiZW50ZXJcIiwoZSxpKT0+e2kucHJldmVudERlZmF1bHQoKTtpZighaS5pc1NvZnQpe3JldHVybn10LmV4ZWN1dGUoXCJzaGlmdEVudGVyXCIpO24uc2Nyb2xsVG9UaGVTZWxlY3Rpb24oKX0se3ByaW9yaXR5OlwibG93XCJ9KX19Y29uc3QgUU89bmV3IE1hcDtmdW5jdGlvbiBYTyh0LGUsaSl7bGV0IG49UU8uZ2V0KHQpO2lmKCFuKXtuPW5ldyBNYXA7UU8uc2V0KHQsbil9bi5zZXQoZSxpKX1mdW5jdGlvbiBaTyh0LGUpe2NvbnN0IGk9UU8uZ2V0KHQpO2lmKGkmJmkuaGFzKGUpKXtyZXR1cm4gaS5nZXQoZSl9cmV0dXJuIHRJfWZ1bmN0aW9uIHRJKHQpe3JldHVyblt0XX1mdW5jdGlvbiBlSSh0LGUsaT17fSl7Y29uc3Qgbj1aTyh0LmNvbnN0cnVjdG9yLGUuY29uc3RydWN0b3IpO3RyeXt0PXQuY2xvbmUoKTtyZXR1cm4gbih0LGUsaSl9Y2F0Y2godCl7dGhyb3cgdH19ZnVuY3Rpb24gaUkodCxlLGkpe3Q9dC5zbGljZSgpO2U9ZS5zbGljZSgpO2NvbnN0IG49bmV3IG5JKGkuZG9jdW1lbnQsaS51c2VSZWxhdGlvbnMsaS5mb3JjZVdlYWtSZW1vdmUpO24uc2V0T3JpZ2luYWxPcGVyYXRpb25zKHQpO24uc2V0T3JpZ2luYWxPcGVyYXRpb25zKGUpO2NvbnN0IG89bi5vcmlnaW5hbE9wZXJhdGlvbnM7aWYodC5sZW5ndGg9PTB8fGUubGVuZ3RoPT0wKXtyZXR1cm57b3BlcmF0aW9uc0E6dCxvcGVyYXRpb25zQjplLG9yaWdpbmFsT3BlcmF0aW9uczpvfX1jb25zdCByPW5ldyBXZWFrTWFwO2Zvcihjb25zdCBlIG9mIHQpe3Iuc2V0KGUsMCl9Y29uc3Qgcz17bmV4dEJhc2VWZXJzaW9uQTp0W3QubGVuZ3RoLTFdLmJhc2VWZXJzaW9uKzEsbmV4dEJhc2VWZXJzaW9uQjplW2UubGVuZ3RoLTFdLmJhc2VWZXJzaW9uKzEsb3JpZ2luYWxPcGVyYXRpb25zQUNvdW50OnQubGVuZ3RoLG9yaWdpbmFsT3BlcmF0aW9uc0JDb3VudDplLmxlbmd0aH07bGV0IGE9MDt3aGlsZShhPHQubGVuZ3RoKXtjb25zdCBpPXRbYV07Y29uc3Qgbz1yLmdldChpKTtpZihvPT1lLmxlbmd0aCl7YSsrO2NvbnRpbnVlfWNvbnN0IHM9ZVtvXTtjb25zdCBjPWVJKGkscyxuLmdldENvbnRleHQoaSxzLHRydWUpKTtjb25zdCBsPWVJKHMsaSxuLmdldENvbnRleHQocyxpLGZhbHNlKSk7bi51cGRhdGVSZWxhdGlvbihpLHMpO24uc2V0T3JpZ2luYWxPcGVyYXRpb25zKGMsaSk7bi5zZXRPcmlnaW5hbE9wZXJhdGlvbnMobCxzKTtmb3IoY29uc3QgdCBvZiBjKXtyLnNldCh0LG8rbC5sZW5ndGgpfXQuc3BsaWNlKGEsMSwuLi5jKTtlLnNwbGljZShvLDEsLi4ubCl9aWYoaS5wYWRXaXRoTm9PcHMpe2NvbnN0IGk9dC5sZW5ndGgtcy5vcmlnaW5hbE9wZXJhdGlvbnNBQ291bnQ7Y29uc3Qgbj1lLmxlbmd0aC1zLm9yaWdpbmFsT3BlcmF0aW9uc0JDb3VudDtySSh0LG4taSk7ckkoZSxpLW4pfW9JKHQscy5uZXh0QmFzZVZlcnNpb25CKTtvSShlLHMubmV4dEJhc2VWZXJzaW9uQSk7cmV0dXJue29wZXJhdGlvbnNBOnQsb3BlcmF0aW9uc0I6ZSxvcmlnaW5hbE9wZXJhdGlvbnM6b319Y2xhc3Mgbkl7Y29uc3RydWN0b3IodCxlLGk9ZmFsc2Upe3RoaXMub3JpZ2luYWxPcGVyYXRpb25zPW5ldyBNYXA7dGhpcy5faGlzdG9yeT10Lmhpc3Rvcnk7dGhpcy5fdXNlUmVsYXRpb25zPWU7dGhpcy5fZm9yY2VXZWFrUmVtb3ZlPSEhaTt0aGlzLl9yZWxhdGlvbnM9bmV3IE1hcH1zZXRPcmlnaW5hbE9wZXJhdGlvbnModCxlPW51bGwpe2NvbnN0IGk9ZT90aGlzLm9yaWdpbmFsT3BlcmF0aW9ucy5nZXQoZSk6bnVsbDtmb3IoY29uc3QgZSBvZiB0KXt0aGlzLm9yaWdpbmFsT3BlcmF0aW9ucy5zZXQoZSxpfHxlKX19dXBkYXRlUmVsYXRpb24odCxlKXtzd2l0Y2godC5jb25zdHJ1Y3Rvcil7Y2FzZSBaZzp7c3dpdGNoKGUuY29uc3RydWN0b3Ipe2Nhc2Ugb206e2lmKHQudGFyZ2V0UG9zaXRpb24uaXNFcXVhbChlLnNvdXJjZVBvc2l0aW9uKXx8ZS5tb3ZlZFJhbmdlLmNvbnRhaW5zUG9zaXRpb24odC50YXJnZXRQb3NpdGlvbikpe3RoaXMuX3NldFJlbGF0aW9uKHQsZSxcImluc2VydEF0U291cmNlXCIpfWVsc2UgaWYodC50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKGUuZGVsZXRpb25Qb3NpdGlvbikpe3RoaXMuX3NldFJlbGF0aW9uKHQsZSxcImluc2VydEJldHdlZW5cIil9ZWxzZSBpZih0LnRhcmdldFBvc2l0aW9uLmlzQWZ0ZXIoZS5zb3VyY2VQb3NpdGlvbikpe3RoaXMuX3NldFJlbGF0aW9uKHQsZSxcIm1vdmVUYXJnZXRBZnRlclwiKX1icmVha31jYXNlIFpnOntpZih0LnRhcmdldFBvc2l0aW9uLmlzRXF1YWwoZS5zb3VyY2VQb3NpdGlvbil8fHQudGFyZ2V0UG9zaXRpb24uaXNCZWZvcmUoZS5zb3VyY2VQb3NpdGlvbikpe3RoaXMuX3NldFJlbGF0aW9uKHQsZSxcImluc2VydEJlZm9yZVwiKX1lbHNle3RoaXMuX3NldFJlbGF0aW9uKHQsZSxcImluc2VydEFmdGVyXCIpfWJyZWFrfX1icmVha31jYXNlIHJtOntzd2l0Y2goZS5jb25zdHJ1Y3Rvcil7Y2FzZSBvbTp7aWYodC5zcGxpdFBvc2l0aW9uLmlzQmVmb3JlKGUuc291cmNlUG9zaXRpb24pKXt0aGlzLl9zZXRSZWxhdGlvbih0LGUsXCJzcGxpdEJlZm9yZVwiKX1icmVha31jYXNlIFpnOntpZih0LnNwbGl0UG9zaXRpb24uaXNFcXVhbChlLnNvdXJjZVBvc2l0aW9uKXx8dC5zcGxpdFBvc2l0aW9uLmlzQmVmb3JlKGUuc291cmNlUG9zaXRpb24pKXt0aGlzLl9zZXRSZWxhdGlvbih0LGUsXCJzcGxpdEJlZm9yZVwiKX1icmVha319YnJlYWt9Y2FzZSBvbTp7c3dpdGNoKGUuY29uc3RydWN0b3Ipe2Nhc2Ugb206e2lmKCF0LnRhcmdldFBvc2l0aW9uLmlzRXF1YWwoZS5zb3VyY2VQb3NpdGlvbikpe3RoaXMuX3NldFJlbGF0aW9uKHQsZSxcIm1lcmdlVGFyZ2V0Tm90TW92ZWRcIil9aWYodC5zb3VyY2VQb3NpdGlvbi5pc0VxdWFsKGUudGFyZ2V0UG9zaXRpb24pKXt0aGlzLl9zZXRSZWxhdGlvbih0LGUsXCJtZXJnZVNvdXJjZU5vdE1vdmVkXCIpfWlmKHQuc291cmNlUG9zaXRpb24uaXNFcXVhbChlLnNvdXJjZVBvc2l0aW9uKSl7dGhpcy5fc2V0UmVsYXRpb24odCxlLFwibWVyZ2VTYW1lRWxlbWVudFwiKX1icmVha31jYXNlIHJtOntpZih0LnNvdXJjZVBvc2l0aW9uLmlzRXF1YWwoZS5zcGxpdFBvc2l0aW9uKSl7dGhpcy5fc2V0UmVsYXRpb24odCxlLFwic3BsaXRBdFNvdXJjZVwiKX19fWJyZWFrfWNhc2UgZW06e2NvbnN0IGk9dC5uZXdSYW5nZTtpZighaSl7cmV0dXJufXN3aXRjaChlLmNvbnN0cnVjdG9yKXtjYXNlIFpnOntjb25zdCBuPSRoLl9jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLnNvdXJjZVBvc2l0aW9uLGUuaG93TWFueSk7Y29uc3Qgbz1uLmNvbnRhaW5zUG9zaXRpb24oaS5zdGFydCl8fG4uc3RhcnQuaXNFcXVhbChpLnN0YXJ0KTtjb25zdCByPW4uY29udGFpbnNQb3NpdGlvbihpLmVuZCl8fG4uZW5kLmlzRXF1YWwoaS5lbmQpO2lmKChvfHxyKSYmIW4uY29udGFpbnNSYW5nZShpKSl7dGhpcy5fc2V0UmVsYXRpb24odCxlLHtzaWRlOm8/XCJsZWZ0XCI6XCJyaWdodFwiLHBhdGg6bz9pLnN0YXJ0LnBhdGguc2xpY2UoKTppLmVuZC5wYXRoLnNsaWNlKCl9KX1icmVha31jYXNlIG9tOntjb25zdCBuPWkuc3RhcnQuaXNFcXVhbChlLnRhcmdldFBvc2l0aW9uKTtjb25zdCBvPWkuc3RhcnQuaXNFcXVhbChlLmRlbGV0aW9uUG9zaXRpb24pO2NvbnN0IHI9aS5lbmQuaXNFcXVhbChlLmRlbGV0aW9uUG9zaXRpb24pO2NvbnN0IHM9aS5lbmQuaXNFcXVhbChlLnNvdXJjZVBvc2l0aW9uKTtpZihufHxvfHxyfHxzKXt0aGlzLl9zZXRSZWxhdGlvbih0LGUse3dhc0luTGVmdEVsZW1lbnQ6bix3YXNTdGFydEJlZm9yZU1lcmdlZEVsZW1lbnQ6byx3YXNFbmRCZWZvcmVNZXJnZWRFbGVtZW50OnIsd2FzSW5SaWdodEVsZW1lbnQ6c30pfWJyZWFrfX1icmVha319fWdldENvbnRleHQodCxlLGkpe3JldHVybnthSXNTdHJvbmc6aSxhV2FzVW5kb25lOnRoaXMuX3dhc1VuZG9uZSh0KSxiV2FzVW5kb25lOnRoaXMuX3dhc1VuZG9uZShlKSxhYlJlbGF0aW9uOnRoaXMuX3VzZVJlbGF0aW9ucz90aGlzLl9nZXRSZWxhdGlvbih0LGUpOm51bGwsYmFSZWxhdGlvbjp0aGlzLl91c2VSZWxhdGlvbnM/dGhpcy5fZ2V0UmVsYXRpb24oZSx0KTpudWxsLGZvcmNlV2Vha1JlbW92ZTp0aGlzLl9mb3JjZVdlYWtSZW1vdmV9fV93YXNVbmRvbmUodCl7Y29uc3QgZT10aGlzLm9yaWdpbmFsT3BlcmF0aW9ucy5nZXQodCk7cmV0dXJuIGUud2FzVW5kb25lfHx0aGlzLl9oaXN0b3J5LmlzVW5kb25lT3BlcmF0aW9uKGUpfV9nZXRSZWxhdGlvbih0LGUpe2NvbnN0IGk9dGhpcy5vcmlnaW5hbE9wZXJhdGlvbnMuZ2V0KGUpO2NvbnN0IG49dGhpcy5faGlzdG9yeS5nZXRVbmRvbmVPcGVyYXRpb24oaSk7aWYoIW4pe3JldHVybiBudWxsfWNvbnN0IG89dGhpcy5vcmlnaW5hbE9wZXJhdGlvbnMuZ2V0KHQpO2NvbnN0IHI9dGhpcy5fcmVsYXRpb25zLmdldChvKTtpZihyKXtyZXR1cm4gci5nZXQobil8fG51bGx9cmV0dXJuIG51bGx9X3NldFJlbGF0aW9uKHQsZSxpKXtjb25zdCBuPXRoaXMub3JpZ2luYWxPcGVyYXRpb25zLmdldCh0KTtjb25zdCBvPXRoaXMub3JpZ2luYWxPcGVyYXRpb25zLmdldChlKTtsZXQgcj10aGlzLl9yZWxhdGlvbnMuZ2V0KG4pO2lmKCFyKXtyPW5ldyBNYXA7dGhpcy5fcmVsYXRpb25zLnNldChuLHIpfXIuc2V0KG8saSl9fWZ1bmN0aW9uIG9JKHQsZSl7Zm9yKGNvbnN0IGkgb2YgdCl7aS5iYXNlVmVyc2lvbj1lKyt9fWZ1bmN0aW9uIHJJKHQsZSl7Zm9yKGxldCBpPTA7aTxlO2krKyl7dC5wdXNoKG5ldyBTbSgwKSl9fVhPKFFnLFFnLCh0LGUsaSk9PntpZih0LmtleT09PWUua2V5KXtjb25zdCBuPXQucmFuZ2UuZ2V0RGlmZmVyZW5jZShlLnJhbmdlKS5tYXAoZT0+bmV3IFFnKGUsdC5rZXksdC5vbGRWYWx1ZSx0Lm5ld1ZhbHVlLDApKTtjb25zdCBvPXQucmFuZ2UuZ2V0SW50ZXJzZWN0aW9uKGUucmFuZ2UpO2lmKG8pe2lmKGkuYUlzU3Ryb25nKXtuLnB1c2gobmV3IFFnKG8sZS5rZXksZS5uZXdWYWx1ZSx0Lm5ld1ZhbHVlLDApKX19aWYobi5sZW5ndGg9PTApe3JldHVybltuZXcgU20oMCldfXJldHVybiBufWVsc2V7cmV0dXJuW3RdfX0pO1hPKFFnLHRtLCh0LGUpPT57aWYodC5yYW5nZS5zdGFydC5oYXNTYW1lUGFyZW50QXMoZS5wb3NpdGlvbikmJnQucmFuZ2UuY29udGFpbnNQb3NpdGlvbihlLnBvc2l0aW9uKSl7Y29uc3QgaT10LnJhbmdlLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKGUucG9zaXRpb24sZS5ob3dNYW55LCFlLnNob3VsZFJlY2VpdmVBdHRyaWJ1dGVzKTtjb25zdCBuPWkubWFwKGU9Pm5ldyBRZyhlLHQua2V5LHQub2xkVmFsdWUsdC5uZXdWYWx1ZSx0LmJhc2VWZXJzaW9uKSk7aWYoZS5zaG91bGRSZWNlaXZlQXR0cmlidXRlcyl7Y29uc3QgaT1zSShlLHQua2V5LHQub2xkVmFsdWUpO2lmKGkpe24udW5zaGlmdChpKX19cmV0dXJuIG59dC5yYW5nZT10LnJhbmdlLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKGUucG9zaXRpb24sZS5ob3dNYW55LGZhbHNlKVswXTtyZXR1cm5bdF19KTtmdW5jdGlvbiBzSSh0LGUsaSl7Y29uc3Qgbj10Lm5vZGVzO2NvbnN0IG89bi5nZXROb2RlKDApLmdldEF0dHJpYnV0ZShlKTtpZihvPT1pKXtyZXR1cm4gbnVsbH1jb25zdCByPW5ldyAkaCh0LnBvc2l0aW9uLHQucG9zaXRpb24uZ2V0U2hpZnRlZEJ5KHQuaG93TWFueSkpO3JldHVybiBuZXcgUWcocixlLG8saSwwKX1YTyhRZyxvbSwodCxlKT0+e2NvbnN0IGk9W107aWYodC5yYW5nZS5zdGFydC5oYXNTYW1lUGFyZW50QXMoZS5kZWxldGlvblBvc2l0aW9uKSl7aWYodC5yYW5nZS5jb250YWluc1Bvc2l0aW9uKGUuZGVsZXRpb25Qb3NpdGlvbil8fHQucmFuZ2Uuc3RhcnQuaXNFcXVhbChlLmRlbGV0aW9uUG9zaXRpb24pKXtpLnB1c2goJGguX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGUuZ3JhdmV5YXJkUG9zaXRpb24sMSkpfX1jb25zdCBuPXQucmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKTtpZighbi5pc0NvbGxhcHNlZCl7aS5wdXNoKG4pfXJldHVybiBpLm1hcChlPT5uZXcgUWcoZSx0LmtleSx0Lm9sZFZhbHVlLHQubmV3VmFsdWUsdC5iYXNlVmVyc2lvbikpfSk7WE8oUWcsWmcsKHQsZSk9Pntjb25zdCBpPWFJKHQucmFuZ2UsZSk7cmV0dXJuIGkubWFwKGU9Pm5ldyBRZyhlLHQua2V5LHQub2xkVmFsdWUsdC5uZXdWYWx1ZSx0LmJhc2VWZXJzaW9uKSl9KTtmdW5jdGlvbiBhSSh0LGUpe2NvbnN0IGk9JGguX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTtsZXQgbj1udWxsO2xldCBvPVtdO2lmKGkuY29udGFpbnNSYW5nZSh0LHRydWUpKXtuPXR9ZWxzZSBpZih0LnN0YXJ0Lmhhc1NhbWVQYXJlbnRBcyhpLnN0YXJ0KSl7bz10LmdldERpZmZlcmVuY2UoaSk7bj10LmdldEludGVyc2VjdGlvbihpKX1lbHNle289W3RdfWNvbnN0IHI9W107Zm9yKGxldCB0IG9mIG8pe3Q9dC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTtjb25zdCBpPWUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCk7Y29uc3Qgbj10LnN0YXJ0Lmhhc1NhbWVQYXJlbnRBcyhpKTt0PXQuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24oaSxlLmhvd01hbnksbik7ci5wdXNoKC4uLnQpfWlmKG4pe3IucHVzaChuLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShlLnNvdXJjZVBvc2l0aW9uLGUudGFyZ2V0UG9zaXRpb24sZS5ob3dNYW55LGZhbHNlKVswXSl9cmV0dXJuIHJ9WE8oUWcscm0sKHQsZSk9PntpZih0LnJhbmdlLmVuZC5pc0VxdWFsKGUuaW5zZXJ0aW9uUG9zaXRpb24pKXtpZighZS5ncmF2ZXlhcmRQb3NpdGlvbil7dC5yYW5nZS5lbmQub2Zmc2V0Kyt9cmV0dXJuW3RdfWlmKHQucmFuZ2Uuc3RhcnQuaGFzU2FtZVBhcmVudEFzKGUuc3BsaXRQb3NpdGlvbikmJnQucmFuZ2UuY29udGFpbnNQb3NpdGlvbihlLnNwbGl0UG9zaXRpb24pKXtjb25zdCBpPXQuY2xvbmUoKTtpLnJhbmdlPW5ldyAkaChlLm1vdmVUYXJnZXRQb3NpdGlvbi5jbG9uZSgpLHQucmFuZ2UuZW5kLl9nZXRDb21iaW5lZChlLnNwbGl0UG9zaXRpb24sZS5tb3ZlVGFyZ2V0UG9zaXRpb24pKTt0LnJhbmdlLmVuZD1lLnNwbGl0UG9zaXRpb24uY2xvbmUoKTt0LnJhbmdlLmVuZC5zdGlja2luZXNzPVwidG9QcmV2aW91c1wiO3JldHVyblt0LGldfXQucmFuZ2U9dC5yYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpO3JldHVyblt0XX0pO1hPKHRtLFFnLCh0LGUpPT57Y29uc3QgaT1bdF07aWYodC5zaG91bGRSZWNlaXZlQXR0cmlidXRlcyYmdC5wb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS5yYW5nZS5zdGFydCkmJmUucmFuZ2UuY29udGFpbnNQb3NpdGlvbih0LnBvc2l0aW9uKSl7Y29uc3Qgbj1zSSh0LGUua2V5LGUubmV3VmFsdWUpO2lmKG4pe2kucHVzaChuKX19cmV0dXJuIGl9KTtYTyh0bSx0bSwodCxlLGkpPT57aWYodC5wb3NpdGlvbi5pc0VxdWFsKGUucG9zaXRpb24pJiZpLmFJc1N0cm9uZyl7cmV0dXJuW3RdfXQucG9zaXRpb249dC5wb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydE9wZXJhdGlvbihlKTtyZXR1cm5bdF19KTtYTyh0bSxaZywodCxlKT0+e3QucG9zaXRpb249dC5wb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24oZSk7cmV0dXJuW3RdfSk7WE8odG0scm0sKHQsZSk9Pnt0LnBvc2l0aW9uPXQucG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlTcGxpdE9wZXJhdGlvbihlKTtyZXR1cm5bdF19KTtYTyh0bSxvbSwodCxlKT0+e3QucG9zaXRpb249dC5wb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKGUpO3JldHVyblt0XX0pO1hPKGVtLHRtLCh0LGUpPT57aWYodC5vbGRSYW5nZSl7dC5vbGRSYW5nZT10Lm9sZFJhbmdlLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0T3BlcmF0aW9uKGUpWzBdfWlmKHQubmV3UmFuZ2Upe3QubmV3UmFuZ2U9dC5uZXdSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydE9wZXJhdGlvbihlKVswXX1yZXR1cm5bdF19KTtYTyhlbSxlbSwodCxlLGkpPT57aWYodC5uYW1lPT1lLm5hbWUpe2lmKGkuYUlzU3Ryb25nKXt0Lm9sZFJhbmdlPWUubmV3UmFuZ2U/ZS5uZXdSYW5nZS5jbG9uZSgpOm51bGx9ZWxzZXtyZXR1cm5bbmV3IFNtKDApXX19cmV0dXJuW3RdfSk7WE8oZW0sb20sKHQsZSk9PntpZih0Lm9sZFJhbmdlKXt0Lm9sZFJhbmdlPXQub2xkUmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKX1pZih0Lm5ld1JhbmdlKXt0Lm5ld1JhbmdlPXQubmV3UmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKX1yZXR1cm5bdF19KTtYTyhlbSxaZywodCxlLGkpPT57aWYodC5vbGRSYW5nZSl7dC5vbGRSYW5nZT0kaC5fY3JlYXRlRnJvbVJhbmdlcyh0Lm9sZFJhbmdlLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbihlKSl9aWYodC5uZXdSYW5nZSl7aWYoaS5hYlJlbGF0aW9uKXtjb25zdCBuPSRoLl9jcmVhdGVGcm9tUmFuZ2VzKHQubmV3UmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlNb3ZlT3BlcmF0aW9uKGUpKTtpZihpLmFiUmVsYXRpb24uc2lkZT09XCJsZWZ0XCImJmUudGFyZ2V0UG9zaXRpb24uaXNFcXVhbCh0Lm5ld1JhbmdlLnN0YXJ0KSl7dC5uZXdSYW5nZS5zdGFydC5wYXRoPWkuYWJSZWxhdGlvbi5wYXRoO3QubmV3UmFuZ2UuZW5kPW4uZW5kO3JldHVyblt0XX1lbHNlIGlmKGkuYWJSZWxhdGlvbi5zaWRlPT1cInJpZ2h0XCImJmUudGFyZ2V0UG9zaXRpb24uaXNFcXVhbCh0Lm5ld1JhbmdlLmVuZCkpe3QubmV3UmFuZ2Uuc3RhcnQ9bi5zdGFydDt0Lm5ld1JhbmdlLmVuZC5wYXRoPWkuYWJSZWxhdGlvbi5wYXRoO3JldHVyblt0XX19dC5uZXdSYW5nZT0kaC5fY3JlYXRlRnJvbVJhbmdlcyh0Lm5ld1JhbmdlLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbihlKSl9cmV0dXJuW3RdfSk7WE8oZW0scm0sKHQsZSxpKT0+e2lmKHQub2xkUmFuZ2Upe3Qub2xkUmFuZ2U9dC5vbGRSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpfWlmKHQubmV3UmFuZ2Upe2lmKGkuYWJSZWxhdGlvbil7Y29uc3Qgbj10Lm5ld1JhbmdlLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSk7aWYodC5uZXdSYW5nZS5zdGFydC5pc0VxdWFsKGUuc3BsaXRQb3NpdGlvbikmJmkuYWJSZWxhdGlvbi53YXNTdGFydEJlZm9yZU1lcmdlZEVsZW1lbnQpe3QubmV3UmFuZ2Uuc3RhcnQ9VWguX2NyZWF0ZUF0KGUuaW5zZXJ0aW9uUG9zaXRpb24pfWVsc2UgaWYodC5uZXdSYW5nZS5zdGFydC5pc0VxdWFsKGUuc3BsaXRQb3NpdGlvbikmJiFpLmFiUmVsYXRpb24ud2FzSW5MZWZ0RWxlbWVudCl7dC5uZXdSYW5nZS5zdGFydD1VaC5fY3JlYXRlQXQoZS5tb3ZlVGFyZ2V0UG9zaXRpb24pfWlmKHQubmV3UmFuZ2UuZW5kLmlzRXF1YWwoZS5zcGxpdFBvc2l0aW9uKSYmaS5hYlJlbGF0aW9uLndhc0luUmlnaHRFbGVtZW50KXt0Lm5ld1JhbmdlLmVuZD1VaC5fY3JlYXRlQXQoZS5tb3ZlVGFyZ2V0UG9zaXRpb24pfWVsc2UgaWYodC5uZXdSYW5nZS5lbmQuaXNFcXVhbChlLnNwbGl0UG9zaXRpb24pJiZpLmFiUmVsYXRpb24ud2FzRW5kQmVmb3JlTWVyZ2VkRWxlbWVudCl7dC5uZXdSYW5nZS5lbmQ9VWguX2NyZWF0ZUF0KGUuaW5zZXJ0aW9uUG9zaXRpb24pfWVsc2V7dC5uZXdSYW5nZS5lbmQ9bi5lbmR9cmV0dXJuW3RdfXQubmV3UmFuZ2U9dC5uZXdSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpfXJldHVyblt0XX0pO1hPKG9tLHRtLCh0LGUpPT57aWYodC5zb3VyY2VQb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS5wb3NpdGlvbikpe3QuaG93TWFueSs9ZS5ob3dNYW55fXQuc291cmNlUG9zaXRpb249dC5zb3VyY2VQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydE9wZXJhdGlvbihlKTt0LnRhcmdldFBvc2l0aW9uPXQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24oZSk7cmV0dXJuW3RdfSk7WE8ob20sb20sKHQsZSxpKT0+e2lmKHQuc291cmNlUG9zaXRpb24uaXNFcXVhbChlLnNvdXJjZVBvc2l0aW9uKSYmdC50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKGUudGFyZ2V0UG9zaXRpb24pKXtpZighaS5iV2FzVW5kb25lKXtyZXR1cm5bbmV3IFNtKDApXX1lbHNle2NvbnN0IGk9ZS5ncmF2ZXlhcmRQb3NpdGlvbi5wYXRoLnNsaWNlKCk7aS5wdXNoKDApO3Quc291cmNlUG9zaXRpb249bmV3IFVoKGUuZ3JhdmV5YXJkUG9zaXRpb24ucm9vdCxpKTt0Lmhvd01hbnk9MDtyZXR1cm5bdF19fWlmKHQuc291cmNlUG9zaXRpb24uaXNFcXVhbChlLnNvdXJjZVBvc2l0aW9uKSYmIXQudGFyZ2V0UG9zaXRpb24uaXNFcXVhbChlLnRhcmdldFBvc2l0aW9uKSYmIWkuYldhc1VuZG9uZSYmaS5hYlJlbGF0aW9uIT1cInNwbGl0QXRTb3VyY2VcIil7Y29uc3Qgbj10LnRhcmdldFBvc2l0aW9uLnJvb3Qucm9vdE5hbWU9PVwiJGdyYXZleWFyZFwiO2NvbnN0IG89ZS50YXJnZXRQb3NpdGlvbi5yb290LnJvb3ROYW1lPT1cIiRncmF2ZXlhcmRcIjtjb25zdCByPW4mJiFvO2NvbnN0IHM9byYmIW47Y29uc3QgYT1zfHwhciYmaS5hSXNTdHJvbmc7aWYoYSl7Y29uc3QgaT1lLnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSk7Y29uc3Qgbj10LnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSk7cmV0dXJuW25ldyBaZyhpLHQuaG93TWFueSxuLDApXX1lbHNle3JldHVybltuZXcgU20oMCldfX1pZih0LnNvdXJjZVBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyhlLnRhcmdldFBvc2l0aW9uKSl7dC5ob3dNYW55Kz1lLmhvd01hbnl9dC5zb3VyY2VQb3NpdGlvbj10LnNvdXJjZVBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSk7dC50YXJnZXRQb3NpdGlvbj10LnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSk7aWYoIXQuZ3JhdmV5YXJkUG9zaXRpb24uaXNFcXVhbChlLmdyYXZleWFyZFBvc2l0aW9uKXx8IWkuYUlzU3Ryb25nKXt0LmdyYXZleWFyZFBvc2l0aW9uPXQuZ3JhdmV5YXJkUG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKX1yZXR1cm5bdF19KTtYTyhvbSxaZywodCxlLGkpPT57Y29uc3Qgbj0kaC5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5zb3VyY2VQb3NpdGlvbixlLmhvd01hbnkpO2lmKGUudHlwZT09XCJyZW1vdmVcIiYmIWkuYldhc1VuZG9uZSYmIWkuZm9yY2VXZWFrUmVtb3ZlKXtpZih0LmRlbGV0aW9uUG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKGUuc291cmNlUG9zaXRpb24pJiZuLmNvbnRhaW5zUG9zaXRpb24odC5zb3VyY2VQb3NpdGlvbikpe3JldHVybltuZXcgU20oMCldfX1pZih0LnNvdXJjZVBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyhlLnRhcmdldFBvc2l0aW9uKSl7dC5ob3dNYW55Kz1lLmhvd01hbnl9aWYodC5zb3VyY2VQb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS5zb3VyY2VQb3NpdGlvbikpe3QuaG93TWFueS09ZS5ob3dNYW55fXQuc291cmNlUG9zaXRpb249dC5zb3VyY2VQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24oZSk7dC50YXJnZXRQb3NpdGlvbj10LnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbihlKTtpZighdC5ncmF2ZXlhcmRQb3NpdGlvbi5pc0VxdWFsKGUudGFyZ2V0UG9zaXRpb24pKXt0LmdyYXZleWFyZFBvc2l0aW9uPXQuZ3JhdmV5YXJkUG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNb3ZlT3BlcmF0aW9uKGUpfXJldHVyblt0XX0pO1hPKG9tLHJtLCh0LGUsaSk9PntpZihlLmdyYXZleWFyZFBvc2l0aW9uKXt0LmdyYXZleWFyZFBvc2l0aW9uPXQuZ3JhdmV5YXJkUG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbihlLmdyYXZleWFyZFBvc2l0aW9uLDEpO2lmKHQuZGVsZXRpb25Qb3NpdGlvbi5pc0VxdWFsKGUuZ3JhdmV5YXJkUG9zaXRpb24pKXt0Lmhvd01hbnk9ZS5ob3dNYW55fX1pZih0LnRhcmdldFBvc2l0aW9uLmlzRXF1YWwoZS5zcGxpdFBvc2l0aW9uKSl7Y29uc3Qgbj1lLmhvd01hbnkhPTA7Y29uc3Qgbz1lLmdyYXZleWFyZFBvc2l0aW9uJiZ0LmRlbGV0aW9uUG9zaXRpb24uaXNFcXVhbChlLmdyYXZleWFyZFBvc2l0aW9uKTtpZihufHxvfHxpLmFiUmVsYXRpb249PVwibWVyZ2VUYXJnZXROb3RNb3ZlZFwiKXt0LnNvdXJjZVBvc2l0aW9uPXQuc291cmNlUG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlTcGxpdE9wZXJhdGlvbihlKTtyZXR1cm5bdF19fWlmKHQuc291cmNlUG9zaXRpb24uaXNFcXVhbChlLnNwbGl0UG9zaXRpb24pKXtpZihpLmFiUmVsYXRpb249PVwibWVyZ2VTb3VyY2VOb3RNb3ZlZFwiKXt0Lmhvd01hbnk9MDt0LnRhcmdldFBvc2l0aW9uPXQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlTcGxpdE9wZXJhdGlvbihlKTtyZXR1cm5bdF19aWYoaS5hYlJlbGF0aW9uPT1cIm1lcmdlU2FtZUVsZW1lbnRcInx8dC5zb3VyY2VQb3NpdGlvbi5vZmZzZXQ+MCl7dC5zb3VyY2VQb3NpdGlvbj1lLm1vdmVUYXJnZXRQb3NpdGlvbi5jbG9uZSgpO3QudGFyZ2V0UG9zaXRpb249dC50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpO3JldHVyblt0XX19aWYodC5zb3VyY2VQb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS5zcGxpdFBvc2l0aW9uKSl7dC5ob3dNYW55PWUuc3BsaXRQb3NpdGlvbi5vZmZzZXR9dC5zb3VyY2VQb3NpdGlvbj10LnNvdXJjZVBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSk7dC50YXJnZXRQb3NpdGlvbj10LnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSk7cmV0dXJuW3RdfSk7WE8oWmcsdG0sKHQsZSk9Pntjb25zdCBpPSRoLl9jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh0LnNvdXJjZVBvc2l0aW9uLHQuaG93TWFueSk7Y29uc3Qgbj1pLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0T3BlcmF0aW9uKGUsZmFsc2UpWzBdO3Quc291cmNlUG9zaXRpb249bi5zdGFydDt0Lmhvd01hbnk9bi5lbmQub2Zmc2V0LW4uc3RhcnQub2Zmc2V0O2lmKCF0LnRhcmdldFBvc2l0aW9uLmlzRXF1YWwoZS5wb3NpdGlvbikpe3QudGFyZ2V0UG9zaXRpb249dC50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydE9wZXJhdGlvbihlKX1yZXR1cm5bdF19KTtYTyhaZyxaZywodCxlLGkpPT57Y29uc3Qgbj0kaC5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodC5zb3VyY2VQb3NpdGlvbix0Lmhvd01hbnkpO2NvbnN0IG89JGguX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTtsZXQgcj1pLmFJc1N0cm9uZztsZXQgcz0haS5hSXNTdHJvbmc7aWYoaS5hYlJlbGF0aW9uPT1cImluc2VydEJlZm9yZVwifHxpLmJhUmVsYXRpb249PVwiaW5zZXJ0QWZ0ZXJcIil7cz10cnVlfWVsc2UgaWYoaS5hYlJlbGF0aW9uPT1cImluc2VydEFmdGVyXCJ8fGkuYmFSZWxhdGlvbj09XCJpbnNlcnRCZWZvcmVcIil7cz1mYWxzZX1sZXQgYTtpZih0LnRhcmdldFBvc2l0aW9uLmlzRXF1YWwoZS50YXJnZXRQb3NpdGlvbikmJnMpe2E9dC50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KX1lbHNle2E9dC50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoZS5zb3VyY2VQb3NpdGlvbixlLnRhcmdldFBvc2l0aW9uLGUuaG93TWFueSl9aWYoY0kodCxlKSYmY0koZSx0KSl7cmV0dXJuW2UuZ2V0UmV2ZXJzZWQoKV19Y29uc3QgYz1uLmNvbnRhaW5zUG9zaXRpb24oZS50YXJnZXRQb3NpdGlvbik7aWYoYyYmbi5jb250YWluc1JhbmdlKG8sdHJ1ZSkpe24uc3RhcnQ9bi5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoZS5zb3VyY2VQb3NpdGlvbixlLnRhcmdldFBvc2l0aW9uLGUuaG93TWFueSk7bi5lbmQ9bi5lbmQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGUuc291cmNlUG9zaXRpb24sZS50YXJnZXRQb3NpdGlvbixlLmhvd01hbnkpO3JldHVybiBsSShbbl0sYSl9Y29uc3QgbD1vLmNvbnRhaW5zUG9zaXRpb24odC50YXJnZXRQb3NpdGlvbik7aWYobCYmby5jb250YWluc1JhbmdlKG4sdHJ1ZSkpe24uc3RhcnQ9bi5zdGFydC5fZ2V0Q29tYmluZWQoZS5zb3VyY2VQb3NpdGlvbixlLmdldE1vdmVkUmFuZ2VTdGFydCgpKTtuLmVuZD1uLmVuZC5fZ2V0Q29tYmluZWQoZS5zb3VyY2VQb3NpdGlvbixlLmdldE1vdmVkUmFuZ2VTdGFydCgpKTtyZXR1cm4gbEkoW25dLGEpfWNvbnN0IGQ9VnModC5zb3VyY2VQb3NpdGlvbi5nZXRQYXJlbnRQYXRoKCksZS5zb3VyY2VQb3NpdGlvbi5nZXRQYXJlbnRQYXRoKCkpO2lmKGQ9PVwicHJlZml4XCJ8fGQ9PVwiZXh0ZW5zaW9uXCIpe24uc3RhcnQ9bi5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoZS5zb3VyY2VQb3NpdGlvbixlLnRhcmdldFBvc2l0aW9uLGUuaG93TWFueSk7bi5lbmQ9bi5lbmQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGUuc291cmNlUG9zaXRpb24sZS50YXJnZXRQb3NpdGlvbixlLmhvd01hbnkpO3JldHVybiBsSShbbl0sYSl9aWYodC50eXBlPT1cInJlbW92ZVwiJiZlLnR5cGUhPVwicmVtb3ZlXCImJiFpLmFXYXNVbmRvbmUmJiFpLmZvcmNlV2Vha1JlbW92ZSl7cj10cnVlfWVsc2UgaWYodC50eXBlIT1cInJlbW92ZVwiJiZlLnR5cGU9PVwicmVtb3ZlXCImJiFpLmJXYXNVbmRvbmUmJiFpLmZvcmNlV2Vha1JlbW92ZSl7cj1mYWxzZX1jb25zdCB1PVtdO2NvbnN0IGg9bi5nZXREaWZmZXJlbmNlKG8pO2Zvcihjb25zdCB0IG9mIGgpe3Quc3RhcnQ9dC5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTt0LmVuZD10LmVuZC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTtjb25zdCBpPVZzKHQuc3RhcnQuZ2V0UGFyZW50UGF0aCgpLGUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCkuZ2V0UGFyZW50UGF0aCgpKT09XCJzYW1lXCI7Y29uc3Qgbj10Ll9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKGUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCksZS5ob3dNYW55LGkpO3UucHVzaCguLi5uKX1jb25zdCBmPW4uZ2V0SW50ZXJzZWN0aW9uKG8pO2lmKGYhPT1udWxsJiZyKXtmLnN0YXJ0PWYuc3RhcnQuX2dldENvbWJpbmVkKGUuc291cmNlUG9zaXRpb24sZS5nZXRNb3ZlZFJhbmdlU3RhcnQoKSk7Zi5lbmQ9Zi5lbmQuX2dldENvbWJpbmVkKGUuc291cmNlUG9zaXRpb24sZS5nZXRNb3ZlZFJhbmdlU3RhcnQoKSk7aWYodS5sZW5ndGg9PT0wKXt1LnB1c2goZil9ZWxzZSBpZih1Lmxlbmd0aD09MSl7aWYoby5zdGFydC5pc0JlZm9yZShuLnN0YXJ0KXx8by5zdGFydC5pc0VxdWFsKG4uc3RhcnQpKXt1LnVuc2hpZnQoZil9ZWxzZXt1LnB1c2goZil9fWVsc2V7dS5zcGxpY2UoMSwwLGYpfX1pZih1Lmxlbmd0aD09PTApe3JldHVybltuZXcgU20odC5iYXNlVmVyc2lvbildfXJldHVybiBsSSh1LGEpfSk7WE8oWmcscm0sKHQsZSxpKT0+e2xldCBuPXQudGFyZ2V0UG9zaXRpb24uY2xvbmUoKTtpZighdC50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKGUuaW5zZXJ0aW9uUG9zaXRpb24pfHwhZS5ncmF2ZXlhcmRQb3NpdGlvbnx8aS5hYlJlbGF0aW9uPT1cIm1vdmVUYXJnZXRBZnRlclwiKXtuPXQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlTcGxpdE9wZXJhdGlvbihlKX1jb25zdCBvPSRoLl9jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh0LnNvdXJjZVBvc2l0aW9uLHQuaG93TWFueSk7aWYoby5lbmQuaXNFcXVhbChlLmluc2VydGlvblBvc2l0aW9uKSl7aWYoIWUuZ3JhdmV5YXJkUG9zaXRpb24pe3QuaG93TWFueSsrfXQudGFyZ2V0UG9zaXRpb249bjtyZXR1cm5bdF19aWYoby5zdGFydC5oYXNTYW1lUGFyZW50QXMoZS5zcGxpdFBvc2l0aW9uKSYmby5jb250YWluc1Bvc2l0aW9uKGUuc3BsaXRQb3NpdGlvbikpe2xldCB0PW5ldyAkaChlLnNwbGl0UG9zaXRpb24sby5lbmQpO3Q9dC5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpO2NvbnN0IGk9W25ldyAkaChvLnN0YXJ0LGUuc3BsaXRQb3NpdGlvbiksdF07cmV0dXJuIGxJKGksbil9aWYodC50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKGUuc3BsaXRQb3NpdGlvbikmJmkuYWJSZWxhdGlvbj09XCJpbnNlcnRBdFNvdXJjZVwiKXtuPWUubW92ZVRhcmdldFBvc2l0aW9ufWlmKHQudGFyZ2V0UG9zaXRpb24uaXNFcXVhbChlLmluc2VydGlvblBvc2l0aW9uKSYmaS5hYlJlbGF0aW9uPT1cImluc2VydEJldHdlZW5cIil7bj10LnRhcmdldFBvc2l0aW9ufWNvbnN0IHI9by5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpO2NvbnN0IHM9W3JdO2lmKGUuZ3JhdmV5YXJkUG9zaXRpb24pe2NvbnN0IG49by5zdGFydC5pc0VxdWFsKGUuZ3JhdmV5YXJkUG9zaXRpb24pfHxvLmNvbnRhaW5zUG9zaXRpb24oZS5ncmF2ZXlhcmRQb3NpdGlvbik7aWYodC5ob3dNYW55PjEmJm4mJiFpLmFXYXNVbmRvbmUpe3MucHVzaCgkaC5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5pbnNlcnRpb25Qb3NpdGlvbiwxKSl9fXJldHVybiBsSShzLG4pfSk7WE8oWmcsb20sKHQsZSxpKT0+e2NvbnN0IG49JGguX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHQuc291cmNlUG9zaXRpb24sdC5ob3dNYW55KTtpZihlLmRlbGV0aW9uUG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKHQuc291cmNlUG9zaXRpb24pJiZuLmNvbnRhaW5zUG9zaXRpb24oZS5zb3VyY2VQb3NpdGlvbikpe2lmKHQudHlwZT09XCJyZW1vdmVcIiYmIWkuZm9yY2VXZWFrUmVtb3ZlKXtpZighaS5hV2FzVW5kb25lKXtjb25zdCBpPVtdO2xldCBuPWUuZ3JhdmV5YXJkUG9zaXRpb24uY2xvbmUoKTtsZXQgbz1lLnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSk7aWYodC5ob3dNYW55PjEpe2kucHVzaChuZXcgWmcodC5zb3VyY2VQb3NpdGlvbix0Lmhvd01hbnktMSx0LnRhcmdldFBvc2l0aW9uLDApKTtuPW4uX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQuc291cmNlUG9zaXRpb24sdC50YXJnZXRQb3NpdGlvbix0Lmhvd01hbnktMSk7bz1vLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZSh0LnNvdXJjZVBvc2l0aW9uLHQudGFyZ2V0UG9zaXRpb24sdC5ob3dNYW55LTEpfWNvbnN0IHI9ZS5kZWxldGlvblBvc2l0aW9uLl9nZXRDb21iaW5lZCh0LnNvdXJjZVBvc2l0aW9uLHQudGFyZ2V0UG9zaXRpb24pO2NvbnN0IHM9bmV3IFpnKG4sMSxyLDApO2NvbnN0IGE9cy5nZXRNb3ZlZFJhbmdlU3RhcnQoKS5wYXRoLnNsaWNlKCk7YS5wdXNoKDApO2NvbnN0IGM9bmV3IFVoKHMudGFyZ2V0UG9zaXRpb24ucm9vdCxhKTtvPW8uX2dldFRyYW5zZm9ybWVkQnlNb3ZlKG4sciwxKTtjb25zdCBsPW5ldyBaZyhvLGUuaG93TWFueSxjLDApO2kucHVzaChzKTtpLnB1c2gobCk7cmV0dXJuIGl9fWVsc2V7aWYodC5ob3dNYW55PT0xKXtpZighaS5iV2FzVW5kb25lKXtyZXR1cm5bbmV3IFNtKDApXX1lbHNle3Quc291cmNlUG9zaXRpb249ZS5ncmF2ZXlhcmRQb3NpdGlvbi5jbG9uZSgpO3QudGFyZ2V0UG9zaXRpb249dC50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKGUpO3JldHVyblt0XX19fX1jb25zdCBvPSRoLl9jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh0LnNvdXJjZVBvc2l0aW9uLHQuaG93TWFueSk7Y29uc3Qgcj1vLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSk7dC5zb3VyY2VQb3NpdGlvbj1yLnN0YXJ0O3QuaG93TWFueT1yLmVuZC5vZmZzZXQtci5zdGFydC5vZmZzZXQ7dC50YXJnZXRQb3NpdGlvbj10LnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSk7cmV0dXJuW3RdfSk7WE8oaW0sdG0sKHQsZSk9Pnt0LnBvc2l0aW9uPXQucG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24oZSk7cmV0dXJuW3RdfSk7WE8oaW0sb20sKHQsZSk9PntpZih0LnBvc2l0aW9uLmlzRXF1YWwoZS5kZWxldGlvblBvc2l0aW9uKSl7dC5wb3NpdGlvbj1lLmdyYXZleWFyZFBvc2l0aW9uLmNsb25lKCk7dC5wb3NpdGlvbi5zdGlja2luZXNzPVwidG9OZXh0XCI7cmV0dXJuW3RdfXQucG9zaXRpb249dC5wb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKGUpO3JldHVyblt0XX0pO1hPKGltLFpnLCh0LGUpPT57dC5wb3NpdGlvbj10LnBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbihlKTtyZXR1cm5bdF19KTtYTyhpbSxpbSwodCxlLGkpPT57aWYodC5wb3NpdGlvbi5pc0VxdWFsKGUucG9zaXRpb24pKXtpZihpLmFJc1N0cm9uZyl7dC5vbGROYW1lPWUubmV3TmFtZX1lbHNle3JldHVybltuZXcgU20oMCldfX1yZXR1cm5bdF19KTtYTyhpbSxybSwodCxlKT0+e2NvbnN0IGk9dC5wb3NpdGlvbi5wYXRoO2NvbnN0IG49ZS5zcGxpdFBvc2l0aW9uLmdldFBhcmVudFBhdGgoKTtpZihWcyhpLG4pPT1cInNhbWVcIiYmIWUuZ3JhdmV5YXJkUG9zaXRpb24pe2NvbnN0IGU9bmV3IGltKHQucG9zaXRpb24uZ2V0U2hpZnRlZEJ5KDEpLHQub2xkTmFtZSx0Lm5ld05hbWUsMCk7cmV0dXJuW3QsZV19dC5wb3NpdGlvbj10LnBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSk7cmV0dXJuW3RdfSk7WE8obm0sbm0sKHQsZSxpKT0+e2lmKHQucm9vdD09PWUucm9vdCYmdC5rZXk9PT1lLmtleSl7aWYoIWkuYUlzU3Ryb25nfHx0Lm5ld1ZhbHVlPT09ZS5uZXdWYWx1ZSl7cmV0dXJuW25ldyBTbSgwKV19ZWxzZXt0Lm9sZFZhbHVlPWUubmV3VmFsdWV9fXJldHVyblt0XX0pO1hPKHJtLHRtLCh0LGUpPT57aWYodC5zcGxpdFBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyhlLnBvc2l0aW9uKSYmdC5zcGxpdFBvc2l0aW9uLm9mZnNldDxlLnBvc2l0aW9uLm9mZnNldCl7dC5ob3dNYW55Kz1lLmhvd01hbnl9dC5zcGxpdFBvc2l0aW9uPXQuc3BsaXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydE9wZXJhdGlvbihlKTt0Lmluc2VydGlvblBvc2l0aW9uPXJtLmdldEluc2VydGlvblBvc2l0aW9uKHQuc3BsaXRQb3NpdGlvbik7cmV0dXJuW3RdfSk7WE8ocm0sb20sKHQsZSxpKT0+e2lmKCF0LmdyYXZleWFyZFBvc2l0aW9uJiYhaS5iV2FzVW5kb25lJiZ0LnNwbGl0UG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKGUuc291cmNlUG9zaXRpb24pKXtjb25zdCBpPWUuZ3JhdmV5YXJkUG9zaXRpb24ucGF0aC5zbGljZSgpO2kucHVzaCgwKTtjb25zdCBuPW5ldyBVaChlLmdyYXZleWFyZFBvc2l0aW9uLnJvb3QsaSk7Y29uc3Qgbz1ybS5nZXRJbnNlcnRpb25Qb3NpdGlvbihuZXcgVWgoZS5ncmF2ZXlhcmRQb3NpdGlvbi5yb290LGkpKTtjb25zdCByPW5ldyBybShuLDAsbnVsbCwwKTtyLmluc2VydGlvblBvc2l0aW9uPW87dC5zcGxpdFBvc2l0aW9uPXQuc3BsaXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKGUpO3QuaW5zZXJ0aW9uUG9zaXRpb249cm0uZ2V0SW5zZXJ0aW9uUG9zaXRpb24odC5zcGxpdFBvc2l0aW9uKTt0LmdyYXZleWFyZFBvc2l0aW9uPXIuaW5zZXJ0aW9uUG9zaXRpb24uY2xvbmUoKTt0LmdyYXZleWFyZFBvc2l0aW9uLnN0aWNraW5lc3M9XCJ0b05leHRcIjtyZXR1cm5bcix0XX1pZih0LnNwbGl0UG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKGUuZGVsZXRpb25Qb3NpdGlvbikmJiF0LnNwbGl0UG9zaXRpb24uaXNBZnRlcihlLmRlbGV0aW9uUG9zaXRpb24pKXt0Lmhvd01hbnktLX1pZih0LnNwbGl0UG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKGUudGFyZ2V0UG9zaXRpb24pKXt0Lmhvd01hbnkrPWUuaG93TWFueX10LnNwbGl0UG9zaXRpb249dC5zcGxpdFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSk7dC5pbnNlcnRpb25Qb3NpdGlvbj1ybS5nZXRJbnNlcnRpb25Qb3NpdGlvbih0LnNwbGl0UG9zaXRpb24pO2lmKHQuZ3JhdmV5YXJkUG9zaXRpb24pe3QuZ3JhdmV5YXJkUG9zaXRpb249dC5ncmF2ZXlhcmRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKGUpfXJldHVyblt0XX0pO1hPKHJtLFpnLCh0LGUsaSk9Pntjb25zdCBuPSRoLl9jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLnNvdXJjZVBvc2l0aW9uLGUuaG93TWFueSk7aWYodC5ncmF2ZXlhcmRQb3NpdGlvbil7Y29uc3Qgbz1uLnN0YXJ0LmlzRXF1YWwodC5ncmF2ZXlhcmRQb3NpdGlvbil8fG4uY29udGFpbnNQb3NpdGlvbih0LmdyYXZleWFyZFBvc2l0aW9uKTtpZighaS5iV2FzVW5kb25lJiZvKXtjb25zdCBpPXQuc3BsaXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24oZSk7Y29uc3Qgbj10LmdyYXZleWFyZFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbihlKTtjb25zdCBvPW4ucGF0aC5zbGljZSgpO28ucHVzaCgwKTtjb25zdCByPW5ldyBVaChuLnJvb3Qsbyk7Y29uc3Qgcz1uZXcgWmcoaSx0Lmhvd01hbnksciwwKTtyZXR1cm5bc119dC5ncmF2ZXlhcmRQb3NpdGlvbj10LmdyYXZleWFyZFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbihlKX1pZih0LnNwbGl0UG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKGUuc291cmNlUG9zaXRpb24pJiZuLmNvbnRhaW5zUG9zaXRpb24odC5zcGxpdFBvc2l0aW9uKSl7Y29uc3QgaT1lLmhvd01hbnktKHQuc3BsaXRQb3NpdGlvbi5vZmZzZXQtZS5zb3VyY2VQb3NpdGlvbi5vZmZzZXQpO3QuaG93TWFueS09aTtpZih0LnNwbGl0UG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKGUudGFyZ2V0UG9zaXRpb24pJiZ0LnNwbGl0UG9zaXRpb24ub2Zmc2V0PGUudGFyZ2V0UG9zaXRpb24ub2Zmc2V0KXt0Lmhvd01hbnkrPWUuaG93TWFueX10LnNwbGl0UG9zaXRpb249ZS5zb3VyY2VQb3NpdGlvbi5jbG9uZSgpO3QuaW5zZXJ0aW9uUG9zaXRpb249cm0uZ2V0SW5zZXJ0aW9uUG9zaXRpb24odC5zcGxpdFBvc2l0aW9uKTtyZXR1cm5bdF19Y29uc3Qgbz10LnNwbGl0UG9zaXRpb24uaXNFcXVhbChlLnRhcmdldFBvc2l0aW9uKTtpZihvJiYoaS5iYVJlbGF0aW9uPT1cImluc2VydEF0U291cmNlXCJ8fGkuYWJSZWxhdGlvbj09XCJzcGxpdEJlZm9yZVwiKSl7dC5ob3dNYW55Kz1lLmhvd01hbnk7dC5zcGxpdFBvc2l0aW9uPXQuc3BsaXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTt0Lmluc2VydGlvblBvc2l0aW9uPXJtLmdldEluc2VydGlvblBvc2l0aW9uKHQuc3BsaXRQb3NpdGlvbik7cmV0dXJuW3RdfWlmKCFlLnNvdXJjZVBvc2l0aW9uLmlzRXF1YWwoZS50YXJnZXRQb3NpdGlvbikpe2lmKHQuc3BsaXRQb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS5zb3VyY2VQb3NpdGlvbikmJnQuc3BsaXRQb3NpdGlvbi5vZmZzZXQ8PWUuc291cmNlUG9zaXRpb24ub2Zmc2V0KXt0Lmhvd01hbnktPWUuaG93TWFueX1pZih0LnNwbGl0UG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKGUudGFyZ2V0UG9zaXRpb24pJiZ0LnNwbGl0UG9zaXRpb24ub2Zmc2V0PGUudGFyZ2V0UG9zaXRpb24ub2Zmc2V0KXt0Lmhvd01hbnkrPWUuaG93TWFueX19dC5zcGxpdFBvc2l0aW9uLnN0aWNraW5lc3M9XCJ0b05vbmVcIjt0LnNwbGl0UG9zaXRpb249dC5zcGxpdFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbihlKTt0LnNwbGl0UG9zaXRpb24uc3RpY2tpbmVzcz1cInRvTmV4dFwiO2lmKHQuZ3JhdmV5YXJkUG9zaXRpb24pe3QuaW5zZXJ0aW9uUG9zaXRpb249dC5pbnNlcnRpb25Qb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24oZSl9ZWxzZXt0Lmluc2VydGlvblBvc2l0aW9uPXJtLmdldEluc2VydGlvblBvc2l0aW9uKHQuc3BsaXRQb3NpdGlvbil9cmV0dXJuW3RdfSk7WE8ocm0scm0sKHQsZSxpKT0+e2lmKHQuc3BsaXRQb3NpdGlvbi5pc0VxdWFsKGUuc3BsaXRQb3NpdGlvbikpe2lmKCF0LmdyYXZleWFyZFBvc2l0aW9uJiYhZS5ncmF2ZXlhcmRQb3NpdGlvbil7cmV0dXJuW25ldyBTbSgwKV19aWYodC5ncmF2ZXlhcmRQb3NpdGlvbiYmZS5ncmF2ZXlhcmRQb3NpdGlvbiYmdC5ncmF2ZXlhcmRQb3NpdGlvbi5pc0VxdWFsKGUuZ3JhdmV5YXJkUG9zaXRpb24pKXtyZXR1cm5bbmV3IFNtKDApXX1pZihpLmFiUmVsYXRpb249PVwic3BsaXRCZWZvcmVcIil7dC5ob3dNYW55PTA7dC5ncmF2ZXlhcmRQb3NpdGlvbj10LmdyYXZleWFyZFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSk7cmV0dXJuW3RdfX1pZih0LmdyYXZleWFyZFBvc2l0aW9uJiZlLmdyYXZleWFyZFBvc2l0aW9uJiZ0LmdyYXZleWFyZFBvc2l0aW9uLmlzRXF1YWwoZS5ncmF2ZXlhcmRQb3NpdGlvbikpe2NvbnN0IG49dC5zcGxpdFBvc2l0aW9uLnJvb3Qucm9vdE5hbWU9PVwiJGdyYXZleWFyZFwiO2NvbnN0IG89ZS5zcGxpdFBvc2l0aW9uLnJvb3Qucm9vdE5hbWU9PVwiJGdyYXZleWFyZFwiO2NvbnN0IHI9biYmIW87Y29uc3Qgcz1vJiYhbjtjb25zdCBhPXN8fCFyJiZpLmFJc1N0cm9uZztpZihhKXtjb25zdCBpPVtdO2lmKGUuaG93TWFueSl7aS5wdXNoKG5ldyBaZyhlLm1vdmVUYXJnZXRQb3NpdGlvbixlLmhvd01hbnksZS5zcGxpdFBvc2l0aW9uLDApKX1pZih0Lmhvd01hbnkpe2kucHVzaChuZXcgWmcodC5zcGxpdFBvc2l0aW9uLHQuaG93TWFueSx0Lm1vdmVUYXJnZXRQb3NpdGlvbiwwKSl9cmV0dXJuIGl9ZWxzZXtyZXR1cm5bbmV3IFNtKDApXX19aWYodC5ncmF2ZXlhcmRQb3NpdGlvbil7dC5ncmF2ZXlhcmRQb3NpdGlvbj10LmdyYXZleWFyZFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSl9aWYodC5zcGxpdFBvc2l0aW9uLmlzRXF1YWwoZS5pbnNlcnRpb25Qb3NpdGlvbikmJmkuYWJSZWxhdGlvbj09XCJzcGxpdEJlZm9yZVwiKXt0Lmhvd01hbnkrKztyZXR1cm5bdF19aWYoZS5zcGxpdFBvc2l0aW9uLmlzRXF1YWwodC5pbnNlcnRpb25Qb3NpdGlvbikmJmkuYmFSZWxhdGlvbj09XCJzcGxpdEJlZm9yZVwiKXtjb25zdCBpPWUuaW5zZXJ0aW9uUG9zaXRpb24ucGF0aC5zbGljZSgpO2kucHVzaCgwKTtjb25zdCBuPW5ldyBVaChlLmluc2VydGlvblBvc2l0aW9uLnJvb3QsaSk7Y29uc3Qgbz1uZXcgWmcodC5pbnNlcnRpb25Qb3NpdGlvbiwxLG4sMCk7cmV0dXJuW3Qsb119aWYodC5zcGxpdFBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyhlLnNwbGl0UG9zaXRpb24pJiZ0LnNwbGl0UG9zaXRpb24ub2Zmc2V0PGUuc3BsaXRQb3NpdGlvbi5vZmZzZXQpe3QuaG93TWFueS09ZS5ob3dNYW55fXQuc3BsaXRQb3NpdGlvbj10LnNwbGl0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlTcGxpdE9wZXJhdGlvbihlKTt0Lmluc2VydGlvblBvc2l0aW9uPXJtLmdldEluc2VydGlvblBvc2l0aW9uKHQuc3BsaXRQb3NpdGlvbik7cmV0dXJuW3RdfSk7ZnVuY3Rpb24gY0kodCxlKXtyZXR1cm4gdC50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KT09PW51bGx9ZnVuY3Rpb24gbEkodCxlKXtjb25zdCBpPVtdO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCBvPXRbbl07Y29uc3Qgcj1uZXcgWmcoby5zdGFydCxvLmVuZC5vZmZzZXQtby5zdGFydC5vZmZzZXQsZSwwKTtpLnB1c2gocik7Zm9yKGxldCBlPW4rMTtlPHQubGVuZ3RoO2UrKyl7dFtlXT10W2VdLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShyLnNvdXJjZVBvc2l0aW9uLHIudGFyZ2V0UG9zaXRpb24sci5ob3dNYW55KVswXX1lPWUuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHIuc291cmNlUG9zaXRpb24sci50YXJnZXRQb3NpdGlvbixyLmhvd01hbnkpfXJldHVybiBpfWNsYXNzIGRJIGV4dGVuZHMgand7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7dGhpcy5fc3RhY2s9W107dGhpcy5fY3JlYXRlZEJhdGNoZXM9bmV3IFdlYWtTZXQ7dGhpcy5yZWZyZXNoKCl9cmVmcmVzaCgpe3RoaXMuaXNFbmFibGVkPXRoaXMuX3N0YWNrLmxlbmd0aD4wfWFkZEJhdGNoKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uO2NvbnN0IGk9e3JhbmdlczplLmhhc093blJhbmdlP0FycmF5LmZyb20oZS5nZXRSYW5nZXMoKSk6W10saXNCYWNrd2FyZDplLmlzQmFja3dhcmR9O3RoaXMuX3N0YWNrLnB1c2goe2JhdGNoOnQsc2VsZWN0aW9uOml9KTt0aGlzLnJlZnJlc2goKX1jbGVhclN0YWNrKCl7dGhpcy5fc3RhY2s9W107dGhpcy5yZWZyZXNoKCl9X3Jlc3RvcmVTZWxlY3Rpb24odCxlLGkpe2NvbnN0IG49dGhpcy5lZGl0b3IubW9kZWw7Y29uc3Qgbz1uLmRvY3VtZW50O2NvbnN0IHI9W107Zm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD11SShlLGkpO2NvbnN0IG49dC5maW5kKHQ9PnQuc3RhcnQucm9vdCE9by5ncmF2ZXlhcmQpO2lmKG4pe3IucHVzaChuKX19aWYoci5sZW5ndGgpe24uY2hhbmdlKHQ9Pnt0LnNldFNlbGVjdGlvbihyLHtiYWNrd2FyZDplfSl9KX19X3VuZG8odCxlKXtjb25zdCBpPXRoaXMuZWRpdG9yLm1vZGVsO2NvbnN0IG49aS5kb2N1bWVudDt0aGlzLl9jcmVhdGVkQmF0Y2hlcy5hZGQoZSk7Y29uc3Qgbz10Lm9wZXJhdGlvbnMuc2xpY2UoKS5maWx0ZXIodD0+dC5pc0RvY3VtZW50T3BlcmF0aW9uKTtvLnJldmVyc2UoKTtmb3IoY29uc3QgdCBvZiBvKXtjb25zdCBvPXQuYmFzZVZlcnNpb24rMTtjb25zdCByPUFycmF5LmZyb20obi5oaXN0b3J5LmdldE9wZXJhdGlvbnMobykpO2NvbnN0IHM9aUkoW3QuZ2V0UmV2ZXJzZWQoKV0scix7dXNlUmVsYXRpb25zOnRydWUsZG9jdW1lbnQ6dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQscGFkV2l0aE5vT3BzOmZhbHNlLGZvcmNlV2Vha1JlbW92ZTp0cnVlfSk7Y29uc3QgYT1zLm9wZXJhdGlvbnNBO2Zvcihjb25zdCBvIG9mIGEpe2UuYWRkT3BlcmF0aW9uKG8pO2kuYXBwbHlPcGVyYXRpb24obyk7bi5oaXN0b3J5LnNldE9wZXJhdGlvbkFzVW5kb25lKHQsbyl9fX19ZnVuY3Rpb24gdUkodCxlKXtjb25zdCBpPXQuZ2V0VHJhbnNmb3JtZWRCeU9wZXJhdGlvbnMoZSk7aS5zb3J0KCh0LGUpPT50LnN0YXJ0LmlzQmVmb3JlKGUuc3RhcnQpPy0xOjEpO2ZvcihsZXQgdD0xO3Q8aS5sZW5ndGg7dCsrKXtjb25zdCBlPWlbdC0xXTtjb25zdCBuPWlbdF07aWYoZS5lbmQuaXNUb3VjaGluZyhuLnN0YXJ0KSl7ZS5lbmQ9bi5lbmQ7aS5zcGxpY2UodCwxKTt0LS19fXJldHVybiBpfWNsYXNzIGhJIGV4dGVuZHMgZEl7ZXhlY3V0ZSh0PW51bGwpe2NvbnN0IGU9dD90aGlzLl9zdGFjay5maW5kSW5kZXgoZT0+ZS5iYXRjaD09dCk6dGhpcy5fc3RhY2subGVuZ3RoLTE7Y29uc3QgaT10aGlzLl9zdGFjay5zcGxpY2UoZSwxKVswXTtjb25zdCBuPXRoaXMuZWRpdG9yLm1vZGVsLmNyZWF0ZUJhdGNoKFwidHJhbnNwYXJlbnRcIik7dGhpcy5lZGl0b3IubW9kZWwuZW5xdWV1ZUNoYW5nZShuLCgpPT57dGhpcy5fdW5kbyhpLmJhdGNoLG4pO2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuaGlzdG9yeS5nZXRPcGVyYXRpb25zKGkuYmF0Y2guYmFzZVZlcnNpb24pO3RoaXMuX3Jlc3RvcmVTZWxlY3Rpb24oaS5zZWxlY3Rpb24ucmFuZ2VzLGkuc2VsZWN0aW9uLmlzQmFja3dhcmQsdCk7dGhpcy5maXJlKFwicmV2ZXJ0XCIsaS5iYXRjaCxuKX0pO3RoaXMucmVmcmVzaCgpfX1jbGFzcyBmSSBleHRlbmRzIGRJe2V4ZWN1dGUoKXtjb25zdCB0PXRoaXMuX3N0YWNrLnBvcCgpO2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwuY3JlYXRlQmF0Y2goXCJ0cmFuc3BhcmVudFwiKTt0aGlzLmVkaXRvci5tb2RlbC5lbnF1ZXVlQ2hhbmdlKGUsKCk9Pntjb25zdCBpPXQuYmF0Y2gub3BlcmF0aW9uc1t0LmJhdGNoLm9wZXJhdGlvbnMubGVuZ3RoLTFdO2NvbnN0IG49aS5iYXNlVmVyc2lvbisxO2NvbnN0IG89dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuaGlzdG9yeS5nZXRPcGVyYXRpb25zKG4pO3RoaXMuX3Jlc3RvcmVTZWxlY3Rpb24odC5zZWxlY3Rpb24ucmFuZ2VzLHQuc2VsZWN0aW9uLmlzQmFja3dhcmQsbyk7dGhpcy5fdW5kbyh0LmJhdGNoLGUpfSk7dGhpcy5yZWZyZXNoKCl9fWNsYXNzIGdJIGV4dGVuZHMgbXB7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJVbmRvRWRpdGluZ1wifWNvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO3RoaXMuX2JhdGNoUmVnaXN0cnk9bmV3IFdlYWtTZXR9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dGhpcy5fdW5kb0NvbW1hbmQ9bmV3IGhJKHQpO3RoaXMuX3JlZG9Db21tYW5kPW5ldyBmSSh0KTt0LmNvbW1hbmRzLmFkZChcInVuZG9cIix0aGlzLl91bmRvQ29tbWFuZCk7dC5jb21tYW5kcy5hZGQoXCJyZWRvXCIsdGhpcy5fcmVkb0NvbW1hbmQpO3RoaXMubGlzdGVuVG8odC5tb2RlbCxcImFwcGx5T3BlcmF0aW9uXCIsKHQsZSk9Pntjb25zdCBpPWVbMF07aWYoIWkuaXNEb2N1bWVudE9wZXJhdGlvbil7cmV0dXJufWNvbnN0IG49aS5iYXRjaDtjb25zdCBvPXRoaXMuX3JlZG9Db21tYW5kLl9jcmVhdGVkQmF0Y2hlcy5oYXMobik7Y29uc3Qgcj10aGlzLl91bmRvQ29tbWFuZC5fY3JlYXRlZEJhdGNoZXMuaGFzKG4pO2NvbnN0IHM9dGhpcy5fYmF0Y2hSZWdpc3RyeS5oYXMobik7aWYoc3x8bi50eXBlPT1cInRyYW5zcGFyZW50XCImJiFvJiYhcil7cmV0dXJufWVsc2V7aWYobyl7dGhpcy5fdW5kb0NvbW1hbmQuYWRkQmF0Y2gobil9ZWxzZSBpZighcil7dGhpcy5fdW5kb0NvbW1hbmQuYWRkQmF0Y2gobik7dGhpcy5fcmVkb0NvbW1hbmQuY2xlYXJTdGFjaygpfX10aGlzLl9iYXRjaFJlZ2lzdHJ5LmFkZChuKX0se3ByaW9yaXR5OlwiaGlnaGVzdFwifSk7dGhpcy5saXN0ZW5Ubyh0aGlzLl91bmRvQ29tbWFuZCxcInJldmVydFwiLCh0LGUsaSk9Pnt0aGlzLl9yZWRvQ29tbWFuZC5hZGRCYXRjaChpKX0pO3Qua2V5c3Ryb2tlcy5zZXQoXCJDVFJMK1pcIixcInVuZG9cIik7dC5rZXlzdHJva2VzLnNldChcIkNUUkwrWVwiLFwicmVkb1wiKTt0LmtleXN0cm9rZXMuc2V0KFwiQ1RSTCtTSElGVCtaXCIsXCJyZWRvXCIpfX12YXIgbUk9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTUuMDQyIDkuMzY3bDIuMTg5IDEuODM3YS43NS43NSAwIDAgMS0uOTY1IDEuMTQ5bC0zLjc4OC0zLjE4YS43NDcuNzQ3IDAgMCAxLS4yMS0uMjg0Ljc1Ljc1IDAgMCAxIC4xNy0uOTQ1TDYuMjMgNC43NjJhLjc1Ljc1IDAgMSAxIC45NjQgMS4xNUw0Ljg2MyA3Ljg2Nmg4LjkxN0EuNzUuNzUgMCAwIDEgMTQgNy45YTQgNCAwIDEgMS0xLjQ3NyA3LjcxOGwuMzQ0LTEuNDg5YTIuNSAyLjUgMCAxIDAgMS4wOTQtNC43M2wuMDA4LS4wMzJINS4wNDJ6XCIvPjwvc3ZnPic7dmFyIHBJPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xNC45NTggOS4zNjdsLTIuMTg5IDEuODM3YS43NS43NSAwIDAgMCAuOTY1IDEuMTQ5bDMuNzg4LTMuMThhLjc0Ny43NDcgMCAwIDAgLjIxLS4yODQuNzUuNzUgMCAwIDAtLjE3LS45NDVMMTMuNzcgNC43NjJhLjc1Ljc1IDAgMSAwLS45NjQgMS4xNWwyLjMzMSAxLjk1NUg2LjIyQS43NS43NSAwIDAgMCA2IDcuOWE0IDQgMCAxIDAgMS40NzcgNy43MThsLS4zNDQtMS40ODlBMi41IDIuNSAwIDEgMSA2LjAzOSA5LjRsLS4wMDgtLjAzMmg4LjkyN3pcIi8+PC9zdmc+JztjbGFzcyBiSSBleHRlbmRzIG1we2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2NvbnN0IGU9dC5sb2NhbGU7Y29uc3QgaT10LnQ7Y29uc3Qgbj1lLnVpTGFuZ3VhZ2VEaXJlY3Rpb249PVwibHRyXCI/bUk6cEk7Y29uc3Qgbz1lLnVpTGFuZ3VhZ2VEaXJlY3Rpb249PVwibHRyXCI/cEk6bUk7dGhpcy5fYWRkQnV0dG9uKFwidW5kb1wiLGkoXCJtb1wiKSxcIkNUUkwrWlwiLG4pO3RoaXMuX2FkZEJ1dHRvbihcInJlZG9cIixpKFwibXBcIiksXCJDVFJMK1lcIixvKX1fYWRkQnV0dG9uKHQsZSxpLG4pe2NvbnN0IG89dGhpcy5lZGl0b3I7by51aS5jb21wb25lbnRGYWN0b3J5LmFkZCh0LHI9Pntjb25zdCBzPW8uY29tbWFuZHMuZ2V0KHQpO2NvbnN0IGE9bmV3IGhiKHIpO2Euc2V0KHtsYWJlbDplLGljb246bixrZXlzdHJva2U6aSx0b29sdGlwOnRydWV9KTthLmJpbmQoXCJpc0VuYWJsZWRcIikudG8ocyxcImlzRW5hYmxlZFwiKTt0aGlzLmxpc3RlblRvKGEsXCJleGVjdXRlXCIsKCk9PntvLmV4ZWN1dGUodCk7by5lZGl0aW5nLnZpZXcuZm9jdXMoKX0pO3JldHVybiBhfSl9fWNsYXNzIHdJIGV4dGVuZHMgbXB7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltnSSxiSV19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJVbmRvXCJ9fWNsYXNzIGtJIGV4dGVuZHMgbXB7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltSeCxxTyxZTyxjUCx3SV19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJFc3NlbnRpYWxzXCJ9fWNsYXNzIF9JIGV4dGVuZHMgRnd7fV9JLmJ1aWx0aW5QbHVnaW5zPVtyayx1ayx2ayxTayxyXyxwXyxBXyxSXyxXXyxidixjeSxmeSxSeSxLeSx6eCxXeCx2QyxQQyx0VCx6VCxXVCx3UCxDUCx2UCxrUCx5UCxfUCx4UCxSUCxCUCxIUCxERSxsTyxkTyxJTyxMTyxrSSxWX119XSlbXCJkZWZhdWx0XCJdfSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1ja2VkaXRvci5qcy5tYXAiLCJ2YXIgY3NzID0gXCIuY29udGFpbmVyLFxcbi5jb250YWluZXItZmx1aWQge1xcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XFxufVxcbi5jb250YWluZXItZmx1aWQge1xcbiAgcGFkZGluZy1yaWdodDogMnJlbTtcXG4gIHBhZGRpbmctbGVmdDogMnJlbTtcXG59XFxuLnJvdyB7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtd2Via2l0LWJveC1mbGV4OiAwO1xcbiAgLW1zLWZsZXg6IDAgMSBhdXRvO1xcbiAgZmxleDogMCAxIGF1dG87XFxuICAtd2Via2l0LWJveC1vcmllbnQ6IGhvcml6b250YWw7XFxuICAtd2Via2l0LWJveC1kaXJlY3Rpb246IG5vcm1hbDtcXG4gIC1tcy1mbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gIC1tcy1mbGV4LXdyYXA6IHdyYXA7XFxuICBmbGV4LXdyYXA6IHdyYXA7XFxuICBtYXJnaW4tcmlnaHQ6IC0uNXJlbTtcXG4gIG1hcmdpbi1sZWZ0OiAtLjVyZW07XFxufVxcbi5yb3cucmV2ZXJzZSB7XFxuICAtd2Via2l0LWJveC1vcmllbnQ6IGhvcml6b250YWw7XFxuICAtd2Via2l0LWJveC1kaXJlY3Rpb246IHJldmVyc2U7XFxuICAtbXMtZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlO1xcbiAgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlO1xcbn1cXG4uY29sLnJldmVyc2Uge1xcbiAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcXG4gIC13ZWJraXQtYm94LWRpcmVjdGlvbjogcmV2ZXJzZTtcXG4gIC1tcy1mbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XFxufVxcbi5jb2wteHMsXFxuLmNvbC14cy0xLFxcbi5jb2wteHMtMTAsXFxuLmNvbC14cy0xMSxcXG4uY29sLXhzLTEyLFxcbi5jb2wteHMtMixcXG4uY29sLXhzLTMsXFxuLmNvbC14cy00LFxcbi5jb2wteHMtNSxcXG4uY29sLXhzLTYsXFxuLmNvbC14cy03LFxcbi5jb2wteHMtOCxcXG4uY29sLXhzLTksXFxuLmNvbC14cy1vZmZzZXQtMCxcXG4uY29sLXhzLW9mZnNldC0xLFxcbi5jb2wteHMtb2Zmc2V0LTEwLFxcbi5jb2wteHMtb2Zmc2V0LTExLFxcbi5jb2wteHMtb2Zmc2V0LTEyLFxcbi5jb2wteHMtb2Zmc2V0LTIsXFxuLmNvbC14cy1vZmZzZXQtMyxcXG4uY29sLXhzLW9mZnNldC00LFxcbi5jb2wteHMtb2Zmc2V0LTUsXFxuLmNvbC14cy1vZmZzZXQtNixcXG4uY29sLXhzLW9mZnNldC03LFxcbi5jb2wteHMtb2Zmc2V0LTgsXFxuLmNvbC14cy1vZmZzZXQtOSB7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLXdlYmtpdC1ib3gtZmxleDogMDtcXG4gIC1tcy1mbGV4OiAwIDAgYXV0bztcXG4gIGZsZXg6IDAgMCBhdXRvO1xcbiAgcGFkZGluZy1yaWdodDogLjVyZW07XFxuICBwYWRkaW5nLWxlZnQ6IC41cmVtO1xcbn1cXG4uY29sLXhzIHtcXG4gIC13ZWJraXQtYm94LWZsZXg6IDE7XFxuICAtbXMtZmxleC1wb3NpdGl2ZTogMTtcXG4gIGZsZXgtZ3JvdzogMTtcXG4gIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiAwO1xcbiAgZmxleC1iYXNpczogMDtcXG4gIG1heC13aWR0aDogMTAwJTtcXG59XFxuLmNvbC14cy0xIHtcXG4gIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiA4LjMzMzMzMzMzJTtcXG4gIGZsZXgtYmFzaXM6IDguMzMzMzMzMzMlO1xcbiAgbWF4LXdpZHRoOiA4LjMzMzMzMzMzJTtcXG59XFxuLmNvbC14cy0yIHtcXG4gIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiAxNi42NjY2NjY2NyU7XFxuICBmbGV4LWJhc2lzOiAxNi42NjY2NjY2NyU7XFxuICBtYXgtd2lkdGg6IDE2LjY2NjY2NjY3JTtcXG59XFxuLmNvbC14cy0zIHtcXG4gIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiAyNSU7XFxuICBmbGV4LWJhc2lzOiAyNSU7XFxuICBtYXgtd2lkdGg6IDI1JTtcXG59XFxuLmNvbC14cy00IHtcXG4gIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiAzMy4zMzMzMzMzMyU7XFxuICBmbGV4LWJhc2lzOiAzMy4zMzMzMzMzMyU7XFxuICBtYXgtd2lkdGg6IDMzLjMzMzMzMzMzJTtcXG59XFxuLmNvbC14cy01IHtcXG4gIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiA0MS42NjY2NjY2NyU7XFxuICBmbGV4LWJhc2lzOiA0MS42NjY2NjY2NyU7XFxuICBtYXgtd2lkdGg6IDQxLjY2NjY2NjY3JTtcXG59XFxuLmNvbC14cy02IHtcXG4gIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiA1MCU7XFxuICBmbGV4LWJhc2lzOiA1MCU7XFxuICBtYXgtd2lkdGg6IDUwJTtcXG59XFxuLmNvbC14cy03IHtcXG4gIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiA1OC4zMzMzMzMzMyU7XFxuICBmbGV4LWJhc2lzOiA1OC4zMzMzMzMzMyU7XFxuICBtYXgtd2lkdGg6IDU4LjMzMzMzMzMzJTtcXG59XFxuLmNvbC14cy04IHtcXG4gIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiA2Ni42NjY2NjY2NyU7XFxuICBmbGV4LWJhc2lzOiA2Ni42NjY2NjY2NyU7XFxuICBtYXgtd2lkdGg6IDY2LjY2NjY2NjY3JTtcXG59XFxuLmNvbC14cy05IHtcXG4gIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiA3NSU7XFxuICBmbGV4LWJhc2lzOiA3NSU7XFxuICBtYXgtd2lkdGg6IDc1JTtcXG59XFxuLmNvbC14cy0xMCB7XFxuICAtbXMtZmxleC1wcmVmZXJyZWQtc2l6ZTogODMuMzMzMzMzMzMlO1xcbiAgZmxleC1iYXNpczogODMuMzMzMzMzMzMlO1xcbiAgbWF4LXdpZHRoOiA4My4zMzMzMzMzMyU7XFxufVxcbi5jb2wteHMtMTEge1xcbiAgLW1zLWZsZXgtcHJlZmVycmVkLXNpemU6IDkxLjY2NjY2NjY3JTtcXG4gIGZsZXgtYmFzaXM6IDkxLjY2NjY2NjY3JTtcXG4gIG1heC13aWR0aDogOTEuNjY2NjY2NjclO1xcbn1cXG4uY29sLXhzLTEyIHtcXG4gIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiAxMDAlO1xcbiAgZmxleC1iYXNpczogMTAwJTtcXG4gIG1heC13aWR0aDogMTAwJTtcXG59XFxuLmNvbC14cy1vZmZzZXQtMCB7XFxuICBtYXJnaW4tbGVmdDogMDtcXG59XFxuLmNvbC14cy1vZmZzZXQtMSB7XFxuICBtYXJnaW4tbGVmdDogOC4zMzMzMzMzMyU7XFxufVxcbi5jb2wteHMtb2Zmc2V0LTIge1xcbiAgbWFyZ2luLWxlZnQ6IDE2LjY2NjY2NjY3JTtcXG59XFxuLmNvbC14cy1vZmZzZXQtMyB7XFxuICBtYXJnaW4tbGVmdDogMjUlO1xcbn1cXG4uY29sLXhzLW9mZnNldC00IHtcXG4gIG1hcmdpbi1sZWZ0OiAzMy4zMzMzMzMzMyU7XFxufVxcbi5jb2wteHMtb2Zmc2V0LTUge1xcbiAgbWFyZ2luLWxlZnQ6IDQxLjY2NjY2NjY3JTtcXG59XFxuLmNvbC14cy1vZmZzZXQtNiB7XFxuICBtYXJnaW4tbGVmdDogNTAlO1xcbn1cXG4uY29sLXhzLW9mZnNldC03IHtcXG4gIG1hcmdpbi1sZWZ0OiA1OC4zMzMzMzMzMyU7XFxufVxcbi5jb2wteHMtb2Zmc2V0LTgge1xcbiAgbWFyZ2luLWxlZnQ6IDY2LjY2NjY2NjY3JTtcXG59XFxuLmNvbC14cy1vZmZzZXQtOSB7XFxuICBtYXJnaW4tbGVmdDogNzUlO1xcbn1cXG4uY29sLXhzLW9mZnNldC0xMCB7XFxuICBtYXJnaW4tbGVmdDogODMuMzMzMzMzMzMlO1xcbn1cXG4uY29sLXhzLW9mZnNldC0xMSB7XFxuICBtYXJnaW4tbGVmdDogOTEuNjY2NjY2NjclO1xcbn1cXG4uc3RhcnQteHMge1xcbiAgLXdlYmtpdC1ib3gtcGFjazogc3RhcnQ7XFxuICAtbXMtZmxleC1wYWNrOiBzdGFydDtcXG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcXG4gIHRleHQtYWxpZ246IHN0YXJ0O1xcbn1cXG4uY2VudGVyLXhzIHtcXG4gIC13ZWJraXQtYm94LXBhY2s6IGNlbnRlcjtcXG4gIC1tcy1mbGV4LXBhY2s6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG4uZW5kLXhzIHtcXG4gIC13ZWJraXQtYm94LXBhY2s6IGVuZDtcXG4gIC1tcy1mbGV4LXBhY2s6IGVuZDtcXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XFxuICB0ZXh0LWFsaWduOiBlbmQ7XFxufVxcbi50b3AteHMge1xcbiAgLXdlYmtpdC1ib3gtYWxpZ246IHN0YXJ0O1xcbiAgLW1zLWZsZXgtYWxpZ246IHN0YXJ0O1xcbiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XFxufVxcbi5taWRkbGUteHMge1xcbiAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcXG4gIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG4uYm90dG9tLXhzIHtcXG4gIC13ZWJraXQtYm94LWFsaWduOiBlbmQ7XFxuICAtbXMtZmxleC1hbGlnbjogZW5kO1xcbiAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xcbn1cXG4uYXJvdW5kLXhzIHtcXG4gIC1tcy1mbGV4LXBhY2s6IGRpc3RyaWJ1dGU7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcXG59XFxuLmJldHdlZW4teHMge1xcbiAgLXdlYmtpdC1ib3gtcGFjazoganVzdGlmeTtcXG4gIC1tcy1mbGV4LXBhY2s6IGp1c3RpZnk7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxufVxcbi5maXJzdC14cyB7XFxuICAtd2Via2l0LWJveC1vcmRpbmFsLWdyb3VwOiAwO1xcbiAgLW1zLWZsZXgtb3JkZXI6IC0xO1xcbiAgb3JkZXI6IC0xO1xcbn1cXG4ubGFzdC14cyB7XFxuICAtd2Via2l0LWJveC1vcmRpbmFsLWdyb3VwOiAyO1xcbiAgLW1zLWZsZXgtb3JkZXI6IDE7XFxuICBvcmRlcjogMTtcXG59XFxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOjQ4ZW0pIHtcXG4gIC5jb250YWluZXIge1xcbiAgICB3aWR0aDogNDlyZW07XFxuICB9XFxuXFxuICAuY29sLXNtLFxcbiAgLmNvbC1zbS0xLFxcbiAgLmNvbC1zbS0xMCxcXG4gIC5jb2wtc20tMTEsXFxuICAuY29sLXNtLTEyLFxcbiAgLmNvbC1zbS0yLFxcbiAgLmNvbC1zbS0zLFxcbiAgLmNvbC1zbS00LFxcbiAgLmNvbC1zbS01LFxcbiAgLmNvbC1zbS02LFxcbiAgLmNvbC1zbS03LFxcbiAgLmNvbC1zbS04LFxcbiAgLmNvbC1zbS05LFxcbiAgLmNvbC1zbS1vZmZzZXQtMCxcXG4gIC5jb2wtc20tb2Zmc2V0LTEsXFxuICAuY29sLXNtLW9mZnNldC0xMCxcXG4gIC5jb2wtc20tb2Zmc2V0LTExLFxcbiAgLmNvbC1zbS1vZmZzZXQtMTIsXFxuICAuY29sLXNtLW9mZnNldC0yLFxcbiAgLmNvbC1zbS1vZmZzZXQtMyxcXG4gIC5jb2wtc20tb2Zmc2V0LTQsXFxuICAuY29sLXNtLW9mZnNldC01LFxcbiAgLmNvbC1zbS1vZmZzZXQtNixcXG4gIC5jb2wtc20tb2Zmc2V0LTcsXFxuICAuY29sLXNtLW9mZnNldC04LFxcbiAgLmNvbC1zbS1vZmZzZXQtOSB7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgIC13ZWJraXQtYm94LWZsZXg6IDA7XFxuICAgIC1tcy1mbGV4OiAwIDAgYXV0bztcXG4gICAgZmxleDogMCAwIGF1dG87XFxuICAgIHBhZGRpbmctcmlnaHQ6IC41cmVtO1xcbiAgICBwYWRkaW5nLWxlZnQ6IC41cmVtO1xcbiAgfVxcblxcbiAgLmNvbC1zbSB7XFxuICAgIC13ZWJraXQtYm94LWZsZXg6IDE7XFxuICAgIC1tcy1mbGV4LXBvc2l0aXZlOiAxO1xcbiAgICBmbGV4LWdyb3c6IDE7XFxuICAgIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiAwO1xcbiAgICBmbGV4LWJhc2lzOiAwO1xcbiAgICBtYXgtd2lkdGg6IDEwMCU7XFxuICB9XFxuXFxuICAuY29sLXNtLTEge1xcbiAgICAtbXMtZmxleC1wcmVmZXJyZWQtc2l6ZTogOC4zMzMzMzMzMyU7XFxuICAgIGZsZXgtYmFzaXM6IDguMzMzMzMzMzMlO1xcbiAgICBtYXgtd2lkdGg6IDguMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1zbS0yIHtcXG4gICAgLW1zLWZsZXgtcHJlZmVycmVkLXNpemU6IDE2LjY2NjY2NjY3JTtcXG4gICAgZmxleC1iYXNpczogMTYuNjY2NjY2NjclO1xcbiAgICBtYXgtd2lkdGg6IDE2LjY2NjY2NjY3JTtcXG4gIH1cXG5cXG4gIC5jb2wtc20tMyB7XFxuICAgIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiAyNSU7XFxuICAgIGZsZXgtYmFzaXM6IDI1JTtcXG4gICAgbWF4LXdpZHRoOiAyNSU7XFxuICB9XFxuXFxuICAuY29sLXNtLTQge1xcbiAgICAtbXMtZmxleC1wcmVmZXJyZWQtc2l6ZTogMzMuMzMzMzMzMzMlO1xcbiAgICBmbGV4LWJhc2lzOiAzMy4zMzMzMzMzMyU7XFxuICAgIG1heC13aWR0aDogMzMuMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1zbS01IHtcXG4gICAgLW1zLWZsZXgtcHJlZmVycmVkLXNpemU6IDQxLjY2NjY2NjY3JTtcXG4gICAgZmxleC1iYXNpczogNDEuNjY2NjY2NjclO1xcbiAgICBtYXgtd2lkdGg6IDQxLjY2NjY2NjY3JTtcXG4gIH1cXG5cXG4gIC5jb2wtc20tNiB7XFxuICAgIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiA1MCU7XFxuICAgIGZsZXgtYmFzaXM6IDUwJTtcXG4gICAgbWF4LXdpZHRoOiA1MCU7XFxuICB9XFxuXFxuICAuY29sLXNtLTcge1xcbiAgICAtbXMtZmxleC1wcmVmZXJyZWQtc2l6ZTogNTguMzMzMzMzMzMlO1xcbiAgICBmbGV4LWJhc2lzOiA1OC4zMzMzMzMzMyU7XFxuICAgIG1heC13aWR0aDogNTguMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1zbS04IHtcXG4gICAgLW1zLWZsZXgtcHJlZmVycmVkLXNpemU6IDY2LjY2NjY2NjY3JTtcXG4gICAgZmxleC1iYXNpczogNjYuNjY2NjY2NjclO1xcbiAgICBtYXgtd2lkdGg6IDY2LjY2NjY2NjY3JTtcXG4gIH1cXG5cXG4gIC5jb2wtc20tOSB7XFxuICAgIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiA3NSU7XFxuICAgIGZsZXgtYmFzaXM6IDc1JTtcXG4gICAgbWF4LXdpZHRoOiA3NSU7XFxuICB9XFxuXFxuICAuY29sLXNtLTEwIHtcXG4gICAgLW1zLWZsZXgtcHJlZmVycmVkLXNpemU6IDgzLjMzMzMzMzMzJTtcXG4gICAgZmxleC1iYXNpczogODMuMzMzMzMzMzMlO1xcbiAgICBtYXgtd2lkdGg6IDgzLjMzMzMzMzMzJTtcXG4gIH1cXG5cXG4gIC5jb2wtc20tMTEge1xcbiAgICAtbXMtZmxleC1wcmVmZXJyZWQtc2l6ZTogOTEuNjY2NjY2NjclO1xcbiAgICBmbGV4LWJhc2lzOiA5MS42NjY2NjY2NyU7XFxuICAgIG1heC13aWR0aDogOTEuNjY2NjY2NjclO1xcbiAgfVxcblxcbiAgLmNvbC1zbS0xMiB7XFxuICAgIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiAxMDAlO1xcbiAgICBmbGV4LWJhc2lzOiAxMDAlO1xcbiAgICBtYXgtd2lkdGg6IDEwMCU7XFxuICB9XFxuXFxuICAuY29sLXNtLW9mZnNldC0wIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDA7XFxuICB9XFxuXFxuICAuY29sLXNtLW9mZnNldC0xIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDguMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1zbS1vZmZzZXQtMiB7XFxuICAgIG1hcmdpbi1sZWZ0OiAxNi42NjY2NjY2NyU7XFxuICB9XFxuXFxuICAuY29sLXNtLW9mZnNldC0zIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDI1JTtcXG4gIH1cXG5cXG4gIC5jb2wtc20tb2Zmc2V0LTQge1xcbiAgICBtYXJnaW4tbGVmdDogMzMuMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1zbS1vZmZzZXQtNSB7XFxuICAgIG1hcmdpbi1sZWZ0OiA0MS42NjY2NjY2NyU7XFxuICB9XFxuXFxuICAuY29sLXNtLW9mZnNldC02IHtcXG4gICAgbWFyZ2luLWxlZnQ6IDUwJTtcXG4gIH1cXG5cXG4gIC5jb2wtc20tb2Zmc2V0LTcge1xcbiAgICBtYXJnaW4tbGVmdDogNTguMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1zbS1vZmZzZXQtOCB7XFxuICAgIG1hcmdpbi1sZWZ0OiA2Ni42NjY2NjY2NyU7XFxuICB9XFxuXFxuICAuY29sLXNtLW9mZnNldC05IHtcXG4gICAgbWFyZ2luLWxlZnQ6IDc1JTtcXG4gIH1cXG5cXG4gIC5jb2wtc20tb2Zmc2V0LTEwIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDgzLjMzMzMzMzMzJTtcXG4gIH1cXG5cXG4gIC5jb2wtc20tb2Zmc2V0LTExIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDkxLjY2NjY2NjY3JTtcXG4gIH1cXG5cXG4gIC5zdGFydC1zbSB7XFxuICAgIC13ZWJraXQtYm94LXBhY2s6IHN0YXJ0O1xcbiAgICAtbXMtZmxleC1wYWNrOiBzdGFydDtcXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xcbiAgICB0ZXh0LWFsaWduOiBzdGFydDtcXG4gIH1cXG5cXG4gIC5jZW50ZXItc20ge1xcbiAgICAtd2Via2l0LWJveC1wYWNrOiBjZW50ZXI7XFxuICAgIC1tcy1mbGV4LXBhY2s6IGNlbnRlcjtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIH1cXG5cXG4gIC5lbmQtc20ge1xcbiAgICAtd2Via2l0LWJveC1wYWNrOiBlbmQ7XFxuICAgIC1tcy1mbGV4LXBhY2s6IGVuZDtcXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcXG4gICAgdGV4dC1hbGlnbjogZW5kO1xcbiAgfVxcblxcbiAgLnRvcC1zbSB7XFxuICAgIC13ZWJraXQtYm94LWFsaWduOiBzdGFydDtcXG4gICAgLW1zLWZsZXgtYWxpZ246IHN0YXJ0O1xcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcXG4gIH1cXG5cXG4gIC5taWRkbGUtc20ge1xcbiAgICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgfVxcblxcbiAgLmJvdHRvbS1zbSB7XFxuICAgIC13ZWJraXQtYm94LWFsaWduOiBlbmQ7XFxuICAgIC1tcy1mbGV4LWFsaWduOiBlbmQ7XFxuICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcXG4gIH1cXG5cXG4gIC5hcm91bmQtc20ge1xcbiAgICAtbXMtZmxleC1wYWNrOiBkaXN0cmlidXRlO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcXG4gIH1cXG5cXG4gIC5iZXR3ZWVuLXNtIHtcXG4gICAgLXdlYmtpdC1ib3gtcGFjazoganVzdGlmeTtcXG4gICAgLW1zLWZsZXgtcGFjazoganVzdGlmeTtcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgfVxcblxcbiAgLmZpcnN0LXNtIHtcXG4gICAgLXdlYmtpdC1ib3gtb3JkaW5hbC1ncm91cDogMDtcXG4gICAgLW1zLWZsZXgtb3JkZXI6IC0xO1xcbiAgICBvcmRlcjogLTE7XFxuICB9XFxuXFxuICAubGFzdC1zbSB7XFxuICAgIC13ZWJraXQtYm94LW9yZGluYWwtZ3JvdXA6IDI7XFxuICAgIC1tcy1mbGV4LW9yZGVyOiAxO1xcbiAgICBvcmRlcjogMTtcXG4gIH1cXG59XFxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOjY0ZW0pIHtcXG4gIC5jb250YWluZXIge1xcbiAgICB3aWR0aDogNjVyZW07XFxuICB9XFxuXFxuICAuY29sLW1kLFxcbiAgLmNvbC1tZC0xLFxcbiAgLmNvbC1tZC0xMCxcXG4gIC5jb2wtbWQtMTEsXFxuICAuY29sLW1kLTEyLFxcbiAgLmNvbC1tZC0yLFxcbiAgLmNvbC1tZC0zLFxcbiAgLmNvbC1tZC00LFxcbiAgLmNvbC1tZC01LFxcbiAgLmNvbC1tZC02LFxcbiAgLmNvbC1tZC03LFxcbiAgLmNvbC1tZC04LFxcbiAgLmNvbC1tZC05LFxcbiAgLmNvbC1tZC1vZmZzZXQtMCxcXG4gIC5jb2wtbWQtb2Zmc2V0LTEsXFxuICAuY29sLW1kLW9mZnNldC0xMCxcXG4gIC5jb2wtbWQtb2Zmc2V0LTExLFxcbiAgLmNvbC1tZC1vZmZzZXQtMTIsXFxuICAuY29sLW1kLW9mZnNldC0yLFxcbiAgLmNvbC1tZC1vZmZzZXQtMyxcXG4gIC5jb2wtbWQtb2Zmc2V0LTQsXFxuICAuY29sLW1kLW9mZnNldC01LFxcbiAgLmNvbC1tZC1vZmZzZXQtNixcXG4gIC5jb2wtbWQtb2Zmc2V0LTcsXFxuICAuY29sLW1kLW9mZnNldC04LFxcbiAgLmNvbC1tZC1vZmZzZXQtOSB7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgIC13ZWJraXQtYm94LWZsZXg6IDA7XFxuICAgIC1tcy1mbGV4OiAwIDAgYXV0bztcXG4gICAgZmxleDogMCAwIGF1dG87XFxuICAgIHBhZGRpbmctcmlnaHQ6IC41cmVtO1xcbiAgICBwYWRkaW5nLWxlZnQ6IC41cmVtO1xcbiAgfVxcblxcbiAgLmNvbC1tZCB7XFxuICAgIC13ZWJraXQtYm94LWZsZXg6IDE7XFxuICAgIC1tcy1mbGV4LXBvc2l0aXZlOiAxO1xcbiAgICBmbGV4LWdyb3c6IDE7XFxuICAgIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiAwO1xcbiAgICBmbGV4LWJhc2lzOiAwO1xcbiAgICBtYXgtd2lkdGg6IDEwMCU7XFxuICB9XFxuXFxuICAuY29sLW1kLTEge1xcbiAgICAtbXMtZmxleC1wcmVmZXJyZWQtc2l6ZTogOC4zMzMzMzMzMyU7XFxuICAgIGZsZXgtYmFzaXM6IDguMzMzMzMzMzMlO1xcbiAgICBtYXgtd2lkdGg6IDguMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1tZC0yIHtcXG4gICAgLW1zLWZsZXgtcHJlZmVycmVkLXNpemU6IDE2LjY2NjY2NjY3JTtcXG4gICAgZmxleC1iYXNpczogMTYuNjY2NjY2NjclO1xcbiAgICBtYXgtd2lkdGg6IDE2LjY2NjY2NjY3JTtcXG4gIH1cXG5cXG4gIC5jb2wtbWQtMyB7XFxuICAgIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiAyNSU7XFxuICAgIGZsZXgtYmFzaXM6IDI1JTtcXG4gICAgbWF4LXdpZHRoOiAyNSU7XFxuICB9XFxuXFxuICAuY29sLW1kLTQge1xcbiAgICAtbXMtZmxleC1wcmVmZXJyZWQtc2l6ZTogMzMuMzMzMzMzMzMlO1xcbiAgICBmbGV4LWJhc2lzOiAzMy4zMzMzMzMzMyU7XFxuICAgIG1heC13aWR0aDogMzMuMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1tZC01IHtcXG4gICAgLW1zLWZsZXgtcHJlZmVycmVkLXNpemU6IDQxLjY2NjY2NjY3JTtcXG4gICAgZmxleC1iYXNpczogNDEuNjY2NjY2NjclO1xcbiAgICBtYXgtd2lkdGg6IDQxLjY2NjY2NjY3JTtcXG4gIH1cXG5cXG4gIC5jb2wtbWQtNiB7XFxuICAgIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiA1MCU7XFxuICAgIGZsZXgtYmFzaXM6IDUwJTtcXG4gICAgbWF4LXdpZHRoOiA1MCU7XFxuICB9XFxuXFxuICAuY29sLW1kLTcge1xcbiAgICAtbXMtZmxleC1wcmVmZXJyZWQtc2l6ZTogNTguMzMzMzMzMzMlO1xcbiAgICBmbGV4LWJhc2lzOiA1OC4zMzMzMzMzMyU7XFxuICAgIG1heC13aWR0aDogNTguMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1tZC04IHtcXG4gICAgLW1zLWZsZXgtcHJlZmVycmVkLXNpemU6IDY2LjY2NjY2NjY3JTtcXG4gICAgZmxleC1iYXNpczogNjYuNjY2NjY2NjclO1xcbiAgICBtYXgtd2lkdGg6IDY2LjY2NjY2NjY3JTtcXG4gIH1cXG5cXG4gIC5jb2wtbWQtOSB7XFxuICAgIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiA3NSU7XFxuICAgIGZsZXgtYmFzaXM6IDc1JTtcXG4gICAgbWF4LXdpZHRoOiA3NSU7XFxuICB9XFxuXFxuICAuY29sLW1kLTEwIHtcXG4gICAgLW1zLWZsZXgtcHJlZmVycmVkLXNpemU6IDgzLjMzMzMzMzMzJTtcXG4gICAgZmxleC1iYXNpczogODMuMzMzMzMzMzMlO1xcbiAgICBtYXgtd2lkdGg6IDgzLjMzMzMzMzMzJTtcXG4gIH1cXG5cXG4gIC5jb2wtbWQtMTEge1xcbiAgICAtbXMtZmxleC1wcmVmZXJyZWQtc2l6ZTogOTEuNjY2NjY2NjclO1xcbiAgICBmbGV4LWJhc2lzOiA5MS42NjY2NjY2NyU7XFxuICAgIG1heC13aWR0aDogOTEuNjY2NjY2NjclO1xcbiAgfVxcblxcbiAgLmNvbC1tZC0xMiB7XFxuICAgIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiAxMDAlO1xcbiAgICBmbGV4LWJhc2lzOiAxMDAlO1xcbiAgICBtYXgtd2lkdGg6IDEwMCU7XFxuICB9XFxuXFxuICAuY29sLW1kLW9mZnNldC0wIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDA7XFxuICB9XFxuXFxuICAuY29sLW1kLW9mZnNldC0xIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDguMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1tZC1vZmZzZXQtMiB7XFxuICAgIG1hcmdpbi1sZWZ0OiAxNi42NjY2NjY2NyU7XFxuICB9XFxuXFxuICAuY29sLW1kLW9mZnNldC0zIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDI1JTtcXG4gIH1cXG5cXG4gIC5jb2wtbWQtb2Zmc2V0LTQge1xcbiAgICBtYXJnaW4tbGVmdDogMzMuMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1tZC1vZmZzZXQtNSB7XFxuICAgIG1hcmdpbi1sZWZ0OiA0MS42NjY2NjY2NyU7XFxuICB9XFxuXFxuICAuY29sLW1kLW9mZnNldC02IHtcXG4gICAgbWFyZ2luLWxlZnQ6IDUwJTtcXG4gIH1cXG5cXG4gIC5jb2wtbWQtb2Zmc2V0LTcge1xcbiAgICBtYXJnaW4tbGVmdDogNTguMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1tZC1vZmZzZXQtOCB7XFxuICAgIG1hcmdpbi1sZWZ0OiA2Ni42NjY2NjY2NyU7XFxuICB9XFxuXFxuICAuY29sLW1kLW9mZnNldC05IHtcXG4gICAgbWFyZ2luLWxlZnQ6IDc1JTtcXG4gIH1cXG5cXG4gIC5jb2wtbWQtb2Zmc2V0LTEwIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDgzLjMzMzMzMzMzJTtcXG4gIH1cXG5cXG4gIC5jb2wtbWQtb2Zmc2V0LTExIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDkxLjY2NjY2NjY3JTtcXG4gIH1cXG5cXG4gIC5zdGFydC1tZCB7XFxuICAgIC13ZWJraXQtYm94LXBhY2s6IHN0YXJ0O1xcbiAgICAtbXMtZmxleC1wYWNrOiBzdGFydDtcXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xcbiAgICB0ZXh0LWFsaWduOiBzdGFydDtcXG4gIH1cXG5cXG4gIC5jZW50ZXItbWQge1xcbiAgICAtd2Via2l0LWJveC1wYWNrOiBjZW50ZXI7XFxuICAgIC1tcy1mbGV4LXBhY2s6IGNlbnRlcjtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIH1cXG5cXG4gIC5lbmQtbWQge1xcbiAgICAtd2Via2l0LWJveC1wYWNrOiBlbmQ7XFxuICAgIC1tcy1mbGV4LXBhY2s6IGVuZDtcXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcXG4gICAgdGV4dC1hbGlnbjogZW5kO1xcbiAgfVxcblxcbiAgLnRvcC1tZCB7XFxuICAgIC13ZWJraXQtYm94LWFsaWduOiBzdGFydDtcXG4gICAgLW1zLWZsZXgtYWxpZ246IHN0YXJ0O1xcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcXG4gIH1cXG5cXG4gIC5taWRkbGUtbWQge1xcbiAgICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgfVxcblxcbiAgLmJvdHRvbS1tZCB7XFxuICAgIC13ZWJraXQtYm94LWFsaWduOiBlbmQ7XFxuICAgIC1tcy1mbGV4LWFsaWduOiBlbmQ7XFxuICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcXG4gIH1cXG5cXG4gIC5hcm91bmQtbWQge1xcbiAgICAtbXMtZmxleC1wYWNrOiBkaXN0cmlidXRlO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcXG4gIH1cXG5cXG4gIC5iZXR3ZWVuLW1kIHtcXG4gICAgLXdlYmtpdC1ib3gtcGFjazoganVzdGlmeTtcXG4gICAgLW1zLWZsZXgtcGFjazoganVzdGlmeTtcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgfVxcblxcbiAgLmZpcnN0LW1kIHtcXG4gICAgLXdlYmtpdC1ib3gtb3JkaW5hbC1ncm91cDogMDtcXG4gICAgLW1zLWZsZXgtb3JkZXI6IC0xO1xcbiAgICBvcmRlcjogLTE7XFxuICB9XFxuXFxuICAubGFzdC1tZCB7XFxuICAgIC13ZWJraXQtYm94LW9yZGluYWwtZ3JvdXA6IDI7XFxuICAgIC1tcy1mbGV4LW9yZGVyOiAxO1xcbiAgICBvcmRlcjogMTtcXG4gIH1cXG59XFxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOjc1ZW0pIHtcXG4gIC5jb250YWluZXIge1xcbiAgICB3aWR0aDogNzZyZW07XFxuICB9XFxuXFxuICAuY29sLWxnLFxcbiAgLmNvbC1sZy0xLFxcbiAgLmNvbC1sZy0xMCxcXG4gIC5jb2wtbGctMTEsXFxuICAuY29sLWxnLTEyLFxcbiAgLmNvbC1sZy0yLFxcbiAgLmNvbC1sZy0zLFxcbiAgLmNvbC1sZy00LFxcbiAgLmNvbC1sZy01LFxcbiAgLmNvbC1sZy02LFxcbiAgLmNvbC1sZy03LFxcbiAgLmNvbC1sZy04LFxcbiAgLmNvbC1sZy05LFxcbiAgLmNvbC1sZy1vZmZzZXQtMCxcXG4gIC5jb2wtbGctb2Zmc2V0LTEsXFxuICAuY29sLWxnLW9mZnNldC0xMCxcXG4gIC5jb2wtbGctb2Zmc2V0LTExLFxcbiAgLmNvbC1sZy1vZmZzZXQtMTIsXFxuICAuY29sLWxnLW9mZnNldC0yLFxcbiAgLmNvbC1sZy1vZmZzZXQtMyxcXG4gIC5jb2wtbGctb2Zmc2V0LTQsXFxuICAuY29sLWxnLW9mZnNldC01LFxcbiAgLmNvbC1sZy1vZmZzZXQtNixcXG4gIC5jb2wtbGctb2Zmc2V0LTcsXFxuICAuY29sLWxnLW9mZnNldC04LFxcbiAgLmNvbC1sZy1vZmZzZXQtOSB7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgIC13ZWJraXQtYm94LWZsZXg6IDA7XFxuICAgIC1tcy1mbGV4OiAwIDAgYXV0bztcXG4gICAgZmxleDogMCAwIGF1dG87XFxuICAgIHBhZGRpbmctcmlnaHQ6IC41cmVtO1xcbiAgICBwYWRkaW5nLWxlZnQ6IC41cmVtO1xcbiAgfVxcblxcbiAgLmNvbC1sZyB7XFxuICAgIC13ZWJraXQtYm94LWZsZXg6IDE7XFxuICAgIC1tcy1mbGV4LXBvc2l0aXZlOiAxO1xcbiAgICBmbGV4LWdyb3c6IDE7XFxuICAgIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiAwO1xcbiAgICBmbGV4LWJhc2lzOiAwO1xcbiAgICBtYXgtd2lkdGg6IDEwMCU7XFxuICB9XFxuXFxuICAuY29sLWxnLTEge1xcbiAgICAtbXMtZmxleC1wcmVmZXJyZWQtc2l6ZTogOC4zMzMzMzMzMyU7XFxuICAgIGZsZXgtYmFzaXM6IDguMzMzMzMzMzMlO1xcbiAgICBtYXgtd2lkdGg6IDguMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1sZy0yIHtcXG4gICAgLW1zLWZsZXgtcHJlZmVycmVkLXNpemU6IDE2LjY2NjY2NjY3JTtcXG4gICAgZmxleC1iYXNpczogMTYuNjY2NjY2NjclO1xcbiAgICBtYXgtd2lkdGg6IDE2LjY2NjY2NjY3JTtcXG4gIH1cXG5cXG4gIC5jb2wtbGctMyB7XFxuICAgIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiAyNSU7XFxuICAgIGZsZXgtYmFzaXM6IDI1JTtcXG4gICAgbWF4LXdpZHRoOiAyNSU7XFxuICB9XFxuXFxuICAuY29sLWxnLTQge1xcbiAgICAtbXMtZmxleC1wcmVmZXJyZWQtc2l6ZTogMzMuMzMzMzMzMzMlO1xcbiAgICBmbGV4LWJhc2lzOiAzMy4zMzMzMzMzMyU7XFxuICAgIG1heC13aWR0aDogMzMuMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1sZy01IHtcXG4gICAgLW1zLWZsZXgtcHJlZmVycmVkLXNpemU6IDQxLjY2NjY2NjY3JTtcXG4gICAgZmxleC1iYXNpczogNDEuNjY2NjY2NjclO1xcbiAgICBtYXgtd2lkdGg6IDQxLjY2NjY2NjY3JTtcXG4gIH1cXG5cXG4gIC5jb2wtbGctNiB7XFxuICAgIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiA1MCU7XFxuICAgIGZsZXgtYmFzaXM6IDUwJTtcXG4gICAgbWF4LXdpZHRoOiA1MCU7XFxuICB9XFxuXFxuICAuY29sLWxnLTcge1xcbiAgICAtbXMtZmxleC1wcmVmZXJyZWQtc2l6ZTogNTguMzMzMzMzMzMlO1xcbiAgICBmbGV4LWJhc2lzOiA1OC4zMzMzMzMzMyU7XFxuICAgIG1heC13aWR0aDogNTguMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1sZy04IHtcXG4gICAgLW1zLWZsZXgtcHJlZmVycmVkLXNpemU6IDY2LjY2NjY2NjY3JTtcXG4gICAgZmxleC1iYXNpczogNjYuNjY2NjY2NjclO1xcbiAgICBtYXgtd2lkdGg6IDY2LjY2NjY2NjY3JTtcXG4gIH1cXG5cXG4gIC5jb2wtbGctOSB7XFxuICAgIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiA3NSU7XFxuICAgIGZsZXgtYmFzaXM6IDc1JTtcXG4gICAgbWF4LXdpZHRoOiA3NSU7XFxuICB9XFxuXFxuICAuY29sLWxnLTEwIHtcXG4gICAgLW1zLWZsZXgtcHJlZmVycmVkLXNpemU6IDgzLjMzMzMzMzMzJTtcXG4gICAgZmxleC1iYXNpczogODMuMzMzMzMzMzMlO1xcbiAgICBtYXgtd2lkdGg6IDgzLjMzMzMzMzMzJTtcXG4gIH1cXG5cXG4gIC5jb2wtbGctMTEge1xcbiAgICAtbXMtZmxleC1wcmVmZXJyZWQtc2l6ZTogOTEuNjY2NjY2NjclO1xcbiAgICBmbGV4LWJhc2lzOiA5MS42NjY2NjY2NyU7XFxuICAgIG1heC13aWR0aDogOTEuNjY2NjY2NjclO1xcbiAgfVxcblxcbiAgLmNvbC1sZy0xMiB7XFxuICAgIC1tcy1mbGV4LXByZWZlcnJlZC1zaXplOiAxMDAlO1xcbiAgICBmbGV4LWJhc2lzOiAxMDAlO1xcbiAgICBtYXgtd2lkdGg6IDEwMCU7XFxuICB9XFxuXFxuICAuY29sLWxnLW9mZnNldC0wIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDA7XFxuICB9XFxuXFxuICAuY29sLWxnLW9mZnNldC0xIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDguMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1sZy1vZmZzZXQtMiB7XFxuICAgIG1hcmdpbi1sZWZ0OiAxNi42NjY2NjY2NyU7XFxuICB9XFxuXFxuICAuY29sLWxnLW9mZnNldC0zIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDI1JTtcXG4gIH1cXG5cXG4gIC5jb2wtbGctb2Zmc2V0LTQge1xcbiAgICBtYXJnaW4tbGVmdDogMzMuMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1sZy1vZmZzZXQtNSB7XFxuICAgIG1hcmdpbi1sZWZ0OiA0MS42NjY2NjY2NyU7XFxuICB9XFxuXFxuICAuY29sLWxnLW9mZnNldC02IHtcXG4gICAgbWFyZ2luLWxlZnQ6IDUwJTtcXG4gIH1cXG5cXG4gIC5jb2wtbGctb2Zmc2V0LTcge1xcbiAgICBtYXJnaW4tbGVmdDogNTguMzMzMzMzMzMlO1xcbiAgfVxcblxcbiAgLmNvbC1sZy1vZmZzZXQtOCB7XFxuICAgIG1hcmdpbi1sZWZ0OiA2Ni42NjY2NjY2NyU7XFxuICB9XFxuXFxuICAuY29sLWxnLW9mZnNldC05IHtcXG4gICAgbWFyZ2luLWxlZnQ6IDc1JTtcXG4gIH1cXG5cXG4gIC5jb2wtbGctb2Zmc2V0LTEwIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDgzLjMzMzMzMzMzJTtcXG4gIH1cXG5cXG4gIC5jb2wtbGctb2Zmc2V0LTExIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDkxLjY2NjY2NjY3JTtcXG4gIH1cXG5cXG4gIC5zdGFydC1sZyB7XFxuICAgIC13ZWJraXQtYm94LXBhY2s6IHN0YXJ0O1xcbiAgICAtbXMtZmxleC1wYWNrOiBzdGFydDtcXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xcbiAgICB0ZXh0LWFsaWduOiBzdGFydDtcXG4gIH1cXG5cXG4gIC5jZW50ZXItbGcge1xcbiAgICAtd2Via2l0LWJveC1wYWNrOiBjZW50ZXI7XFxuICAgIC1tcy1mbGV4LXBhY2s6IGNlbnRlcjtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIH1cXG5cXG4gIC5lbmQtbGcge1xcbiAgICAtd2Via2l0LWJveC1wYWNrOiBlbmQ7XFxuICAgIC1tcy1mbGV4LXBhY2s6IGVuZDtcXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcXG4gICAgdGV4dC1hbGlnbjogZW5kO1xcbiAgfVxcblxcbiAgLnRvcC1sZyB7XFxuICAgIC13ZWJraXQtYm94LWFsaWduOiBzdGFydDtcXG4gICAgLW1zLWZsZXgtYWxpZ246IHN0YXJ0O1xcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcXG4gIH1cXG5cXG4gIC5taWRkbGUtbGcge1xcbiAgICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgfVxcblxcbiAgLmJvdHRvbS1sZyB7XFxuICAgIC13ZWJraXQtYm94LWFsaWduOiBlbmQ7XFxuICAgIC1tcy1mbGV4LWFsaWduOiBlbmQ7XFxuICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcXG4gIH1cXG5cXG4gIC5hcm91bmQtbGcge1xcbiAgICAtbXMtZmxleC1wYWNrOiBkaXN0cmlidXRlO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcXG4gIH1cXG5cXG4gIC5iZXR3ZWVuLWxnIHtcXG4gICAgLXdlYmtpdC1ib3gtcGFjazoganVzdGlmeTtcXG4gICAgLW1zLWZsZXgtcGFjazoganVzdGlmeTtcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgfVxcblxcbiAgLmZpcnN0LWxnIHtcXG4gICAgLXdlYmtpdC1ib3gtb3JkaW5hbC1ncm91cDogMDtcXG4gICAgLW1zLWZsZXgtb3JkZXI6IC0xO1xcbiAgICBvcmRlcjogLTE7XFxuICB9XFxuXFxuICAubGFzdC1sZyB7XFxuICAgIC13ZWJraXQtYm94LW9yZGluYWwtZ3JvdXA6IDI7XFxuICAgIC1tcy1mbGV4LW9yZGVyOiAxO1xcbiAgICBvcmRlcjogMTtcXG4gIH1cXG59XFxuXCI7IChyZXF1aXJlKFwiYnJvd3NlcmlmeS1jc3NcIikuY3JlYXRlU3R5bGUoY3NzLCB7IFwiaHJlZlwiOiBcImRlcGVuZGVuY2llc1xcXFxmbGV4Ym94Z3JpZFxcXFxmbGV4Ym94Z3JpZC5taW4uY3NzXCIgfSwgeyBcImluc2VydEF0XCI6IFwiYm90dG9tXCIgfSkpOyBtb2R1bGUuZXhwb3J0cyA9IGNzczsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGF0b2EgKGEsIG4pIHsgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEsIG4pOyB9XG4iLCIndXNlIHN0cmljdCc7XG4vLyBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBicm93c2VyIGZpZWxkLCBjaGVjayBvdXQgdGhlIGJyb3dzZXIgZmllbGQgYXQgaHR0cHM6Ly9naXRodWIuY29tL3N1YnN0YWNrL2Jyb3dzZXJpZnktaGFuZGJvb2sjYnJvd3Nlci1maWVsZC5cblxudmFyIHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhciBpbnNlcnRTdHlsZUVsZW1lbnQgPSBmdW5jdGlvbihzdHlsZUVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICB2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMuaW5zZXJ0QXQgPSBvcHRpb25zLmluc2VydEF0IHx8ICdib3R0b20nO1xuXG4gICAgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09ICd0b3AnKSB7XG4gICAgICAgIGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcbiAgICAgICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcbiAgICAgICAgfSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuICAgICAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AucHVzaChzdHlsZUVsZW1lbnQpO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyIFxcJ2luc2VydEF0XFwnLiBNdXN0IGJlIFxcJ3RvcFxcJyBvciBcXCdib3R0b21cXCcuJyk7XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgLy8gQ3JlYXRlIGEgPGxpbms+IHRhZyB3aXRoIG9wdGlvbmFsIGRhdGEgYXR0cmlidXRlc1xuICAgIGNyZWF0ZUxpbms6IGZ1bmN0aW9uKGhyZWYsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgdmFyIGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuXG4gICAgICAgIGxpbmsuaHJlZiA9IGhyZWY7XG4gICAgICAgIGxpbmsucmVsID0gJ3N0eWxlc2hlZXQnO1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoICEgYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGxpbmspO1xuICAgIH0sXG4gICAgLy8gQ3JlYXRlIGEgPHN0eWxlPiB0YWcgd2l0aCBvcHRpb25hbCBkYXRhIGF0dHJpYnV0ZXNcbiAgICBjcmVhdGVTdHlsZTogZnVuY3Rpb24oY3NzVGV4dCwgYXR0cmlidXRlcywgZXh0cmFPcHRpb25zKSB7XG4gICAgICAgIGV4dHJhT3B0aW9ucyA9IGV4dHJhT3B0aW9ucyB8fCB7fTtcblxuICAgICAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJztcblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKCAhIGF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZhbHVlID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHlsZS5zaGVldCkgeyAvLyBmb3IganNkb20gYW5kIElFOStcbiAgICAgICAgICAgIHN0eWxlLmlubmVySFRNTCA9IGNzc1RleHQ7XG4gICAgICAgICAgICBzdHlsZS5zaGVldC5jc3NUZXh0ID0gY3NzVGV4dDtcbiAgICAgICAgICAgIGluc2VydFN0eWxlRWxlbWVudChzdHlsZSwgeyBpbnNlcnRBdDogZXh0cmFPcHRpb25zLmluc2VydEF0IH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHsgLy8gZm9yIElFOCBhbmQgYmVsb3dcbiAgICAgICAgICAgIGluc2VydFN0eWxlRWxlbWVudChzdHlsZSwgeyBpbnNlcnRBdDogZXh0cmFPcHRpb25zLmluc2VydEF0IH0pO1xuICAgICAgICAgICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzVGV4dDtcbiAgICAgICAgfSBlbHNlIHsgLy8gZm9yIENocm9tZSwgRmlyZWZveCwgYW5kIFNhZmFyaVxuICAgICAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzVGV4dCkpO1xuICAgICAgICAgICAgaW5zZXJ0U3R5bGVFbGVtZW50KHN0eWxlLCB7IGluc2VydEF0OiBleHRyYU9wdGlvbnMuaW5zZXJ0QXQgfSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdGlja3kgPSByZXF1aXJlKCd0aWNreScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlYm91bmNlIChmbiwgYXJncywgY3R4KSB7XG4gIGlmICghZm4pIHsgcmV0dXJuOyB9XG4gIHRpY2t5KGZ1bmN0aW9uIHJ1biAoKSB7XG4gICAgZm4uYXBwbHkoY3R4IHx8IG51bGwsIGFyZ3MgfHwgW10pO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhdG9hID0gcmVxdWlyZSgnYXRvYScpO1xudmFyIGRlYm91bmNlID0gcmVxdWlyZSgnLi9kZWJvdW5jZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVtaXR0ZXIgKHRoaW5nLCBvcHRpb25zKSB7XG4gIHZhciBvcHRzID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIGV2dCA9IHt9O1xuICBpZiAodGhpbmcgPT09IHVuZGVmaW5lZCkgeyB0aGluZyA9IHt9OyB9XG4gIHRoaW5nLm9uID0gZnVuY3Rpb24gKHR5cGUsIGZuKSB7XG4gICAgaWYgKCFldnRbdHlwZV0pIHtcbiAgICAgIGV2dFt0eXBlXSA9IFtmbl07XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2dFt0eXBlXS5wdXNoKGZuKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaW5nO1xuICB9O1xuICB0aGluZy5vbmNlID0gZnVuY3Rpb24gKHR5cGUsIGZuKSB7XG4gICAgZm4uX29uY2UgPSB0cnVlOyAvLyB0aGluZy5vZmYoZm4pIHN0aWxsIHdvcmtzIVxuICAgIHRoaW5nLm9uKHR5cGUsIGZuKTtcbiAgICByZXR1cm4gdGhpbmc7XG4gIH07XG4gIHRoaW5nLm9mZiA9IGZ1bmN0aW9uICh0eXBlLCBmbikge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBpZiAoYyA9PT0gMSkge1xuICAgICAgZGVsZXRlIGV2dFt0eXBlXTtcbiAgICB9IGVsc2UgaWYgKGMgPT09IDApIHtcbiAgICAgIGV2dCA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZXQgPSBldnRbdHlwZV07XG4gICAgICBpZiAoIWV0KSB7IHJldHVybiB0aGluZzsgfVxuICAgICAgZXQuc3BsaWNlKGV0LmluZGV4T2YoZm4pLCAxKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaW5nO1xuICB9O1xuICB0aGluZy5lbWl0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gYXRvYShhcmd1bWVudHMpO1xuICAgIHJldHVybiB0aGluZy5lbWl0dGVyU25hcHNob3QoYXJncy5zaGlmdCgpKS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfTtcbiAgdGhpbmcuZW1pdHRlclNuYXBzaG90ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICB2YXIgZXQgPSAoZXZ0W3R5cGVdIHx8IFtdKS5zbGljZSgwKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhdG9hKGFyZ3VtZW50cyk7XG4gICAgICB2YXIgY3R4ID0gdGhpcyB8fCB0aGluZztcbiAgICAgIGlmICh0eXBlID09PSAnZXJyb3InICYmIG9wdHMudGhyb3dzICE9PSBmYWxzZSAmJiAhZXQubGVuZ3RoKSB7IHRocm93IGFyZ3MubGVuZ3RoID09PSAxID8gYXJnc1swXSA6IGFyZ3M7IH1cbiAgICAgIGV0LmZvckVhY2goZnVuY3Rpb24gZW1pdHRlciAobGlzdGVuKSB7XG4gICAgICAgIGlmIChvcHRzLmFzeW5jKSB7IGRlYm91bmNlKGxpc3RlbiwgYXJncywgY3R4KTsgfSBlbHNlIHsgbGlzdGVuLmFwcGx5KGN0eCwgYXJncyk7IH1cbiAgICAgICAgaWYgKGxpc3Rlbi5fb25jZSkgeyB0aGluZy5vZmYodHlwZSwgbGlzdGVuKTsgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpbmc7XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIHRoaW5nO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGN1c3RvbUV2ZW50ID0gcmVxdWlyZSgnY3VzdG9tLWV2ZW50Jyk7XG52YXIgZXZlbnRtYXAgPSByZXF1aXJlKCcuL2V2ZW50bWFwJyk7XG52YXIgZG9jID0gZ2xvYmFsLmRvY3VtZW50O1xudmFyIGFkZEV2ZW50ID0gYWRkRXZlbnRFYXN5O1xudmFyIHJlbW92ZUV2ZW50ID0gcmVtb3ZlRXZlbnRFYXN5O1xudmFyIGhhcmRDYWNoZSA9IFtdO1xuXG5pZiAoIWdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gIGFkZEV2ZW50ID0gYWRkRXZlbnRIYXJkO1xuICByZW1vdmVFdmVudCA9IHJlbW92ZUV2ZW50SGFyZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFkZDogYWRkRXZlbnQsXG4gIHJlbW92ZTogcmVtb3ZlRXZlbnQsXG4gIGZhYnJpY2F0ZTogZmFicmljYXRlRXZlbnRcbn07XG5cbmZ1bmN0aW9uIGFkZEV2ZW50RWFzeSAoZWwsIHR5cGUsIGZuLCBjYXB0dXJpbmcpIHtcbiAgcmV0dXJuIGVsLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZm4sIGNhcHR1cmluZyk7XG59XG5cbmZ1bmN0aW9uIGFkZEV2ZW50SGFyZCAoZWwsIHR5cGUsIGZuKSB7XG4gIHJldHVybiBlbC5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgd3JhcChlbCwgdHlwZSwgZm4pKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRFYXN5IChlbCwgdHlwZSwgZm4sIGNhcHR1cmluZykge1xuICByZXR1cm4gZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgY2FwdHVyaW5nKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRIYXJkIChlbCwgdHlwZSwgZm4pIHtcbiAgdmFyIGxpc3RlbmVyID0gdW53cmFwKGVsLCB0eXBlLCBmbik7XG4gIGlmIChsaXN0ZW5lcikge1xuICAgIHJldHVybiBlbC5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZhYnJpY2F0ZUV2ZW50IChlbCwgdHlwZSwgbW9kZWwpIHtcbiAgdmFyIGUgPSBldmVudG1hcC5pbmRleE9mKHR5cGUpID09PSAtMSA/IG1ha2VDdXN0b21FdmVudCgpIDogbWFrZUNsYXNzaWNFdmVudCgpO1xuICBpZiAoZWwuZGlzcGF0Y2hFdmVudCkge1xuICAgIGVsLmRpc3BhdGNoRXZlbnQoZSk7XG4gIH0gZWxzZSB7XG4gICAgZWwuZmlyZUV2ZW50KCdvbicgKyB0eXBlLCBlKTtcbiAgfVxuICBmdW5jdGlvbiBtYWtlQ2xhc3NpY0V2ZW50ICgpIHtcbiAgICB2YXIgZTtcbiAgICBpZiAoZG9jLmNyZWF0ZUV2ZW50KSB7XG4gICAgICBlID0gZG9jLmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgZS5pbml0RXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmIChkb2MuY3JlYXRlRXZlbnRPYmplY3QpIHtcbiAgICAgIGUgPSBkb2MuY3JlYXRlRXZlbnRPYmplY3QoKTtcbiAgICB9XG4gICAgcmV0dXJuIGU7XG4gIH1cbiAgZnVuY3Rpb24gbWFrZUN1c3RvbUV2ZW50ICgpIHtcbiAgICByZXR1cm4gbmV3IGN1c3RvbUV2ZW50KHR5cGUsIHsgZGV0YWlsOiBtb2RlbCB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3cmFwcGVyRmFjdG9yeSAoZWwsIHR5cGUsIGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwcGVyIChvcmlnaW5hbEV2ZW50KSB7XG4gICAgdmFyIGUgPSBvcmlnaW5hbEV2ZW50IHx8IGdsb2JhbC5ldmVudDtcbiAgICBlLnRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcbiAgICBlLnByZXZlbnREZWZhdWx0ID0gZS5wcmV2ZW50RGVmYXVsdCB8fCBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCAoKSB7IGUucmV0dXJuVmFsdWUgPSBmYWxzZTsgfTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IGUuc3RvcFByb3BhZ2F0aW9uIHx8IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbiAoKSB7IGUuY2FuY2VsQnViYmxlID0gdHJ1ZTsgfTtcbiAgICBlLndoaWNoID0gZS53aGljaCB8fCBlLmtleUNvZGU7XG4gICAgZm4uY2FsbChlbCwgZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHdyYXAgKGVsLCB0eXBlLCBmbikge1xuICB2YXIgd3JhcHBlciA9IHVud3JhcChlbCwgdHlwZSwgZm4pIHx8IHdyYXBwZXJGYWN0b3J5KGVsLCB0eXBlLCBmbik7XG4gIGhhcmRDYWNoZS5wdXNoKHtcbiAgICB3cmFwcGVyOiB3cmFwcGVyLFxuICAgIGVsZW1lbnQ6IGVsLFxuICAgIHR5cGU6IHR5cGUsXG4gICAgZm46IGZuXG4gIH0pO1xuICByZXR1cm4gd3JhcHBlcjtcbn1cblxuZnVuY3Rpb24gdW53cmFwIChlbCwgdHlwZSwgZm4pIHtcbiAgdmFyIGkgPSBmaW5kKGVsLCB0eXBlLCBmbik7XG4gIGlmIChpKSB7XG4gICAgdmFyIHdyYXBwZXIgPSBoYXJkQ2FjaGVbaV0ud3JhcHBlcjtcbiAgICBoYXJkQ2FjaGUuc3BsaWNlKGksIDEpOyAvLyBmcmVlIHVwIGEgdGFkIG9mIG1lbW9yeVxuICAgIHJldHVybiB3cmFwcGVyO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmQgKGVsLCB0eXBlLCBmbikge1xuICB2YXIgaSwgaXRlbTtcbiAgZm9yIChpID0gMDsgaSA8IGhhcmRDYWNoZS5sZW5ndGg7IGkrKykge1xuICAgIGl0ZW0gPSBoYXJkQ2FjaGVbaV07XG4gICAgaWYgKGl0ZW0uZWxlbWVudCA9PT0gZWwgJiYgaXRlbS50eXBlID09PSB0eXBlICYmIGl0ZW0uZm4gPT09IGZuKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGV2ZW50bWFwID0gW107XG52YXIgZXZlbnRuYW1lID0gJyc7XG52YXIgcm9uID0gL15vbi87XG5cbmZvciAoZXZlbnRuYW1lIGluIGdsb2JhbCkge1xuICBpZiAocm9uLnRlc3QoZXZlbnRuYW1lKSkge1xuICAgIGV2ZW50bWFwLnB1c2goZXZlbnRuYW1lLnNsaWNlKDIpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV2ZW50bWFwO1xuIiwiXG52YXIgTmF0aXZlQ3VzdG9tRXZlbnQgPSBnbG9iYWwuQ3VzdG9tRXZlbnQ7XG5cbmZ1bmN0aW9uIHVzZU5hdGl2ZSAoKSB7XG4gIHRyeSB7XG4gICAgdmFyIHAgPSBuZXcgTmF0aXZlQ3VzdG9tRXZlbnQoJ2NhdCcsIHsgZGV0YWlsOiB7IGZvbzogJ2JhcicgfSB9KTtcbiAgICByZXR1cm4gICdjYXQnID09PSBwLnR5cGUgJiYgJ2JhcicgPT09IHAuZGV0YWlsLmZvbztcbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDcm9zcy1icm93c2VyIGBDdXN0b21FdmVudGAgY29uc3RydWN0b3IuXG4gKlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50LkN1c3RvbUV2ZW50XG4gKlxuICogQHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gdXNlTmF0aXZlKCkgPyBOYXRpdmVDdXN0b21FdmVudCA6XG5cbi8vIElFID49IDlcbidmdW5jdGlvbicgPT09IHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFdmVudCA/IGZ1bmN0aW9uIEN1c3RvbUV2ZW50ICh0eXBlLCBwYXJhbXMpIHtcbiAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgaWYgKHBhcmFtcykge1xuICAgIGUuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIHBhcmFtcy5idWJibGVzLCBwYXJhbXMuY2FuY2VsYWJsZSwgcGFyYW1zLmRldGFpbCk7XG4gIH0gZWxzZSB7XG4gICAgZS5pbml0Q3VzdG9tRXZlbnQodHlwZSwgZmFsc2UsIGZhbHNlLCB2b2lkIDApO1xuICB9XG4gIHJldHVybiBlO1xufSA6XG5cbi8vIElFIDw9IDhcbmZ1bmN0aW9uIEN1c3RvbUV2ZW50ICh0eXBlLCBwYXJhbXMpIHtcbiAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpO1xuICBlLnR5cGUgPSB0eXBlO1xuICBpZiAocGFyYW1zKSB7XG4gICAgZS5idWJibGVzID0gQm9vbGVhbihwYXJhbXMuYnViYmxlcyk7XG4gICAgZS5jYW5jZWxhYmxlID0gQm9vbGVhbihwYXJhbXMuY2FuY2VsYWJsZSk7XG4gICAgZS5kZXRhaWwgPSBwYXJhbXMuZGV0YWlsO1xuICB9IGVsc2Uge1xuICAgIGUuYnViYmxlcyA9IGZhbHNlO1xuICAgIGUuY2FuY2VsYWJsZSA9IGZhbHNlO1xuICAgIGUuZGV0YWlsID0gdm9pZCAwO1xuICB9XG4gIHJldHVybiBlO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FjaGUgPSB7fTtcbnZhciBzdGFydCA9ICcoPzpefFxcXFxzKSc7XG52YXIgZW5kID0gJyg/OlxcXFxzfCQpJztcblxuZnVuY3Rpb24gbG9va3VwQ2xhc3MgKGNsYXNzTmFtZSkge1xuICB2YXIgY2FjaGVkID0gY2FjaGVbY2xhc3NOYW1lXTtcbiAgaWYgKGNhY2hlZCkge1xuICAgIGNhY2hlZC5sYXN0SW5kZXggPSAwO1xuICB9IGVsc2Uge1xuICAgIGNhY2hlW2NsYXNzTmFtZV0gPSBjYWNoZWQgPSBuZXcgUmVnRXhwKHN0YXJ0ICsgY2xhc3NOYW1lICsgZW5kLCAnZycpO1xuICB9XG4gIHJldHVybiBjYWNoZWQ7XG59XG5cbmZ1bmN0aW9uIGFkZENsYXNzIChlbCwgY2xhc3NOYW1lKSB7XG4gIHZhciBjdXJyZW50ID0gZWwuY2xhc3NOYW1lO1xuICBpZiAoIWN1cnJlbnQubGVuZ3RoKSB7XG4gICAgZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICB9IGVsc2UgaWYgKCFsb29rdXBDbGFzcyhjbGFzc05hbWUpLnRlc3QoY3VycmVudCkpIHtcbiAgICBlbC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJtQ2xhc3MgKGVsLCBjbGFzc05hbWUpIHtcbiAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UobG9va3VwQ2xhc3MoY2xhc3NOYW1lKSwgJyAnKS50cmltKCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhZGQ6IGFkZENsYXNzLFxuICBybTogcm1DbGFzc1xufTtcbiIsInZhciBjc3MgPSBcIi5ndS1taXJyb3Ige1xcbiAgcG9zaXRpb246IGZpeGVkIWltcG9ydGFudDtcXG4gIG1hcmdpbjogMCFpbXBvcnRhbnQ7XFxuICB6LWluZGV4OiA5OTk5IWltcG9ydGFudDtcXG4gIG9wYWNpdHk6IC44O1xcbiAgLW1zLWZpbHRlcjogXFxcInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShPcGFjaXR5PTgwKVxcXCI7XFxuICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9ODApO1xcbn1cXG4uZ3UtaGlkZSB7XFxuICBkaXNwbGF5OiBub25lIWltcG9ydGFudDtcXG59XFxuLmd1LXVuc2VsZWN0YWJsZSB7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lIWltcG9ydGFudDtcXG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmUhaW1wb3J0YW50O1xcbiAgLW1zLXVzZXItc2VsZWN0OiBub25lIWltcG9ydGFudDtcXG4gIHVzZXItc2VsZWN0OiBub25lIWltcG9ydGFudDtcXG59XFxuLmd1LXRyYW5zaXQge1xcbiAgb3BhY2l0eTogLjI7XFxuICAtbXMtZmlsdGVyOiBcXFwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhKE9wYWNpdHk9MjApXFxcIjtcXG4gIGZpbHRlcjogYWxwaGEob3BhY2l0eT0yMCk7XFxufVxcblwiOyAocmVxdWlyZShcImJyb3dzZXJpZnktY3NzXCIpLmNyZWF0ZVN0eWxlKGNzcywgeyBcImhyZWZcIjogXCJub2RlX21vZHVsZXNcXFxcZHJhZ3VsYVxcXFxkaXN0XFxcXGRyYWd1bGEubWluLmNzc1wiIH0sIHsgXCJpbnNlcnRBdFwiOiBcImJvdHRvbVwiIH0pKTsgbW9kdWxlLmV4cG9ydHMgPSBjc3M7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW1pdHRlciA9IHJlcXVpcmUoJ2NvbnRyYS9lbWl0dGVyJyk7XG52YXIgY3Jvc3N2ZW50ID0gcmVxdWlyZSgnY3Jvc3N2ZW50Jyk7XG52YXIgY2xhc3NlcyA9IHJlcXVpcmUoJy4vY2xhc3NlcycpO1xudmFyIGRvYyA9IGRvY3VtZW50O1xudmFyIGRvY3VtZW50RWxlbWVudCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG5cbmZ1bmN0aW9uIGRyYWd1bGEgKGluaXRpYWxDb250YWluZXJzLCBvcHRpb25zKSB7XG4gIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICBpZiAobGVuID09PSAxICYmIEFycmF5LmlzQXJyYXkoaW5pdGlhbENvbnRhaW5lcnMpID09PSBmYWxzZSkge1xuICAgIG9wdGlvbnMgPSBpbml0aWFsQ29udGFpbmVycztcbiAgICBpbml0aWFsQ29udGFpbmVycyA9IFtdO1xuICB9XG4gIHZhciBfbWlycm9yOyAvLyBtaXJyb3IgaW1hZ2VcbiAgdmFyIF9zb3VyY2U7IC8vIHNvdXJjZSBjb250YWluZXJcbiAgdmFyIF9pdGVtOyAvLyBpdGVtIGJlaW5nIGRyYWdnZWRcbiAgdmFyIF9vZmZzZXRYOyAvLyByZWZlcmVuY2UgeFxuICB2YXIgX29mZnNldFk7IC8vIHJlZmVyZW5jZSB5XG4gIHZhciBfbW92ZVg7IC8vIHJlZmVyZW5jZSBtb3ZlIHhcbiAgdmFyIF9tb3ZlWTsgLy8gcmVmZXJlbmNlIG1vdmUgeVxuICB2YXIgX2luaXRpYWxTaWJsaW5nOyAvLyByZWZlcmVuY2Ugc2libGluZyB3aGVuIGdyYWJiZWRcbiAgdmFyIF9jdXJyZW50U2libGluZzsgLy8gcmVmZXJlbmNlIHNpYmxpbmcgbm93XG4gIHZhciBfY29weTsgLy8gaXRlbSB1c2VkIGZvciBjb3B5aW5nXG4gIHZhciBfcmVuZGVyVGltZXI7IC8vIHRpbWVyIGZvciBzZXRUaW1lb3V0IHJlbmRlck1pcnJvckltYWdlXG4gIHZhciBfbGFzdERyb3BUYXJnZXQgPSBudWxsOyAvLyBsYXN0IGNvbnRhaW5lciBpdGVtIHdhcyBvdmVyXG4gIHZhciBfZ3JhYmJlZDsgLy8gaG9sZHMgbW91c2Vkb3duIGNvbnRleHQgdW50aWwgZmlyc3QgbW91c2Vtb3ZlXG5cbiAgdmFyIG8gPSBvcHRpb25zIHx8IHt9O1xuICBpZiAoby5tb3ZlcyA9PT0gdm9pZCAwKSB7IG8ubW92ZXMgPSBhbHdheXM7IH1cbiAgaWYgKG8uYWNjZXB0cyA9PT0gdm9pZCAwKSB7IG8uYWNjZXB0cyA9IGFsd2F5czsgfVxuICBpZiAoby5pbnZhbGlkID09PSB2b2lkIDApIHsgby5pbnZhbGlkID0gaW52YWxpZFRhcmdldDsgfVxuICBpZiAoby5jb250YWluZXJzID09PSB2b2lkIDApIHsgby5jb250YWluZXJzID0gaW5pdGlhbENvbnRhaW5lcnMgfHwgW107IH1cbiAgaWYgKG8uaXNDb250YWluZXIgPT09IHZvaWQgMCkgeyBvLmlzQ29udGFpbmVyID0gbmV2ZXI7IH1cbiAgaWYgKG8uY29weSA9PT0gdm9pZCAwKSB7IG8uY29weSA9IGZhbHNlOyB9XG4gIGlmIChvLmNvcHlTb3J0U291cmNlID09PSB2b2lkIDApIHsgby5jb3B5U29ydFNvdXJjZSA9IGZhbHNlOyB9XG4gIGlmIChvLnJldmVydE9uU3BpbGwgPT09IHZvaWQgMCkgeyBvLnJldmVydE9uU3BpbGwgPSBmYWxzZTsgfVxuICBpZiAoby5yZW1vdmVPblNwaWxsID09PSB2b2lkIDApIHsgby5yZW1vdmVPblNwaWxsID0gZmFsc2U7IH1cbiAgaWYgKG8uZGlyZWN0aW9uID09PSB2b2lkIDApIHsgby5kaXJlY3Rpb24gPSAndmVydGljYWwnOyB9XG4gIGlmIChvLmlnbm9yZUlucHV0VGV4dFNlbGVjdGlvbiA9PT0gdm9pZCAwKSB7IG8uaWdub3JlSW5wdXRUZXh0U2VsZWN0aW9uID0gdHJ1ZTsgfVxuICBpZiAoby5taXJyb3JDb250YWluZXIgPT09IHZvaWQgMCkgeyBvLm1pcnJvckNvbnRhaW5lciA9IGRvYy5ib2R5OyB9XG5cbiAgdmFyIGRyYWtlID0gZW1pdHRlcih7XG4gICAgY29udGFpbmVyczogby5jb250YWluZXJzLFxuICAgIHN0YXJ0OiBtYW51YWxTdGFydCxcbiAgICBlbmQ6IGVuZCxcbiAgICBjYW5jZWw6IGNhbmNlbCxcbiAgICByZW1vdmU6IHJlbW92ZSxcbiAgICBkZXN0cm95OiBkZXN0cm95LFxuICAgIGNhbk1vdmU6IGNhbk1vdmUsXG4gICAgZHJhZ2dpbmc6IGZhbHNlXG4gIH0pO1xuXG4gIGlmIChvLnJlbW92ZU9uU3BpbGwgPT09IHRydWUpIHtcbiAgICBkcmFrZS5vbignb3ZlcicsIHNwaWxsT3Zlcikub24oJ291dCcsIHNwaWxsT3V0KTtcbiAgfVxuXG4gIGV2ZW50cygpO1xuXG4gIHJldHVybiBkcmFrZTtcblxuICBmdW5jdGlvbiBpc0NvbnRhaW5lciAoZWwpIHtcbiAgICByZXR1cm4gZHJha2UuY29udGFpbmVycy5pbmRleE9mKGVsKSAhPT0gLTEgfHwgby5pc0NvbnRhaW5lcihlbCk7XG4gIH1cblxuICBmdW5jdGlvbiBldmVudHMgKHJlbW92ZSkge1xuICAgIHZhciBvcCA9IHJlbW92ZSA/ICdyZW1vdmUnIDogJ2FkZCc7XG4gICAgdG91Y2h5KGRvY3VtZW50RWxlbWVudCwgb3AsICdtb3VzZWRvd24nLCBncmFiKTtcbiAgICB0b3VjaHkoZG9jdW1lbnRFbGVtZW50LCBvcCwgJ21vdXNldXAnLCByZWxlYXNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV2ZW50dWFsTW92ZW1lbnRzIChyZW1vdmUpIHtcbiAgICB2YXIgb3AgPSByZW1vdmUgPyAncmVtb3ZlJyA6ICdhZGQnO1xuICAgIHRvdWNoeShkb2N1bWVudEVsZW1lbnQsIG9wLCAnbW91c2Vtb3ZlJywgc3RhcnRCZWNhdXNlTW91c2VNb3ZlZCk7XG4gIH1cblxuICBmdW5jdGlvbiBtb3ZlbWVudHMgKHJlbW92ZSkge1xuICAgIHZhciBvcCA9IHJlbW92ZSA/ICdyZW1vdmUnIDogJ2FkZCc7XG4gICAgY3Jvc3N2ZW50W29wXShkb2N1bWVudEVsZW1lbnQsICdzZWxlY3RzdGFydCcsIHByZXZlbnRHcmFiYmVkKTsgLy8gSUU4XG4gICAgY3Jvc3N2ZW50W29wXShkb2N1bWVudEVsZW1lbnQsICdjbGljaycsIHByZXZlbnRHcmFiYmVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3kgKCkge1xuICAgIGV2ZW50cyh0cnVlKTtcbiAgICByZWxlYXNlKHt9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZXZlbnRHcmFiYmVkIChlKSB7XG4gICAgaWYgKF9ncmFiYmVkKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ3JhYiAoZSkge1xuICAgIF9tb3ZlWCA9IGUuY2xpZW50WDtcbiAgICBfbW92ZVkgPSBlLmNsaWVudFk7XG5cbiAgICB2YXIgaWdub3JlID0gd2hpY2hNb3VzZUJ1dHRvbihlKSAhPT0gMSB8fCBlLm1ldGFLZXkgfHwgZS5jdHJsS2V5O1xuICAgIGlmIChpZ25vcmUpIHtcbiAgICAgIHJldHVybjsgLy8gd2Ugb25seSBjYXJlIGFib3V0IGhvbmVzdC10by1nb2QgbGVmdCBjbGlja3MgYW5kIHRvdWNoIGV2ZW50c1xuICAgIH1cbiAgICB2YXIgaXRlbSA9IGUudGFyZ2V0O1xuICAgIHZhciBjb250ZXh0ID0gY2FuU3RhcnQoaXRlbSk7XG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9ncmFiYmVkID0gY29udGV4dDtcbiAgICBldmVudHVhbE1vdmVtZW50cygpO1xuICAgIGlmIChlLnR5cGUgPT09ICdtb3VzZWRvd24nKSB7XG4gICAgICBpZiAoaXNJbnB1dChpdGVtKSkgeyAvLyBzZWUgYWxzbzogaHR0cHM6Ly9naXRodWIuY29tL2JldmFjcXVhL2RyYWd1bGEvaXNzdWVzLzIwOFxuICAgICAgICBpdGVtLmZvY3VzKCk7IC8vIGZpeGVzIGh0dHBzOi8vZ2l0aHViLmNvbS9iZXZhY3F1YS9kcmFndWxhL2lzc3Vlcy8xNzZcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gZml4ZXMgaHR0cHM6Ly9naXRodWIuY29tL2JldmFjcXVhL2RyYWd1bGEvaXNzdWVzLzE1NVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0QmVjYXVzZU1vdXNlTW92ZWQgKGUpIHtcbiAgICBpZiAoIV9ncmFiYmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh3aGljaE1vdXNlQnV0dG9uKGUpID09PSAwKSB7XG4gICAgICByZWxlYXNlKHt9KTtcbiAgICAgIHJldHVybjsgLy8gd2hlbiB0ZXh0IGlzIHNlbGVjdGVkIG9uIGFuIGlucHV0IGFuZCB0aGVuIGRyYWdnZWQsIG1vdXNldXAgZG9lc24ndCBmaXJlLiB0aGlzIGlzIG91ciBvbmx5IGhvcGVcbiAgICB9XG4gICAgLy8gdHJ1dGh5IGNoZWNrIGZpeGVzICMyMzksIGVxdWFsaXR5IGZpeGVzICMyMDdcbiAgICBpZiAoZS5jbGllbnRYICE9PSB2b2lkIDAgJiYgZS5jbGllbnRYID09PSBfbW92ZVggJiYgZS5jbGllbnRZICE9PSB2b2lkIDAgJiYgZS5jbGllbnRZID09PSBfbW92ZVkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG8uaWdub3JlSW5wdXRUZXh0U2VsZWN0aW9uKSB7XG4gICAgICB2YXIgY2xpZW50WCA9IGdldENvb3JkKCdjbGllbnRYJywgZSk7XG4gICAgICB2YXIgY2xpZW50WSA9IGdldENvb3JkKCdjbGllbnRZJywgZSk7XG4gICAgICB2YXIgZWxlbWVudEJlaGluZEN1cnNvciA9IGRvYy5lbGVtZW50RnJvbVBvaW50KGNsaWVudFgsIGNsaWVudFkpO1xuICAgICAgaWYgKGlzSW5wdXQoZWxlbWVudEJlaGluZEN1cnNvcikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBncmFiYmVkID0gX2dyYWJiZWQ7IC8vIGNhbGwgdG8gZW5kKCkgdW5zZXRzIF9ncmFiYmVkXG4gICAgZXZlbnR1YWxNb3ZlbWVudHModHJ1ZSk7XG4gICAgbW92ZW1lbnRzKCk7XG4gICAgZW5kKCk7XG4gICAgc3RhcnQoZ3JhYmJlZCk7XG5cbiAgICB2YXIgb2Zmc2V0ID0gZ2V0T2Zmc2V0KF9pdGVtKTtcbiAgICBfb2Zmc2V0WCA9IGdldENvb3JkKCdwYWdlWCcsIGUpIC0gb2Zmc2V0LmxlZnQ7XG4gICAgX29mZnNldFkgPSBnZXRDb29yZCgncGFnZVknLCBlKSAtIG9mZnNldC50b3A7XG5cbiAgICBjbGFzc2VzLmFkZChfY29weSB8fCBfaXRlbSwgJ2d1LXRyYW5zaXQnKTtcbiAgICByZW5kZXJNaXJyb3JJbWFnZSgpO1xuICAgIGRyYWcoZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5TdGFydCAoaXRlbSkge1xuICAgIGlmIChkcmFrZS5kcmFnZ2luZyAmJiBfbWlycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0NvbnRhaW5lcihpdGVtKSkge1xuICAgICAgcmV0dXJuOyAvLyBkb24ndCBkcmFnIGNvbnRhaW5lciBpdHNlbGZcbiAgICB9XG4gICAgdmFyIGhhbmRsZSA9IGl0ZW07XG4gICAgd2hpbGUgKGdldFBhcmVudChpdGVtKSAmJiBpc0NvbnRhaW5lcihnZXRQYXJlbnQoaXRlbSkpID09PSBmYWxzZSkge1xuICAgICAgaWYgKG8uaW52YWxpZChpdGVtLCBoYW5kbGUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW0gPSBnZXRQYXJlbnQoaXRlbSk7IC8vIGRyYWcgdGFyZ2V0IHNob3VsZCBiZSBhIHRvcCBlbGVtZW50XG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgc291cmNlID0gZ2V0UGFyZW50KGl0ZW0pO1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvLmludmFsaWQoaXRlbSwgaGFuZGxlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBtb3ZhYmxlID0gby5tb3ZlcyhpdGVtLCBzb3VyY2UsIGhhbmRsZSwgbmV4dEVsKGl0ZW0pKTtcbiAgICBpZiAoIW1vdmFibGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXRlbTogaXRlbSxcbiAgICAgIHNvdXJjZTogc291cmNlXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbk1vdmUgKGl0ZW0pIHtcbiAgICByZXR1cm4gISFjYW5TdGFydChpdGVtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1hbnVhbFN0YXJ0IChpdGVtKSB7XG4gICAgdmFyIGNvbnRleHQgPSBjYW5TdGFydChpdGVtKTtcbiAgICBpZiAoY29udGV4dCkge1xuICAgICAgc3RhcnQoY29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnQgKGNvbnRleHQpIHtcbiAgICBpZiAoaXNDb3B5KGNvbnRleHQuaXRlbSwgY29udGV4dC5zb3VyY2UpKSB7XG4gICAgICBfY29weSA9IGNvbnRleHQuaXRlbS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBkcmFrZS5lbWl0KCdjbG9uZWQnLCBfY29weSwgY29udGV4dC5pdGVtLCAnY29weScpO1xuICAgIH1cblxuICAgIF9zb3VyY2UgPSBjb250ZXh0LnNvdXJjZTtcbiAgICBfaXRlbSA9IGNvbnRleHQuaXRlbTtcbiAgICBfaW5pdGlhbFNpYmxpbmcgPSBfY3VycmVudFNpYmxpbmcgPSBuZXh0RWwoY29udGV4dC5pdGVtKTtcblxuICAgIGRyYWtlLmRyYWdnaW5nID0gdHJ1ZTtcbiAgICBkcmFrZS5lbWl0KCdkcmFnJywgX2l0ZW0sIF9zb3VyY2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW52YWxpZFRhcmdldCAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kICgpIHtcbiAgICBpZiAoIWRyYWtlLmRyYWdnaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpdGVtID0gX2NvcHkgfHwgX2l0ZW07XG4gICAgZHJvcChpdGVtLCBnZXRQYXJlbnQoaXRlbSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdW5ncmFiICgpIHtcbiAgICBfZ3JhYmJlZCA9IGZhbHNlO1xuICAgIGV2ZW50dWFsTW92ZW1lbnRzKHRydWUpO1xuICAgIG1vdmVtZW50cyh0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbGVhc2UgKGUpIHtcbiAgICB1bmdyYWIoKTtcblxuICAgIGlmICghZHJha2UuZHJhZ2dpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGl0ZW0gPSBfY29weSB8fCBfaXRlbTtcbiAgICB2YXIgY2xpZW50WCA9IGdldENvb3JkKCdjbGllbnRYJywgZSk7XG4gICAgdmFyIGNsaWVudFkgPSBnZXRDb29yZCgnY2xpZW50WScsIGUpO1xuICAgIHZhciBlbGVtZW50QmVoaW5kQ3Vyc29yID0gZ2V0RWxlbWVudEJlaGluZFBvaW50KF9taXJyb3IsIGNsaWVudFgsIGNsaWVudFkpO1xuICAgIHZhciBkcm9wVGFyZ2V0ID0gZmluZERyb3BUYXJnZXQoZWxlbWVudEJlaGluZEN1cnNvciwgY2xpZW50WCwgY2xpZW50WSk7XG4gICAgaWYgKGRyb3BUYXJnZXQgJiYgKChfY29weSAmJiBvLmNvcHlTb3J0U291cmNlKSB8fCAoIV9jb3B5IHx8IGRyb3BUYXJnZXQgIT09IF9zb3VyY2UpKSkge1xuICAgICAgZHJvcChpdGVtLCBkcm9wVGFyZ2V0KTtcbiAgICB9IGVsc2UgaWYgKG8ucmVtb3ZlT25TcGlsbCkge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbmNlbCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRyb3AgKGl0ZW0sIHRhcmdldCkge1xuICAgIHZhciBwYXJlbnQgPSBnZXRQYXJlbnQoaXRlbSk7XG4gICAgaWYgKF9jb3B5ICYmIG8uY29weVNvcnRTb3VyY2UgJiYgdGFyZ2V0ID09PSBfc291cmNlKSB7XG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoX2l0ZW0pO1xuICAgIH1cbiAgICBpZiAoaXNJbml0aWFsUGxhY2VtZW50KHRhcmdldCkpIHtcbiAgICAgIGRyYWtlLmVtaXQoJ2NhbmNlbCcsIGl0ZW0sIF9zb3VyY2UsIF9zb3VyY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkcmFrZS5lbWl0KCdkcm9wJywgaXRlbSwgdGFyZ2V0LCBfc291cmNlLCBfY3VycmVudFNpYmxpbmcpO1xuICAgIH1cbiAgICBjbGVhbnVwKCk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmUgKCkge1xuICAgIGlmICghZHJha2UuZHJhZ2dpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGl0ZW0gPSBfY29weSB8fCBfaXRlbTtcbiAgICB2YXIgcGFyZW50ID0gZ2V0UGFyZW50KGl0ZW0pO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChpdGVtKTtcbiAgICB9XG4gICAgZHJha2UuZW1pdChfY29weSA/ICdjYW5jZWwnIDogJ3JlbW92ZScsIGl0ZW0sIHBhcmVudCwgX3NvdXJjZSk7XG4gICAgY2xlYW51cCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsIChyZXZlcnQpIHtcbiAgICBpZiAoIWRyYWtlLmRyYWdnaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciByZXZlcnRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgPyByZXZlcnQgOiBvLnJldmVydE9uU3BpbGw7XG4gICAgdmFyIGl0ZW0gPSBfY29weSB8fCBfaXRlbTtcbiAgICB2YXIgcGFyZW50ID0gZ2V0UGFyZW50KGl0ZW0pO1xuICAgIHZhciBpbml0aWFsID0gaXNJbml0aWFsUGxhY2VtZW50KHBhcmVudCk7XG4gICAgaWYgKGluaXRpYWwgPT09IGZhbHNlICYmIHJldmVydHMpIHtcbiAgICAgIGlmIChfY29weSkge1xuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKF9jb3B5KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3NvdXJjZS5pbnNlcnRCZWZvcmUoaXRlbSwgX2luaXRpYWxTaWJsaW5nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluaXRpYWwgfHwgcmV2ZXJ0cykge1xuICAgICAgZHJha2UuZW1pdCgnY2FuY2VsJywgaXRlbSwgX3NvdXJjZSwgX3NvdXJjZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRyYWtlLmVtaXQoJ2Ryb3AnLCBpdGVtLCBwYXJlbnQsIF9zb3VyY2UsIF9jdXJyZW50U2libGluZyk7XG4gICAgfVxuICAgIGNsZWFudXAoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFudXAgKCkge1xuICAgIHZhciBpdGVtID0gX2NvcHkgfHwgX2l0ZW07XG4gICAgdW5ncmFiKCk7XG4gICAgcmVtb3ZlTWlycm9ySW1hZ2UoKTtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgY2xhc3Nlcy5ybShpdGVtLCAnZ3UtdHJhbnNpdCcpO1xuICAgIH1cbiAgICBpZiAoX3JlbmRlclRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQoX3JlbmRlclRpbWVyKTtcbiAgICB9XG4gICAgZHJha2UuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICBpZiAoX2xhc3REcm9wVGFyZ2V0KSB7XG4gICAgICBkcmFrZS5lbWl0KCdvdXQnLCBpdGVtLCBfbGFzdERyb3BUYXJnZXQsIF9zb3VyY2UpO1xuICAgIH1cbiAgICBkcmFrZS5lbWl0KCdkcmFnZW5kJywgaXRlbSk7XG4gICAgX3NvdXJjZSA9IF9pdGVtID0gX2NvcHkgPSBfaW5pdGlhbFNpYmxpbmcgPSBfY3VycmVudFNpYmxpbmcgPSBfcmVuZGVyVGltZXIgPSBfbGFzdERyb3BUYXJnZXQgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNJbml0aWFsUGxhY2VtZW50ICh0YXJnZXQsIHMpIHtcbiAgICB2YXIgc2libGluZztcbiAgICBpZiAocyAhPT0gdm9pZCAwKSB7XG4gICAgICBzaWJsaW5nID0gcztcbiAgICB9IGVsc2UgaWYgKF9taXJyb3IpIHtcbiAgICAgIHNpYmxpbmcgPSBfY3VycmVudFNpYmxpbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNpYmxpbmcgPSBuZXh0RWwoX2NvcHkgfHwgX2l0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0ID09PSBfc291cmNlICYmIHNpYmxpbmcgPT09IF9pbml0aWFsU2libGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmREcm9wVGFyZ2V0IChlbGVtZW50QmVoaW5kQ3Vyc29yLCBjbGllbnRYLCBjbGllbnRZKSB7XG4gICAgdmFyIHRhcmdldCA9IGVsZW1lbnRCZWhpbmRDdXJzb3I7XG4gICAgd2hpbGUgKHRhcmdldCAmJiAhYWNjZXB0ZWQoKSkge1xuICAgICAgdGFyZ2V0ID0gZ2V0UGFyZW50KHRhcmdldCk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG5cbiAgICBmdW5jdGlvbiBhY2NlcHRlZCAoKSB7XG4gICAgICB2YXIgZHJvcHBhYmxlID0gaXNDb250YWluZXIodGFyZ2V0KTtcbiAgICAgIGlmIChkcm9wcGFibGUgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGltbWVkaWF0ZSA9IGdldEltbWVkaWF0ZUNoaWxkKHRhcmdldCwgZWxlbWVudEJlaGluZEN1cnNvcik7XG4gICAgICB2YXIgcmVmZXJlbmNlID0gZ2V0UmVmZXJlbmNlKHRhcmdldCwgaW1tZWRpYXRlLCBjbGllbnRYLCBjbGllbnRZKTtcbiAgICAgIHZhciBpbml0aWFsID0gaXNJbml0aWFsUGxhY2VtZW50KHRhcmdldCwgcmVmZXJlbmNlKTtcbiAgICAgIGlmIChpbml0aWFsKSB7XG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBzaG91bGQgYWx3YXlzIGJlIGFibGUgdG8gZHJvcCBpdCByaWdodCBiYWNrIHdoZXJlIGl0IHdhc1xuICAgICAgfVxuICAgICAgcmV0dXJuIG8uYWNjZXB0cyhfaXRlbSwgdGFyZ2V0LCBfc291cmNlLCByZWZlcmVuY2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYWcgKGUpIHtcbiAgICBpZiAoIV9taXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgdmFyIGNsaWVudFggPSBnZXRDb29yZCgnY2xpZW50WCcsIGUpO1xuICAgIHZhciBjbGllbnRZID0gZ2V0Q29vcmQoJ2NsaWVudFknLCBlKTtcbiAgICB2YXIgeCA9IGNsaWVudFggLSBfb2Zmc2V0WDtcbiAgICB2YXIgeSA9IGNsaWVudFkgLSBfb2Zmc2V0WTtcblxuICAgIF9taXJyb3Iuc3R5bGUubGVmdCA9IHggKyAncHgnO1xuICAgIF9taXJyb3Iuc3R5bGUudG9wID0geSArICdweCc7XG5cbiAgICB2YXIgaXRlbSA9IF9jb3B5IHx8IF9pdGVtO1xuICAgIHZhciBlbGVtZW50QmVoaW5kQ3Vyc29yID0gZ2V0RWxlbWVudEJlaGluZFBvaW50KF9taXJyb3IsIGNsaWVudFgsIGNsaWVudFkpO1xuICAgIHZhciBkcm9wVGFyZ2V0ID0gZmluZERyb3BUYXJnZXQoZWxlbWVudEJlaGluZEN1cnNvciwgY2xpZW50WCwgY2xpZW50WSk7XG4gICAgdmFyIGNoYW5nZWQgPSBkcm9wVGFyZ2V0ICE9PSBudWxsICYmIGRyb3BUYXJnZXQgIT09IF9sYXN0RHJvcFRhcmdldDtcbiAgICBpZiAoY2hhbmdlZCB8fCBkcm9wVGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICBvdXQoKTtcbiAgICAgIF9sYXN0RHJvcFRhcmdldCA9IGRyb3BUYXJnZXQ7XG4gICAgICBvdmVyKCk7XG4gICAgfVxuICAgIHZhciBwYXJlbnQgPSBnZXRQYXJlbnQoaXRlbSk7XG4gICAgaWYgKGRyb3BUYXJnZXQgPT09IF9zb3VyY2UgJiYgX2NvcHkgJiYgIW8uY29weVNvcnRTb3VyY2UpIHtcbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGl0ZW0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcmVmZXJlbmNlO1xuICAgIHZhciBpbW1lZGlhdGUgPSBnZXRJbW1lZGlhdGVDaGlsZChkcm9wVGFyZ2V0LCBlbGVtZW50QmVoaW5kQ3Vyc29yKTtcbiAgICBpZiAoaW1tZWRpYXRlICE9PSBudWxsKSB7XG4gICAgICByZWZlcmVuY2UgPSBnZXRSZWZlcmVuY2UoZHJvcFRhcmdldCwgaW1tZWRpYXRlLCBjbGllbnRYLCBjbGllbnRZKTtcbiAgICB9IGVsc2UgaWYgKG8ucmV2ZXJ0T25TcGlsbCA9PT0gdHJ1ZSAmJiAhX2NvcHkpIHtcbiAgICAgIHJlZmVyZW5jZSA9IF9pbml0aWFsU2libGluZztcbiAgICAgIGRyb3BUYXJnZXQgPSBfc291cmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoX2NvcHkgJiYgcGFyZW50KSB7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChpdGVtKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKHJlZmVyZW5jZSA9PT0gbnVsbCAmJiBjaGFuZ2VkKSB8fFxuICAgICAgcmVmZXJlbmNlICE9PSBpdGVtICYmXG4gICAgICByZWZlcmVuY2UgIT09IG5leHRFbChpdGVtKVxuICAgICkge1xuICAgICAgX2N1cnJlbnRTaWJsaW5nID0gcmVmZXJlbmNlO1xuICAgICAgZHJvcFRhcmdldC5pbnNlcnRCZWZvcmUoaXRlbSwgcmVmZXJlbmNlKTtcbiAgICAgIGRyYWtlLmVtaXQoJ3NoYWRvdycsIGl0ZW0sIGRyb3BUYXJnZXQsIF9zb3VyY2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3ZlZCAodHlwZSkgeyBkcmFrZS5lbWl0KHR5cGUsIGl0ZW0sIF9sYXN0RHJvcFRhcmdldCwgX3NvdXJjZSk7IH1cbiAgICBmdW5jdGlvbiBvdmVyICgpIHsgaWYgKGNoYW5nZWQpIHsgbW92ZWQoJ292ZXInKTsgfSB9XG4gICAgZnVuY3Rpb24gb3V0ICgpIHsgaWYgKF9sYXN0RHJvcFRhcmdldCkgeyBtb3ZlZCgnb3V0Jyk7IH0gfVxuICB9XG5cbiAgZnVuY3Rpb24gc3BpbGxPdmVyIChlbCkge1xuICAgIGNsYXNzZXMucm0oZWwsICdndS1oaWRlJyk7XG4gIH1cblxuICBmdW5jdGlvbiBzcGlsbE91dCAoZWwpIHtcbiAgICBpZiAoZHJha2UuZHJhZ2dpbmcpIHsgY2xhc3Nlcy5hZGQoZWwsICdndS1oaWRlJyk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlck1pcnJvckltYWdlICgpIHtcbiAgICBpZiAoX21pcnJvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcmVjdCA9IF9pdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIF9taXJyb3IgPSBfaXRlbS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgX21pcnJvci5zdHlsZS53aWR0aCA9IGdldFJlY3RXaWR0aChyZWN0KSArICdweCc7XG4gICAgX21pcnJvci5zdHlsZS5oZWlnaHQgPSBnZXRSZWN0SGVpZ2h0KHJlY3QpICsgJ3B4JztcbiAgICBjbGFzc2VzLnJtKF9taXJyb3IsICdndS10cmFuc2l0Jyk7XG4gICAgY2xhc3Nlcy5hZGQoX21pcnJvciwgJ2d1LW1pcnJvcicpO1xuICAgIG8ubWlycm9yQ29udGFpbmVyLmFwcGVuZENoaWxkKF9taXJyb3IpO1xuICAgIHRvdWNoeShkb2N1bWVudEVsZW1lbnQsICdhZGQnLCAnbW91c2Vtb3ZlJywgZHJhZyk7XG4gICAgY2xhc3Nlcy5hZGQoby5taXJyb3JDb250YWluZXIsICdndS11bnNlbGVjdGFibGUnKTtcbiAgICBkcmFrZS5lbWl0KCdjbG9uZWQnLCBfbWlycm9yLCBfaXRlbSwgJ21pcnJvcicpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlTWlycm9ySW1hZ2UgKCkge1xuICAgIGlmIChfbWlycm9yKSB7XG4gICAgICBjbGFzc2VzLnJtKG8ubWlycm9yQ29udGFpbmVyLCAnZ3UtdW5zZWxlY3RhYmxlJyk7XG4gICAgICB0b3VjaHkoZG9jdW1lbnRFbGVtZW50LCAncmVtb3ZlJywgJ21vdXNlbW92ZScsIGRyYWcpO1xuICAgICAgZ2V0UGFyZW50KF9taXJyb3IpLnJlbW92ZUNoaWxkKF9taXJyb3IpO1xuICAgICAgX21pcnJvciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW1tZWRpYXRlQ2hpbGQgKGRyb3BUYXJnZXQsIHRhcmdldCkge1xuICAgIHZhciBpbW1lZGlhdGUgPSB0YXJnZXQ7XG4gICAgd2hpbGUgKGltbWVkaWF0ZSAhPT0gZHJvcFRhcmdldCAmJiBnZXRQYXJlbnQoaW1tZWRpYXRlKSAhPT0gZHJvcFRhcmdldCkge1xuICAgICAgaW1tZWRpYXRlID0gZ2V0UGFyZW50KGltbWVkaWF0ZSk7XG4gICAgfVxuICAgIGlmIChpbW1lZGlhdGUgPT09IGRvY3VtZW50RWxlbWVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBpbW1lZGlhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSZWZlcmVuY2UgKGRyb3BUYXJnZXQsIHRhcmdldCwgeCwgeSkge1xuICAgIHZhciBob3Jpem9udGFsID0gby5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJztcbiAgICB2YXIgcmVmZXJlbmNlID0gdGFyZ2V0ICE9PSBkcm9wVGFyZ2V0ID8gaW5zaWRlKCkgOiBvdXRzaWRlKCk7XG4gICAgcmV0dXJuIHJlZmVyZW5jZTtcblxuICAgIGZ1bmN0aW9uIG91dHNpZGUgKCkgeyAvLyBzbG93ZXIsIGJ1dCBhYmxlIHRvIGZpZ3VyZSBvdXQgYW55IHBvc2l0aW9uXG4gICAgICB2YXIgbGVuID0gZHJvcFRhcmdldC5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICB2YXIgaTtcbiAgICAgIHZhciBlbDtcbiAgICAgIHZhciByZWN0O1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGVsID0gZHJvcFRhcmdldC5jaGlsZHJlbltpXTtcbiAgICAgICAgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAoaG9yaXpvbnRhbCAmJiAocmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDIpID4geCkgeyByZXR1cm4gZWw7IH1cbiAgICAgICAgaWYgKCFob3Jpem9udGFsICYmIChyZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMikgPiB5KSB7IHJldHVybiBlbDsgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zaWRlICgpIHsgLy8gZmFzdGVyLCBidXQgb25seSBhdmFpbGFibGUgaWYgZHJvcHBlZCBpbnNpZGUgYSBjaGlsZCBlbGVtZW50XG4gICAgICB2YXIgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGlmIChob3Jpem9udGFsKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKHggPiByZWN0LmxlZnQgKyBnZXRSZWN0V2lkdGgocmVjdCkgLyAyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNvbHZlKHkgPiByZWN0LnRvcCArIGdldFJlY3RIZWlnaHQocmVjdCkgLyAyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlIChhZnRlcikge1xuICAgICAgcmV0dXJuIGFmdGVyID8gbmV4dEVsKHRhcmdldCkgOiB0YXJnZXQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNDb3B5IChpdGVtLCBjb250YWluZXIpIHtcbiAgICByZXR1cm4gdHlwZW9mIG8uY29weSA9PT0gJ2Jvb2xlYW4nID8gby5jb3B5IDogby5jb3B5KGl0ZW0sIGNvbnRhaW5lcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gdG91Y2h5IChlbCwgb3AsIHR5cGUsIGZuKSB7XG4gIHZhciB0b3VjaCA9IHtcbiAgICBtb3VzZXVwOiAndG91Y2hlbmQnLFxuICAgIG1vdXNlZG93bjogJ3RvdWNoc3RhcnQnLFxuICAgIG1vdXNlbW92ZTogJ3RvdWNobW92ZSdcbiAgfTtcbiAgdmFyIHBvaW50ZXJzID0ge1xuICAgIG1vdXNldXA6ICdwb2ludGVydXAnLFxuICAgIG1vdXNlZG93bjogJ3BvaW50ZXJkb3duJyxcbiAgICBtb3VzZW1vdmU6ICdwb2ludGVybW92ZSdcbiAgfTtcbiAgdmFyIG1pY3Jvc29mdCA9IHtcbiAgICBtb3VzZXVwOiAnTVNQb2ludGVyVXAnLFxuICAgIG1vdXNlZG93bjogJ01TUG9pbnRlckRvd24nLFxuICAgIG1vdXNlbW92ZTogJ01TUG9pbnRlck1vdmUnXG4gIH07XG4gIGlmIChnbG9iYWwubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkKSB7XG4gICAgY3Jvc3N2ZW50W29wXShlbCwgcG9pbnRlcnNbdHlwZV0sIGZuKTtcbiAgfSBlbHNlIGlmIChnbG9iYWwubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICBjcm9zc3ZlbnRbb3BdKGVsLCBtaWNyb3NvZnRbdHlwZV0sIGZuKTtcbiAgfSBlbHNlIHtcbiAgICBjcm9zc3ZlbnRbb3BdKGVsLCB0b3VjaFt0eXBlXSwgZm4pO1xuICAgIGNyb3NzdmVudFtvcF0oZWwsIHR5cGUsIGZuKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3aGljaE1vdXNlQnV0dG9uIChlKSB7XG4gIGlmIChlLnRvdWNoZXMgIT09IHZvaWQgMCkgeyByZXR1cm4gZS50b3VjaGVzLmxlbmd0aDsgfVxuICBpZiAoZS53aGljaCAhPT0gdm9pZCAwICYmIGUud2hpY2ggIT09IDApIHsgcmV0dXJuIGUud2hpY2g7IH0gLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9iZXZhY3F1YS9kcmFndWxhL2lzc3Vlcy8yNjFcbiAgaWYgKGUuYnV0dG9ucyAhPT0gdm9pZCAwKSB7IHJldHVybiBlLmJ1dHRvbnM7IH1cbiAgdmFyIGJ1dHRvbiA9IGUuYnV0dG9uO1xuICBpZiAoYnV0dG9uICE9PSB2b2lkIDApIHsgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L2Jsb2IvOTllOGZmMWJhYTdhZTM0MWU5NGJiODljM2U4NDU3MGM3YzNhZDllYS9zcmMvZXZlbnQuanMjTDU3My1MNTc1XG4gICAgcmV0dXJuIGJ1dHRvbiAmIDEgPyAxIDogYnV0dG9uICYgMiA/IDMgOiAoYnV0dG9uICYgNCA/IDIgOiAwKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRPZmZzZXQgKGVsKSB7XG4gIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiB7XG4gICAgbGVmdDogcmVjdC5sZWZ0ICsgZ2V0U2Nyb2xsKCdzY3JvbGxMZWZ0JywgJ3BhZ2VYT2Zmc2V0JyksXG4gICAgdG9wOiByZWN0LnRvcCArIGdldFNjcm9sbCgnc2Nyb2xsVG9wJywgJ3BhZ2VZT2Zmc2V0JylcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0U2Nyb2xsIChzY3JvbGxQcm9wLCBvZmZzZXRQcm9wKSB7XG4gIGlmICh0eXBlb2YgZ2xvYmFsW29mZnNldFByb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBnbG9iYWxbb2Zmc2V0UHJvcF07XG4gIH1cbiAgaWYgKGRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpIHtcbiAgICByZXR1cm4gZG9jdW1lbnRFbGVtZW50W3Njcm9sbFByb3BdO1xuICB9XG4gIHJldHVybiBkb2MuYm9keVtzY3JvbGxQcm9wXTtcbn1cblxuZnVuY3Rpb24gZ2V0RWxlbWVudEJlaGluZFBvaW50IChwb2ludCwgeCwgeSkge1xuICB2YXIgcCA9IHBvaW50IHx8IHt9O1xuICB2YXIgc3RhdGUgPSBwLmNsYXNzTmFtZTtcbiAgdmFyIGVsO1xuICBwLmNsYXNzTmFtZSArPSAnIGd1LWhpZGUnO1xuICBlbCA9IGRvYy5lbGVtZW50RnJvbVBvaW50KHgsIHkpO1xuICBwLmNsYXNzTmFtZSA9IHN0YXRlO1xuICByZXR1cm4gZWw7XG59XG5cbmZ1bmN0aW9uIG5ldmVyICgpIHsgcmV0dXJuIGZhbHNlOyB9XG5mdW5jdGlvbiBhbHdheXMgKCkgeyByZXR1cm4gdHJ1ZTsgfVxuZnVuY3Rpb24gZ2V0UmVjdFdpZHRoIChyZWN0KSB7IHJldHVybiByZWN0LndpZHRoIHx8IChyZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0KTsgfVxuZnVuY3Rpb24gZ2V0UmVjdEhlaWdodCAocmVjdCkgeyByZXR1cm4gcmVjdC5oZWlnaHQgfHwgKHJlY3QuYm90dG9tIC0gcmVjdC50b3ApOyB9XG5mdW5jdGlvbiBnZXRQYXJlbnQgKGVsKSB7IHJldHVybiBlbC5wYXJlbnROb2RlID09PSBkb2MgPyBudWxsIDogZWwucGFyZW50Tm9kZTsgfVxuZnVuY3Rpb24gaXNJbnB1dCAoZWwpIHsgcmV0dXJuIGVsLnRhZ05hbWUgPT09ICdJTlBVVCcgfHwgZWwudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJyB8fCBlbC50YWdOYW1lID09PSAnU0VMRUNUJyB8fCBpc0VkaXRhYmxlKGVsKTsgfVxuZnVuY3Rpb24gaXNFZGl0YWJsZSAoZWwpIHtcbiAgaWYgKCFlbCkgeyByZXR1cm4gZmFsc2U7IH0gLy8gbm8gcGFyZW50cyB3ZXJlIGVkaXRhYmxlXG4gIGlmIChlbC5jb250ZW50RWRpdGFibGUgPT09ICdmYWxzZScpIHsgcmV0dXJuIGZhbHNlOyB9IC8vIHN0b3AgdGhlIGxvb2t1cFxuICBpZiAoZWwuY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScpIHsgcmV0dXJuIHRydWU7IH0gLy8gZm91bmQgYSBjb250ZW50RWRpdGFibGUgZWxlbWVudCBpbiB0aGUgY2hhaW5cbiAgcmV0dXJuIGlzRWRpdGFibGUoZ2V0UGFyZW50KGVsKSk7IC8vIGNvbnRlbnRFZGl0YWJsZSBpcyBzZXQgdG8gJ2luaGVyaXQnXG59XG5cbmZ1bmN0aW9uIG5leHRFbCAoZWwpIHtcbiAgcmV0dXJuIGVsLm5leHRFbGVtZW50U2libGluZyB8fCBtYW51YWxseSgpO1xuICBmdW5jdGlvbiBtYW51YWxseSAoKSB7XG4gICAgdmFyIHNpYmxpbmcgPSBlbDtcbiAgICBkbyB7XG4gICAgICBzaWJsaW5nID0gc2libGluZy5uZXh0U2libGluZztcbiAgICB9IHdoaWxlIChzaWJsaW5nICYmIHNpYmxpbmcubm9kZVR5cGUgIT09IDEpO1xuICAgIHJldHVybiBzaWJsaW5nO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEV2ZW50SG9zdCAoZSkge1xuICAvLyBvbiB0b3VjaGVuZCBldmVudCwgd2UgaGF2ZSB0byB1c2UgYGUuY2hhbmdlZFRvdWNoZXNgXG4gIC8vIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzcxOTI1NjMvdG91Y2hlbmQtZXZlbnQtcHJvcGVydGllc1xuICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2JldmFjcXVhL2RyYWd1bGEvaXNzdWVzLzM0XG4gIGlmIChlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuICAgIHJldHVybiBlLnRhcmdldFRvdWNoZXNbMF07XG4gIH1cbiAgaWYgKGUuY2hhbmdlZFRvdWNoZXMgJiYgZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgfVxuICByZXR1cm4gZTtcbn1cblxuZnVuY3Rpb24gZ2V0Q29vcmQgKGNvb3JkLCBlKSB7XG4gIHZhciBob3N0ID0gZ2V0RXZlbnRIb3N0KGUpO1xuICB2YXIgbWlzc01hcCA9IHtcbiAgICBwYWdlWDogJ2NsaWVudFgnLCAvLyBJRThcbiAgICBwYWdlWTogJ2NsaWVudFknIC8vIElFOFxuICB9O1xuICBpZiAoY29vcmQgaW4gbWlzc01hcCAmJiAhKGNvb3JkIGluIGhvc3QpICYmIG1pc3NNYXBbY29vcmRdIGluIGhvc3QpIHtcbiAgICBjb29yZCA9IG1pc3NNYXBbY29vcmRdO1xuICB9XG4gIHJldHVybiBob3N0W2Nvb3JkXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkcmFndWxhO1xuIiwiLyohXG4gKiBodG1sMmNhbnZhcyAxLjAuMC1yYy41IDxodHRwczovL2h0bWwyY2FudmFzLmhlcnR6ZW4uY29tPlxuICogQ29weXJpZ2h0IChjKSAyMDE5IE5pa2xhcyB2b24gSGVydHplbiA8aHR0cHM6Ly9oZXJ0emVuLmNvbT5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlXG4gKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgKGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwuaHRtbDJjYW52YXMgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCBmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICAgIC8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxuICAgIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbiAgICBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuICAgIFRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuICAgIEtJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuICAgIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbiAgICBNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuICAgIFNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG4gICAgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuICAgIC8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICAgICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICAgICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxuXG4gICAgdmFyIEJvdW5kcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBCb3VuZHMoeCwgeSwgdywgaCkge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnQgPSB4O1xyXG4gICAgICAgICAgICB0aGlzLnRvcCA9IHk7XHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB3O1xyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHgsIHksIHcsIGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCb3VuZHModGhpcy5sZWZ0ICsgeCwgdGhpcy50b3AgKyB5LCB0aGlzLndpZHRoICsgdywgdGhpcy5oZWlnaHQgKyBoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEJvdW5kcy5mcm9tQ2xpZW50UmVjdCA9IGZ1bmN0aW9uIChjbGllbnRSZWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQm91bmRzKGNsaWVudFJlY3QubGVmdCwgY2xpZW50UmVjdC50b3AsIGNsaWVudFJlY3Qud2lkdGgsIGNsaWVudFJlY3QuaGVpZ2h0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBCb3VuZHM7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIHBhcnNlQm91bmRzID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICByZXR1cm4gQm91bmRzLmZyb21DbGllbnRSZWN0KG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xyXG4gICAgfTtcclxuICAgIHZhciBwYXJzZURvY3VtZW50U2l6ZSA9IGZ1bmN0aW9uIChkb2N1bWVudCkge1xyXG4gICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcclxuICAgICAgICB2YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgICAgIGlmICghYm9keSB8fCAhZG9jdW1lbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBnZXQgZG9jdW1lbnQgc2l6ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5tYXgoTWF0aC5tYXgoYm9keS5zY3JvbGxXaWR0aCwgZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoKSwgTWF0aC5tYXgoYm9keS5vZmZzZXRXaWR0aCwgZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoKSwgTWF0aC5tYXgoYm9keS5jbGllbnRXaWR0aCwgZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSk7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KE1hdGgubWF4KGJvZHkuc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KSwgTWF0aC5tYXgoYm9keS5vZmZzZXRIZWlnaHQsIGRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQpLCBNYXRoLm1heChib2R5LmNsaWVudEhlaWdodCwgZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkpO1xyXG4gICAgICAgIHJldHVybiBuZXcgQm91bmRzKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfTtcblxuICAgIC8qXG4gICAgICogY3NzLWxpbmUtYnJlYWsgMS4xLjEgPGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXN2aC9jc3MtbGluZS1icmVhayNyZWFkbWU+XG4gICAgICogQ29weXJpZ2h0IChjKSAyMDE5IE5pa2xhcyB2b24gSGVydHplbiA8aHR0cHM6Ly9oZXJ0emVuLmNvbT5cbiAgICAgKiBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZVxuICAgICAqL1xuICAgIHZhciB0b0NvZGVQb2ludHMgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgdmFyIGNvZGVQb2ludHMgPSBbXTtcclxuICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IHN0ci5sZW5ndGg7XHJcbiAgICAgICAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gc3RyLmNoYXJDb2RlQXQoaSsrKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID49IDB4ZDgwMCAmJiB2YWx1ZSA8PSAweGRiZmYgJiYgaSA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGV4dHJhID0gc3RyLmNoYXJDb2RlQXQoaSsrKTtcclxuICAgICAgICAgICAgICAgIGlmICgoZXh0cmEgJiAweGZjMDApID09PSAweGRjMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlUG9pbnRzLnB1c2goKCh2YWx1ZSAmIDB4M2ZmKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNmZikgKyAweDEwMDAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGVQb2ludHMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaS0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29kZVBvaW50cy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29kZVBvaW50cztcclxuICAgIH07XHJcbiAgICB2YXIgZnJvbUNvZGVQb2ludCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY29kZVBvaW50cyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGNvZGVQb2ludHNbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFN0cmluZy5mcm9tQ29kZVBvaW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludC5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbGVuZ3RoID0gY29kZVBvaW50cy5sZW5ndGg7XHJcbiAgICAgICAgaWYgKCFsZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY29kZVVuaXRzID0gW107XHJcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xyXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2RlUG9pbnQgPSBjb2RlUG9pbnRzW2luZGV4XTtcclxuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8PSAweGZmZmYpIHtcclxuICAgICAgICAgICAgICAgIGNvZGVVbml0cy5wdXNoKGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMDtcclxuICAgICAgICAgICAgICAgIGNvZGVVbml0cy5wdXNoKChjb2RlUG9pbnQgPj4gMTApICsgMHhkODAwLCBjb2RlUG9pbnQgJSAweDQwMCArIDB4ZGMwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGluZGV4ICsgMSA9PT0gbGVuZ3RoIHx8IGNvZGVVbml0cy5sZW5ndGggPiAweDQwMDApIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVVuaXRzKTtcclxuICAgICAgICAgICAgICAgIGNvZGVVbml0cy5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xyXG4gICAgLy8gVXNlIGEgbG9va3VwIHRhYmxlIHRvIGZpbmQgdGhlIGluZGV4LlxyXG4gICAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpO1xyXG4gICAgfVxyXG4gICAgdmFyIGRlY29kZSA9IGZ1bmN0aW9uIChiYXNlNjQpIHtcclxuICAgICAgICB2YXIgYnVmZmVyTGVuZ3RoID0gYmFzZTY0Lmxlbmd0aCAqIDAuNzUsIGxlbiA9IGJhc2U2NC5sZW5ndGgsIGksIHAgPSAwLCBlbmNvZGVkMSwgZW5jb2RlZDIsIGVuY29kZWQzLCBlbmNvZGVkNDtcclxuICAgICAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAxXSA9PT0gJz0nKSB7XHJcbiAgICAgICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xyXG4gICAgICAgICAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAyXSA9PT0gJz0nKSB7XHJcbiAgICAgICAgICAgICAgICBidWZmZXJMZW5ndGgtLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYnVmZmVyID0gdHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgICAgICB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNsaWNlICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICA/IG5ldyBBcnJheUJ1ZmZlcihidWZmZXJMZW5ndGgpXHJcbiAgICAgICAgICAgIDogbmV3IEFycmF5KGJ1ZmZlckxlbmd0aCk7XHJcbiAgICAgICAgdmFyIGJ5dGVzID0gQXJyYXkuaXNBcnJheShidWZmZXIpID8gYnVmZmVyIDogbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcclxuICAgICAgICAgICAgZW5jb2RlZDEgPSBsb29rdXBbYmFzZTY0LmNoYXJDb2RlQXQoaSldO1xyXG4gICAgICAgICAgICBlbmNvZGVkMiA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMSldO1xyXG4gICAgICAgICAgICBlbmNvZGVkMyA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMildO1xyXG4gICAgICAgICAgICBlbmNvZGVkNCA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMyldO1xyXG4gICAgICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQxIDw8IDIpIHwgKGVuY29kZWQyID4+IDQpO1xyXG4gICAgICAgICAgICBieXRlc1twKytdID0gKChlbmNvZGVkMiAmIDE1KSA8PCA0KSB8IChlbmNvZGVkMyA+PiAyKTtcclxuICAgICAgICAgICAgYnl0ZXNbcCsrXSA9ICgoZW5jb2RlZDMgJiAzKSA8PCA2KSB8IChlbmNvZGVkNCAmIDYzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgIH07XHJcbiAgICB2YXIgcG9seVVpbnQxNkFycmF5ID0gZnVuY3Rpb24gKGJ1ZmZlcikge1xyXG4gICAgICAgIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoO1xyXG4gICAgICAgIHZhciBieXRlcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDIpIHtcclxuICAgICAgICAgICAgYnl0ZXMucHVzaCgoYnVmZmVyW2kgKyAxXSA8PCA4KSB8IGJ1ZmZlcltpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBieXRlcztcclxuICAgIH07XHJcbiAgICB2YXIgcG9seVVpbnQzMkFycmF5ID0gZnVuY3Rpb24gKGJ1ZmZlcikge1xyXG4gICAgICAgIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoO1xyXG4gICAgICAgIHZhciBieXRlcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDQpIHtcclxuICAgICAgICAgICAgYnl0ZXMucHVzaCgoYnVmZmVyW2kgKyAzXSA8PCAyNCkgfCAoYnVmZmVyW2kgKyAyXSA8PCAxNikgfCAoYnVmZmVyW2kgKyAxXSA8PCA4KSB8IGJ1ZmZlcltpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBieXRlcztcclxuICAgIH07XG5cbiAgICAvKiogU2hpZnQgc2l6ZSBmb3IgZ2V0dGluZyB0aGUgaW5kZXgtMiB0YWJsZSBvZmZzZXQuICovXHJcbiAgICB2YXIgVVRSSUUyX1NISUZUXzIgPSA1O1xyXG4gICAgLyoqIFNoaWZ0IHNpemUgZm9yIGdldHRpbmcgdGhlIGluZGV4LTEgdGFibGUgb2Zmc2V0LiAqL1xyXG4gICAgdmFyIFVUUklFMl9TSElGVF8xID0gNiArIDU7XHJcbiAgICAvKipcclxuICAgICAqIFNoaWZ0IHNpemUgZm9yIHNoaWZ0aW5nIGxlZnQgdGhlIGluZGV4IGFycmF5IHZhbHVlcy5cclxuICAgICAqIEluY3JlYXNlcyBwb3NzaWJsZSBkYXRhIHNpemUgd2l0aCAxNi1iaXQgaW5kZXggdmFsdWVzIGF0IHRoZSBjb3N0XHJcbiAgICAgKiBvZiBjb21wYWN0YWJpbGl0eS5cclxuICAgICAqIFRoaXMgcmVxdWlyZXMgZGF0YSBibG9ja3MgdG8gYmUgYWxpZ25lZCBieSBVVFJJRTJfREFUQV9HUkFOVUxBUklUWS5cclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9JTkRFWF9TSElGVCA9IDI7XHJcbiAgICAvKipcclxuICAgICAqIERpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvIHNoaWZ0IHNpemVzLFxyXG4gICAgICogZm9yIGdldHRpbmcgYW4gaW5kZXgtMSBvZmZzZXQgZnJvbSBhbiBpbmRleC0yIG9mZnNldC4gNj0xMS01XHJcbiAgICAgKi9cclxuICAgIHZhciBVVFJJRTJfU0hJRlRfMV8yID0gVVRSSUUyX1NISUZUXzEgLSBVVFJJRTJfU0hJRlRfMjtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIHBhcnQgb2YgdGhlIGluZGV4LTIgdGFibGUgZm9yIFUrRDgwMC4uVStEQkZGIHN0b3JlcyB2YWx1ZXMgZm9yXHJcbiAgICAgKiBsZWFkIHN1cnJvZ2F0ZSBjb2RlIF91bml0c18gbm90IGNvZGUgX3BvaW50c18uXHJcbiAgICAgKiBWYWx1ZXMgZm9yIGxlYWQgc3Vycm9nYXRlIGNvZGUgX3BvaW50c18gYXJlIGluZGV4ZWQgd2l0aCB0aGlzIHBvcnRpb24gb2YgdGhlIHRhYmxlLlxyXG4gICAgICogTGVuZ3RoPTMyPTB4MjA9MHg0MDA+PlVUUklFMl9TSElGVF8yLiAoVGhlcmUgYXJlIDEwMjQ9MHg0MDAgbGVhZCBzdXJyb2dhdGVzLilcclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9MU0NQX0lOREVYXzJfT0ZGU0VUID0gMHgxMDAwMCA+PiBVVFJJRTJfU0hJRlRfMjtcclxuICAgIC8qKiBOdW1iZXIgb2YgZW50cmllcyBpbiBhIGRhdGEgYmxvY2suIDMyPTB4MjAgKi9cclxuICAgIHZhciBVVFJJRTJfREFUQV9CTE9DS19MRU5HVEggPSAxIDw8IFVUUklFMl9TSElGVF8yO1xyXG4gICAgLyoqIE1hc2sgZm9yIGdldHRpbmcgdGhlIGxvd2VyIGJpdHMgZm9yIHRoZSBpbi1kYXRhLWJsb2NrIG9mZnNldC4gKi9cclxuICAgIHZhciBVVFJJRTJfREFUQV9NQVNLID0gVVRSSUUyX0RBVEFfQkxPQ0tfTEVOR1RIIC0gMTtcclxuICAgIHZhciBVVFJJRTJfTFNDUF9JTkRFWF8yX0xFTkdUSCA9IDB4NDAwID4+IFVUUklFMl9TSElGVF8yO1xyXG4gICAgLyoqIENvdW50IHRoZSBsZW5ndGhzIG9mIGJvdGggQk1QIHBpZWNlcy4gMjA4MD0weDgyMCAqL1xyXG4gICAgdmFyIFVUUklFMl9JTkRFWF8yX0JNUF9MRU5HVEggPSBVVFJJRTJfTFNDUF9JTkRFWF8yX09GRlNFVCArIFVUUklFMl9MU0NQX0lOREVYXzJfTEVOR1RIO1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgMi1ieXRlIFVURi04IHZlcnNpb24gb2YgdGhlIGluZGV4LTIgdGFibGUgZm9sbG93cyBhdCBvZmZzZXQgMjA4MD0weDgyMC5cclxuICAgICAqIExlbmd0aCAzMj0weDIwIGZvciBsZWFkIGJ5dGVzIEMwLi5ERiwgcmVnYXJkbGVzcyBvZiBVVFJJRTJfU0hJRlRfMi5cclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9VVEY4XzJCX0lOREVYXzJfT0ZGU0VUID0gVVRSSUUyX0lOREVYXzJfQk1QX0xFTkdUSDtcclxuICAgIHZhciBVVFJJRTJfVVRGOF8yQl9JTkRFWF8yX0xFTkdUSCA9IDB4ODAwID4+IDY7IC8qIFUrMDgwMCBpcyB0aGUgZmlyc3QgY29kZSBwb2ludCBhZnRlciAyLWJ5dGUgVVRGLTggKi9cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGluZGV4LTEgdGFibGUsIG9ubHkgdXNlZCBmb3Igc3VwcGxlbWVudGFyeSBjb2RlIHBvaW50cywgYXQgb2Zmc2V0IDIxMTI9MHg4NDAuXHJcbiAgICAgKiBWYXJpYWJsZSBsZW5ndGgsIGZvciBjb2RlIHBvaW50cyB1cCB0byBoaWdoU3RhcnQsIHdoZXJlIHRoZSBsYXN0IHNpbmdsZS12YWx1ZSByYW5nZSBzdGFydHMuXHJcbiAgICAgKiBNYXhpbXVtIGxlbmd0aCA1MTI9MHgyMDA9MHgxMDAwMDA+PlVUUklFMl9TSElGVF8xLlxyXG4gICAgICogKEZvciAweDEwMDAwMCBzdXBwbGVtZW50YXJ5IGNvZGUgcG9pbnRzIFUrMTAwMDAuLlUrMTBmZmZmLilcclxuICAgICAqXHJcbiAgICAgKiBUaGUgcGFydCBvZiB0aGUgaW5kZXgtMiB0YWJsZSBmb3Igc3VwcGxlbWVudGFyeSBjb2RlIHBvaW50cyBzdGFydHNcclxuICAgICAqIGFmdGVyIHRoaXMgaW5kZXgtMSB0YWJsZS5cclxuICAgICAqXHJcbiAgICAgKiBCb3RoIHRoZSBpbmRleC0xIHRhYmxlIGFuZCB0aGUgZm9sbG93aW5nIHBhcnQgb2YgdGhlIGluZGV4LTIgdGFibGVcclxuICAgICAqIGFyZSBvbWl0dGVkIGNvbXBsZXRlbHkgaWYgdGhlcmUgaXMgb25seSBCTVAgZGF0YS5cclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9JTkRFWF8xX09GRlNFVCA9IFVUUklFMl9VVEY4XzJCX0lOREVYXzJfT0ZGU0VUICsgVVRSSUUyX1VURjhfMkJfSU5ERVhfMl9MRU5HVEg7XHJcbiAgICAvKipcclxuICAgICAqIE51bWJlciBvZiBpbmRleC0xIGVudHJpZXMgZm9yIHRoZSBCTVAuIDMyPTB4MjBcclxuICAgICAqIFRoaXMgcGFydCBvZiB0aGUgaW5kZXgtMSB0YWJsZSBpcyBvbWl0dGVkIGZyb20gdGhlIHNlcmlhbGl6ZWQgZm9ybS5cclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9PTUlUVEVEX0JNUF9JTkRFWF8xX0xFTkdUSCA9IDB4MTAwMDAgPj4gVVRSSUUyX1NISUZUXzE7XHJcbiAgICAvKiogTnVtYmVyIG9mIGVudHJpZXMgaW4gYW4gaW5kZXgtMiBibG9jay4gNjQ9MHg0MCAqL1xyXG4gICAgdmFyIFVUUklFMl9JTkRFWF8yX0JMT0NLX0xFTkdUSCA9IDEgPDwgVVRSSUUyX1NISUZUXzFfMjtcclxuICAgIC8qKiBNYXNrIGZvciBnZXR0aW5nIHRoZSBsb3dlciBiaXRzIGZvciB0aGUgaW4taW5kZXgtMi1ibG9jayBvZmZzZXQuICovXHJcbiAgICB2YXIgVVRSSUUyX0lOREVYXzJfTUFTSyA9IFVUUklFMl9JTkRFWF8yX0JMT0NLX0xFTkdUSCAtIDE7XHJcbiAgICB2YXIgc2xpY2UxNiA9IGZ1bmN0aW9uICh2aWV3LCBzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgaWYgKHZpZXcuc2xpY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZpZXcuc2xpY2Uoc3RhcnQsIGVuZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVWludDE2QXJyYXkoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodmlldywgc3RhcnQsIGVuZCkpO1xyXG4gICAgfTtcclxuICAgIHZhciBzbGljZTMyID0gZnVuY3Rpb24gKHZpZXcsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICBpZiAodmlldy5zbGljZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmlldy5zbGljZShzdGFydCwgZW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50MzJBcnJheShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh2aWV3LCBzdGFydCwgZW5kKSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNyZWF0ZVRyaWVGcm9tQmFzZTY0ID0gZnVuY3Rpb24gKGJhc2U2NCkge1xyXG4gICAgICAgIHZhciBidWZmZXIgPSBkZWNvZGUoYmFzZTY0KTtcclxuICAgICAgICB2YXIgdmlldzMyID0gQXJyYXkuaXNBcnJheShidWZmZXIpID8gcG9seVVpbnQzMkFycmF5KGJ1ZmZlcikgOiBuZXcgVWludDMyQXJyYXkoYnVmZmVyKTtcclxuICAgICAgICB2YXIgdmlldzE2ID0gQXJyYXkuaXNBcnJheShidWZmZXIpID8gcG9seVVpbnQxNkFycmF5KGJ1ZmZlcikgOiBuZXcgVWludDE2QXJyYXkoYnVmZmVyKTtcclxuICAgICAgICB2YXIgaGVhZGVyTGVuZ3RoID0gMjQ7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gc2xpY2UxNih2aWV3MTYsIGhlYWRlckxlbmd0aCAvIDIsIHZpZXczMls0XSAvIDIpO1xyXG4gICAgICAgIHZhciBkYXRhID0gdmlldzMyWzVdID09PSAyXHJcbiAgICAgICAgICAgID8gc2xpY2UxNih2aWV3MTYsIChoZWFkZXJMZW5ndGggKyB2aWV3MzJbNF0pIC8gMilcclxuICAgICAgICAgICAgOiBzbGljZTMyKHZpZXczMiwgTWF0aC5jZWlsKChoZWFkZXJMZW5ndGggKyB2aWV3MzJbNF0pIC8gNCkpO1xyXG4gICAgICAgIHJldHVybiBuZXcgVHJpZSh2aWV3MzJbMF0sIHZpZXczMlsxXSwgdmlldzMyWzJdLCB2aWV3MzJbM10sIGluZGV4LCBkYXRhKTtcclxuICAgIH07XHJcbiAgICB2YXIgVHJpZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBUcmllKGluaXRpYWxWYWx1ZSwgZXJyb3JWYWx1ZSwgaGlnaFN0YXJ0LCBoaWdoVmFsdWVJbmRleCwgaW5kZXgsIGRhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3JWYWx1ZSA9IGVycm9yVmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuaGlnaFN0YXJ0ID0gaGlnaFN0YXJ0O1xyXG4gICAgICAgICAgICB0aGlzLmhpZ2hWYWx1ZUluZGV4ID0gaGlnaFZhbHVlSW5kZXg7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0IHRoZSB2YWx1ZSBmb3IgYSBjb2RlIHBvaW50IGFzIHN0b3JlZCBpbiB0aGUgVHJpZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBjb2RlUG9pbnQgdGhlIGNvZGUgcG9pbnRcclxuICAgICAgICAgKiBAcmV0dXJuIHRoZSB2YWx1ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFRyaWUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcclxuICAgICAgICAgICAgdmFyIGl4O1xyXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50ID49IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPCAweDBkODAwIHx8IChjb2RlUG9pbnQgPiAweDBkYmZmICYmIGNvZGVQb2ludCA8PSAweDBmZmZmKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9yZGluYXJ5IEJNUCBjb2RlIHBvaW50LCBleGNsdWRpbmcgbGVhZGluZyBzdXJyb2dhdGVzLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEJNUCB1c2VzIGEgc2luZ2xlIGxldmVsIGxvb2t1cC4gIEJNUCBpbmRleCBzdGFydHMgYXQgb2Zmc2V0IDAgaW4gdGhlIFRyaWUyIGluZGV4LlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIDE2IGJpdCBkYXRhIGlzIHN0b3JlZCBpbiB0aGUgaW5kZXggYXJyYXkgaXRzZWxmLlxyXG4gICAgICAgICAgICAgICAgICAgIGl4ID0gdGhpcy5pbmRleFtjb2RlUG9pbnQgPj4gVVRSSUUyX1NISUZUXzJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGl4ID0gKGl4IDw8IFVUUklFMl9JTkRFWF9TSElGVCkgKyAoY29kZVBvaW50ICYgVVRSSUUyX0RBVEFfTUFTSyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtpeF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4ZmZmZikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIExlYWQgU3Vycm9nYXRlIENvZGUgUG9pbnQuICBBIFNlcGFyYXRlIGluZGV4IHNlY3Rpb24gaXMgc3RvcmVkIGZvclxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxlYWQgc3Vycm9nYXRlIGNvZGUgdW5pdHMgYW5kIGNvZGUgcG9pbnRzLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgVGhlIG1haW4gaW5kZXggaGFzIHRoZSBjb2RlIHVuaXQgZGF0YS5cclxuICAgICAgICAgICAgICAgICAgICAvLyAgIEZvciB0aGlzIGZ1bmN0aW9uLCB3ZSBuZWVkIHRoZSBjb2RlIHBvaW50IGRhdGEuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogdGhpcyBleHByZXNzaW9uIGNvdWxkIGJlIHJlZmFjdG9yZWQgZm9yIHNsaWdodGx5IGltcHJvdmVkIGVmZmljaWVuY3ksIGJ1dFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgIHN1cnJvZ2F0ZSBjb2RlIHBvaW50cyB3aWxsIGJlIHNvIHJhcmUgaW4gcHJhY3RpY2UgdGhhdCBpdCdzIG5vdCB3b3J0aCBpdC5cclxuICAgICAgICAgICAgICAgICAgICBpeCA9IHRoaXMuaW5kZXhbVVRSSUUyX0xTQ1BfSU5ERVhfMl9PRkZTRVQgKyAoKGNvZGVQb2ludCAtIDB4ZDgwMCkgPj4gVVRSSUUyX1NISUZUXzIpXTtcclxuICAgICAgICAgICAgICAgICAgICBpeCA9IChpeCA8PCBVVFJJRTJfSU5ERVhfU0hJRlQpICsgKGNvZGVQb2ludCAmIFVUUklFMl9EQVRBX01BU0spO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbaXhdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8IHRoaXMuaGlnaFN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcGxlbWVudGFsIGNvZGUgcG9pbnQsIHVzZSB0d28tbGV2ZWwgbG9va3VwLlxyXG4gICAgICAgICAgICAgICAgICAgIGl4ID0gVVRSSUUyX0lOREVYXzFfT0ZGU0VUIC0gVVRSSUUyX09NSVRURURfQk1QX0lOREVYXzFfTEVOR1RIICsgKGNvZGVQb2ludCA+PiBVVFJJRTJfU0hJRlRfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXggPSB0aGlzLmluZGV4W2l4XTtcclxuICAgICAgICAgICAgICAgICAgICBpeCArPSAoY29kZVBvaW50ID4+IFVUUklFMl9TSElGVF8yKSAmIFVUUklFMl9JTkRFWF8yX01BU0s7XHJcbiAgICAgICAgICAgICAgICAgICAgaXggPSB0aGlzLmluZGV4W2l4XTtcclxuICAgICAgICAgICAgICAgICAgICBpeCA9IChpeCA8PCBVVFJJRTJfSU5ERVhfU0hJRlQpICsgKGNvZGVQb2ludCAmIFVUUklFMl9EQVRBX01BU0spO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbaXhdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8PSAweDEwZmZmZikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbdGhpcy5oaWdoVmFsdWVJbmRleF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRmFsbCB0aHJvdWdoLiAgVGhlIGNvZGUgcG9pbnQgaXMgb3V0c2lkZSBvZiB0aGUgbGVnYWwgcmFuZ2Ugb2YgMC4uMHgxMGZmZmYuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yVmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gVHJpZTtcclxuICAgIH0oKSk7XG5cbiAgICB2YXIgYmFzZTY0ID0gJ0t3QUFBQUFBQUFBQUNBNEFJRG9BQVBBZkFBQUNBQUFBQUFBSUFCQUFHQUJBQUVnQVVBQllBRjRBWmdCZUFHWUFZQUJvQUhBQWVBQmVBR1lBZkFDRUFJQUFpQUNRQUpnQW9BQ29BSzBBdFFDOUFNVUFYZ0JtQUY0QVpnQmVBR1lBelFEVkFGNEFaZ0RSQU5rQTNnRG1BT3dBOUFEOEFBUUJEQUVVQVJvQklnR0FBSWdBSndFdkFUY0JQd0ZGQVUwQlRBRlVBVndCWkFGc0FYTUJld0dEQVRBQWl3R1RBWnNCb2dHa0Fhd0J0QUc4QWNJQnlnSFNBZG9CNEFIb0FmQUIrQUgrQVFZQ0RnSVdBdjRCSGdJbUFpNENOZ0krQWtVQ1RRSlRBbHNDWXdKckFuRUNlUUtCQWswQ2lRS1JBcGtDb1FLb0FyQUN1QUxBQXNRQ3pBSXdBTlFDM0FMa0FqQUE3QUwwQXZ3Q0FRTUpBeEFER0FNd0FDQURKZ011QXpZRFBnT0FBRVlEU2dOU0ExSURVZ05hQTFvRFlBTmlBMklEZ0FDQUFHb0RnQUJ5QTNZRGZnT0FBSVFEZ0FDS0E1SURtZ09BQUlBQW9nT3FBNEFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSzhEdHdPQUFJQUF2d1BIQTg4RDF3UGZBeUFENXdQc0EvUUQvQU9BQUlBQUJBUU1CQklFZ0FBV0JCNEVKZ1F1QkRNRUlBTTdCRUVFWGdCSkJDQURVUVJaQkdFRWFRUXdBREFBY1FRK0FYa0VnUVNKQkpFRWdBQ1lCSUFBb0FTb0JLOEV0d1F3QUw4RXhRU0FBSUFBZ0FDQUFJQUFnQUNnQU0wRVhnQmVBRjRBWGdCZUFGNEFYZ0JlQU5VRVhnRFpCT0VFWGdEcEJQRUUrUVFCQlFrRkVRVVpCU0VGS1FVeEJUVUZQUVZGQlV3RlZBVmNCVjRBWXdWZUFHc0Zjd1Y3QllNRml3V1NCVjRBbWdXZ0JhY0ZYZ0JlQUY0QVhnQmVBS3NGWGdDeUJiRUZ1Z1c3QmNJRndnWElCY0lGd2dYUUJkUUYzQVhrQmVzRjh3WDdCUU1HQ3dZVEJoc0dJd1lyQmpNR093WmVBRDhHUndaTkJsNEFWQVpiQmw0QVhnQmVBRjRBWGdCZUFGNEFYZ0JlQUY0QVhnQmVBR01HWGdCcUJuRUdYZ0JlQUY0QVhnQmVBRjRBWGdCZUFGNEFYZ0I1Qm9BRzR3U0dCbzRHa3dhQUFJQURIZ1I1QUY0QVhnQmVBSnNHZ0FCR0E0QUFvd2FyQnJNR3N3YWdBTHNHd3diTEJqQUEwd2JhQnRvRzNRYmFCdG9HMmdiYUJ0b0cyZ2JsQnVzRzh3YjdCZ01IQ3djVEJ4c0hDd2NqQnlzSE1BYzFCelVIT2dkQ0I5b0dTZ2RTQjFvSFlBZmFCbG9IYUFmYUJsSUgyZ2JhQnRvRzJnYmFCdG9HMmdiYUJqVUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVIYlFkZUFGNEFOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFkMUIzMEhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUI0TUgyZ2FLQjY4RWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUk4SGx3ZGVBSjhIcHdlQUFJQUFyd2UzQjE0QVhnQy9COFVIeWdjd0FOQUgyQWZnQjRBQTZBZndCejRCK0FjQUNGd0JDQWdQQ0JjSW9nRVlBUjhJSndpQUFDOElOd2cvQ0NBRFJ3aFBDRmNJWHdobkNFb0RHZ1NBQUlBQWdBQnZDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWhBaUxDSTRJTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QUpZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdnd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQjU0SU5RYzFCNklJMmdhcUNMSUl1Z2lBQUlBQXZnakdDSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBeXdpSEFZQUEwd2lBQU5rSTNRamxDTzBJOUFqOENJQUFnQUNBQUFJSkNna1NDUm9KSWdrbkNUWUhMd2szQ1pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpQUFJQUFBQUZBQVhnQmVBR0FBY0FCZUFId0FRQUNRQUtBQXJRQzlBSjRBWGdCZUFFMEEzZ0JSQU40QTdBRDhBTXdCR2dFQUFLY0JOd0VGQVV3QlhBRjRRa2hDbUVLbkFyY0NnQUhIQXNBQno0TEFBY0FCd0FIQUFkK0M2QUJvQUcrQy80TEFBY0FCd0FIQUFjK0RGNE1BQWNBQjU0TTNnd2VEVjRObmczZURhQUJvQUdnQWFBQm9BR2dBYUFCb0FHZ0FhQUJvQUdnQWFBQm9BR2dBYUFCb0FHZ0FhQUJvQUVlRHFBQlZnNldEcUFCb1E2Z0FhQUJvQUhYRHZjT053LzNEdmNPOXc3M0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0RuY1BBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCN2NQUHdsR0NVNEpNQUNBQUlBQWdBQldDVjRKWVFtQUFHa0pjQWw0Q1h3SmdBa3dBREFBTUFBd0FJZ0pnQUNMQ1pNSmdBQ1pDWjhKb3dtckNZQUFzd2t3QUY0QVhnQjhBSUFBdXdrQUJNTUp5UW1BQU00SmdBRFZDVEFBTUFBd0FEQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFxd1lXQk5rSU1BQXdBREFBTUFEZENlQUo2QW51Q1I0RTlna3dBUDRKQlFvTkNqQUFNQUNBQUJVSzB3aUFBQjBLSkFvc0NqUUtnQUF3QUR3S1F3cUFBRXNLdlFtZENWTUtXd293QURBQWdBQ0FBTGNFTUFDQUFHTUtnQUJyQ2pBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQWVCREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FJa0VQUUZ6Q25vS2lRU0NDb29La0FxSkJKZ0tvQXFrQ29rRUdBR3NDclFLdkFyQkNqQUFNQURKQ3RFS0ZRSFpDdUVLL2dIcEN2RUtNQUF3QURBQU1BQ0FBSXdFK1Fvd0FJQUFQd0VCQ3pBQU1BQXdBREFBTUFDQUFBa0xFUXN3QUlBQVB3RVpDeUVMZ0FBT0NDa0xNQUF4Q3prTE1BQXdBREFBTUFBd0FEQUFYZ0JlQUVFTE1BQXdBREFBTUFBd0FEQUFNQUF3QUVrTFRRdFZDNEFBWEF0a0M0QUFpUWt3QURBQU1BQXdBREFBTUFBd0FEQUFiQXR4QzNrTGdBdUZDNHNMTUFBd0FKTUxsd3VmQ3pBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBcHdzd0FEQUFNQUNBQUlBQWdBQ3ZDNEFBZ0FDQUFJQUFnQUNBQUxjTE1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBdnd1QUFNY0xnQUNBQUlBQWdBQ0FBSUFBeWd1QUFJQUFnQUNBQUlBQTBRc3dBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBTmtMZ0FDQUFJQUE0QXN3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0pDUjRFNkFzd0FEQUFod0h3QzRBQStBc0FEQWdNRUF3d0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFDQUFJQUFHQXdkRENVTU1BQXdBQzBNTlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlF3MUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSFBRd3dBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEVUhOUWMxQnpVSE5RYzFCelVITlFjMkJ6QUFNQUE1RERVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RZEZEREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFnQUNBQUlBQVRReFNERm9NTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBRjRBWGdCZUFGNEFYZ0JlQUY0QVlneGVBR29NWGdCeERIa01md3hlQUlVTVhnQmVBSTBNTUFBd0FEQUFNQUF3QUY0QVhnQ1ZESjBNTUFBd0FEQUFNQUJlQUY0QXBReGVBS3NNc3d5N0RGNEF3Z3k5RE1vTVhnQmVBRjRBWGdCZUFGNEFYZ0JlQUY0QVhnRFJETmtNZVFCcUNlQU0zQXg4QU9ZTTdBejBEUGdNWGdCZUFGNEFYZ0JlQUY0QVhnQmVBRjRBWGdCZUFGNEFYZ0JlQUY0QVhnQ2dBQUFOb0FBSERRNE5GZzB3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBZURTWU5NQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FJQUFnQUNBQUlBQWdBQ0FBQzROTUFCZUFGNEFOZzB3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QUQ0TlJnMU9EVllOWGcxbURUQUFiUTB3QURBQU1BQXdBREFBTUFBd0FEQUEyZ2JhQnRvRzJnYmFCdG9HMmdiYUJuVU5lZzNDQllBTndnV0ZEZG9HakEzYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2FVRFp3TnBBMm9EZG9HMmdhd0RiY052dzNIRGRvRzJnYlBEZFlOM0EzZkRlWU4yZ2JzRGZNTjJnYmFCdm9OL2czYUJnWU9EZzdhQmw0QVhnQmVBQllPWGdCZUFDVUcyZ1llRGw0QUpBNWVBQ3dPMnczYUJ0b0dNUTQ1RHRvRzJnYmFCdG9HUVE3YUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ1pKRGpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQjFFTzJnWTFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFkWkRqVUhOUWMxQnpVSE5RYzFCMkVPTlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVIYUE0MUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQjNBTzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnWTFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQjJFTzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnWkpEdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCa2tPZUE2Z0FLQUFvQUF3QURBQU1BQXdBS0FBb0FDZ0FLQUFvQUNnQUtBQWdBNHdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFELy93UUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBMEFBd0FCQUFFQUFnQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUtBQk1BRndBZUFCc0FHZ0FlQUJjQUZnQVNBQjRBR3dBWUFBOEFHQUFjQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUdBQVlBQjRBSGdBZUFCTUFIZ0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFGZ0FiQUJJQUhnQWVBQjRBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQllBRFFBUkFCNEFCQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQUVBQVFBQkFBRUFBVUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBa0FGZ0FhQUJzQUd3QWJBQjRBSFFBZEFCNEFUd0FYQUI0QURRQWVBQjRBR2dBYkFFOEFUd0FPQUZBQUhRQWRBQjBBVHdCUEFCY0FUd0JQQUU4QUZnQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjBBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUI0QUhnQWVBQjRBVUFCUUFGQUFVQUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFlQUI0QUhnQWVBRkFBVHdCQUFFOEFUd0JQQUVBQVR3QlFBRkFBVHdCUUFCNEFIZ0FlQUI0QUhnQWVBQjBBSFFBZEFCMEFIZ0FkQUI0QURnQlFBRkFBVUFCUUFGQUFIZ0FlQUI0QUhnQWVBQjRBSGdCUUFCNEFVQUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUpBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBa0FDUUFKQUFrQUNRQUpBQWtBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFlQUI0QUhnQWVBRkFBSGdBZUFCNEFLd0FyQUZBQVVBQlFBRkFBR0FCUUFDc0FLd0FyQUNzQUhnQWVBRkFBSGdCUUFGQUFVQUFyQUZBQUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUJBQUVBQVFBQkFBRUFBUUFCQUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQVVBQWVBQjRBSGdBZUFCNEFIZ0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBWUFBMEFLd0FyQUI0QUhnQWJBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBRFFBRUFCNEFCQUFFQUI0QUJBQUVBQk1BQkFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBS3dBckFDc0FLd0FyQUZZQVZnQldBQjRBSGdBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFHZ0FhQUJvQUdBQVlBQjRBSGdBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFFd0FFQUNzQUV3QVRBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFCb0FHUUFaQUI0QVVBQlFBQVFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUJNQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUI0QUhnQUVBQVFBQkFBRUFBUUFCQUJRQUZBQUJBQUVBQjRBQkFBRUFBUUFCQUJRQUZBQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QlFBRkFBVUFBZUFCNEFVQUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBZUFGQUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQVVBQlFBQjRBSGdBWUFCTUFVQUFyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBRkFBQkFBRUFBUUFCQUFFQUZBQUJBQUVBQVFBVUFBRUFBUUFCQUFFQUFRQUt3QXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQXJBQ3NBSGdBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBZUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFOQUEwQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QWVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFGQUFVQUFyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFLd0FyQUNzQVVBQlFBRkFBVUFBckFDc0FCQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFLd0FyQUFRQUJBQXJBQ3NBQkFBRUFBUUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFyQUNzQUt3QXJBRkFBVUFBckFGQUFVQUJRQUFRQUJBQXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCUUFGQUFHZ0FhQUZBQVVBQlFBRkFBVUFCTUFCNEFHd0JRQUI0QUt3QXJBQ3NBQkFBRUFBUUFLd0JRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQXJBRkFBVUFBckFGQUFVQUFyQUNzQUJBQXJBQVFBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQVFBQkFBckFDc0FCQUFFQUFRQUt3QXJBQ3NBQkFBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFLd0JRQUNzQUt3QXJBQ3NBS3dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FFQUFRQVVBQlFBRkFBQkFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFBckFGQUFVQUJRQUZBQVVBQXJBQ3NBQkFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFFQUNzQUJBQUVBQVFBS3dBckFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFBUUFCQUFyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QWVBQnNBS3dBckFDc0FLd0FyQUNzQUt3QlFBQVFBQkFBRUFBUUFCQUFFQUNzQUJBQUVBQVFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFGQUFVQUFyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUt3QXJBQVFBQkFBckFDc0FCQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUFRQUJBQXJBQ3NBS3dBckFGQUFVQUFyQUZBQVVBQlFBQVFBQkFBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FlQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FFQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QlFBRkFBVUFBckFGQUFVQUJRQUZBQUt3QXJBQ3NBVUFCUUFDc0FVQUFyQUZBQVVBQXJBQ3NBS3dCUUFGQUFLd0FyQUNzQVVBQlFBRkFBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBRUFBUUFCQUFFQUFRQUt3QXJBQ3NBQkFBRUFBUUFLd0FFQUFRQUJBQUVBQ3NBS3dCUUFDc0FLd0FyQUNzQUt3QXJBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFGQUFVQUJRQUI0QUhnQWVBQjRBSGdBZUFCc0FIZ0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFDc0FCQUFFQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUFRQUJBQXJBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QlFBRkFBQkFBRUFDc0FLd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFCNEFVQUFFQUFRQUJBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBQ3NBS3dBRUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFFQUNzQUJBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QXJBQVFBQkFBckFDc0FLd0FyQUNzQUt3QXJBRkFBS3dCUUFGQUFCQUFFQUNzQUt3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBQ3NBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFDc0FCQUFFQUFRQUJBQlFBQjRBS3dBckFDc0FLd0JRQUZBQVVBQUVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFDc0FLd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUJvQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUFRQUJBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBRUFDc0FLd0FyQUNzQUJBQUVBQVFBQkFBRUFBUUFLd0FFQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLd0FyQUFRQUJBQWVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQXFBRndBWEFBcUFDb0FLZ0FxQUNvQUtnQXFBQ3NBS3dBckFDc0FHd0JjQUZ3QVhBQmNBRndBWEFCY0FDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBZUFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FEUUFOQUNzQUt3QXJBQ3NBS3dCY0FGd0FLd0JjQUNzQUt3QmNBRndBS3dCY0FDc0FLd0JjQUNzQUt3QXJBQ3NBS3dBckFGd0FYQUJjQUZ3QUt3QmNBRndBWEFCY0FGd0FYQUJjQUNzQVhBQmNBRndBS3dCY0FDc0FYQUFyQUNzQVhBQmNBQ3NBWEFCY0FGd0FYQUFxQUZ3QVhBQXFBQ29BS2dBcUFDb0FLZ0FyQUNvQUtnQmNBQ3NBS3dCY0FGd0FYQUJjQUZ3QUt3QmNBQ3NBS2dBcUFDb0FLZ0FxQUNvQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBS3dBckFGd0FYQUJjQUZ3QVVBQU9BQTRBRGdBT0FCNEFEZ0FPQUFrQURnQU9BQTBBQ1FBVEFCTUFFd0FUQUJNQUNRQWVBQk1BSGdBZUFCNEFCQUFFQUI0QUhnQWVBQjRBSGdBZUFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFOQUFRQUhnQUVBQjRBQkFBV0FCRUFGZ0FSQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFOQUFRQUJBQUVBQVFBQkFBTkFBUUFCQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBRFFBTkFCNEFIZ0FlQUI0QUhnQWVBQVFBSGdBZUFCNEFIZ0FlQUI0QUt3QWVBQjRBRGdBT0FBMEFEZ0FlQUI0QUhnQWVBQjRBQ1FBSkFDc0FLd0FyQUNzQUt3QmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBRndBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBTkFBMEFIZ0FlQUI0QUhnQmNBRndBWEFCY0FGd0FYQUFxQUNvQUtnQXFBRndBWEFCY0FGd0FLZ0FxQUNvQVhBQXFBQ29BS2dCY0FGd0FLZ0FxQUNvQUtnQXFBQ29BS2dCY0FGd0FYQUFxQUNvQUtnQXFBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQVhBQXFBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBS2dBcUFDb0FLZ0FxQUNvQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUNzQUt3QXJBQ3NBS3dCUUFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFlQUZBQVVBQlFBRkFBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUFyQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUFyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQUt3QlFBRkFBVUFCUUFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBRUFBUUFCQUFlQUEwQUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBTkFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQWVBQjRBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQTBBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQllBRVFBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQURRQU5BQTBBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBQkFBRUFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQUVBQTBBRFFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUNzQUJBQUVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUFxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQURRQU5BQlVBWEFBTkFCNEFEUUFiQUZ3QUtnQXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUI0QUhnQVRBQk1BRFFBTkFBNEFIZ0FUQUJNQUhnQUVBQVFBQkFBSkFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFBUUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUJRQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFLd0FyQUNzQUt3QWVBQ3NBS3dBckFCTUFFd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUNzQUt3QmNBRndBWEFCY0FGd0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBQ3NBS3dBckFDc0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FLd0FyQUNzQUt3QXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCY0FDc0FLd0FyQUNvQUtnQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQ3NBS3dBZUFCNEFYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXJBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBckFDc0FCQUJMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUNzQUt3QXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLd0FyQUNzQUt3QXJBQ3NBS2dBcUFDb0FLZ0FxQUNvQUtnQmNBQ29BS2dBcUFDb0FLZ0FxQUNzQUt3QUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBRFFBTkFCNEFEUUFOQUEwQURRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ3NBS3dBckFBUUFCQUFFQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFVQUJRQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSGdBZUFCNEFIZ0JRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBckFDc0FLd0FOQUEwQURRQU5BQTBBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FLd0JRQUZBQVVBQkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFOQUEwQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFIZ0FFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBRkFBVUFCUUFGQUFCQUJRQUZBQVVBQlFBQVFBQkFBRUFGQUFVQUFFQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFLd0FFQUFRQUJBQUVBQVFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQUt3QlFBQ3NBVUFBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFGQUFIZ0FlQUI0QVVBQlFBRkFBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFGQUFVQUJRQUZBQUt3QXJBQjRBSGdBZUFCNEFIZ0FlQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBVUFCUUFGQUFLd0FlQUI0QUhnQWVBQjRBSGdBZUFBNEFIZ0FyQUEwQURRQU5BQTBBRFFBTkFBMEFDUUFOQUEwQURRQUlBQVFBQ3dBRUFBUUFEUUFKQUEwQURRQU1BQjBBSFFBZUFCY0FGd0FXQUJjQUZ3QVhBQllBRndBZEFCMEFIZ0FlQUJRQUZBQVVBQTBBQVFBQkFBUUFCQUFFQUFRQUJBQUpBQm9BR2dBYUFCb0FHZ0FhQUJvQUdnQWVBQmNBRndBZEFCVUFGUUFlQUI0QUhnQWVBQjRBSGdBWUFCWUFFUUFWQUJVQUZRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBTkFCNEFEUUFOQUEwQURRQWVBQTBBRFFBTkFBY0FIZ0FlQUI0QUhnQXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBVUFCUUFDc0FLd0JQQUZBQVVBQlFBRkFBVUFBZUFCNEFIZ0FXQUJFQVR3QlFBRThBVHdCUEFFOEFVQUJRQUZBQVVBQlFBQjRBSGdBZUFCWUFFUUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FHd0FiQUJzQUd3QWJBQnNBR3dBYUFCc0FHd0FiQUJzQUd3QWJBQnNBR3dBYkFCc0FHd0FiQUJzQUd3QWFBQnNBR3dBYkFCc0FHZ0FiQUJzQUdnQWJBQnNBR3dBYkFCc0FHd0FiQUJzQUd3QWJBQnNBR3dBYkFCc0FHd0FiQUJzQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFCNEFIZ0JRQUJvQUhnQWRBQjRBVUFBZUFCb0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFUd0FlQUZBQUd3QWVBQjRBVUFCUUFGQUFVQUJRQUI0QUhnQWVBQjBBSFFBZUFGQUFIZ0JRQUI0QVVBQWVBRkFBVHdCUUFGQUFIZ0FlQUI0QUhnQWVBQjRBSGdCUUFGQUFVQUJRQUZBQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUI0QVVBQlFBRkFBVUFCUEFFOEFVQUJRQUZBQVVBQlFBRThBVUFCUUFFOEFVQUJQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlFBRkFBVUFCUUFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFIZ0FlQUZBQVVBQlFBRkFBVHdBZUFCNEFLd0FyQUNzQUt3QWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZEFCNEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhRQWVBQjBBSFFBZUFCNEFIZ0FkQUIwQUhnQWVBQjBBSGdBZUFCNEFIUUFlQUIwQUd3QWJBQjRBSFFBZUFCNEFIZ0FlQUIwQUhnQWVBQjBBSFFBZEFCMEFIZ0FlQUIwQUhnQWRBQjRBSFFBZEFCMEFIUUFkQUIwQUhnQWRBQjRBSGdBZUFCNEFIZ0FkQUIwQUhRQWRBQjRBSGdBZUFCNEFIUUFkQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhRQWVBQjRBSGdBZEFCNEFIZ0FlQUI0QUhnQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIUUFkQUI0QUhnQWRBQjBBSFFBZEFCNEFIZ0FkQUIwQUhnQWVBQjBBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZEFCMEFIZ0FlQUIwQUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCMEFIZ0FlQUI0QUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUIwQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FkQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCUUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBV0FCRUFGZ0FSQUI0QUhnQWVBQjRBSGdBZUFCMEFIZ0FlQUI0QUhnQWVBQjRBSGdBbEFDVUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFGZ0FSQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ1VBSlFBbEFDVUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JRQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjRBSGdBZUFCNEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhnQWVBQjBBSFFBZEFCMEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FkQUIwQUhnQWRBQjBBSFFBZEFCMEFIUUFkQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FkQUIwQUhnQWVBQjBBSFFBZUFCNEFIZ0FlQUIwQUhRQWVBQjRBSGdBZUFCMEFIUUFkQUI0QUhnQWRBQjRBSGdBZEFCMEFIUUFkQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIUUFkQUIwQUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUpRQWxBQ1VBSlFBZUFCMEFIUUFlQUI0QUhRQWVBQjRBSGdBZUFCMEFIUUFlQUI0QUhnQWVBQ1VBSlFBZEFCMEFKUUFlQUNVQUpRQWxBQ0FBSlFBbEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSlFBbEFDVUFIZ0FlQUI0QUhnQWRBQjRBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIUUFkQUI0QUhRQWRBQjBBSGdBZEFDVUFIUUFkQUI0QUhRQWRBQjRBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWxBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCMEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSFFBZEFCMEFIUUFsQUI0QUpRQWxBQ1VBSFFBbEFDVUFIUUFkQUIwQUpRQWxBQjBBSFFBbEFCMEFIUUFsQUNVQUpRQWVBQjBBSGdBZUFCNEFIZ0FkQUIwQUpRQWRBQjBBSFFBZEFCMEFIUUFsQUNVQUpRQWxBQ1VBSFFBbEFDVUFJQUFsQUIwQUhRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUhnQWVBQjRBSlFBbEFDQUFJQUFnQUNBQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FkQUI0QUhnQWVBQmNBRndBWEFCY0FGd0FYQUI0QUV3QVRBQ1VBSGdBZUFCNEFGZ0FSQUJZQUVRQVdBQkVBRmdBUkFCWUFFUUFXQUJFQUZnQVJBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQVdBQkVBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBRmdBUkFCWUFFUUFXQUJFQUZnQVJBQllBRVFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCWUFFUUFXQUJFQUZnQVJBQllBRVFBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBRmdBUkFCWUFFUUFXQUJFQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUZnQVJBQllBRVFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCWUFFUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSFFBZEFCMEFIUUFkQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUI0QUhnQWVBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FFQUFRQUJBQWVBQjRBS3dBckFDc0FLd0FyQUJNQURRQU5BQTBBVUFBVEFBMEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFBTkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QUVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUEwQURRQU5BQTBBRFFBTkFBMEFEUUFlQUEwQUZnQU5BQjRBSGdBWEFCY0FIZ0FlQUJjQUZ3QVdBQkVBRmdBUkFCWUFFUUFXQUJFQURRQU5BQTBBRFFBVEFGQUFEUUFOQUI0QURRQU5BQjRBSGdBZUFCNEFIZ0FNQUF3QURRQU5BQTBBSGdBTkFBMEFGZ0FOQUEwQURRQU5BQTBBRFFBTkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNzQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFyQUNzQUt3QXJBQTBBRVFBUkFDVUFKUUJIQUZjQVZ3QVdBQkVBRmdBUkFCWUFFUUFXQUJFQUZnQVJBQ1VBSlFBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBRlFBV0FCRUFFUUFsQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUFRQUJBQUVBQVFBQkFBRUFDVUFWd0JYQUZjQVZ3QTJBQ1VBSlFCWEFGY0FWd0JIQUVjQUpRQWxBQ1VBS3dCUkFGY0FVUUJYQUZFQVZ3QlJBRmNBVVFCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRkVBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JSQUZjQVVRQlhBRkVBVndCWEFGY0FWd0JYQUZjQVVRQlhBRmNBVndCWEFGY0FWd0JSQUZFQUt3QXJBQVFBQkFBVkFCVUFSd0JIQUZjQUZRQlJBRmNBVVFCWEFGRUFWd0JSQUZjQVVRQlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZFQVZ3QlJBRmNBVVFCWEFGY0FWd0JYQUZjQVZ3QlJBRmNBVndCWEFGY0FWd0JYQUZFQVVRQlhBRmNBVndCWEFCVUFVUUJIQUVjQVZ3QXJBQ3NBS3dBckFDc0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUt3QXJBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndBckFDVUFKUUJYQUZjQVZ3QlhBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBS3dBckFDc0FLd0FyQUNVQUpRQWxBQ1VBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVUUJSQUZFQVVRQlJBRkVBVVFCUkFGRUFVUUJSQUZFQVVRQlJBRkVBVVFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNzQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFFOEFUd0JQQUU4QVR3QlBBRThBVHdBbEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUVjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FLd0FyQUNzQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQURRQVRBQTBBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBRkFBQkFBRUFBUUFCQUFlQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUhnQlFBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBVUFCUUFBUUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFlQUEwQURRQU5BQTBBRFFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFVQUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdCUUFCNEFIZ0FlQUI0QUhnQWVBRkFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBVUFCUUFGQUFCQUJRQUZBQVVBQlFBQVFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQUVBQVFBQkFBZUFCNEFIZ0FlQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQUhnQWVBQm9BSGdBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBRGdBT0FCTUFFd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FOQUEwQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBS3dBckFDc0FLd0FFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUJRQUZBQVVBQlFBRkFBVUFBZUFCNEFIZ0JRQUE0QVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUEwQURRQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUI0QVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBQ3NBS3dBckFBUUFIZ0FlQUI0QUhnQWVBQjRBRFFBTkFBMEFIZ0FlQUI0QUhnQXJBRkFBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FLd0FyQUI0QUhnQmNBRndBWEFCY0FGd0FLZ0JjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVhBQmNBRndBWEFCY0FDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFBUUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBSGdBTkFBMEFEUUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBS2dBcUFDb0FYQUFxQUNvQUtnQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQXFBRndBS2dBcUFDb0FYQUJjQUNvQUtnQmNBRndBWEFCY0FGd0FLZ0FxQUZ3QUtnQmNBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZ3QVhBQmNBQ29BS2dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQTBBRFFCUUFGQUFVQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUFyQUNzQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBRFFBRUFBUUFLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQ3NBS3dBckFDc0FWQUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJVQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBS3dBckFDc0FLd0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQUt3QXJBQ3NBS3dBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFDVUFKUUJYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FKUUFsQUNVQUpRQWxBQ1VBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFGWUFCQUJXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUI0QVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdBckFGWUFWZ0JXQUZZQVZnQXJBRllBS3dCV0FGWUFLd0JXQUZZQUt3QldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBRVFBV0FGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQWFBQjRBS3dBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBR0FBUkFCRUFHQUFZQUJNQUV3QVdBQkVBRkFBckFDc0FLd0FyQUNzQUt3QUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNVQUpRQWxBQ1VBSlFBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBRmdBUkFCWUFFUUFsQUNVQUZnQVJBQ1VBSlFBbEFDVUFKUUFsQUNVQUVRQWxBQkVBS3dBVkFCVUFFd0FUQUNVQUZnQVJBQllBRVFBV0FCRUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDc0FKUUFiQUJvQUpRQXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUFjQUt3QVRBQ1VBSlFBYkFCb0FKUUFsQUJZQUVRQWxBQ1VBRVFBbEFCRUFKUUJYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUJVQUZRQWxBQ1VBSlFBVEFDVUFWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFCWUFKUUFSQUNVQUpRQWxBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QVdBQ1VBRVFBbEFCWUFFUUFSQUJZQUVRQVJBQlVBVndCUkFGRUFVUUJSQUZFQVVRQlJBRkVBVVFCUkFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRWNBUndBckFDc0FWd0JYQUZjQVZ3QlhBRmNBS3dBckFGY0FWd0JYQUZjQVZ3QlhBQ3NBS3dCWEFGY0FWd0JYQUZjQVZ3QXJBQ3NBVndCWEFGY0FLd0FyQUNzQUdnQWJBQ1VBSlFBbEFCc0FHd0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FFQUFRQUJBQVFBQjBBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBRFFBTkFBMEFLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdCUUFGQUFIZ0FlQUI0QUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFDc0FLd0FyQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFCQUFyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUFRQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQURRQlFBRkFBVUFCUUFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUEwQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFBckFDc0FVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUNzQUt3QXJBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQTBBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUI0QUhnQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQURRQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFCNEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBQkFBRUFBUUFLd0FFQUFRQUt3QXJBQ3NBS3dBckFBUUFCQUFFQUFRQVVBQlFBRkFBVUFBckFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUJBQUVBQVFBS3dBckFDc0FLd0FFQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FEUUFOQUEwQURRQU5BQTBBRFFBTkFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUI0QVVBQlFBRkFBVUFCUUFGQUFVQUJRQUI0QVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUEwQURRQU5BQTBBRFFBTkFCUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBTkFBMEFEUUFOQUEwQURRQU5BRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUhnQWVBQjRBSGdBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQTBBRFFBZUFCNEFIZ0FlQUI0QUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQWVBQjRBSGdBTkFBMEFEUUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBTkFBMEFEUUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBZUFBNEFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FFQUZBQVVBQlFBRkFBRFFBTkFCNEFEUUFlQUFRQUJBQUVBQjRBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FVQUFPQUZBQURRQU5BQTBBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFOQUEwQUhnQU5BQTBBSGdBRUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFLd0JRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQTBBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQVVBQlFBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQUVBQVFBQkFBckFDc0FCQUFFQUNzQUt3QUVBQVFBQkFBckFDc0FVQUFyQUNzQUt3QXJBQ3NBS3dBRUFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFCQUFFQUNzQUt3QUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QXJBQVFBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUJRQUZBQVVBQlFBQTBBRFFBTkFBMEFIZ0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUNzQURRQXJBQjRBS3dBckFBUUFCQUFFQUFRQVVBQlFBQjRBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFPQUEwQURRQVRBQk1BSGdBZUFCNEFEUUFOQUEwQURRQU5BQTBBRFFBTkFBMEFEUUFOQUEwQURRQU5BQTBBVUFCUUFGQUFVQUFFQUFRQUt3QXJBQVFBRFFBTkFCNEFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBS3dBckFDc0FLd0FPQUE0QURnQU9BQTRBRGdBT0FBNEFEZ0FPQUE0QURnQU9BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUFyQUNzQUt3QXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FyQUNzQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBWEFCY0FBMEFEUUFOQUNvQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBRkFBQkFBRUFBUUFCQUFPQUI0QURRQU5BQTBBRFFBT0FCNEFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQVVBQlFBRkFBVUFBckFDc0FVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUEwQURRQU5BQ3NBRGdBT0FBNEFEUUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUZBQURRQU5BQTBBRFFBTkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FPQUJNQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFyQUNzQUt3QUVBQ3NBQkFBRUFDc0FCQUFFQUFRQUJBQUVBQVFBQkFCUUFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FEUUFOQUEwQURRQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFTQUJJQUVnQVF3QkRBRU1BVUFCUUFGQUFVQUJEQUZBQVVBQlFBRWdBUXdCSUFFTUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFTQUJEQUVNQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQklBRU1BVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBS3dBckFDc0FLd0FOQUEwQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFBUUFCQUFFQUFRQUJBQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUEwQURRQU5BQjRBSGdBZUFCNEFIZ0FlQUZBQVVBQlFBRkFBRFFBZUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQUVBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUVjQVJ3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBZUFBUUFCQUFOQUFRQUJBQUVBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFCQUFFQUFRQUJBQUVBQjRBSGdBZUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUhnQWVBQVFBQkFBRUFBUUFCQUFFQUFRQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBRUFBUUFCQUFFQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFCNEFIZ0FFQUFRQUJBQWVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBRkFBVUFBckFDc0FVQUFyQUNzQVVBQlFBQ3NBS3dCUUFGQUFVQUJRQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBZUFCNEFVQUJRQUZBQVVBQlFBQ3NBVUFBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBZUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQjRBSGdBZUFCNEFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQUVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBQkFBZUFCNEFEUUFOQUEwQURRQWVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQXJBQVFBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FIZ0FlQUI0QUhnQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QXJBQ3NBS3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFDc0FLd0FyQUNzQUZnQVdBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQXJBRkFBS3dBckFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFBckFGQUFLd0JRQUNzQUt3QXJBQ3NBS3dBckFGQUFLd0FyQUNzQUt3QlFBQ3NBVUFBckFGQUFLd0JRQUZBQVVBQXJBRkFBVUFBckFGQUFLd0FyQUZBQUt3QlFBQ3NBVUFBckFGQUFLd0JRQUNzQVVBQlFBQ3NBVUFBckFDc0FVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQXJBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUI0QUhnQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QWxBQ1VBSlFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZUFDVUFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIZ0FlQUNVQUpRQWxBQ1VBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDa0FLUUFwQUNrQUtRQXBBQ2tBS1FBcEFDa0FLUUFwQUNrQUtRQXBBQ2tBS1FBcEFDa0FLUUFwQUNrQUtRQXBBQ2tBS1FBbEFDVUFKUUFsQUNVQUlBQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFCNEFIZ0FsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSGdBZUFDVUFKUUFsQUNVQUpRQWVBQ1VBSlFBbEFDVUFKUUFnQUNBQUlBQWxBQ1VBSUFBbEFDVUFJQUFnQUNBQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSVFBaEFDRUFJUUFoQUNVQUpRQWdBQ0FBSlFBbEFDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFJQUFnQUNBQUlBQWxBQ1VBSlFBbEFDQUFKUUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFsQUNVQUpRQWdBQ1VBSlFBbEFDVUFJQUFnQUNBQUpRQWdBQ0FBSUFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWVBQ1VBSGdBbEFCNEFKUUFsQUNVQUpRQWxBQ0FBSlFBbEFDVUFKUUFlQUNVQUhnQWVBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFIZ0FlQUI0QUhnQWVBQjRBSGdBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUlBQWdBQ1VBSlFBbEFDVUFJQUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFJQUFsQUNVQUpRQWxBQ0FBSUFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUI0QUhnQWVBQjRBSGdBZUFDVUFKUUFsQUNVQUpRQWxBQ1VBSUFBZ0FDQUFKUUFsQUNVQUlBQWdBQ0FBSUFBZ0FCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUZ3QVhBQmNBRlFBVkFCVUFIZ0FlQUI0QUhnQWxBQ1VBSlFBZ0FDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSUFBZ0FDQUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFJQUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUlBQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWxBQ1VBSlFBbEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSlFBbEFDVUFKUUFsQUNVQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNBQUlBQWdBQ0FBSUFBbEFDQUFJQUFsQUNVQUpRQWxBQ1VBSlFBZ0FDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFKUUFsQUNVQUlBQWdBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ3NBS3dCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFyQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBJztcblxuICAgIC8qIEBmbG93ICovXHJcbiAgICB2YXIgTEVUVEVSX05VTUJFUl9NT0RJRklFUiA9IDUwO1xyXG4gICAgLy8gTm9uLXRhaWxvcmFibGUgTGluZSBCcmVha2luZyBDbGFzc2VzXHJcbiAgICB2YXIgQksgPSAxOyAvLyAgQ2F1c2UgYSBsaW5lIGJyZWFrIChhZnRlcilcclxuICAgIHZhciBDUiA9IDI7IC8vICBDYXVzZSBhIGxpbmUgYnJlYWsgKGFmdGVyKSwgZXhjZXB0IGJldHdlZW4gQ1IgYW5kIExGXHJcbiAgICB2YXIgTEYgPSAzOyAvLyAgQ2F1c2UgYSBsaW5lIGJyZWFrIChhZnRlcilcclxuICAgIHZhciBDTSA9IDQ7IC8vICBQcm9oaWJpdCBhIGxpbmUgYnJlYWsgYmV0d2VlbiB0aGUgY2hhcmFjdGVyIGFuZCB0aGUgcHJlY2VkaW5nIGNoYXJhY3RlclxyXG4gICAgdmFyIE5MID0gNTsgLy8gIENhdXNlIGEgbGluZSBicmVhayAoYWZ0ZXIpXHJcbiAgICB2YXIgV0ogPSA3OyAvLyAgUHJvaGliaXQgbGluZSBicmVha3MgYmVmb3JlIGFuZCBhZnRlclxyXG4gICAgdmFyIFpXID0gODsgLy8gIFByb3ZpZGUgYSBicmVhayBvcHBvcnR1bml0eVxyXG4gICAgdmFyIEdMID0gOTsgLy8gIFByb2hpYml0IGxpbmUgYnJlYWtzIGJlZm9yZSBhbmQgYWZ0ZXJcclxuICAgIHZhciBTUCA9IDEwOyAvLyBFbmFibGUgaW5kaXJlY3QgbGluZSBicmVha3NcclxuICAgIHZhciBaV0ogPSAxMTsgLy8gUHJvaGliaXQgbGluZSBicmVha3Mgd2l0aGluIGpvaW5lciBzZXF1ZW5jZXNcclxuICAgIC8vIEJyZWFrIE9wcG9ydHVuaXRpZXNcclxuICAgIHZhciBCMiA9IDEyOyAvLyAgUHJvdmlkZSBhIGxpbmUgYnJlYWsgb3Bwb3J0dW5pdHkgYmVmb3JlIGFuZCBhZnRlciB0aGUgY2hhcmFjdGVyXHJcbiAgICB2YXIgQkEgPSAxMzsgLy8gIEdlbmVyYWxseSBwcm92aWRlIGEgbGluZSBicmVhayBvcHBvcnR1bml0eSBhZnRlciB0aGUgY2hhcmFjdGVyXHJcbiAgICB2YXIgQkIgPSAxNDsgLy8gIEdlbmVyYWxseSBwcm92aWRlIGEgbGluZSBicmVhayBvcHBvcnR1bml0eSBiZWZvcmUgdGhlIGNoYXJhY3RlclxyXG4gICAgdmFyIEhZID0gMTU7IC8vICBQcm92aWRlIGEgbGluZSBicmVhayBvcHBvcnR1bml0eSBhZnRlciB0aGUgY2hhcmFjdGVyLCBleGNlcHQgaW4gbnVtZXJpYyBjb250ZXh0XHJcbiAgICB2YXIgQ0IgPSAxNjsgLy8gICBQcm92aWRlIGEgbGluZSBicmVhayBvcHBvcnR1bml0eSBjb250aW5nZW50IG9uIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cclxuICAgIC8vIENoYXJhY3RlcnMgUHJvaGliaXRpbmcgQ2VydGFpbiBCcmVha3NcclxuICAgIHZhciBDTCA9IDE3OyAvLyAgUHJvaGliaXQgbGluZSBicmVha3MgYmVmb3JlXHJcbiAgICB2YXIgQ1AgPSAxODsgLy8gIFByb2hpYml0IGxpbmUgYnJlYWtzIGJlZm9yZVxyXG4gICAgdmFyIEVYID0gMTk7IC8vICBQcm9oaWJpdCBsaW5lIGJyZWFrcyBiZWZvcmVcclxuICAgIHZhciBJTiA9IDIwOyAvLyAgQWxsb3cgb25seSBpbmRpcmVjdCBsaW5lIGJyZWFrcyBiZXR3ZWVuIHBhaXJzXHJcbiAgICB2YXIgTlMgPSAyMTsgLy8gIEFsbG93IG9ubHkgaW5kaXJlY3QgbGluZSBicmVha3MgYmVmb3JlXHJcbiAgICB2YXIgT1AgPSAyMjsgLy8gIFByb2hpYml0IGxpbmUgYnJlYWtzIGFmdGVyXHJcbiAgICB2YXIgUVUgPSAyMzsgLy8gIEFjdCBsaWtlIHRoZXkgYXJlIGJvdGggb3BlbmluZyBhbmQgY2xvc2luZ1xyXG4gICAgLy8gTnVtZXJpYyBDb250ZXh0XHJcbiAgICB2YXIgSVMgPSAyNDsgLy8gIFByZXZlbnQgYnJlYWtzIGFmdGVyIGFueSBhbmQgYmVmb3JlIG51bWVyaWNcclxuICAgIHZhciBOVSA9IDI1OyAvLyAgRm9ybSBudW1lcmljIGV4cHJlc3Npb25zIGZvciBsaW5lIGJyZWFraW5nIHB1cnBvc2VzXHJcbiAgICB2YXIgUE8gPSAyNjsgLy8gIERvIG5vdCBicmVhayBmb2xsb3dpbmcgYSBudW1lcmljIGV4cHJlc3Npb25cclxuICAgIHZhciBQUiA9IDI3OyAvLyAgRG8gbm90IGJyZWFrIGluIGZyb250IG9mIGEgbnVtZXJpYyBleHByZXNzaW9uXHJcbiAgICB2YXIgU1kgPSAyODsgLy8gIFByZXZlbnQgYSBicmVhayBiZWZvcmU7IGFuZCBhbGxvdyBhIGJyZWFrIGFmdGVyXHJcbiAgICAvLyBPdGhlciBDaGFyYWN0ZXJzXHJcbiAgICB2YXIgQUkgPSAyOTsgLy8gIEFjdCBsaWtlIEFMIHdoZW4gdGhlIHJlc29sdmVkRUFXIGlzIE47IG90aGVyd2lzZTsgYWN0IGFzIElEXHJcbiAgICB2YXIgQUwgPSAzMDsgLy8gIEFyZSBhbHBoYWJldGljIGNoYXJhY3RlcnMgb3Igc3ltYm9scyB0aGF0IGFyZSB1c2VkIHdpdGggYWxwaGFiZXRpYyBjaGFyYWN0ZXJzXHJcbiAgICB2YXIgQ0ogPSAzMTsgLy8gIFRyZWF0IGFzIE5TIG9yIElEIGZvciBzdHJpY3Qgb3Igbm9ybWFsIGJyZWFraW5nLlxyXG4gICAgdmFyIEVCID0gMzI7IC8vICBEbyBub3QgYnJlYWsgZnJvbSBmb2xsb3dpbmcgRW1vamkgTW9kaWZpZXJcclxuICAgIHZhciBFTSA9IDMzOyAvLyAgRG8gbm90IGJyZWFrIGZyb20gcHJlY2VkaW5nIEVtb2ppIEJhc2VcclxuICAgIHZhciBIMiA9IDM0OyAvLyAgRm9ybSBLb3JlYW4gc3lsbGFibGUgYmxvY2tzXHJcbiAgICB2YXIgSDMgPSAzNTsgLy8gIEZvcm0gS29yZWFuIHN5bGxhYmxlIGJsb2Nrc1xyXG4gICAgdmFyIEhMID0gMzY7IC8vICBEbyBub3QgYnJlYWsgYXJvdW5kIGEgZm9sbG93aW5nIGh5cGhlbjsgb3RoZXJ3aXNlIGFjdCBhcyBBbHBoYWJldGljXHJcbiAgICB2YXIgSUQgPSAzNzsgLy8gIEJyZWFrIGJlZm9yZSBvciBhZnRlcjsgZXhjZXB0IGluIHNvbWUgbnVtZXJpYyBjb250ZXh0XHJcbiAgICB2YXIgSkwgPSAzODsgLy8gIEZvcm0gS29yZWFuIHN5bGxhYmxlIGJsb2Nrc1xyXG4gICAgdmFyIEpWID0gMzk7IC8vICBGb3JtIEtvcmVhbiBzeWxsYWJsZSBibG9ja3NcclxuICAgIHZhciBKVCA9IDQwOyAvLyAgRm9ybSBLb3JlYW4gc3lsbGFibGUgYmxvY2tzXHJcbiAgICB2YXIgUkkgPSA0MTsgLy8gIEtlZXAgcGFpcnMgdG9nZXRoZXIuIEZvciBwYWlyczsgYnJlYWsgYmVmb3JlIGFuZCBhZnRlciBvdGhlciBjbGFzc2VzXHJcbiAgICB2YXIgU0EgPSA0MjsgLy8gIFByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGNvbnRpbmdlbnQgb24gYWRkaXRpb25hbCwgbGFuZ3VhZ2Utc3BlY2lmaWMgY29udGV4dCBhbmFseXNpc1xyXG4gICAgdmFyIFhYID0gNDM7IC8vICBIYXZlIGFzIHlldCB1bmtub3duIGxpbmUgYnJlYWtpbmcgYmVoYXZpb3Igb3IgdW5hc3NpZ25lZCBjb2RlIHBvc2l0aW9uc1xyXG4gICAgdmFyIEJSRUFLX01BTkRBVE9SWSA9ICchJztcclxuICAgIHZhciBCUkVBS19OT1RfQUxMT1dFRCA9ICfDlyc7XHJcbiAgICB2YXIgQlJFQUtfQUxMT1dFRCA9ICfDtyc7XHJcbiAgICB2YXIgVW5pY29kZVRyaWUgPSBjcmVhdGVUcmllRnJvbUJhc2U2NChiYXNlNjQpO1xyXG4gICAgdmFyIEFMUEhBQkVUSUNTID0gW0FMLCBITF07XHJcbiAgICB2YXIgSEFSRF9MSU5FX0JSRUFLUyA9IFtCSywgQ1IsIExGLCBOTF07XHJcbiAgICB2YXIgU1BBQ0UgPSBbU1AsIFpXXTtcclxuICAgIHZhciBQUkVGSVhfUE9TVEZJWCA9IFtQUiwgUE9dO1xyXG4gICAgdmFyIExJTkVfQlJFQUtTID0gSEFSRF9MSU5FX0JSRUFLUy5jb25jYXQoU1BBQ0UpO1xyXG4gICAgdmFyIEtPUkVBTl9TWUxMQUJMRV9CTE9DSyA9IFtKTCwgSlYsIEpULCBIMiwgSDNdO1xyXG4gICAgdmFyIEhZUEhFTiA9IFtIWSwgQkFdO1xyXG4gICAgdmFyIGNvZGVQb2ludHNUb0NoYXJhY3RlckNsYXNzZXMgPSBmdW5jdGlvbiAoY29kZVBvaW50cywgbGluZUJyZWFrKSB7XHJcbiAgICAgICAgaWYgKGxpbmVCcmVhayA9PT0gdm9pZCAwKSB7IGxpbmVCcmVhayA9ICdzdHJpY3QnOyB9XHJcbiAgICAgICAgdmFyIHR5cGVzID0gW107XHJcbiAgICAgICAgdmFyIGluZGljaWVzID0gW107XHJcbiAgICAgICAgdmFyIGNhdGVnb3JpZXMgPSBbXTtcclxuICAgICAgICBjb2RlUG9pbnRzLmZvckVhY2goZnVuY3Rpb24gKGNvZGVQb2ludCwgaW5kZXgpIHtcclxuICAgICAgICAgICAgdmFyIGNsYXNzVHlwZSA9IFVuaWNvZGVUcmllLmdldChjb2RlUG9pbnQpO1xyXG4gICAgICAgICAgICBpZiAoY2xhc3NUeXBlID4gTEVUVEVSX05VTUJFUl9NT0RJRklFUikge1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5wdXNoKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgY2xhc3NUeXBlIC09IExFVFRFUl9OVU1CRVJfTU9ESUZJRVI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLnB1c2goZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChbJ25vcm1hbCcsICdhdXRvJywgJ2xvb3NlJ10uaW5kZXhPZihsaW5lQnJlYWspICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gVSsyMDEwLCDigJMgVSsyMDEzLCDjgJwgVSszMDFDLCDjgqAgVSszMEEwXHJcbiAgICAgICAgICAgICAgICBpZiAoWzB4MjAxMCwgMHgyMDEzLCAweDMwMWMsIDB4MzBhMF0uaW5kZXhPZihjb2RlUG9pbnQpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGljaWVzLnB1c2goaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKENCKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2xhc3NUeXBlID09PSBDTSB8fCBjbGFzc1R5cGUgPT09IFpXSikge1xyXG4gICAgICAgICAgICAgICAgLy8gTEIxMCBUcmVhdCBhbnkgcmVtYWluaW5nIGNvbWJpbmluZyBtYXJrIG9yIFpXSiBhcyBBTC5cclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGljaWVzLnB1c2goaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKEFMKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIExCOSBEbyBub3QgYnJlYWsgYSBjb21iaW5pbmcgY2hhcmFjdGVyIHNlcXVlbmNlOyB0cmVhdCBpdCBhcyBpZiBpdCBoYXMgdGhlIGxpbmUgYnJlYWtpbmcgY2xhc3Mgb2ZcclxuICAgICAgICAgICAgICAgIC8vIHRoZSBiYXNlIGNoYXJhY3RlciBpbiBhbGwgb2YgdGhlIGZvbGxvd2luZyBydWxlcy4gVHJlYXQgWldKIGFzIGlmIGl0IHdlcmUgQ00uXHJcbiAgICAgICAgICAgICAgICB2YXIgcHJldiA9IHR5cGVzW2luZGV4IC0gMV07XHJcbiAgICAgICAgICAgICAgICBpZiAoTElORV9CUkVBS1MuaW5kZXhPZihwcmV2KSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRpY2llcy5wdXNoKGluZGljaWVzW2luZGV4IC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKHByZXYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5kaWNpZXMucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXMucHVzaChBTCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5kaWNpZXMucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgIGlmIChjbGFzc1R5cGUgPT09IENKKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXMucHVzaChsaW5lQnJlYWsgPT09ICdzdHJpY3QnID8gTlMgOiBJRCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNsYXNzVHlwZSA9PT0gU0EpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKEFMKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2xhc3NUeXBlID09PSBBSSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2goQUwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEZvciBzdXBwbGVtZW50YXJ5IGNoYXJhY3RlcnMsIGEgdXNlZnVsIGRlZmF1bHQgaXMgdG8gdHJlYXQgY2hhcmFjdGVycyBpbiB0aGUgcmFuZ2UgMTAwMDAuLjFGRkZEIGFzIEFMXHJcbiAgICAgICAgICAgIC8vIGFuZCBjaGFyYWN0ZXJzIGluIHRoZSByYW5nZXMgMjAwMDAuLjJGRkZEIGFuZCAzMDAwMC4uM0ZGRkQgYXMgSUQsIHVudGlsIHRoZSBpbXBsZW1lbnRhdGlvbiBjYW4gYmUgcmV2aXNlZFxyXG4gICAgICAgICAgICAvLyB0byB0YWtlIGludG8gYWNjb3VudCB0aGUgYWN0dWFsIGxpbmUgYnJlYWtpbmcgcHJvcGVydGllcyBmb3IgdGhlc2UgY2hhcmFjdGVycy5cclxuICAgICAgICAgICAgaWYgKGNsYXNzVHlwZSA9PT0gWFgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgoY29kZVBvaW50ID49IDB4MjAwMDAgJiYgY29kZVBvaW50IDw9IDB4MmZmZmQpIHx8IChjb2RlUG9pbnQgPj0gMHgzMDAwMCAmJiBjb2RlUG9pbnQgPD0gMHgzZmZmZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXMucHVzaChJRCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXMucHVzaChBTCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHlwZXMucHVzaChjbGFzc1R5cGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBbaW5kaWNpZXMsIHR5cGVzLCBjYXRlZ29yaWVzXTtcclxuICAgIH07XHJcbiAgICB2YXIgaXNBZGphY2VudFdpdGhTcGFjZUlnbm9yZWQgPSBmdW5jdGlvbiAoYSwgYiwgY3VycmVudEluZGV4LCBjbGFzc1R5cGVzKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBjbGFzc1R5cGVzW2N1cnJlbnRJbmRleF07XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYSkgPyBhLmluZGV4T2YoY3VycmVudCkgIT09IC0xIDogYSA9PT0gY3VycmVudCkge1xyXG4gICAgICAgICAgICB2YXIgaSA9IGN1cnJlbnRJbmRleDtcclxuICAgICAgICAgICAgd2hpbGUgKGkgPD0gY2xhc3NUeXBlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gY2xhc3NUeXBlc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0ID09PSBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gU1ApIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY3VycmVudCA9PT0gU1ApIHtcclxuICAgICAgICAgICAgdmFyIGkgPSBjdXJyZW50SW5kZXg7XHJcbiAgICAgICAgICAgIHdoaWxlIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaS0tO1xyXG4gICAgICAgICAgICAgICAgdmFyIHByZXYgPSBjbGFzc1R5cGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYSkgPyBhLmluZGV4T2YocHJldikgIT09IC0xIDogYSA9PT0gcHJldikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuID0gY3VycmVudEluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChuIDw9IGNsYXNzVHlwZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG4rKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHQgPSBjbGFzc1R5cGVzW25dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCA9PT0gYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IFNQKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChwcmV2ICE9PSBTUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICB2YXIgcHJldmlvdXNOb25TcGFjZUNsYXNzVHlwZSA9IGZ1bmN0aW9uIChjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpIHtcclxuICAgICAgICB2YXIgaSA9IGN1cnJlbnRJbmRleDtcclxuICAgICAgICB3aGlsZSAoaSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHZhciB0eXBlID0gY2xhc3NUeXBlc1tpXTtcclxuICAgICAgICAgICAgaWYgKHR5cGUgPT09IFNQKSB7XHJcbiAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH07XHJcbiAgICB2YXIgX2xpbmVCcmVha0F0SW5kZXggPSBmdW5jdGlvbiAoY29kZVBvaW50cywgY2xhc3NUeXBlcywgaW5kaWNpZXMsIGluZGV4LCBmb3JiaWRkZW5CcmVha3MpIHtcclxuICAgICAgICBpZiAoaW5kaWNpZXNbaW5kZXhdID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IGluZGV4IC0gMTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmb3JiaWRkZW5CcmVha3MpICYmIGZvcmJpZGRlbkJyZWFrc1tjdXJyZW50SW5kZXhdID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGJlZm9yZUluZGV4ID0gY3VycmVudEluZGV4IC0gMTtcclxuICAgICAgICB2YXIgYWZ0ZXJJbmRleCA9IGN1cnJlbnRJbmRleCArIDE7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBjbGFzc1R5cGVzW2N1cnJlbnRJbmRleF07XHJcbiAgICAgICAgLy8gTEI0IEFsd2F5cyBicmVhayBhZnRlciBoYXJkIGxpbmUgYnJlYWtzLlxyXG4gICAgICAgIC8vIExCNSBUcmVhdCBDUiBmb2xsb3dlZCBieSBMRiwgYXMgd2VsbCBhcyBDUiwgTEYsIGFuZCBOTCBhcyBoYXJkIGxpbmUgYnJlYWtzLlxyXG4gICAgICAgIHZhciBiZWZvcmUgPSBiZWZvcmVJbmRleCA+PSAwID8gY2xhc3NUeXBlc1tiZWZvcmVJbmRleF0gOiAwO1xyXG4gICAgICAgIHZhciBuZXh0ID0gY2xhc3NUeXBlc1thZnRlckluZGV4XTtcclxuICAgICAgICBpZiAoY3VycmVudCA9PT0gQ1IgJiYgbmV4dCA9PT0gTEYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoSEFSRF9MSU5FX0JSRUFLUy5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTUFOREFUT1JZO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjYgRG8gbm90IGJyZWFrIGJlZm9yZSBoYXJkIGxpbmUgYnJlYWtzLlxyXG4gICAgICAgIGlmIChIQVJEX0xJTkVfQlJFQUtTLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEI3IERvIG5vdCBicmVhayBiZWZvcmUgc3BhY2VzIG9yIHplcm8gd2lkdGggc3BhY2UuXHJcbiAgICAgICAgaWYgKFNQQUNFLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEI4IEJyZWFrIGJlZm9yZSBhbnkgY2hhcmFjdGVyIGZvbGxvd2luZyBhIHplcm8td2lkdGggc3BhY2UsIGV2ZW4gaWYgb25lIG9yIG1vcmUgc3BhY2VzIGludGVydmVuZS5cclxuICAgICAgICBpZiAocHJldmlvdXNOb25TcGFjZUNsYXNzVHlwZShjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpID09PSBaVykge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEI4YSBEbyBub3QgYnJlYWsgYmV0d2VlbiBhIHplcm8gd2lkdGggam9pbmVyIGFuZCBhbiBpZGVvZ3JhcGgsIGVtb2ppIGJhc2Ugb3IgZW1vamkgbW9kaWZpZXIuXHJcbiAgICAgICAgaWYgKFVuaWNvZGVUcmllLmdldChjb2RlUG9pbnRzW2N1cnJlbnRJbmRleF0pID09PSBaV0ogJiYgKG5leHQgPT09IElEIHx8IG5leHQgPT09IEVCIHx8IG5leHQgPT09IEVNKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMTEgRG8gbm90IGJyZWFrIGJlZm9yZSBvciBhZnRlciBXb3JkIGpvaW5lciBhbmQgcmVsYXRlZCBjaGFyYWN0ZXJzLlxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBXSiB8fCBuZXh0ID09PSBXSikge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMTIgRG8gbm90IGJyZWFrIGFmdGVyIE5CU1AgYW5kIHJlbGF0ZWQgY2hhcmFjdGVycy5cclxuICAgICAgICBpZiAoY3VycmVudCA9PT0gR0wpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjEyYSBEbyBub3QgYnJlYWsgYmVmb3JlIE5CU1AgYW5kIHJlbGF0ZWQgY2hhcmFjdGVycywgZXhjZXB0IGFmdGVyIHNwYWNlcyBhbmQgaHlwaGVucy5cclxuICAgICAgICBpZiAoW1NQLCBCQSwgSFldLmluZGV4T2YoY3VycmVudCkgPT09IC0xICYmIG5leHQgPT09IEdMKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxMyBEbyBub3QgYnJlYWsgYmVmb3JlIOKAmF3igJkgb3Ig4oCYIeKAmSBvciDigJg74oCZIG9yIOKAmC/igJksIGV2ZW4gYWZ0ZXIgc3BhY2VzLlxyXG4gICAgICAgIGlmIChbQ0wsIENQLCBFWCwgSVMsIFNZXS5pbmRleE9mKG5leHQpICE9PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMTQgRG8gbm90IGJyZWFrIGFmdGVyIOKAmFvigJksIGV2ZW4gYWZ0ZXIgc3BhY2VzLlxyXG4gICAgICAgIGlmIChwcmV2aW91c05vblNwYWNlQ2xhc3NUeXBlKGN1cnJlbnRJbmRleCwgY2xhc3NUeXBlcykgPT09IE9QKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxNSBEbyBub3QgYnJlYWsgd2l0aGluIOKAmOKAnVvigJksIGV2ZW4gd2l0aCBpbnRlcnZlbmluZyBzcGFjZXMuXHJcbiAgICAgICAgaWYgKGlzQWRqYWNlbnRXaXRoU3BhY2VJZ25vcmVkKFFVLCBPUCwgY3VycmVudEluZGV4LCBjbGFzc1R5cGVzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMTYgRG8gbm90IGJyZWFrIGJldHdlZW4gY2xvc2luZyBwdW5jdHVhdGlvbiBhbmQgYSBub25zdGFydGVyIChsYj1OUyksIGV2ZW4gd2l0aCBpbnRlcnZlbmluZyBzcGFjZXMuXHJcbiAgICAgICAgaWYgKGlzQWRqYWNlbnRXaXRoU3BhY2VJZ25vcmVkKFtDTCwgQ1BdLCBOUywgY3VycmVudEluZGV4LCBjbGFzc1R5cGVzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMTcgRG8gbm90IGJyZWFrIHdpdGhpbiDigJjigJTigJTigJksIGV2ZW4gd2l0aCBpbnRlcnZlbmluZyBzcGFjZXMuXHJcbiAgICAgICAgaWYgKGlzQWRqYWNlbnRXaXRoU3BhY2VJZ25vcmVkKEIyLCBCMiwgY3VycmVudEluZGV4LCBjbGFzc1R5cGVzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMTggQnJlYWsgYWZ0ZXIgc3BhY2VzLlxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBTUCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxOSBEbyBub3QgYnJlYWsgYmVmb3JlIG9yIGFmdGVyIHF1b3RhdGlvbiBtYXJrcywgc3VjaCBhcyDigJgg4oCdIOKAmS5cclxuICAgICAgICBpZiAoY3VycmVudCA9PT0gUVUgfHwgbmV4dCA9PT0gUVUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjIwIEJyZWFrIGJlZm9yZSBhbmQgYWZ0ZXIgdW5yZXNvbHZlZCBDQi5cclxuICAgICAgICBpZiAobmV4dCA9PT0gQ0IgfHwgY3VycmVudCA9PT0gQ0IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjEgRG8gbm90IGJyZWFrIGJlZm9yZSBoeXBoZW4tbWludXMsIG90aGVyIGh5cGhlbnMsIGZpeGVkLXdpZHRoIHNwYWNlcywgc21hbGwga2FuYSwgYW5kIG90aGVyIG5vbi1zdGFydGVycywgb3IgYWZ0ZXIgYWN1dGUgYWNjZW50cy5cclxuICAgICAgICBpZiAoW0JBLCBIWSwgTlNdLmluZGV4T2YobmV4dCkgIT09IC0xIHx8IGN1cnJlbnQgPT09IEJCKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyMWEgRG9uJ3QgYnJlYWsgYWZ0ZXIgSGVicmV3ICsgSHlwaGVuLlxyXG4gICAgICAgIGlmIChiZWZvcmUgPT09IEhMICYmIEhZUEhFTi5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjFiIERvbuKAmXQgYnJlYWsgYmV0d2VlbiBTb2xpZHVzIGFuZCBIZWJyZXcgbGV0dGVycy5cclxuICAgICAgICBpZiAoY3VycmVudCA9PT0gU1kgJiYgbmV4dCA9PT0gSEwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjIyIERvIG5vdCBicmVhayBiZXR3ZWVuIHR3byBlbGxpcHNlcywgb3IgYmV0d2VlbiBsZXR0ZXJzLCBudW1iZXJzIG9yIGV4Y2xhbWF0aW9ucyBhbmQgZWxsaXBzaXMuXHJcbiAgICAgICAgaWYgKG5leHQgPT09IElOICYmIEFMUEhBQkVUSUNTLmNvbmNhdChJTiwgRVgsIE5VLCBJRCwgRUIsIEVNKS5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjMgRG8gbm90IGJyZWFrIGJldHdlZW4gZGlnaXRzIGFuZCBsZXR0ZXJzLlxyXG4gICAgICAgIGlmICgoQUxQSEFCRVRJQ1MuaW5kZXhPZihuZXh0KSAhPT0gLTEgJiYgY3VycmVudCA9PT0gTlUpIHx8IChBTFBIQUJFVElDUy5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBuZXh0ID09PSBOVSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjIzYSBEbyBub3QgYnJlYWsgYmV0d2VlbiBudW1lcmljIHByZWZpeGVzIGFuZCBpZGVvZ3JhcGhzLCBvciBiZXR3ZWVuIGlkZW9ncmFwaHMgYW5kIG51bWVyaWMgcG9zdGZpeGVzLlxyXG4gICAgICAgIGlmICgoY3VycmVudCA9PT0gUFIgJiYgW0lELCBFQiwgRU1dLmluZGV4T2YobmV4dCkgIT09IC0xKSB8fFxyXG4gICAgICAgICAgICAoW0lELCBFQiwgRU1dLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIG5leHQgPT09IFBPKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjQgRG8gbm90IGJyZWFrIGJldHdlZW4gbnVtZXJpYyBwcmVmaXgvcG9zdGZpeCBhbmQgbGV0dGVycywgb3IgYmV0d2VlbiBsZXR0ZXJzIGFuZCBwcmVmaXgvcG9zdGZpeC5cclxuICAgICAgICBpZiAoKEFMUEhBQkVUSUNTLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIFBSRUZJWF9QT1NURklYLmluZGV4T2YobmV4dCkgIT09IC0xKSB8fFxyXG4gICAgICAgICAgICAoUFJFRklYX1BPU1RGSVguaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgQUxQSEFCRVRJQ1MuaW5kZXhPZihuZXh0KSAhPT0gLTEpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyNSBEbyBub3QgYnJlYWsgYmV0d2VlbiB0aGUgZm9sbG93aW5nIHBhaXJzIG9mIGNsYXNzZXMgcmVsZXZhbnQgdG8gbnVtYmVyczpcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgLy8gKFBSIHwgUE8pIMOXICggT1AgfCBIWSApPyBOVVxyXG4gICAgICAgIChbUFIsIFBPXS5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJlxyXG4gICAgICAgICAgICAobmV4dCA9PT0gTlUgfHwgKFtPUCwgSFldLmluZGV4T2YobmV4dCkgIT09IC0xICYmIGNsYXNzVHlwZXNbYWZ0ZXJJbmRleCArIDFdID09PSBOVSkpKSB8fFxyXG4gICAgICAgICAgICAvLyAoIE9QIHwgSFkgKSDDlyBOVVxyXG4gICAgICAgICAgICAoW09QLCBIWV0uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgbmV4dCA9PT0gTlUpIHx8XHJcbiAgICAgICAgICAgIC8vIE5VIMOXXHQoTlUgfCBTWSB8IElTKVxyXG4gICAgICAgICAgICAoY3VycmVudCA9PT0gTlUgJiYgW05VLCBTWSwgSVNdLmluZGV4T2YobmV4dCkgIT09IC0xKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5VIChOVSB8IFNZIHwgSVMpKiDDlyAoTlUgfCBTWSB8IElTIHwgQ0wgfCBDUClcclxuICAgICAgICBpZiAoW05VLCBTWSwgSVMsIENMLCBDUF0uaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgdmFyIHByZXZJbmRleCA9IGN1cnJlbnRJbmRleDtcclxuICAgICAgICAgICAgd2hpbGUgKHByZXZJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGNsYXNzVHlwZXNbcHJldkluZGV4XTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBOVSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFtTWSwgSVNdLmluZGV4T2YodHlwZSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldkluZGV4LS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBOVSAoTlUgfCBTWSB8IElTKSogKENMIHwgQ1ApPyDDlyAoUE8gfCBQUikpXHJcbiAgICAgICAgaWYgKFtQUiwgUE9dLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBbQ0wsIENQXS5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSA/IGJlZm9yZUluZGV4IDogY3VycmVudEluZGV4O1xyXG4gICAgICAgICAgICB3aGlsZSAocHJldkluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gY2xhc3NUeXBlc1twcmV2SW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IE5VKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoW1NZLCBJU10uaW5kZXhPZih0eXBlKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2SW5kZXgtLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjYgRG8gbm90IGJyZWFrIGEgS29yZWFuIHN5bGxhYmxlLlxyXG4gICAgICAgIGlmICgoSkwgPT09IGN1cnJlbnQgJiYgW0pMLCBKViwgSDIsIEgzXS5pbmRleE9mKG5leHQpICE9PSAtMSkgfHxcclxuICAgICAgICAgICAgKFtKViwgSDJdLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIFtKViwgSlRdLmluZGV4T2YobmV4dCkgIT09IC0xKSB8fFxyXG4gICAgICAgICAgICAoW0pULCBIM10uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgbmV4dCA9PT0gSlQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyNyBUcmVhdCBhIEtvcmVhbiBTeWxsYWJsZSBCbG9jayB0aGUgc2FtZSBhcyBJRC5cclxuICAgICAgICBpZiAoKEtPUkVBTl9TWUxMQUJMRV9CTE9DSy5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBbSU4sIFBPXS5pbmRleE9mKG5leHQpICE9PSAtMSkgfHxcclxuICAgICAgICAgICAgKEtPUkVBTl9TWUxMQUJMRV9CTE9DSy5pbmRleE9mKG5leHQpICE9PSAtMSAmJiBjdXJyZW50ID09PSBQUikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjI4IERvIG5vdCBicmVhayBiZXR3ZWVuIGFscGhhYmV0aWNzICjigJxhdOKAnSkuXHJcbiAgICAgICAgaWYgKEFMUEhBQkVUSUNTLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIEFMUEhBQkVUSUNTLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyOSBEbyBub3QgYnJlYWsgYmV0d2VlbiBudW1lcmljIHB1bmN0dWF0aW9uIGFuZCBhbHBoYWJldGljcyAo4oCcZS5nLuKAnSkuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IElTICYmIEFMUEhBQkVUSUNTLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIzMCBEbyBub3QgYnJlYWsgYmV0d2VlbiBsZXR0ZXJzLCBudW1iZXJzLCBvciBvcmRpbmFyeSBzeW1ib2xzIGFuZCBvcGVuaW5nIG9yIGNsb3NpbmcgcGFyZW50aGVzZXMuXHJcbiAgICAgICAgaWYgKChBTFBIQUJFVElDUy5jb25jYXQoTlUpLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIG5leHQgPT09IE9QKSB8fFxyXG4gICAgICAgICAgICAoQUxQSEFCRVRJQ1MuY29uY2F0KE5VKS5pbmRleE9mKG5leHQpICE9PSAtMSAmJiBjdXJyZW50ID09PSBDUCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjMwYSBCcmVhayBiZXR3ZWVuIHR3byByZWdpb25hbCBpbmRpY2F0b3Igc3ltYm9scyBpZiBhbmQgb25seSBpZiB0aGVyZSBhcmUgYW4gZXZlbiBudW1iZXIgb2YgcmVnaW9uYWxcclxuICAgICAgICAvLyBpbmRpY2F0b3JzIHByZWNlZGluZyB0aGUgcG9zaXRpb24gb2YgdGhlIGJyZWFrLlxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBSSSAmJiBuZXh0ID09PSBSSSkge1xyXG4gICAgICAgICAgICB2YXIgaSA9IGluZGljaWVzW2N1cnJlbnRJbmRleF07XHJcbiAgICAgICAgICAgIHZhciBjb3VudCA9IDE7XHJcbiAgICAgICAgICAgIHdoaWxlIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaS0tO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzVHlwZXNbaV0gPT09IFJJKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb3VudCAlIDIgIT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjMwYiBEbyBub3QgYnJlYWsgYmV0d2VlbiBhbiBlbW9qaSBiYXNlIGFuZCBhbiBlbW9qaSBtb2RpZmllci5cclxuICAgICAgICBpZiAoY3VycmVudCA9PT0gRUIgJiYgbmV4dCA9PT0gRU0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQlJFQUtfQUxMT1dFRDtcclxuICAgIH07XHJcbiAgICB2YXIgY3NzRm9ybWF0dGVkQ2xhc3NlcyA9IGZ1bmN0aW9uIChjb2RlUG9pbnRzLCBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKCFvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGxpbmVCcmVhazogJ25vcm1hbCcsIHdvcmRCcmVhazogJ25vcm1hbCcgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIF9hID0gY29kZVBvaW50c1RvQ2hhcmFjdGVyQ2xhc3Nlcyhjb2RlUG9pbnRzLCBvcHRpb25zLmxpbmVCcmVhayksIGluZGljaWVzID0gX2FbMF0sIGNsYXNzVHlwZXMgPSBfYVsxXSwgaXNMZXR0ZXJOdW1iZXIgPSBfYVsyXTtcclxuICAgICAgICBpZiAob3B0aW9ucy53b3JkQnJlYWsgPT09ICdicmVhay1hbGwnIHx8IG9wdGlvbnMud29yZEJyZWFrID09PSAnYnJlYWstd29yZCcpIHtcclxuICAgICAgICAgICAgY2xhc3NUeXBlcyA9IGNsYXNzVHlwZXMubWFwKGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiAoW05VLCBBTCwgU0FdLmluZGV4T2YodHlwZSkgIT09IC0xID8gSUQgOiB0eXBlKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBmb3JiaWRkZW5CcmVha3BvaW50cyA9IG9wdGlvbnMud29yZEJyZWFrID09PSAna2VlcC1hbGwnXHJcbiAgICAgICAgICAgID8gaXNMZXR0ZXJOdW1iZXIubWFwKGZ1bmN0aW9uIChsZXR0ZXJOdW1iZXIsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXJOdW1iZXIgJiYgY29kZVBvaW50c1tpXSA+PSAweDRlMDAgJiYgY29kZVBvaW50c1tpXSA8PSAweDlmZmY7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIHJldHVybiBbaW5kaWNpZXMsIGNsYXNzVHlwZXMsIGZvcmJpZGRlbkJyZWFrcG9pbnRzXTtcclxuICAgIH07XHJcbiAgICB2YXIgQnJlYWsgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQnJlYWsoY29kZVBvaW50cywgbGluZUJyZWFrLCBzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29kZVBvaW50cyA9IGNvZGVQb2ludHM7XHJcbiAgICAgICAgICAgIHRoaXMucmVxdWlyZWQgPSBsaW5lQnJlYWsgPT09IEJSRUFLX01BTkRBVE9SWTtcclxuICAgICAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xyXG4gICAgICAgICAgICB0aGlzLmVuZCA9IGVuZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgQnJlYWsucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZnJvbUNvZGVQb2ludC5hcHBseSh2b2lkIDAsIHRoaXMuY29kZVBvaW50cy5zbGljZSh0aGlzLnN0YXJ0LCB0aGlzLmVuZCkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEJyZWFrO1xyXG4gICAgfSgpKTtcclxuICAgIHZhciBMaW5lQnJlYWtlciA9IGZ1bmN0aW9uIChzdHIsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgY29kZVBvaW50cyA9IHRvQ29kZVBvaW50cyhzdHIpO1xyXG4gICAgICAgIHZhciBfYSA9IGNzc0Zvcm1hdHRlZENsYXNzZXMoY29kZVBvaW50cywgb3B0aW9ucyksIGluZGljaWVzID0gX2FbMF0sIGNsYXNzVHlwZXMgPSBfYVsxXSwgZm9yYmlkZGVuQnJlYWtwb2ludHMgPSBfYVsyXTtcclxuICAgICAgICB2YXIgbGVuZ3RoID0gY29kZVBvaW50cy5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGxhc3RFbmQgPSAwO1xyXG4gICAgICAgIHZhciBuZXh0SW5kZXggPSAwO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0SW5kZXggPj0gbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IG51bGwgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBsaW5lQnJlYWsgPSBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0SW5kZXggPCBsZW5ndGggJiZcclxuICAgICAgICAgICAgICAgICAgICAobGluZUJyZWFrID0gX2xpbmVCcmVha0F0SW5kZXgoY29kZVBvaW50cywgY2xhc3NUeXBlcywgaW5kaWNpZXMsICsrbmV4dEluZGV4LCBmb3JiaWRkZW5CcmVha3BvaW50cykpID09PVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBCUkVBS19OT1RfQUxMT1dFRCkgeyB9XHJcbiAgICAgICAgICAgICAgICBpZiAobGluZUJyZWFrICE9PSBCUkVBS19OT1RfQUxMT1dFRCB8fCBuZXh0SW5kZXggPT09IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IG5ldyBCcmVhayhjb2RlUG9pbnRzLCBsaW5lQnJlYWssIGxhc3RFbmQsIG5leHRJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdEVuZCA9IG5leHRJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogbnVsbCB9O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xuXG4gICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1zeW50YXgtM1xyXG4gICAgdmFyIFRva2VuVHlwZTtcclxuICAgIChmdW5jdGlvbiAoVG9rZW5UeXBlKSB7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlNUUklOR19UT0tFTlwiXSA9IDBdID0gXCJTVFJJTkdfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiQkFEX1NUUklOR19UT0tFTlwiXSA9IDFdID0gXCJCQURfU1RSSU5HX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkxFRlRfUEFSRU5USEVTSVNfVE9LRU5cIl0gPSAyXSA9IFwiTEVGVF9QQVJFTlRIRVNJU19UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJSSUdIVF9QQVJFTlRIRVNJU19UT0tFTlwiXSA9IDNdID0gXCJSSUdIVF9QQVJFTlRIRVNJU19UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJDT01NQV9UT0tFTlwiXSA9IDRdID0gXCJDT01NQV9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJIQVNIX1RPS0VOXCJdID0gNV0gPSBcIkhBU0hfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiREVMSU1fVE9LRU5cIl0gPSA2XSA9IFwiREVMSU1fVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiQVRfS0VZV09SRF9UT0tFTlwiXSA9IDddID0gXCJBVF9LRVlXT1JEX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlBSRUZJWF9NQVRDSF9UT0tFTlwiXSA9IDhdID0gXCJQUkVGSVhfTUFUQ0hfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiREFTSF9NQVRDSF9UT0tFTlwiXSA9IDldID0gXCJEQVNIX01BVENIX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIklOQ0xVREVfTUFUQ0hfVE9LRU5cIl0gPSAxMF0gPSBcIklOQ0xVREVfTUFUQ0hfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiTEVGVF9DVVJMWV9CUkFDS0VUX1RPS0VOXCJdID0gMTFdID0gXCJMRUZUX0NVUkxZX0JSQUNLRVRfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiUklHSFRfQ1VSTFlfQlJBQ0tFVF9UT0tFTlwiXSA9IDEyXSA9IFwiUklHSFRfQ1VSTFlfQlJBQ0tFVF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJTVUZGSVhfTUFUQ0hfVE9LRU5cIl0gPSAxM10gPSBcIlNVRkZJWF9NQVRDSF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJTVUJTVFJJTkdfTUFUQ0hfVE9LRU5cIl0gPSAxNF0gPSBcIlNVQlNUUklOR19NQVRDSF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJESU1FTlNJT05fVE9LRU5cIl0gPSAxNV0gPSBcIkRJTUVOU0lPTl9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJQRVJDRU5UQUdFX1RPS0VOXCJdID0gMTZdID0gXCJQRVJDRU5UQUdFX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIk5VTUJFUl9UT0tFTlwiXSA9IDE3XSA9IFwiTlVNQkVSX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkZVTkNUSU9OXCJdID0gMThdID0gXCJGVU5DVElPTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJGVU5DVElPTl9UT0tFTlwiXSA9IDE5XSA9IFwiRlVOQ1RJT05fVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiSURFTlRfVE9LRU5cIl0gPSAyMF0gPSBcIklERU5UX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkNPTFVNTl9UT0tFTlwiXSA9IDIxXSA9IFwiQ09MVU1OX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlVSTF9UT0tFTlwiXSA9IDIyXSA9IFwiVVJMX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkJBRF9VUkxfVE9LRU5cIl0gPSAyM10gPSBcIkJBRF9VUkxfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiQ0RDX1RPS0VOXCJdID0gMjRdID0gXCJDRENfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiQ0RPX1RPS0VOXCJdID0gMjVdID0gXCJDRE9fVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiQ09MT05fVE9LRU5cIl0gPSAyNl0gPSBcIkNPTE9OX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlNFTUlDT0xPTl9UT0tFTlwiXSA9IDI3XSA9IFwiU0VNSUNPTE9OX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkxFRlRfU1FVQVJFX0JSQUNLRVRfVE9LRU5cIl0gPSAyOF0gPSBcIkxFRlRfU1FVQVJFX0JSQUNLRVRfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiUklHSFRfU1FVQVJFX0JSQUNLRVRfVE9LRU5cIl0gPSAyOV0gPSBcIlJJR0hUX1NRVUFSRV9CUkFDS0VUX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlVOSUNPREVfUkFOR0VfVE9LRU5cIl0gPSAzMF0gPSBcIlVOSUNPREVfUkFOR0VfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiV0hJVEVTUEFDRV9UT0tFTlwiXSA9IDMxXSA9IFwiV0hJVEVTUEFDRV9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJFT0ZfVE9LRU5cIl0gPSAzMl0gPSBcIkVPRl9UT0tFTlwiO1xyXG4gICAgfSkoVG9rZW5UeXBlIHx8IChUb2tlblR5cGUgPSB7fSkpO1xyXG4gICAgdmFyIEZMQUdfVU5SRVNUUklDVEVEID0gMSA8PCAwO1xyXG4gICAgdmFyIEZMQUdfSUQgPSAxIDw8IDE7XHJcbiAgICB2YXIgRkxBR19JTlRFR0VSID0gMSA8PCAyO1xyXG4gICAgdmFyIEZMQUdfTlVNQkVSID0gMSA8PCAzO1xyXG4gICAgdmFyIExJTkVfRkVFRCA9IDB4MDAwYTtcclxuICAgIHZhciBTT0xJRFVTID0gMHgwMDJmO1xyXG4gICAgdmFyIFJFVkVSU0VfU09MSURVUyA9IDB4MDA1YztcclxuICAgIHZhciBDSEFSQUNURVJfVEFCVUxBVElPTiA9IDB4MDAwOTtcclxuICAgIHZhciBTUEFDRSQxID0gMHgwMDIwO1xyXG4gICAgdmFyIFFVT1RBVElPTl9NQVJLID0gMHgwMDIyO1xyXG4gICAgdmFyIEVRVUFMU19TSUdOID0gMHgwMDNkO1xyXG4gICAgdmFyIE5VTUJFUl9TSUdOID0gMHgwMDIzO1xyXG4gICAgdmFyIERPTExBUl9TSUdOID0gMHgwMDI0O1xyXG4gICAgdmFyIFBFUkNFTlRBR0VfU0lHTiA9IDB4MDAyNTtcclxuICAgIHZhciBBUE9TVFJPUEhFID0gMHgwMDI3O1xyXG4gICAgdmFyIExFRlRfUEFSRU5USEVTSVMgPSAweDAwMjg7XHJcbiAgICB2YXIgUklHSFRfUEFSRU5USEVTSVMgPSAweDAwMjk7XHJcbiAgICB2YXIgTE9XX0xJTkUgPSAweDAwNWY7XHJcbiAgICB2YXIgSFlQSEVOX01JTlVTID0gMHgwMDJkO1xyXG4gICAgdmFyIEVYQ0xBTUFUSU9OX01BUksgPSAweDAwMjE7XHJcbiAgICB2YXIgTEVTU19USEFOX1NJR04gPSAweDAwM2M7XHJcbiAgICB2YXIgR1JFQVRFUl9USEFOX1NJR04gPSAweDAwM2U7XHJcbiAgICB2YXIgQ09NTUVSQ0lBTF9BVCA9IDB4MDA0MDtcclxuICAgIHZhciBMRUZUX1NRVUFSRV9CUkFDS0VUID0gMHgwMDViO1xyXG4gICAgdmFyIFJJR0hUX1NRVUFSRV9CUkFDS0VUID0gMHgwMDVkO1xyXG4gICAgdmFyIENJUkNVTUZMRVhfQUNDRU5UID0gMHgwMDNkO1xyXG4gICAgdmFyIExFRlRfQ1VSTFlfQlJBQ0tFVCA9IDB4MDA3YjtcclxuICAgIHZhciBRVUVTVElPTl9NQVJLID0gMHgwMDNmO1xyXG4gICAgdmFyIFJJR0hUX0NVUkxZX0JSQUNLRVQgPSAweDAwN2Q7XHJcbiAgICB2YXIgVkVSVElDQUxfTElORSA9IDB4MDA3YztcclxuICAgIHZhciBUSUxERSA9IDB4MDA3ZTtcclxuICAgIHZhciBDT05UUk9MID0gMHgwMDgwO1xyXG4gICAgdmFyIFJFUExBQ0VNRU5UX0NIQVJBQ1RFUiA9IDB4ZmZmZDtcclxuICAgIHZhciBBU1RFUklTSyA9IDB4MDAyYTtcclxuICAgIHZhciBQTFVTX1NJR04gPSAweDAwMmI7XHJcbiAgICB2YXIgQ09NTUEgPSAweDAwMmM7XHJcbiAgICB2YXIgQ09MT04gPSAweDAwM2E7XHJcbiAgICB2YXIgU0VNSUNPTE9OID0gMHgwMDNiO1xyXG4gICAgdmFyIEZVTExfU1RPUCA9IDB4MDAyZTtcclxuICAgIHZhciBOVUxMID0gMHgwMDAwO1xyXG4gICAgdmFyIEJBQ0tTUEFDRSA9IDB4MDAwODtcclxuICAgIHZhciBMSU5FX1RBQlVMQVRJT04gPSAweDAwMGI7XHJcbiAgICB2YXIgU0hJRlRfT1VUID0gMHgwMDBlO1xyXG4gICAgdmFyIElORk9STUFUSU9OX1NFUEFSQVRPUl9PTkUgPSAweDAwMWY7XHJcbiAgICB2YXIgREVMRVRFID0gMHgwMDdmO1xyXG4gICAgdmFyIEVPRiA9IC0xO1xyXG4gICAgdmFyIFpFUk8gPSAweDAwMzA7XHJcbiAgICB2YXIgYSA9IDB4MDA2MTtcclxuICAgIHZhciBlID0gMHgwMDY1O1xyXG4gICAgdmFyIGYgPSAweDAwNjY7XHJcbiAgICB2YXIgdSA9IDB4MDA3NTtcclxuICAgIHZhciB6ID0gMHgwMDdhO1xyXG4gICAgdmFyIEEgPSAweDAwNDE7XHJcbiAgICB2YXIgRSA9IDB4MDA0NTtcclxuICAgIHZhciBGID0gMHgwMDQ2O1xyXG4gICAgdmFyIFUgPSAweDAwNTU7XHJcbiAgICB2YXIgWiA9IDB4MDA1YTtcclxuICAgIHZhciBpc0RpZ2l0ID0gZnVuY3Rpb24gKGNvZGVQb2ludCkgeyByZXR1cm4gY29kZVBvaW50ID49IFpFUk8gJiYgY29kZVBvaW50IDw9IDB4MDAzOTsgfTtcclxuICAgIHZhciBpc1N1cnJvZ2F0ZUNvZGVQb2ludCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHsgcmV0dXJuIGNvZGVQb2ludCA+PSAweGQ4MDAgJiYgY29kZVBvaW50IDw9IDB4ZGZmZjsgfTtcclxuICAgIHZhciBpc0hleCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gaXNEaWdpdChjb2RlUG9pbnQpIHx8IChjb2RlUG9pbnQgPj0gQSAmJiBjb2RlUG9pbnQgPD0gRikgfHwgKGNvZGVQb2ludCA+PSBhICYmIGNvZGVQb2ludCA8PSBmKTtcclxuICAgIH07XHJcbiAgICB2YXIgaXNMb3dlckNhc2VMZXR0ZXIgPSBmdW5jdGlvbiAoY29kZVBvaW50KSB7IHJldHVybiBjb2RlUG9pbnQgPj0gYSAmJiBjb2RlUG9pbnQgPD0gejsgfTtcclxuICAgIHZhciBpc1VwcGVyQ2FzZUxldHRlciA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHsgcmV0dXJuIGNvZGVQb2ludCA+PSBBICYmIGNvZGVQb2ludCA8PSBaOyB9O1xyXG4gICAgdmFyIGlzTGV0dGVyID0gZnVuY3Rpb24gKGNvZGVQb2ludCkgeyByZXR1cm4gaXNMb3dlckNhc2VMZXR0ZXIoY29kZVBvaW50KSB8fCBpc1VwcGVyQ2FzZUxldHRlcihjb2RlUG9pbnQpOyB9O1xyXG4gICAgdmFyIGlzTm9uQVNDSUlDb2RlUG9pbnQgPSBmdW5jdGlvbiAoY29kZVBvaW50KSB7IHJldHVybiBjb2RlUG9pbnQgPj0gQ09OVFJPTDsgfTtcclxuICAgIHZhciBpc1doaXRlU3BhY2UgPSBmdW5jdGlvbiAoY29kZVBvaW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGNvZGVQb2ludCA9PT0gTElORV9GRUVEIHx8IGNvZGVQb2ludCA9PT0gQ0hBUkFDVEVSX1RBQlVMQVRJT04gfHwgY29kZVBvaW50ID09PSBTUEFDRSQxO1xyXG4gICAgfTtcclxuICAgIHZhciBpc05hbWVTdGFydENvZGVQb2ludCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gaXNMZXR0ZXIoY29kZVBvaW50KSB8fCBpc05vbkFTQ0lJQ29kZVBvaW50KGNvZGVQb2ludCkgfHwgY29kZVBvaW50ID09PSBMT1dfTElORTtcclxuICAgIH07XHJcbiAgICB2YXIgaXNOYW1lQ29kZVBvaW50ID0gZnVuY3Rpb24gKGNvZGVQb2ludCkge1xyXG4gICAgICAgIHJldHVybiBpc05hbWVTdGFydENvZGVQb2ludChjb2RlUG9pbnQpIHx8IGlzRGlnaXQoY29kZVBvaW50KSB8fCBjb2RlUG9pbnQgPT09IEhZUEhFTl9NSU5VUztcclxuICAgIH07XHJcbiAgICB2YXIgaXNOb25QcmludGFibGVDb2RlUG9pbnQgPSBmdW5jdGlvbiAoY29kZVBvaW50KSB7XHJcbiAgICAgICAgcmV0dXJuICgoY29kZVBvaW50ID49IE5VTEwgJiYgY29kZVBvaW50IDw9IEJBQ0tTUEFDRSkgfHxcclxuICAgICAgICAgICAgY29kZVBvaW50ID09PSBMSU5FX1RBQlVMQVRJT04gfHxcclxuICAgICAgICAgICAgKGNvZGVQb2ludCA+PSBTSElGVF9PVVQgJiYgY29kZVBvaW50IDw9IElORk9STUFUSU9OX1NFUEFSQVRPUl9PTkUpIHx8XHJcbiAgICAgICAgICAgIGNvZGVQb2ludCA9PT0gREVMRVRFKTtcclxuICAgIH07XHJcbiAgICB2YXIgaXNWYWxpZEVzY2FwZSA9IGZ1bmN0aW9uIChjMSwgYzIpIHtcclxuICAgICAgICBpZiAoYzEgIT09IFJFVkVSU0VfU09MSURVUykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjMiAhPT0gTElORV9GRUVEO1xyXG4gICAgfTtcclxuICAgIHZhciBpc0lkZW50aWZpZXJTdGFydCA9IGZ1bmN0aW9uIChjMSwgYzIsIGMzKSB7XHJcbiAgICAgICAgaWYgKGMxID09PSBIWVBIRU5fTUlOVVMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlzTmFtZVN0YXJ0Q29kZVBvaW50KGMyKSB8fCBpc1ZhbGlkRXNjYXBlKGMyLCBjMyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzTmFtZVN0YXJ0Q29kZVBvaW50KGMxKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYzEgPT09IFJFVkVSU0VfU09MSURVUyAmJiBpc1ZhbGlkRXNjYXBlKGMxLCBjMikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICB2YXIgaXNOdW1iZXJTdGFydCA9IGZ1bmN0aW9uIChjMSwgYzIsIGMzKSB7XHJcbiAgICAgICAgaWYgKGMxID09PSBQTFVTX1NJR04gfHwgYzEgPT09IEhZUEhFTl9NSU5VUykge1xyXG4gICAgICAgICAgICBpZiAoaXNEaWdpdChjMikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjMiA9PT0gRlVMTF9TVE9QICYmIGlzRGlnaXQoYzMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYzEgPT09IEZVTExfU1RPUCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNEaWdpdChjMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpc0RpZ2l0KGMxKTtcclxuICAgIH07XHJcbiAgICB2YXIgc3RyaW5nVG9OdW1iZXIgPSBmdW5jdGlvbiAoY29kZVBvaW50cykge1xyXG4gICAgICAgIHZhciBjID0gMDtcclxuICAgICAgICB2YXIgc2lnbiA9IDE7XHJcbiAgICAgICAgaWYgKGNvZGVQb2ludHNbY10gPT09IFBMVVNfU0lHTiB8fCBjb2RlUG9pbnRzW2NdID09PSBIWVBIRU5fTUlOVVMpIHtcclxuICAgICAgICAgICAgaWYgKGNvZGVQb2ludHNbY10gPT09IEhZUEhFTl9NSU5VUykge1xyXG4gICAgICAgICAgICAgICAgc2lnbiA9IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGMrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGludGVnZXJzID0gW107XHJcbiAgICAgICAgd2hpbGUgKGlzRGlnaXQoY29kZVBvaW50c1tjXSkpIHtcclxuICAgICAgICAgICAgaW50ZWdlcnMucHVzaChjb2RlUG9pbnRzW2MrK10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaW50ID0gaW50ZWdlcnMubGVuZ3RoID8gcGFyc2VJbnQoZnJvbUNvZGVQb2ludC5hcHBseSh2b2lkIDAsIGludGVnZXJzKSwgMTApIDogMDtcclxuICAgICAgICBpZiAoY29kZVBvaW50c1tjXSA9PT0gRlVMTF9TVE9QKSB7XHJcbiAgICAgICAgICAgIGMrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGZyYWN0aW9uID0gW107XHJcbiAgICAgICAgd2hpbGUgKGlzRGlnaXQoY29kZVBvaW50c1tjXSkpIHtcclxuICAgICAgICAgICAgZnJhY3Rpb24ucHVzaChjb2RlUG9pbnRzW2MrK10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZnJhY2QgPSBmcmFjdGlvbi5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGZyYWMgPSBmcmFjZCA/IHBhcnNlSW50KGZyb21Db2RlUG9pbnQuYXBwbHkodm9pZCAwLCBmcmFjdGlvbiksIDEwKSA6IDA7XHJcbiAgICAgICAgaWYgKGNvZGVQb2ludHNbY10gPT09IEUgfHwgY29kZVBvaW50c1tjXSA9PT0gZSkge1xyXG4gICAgICAgICAgICBjKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBleHBzaWduID0gMTtcclxuICAgICAgICBpZiAoY29kZVBvaW50c1tjXSA9PT0gUExVU19TSUdOIHx8IGNvZGVQb2ludHNbY10gPT09IEhZUEhFTl9NSU5VUykge1xyXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50c1tjXSA9PT0gSFlQSEVOX01JTlVTKSB7XHJcbiAgICAgICAgICAgICAgICBleHBzaWduID0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYysrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZXhwb25lbnQgPSBbXTtcclxuICAgICAgICB3aGlsZSAoaXNEaWdpdChjb2RlUG9pbnRzW2NdKSkge1xyXG4gICAgICAgICAgICBleHBvbmVudC5wdXNoKGNvZGVQb2ludHNbYysrXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBleHAgPSBleHBvbmVudC5sZW5ndGggPyBwYXJzZUludChmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgZXhwb25lbnQpLCAxMCkgOiAwO1xyXG4gICAgICAgIHJldHVybiBzaWduICogKGludCArIGZyYWMgKiBNYXRoLnBvdygxMCwgLWZyYWNkKSkgKiBNYXRoLnBvdygxMCwgZXhwc2lnbiAqIGV4cCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIExFRlRfUEFSRU5USEVTSVNfVE9LRU4gPSB7XHJcbiAgICAgICAgdHlwZTogVG9rZW5UeXBlLkxFRlRfUEFSRU5USEVTSVNfVE9LRU5cclxuICAgIH07XHJcbiAgICB2YXIgUklHSFRfUEFSRU5USEVTSVNfVE9LRU4gPSB7XHJcbiAgICAgICAgdHlwZTogVG9rZW5UeXBlLlJJR0hUX1BBUkVOVEhFU0lTX1RPS0VOXHJcbiAgICB9O1xyXG4gICAgdmFyIENPTU1BX1RPS0VOID0geyB0eXBlOiBUb2tlblR5cGUuQ09NTUFfVE9LRU4gfTtcclxuICAgIHZhciBTVUZGSVhfTUFUQ0hfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5TVUZGSVhfTUFUQ0hfVE9LRU4gfTtcclxuICAgIHZhciBQUkVGSVhfTUFUQ0hfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5QUkVGSVhfTUFUQ0hfVE9LRU4gfTtcclxuICAgIHZhciBDT0xVTU5fVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5DT0xVTU5fVE9LRU4gfTtcclxuICAgIHZhciBEQVNIX01BVENIX1RPS0VOID0geyB0eXBlOiBUb2tlblR5cGUuREFTSF9NQVRDSF9UT0tFTiB9O1xyXG4gICAgdmFyIElOQ0xVREVfTUFUQ0hfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5JTkNMVURFX01BVENIX1RPS0VOIH07XHJcbiAgICB2YXIgTEVGVF9DVVJMWV9CUkFDS0VUX1RPS0VOID0ge1xyXG4gICAgICAgIHR5cGU6IFRva2VuVHlwZS5MRUZUX0NVUkxZX0JSQUNLRVRfVE9LRU5cclxuICAgIH07XHJcbiAgICB2YXIgUklHSFRfQ1VSTFlfQlJBQ0tFVF9UT0tFTiA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuUklHSFRfQ1VSTFlfQlJBQ0tFVF9UT0tFTlxyXG4gICAgfTtcclxuICAgIHZhciBTVUJTVFJJTkdfTUFUQ0hfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5TVUJTVFJJTkdfTUFUQ0hfVE9LRU4gfTtcclxuICAgIHZhciBCQURfVVJMX1RPS0VOID0geyB0eXBlOiBUb2tlblR5cGUuQkFEX1VSTF9UT0tFTiB9O1xyXG4gICAgdmFyIEJBRF9TVFJJTkdfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5CQURfU1RSSU5HX1RPS0VOIH07XHJcbiAgICB2YXIgQ0RPX1RPS0VOID0geyB0eXBlOiBUb2tlblR5cGUuQ0RPX1RPS0VOIH07XHJcbiAgICB2YXIgQ0RDX1RPS0VOID0geyB0eXBlOiBUb2tlblR5cGUuQ0RDX1RPS0VOIH07XHJcbiAgICB2YXIgQ09MT05fVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5DT0xPTl9UT0tFTiB9O1xyXG4gICAgdmFyIFNFTUlDT0xPTl9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLlNFTUlDT0xPTl9UT0tFTiB9O1xyXG4gICAgdmFyIExFRlRfU1FVQVJFX0JSQUNLRVRfVE9LRU4gPSB7XHJcbiAgICAgICAgdHlwZTogVG9rZW5UeXBlLkxFRlRfU1FVQVJFX0JSQUNLRVRfVE9LRU5cclxuICAgIH07XHJcbiAgICB2YXIgUklHSFRfU1FVQVJFX0JSQUNLRVRfVE9LRU4gPSB7XHJcbiAgICAgICAgdHlwZTogVG9rZW5UeXBlLlJJR0hUX1NRVUFSRV9CUkFDS0VUX1RPS0VOXHJcbiAgICB9O1xyXG4gICAgdmFyIFdISVRFU1BBQ0VfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5XSElURVNQQUNFX1RPS0VOIH07XHJcbiAgICB2YXIgRU9GX1RPS0VOID0geyB0eXBlOiBUb2tlblR5cGUuRU9GX1RPS0VOIH07XHJcbiAgICB2YXIgVG9rZW5pemVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFRva2VuaXplcigpIHtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChjaHVuaykge1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHRoaXMuX3ZhbHVlLmNvbmNhdCh0b0NvZGVQb2ludHMoY2h1bmspKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHRva2VucyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLmNvbnN1bWVUb2tlbigpO1xyXG4gICAgICAgICAgICB3aGlsZSAodG9rZW4gIT09IEVPRl9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0aGlzLmNvbnN1bWVUb2tlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLmNvbnN1bWVUb2tlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNvZGVQb2ludCA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGNvZGVQb2ludCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBRVU9UQVRJT05fTUFSSzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lU3RyaW5nVG9rZW4oUVVPVEFUSU9OX01BUkspO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBOVU1CRVJfU0lHTjpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYzEgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGMyID0gdGhpcy5wZWVrQ29kZVBvaW50KDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjMyA9IHRoaXMucGVla0NvZGVQb2ludCgyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYW1lQ29kZVBvaW50KGMxKSB8fCBpc1ZhbGlkRXNjYXBlKGMyLCBjMykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZsYWdzID0gaXNJZGVudGlmaWVyU3RhcnQoYzEsIGMyLCBjMykgPyBGTEFHX0lEIDogRkxBR19VTlJFU1RSSUNURUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuY29uc3VtZU5hbWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLkhBU0hfVE9LRU4sIHZhbHVlOiB2YWx1ZSwgZmxhZ3M6IGZsYWdzIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBET0xMQVJfU0lHTjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFUVVBTFNfU0lHTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNVRkZJWF9NQVRDSF9UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEFQT1NUUk9QSEU6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZVN0cmluZ1Rva2VuKEFQT1NUUk9QSEUpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMRUZUX1BBUkVOVEhFU0lTOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMRUZUX1BBUkVOVEhFU0lTX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBSSUdIVF9QQVJFTlRIRVNJUzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUklHSFRfUEFSRU5USEVTSVNfVE9LRU47XHJcbiAgICAgICAgICAgICAgICBjYXNlIEFTVEVSSVNLOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVRVUFMU19TSUdOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1VCU1RSSU5HX01BVENIX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgUExVU19TSUdOOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc051bWJlclN0YXJ0KGNvZGVQb2ludCwgdGhpcy5wZWVrQ29kZVBvaW50KDApLCB0aGlzLnBlZWtDb2RlUG9pbnQoMSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdW1lQ29kZVBvaW50KGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVOdW1lcmljVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENPTU1BOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDT01NQV9UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgSFlQSEVOX01JTlVTOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlMSA9IGNvZGVQb2ludDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZTIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUzID0gdGhpcy5wZWVrQ29kZVBvaW50KDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc051bWJlclN0YXJ0KGUxLCBlMiwgZTMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdW1lQ29kZVBvaW50KGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVOdW1lcmljVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KGUxLCBlMiwgZTMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdW1lQ29kZVBvaW50KGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJZGVudExpa2VUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZTIgPT09IEhZUEhFTl9NSU5VUyAmJiBlMyA9PT0gR1JFQVRFUl9USEFOX1NJR04pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ0RDX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgRlVMTF9TVE9QOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc051bWJlclN0YXJ0KGNvZGVQb2ludCwgdGhpcy5wZWVrQ29kZVBvaW50KDApLCB0aGlzLnBlZWtDb2RlUG9pbnQoMSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdW1lQ29kZVBvaW50KGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVOdW1lcmljVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNPTElEVVM6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gQVNURVJJU0spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPT09IEFTVEVSSVNLKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjID09PSBTT0xJRFVTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjID09PSBFT0YpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQ09MT046XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENPTE9OX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTRU1JQ09MT046XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNFTUlDT0xPTl9UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgTEVTU19USEFOX1NJR046XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gRVhDTEFNQVRJT05fTUFSSyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBlZWtDb2RlUG9pbnQoMSkgPT09IEhZUEhFTl9NSU5VUyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBlZWtDb2RlUG9pbnQoMikgPT09IEhZUEhFTl9NSU5VUykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDRE9fVE9LRU47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDT01NRVJDSUFMX0FUOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhMSA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYTIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEzID0gdGhpcy5wZWVrQ29kZVBvaW50KDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lkZW50aWZpZXJTdGFydChhMSwgYTIsIGEzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmNvbnN1bWVOYW1lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5BVF9LRVlXT1JEX1RPS0VOLCB2YWx1ZTogdmFsdWUgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExFRlRfU1FVQVJFX0JSQUNLRVQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExFRlRfU1FVQVJFX0JSQUNLRVRfVE9LRU47XHJcbiAgICAgICAgICAgICAgICBjYXNlIFJFVkVSU0VfU09MSURVUzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZEVzY2FwZShjb2RlUG9pbnQsIHRoaXMucGVla0NvZGVQb2ludCgwKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUlkZW50TGlrZVRva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBSSUdIVF9TUVVBUkVfQlJBQ0tFVDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUklHSFRfU1FVQVJFX0JSQUNLRVRfVE9LRU47XHJcbiAgICAgICAgICAgICAgICBjYXNlIENJUkNVTUZMRVhfQUNDRU5UOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVRVUFMU19TSUdOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUFJFRklYX01BVENIX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTEVGVF9DVVJMWV9CUkFDS0VUOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMRUZUX0NVUkxZX0JSQUNLRVRfVE9LRU47XHJcbiAgICAgICAgICAgICAgICBjYXNlIFJJR0hUX0NVUkxZX0JSQUNLRVQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJJR0hUX0NVUkxZX0JSQUNLRVRfVE9LRU47XHJcbiAgICAgICAgICAgICAgICBjYXNlIHU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFU6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHUxID0gdGhpcy5wZWVrQ29kZVBvaW50KDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1MiA9IHRoaXMucGVla0NvZGVQb2ludCgxKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodTEgPT09IFBMVVNfU0lHTiAmJiAoaXNIZXgodTIpIHx8IHUyID09PSBRVUVTVElPTl9NQVJLKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lVW5pY29kZVJhbmdlVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSWRlbnRMaWtlVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgVkVSVElDQUxfTElORTpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFUVVBTFNfU0lHTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERBU0hfTUFUQ0hfVE9LRU47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IFZFUlRJQ0FMX0xJTkUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDT0xVTU5fVE9LRU47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBUSUxERTpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFUVVBTFNfU0lHTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOQ0xVREVfTUFUQ0hfVE9LRU47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBFT0Y6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVPRl9UT0tFTjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNXaGl0ZVNwYWNlKGNvZGVQb2ludCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZVdoaXRlU3BhY2UoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBXSElURVNQQUNFX1RPS0VOO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0RpZ2l0KGNvZGVQb2ludCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdW1lQ29kZVBvaW50KGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lTnVtZXJpY1Rva2VuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzTmFtZVN0YXJ0Q29kZVBvaW50KGNvZGVQb2ludCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdW1lQ29kZVBvaW50KGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSWRlbnRMaWtlVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuREVMSU1fVE9LRU4sIHZhbHVlOiBmcm9tQ29kZVBvaW50KGNvZGVQb2ludCkgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZUNvZGVQb2ludCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fdmFsdWUuc2hpZnQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgPyAtMSA6IHZhbHVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5yZWNvbnN1bWVDb2RlUG9pbnQgPSBmdW5jdGlvbiAoY29kZVBvaW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlLnVuc2hpZnQoY29kZVBvaW50KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUucGVla0NvZGVQb2ludCA9IGZ1bmN0aW9uIChkZWx0YSkge1xyXG4gICAgICAgICAgICBpZiAoZGVsdGEgPj0gdGhpcy5fdmFsdWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlW2RlbHRhXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZVVuaWNvZGVSYW5nZVRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZGlnaXRzID0gW107XHJcbiAgICAgICAgICAgIHZhciBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgd2hpbGUgKGlzSGV4KGNvZGVQb2ludCkgJiYgZGlnaXRzLmxlbmd0aCA8IDYpIHtcclxuICAgICAgICAgICAgICAgIGRpZ2l0cy5wdXNoKGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcXVlc3Rpb25NYXJrcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB3aGlsZSAoY29kZVBvaW50ID09PSBRVUVTVElPTl9NQVJLICYmIGRpZ2l0cy5sZW5ndGggPCA2KSB7XHJcbiAgICAgICAgICAgICAgICBkaWdpdHMucHVzaChjb2RlUG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICBxdWVzdGlvbk1hcmtzID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocXVlc3Rpb25NYXJrcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0XzEgPSBwYXJzZUludChmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgZGlnaXRzLm1hcChmdW5jdGlvbiAoZGlnaXQpIHsgcmV0dXJuIChkaWdpdCA9PT0gUVVFU1RJT05fTUFSSyA/IFpFUk8gOiBkaWdpdCk7IH0pKSwgMTYpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGVuZCA9IHBhcnNlSW50KGZyb21Db2RlUG9pbnQuYXBwbHkodm9pZCAwLCBkaWdpdHMubWFwKGZ1bmN0aW9uIChkaWdpdCkgeyByZXR1cm4gKGRpZ2l0ID09PSBRVUVTVElPTl9NQVJLID8gRiA6IGRpZ2l0KTsgfSkpLCAxNik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuVU5JQ09ERV9SQU5HRV9UT0tFTiwgc3RhcnQ6IHN0YXJ0XzEsIGVuZDogZW5kIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gcGFyc2VJbnQoZnJvbUNvZGVQb2ludC5hcHBseSh2b2lkIDAsIGRpZ2l0cyksIDE2KTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gSFlQSEVOX01JTlVTICYmIGlzSGV4KHRoaXMucGVla0NvZGVQb2ludCgxKSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5kRGlnaXRzID0gW107XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaXNIZXgoY29kZVBvaW50KSAmJiBlbmREaWdpdHMubGVuZ3RoIDwgNikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZERpZ2l0cy5wdXNoKGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gcGFyc2VJbnQoZnJvbUNvZGVQb2ludC5hcHBseSh2b2lkIDAsIGVuZERpZ2l0cyksIDE2KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5VTklDT0RFX1JBTkdFX1RPS0VOLCBzdGFydDogc3RhcnQsIGVuZDogZW5kIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuVU5JQ09ERV9SQU5HRV9UT0tFTiwgc3RhcnQ6IHN0YXJ0LCBlbmQ6IHN0YXJ0IH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZUlkZW50TGlrZVRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmNvbnN1bWVOYW1lKCk7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAndXJsJyAmJiB0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IExFRlRfUEFSRU5USEVTSVMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZVVybFRva2VuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBMRUZUX1BBUkVOVEhFU0lTKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5GVU5DVElPTl9UT0tFTiwgdmFsdWU6IHZhbHVlIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLklERU5UX1RPS0VOLCB2YWx1ZTogdmFsdWUgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZVVybFRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5jb25zdW1lV2hpdGVTcGFjZSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFT0YpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5VUkxfVE9LRU4sIHZhbHVlOiAnJyB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBuZXh0ID0gdGhpcy5wZWVrQ29kZVBvaW50KDApO1xyXG4gICAgICAgICAgICBpZiAobmV4dCA9PT0gQVBPU1RST1BIRSB8fCBuZXh0ID09PSBRVU9UQVRJT05fTUFSSykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0cmluZ1Rva2VuID0gdGhpcy5jb25zdW1lU3RyaW5nVG9rZW4odGhpcy5jb25zdW1lQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0cmluZ1Rva2VuLnR5cGUgPT09IFRva2VuVHlwZS5TVFJJTkdfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVXaGl0ZVNwYWNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gRU9GIHx8IHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gUklHSFRfUEFSRU5USEVTSVMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5VUkxfVE9LRU4sIHZhbHVlOiBzdHJpbmdUb2tlbi52YWx1ZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUJhZFVybFJlbW5hbnRzKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQkFEX1VSTF9UT0tFTjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvZGVQb2ludCA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA9PT0gRU9GIHx8IGNvZGVQb2ludCA9PT0gUklHSFRfUEFSRU5USEVTSVMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuVVJMX1RPS0VOLCB2YWx1ZTogZnJvbUNvZGVQb2ludC5hcHBseSh2b2lkIDAsIHZhbHVlKSB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNXaGl0ZVNwYWNlKGNvZGVQb2ludCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVXaGl0ZVNwYWNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gRU9GIHx8IHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gUklHSFRfUEFSRU5USEVTSVMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5VUkxfVE9LRU4sIHZhbHVlOiBmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgdmFsdWUpIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUJhZFVybFJlbW5hbnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJBRF9VUkxfVE9LRU47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb2RlUG9pbnQgPT09IFFVT1RBVElPTl9NQVJLIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZVBvaW50ID09PSBBUE9TVFJPUEhFIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZVBvaW50ID09PSBMRUZUX1BBUkVOVEhFU0lTIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgaXNOb25QcmludGFibGVDb2RlUG9pbnQoY29kZVBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUJhZFVybFJlbW5hbnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJBRF9VUkxfVE9LRU47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb2RlUG9pbnQgPT09IFJFVkVSU0VfU09MSURVUykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkRXNjYXBlKGNvZGVQb2ludCwgdGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKHRoaXMuY29uc3VtZUVzY2FwZWRDb2RlUG9pbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVCYWRVcmxSZW1uYW50cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQkFEX1VSTF9UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZVdoaXRlU3BhY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChpc1doaXRlU3BhY2UodGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZUJhZFVybFJlbW5hbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvZGVQb2ludCA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA9PT0gUklHSFRfUEFSRU5USEVTSVMgfHwgY29kZVBvaW50ID09PSBFT0YpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZEVzY2FwZShjb2RlUG9pbnQsIHRoaXMucGVla0NvZGVQb2ludCgwKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVFc2NhcGVkQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZVN0cmluZ1NsaWNlID0gZnVuY3Rpb24gKGNvdW50KSB7XHJcbiAgICAgICAgICAgIHZhciBTTElDRV9TVEFDS19TSVpFID0gNjAwMDA7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICB3aGlsZSAoY291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYW1vdW50ID0gTWF0aC5taW4oU0xJQ0VfU1RBQ0tfU0laRSwgY291bnQpO1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gZnJvbUNvZGVQb2ludC5hcHBseSh2b2lkIDAsIHRoaXMuX3ZhbHVlLnNwbGljZSgwLCBhbW91bnQpKTtcclxuICAgICAgICAgICAgICAgIGNvdW50IC09IGFtb3VudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLmNvbnN1bWVTdHJpbmdUb2tlbiA9IGZ1bmN0aW9uIChlbmRpbmdDb2RlUG9pbnQpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvZGVQb2ludCA9IHRoaXMuX3ZhbHVlW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA9PT0gRU9GIHx8IGNvZGVQb2ludCA9PT0gdW5kZWZpbmVkIHx8IGNvZGVQb2ludCA9PT0gZW5kaW5nQ29kZVBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gdGhpcy5jb25zdW1lU3RyaW5nU2xpY2UoaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLlNUUklOR19UT0tFTiwgdmFsdWU6IHZhbHVlIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSBMSU5FX0ZFRUQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZS5zcGxpY2UoMCwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJBRF9TVFJJTkdfVE9LRU47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSBSRVZFUlNFX1NPTElEVVMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IHRoaXMuX3ZhbHVlW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gRU9GICYmIG5leHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCA9PT0gTElORV9GRUVEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSB0aGlzLmNvbnN1bWVTdHJpbmdTbGljZShpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNWYWxpZEVzY2FwZShjb2RlUG9pbnQsIG5leHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSB0aGlzLmNvbnN1bWVTdHJpbmdTbGljZShpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IGZyb21Db2RlUG9pbnQodGhpcy5jb25zdW1lRXNjYXBlZENvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLmNvbnN1bWVOdW1iZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXByID0gW107XHJcbiAgICAgICAgICAgIHZhciB0eXBlID0gRkxBR19JTlRFR0VSO1xyXG4gICAgICAgICAgICB2YXIgYzEgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMCk7XHJcbiAgICAgICAgICAgIGlmIChjMSA9PT0gUExVU19TSUdOIHx8IGMxID09PSBIWVBIRU5fTUlOVVMpIHtcclxuICAgICAgICAgICAgICAgIHJlcHIucHVzaCh0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd2hpbGUgKGlzRGlnaXQodGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xyXG4gICAgICAgICAgICAgICAgcmVwci5wdXNoKHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjMSA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcclxuICAgICAgICAgICAgdmFyIGMyID0gdGhpcy5wZWVrQ29kZVBvaW50KDEpO1xyXG4gICAgICAgICAgICBpZiAoYzEgPT09IEZVTExfU1RPUCAmJiBpc0RpZ2l0KGMyKSkge1xyXG4gICAgICAgICAgICAgICAgcmVwci5wdXNoKHRoaXMuY29uc3VtZUNvZGVQb2ludCgpLCB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKSk7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gRkxBR19OVU1CRVI7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaXNEaWdpdCh0aGlzLnBlZWtDb2RlUG9pbnQoMCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVwci5wdXNoKHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjMSA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcclxuICAgICAgICAgICAgYzIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XHJcbiAgICAgICAgICAgIHZhciBjMyA9IHRoaXMucGVla0NvZGVQb2ludCgyKTtcclxuICAgICAgICAgICAgaWYgKChjMSA9PT0gRSB8fCBjMSA9PT0gZSkgJiYgKCgoYzIgPT09IFBMVVNfU0lHTiB8fCBjMiA9PT0gSFlQSEVOX01JTlVTKSAmJiBpc0RpZ2l0KGMzKSkgfHwgaXNEaWdpdChjMikpKSB7XHJcbiAgICAgICAgICAgICAgICByZXByLnB1c2godGhpcy5jb25zdW1lQ29kZVBvaW50KCksIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgICAgIHR5cGUgPSBGTEFHX05VTUJFUjtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpc0RpZ2l0KHRoaXMucGVla0NvZGVQb2ludCgwKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXByLnB1c2godGhpcy5jb25zdW1lQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBbc3RyaW5nVG9OdW1iZXIocmVwciksIHR5cGVdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lTnVtZXJpY1Rva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLmNvbnN1bWVOdW1iZXIoKSwgbnVtYmVyID0gX2FbMF0sIGZsYWdzID0gX2FbMV07XHJcbiAgICAgICAgICAgIHZhciBjMSA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcclxuICAgICAgICAgICAgdmFyIGMyID0gdGhpcy5wZWVrQ29kZVBvaW50KDEpO1xyXG4gICAgICAgICAgICB2YXIgYzMgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMik7XHJcbiAgICAgICAgICAgIGlmIChpc0lkZW50aWZpZXJTdGFydChjMSwgYzIsIGMzKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVuaXQgPSB0aGlzLmNvbnN1bWVOYW1lKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuRElNRU5TSU9OX1RPS0VOLCBudW1iZXI6IG51bWJlciwgZmxhZ3M6IGZsYWdzLCB1bml0OiB1bml0IH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGMxID09PSBQRVJDRU5UQUdFX1NJR04pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLlBFUkNFTlRBR0VfVE9LRU4sIG51bWJlcjogbnVtYmVyLCBmbGFnczogZmxhZ3MgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuTlVNQkVSX1RPS0VOLCBudW1iZXI6IG51bWJlciwgZmxhZ3M6IGZsYWdzIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLmNvbnN1bWVFc2NhcGVkQ29kZVBvaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgIGlmIChpc0hleChjb2RlUG9pbnQpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGV4ID0gZnJvbUNvZGVQb2ludChjb2RlUG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGlzSGV4KHRoaXMucGVla0NvZGVQb2ludCgwKSkgJiYgaGV4Lmxlbmd0aCA8IDYpIHtcclxuICAgICAgICAgICAgICAgICAgICBoZXggKz0gZnJvbUNvZGVQb2ludCh0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNXaGl0ZVNwYWNlKHRoaXMucGVla0NvZGVQb2ludCgwKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBoZXhDb2RlUG9pbnQgPSBwYXJzZUludChoZXgsIDE2KTtcclxuICAgICAgICAgICAgICAgIGlmIChoZXhDb2RlUG9pbnQgPT09IDAgfHwgaXNTdXJyb2dhdGVDb2RlUG9pbnQoaGV4Q29kZVBvaW50KSB8fCBoZXhDb2RlUG9pbnQgPiAweDEwZmZmZikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSRVBMQUNFTUVOVF9DSEFSQUNURVI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGV4Q29kZVBvaW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPT09IEVPRikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJFUExBQ0VNRU5UX0NIQVJBQ1RFUjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29kZVBvaW50O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lTmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvZGVQb2ludCA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFtZUNvZGVQb2ludChjb2RlUG9pbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGZyb21Db2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzVmFsaWRFc2NhcGUoY29kZVBvaW50LCB0aGlzLnBlZWtDb2RlUG9pbnQoMCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGZyb21Db2RlUG9pbnQodGhpcy5jb25zdW1lRXNjYXBlZENvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdW1lQ29kZVBvaW50KGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFRva2VuaXplcjtcclxuICAgIH0oKSk7XG5cbiAgICB2YXIgUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFBhcnNlcih0b2tlbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fdG9rZW5zID0gdG9rZW5zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBQYXJzZXIuY3JlYXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhciB0b2tlbml6ZXIgPSBuZXcgVG9rZW5pemVyKCk7XHJcbiAgICAgICAgICAgIHRva2VuaXplci53cml0ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGFyc2VyKHRva2VuaXplci5yZWFkKCkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnBhcnNlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBhcnNlci5jcmVhdGUodmFsdWUpLnBhcnNlQ29tcG9uZW50VmFsdWUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnNlci5wYXJzZVZhbHVlcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGFyc2VyLmNyZWF0ZSh2YWx1ZSkucGFyc2VDb21wb25lbnRWYWx1ZXMoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnNlci5wcm90b3R5cGUucGFyc2VDb21wb25lbnRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgd2hpbGUgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5XSElURVNQQUNFX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRoaXMuY29uc3VtZVRva2VuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5FT0ZfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIkVycm9yIHBhcnNpbmcgQ1NTIGNvbXBvbmVudCB2YWx1ZSwgdW5leHBlY3RlZCBFT0ZcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVUb2tlbih0b2tlbik7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuY29uc3VtZUNvbXBvbmVudFZhbHVlKCk7XHJcbiAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgfSB3aGlsZSAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLldISVRFU1BBQ0VfVE9LRU4pO1xyXG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLkVPRl9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIkVycm9yIHBhcnNpbmcgQ1NTIGNvbXBvbmVudCB2YWx1ZSwgbXVsdGlwbGUgdmFsdWVzIGZvdW5kIHdoZW4gZXhwZWN0aW5nIG9ubHkgb25lXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZUNvbXBvbmVudFZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5jb25zdW1lQ29tcG9uZW50VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS50eXBlID09PSBUb2tlblR5cGUuRU9GX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnNlci5wcm90b3R5cGUuY29uc3VtZUNvbXBvbmVudFZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLmNvbnN1bWVUb2tlbigpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkxFRlRfQ1VSTFlfQlJBQ0tFVF9UT0tFTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkxFRlRfU1FVQVJFX0JSQUNLRVRfVE9LRU46XHJcbiAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5MRUZUX1BBUkVOVEhFU0lTX1RPS0VOOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVTaW1wbGVCbG9jayh0b2tlbi50eXBlKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkZVTkNUSU9OX1RPS0VOOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVGdW5jdGlvbih0b2tlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnByb3RvdHlwZS5jb25zdW1lU2ltcGxlQmxvY2sgPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICB2YXIgYmxvY2sgPSB7IHR5cGU6IHR5cGUsIHZhbHVlczogW10gfTtcclxuICAgICAgICAgICAgdmFyIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRU9GX1RPS0VOIHx8IGlzRW5kaW5nVG9rZW5Gb3IodG9rZW4sIHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJsb2NrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVUb2tlbih0b2tlbik7XHJcbiAgICAgICAgICAgICAgICBibG9jay52YWx1ZXMucHVzaCh0aGlzLmNvbnN1bWVDb21wb25lbnRWYWx1ZSgpKTtcclxuICAgICAgICAgICAgICAgIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnByb3RvdHlwZS5jb25zdW1lRnVuY3Rpb24gPSBmdW5jdGlvbiAoZnVuY3Rpb25Ub2tlbikge1xyXG4gICAgICAgICAgICB2YXIgY3NzRnVuY3Rpb24gPSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBmdW5jdGlvblRva2VuLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWVzOiBbXSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFRva2VuVHlwZS5GVU5DVElPTlxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRU9GX1RPS0VOIHx8IHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5SSUdIVF9QQVJFTlRIRVNJU19UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjc3NGdW5jdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdW1lVG9rZW4odG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgY3NzRnVuY3Rpb24udmFsdWVzLnB1c2godGhpcy5jb25zdW1lQ29tcG9uZW50VmFsdWUoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnNlci5wcm90b3R5cGUuY29uc3VtZVRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLl90b2tlbnMuc2hpZnQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB0b2tlbiA9PT0gJ3VuZGVmaW5lZCcgPyBFT0ZfVE9LRU4gOiB0b2tlbjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnNlci5wcm90b3R5cGUucmVjb25zdW1lVG9rZW4gPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5fdG9rZW5zLnVuc2hpZnQodG9rZW4pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFBhcnNlcjtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgaXNEaW1lbnNpb25Ub2tlbiA9IGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLkRJTUVOU0lPTl9UT0tFTjsgfTtcclxuICAgIHZhciBpc051bWJlclRva2VuID0gZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOOyB9O1xyXG4gICAgdmFyIGlzSWRlbnRUb2tlbiA9IGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOOyB9O1xyXG4gICAgdmFyIGlzU3RyaW5nVG9rZW4gPSBmdW5jdGlvbiAodG9rZW4pIHsgcmV0dXJuIHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5TVFJJTkdfVE9LRU47IH07XHJcbiAgICB2YXIgaXNJZGVudFdpdGhWYWx1ZSA9IGZ1bmN0aW9uICh0b2tlbiwgdmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gaXNJZGVudFRva2VuKHRva2VuKSAmJiB0b2tlbi52YWx1ZSA9PT0gdmFsdWU7XHJcbiAgICB9O1xyXG4gICAgdmFyIG5vbldoaXRlU3BhY2UgPSBmdW5jdGlvbiAodG9rZW4pIHsgcmV0dXJuIHRva2VuLnR5cGUgIT09IFRva2VuVHlwZS5XSElURVNQQUNFX1RPS0VOOyB9O1xyXG4gICAgdmFyIG5vbkZ1bmN0aW9uQXJnU2VwYXJhdG9yID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuLnR5cGUgIT09IFRva2VuVHlwZS5XSElURVNQQUNFX1RPS0VOICYmIHRva2VuLnR5cGUgIT09IFRva2VuVHlwZS5DT01NQV9UT0tFTjtcclxuICAgIH07XHJcbiAgICB2YXIgcGFyc2VGdW5jdGlvbkFyZ3MgPSBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICB2YXIgYXJnID0gW107XHJcbiAgICAgICAgdG9rZW5zLmZvckVhY2goZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuQ09NTUFfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcmcubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgcGFyc2luZyBmdW5jdGlvbiBhcmdzLCB6ZXJvIHRva2VucyBmb3IgYXJnXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XHJcbiAgICAgICAgICAgICAgICBhcmcgPSBbXTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gVG9rZW5UeXBlLldISVRFU1BBQ0VfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIGFyZy5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChhcmcubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGFyZ3MucHVzaChhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJncztcclxuICAgIH07XHJcbiAgICB2YXIgaXNFbmRpbmdUb2tlbkZvciA9IGZ1bmN0aW9uICh0b2tlbiwgdHlwZSkge1xyXG4gICAgICAgIGlmICh0eXBlID09PSBUb2tlblR5cGUuTEVGVF9DVVJMWV9CUkFDS0VUX1RPS0VOICYmIHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5SSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gVG9rZW5UeXBlLkxFRlRfU1FVQVJFX0JSQUNLRVRfVE9LRU4gJiYgdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlJJR0hUX1NRVUFSRV9CUkFDS0VUX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHlwZSA9PT0gVG9rZW5UeXBlLkxFRlRfUEFSRU5USEVTSVNfVE9LRU4gJiYgdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlJJR0hUX1BBUkVOVEhFU0lTX1RPS0VOO1xyXG4gICAgfTtcblxuICAgIHZhciBpc0xlbmd0aCA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgIHJldHVybiB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOIHx8IHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5ESU1FTlNJT05fVE9LRU47XHJcbiAgICB9O1xuXG4gICAgdmFyIGlzTGVuZ3RoUGVyY2VudGFnZSA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgIHJldHVybiB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTiB8fCBpc0xlbmd0aCh0b2tlbik7XHJcbiAgICB9O1xyXG4gICAgdmFyIHBhcnNlTGVuZ3RoUGVyY2VudGFnZVR1cGxlID0gZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgIHJldHVybiB0b2tlbnMubGVuZ3RoID4gMSA/IFt0b2tlbnNbMF0sIHRva2Vuc1sxXV0gOiBbdG9rZW5zWzBdXTtcclxuICAgIH07XHJcbiAgICB2YXIgWkVST19MRU5HVEggPSB7XHJcbiAgICAgICAgdHlwZTogVG9rZW5UeXBlLk5VTUJFUl9UT0tFTixcclxuICAgICAgICBudW1iZXI6IDAsXHJcbiAgICAgICAgZmxhZ3M6IEZMQUdfSU5URUdFUlxyXG4gICAgfTtcclxuICAgIHZhciBGSUZUWV9QRVJDRU5UID0ge1xyXG4gICAgICAgIHR5cGU6IFRva2VuVHlwZS5QRVJDRU5UQUdFX1RPS0VOLFxyXG4gICAgICAgIG51bWJlcjogNTAsXHJcbiAgICAgICAgZmxhZ3M6IEZMQUdfSU5URUdFUlxyXG4gICAgfTtcclxuICAgIHZhciBIVU5EUkVEX1BFUkNFTlQgPSB7XHJcbiAgICAgICAgdHlwZTogVG9rZW5UeXBlLlBFUkNFTlRBR0VfVE9LRU4sXHJcbiAgICAgICAgbnVtYmVyOiAxMDAsXHJcbiAgICAgICAgZmxhZ3M6IEZMQUdfSU5URUdFUlxyXG4gICAgfTtcclxuICAgIHZhciBnZXRBYnNvbHV0ZVZhbHVlRm9yVHVwbGUgPSBmdW5jdGlvbiAodHVwbGUsIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB2YXIgeCA9IHR1cGxlWzBdLCB5ID0gdHVwbGVbMV07XHJcbiAgICAgICAgcmV0dXJuIFtnZXRBYnNvbHV0ZVZhbHVlKHgsIHdpZHRoKSwgZ2V0QWJzb2x1dGVWYWx1ZSh0eXBlb2YgeSAhPT0gJ3VuZGVmaW5lZCcgPyB5IDogeCwgaGVpZ2h0KV07XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldEFic29sdXRlVmFsdWUgPSBmdW5jdGlvbiAodG9rZW4sIHBhcmVudCkge1xyXG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTikge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRva2VuLm51bWJlciAvIDEwMCkgKiBwYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0RpbWVuc2lvblRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnVuaXQpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3JlbSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdlbSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE2ICogdG9rZW4ubnVtYmVyOyAvLyBUT0RPIHVzZSBjb3JyZWN0IGZvbnQtc2l6ZVxyXG4gICAgICAgICAgICAgICAgY2FzZSAncHgnOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4ubnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICB9O1xuXG4gICAgdmFyIERFRyA9ICdkZWcnO1xyXG4gICAgdmFyIEdSQUQgPSAnZ3JhZCc7XHJcbiAgICB2YXIgUkFEID0gJ3JhZCc7XHJcbiAgICB2YXIgVFVSTiA9ICd0dXJuJztcclxuICAgIHZhciBhbmdsZSA9IHtcclxuICAgICAgICBuYW1lOiAnYW5nbGUnLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5ESU1FTlNJT05fVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodmFsdWUudW5pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgREVHOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKE1hdGguUEkgKiB2YWx1ZS5udW1iZXIpIC8gMTgwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgR1JBRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChNYXRoLlBJIC8gMjAwKSAqIHZhbHVlLm51bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFJBRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm51bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRVUk46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLlBJICogMiAqIHZhbHVlLm51bWJlcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBhbmdsZSB0eXBlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgaXNBbmdsZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZS50eXBlID09PSBUb2tlblR5cGUuRElNRU5TSU9OX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS51bml0ID09PSBERUcgfHwgdmFsdWUudW5pdCA9PT0gR1JBRCB8fCB2YWx1ZS51bml0ID09PSBSQUQgfHwgdmFsdWUudW5pdCA9PT0gVFVSTikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHZhciBwYXJzZU5hbWVkU2lkZSA9IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICB2YXIgc2lkZU9yQ29ybmVyID0gdG9rZW5zXHJcbiAgICAgICAgICAgIC5maWx0ZXIoaXNJZGVudFRva2VuKVxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChpZGVudCkgeyByZXR1cm4gaWRlbnQudmFsdWU7IH0pXHJcbiAgICAgICAgICAgIC5qb2luKCcgJyk7XHJcbiAgICAgICAgc3dpdGNoIChzaWRlT3JDb3JuZXIpIHtcclxuICAgICAgICAgICAgY2FzZSAndG8gYm90dG9tIHJpZ2h0JzpcclxuICAgICAgICAgICAgY2FzZSAndG8gcmlnaHQgYm90dG9tJzpcclxuICAgICAgICAgICAgY2FzZSAnbGVmdCB0b3AnOlxyXG4gICAgICAgICAgICBjYXNlICd0b3AgbGVmdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1pFUk9fTEVOR1RILCBaRVJPX0xFTkdUSF07XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvIHRvcCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVnKDApO1xyXG4gICAgICAgICAgICBjYXNlICd0byBib3R0b20gbGVmdCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvIGxlZnQgYm90dG9tJzpcclxuICAgICAgICAgICAgY2FzZSAncmlnaHQgdG9wJzpcclxuICAgICAgICAgICAgY2FzZSAndG9wIHJpZ2h0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbWkVST19MRU5HVEgsIEhVTkRSRURfUEVSQ0VOVF07XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvIHJpZ2h0JzpcclxuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVnKDkwKTtcclxuICAgICAgICAgICAgY2FzZSAndG8gdG9wIGxlZnQnOlxyXG4gICAgICAgICAgICBjYXNlICd0byBsZWZ0IHRvcCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0IGJvdHRvbSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSByaWdodCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW0hVTkRSRURfUEVSQ0VOVCwgSFVORFJFRF9QRVJDRU5UXTtcclxuICAgICAgICAgICAgY2FzZSAndG8gYm90dG9tJzpcclxuICAgICAgICAgICAgY2FzZSAndG9wJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWcoMTgwKTtcclxuICAgICAgICAgICAgY2FzZSAndG8gdG9wIHJpZ2h0JzpcclxuICAgICAgICAgICAgY2FzZSAndG8gcmlnaHQgdG9wJzpcclxuICAgICAgICAgICAgY2FzZSAnbGVmdCBib3R0b20nOlxyXG4gICAgICAgICAgICBjYXNlICdib3R0b20gbGVmdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW0hVTkRSRURfUEVSQ0VOVCwgWkVST19MRU5HVEhdO1xyXG4gICAgICAgICAgICBjYXNlICd0byBsZWZ0JzpcclxuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZygyNzApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH07XHJcbiAgICB2YXIgZGVnID0gZnVuY3Rpb24gKGRlZykgeyByZXR1cm4gKE1hdGguUEkgKiBkZWcpIC8gMTgwOyB9O1xuXG4gICAgdmFyIGNvbG9yID0ge1xyXG4gICAgICAgIG5hbWU6ICdjb2xvcicsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUudHlwZSA9PT0gVG9rZW5UeXBlLkZVTkNUSU9OKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sb3JGdW5jdGlvbiA9IFNVUFBPUlRFRF9DT0xPUl9GVU5DVElPTlNbdmFsdWUubmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbG9yRnVuY3Rpb24gPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGluZyB0byBwYXJzZSBhbiB1bnN1cHBvcnRlZCBjb2xvciBmdW5jdGlvbiBcXFwiXCIgKyB2YWx1ZS5uYW1lICsgXCJcXFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yRnVuY3Rpb24odmFsdWUudmFsdWVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodmFsdWUudHlwZSA9PT0gVG9rZW5UeXBlLkhBU0hfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS52YWx1ZS5sZW5ndGggPT09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgciA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZygwLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZyA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZygxLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZygyLCAzKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFjayhwYXJzZUludChyICsgciwgMTYpLCBwYXJzZUludChnICsgZywgMTYpLCBwYXJzZUludChiICsgYiwgMTYpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS52YWx1ZS5sZW5ndGggPT09IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgciA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZygwLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZyA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZygxLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZygyLCAzKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZygzLCA0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFjayhwYXJzZUludChyICsgciwgMTYpLCBwYXJzZUludChnICsgZywgMTYpLCBwYXJzZUludChiICsgYiwgMTYpLCBwYXJzZUludChhICsgYSwgMTYpIC8gMjU1KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS52YWx1ZS5sZW5ndGggPT09IDYpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgciA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZygwLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZyA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZygyLCA0KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZyg0LCA2KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFjayhwYXJzZUludChyLCAxNiksIHBhcnNlSW50KGcsIDE2KSwgcGFyc2VJbnQoYiwgMTYpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS52YWx1ZS5sZW5ndGggPT09IDgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgciA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZygwLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZyA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZygyLCA0KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZyg0LCA2KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZyg2LCA4KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFjayhwYXJzZUludChyLCAxNiksIHBhcnNlSW50KGcsIDE2KSwgcGFyc2VJbnQoYiwgMTYpLCBwYXJzZUludChhLCAxNikgLyAyNTUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lZENvbG9yID0gQ09MT1JTW3ZhbHVlLnZhbHVlLnRvVXBwZXJDYXNlKCldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lZENvbG9yICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuYW1lZENvbG9yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBDT0xPUlMuVFJBTlNQQVJFTlQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBpc1RyYW5zcGFyZW50ID0gZnVuY3Rpb24gKGNvbG9yKSB7IHJldHVybiAoMHhmZiAmIGNvbG9yKSA9PT0gMDsgfTtcclxuICAgIHZhciBhc1N0cmluZyA9IGZ1bmN0aW9uIChjb2xvcikge1xyXG4gICAgICAgIHZhciBhbHBoYSA9IDB4ZmYgJiBjb2xvcjtcclxuICAgICAgICB2YXIgYmx1ZSA9IDB4ZmYgJiAoY29sb3IgPj4gOCk7XHJcbiAgICAgICAgdmFyIGdyZWVuID0gMHhmZiAmIChjb2xvciA+PiAxNik7XHJcbiAgICAgICAgdmFyIHJlZCA9IDB4ZmYgJiAoY29sb3IgPj4gMjQpO1xyXG4gICAgICAgIHJldHVybiBhbHBoYSA8IDI1NSA/IFwicmdiYShcIiArIHJlZCArIFwiLFwiICsgZ3JlZW4gKyBcIixcIiArIGJsdWUgKyBcIixcIiArIGFscGhhIC8gMjU1ICsgXCIpXCIgOiBcInJnYihcIiArIHJlZCArIFwiLFwiICsgZ3JlZW4gKyBcIixcIiArIGJsdWUgKyBcIilcIjtcclxuICAgIH07XHJcbiAgICB2YXIgcGFjayA9IGZ1bmN0aW9uIChyLCBnLCBiLCBhKSB7XHJcbiAgICAgICAgcmV0dXJuICgociA8PCAyNCkgfCAoZyA8PCAxNikgfCAoYiA8PCA4KSB8IChNYXRoLnJvdW5kKGEgKiAyNTUpIDw8IDApKSA+Pj4gMDtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0VG9rZW5Db2xvclZhbHVlID0gZnVuY3Rpb24gKHRva2VuLCBpKSB7XHJcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5OVU1CRVJfVE9LRU4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRva2VuLm51bWJlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5QRVJDRU5UQUdFX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIHZhciBtYXggPSBpID09PSAzID8gMSA6IDI1NTtcclxuICAgICAgICAgICAgcmV0dXJuIGkgPT09IDMgPyAodG9rZW4ubnVtYmVyIC8gMTAwKSAqIG1heCA6IE1hdGgucm91bmQoKHRva2VuLm51bWJlciAvIDEwMCkgKiBtYXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH07XHJcbiAgICB2YXIgcmdiID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICB2YXIgdG9rZW5zID0gYXJncy5maWx0ZXIobm9uRnVuY3Rpb25BcmdTZXBhcmF0b3IpO1xyXG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSAzKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHRva2Vucy5tYXAoZ2V0VG9rZW5Db2xvclZhbHVlKSwgciA9IF9hWzBdLCBnID0gX2FbMV0sIGIgPSBfYVsyXTtcclxuICAgICAgICAgICAgcmV0dXJuIHBhY2sociwgZywgYiwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSA0KSB7XHJcbiAgICAgICAgICAgIHZhciBfYiA9IHRva2Vucy5tYXAoZ2V0VG9rZW5Db2xvclZhbHVlKSwgciA9IF9iWzBdLCBnID0gX2JbMV0sIGIgPSBfYlsyXSwgYSA9IF9iWzNdO1xyXG4gICAgICAgICAgICByZXR1cm4gcGFjayhyLCBnLCBiLCBhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9O1xyXG4gICAgZnVuY3Rpb24gaHVlMnJnYih0MSwgdDIsIGh1ZSkge1xyXG4gICAgICAgIGlmIChodWUgPCAwKSB7XHJcbiAgICAgICAgICAgIGh1ZSArPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaHVlID49IDEpIHtcclxuICAgICAgICAgICAgaHVlIC09IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChodWUgPCAxIC8gNikge1xyXG4gICAgICAgICAgICByZXR1cm4gKHQyIC0gdDEpICogaHVlICogNiArIHQxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChodWUgPCAxIC8gMikge1xyXG4gICAgICAgICAgICByZXR1cm4gdDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGh1ZSA8IDIgLyAzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodDIgLSB0MSkgKiA2ICogKDIgLyAzIC0gaHVlKSArIHQxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHQxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciBoc2wgPSBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgICAgIHZhciB0b2tlbnMgPSBhcmdzLmZpbHRlcihub25GdW5jdGlvbkFyZ1NlcGFyYXRvcik7XHJcbiAgICAgICAgdmFyIGh1ZSA9IHRva2Vuc1swXSwgc2F0dXJhdGlvbiA9IHRva2Vuc1sxXSwgbGlnaHRuZXNzID0gdG9rZW5zWzJdLCBhbHBoYSA9IHRva2Vuc1szXTtcclxuICAgICAgICB2YXIgaCA9IChodWUudHlwZSA9PT0gVG9rZW5UeXBlLk5VTUJFUl9UT0tFTiA/IGRlZyhodWUubnVtYmVyKSA6IGFuZ2xlLnBhcnNlKGh1ZSkpIC8gKE1hdGguUEkgKiAyKTtcclxuICAgICAgICB2YXIgcyA9IGlzTGVuZ3RoUGVyY2VudGFnZShzYXR1cmF0aW9uKSA/IHNhdHVyYXRpb24ubnVtYmVyIC8gMTAwIDogMDtcclxuICAgICAgICB2YXIgbCA9IGlzTGVuZ3RoUGVyY2VudGFnZShsaWdodG5lc3MpID8gbGlnaHRuZXNzLm51bWJlciAvIDEwMCA6IDA7XHJcbiAgICAgICAgdmFyIGEgPSB0eXBlb2YgYWxwaGEgIT09ICd1bmRlZmluZWQnICYmIGlzTGVuZ3RoUGVyY2VudGFnZShhbHBoYSkgPyBnZXRBYnNvbHV0ZVZhbHVlKGFscGhhLCAxKSA6IDE7XHJcbiAgICAgICAgaWYgKHMgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhY2sobCAqIDI1NSwgbCAqIDI1NSwgbCAqIDI1NSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0MiA9IGwgPD0gMC41ID8gbCAqIChzICsgMSkgOiBsICsgcyAtIGwgKiBzO1xyXG4gICAgICAgIHZhciB0MSA9IGwgKiAyIC0gdDI7XHJcbiAgICAgICAgdmFyIHIgPSBodWUycmdiKHQxLCB0MiwgaCArIDEgLyAzKTtcclxuICAgICAgICB2YXIgZyA9IGh1ZTJyZ2IodDEsIHQyLCBoKTtcclxuICAgICAgICB2YXIgYiA9IGh1ZTJyZ2IodDEsIHQyLCBoIC0gMSAvIDMpO1xyXG4gICAgICAgIHJldHVybiBwYWNrKHIgKiAyNTUsIGcgKiAyNTUsIGIgKiAyNTUsIGEpO1xyXG4gICAgfTtcclxuICAgIHZhciBTVVBQT1JURURfQ09MT1JfRlVOQ1RJT05TID0ge1xyXG4gICAgICAgIGhzbDogaHNsLFxyXG4gICAgICAgIGhzbGE6IGhzbCxcclxuICAgICAgICByZ2I6IHJnYixcclxuICAgICAgICByZ2JhOiByZ2JcclxuICAgIH07XHJcbiAgICB2YXIgQ09MT1JTID0ge1xyXG4gICAgICAgIEFMSUNFQkxVRTogMHhmMGY4ZmZmZixcclxuICAgICAgICBBTlRJUVVFV0hJVEU6IDB4ZmFlYmQ3ZmYsXHJcbiAgICAgICAgQVFVQTogMHgwMGZmZmZmZixcclxuICAgICAgICBBUVVBTUFSSU5FOiAweDdmZmZkNGZmLFxyXG4gICAgICAgIEFaVVJFOiAweGYwZmZmZmZmLFxyXG4gICAgICAgIEJFSUdFOiAweGY1ZjVkY2ZmLFxyXG4gICAgICAgIEJJU1FVRTogMHhmZmU0YzRmZixcclxuICAgICAgICBCTEFDSzogMHgwMDAwMDBmZixcclxuICAgICAgICBCTEFOQ0hFREFMTU9ORDogMHhmZmViY2RmZixcclxuICAgICAgICBCTFVFOiAweDAwMDBmZmZmLFxyXG4gICAgICAgIEJMVUVWSU9MRVQ6IDB4OGEyYmUyZmYsXHJcbiAgICAgICAgQlJPV046IDB4YTUyYTJhZmYsXHJcbiAgICAgICAgQlVSTFlXT09EOiAweGRlYjg4N2ZmLFxyXG4gICAgICAgIENBREVUQkxVRTogMHg1ZjllYTBmZixcclxuICAgICAgICBDSEFSVFJFVVNFOiAweDdmZmYwMGZmLFxyXG4gICAgICAgIENIT0NPTEFURTogMHhkMjY5MWVmZixcclxuICAgICAgICBDT1JBTDogMHhmZjdmNTBmZixcclxuICAgICAgICBDT1JORkxPV0VSQkxVRTogMHg2NDk1ZWRmZixcclxuICAgICAgICBDT1JOU0lMSzogMHhmZmY4ZGNmZixcclxuICAgICAgICBDUklNU09OOiAweGRjMTQzY2ZmLFxyXG4gICAgICAgIENZQU46IDB4MDBmZmZmZmYsXHJcbiAgICAgICAgREFSS0JMVUU6IDB4MDAwMDhiZmYsXHJcbiAgICAgICAgREFSS0NZQU46IDB4MDA4YjhiZmYsXHJcbiAgICAgICAgREFSS0dPTERFTlJPRDogMHhiODg2YmJmZixcclxuICAgICAgICBEQVJLR1JBWTogMHhhOWE5YTlmZixcclxuICAgICAgICBEQVJLR1JFRU46IDB4MDA2NDAwZmYsXHJcbiAgICAgICAgREFSS0dSRVk6IDB4YTlhOWE5ZmYsXHJcbiAgICAgICAgREFSS0tIQUtJOiAweGJkYjc2YmZmLFxyXG4gICAgICAgIERBUktNQUdFTlRBOiAweDhiMDA4YmZmLFxyXG4gICAgICAgIERBUktPTElWRUdSRUVOOiAweDU1NmIyZmZmLFxyXG4gICAgICAgIERBUktPUkFOR0U6IDB4ZmY4YzAwZmYsXHJcbiAgICAgICAgREFSS09SQ0hJRDogMHg5OTMyY2NmZixcclxuICAgICAgICBEQVJLUkVEOiAweDhiMDAwMGZmLFxyXG4gICAgICAgIERBUktTQUxNT046IDB4ZTk5NjdhZmYsXHJcbiAgICAgICAgREFSS1NFQUdSRUVOOiAweDhmYmM4ZmZmLFxyXG4gICAgICAgIERBUktTTEFURUJMVUU6IDB4NDgzZDhiZmYsXHJcbiAgICAgICAgREFSS1NMQVRFR1JBWTogMHgyZjRmNGZmZixcclxuICAgICAgICBEQVJLU0xBVEVHUkVZOiAweDJmNGY0ZmZmLFxyXG4gICAgICAgIERBUktUVVJRVU9JU0U6IDB4MDBjZWQxZmYsXHJcbiAgICAgICAgREFSS1ZJT0xFVDogMHg5NDAwZDNmZixcclxuICAgICAgICBERUVQUElOSzogMHhmZjE0OTNmZixcclxuICAgICAgICBERUVQU0tZQkxVRTogMHgwMGJmZmZmZixcclxuICAgICAgICBESU1HUkFZOiAweDY5Njk2OWZmLFxyXG4gICAgICAgIERJTUdSRVk6IDB4Njk2OTY5ZmYsXHJcbiAgICAgICAgRE9ER0VSQkxVRTogMHgxZTkwZmZmZixcclxuICAgICAgICBGSVJFQlJJQ0s6IDB4YjIyMjIyZmYsXHJcbiAgICAgICAgRkxPUkFMV0hJVEU6IDB4ZmZmYWYwZmYsXHJcbiAgICAgICAgRk9SRVNUR1JFRU46IDB4MjI4YjIyZmYsXHJcbiAgICAgICAgRlVDSFNJQTogMHhmZjAwZmZmZixcclxuICAgICAgICBHQUlOU0JPUk86IDB4ZGNkY2RjZmYsXHJcbiAgICAgICAgR0hPU1RXSElURTogMHhmOGY4ZmZmZixcclxuICAgICAgICBHT0xEOiAweGZmZDcwMGZmLFxyXG4gICAgICAgIEdPTERFTlJPRDogMHhkYWE1MjBmZixcclxuICAgICAgICBHUkFZOiAweDgwODA4MGZmLFxyXG4gICAgICAgIEdSRUVOOiAweDAwODAwMGZmLFxyXG4gICAgICAgIEdSRUVOWUVMTE9XOiAweGFkZmYyZmZmLFxyXG4gICAgICAgIEdSRVk6IDB4ODA4MDgwZmYsXHJcbiAgICAgICAgSE9ORVlERVc6IDB4ZjBmZmYwZmYsXHJcbiAgICAgICAgSE9UUElOSzogMHhmZjY5YjRmZixcclxuICAgICAgICBJTkRJQU5SRUQ6IDB4Y2Q1YzVjZmYsXHJcbiAgICAgICAgSU5ESUdPOiAweDRiMDA4MmZmLFxyXG4gICAgICAgIElWT1JZOiAweGZmZmZmMGZmLFxyXG4gICAgICAgIEtIQUtJOiAweGYwZTY4Y2ZmLFxyXG4gICAgICAgIExBVkVOREVSOiAweGU2ZTZmYWZmLFxyXG4gICAgICAgIExBVkVOREVSQkxVU0g6IDB4ZmZmMGY1ZmYsXHJcbiAgICAgICAgTEFXTkdSRUVOOiAweDdjZmMwMGZmLFxyXG4gICAgICAgIExFTU9OQ0hJRkZPTjogMHhmZmZhY2RmZixcclxuICAgICAgICBMSUdIVEJMVUU6IDB4YWRkOGU2ZmYsXHJcbiAgICAgICAgTElHSFRDT1JBTDogMHhmMDgwODBmZixcclxuICAgICAgICBMSUdIVENZQU46IDB4ZTBmZmZmZmYsXHJcbiAgICAgICAgTElHSFRHT0xERU5ST0RZRUxMT1c6IDB4ZmFmYWQyZmYsXHJcbiAgICAgICAgTElHSFRHUkFZOiAweGQzZDNkM2ZmLFxyXG4gICAgICAgIExJR0hUR1JFRU46IDB4OTBlZTkwZmYsXHJcbiAgICAgICAgTElHSFRHUkVZOiAweGQzZDNkM2ZmLFxyXG4gICAgICAgIExJR0hUUElOSzogMHhmZmI2YzFmZixcclxuICAgICAgICBMSUdIVFNBTE1PTjogMHhmZmEwN2FmZixcclxuICAgICAgICBMSUdIVFNFQUdSRUVOOiAweDIwYjJhYWZmLFxyXG4gICAgICAgIExJR0hUU0tZQkxVRTogMHg4N2NlZmFmZixcclxuICAgICAgICBMSUdIVFNMQVRFR1JBWTogMHg3Nzg4OTlmZixcclxuICAgICAgICBMSUdIVFNMQVRFR1JFWTogMHg3Nzg4OTlmZixcclxuICAgICAgICBMSUdIVFNURUVMQkxVRTogMHhiMGM0ZGVmZixcclxuICAgICAgICBMSUdIVFlFTExPVzogMHhmZmZmZTBmZixcclxuICAgICAgICBMSU1FOiAweDAwZmYwMGZmLFxyXG4gICAgICAgIExJTUVHUkVFTjogMHgzMmNkMzJmZixcclxuICAgICAgICBMSU5FTjogMHhmYWYwZTZmZixcclxuICAgICAgICBNQUdFTlRBOiAweGZmMDBmZmZmLFxyXG4gICAgICAgIE1BUk9PTjogMHg4MDAwMDBmZixcclxuICAgICAgICBNRURJVU1BUVVBTUFSSU5FOiAweDY2Y2RhYWZmLFxyXG4gICAgICAgIE1FRElVTUJMVUU6IDB4MDAwMGNkZmYsXHJcbiAgICAgICAgTUVESVVNT1JDSElEOiAweGJhNTVkM2ZmLFxyXG4gICAgICAgIE1FRElVTVBVUlBMRTogMHg5MzcwZGJmZixcclxuICAgICAgICBNRURJVU1TRUFHUkVFTjogMHgzY2IzNzFmZixcclxuICAgICAgICBNRURJVU1TTEFURUJMVUU6IDB4N2I2OGVlZmYsXHJcbiAgICAgICAgTUVESVVNU1BSSU5HR1JFRU46IDB4MDBmYTlhZmYsXHJcbiAgICAgICAgTUVESVVNVFVSUVVPSVNFOiAweDQ4ZDFjY2ZmLFxyXG4gICAgICAgIE1FRElVTVZJT0xFVFJFRDogMHhjNzE1ODVmZixcclxuICAgICAgICBNSUROSUdIVEJMVUU6IDB4MTkxOTcwZmYsXHJcbiAgICAgICAgTUlOVENSRUFNOiAweGY1ZmZmYWZmLFxyXG4gICAgICAgIE1JU1RZUk9TRTogMHhmZmU0ZTFmZixcclxuICAgICAgICBNT0NDQVNJTjogMHhmZmU0YjVmZixcclxuICAgICAgICBOQVZBSk9XSElURTogMHhmZmRlYWRmZixcclxuICAgICAgICBOQVZZOiAweDAwMDA4MGZmLFxyXG4gICAgICAgIE9MRExBQ0U6IDB4ZmRmNWU2ZmYsXHJcbiAgICAgICAgT0xJVkU6IDB4ODA4MDAwZmYsXHJcbiAgICAgICAgT0xJVkVEUkFCOiAweDZiOGUyM2ZmLFxyXG4gICAgICAgIE9SQU5HRTogMHhmZmE1MDBmZixcclxuICAgICAgICBPUkFOR0VSRUQ6IDB4ZmY0NTAwZmYsXHJcbiAgICAgICAgT1JDSElEOiAweGRhNzBkNmZmLFxyXG4gICAgICAgIFBBTEVHT0xERU5ST0Q6IDB4ZWVlOGFhZmYsXHJcbiAgICAgICAgUEFMRUdSRUVOOiAweDk4ZmI5OGZmLFxyXG4gICAgICAgIFBBTEVUVVJRVU9JU0U6IDB4YWZlZWVlZmYsXHJcbiAgICAgICAgUEFMRVZJT0xFVFJFRDogMHhkYjcwOTNmZixcclxuICAgICAgICBQQVBBWUFXSElQOiAweGZmZWZkNWZmLFxyXG4gICAgICAgIFBFQUNIUFVGRjogMHhmZmRhYjlmZixcclxuICAgICAgICBQRVJVOiAweGNkODUzZmZmLFxyXG4gICAgICAgIFBJTks6IDB4ZmZjMGNiZmYsXHJcbiAgICAgICAgUExVTTogMHhkZGEwZGRmZixcclxuICAgICAgICBQT1dERVJCTFVFOiAweGIwZTBlNmZmLFxyXG4gICAgICAgIFBVUlBMRTogMHg4MDAwODBmZixcclxuICAgICAgICBSRUJFQ0NBUFVSUExFOiAweDY2MzM5OWZmLFxyXG4gICAgICAgIFJFRDogMHhmZjAwMDBmZixcclxuICAgICAgICBST1NZQlJPV046IDB4YmM4ZjhmZmYsXHJcbiAgICAgICAgUk9ZQUxCTFVFOiAweDQxNjllMWZmLFxyXG4gICAgICAgIFNBRERMRUJST1dOOiAweDhiNDUxM2ZmLFxyXG4gICAgICAgIFNBTE1PTjogMHhmYTgwNzJmZixcclxuICAgICAgICBTQU5EWUJST1dOOiAweGY0YTQ2MGZmLFxyXG4gICAgICAgIFNFQUdSRUVOOiAweDJlOGI1N2ZmLFxyXG4gICAgICAgIFNFQVNIRUxMOiAweGZmZjVlZWZmLFxyXG4gICAgICAgIFNJRU5OQTogMHhhMDUyMmRmZixcclxuICAgICAgICBTSUxWRVI6IDB4YzBjMGMwZmYsXHJcbiAgICAgICAgU0tZQkxVRTogMHg4N2NlZWJmZixcclxuICAgICAgICBTTEFURUJMVUU6IDB4NmE1YWNkZmYsXHJcbiAgICAgICAgU0xBVEVHUkFZOiAweDcwODA5MGZmLFxyXG4gICAgICAgIFNMQVRFR1JFWTogMHg3MDgwOTBmZixcclxuICAgICAgICBTTk9XOiAweGZmZmFmYWZmLFxyXG4gICAgICAgIFNQUklOR0dSRUVOOiAweDAwZmY3ZmZmLFxyXG4gICAgICAgIFNURUVMQkxVRTogMHg0NjgyYjRmZixcclxuICAgICAgICBUQU46IDB4ZDJiNDhjZmYsXHJcbiAgICAgICAgVEVBTDogMHgwMDgwODBmZixcclxuICAgICAgICBUSElTVExFOiAweGQ4YmZkOGZmLFxyXG4gICAgICAgIFRPTUFUTzogMHhmZjYzNDdmZixcclxuICAgICAgICBUUkFOU1BBUkVOVDogMHgwMDAwMDAwMCxcclxuICAgICAgICBUVVJRVU9JU0U6IDB4NDBlMGQwZmYsXHJcbiAgICAgICAgVklPTEVUOiAweGVlODJlZWZmLFxyXG4gICAgICAgIFdIRUFUOiAweGY1ZGViM2ZmLFxyXG4gICAgICAgIFdISVRFOiAweGZmZmZmZmZmLFxyXG4gICAgICAgIFdISVRFU01PS0U6IDB4ZjVmNWY1ZmYsXHJcbiAgICAgICAgWUVMTE9XOiAweGZmZmYwMGZmLFxyXG4gICAgICAgIFlFTExPV0dSRUVOOiAweDlhY2QzMmZmXHJcbiAgICB9O1xuXG4gICAgdmFyIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlO1xyXG4gICAgKGZ1bmN0aW9uIChQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZSkge1xyXG4gICAgICAgIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1Byb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1wiVkFMVUVcIl0gPSAwXSA9IFwiVkFMVUVcIjtcclxuICAgICAgICBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZVtQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZVtcIkxJU1RcIl0gPSAxXSA9IFwiTElTVFwiO1xyXG4gICAgICAgIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1Byb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1wiSURFTlRfVkFMVUVcIl0gPSAyXSA9IFwiSURFTlRfVkFMVUVcIjtcclxuICAgICAgICBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZVtQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZVtcIlRZUEVfVkFMVUVcIl0gPSAzXSA9IFwiVFlQRV9WQUxVRVwiO1xyXG4gICAgICAgIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1Byb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1wiVE9LRU5fVkFMVUVcIl0gPSA0XSA9IFwiVE9LRU5fVkFMVUVcIjtcclxuICAgIH0pKFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlIHx8IChQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZSA9IHt9KSk7XG5cbiAgICB2YXIgQkFDS0dST1VORF9DTElQO1xyXG4gICAgKGZ1bmN0aW9uIChCQUNLR1JPVU5EX0NMSVApIHtcclxuICAgICAgICBCQUNLR1JPVU5EX0NMSVBbQkFDS0dST1VORF9DTElQW1wiQk9SREVSX0JPWFwiXSA9IDBdID0gXCJCT1JERVJfQk9YXCI7XHJcbiAgICAgICAgQkFDS0dST1VORF9DTElQW0JBQ0tHUk9VTkRfQ0xJUFtcIlBBRERJTkdfQk9YXCJdID0gMV0gPSBcIlBBRERJTkdfQk9YXCI7XHJcbiAgICAgICAgQkFDS0dST1VORF9DTElQW0JBQ0tHUk9VTkRfQ0xJUFtcIkNPTlRFTlRfQk9YXCJdID0gMl0gPSBcIkNPTlRFTlRfQk9YXCI7XHJcbiAgICB9KShCQUNLR1JPVU5EX0NMSVAgfHwgKEJBQ0tHUk9VTkRfQ0xJUCA9IHt9KSk7XHJcbiAgICB2YXIgYmFja2dyb3VuZENsaXAgPSB7XHJcbiAgICAgICAgbmFtZTogJ2JhY2tncm91bmQtY2xpcCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnYm9yZGVyLWJveCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnMubWFwKGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BhZGRpbmctYm94JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCQUNLR1JPVU5EX0NMSVAuUEFERElOR19CT1g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnQtYm94JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCQUNLR1JPVU5EX0NMSVAuQ09OVEVOVF9CT1g7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfQ0xJUC5CT1JERVJfQk9YO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIGJhY2tncm91bmRDb2xvciA9IHtcclxuICAgICAgICBuYW1lOiBcImJhY2tncm91bmQtY29sb3JcIixcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICd0cmFuc3BhcmVudCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFLFxyXG4gICAgICAgIGZvcm1hdDogJ2NvbG9yJ1xyXG4gICAgfTtcblxuICAgIHZhciBwYXJzZUNvbG9yU3RvcCA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgdmFyIGNvbG9yJDEgPSBjb2xvci5wYXJzZShhcmdzWzBdKTtcclxuICAgICAgICB2YXIgc3RvcCA9IGFyZ3NbMV07XHJcbiAgICAgICAgcmV0dXJuIHN0b3AgJiYgaXNMZW5ndGhQZXJjZW50YWdlKHN0b3ApID8geyBjb2xvcjogY29sb3IkMSwgc3RvcDogc3RvcCB9IDogeyBjb2xvcjogY29sb3IkMSwgc3RvcDogbnVsbCB9O1xyXG4gICAgfTtcclxuICAgIHZhciBwcm9jZXNzQ29sb3JTdG9wcyA9IGZ1bmN0aW9uIChzdG9wcywgbGluZUxlbmd0aCkge1xyXG4gICAgICAgIHZhciBmaXJzdCA9IHN0b3BzWzBdO1xyXG4gICAgICAgIHZhciBsYXN0ID0gc3RvcHNbc3RvcHMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgaWYgKGZpcnN0LnN0b3AgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgZmlyc3Quc3RvcCA9IFpFUk9fTEVOR1RIO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGFzdC5zdG9wID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxhc3Quc3RvcCA9IEhVTkRSRURfUEVSQ0VOVDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHByb2Nlc3NTdG9wcyA9IFtdO1xyXG4gICAgICAgIHZhciBwcmV2aW91cyA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdG9wcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgc3RvcF8xID0gc3RvcHNbaV0uc3RvcDtcclxuICAgICAgICAgICAgaWYgKHN0b3BfMSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFic29sdXRlVmFsdWUgPSBnZXRBYnNvbHV0ZVZhbHVlKHN0b3BfMSwgbGluZUxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWJzb2x1dGVWYWx1ZSA+IHByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1N0b3BzLnB1c2goYWJzb2x1dGVWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzU3RvcHMucHVzaChwcmV2aW91cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwcmV2aW91cyA9IGFic29sdXRlVmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzU3RvcHMucHVzaChudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZ2FwQmVnaW4gPSBudWxsO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvY2Vzc1N0b3BzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzdG9wXzIgPSBwcm9jZXNzU3RvcHNbaV07XHJcbiAgICAgICAgICAgIGlmIChzdG9wXzIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChnYXBCZWdpbiA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdhcEJlZ2luID0gaTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChnYXBCZWdpbiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGdhcExlbmd0aCA9IGkgLSBnYXBCZWdpbjtcclxuICAgICAgICAgICAgICAgIHZhciBiZWZvcmVHYXAgPSBwcm9jZXNzU3RvcHNbZ2FwQmVnaW4gLSAxXTtcclxuICAgICAgICAgICAgICAgIHZhciBnYXBWYWx1ZSA9IChzdG9wXzIgLSBiZWZvcmVHYXApIC8gKGdhcExlbmd0aCArIDEpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZyA9IDE7IGcgPD0gZ2FwTGVuZ3RoOyBnKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzU3RvcHNbZ2FwQmVnaW4gKyBnIC0gMV0gPSBnYXBWYWx1ZSAqIGc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBnYXBCZWdpbiA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0b3BzLm1hcChmdW5jdGlvbiAoX2EsIGkpIHtcclxuICAgICAgICAgICAgdmFyIGNvbG9yID0gX2EuY29sb3I7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGNvbG9yOiBjb2xvciwgc3RvcDogTWF0aC5tYXgoTWF0aC5taW4oMSwgcHJvY2Vzc1N0b3BzW2ldIC8gbGluZUxlbmd0aCksIDApIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldEFuZ2xlRnJvbUNvcm5lciA9IGZ1bmN0aW9uIChjb3JuZXIsIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB2YXIgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuICAgICAgICB2YXIgY2VudGVyWSA9IGhlaWdodCAvIDI7XHJcbiAgICAgICAgdmFyIHggPSBnZXRBYnNvbHV0ZVZhbHVlKGNvcm5lclswXSwgd2lkdGgpIC0gY2VudGVyWDtcclxuICAgICAgICB2YXIgeSA9IGNlbnRlclkgLSBnZXRBYnNvbHV0ZVZhbHVlKGNvcm5lclsxXSwgaGVpZ2h0KTtcclxuICAgICAgICByZXR1cm4gKE1hdGguYXRhbjIoeSwgeCkgKyBNYXRoLlBJICogMikgJSAoTWF0aC5QSSAqIDIpO1xyXG4gICAgfTtcclxuICAgIHZhciBjYWxjdWxhdGVHcmFkaWVudERpcmVjdGlvbiA9IGZ1bmN0aW9uIChhbmdsZSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHZhciByYWRpYW4gPSB0eXBlb2YgYW5nbGUgPT09ICdudW1iZXInID8gYW5nbGUgOiBnZXRBbmdsZUZyb21Db3JuZXIoYW5nbGUsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIHZhciBsaW5lTGVuZ3RoID0gTWF0aC5hYnMod2lkdGggKiBNYXRoLnNpbihyYWRpYW4pKSArIE1hdGguYWJzKGhlaWdodCAqIE1hdGguY29zKHJhZGlhbikpO1xyXG4gICAgICAgIHZhciBoYWxmV2lkdGggPSB3aWR0aCAvIDI7XHJcbiAgICAgICAgdmFyIGhhbGZIZWlnaHQgPSBoZWlnaHQgLyAyO1xyXG4gICAgICAgIHZhciBoYWxmTGluZUxlbmd0aCA9IGxpbmVMZW5ndGggLyAyO1xyXG4gICAgICAgIHZhciB5RGlmZiA9IE1hdGguc2luKHJhZGlhbiAtIE1hdGguUEkgLyAyKSAqIGhhbGZMaW5lTGVuZ3RoO1xyXG4gICAgICAgIHZhciB4RGlmZiA9IE1hdGguY29zKHJhZGlhbiAtIE1hdGguUEkgLyAyKSAqIGhhbGZMaW5lTGVuZ3RoO1xyXG4gICAgICAgIHJldHVybiBbbGluZUxlbmd0aCwgaGFsZldpZHRoIC0geERpZmYsIGhhbGZXaWR0aCArIHhEaWZmLCBoYWxmSGVpZ2h0IC0geURpZmYsIGhhbGZIZWlnaHQgKyB5RGlmZl07XHJcbiAgICB9O1xyXG4gICAgdmFyIGRpc3RhbmNlID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIE1hdGguc3FydChhICogYSArIGIgKiBiKTsgfTtcclxuICAgIHZhciBmaW5kQ29ybmVyID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQsIHgsIHksIGNsb3Nlc3QpIHtcclxuICAgICAgICB2YXIgY29ybmVycyA9IFtbMCwgMF0sIFswLCBoZWlnaHRdLCBbd2lkdGgsIDBdLCBbd2lkdGgsIGhlaWdodF1dO1xyXG4gICAgICAgIHJldHVybiBjb3JuZXJzLnJlZHVjZShmdW5jdGlvbiAoc3RhdCwgY29ybmVyKSB7XHJcbiAgICAgICAgICAgIHZhciBjeCA9IGNvcm5lclswXSwgY3kgPSBjb3JuZXJbMV07XHJcbiAgICAgICAgICAgIHZhciBkID0gZGlzdGFuY2UoeCAtIGN4LCB5IC0gY3kpO1xyXG4gICAgICAgICAgICBpZiAoY2xvc2VzdCA/IGQgPCBzdGF0Lm9wdGltdW1EaXN0YW5jZSA6IGQgPiBzdGF0Lm9wdGltdW1EaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpbXVtQ29ybmVyOiBjb3JuZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW11bURpc3RhbmNlOiBkXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0O1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgb3B0aW11bURpc3RhbmNlOiBjbG9zZXN0ID8gSW5maW5pdHkgOiAtSW5maW5pdHksXHJcbiAgICAgICAgICAgIG9wdGltdW1Db3JuZXI6IG51bGxcclxuICAgICAgICB9KS5vcHRpbXVtQ29ybmVyO1xyXG4gICAgfTtcclxuICAgIHZhciBjYWxjdWxhdGVSYWRpdXMgPSBmdW5jdGlvbiAoZ3JhZGllbnQsIHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB2YXIgcnggPSAwO1xyXG4gICAgICAgIHZhciByeSA9IDA7XHJcbiAgICAgICAgc3dpdGNoIChncmFkaWVudC5zaXplKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ1NTUmFkaWFsRXh0ZW50LkNMT1NFU1RfU0lERTpcclxuICAgICAgICAgICAgICAgIC8vIFRoZSBlbmRpbmcgc2hhcGUgaXMgc2l6ZWQgc28gdGhhdCB0aGF0IGl0IGV4YWN0bHkgbWVldHMgdGhlIHNpZGUgb2YgdGhlIGdyYWRpZW50IGJveCBjbG9zZXN0IHRvIHRoZSBncmFkaWVudOKAmXMgY2VudGVyLlxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHNoYXBlIGlzIGFuIGVsbGlwc2UsIGl0IGV4YWN0bHkgbWVldHMgdGhlIGNsb3Nlc3Qgc2lkZSBpbiBlYWNoIGRpbWVuc2lvbi5cclxuICAgICAgICAgICAgICAgIGlmIChncmFkaWVudC5zaGFwZSA9PT0gQ1NTUmFkaWFsU2hhcGUuQ0lSQ0xFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSByeSA9IE1hdGgubWluKE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpLCBNYXRoLmFicyh5KSwgTWF0aC5hYnMoeSAtIGhlaWdodCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JhZGllbnQuc2hhcGUgPT09IENTU1JhZGlhbFNoYXBlLkVMTElQU0UpIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IE1hdGgubWluKE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpKTtcclxuICAgICAgICAgICAgICAgICAgICByeSA9IE1hdGgubWluKE1hdGguYWJzKHkpLCBNYXRoLmFicyh5IC0gaGVpZ2h0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDU1NSYWRpYWxFeHRlbnQuQ0xPU0VTVF9DT1JORVI6XHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgZW5kaW5nIHNoYXBlIGlzIHNpemVkIHNvIHRoYXQgdGhhdCBpdCBwYXNzZXMgdGhyb3VnaCB0aGUgY29ybmVyIG9mIHRoZSBncmFkaWVudCBib3ggY2xvc2VzdCB0byB0aGUgZ3JhZGllbnTigJlzIGNlbnRlci5cclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBzaGFwZSBpcyBhbiBlbGxpcHNlLCB0aGUgZW5kaW5nIHNoYXBlIGlzIGdpdmVuIHRoZSBzYW1lIGFzcGVjdC1yYXRpbyBpdCB3b3VsZCBoYXZlIGlmIGNsb3Nlc3Qtc2lkZSB3ZXJlIHNwZWNpZmllZC5cclxuICAgICAgICAgICAgICAgIGlmIChncmFkaWVudC5zaGFwZSA9PT0gQ1NTUmFkaWFsU2hhcGUuQ0lSQ0xFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSByeSA9IE1hdGgubWluKGRpc3RhbmNlKHgsIHkpLCBkaXN0YW5jZSh4LCB5IC0gaGVpZ2h0KSwgZGlzdGFuY2UoeCAtIHdpZHRoLCB5KSwgZGlzdGFuY2UoeCAtIHdpZHRoLCB5IC0gaGVpZ2h0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChncmFkaWVudC5zaGFwZSA9PT0gQ1NTUmFkaWFsU2hhcGUuRUxMSVBTRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgdGhlIHJhdGlvIHJ5L3J4ICh3aGljaCBpcyB0byBiZSB0aGUgc2FtZSBhcyBmb3IgXCJjbG9zZXN0LXNpZGVcIilcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IE1hdGgubWluKE1hdGguYWJzKHkpLCBNYXRoLmFicyh5IC0gaGVpZ2h0KSkgLyBNYXRoLm1pbihNYXRoLmFicyh4KSwgTWF0aC5hYnMoeCAtIHdpZHRoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gZmluZENvcm5lcih3aWR0aCwgaGVpZ2h0LCB4LCB5LCB0cnVlKSwgY3ggPSBfYVswXSwgY3kgPSBfYVsxXTtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IGRpc3RhbmNlKGN4IC0geCwgKGN5IC0geSkgLyBjKTtcclxuICAgICAgICAgICAgICAgICAgICByeSA9IGMgKiByeDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENTU1JhZGlhbEV4dGVudC5GQVJUSEVTVF9TSURFOlxyXG4gICAgICAgICAgICAgICAgLy8gU2FtZSBhcyBjbG9zZXN0LXNpZGUsIGV4Y2VwdCB0aGUgZW5kaW5nIHNoYXBlIGlzIHNpemVkIGJhc2VkIG9uIHRoZSBmYXJ0aGVzdCBzaWRlKHMpXHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JhZGllbnQuc2hhcGUgPT09IENTU1JhZGlhbFNoYXBlLkNJUkNMRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gcnkgPSBNYXRoLm1heChNYXRoLmFicyh4KSwgTWF0aC5hYnMoeCAtIHdpZHRoKSwgTWF0aC5hYnMoeSksIE1hdGguYWJzKHkgLSBoZWlnaHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5FTExJUFNFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSBNYXRoLm1heChNYXRoLmFicyh4KSwgTWF0aC5hYnMoeCAtIHdpZHRoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcnkgPSBNYXRoLm1heChNYXRoLmFicyh5KSwgTWF0aC5hYnMoeSAtIGhlaWdodCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX0NPUk5FUjpcclxuICAgICAgICAgICAgICAgIC8vIFNhbWUgYXMgY2xvc2VzdC1jb3JuZXIsIGV4Y2VwdCB0aGUgZW5kaW5nIHNoYXBlIGlzIHNpemVkIGJhc2VkIG9uIHRoZSBmYXJ0aGVzdCBjb3JuZXIuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgc2hhcGUgaXMgYW4gZWxsaXBzZSwgdGhlIGVuZGluZyBzaGFwZSBpcyBnaXZlbiB0aGUgc2FtZSBhc3BlY3QgcmF0aW8gaXQgd291bGQgaGF2ZSBpZiBmYXJ0aGVzdC1zaWRlIHdlcmUgc3BlY2lmaWVkLlxyXG4gICAgICAgICAgICAgICAgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5DSVJDTEUpIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IHJ5ID0gTWF0aC5tYXgoZGlzdGFuY2UoeCwgeSksIGRpc3RhbmNlKHgsIHkgLSBoZWlnaHQpLCBkaXN0YW5jZSh4IC0gd2lkdGgsIHkpLCBkaXN0YW5jZSh4IC0gd2lkdGgsIHkgLSBoZWlnaHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5FTExJUFNFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgcmF0aW8gcnkvcnggKHdoaWNoIGlzIHRvIGJlIHRoZSBzYW1lIGFzIGZvciBcImZhcnRoZXN0LXNpZGVcIilcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IE1hdGgubWF4KE1hdGguYWJzKHkpLCBNYXRoLmFicyh5IC0gaGVpZ2h0KSkgLyBNYXRoLm1heChNYXRoLmFicyh4KSwgTWF0aC5hYnMoeCAtIHdpZHRoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9iID0gZmluZENvcm5lcih3aWR0aCwgaGVpZ2h0LCB4LCB5LCBmYWxzZSksIGN4ID0gX2JbMF0sIGN5ID0gX2JbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSBkaXN0YW5jZShjeCAtIHgsIChjeSAtIHkpIC8gYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcnkgPSBjICogcng7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZ3JhZGllbnQuc2l6ZSkpIHtcclxuICAgICAgICAgICAgcnggPSBnZXRBYnNvbHV0ZVZhbHVlKGdyYWRpZW50LnNpemVbMF0sIHdpZHRoKTtcclxuICAgICAgICAgICAgcnkgPSBncmFkaWVudC5zaXplLmxlbmd0aCA9PT0gMiA/IGdldEFic29sdXRlVmFsdWUoZ3JhZGllbnQuc2l6ZVsxXSwgaGVpZ2h0KSA6IHJ4O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW3J4LCByeV07XHJcbiAgICB9O1xuXG4gICAgdmFyIGxpbmVhckdyYWRpZW50ID0gZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgIHZhciBhbmdsZSQxID0gZGVnKDE4MCk7XHJcbiAgICAgICAgdmFyIHN0b3BzID0gW107XHJcbiAgICAgICAgcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKS5mb3JFYWNoKGZ1bmN0aW9uIChhcmcsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaXJzdFRva2VuID0gYXJnWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0VG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOICYmIGZpcnN0VG9rZW4udmFsdWUgPT09ICd0bycpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmdsZSQxID0gcGFyc2VOYW1lZFNpZGUoYXJnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0FuZ2xlKGZpcnN0VG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUkMSA9IGFuZ2xlLnBhcnNlKGZpcnN0VG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY29sb3JTdG9wID0gcGFyc2VDb2xvclN0b3AoYXJnKTtcclxuICAgICAgICAgICAgc3RvcHMucHVzaChjb2xvclN0b3ApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7IGFuZ2xlOiBhbmdsZSQxLCBzdG9wczogc3RvcHMsIHR5cGU6IENTU0ltYWdlVHlwZS5MSU5FQVJfR1JBRElFTlQgfTtcclxuICAgIH07XG5cbiAgICB2YXIgcHJlZml4TGluZWFyR3JhZGllbnQgPSBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgdmFyIGFuZ2xlJDEgPSBkZWcoMTgwKTtcclxuICAgICAgICB2YXIgc3RvcHMgPSBbXTtcclxuICAgICAgICBwYXJzZUZ1bmN0aW9uQXJncyh0b2tlbnMpLmZvckVhY2goZnVuY3Rpb24gKGFyZywgaSkge1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0VG9rZW4gPSBhcmdbMF07XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RUb2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiZcclxuICAgICAgICAgICAgICAgICAgICBbJ3RvcCcsICdsZWZ0JywgJ3JpZ2h0JywgJ2JvdHRvbSddLmluZGV4T2YoZmlyc3RUb2tlbi52YWx1ZSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUkMSA9IHBhcnNlTmFtZWRTaWRlKGFyZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNBbmdsZShmaXJzdFRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlJDEgPSAoYW5nbGUucGFyc2UoZmlyc3RUb2tlbikgKyBkZWcoMjcwKSkgJSBkZWcoMzYwKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGNvbG9yU3RvcCA9IHBhcnNlQ29sb3JTdG9wKGFyZyk7XHJcbiAgICAgICAgICAgIHN0b3BzLnB1c2goY29sb3JTdG9wKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBhbmdsZTogYW5nbGUkMSxcclxuICAgICAgICAgICAgc3RvcHM6IHN0b3BzLFxyXG4gICAgICAgICAgICB0eXBlOiBDU1NJbWFnZVR5cGUuTElORUFSX0dSQURJRU5UXHJcbiAgICAgICAgfTtcclxuICAgIH07XG5cbiAgICB2YXIgdGVzdFJhbmdlQm91bmRzID0gZnVuY3Rpb24gKGRvY3VtZW50KSB7XHJcbiAgICAgICAgdmFyIFRFU1RfSEVJR0hUID0gMTIzO1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5jcmVhdGVSYW5nZSkge1xyXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xyXG4gICAgICAgICAgICBpZiAocmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib3VuZHRlc3QnKTtcclxuICAgICAgICAgICAgICAgIHRlc3RFbGVtZW50LnN0eWxlLmhlaWdodCA9IFRFU1RfSEVJR0hUICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgdGVzdEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRlc3RFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGUodGVzdEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlQm91bmRzID0gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2VIZWlnaHQgPSBNYXRoLnJvdW5kKHJhbmdlQm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRlc3RFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIGlmIChyYW5nZUhlaWdodCA9PT0gVEVTVF9IRUlHSFQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgdmFyIHRlc3RDT1JTID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZW9mIG5ldyBJbWFnZSgpLmNyb3NzT3JpZ2luICE9PSAndW5kZWZpbmVkJzsgfTtcclxuICAgIHZhciB0ZXN0UmVzcG9uc2VUeXBlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZW9mIG5ldyBYTUxIdHRwUmVxdWVzdCgpLnJlc3BvbnNlVHlwZSA9PT0gJ3N0cmluZyc7IH07XHJcbiAgICB2YXIgdGVzdFNWRyA9IGZ1bmN0aW9uIChkb2N1bWVudCkge1xyXG4gICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIGlmICghY3R4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW1nLnNyYyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLDxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48L3N2Zz5cIjtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XHJcbiAgICAgICAgICAgIGNhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICB2YXIgaXNHcmVlblBpeGVsID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gZGF0YVswXSA9PT0gMCAmJiBkYXRhWzFdID09PSAyNTUgJiYgZGF0YVsyXSA9PT0gMCAmJiBkYXRhWzNdID09PSAyNTU7XHJcbiAgICB9O1xyXG4gICAgdmFyIHRlc3RGb3JlaWduT2JqZWN0ID0gZnVuY3Rpb24gKGRvY3VtZW50KSB7XHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIHZhciBzaXplID0gMTAwO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHNpemU7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHNpemU7XHJcbiAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIGlmICghY3R4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiKDAsIDI1NSwgMCknO1xyXG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBzaXplLCBzaXplKTtcclxuICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdmFyIGdyZWVuSW1hZ2VTcmMgPSBjYW52YXMudG9EYXRhVVJMKCk7XHJcbiAgICAgICAgaW1nLnNyYyA9IGdyZWVuSW1hZ2VTcmM7XHJcbiAgICAgICAgdmFyIHN2ZyA9IGNyZWF0ZUZvcmVpZ25PYmplY3RTVkcoc2l6ZSwgc2l6ZSwgMCwgMCwgaW1nKTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JlZCc7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHNpemUsIHNpemUpO1xyXG4gICAgICAgIHJldHVybiBsb2FkU2VyaWFsaXplZFNWRyhzdmcpXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChpbWcpIHtcclxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgc2l6ZSwgc2l6ZSkuZGF0YTtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZWQnO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgc2l6ZSwgc2l6ZSk7XHJcbiAgICAgICAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIG5vZGUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBncmVlbkltYWdlU3JjICsgXCIpXCI7XHJcbiAgICAgICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gc2l6ZSArIFwicHhcIjtcclxuICAgICAgICAgICAgLy8gRmlyZWZveCA1NSBkb2VzIG5vdCByZW5kZXIgaW5saW5lIDxpbWcgLz4gdGFnc1xyXG4gICAgICAgICAgICByZXR1cm4gaXNHcmVlblBpeGVsKGRhdGEpXHJcbiAgICAgICAgICAgICAgICA/IGxvYWRTZXJpYWxpemVkU1ZHKGNyZWF0ZUZvcmVpZ25PYmplY3RTVkcoc2l6ZSwgc2l6ZSwgMCwgMCwgbm9kZSkpXHJcbiAgICAgICAgICAgICAgICA6IFByb21pc2UucmVqZWN0KGZhbHNlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoaW1nKSB7XHJcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcclxuICAgICAgICAgICAgLy8gRWRnZSBkb2VzIG5vdCByZW5kZXIgYmFja2dyb3VuZC1pbWFnZXNcclxuICAgICAgICAgICAgcmV0dXJuIGlzR3JlZW5QaXhlbChjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHNpemUsIHNpemUpLmRhdGEpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNyZWF0ZUZvcmVpZ25PYmplY3RTVkcgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCwgeCwgeSwgbm9kZSkge1xyXG4gICAgICAgIHZhciB4bWxucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcbiAgICAgICAgdmFyIHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh4bWxucywgJ3N2ZycpO1xyXG4gICAgICAgIHZhciBmb3JlaWduT2JqZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHhtbG5zLCAnZm9yZWlnbk9iamVjdCcpO1xyXG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnd2lkdGgnLCB3aWR0aC50b1N0cmluZygpKTtcclxuICAgICAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsIGhlaWdodC50b1N0cmluZygpKTtcclxuICAgICAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICd3aWR0aCcsICcxMDAlJyk7XHJcbiAgICAgICAgZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnaGVpZ2h0JywgJzEwMCUnKTtcclxuICAgICAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICd4JywgeC50b1N0cmluZygpKTtcclxuICAgICAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICd5JywgeS50b1N0cmluZygpKTtcclxuICAgICAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ3RydWUnKTtcclxuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQoZm9yZWlnbk9iamVjdCk7XHJcbiAgICAgICAgZm9yZWlnbk9iamVjdC5hcHBlbmRDaGlsZChub2RlKTtcclxuICAgICAgICByZXR1cm4gc3ZnO1xyXG4gICAgfTtcclxuICAgIHZhciBsb2FkU2VyaWFsaXplZFNWRyA9IGZ1bmN0aW9uIChzdmcpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKGltZyk7IH07XHJcbiAgICAgICAgICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xyXG4gICAgICAgICAgICBpbWcuc3JjID0gXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCxcIiArIGVuY29kZVVSSUNvbXBvbmVudChuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKHN2ZykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZhciBGRUFUVVJFUyA9IHtcclxuICAgICAgICBnZXQgU1VQUE9SVF9SQU5HRV9CT1VORFMoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRlc3RSYW5nZUJvdW5kcyhkb2N1bWVudCk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGRUFUVVJFUywgJ1NVUFBPUlRfUkFOR0VfQk9VTkRTJywgeyB2YWx1ZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBTVVBQT1JUX1NWR19EUkFXSU5HKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0ZXN0U1ZHKGRvY3VtZW50KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZFQVRVUkVTLCAnU1VQUE9SVF9TVkdfRFJBV0lORycsIHsgdmFsdWU6IHZhbHVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgU1VQUE9SVF9GT1JFSUdOT0JKRUNUX0RSQVdJTkcoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHR5cGVvZiBBcnJheS5mcm9tID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB3aW5kb3cuZmV0Y2ggPT09ICdmdW5jdGlvbidcclxuICAgICAgICAgICAgICAgID8gdGVzdEZvcmVpZ25PYmplY3QoZG9jdW1lbnQpXHJcbiAgICAgICAgICAgICAgICA6IFByb21pc2UucmVzb2x2ZShmYWxzZSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGRUFUVVJFUywgJ1NVUFBPUlRfRk9SRUlHTk9CSkVDVF9EUkFXSU5HJywgeyB2YWx1ZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBTVVBQT1JUX0NPUlNfSU1BR0VTKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0ZXN0Q09SUygpO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRkVBVFVSRVMsICdTVVBQT1JUX0NPUlNfSU1BR0VTJywgeyB2YWx1ZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBTVVBQT1JUX1JFU1BPTlNFX1RZUEUoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRlc3RSZXNwb25zZVR5cGUoKTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZFQVRVUkVTLCAnU1VQUE9SVF9SRVNQT05TRV9UWVBFJywgeyB2YWx1ZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBTVVBQT1JUX0NPUlNfWEhSKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAnd2l0aENyZWRlbnRpYWxzJyBpbiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZFQVRVUkVTLCAnU1VQUE9SVF9DT1JTX1hIUicsIHsgdmFsdWU6IHZhbHVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBMb2dnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gTG9nZ2VyKF9hKSB7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IF9hLmlkLCBlbmFibGVkID0gX2EuZW5hYmxlZDtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgICAgICB0aGlzLmVuYWJsZWQgPSBlbmFibGVkO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICBMb2dnZXIucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgdHlwZW9mIGNvbnNvbGUuZGVidWcgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcuYXBwbHkoY29uc29sZSwgW3RoaXMuaWQsIHRoaXMuZ2V0VGltZSgpICsgXCJtc1wiXS5jb25jYXQoYXJncykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmZvLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBMb2dnZXIucHJvdG90eXBlLmdldFRpbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlLm5vdygpIC0gdGhpcy5zdGFydDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIExvZ2dlci5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICBMb2dnZXIuaW5zdGFuY2VzW29wdGlvbnMuaWRdID0gbmV3IExvZ2dlcihvcHRpb25zKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIExvZ2dlci5kZXN0cm95ID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBMb2dnZXIuaW5zdGFuY2VzW2lkXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBMb2dnZXIuaW5zdGFuY2VzW2lkXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGxvZ2dlciBpbnN0YW5jZSBmb3VuZCB3aXRoIGlkIFwiICsgaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgTG9nZ2VyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgdHlwZW9mIGNvbnNvbGUuaW5mbyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvLmFwcGx5KGNvbnNvbGUsIFt0aGlzLmlkLCB0aGlzLmdldFRpbWUoKSArIFwibXNcIl0uY29uY2F0KGFyZ3MpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICBMb2dnZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSwgW3RoaXMuaWQsIHRoaXMuZ2V0VGltZSgpICsgXCJtc1wiXS5jb25jYXQoYXJncykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmZvLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBMb2dnZXIuaW5zdGFuY2VzID0ge307XHJcbiAgICAgICAgcmV0dXJuIExvZ2dlcjtcclxuICAgIH0oKSk7XG5cbiAgICB2YXIgQ2FjaGVTdG9yYWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIENhY2hlU3RvcmFnZSgpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgQ2FjaGVTdG9yYWdlLmNyZWF0ZSA9IGZ1bmN0aW9uIChuYW1lLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoQ2FjaGVTdG9yYWdlLl9jYWNoZXNbbmFtZV0gPSBuZXcgQ2FjaGUobmFtZSwgb3B0aW9ucykpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FjaGVTdG9yYWdlLmRlc3Ryb3kgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICBkZWxldGUgQ2FjaGVTdG9yYWdlLl9jYWNoZXNbbmFtZV07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZVN0b3JhZ2Uub3BlbiA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IENhY2hlU3RvcmFnZS5fY2FjaGVzW25hbWVdO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNhY2hlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhY2hlIHdpdGgga2V5IFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgbm90IGZvdW5kXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FjaGVTdG9yYWdlLmdldE9yaWdpbiA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgdmFyIGxpbmsgPSBDYWNoZVN0b3JhZ2UuX2xpbms7XHJcbiAgICAgICAgICAgIGlmICghbGluaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdhYm91dDpibGFuayc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGluay5ocmVmID0gdXJsO1xyXG4gICAgICAgICAgICBsaW5rLmhyZWYgPSBsaW5rLmhyZWY7IC8vIElFOSwgTE9MISAtIGh0dHA6Ly9qc2ZpZGRsZS5uZXQvbmlrbGFzdmgvMmU0OGIvXHJcbiAgICAgICAgICAgIHJldHVybiBsaW5rLnByb3RvY29sICsgbGluay5ob3N0bmFtZSArIGxpbmsucG9ydDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5pc1NhbWVPcmlnaW4gPSBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDYWNoZVN0b3JhZ2UuZ2V0T3JpZ2luKHNyYykgPT09IENhY2hlU3RvcmFnZS5fb3JpZ2luO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FjaGVTdG9yYWdlLnNldENvbnRleHQgPSBmdW5jdGlvbiAod2luZG93KSB7XHJcbiAgICAgICAgICAgIENhY2hlU3RvcmFnZS5fbGluayA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgIENhY2hlU3RvcmFnZS5fb3JpZ2luID0gQ2FjaGVTdG9yYWdlLmdldE9yaWdpbih3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZVN0b3JhZ2UuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gQ2FjaGVTdG9yYWdlLl9jdXJyZW50O1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY2FjaGUgaW5zdGFuY2UgYXR0YWNoZWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZVN0b3JhZ2UuYXR0YWNoSW5zdGFuY2UgPSBmdW5jdGlvbiAoY2FjaGUpIHtcclxuICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLl9jdXJyZW50ID0gY2FjaGU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZVN0b3JhZ2UuZGV0YWNoSW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIENhY2hlU3RvcmFnZS5fY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZVN0b3JhZ2UuX2NhY2hlcyA9IHt9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5fb3JpZ2luID0gJ2Fib3V0OmJsYW5rJztcclxuICAgICAgICBDYWNoZVN0b3JhZ2UuX2N1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgIHJldHVybiBDYWNoZVN0b3JhZ2U7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIENhY2hlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIENhY2hlKGlkLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIENhY2hlLnByb3RvdHlwZS5hZGRJbWFnZSA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5oYXMoc3JjKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNCbG9iSW1hZ2Uoc3JjKSB8fCBpc1JlbmRlcmFibGUoc3JjKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVbc3JjXSA9IHRoaXMubG9hZEltYWdlKHNyYyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgIENhY2hlLnByb3RvdHlwZS5tYXRjaCA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlW3NyY107XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZS5wcm90b3R5cGUubG9hZEltYWdlID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNTYW1lT3JpZ2luLCB1c2VDT1JTLCB1c2VQcm94eSwgc3JjO1xyXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2FtZU9yaWdpbiA9IENhY2hlU3RvcmFnZS5pc1NhbWVPcmlnaW4oa2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUNPUlMgPSAhaXNJbmxpbmVJbWFnZShrZXkpICYmIHRoaXMuX29wdGlvbnMudXNlQ09SUyA9PT0gdHJ1ZSAmJiBGRUFUVVJFUy5TVVBQT1JUX0NPUlNfSU1BR0VTICYmICFpc1NhbWVPcmlnaW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VQcm94eSA9ICFpc0lubGluZUltYWdlKGtleSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXNTYW1lT3JpZ2luICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHRoaXMuX29wdGlvbnMucHJveHkgPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRkVBVFVSRVMuU1VQUE9SVF9DT1JTX1hIUiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF1c2VDT1JTO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1NhbWVPcmlnaW4gJiYgdGhpcy5fb3B0aW9ucy5hbGxvd1RhaW50ID09PSBmYWxzZSAmJiAhaXNJbmxpbmVJbWFnZShrZXkpICYmICF1c2VQcm94eSAmJiAhdXNlQ09SUykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IGtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdXNlUHJveHkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5wcm94eShzcmMpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpcy5pZCkuZGVidWcoXCJBZGRlZCBpbWFnZSBcIiArIGtleS5zdWJzdHJpbmcoMCwgMjU2KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUoaW1nKTsgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSByZWplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaW9zIHNhZmFyaSAxMC4zIHRhaW50cyBjYW52YXMgd2l0aCBkYXRhIHVybHMgdW5sZXNzIGNyb3NzT3JpZ2luIGlzIHNldCB0byBhbm9ueW1vdXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSW5saW5lQmFzZTY0SW1hZ2Uoc3JjKSB8fCB1c2VDT1JTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gc3JjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nLmNvbXBsZXRlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbmxpbmUgWE1MIGltYWdlcyBtYXkgZmFpbCB0byBwYXJzZSwgdGhyb3dpbmcgYW4gRXJyb3IgbGF0ZXIgb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZShpbWcpOyB9LCA1MDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fb3B0aW9ucy5pbWFnZVRpbWVvdXQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlamVjdChcIlRpbWVkIG91dCAoXCIgKyBfdGhpcy5fb3B0aW9ucy5pbWFnZVRpbWVvdXQgKyBcIm1zKSBsb2FkaW5nIGltYWdlXCIpOyB9LCBfdGhpcy5fb3B0aW9ucy5pbWFnZVRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5fY2FjaGVba2V5XSAhPT0gJ3VuZGVmaW5lZCc7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZS5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShPYmplY3Qua2V5cyh0aGlzLl9jYWNoZSkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FjaGUucHJvdG90eXBlLnByb3h5ID0gZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgcHJveHkgPSB0aGlzLl9vcHRpb25zLnByb3h5O1xyXG4gICAgICAgICAgICBpZiAoIXByb3h5KSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHByb3h5IGRlZmluZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIga2V5ID0gc3JjLnN1YnN0cmluZygwLCAyNTYpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlVHlwZSA9IEZFQVRVUkVTLlNVUFBPUlRfUkVTUE9OU0VfVFlQRSA/ICdibG9iJyA6ICd0ZXh0JztcclxuICAgICAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VUeXBlID09PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeGhyLnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFkZXJfMSA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXJfMS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZShyZWFkZXJfMS5yZXN1bHQpOyB9LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXJfMS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uIChlKSB7IHJldHVybiByZWplY3QoZSk7IH0sIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlcl8xLnJlYWRBc0RhdGFVUkwoeGhyLnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFwiRmFpbGVkIHRvIHByb3h5IHJlc291cmNlIFwiICsga2V5ICsgXCIgd2l0aCBzdGF0dXMgY29kZSBcIiArIHhoci5zdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB4aHIub25lcnJvciA9IHJlamVjdDtcclxuICAgICAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCBwcm94eSArIFwiP3VybD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChzcmMpICsgXCImcmVzcG9uc2VUeXBlPVwiICsgcmVzcG9uc2VUeXBlKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVR5cGUgIT09ICd0ZXh0JyAmJiB4aHIgaW5zdGFuY2VvZiBYTUxIdHRwUmVxdWVzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29wdGlvbnMuaW1hZ2VUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVvdXRfMSA9IF90aGlzLl9vcHRpb25zLmltYWdlVGltZW91dDtcclxuICAgICAgICAgICAgICAgICAgICB4aHIudGltZW91dCA9IHRpbWVvdXRfMTtcclxuICAgICAgICAgICAgICAgICAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVqZWN0KFwiVGltZWQgb3V0IChcIiArIHRpbWVvdXRfMSArIFwibXMpIHByb3h5aW5nIFwiICsga2V5KTsgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIENhY2hlO1xyXG4gICAgfSgpKTtcclxuICAgIHZhciBJTkxJTkVfU1ZHID0gL15kYXRhOmltYWdlXFwvc3ZnXFwreG1sL2k7XHJcbiAgICB2YXIgSU5MSU5FX0JBU0U2NCA9IC9eZGF0YTppbWFnZVxcLy4qO2Jhc2U2NCwvaTtcclxuICAgIHZhciBJTkxJTkVfSU1HID0gL15kYXRhOmltYWdlXFwvLiovaTtcclxuICAgIHZhciBpc1JlbmRlcmFibGUgPSBmdW5jdGlvbiAoc3JjKSB7IHJldHVybiBGRUFUVVJFUy5TVVBQT1JUX1NWR19EUkFXSU5HIHx8ICFpc1NWRyhzcmMpOyB9O1xyXG4gICAgdmFyIGlzSW5saW5lSW1hZ2UgPSBmdW5jdGlvbiAoc3JjKSB7IHJldHVybiBJTkxJTkVfSU1HLnRlc3Qoc3JjKTsgfTtcclxuICAgIHZhciBpc0lubGluZUJhc2U2NEltYWdlID0gZnVuY3Rpb24gKHNyYykgeyByZXR1cm4gSU5MSU5FX0JBU0U2NC50ZXN0KHNyYyk7IH07XHJcbiAgICB2YXIgaXNCbG9iSW1hZ2UgPSBmdW5jdGlvbiAoc3JjKSB7IHJldHVybiBzcmMuc3Vic3RyKDAsIDQpID09PSAnYmxvYic7IH07XHJcbiAgICB2YXIgaXNTVkcgPSBmdW5jdGlvbiAoc3JjKSB7IHJldHVybiBzcmMuc3Vic3RyKC0zKS50b0xvd2VyQ2FzZSgpID09PSAnc3ZnJyB8fCBJTkxJTkVfU1ZHLnRlc3Qoc3JjKTsgfTtcblxuICAgIHZhciB3ZWJraXRHcmFkaWVudCA9IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICB2YXIgYW5nbGUgPSBkZWcoMTgwKTtcclxuICAgICAgICB2YXIgc3RvcHMgPSBbXTtcclxuICAgICAgICB2YXIgdHlwZSA9IENTU0ltYWdlVHlwZS5MSU5FQVJfR1JBRElFTlQ7XHJcbiAgICAgICAgdmFyIHNoYXBlID0gQ1NTUmFkaWFsU2hhcGUuQ0lSQ0xFO1xyXG4gICAgICAgIHZhciBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX0NPUk5FUjtcclxuICAgICAgICB2YXIgcG9zaXRpb24gPSBbXTtcclxuICAgICAgICBwYXJzZUZ1bmN0aW9uQXJncyh0b2tlbnMpLmZvckVhY2goZnVuY3Rpb24gKGFyZywgaSkge1xyXG4gICAgICAgICAgICB2YXIgZmlyc3RUb2tlbiA9IGFyZ1swXTtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc0lkZW50VG9rZW4oZmlyc3RUb2tlbikgJiYgZmlyc3RUb2tlbi52YWx1ZSA9PT0gJ2xpbmVhcicpIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gQ1NTSW1hZ2VUeXBlLkxJTkVBUl9HUkFESUVOVDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0lkZW50VG9rZW4oZmlyc3RUb2tlbikgJiYgZmlyc3RUb2tlbi52YWx1ZSA9PT0gJ3JhZGlhbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gQ1NTSW1hZ2VUeXBlLlJBRElBTF9HUkFESUVOVDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZpcnN0VG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLkZVTkNUSU9OKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RUb2tlbi5uYW1lID09PSAnZnJvbScpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IkMSA9IGNvbG9yLnBhcnNlKGZpcnN0VG9rZW4udmFsdWVzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBzdG9wcy5wdXNoKHsgc3RvcDogWkVST19MRU5HVEgsIGNvbG9yOiBjb2xvciQxIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmlyc3RUb2tlbi5uYW1lID09PSAndG8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yJDEgPSBjb2xvci5wYXJzZShmaXJzdFRva2VuLnZhbHVlc1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcHMucHVzaCh7IHN0b3A6IEhVTkRSRURfUEVSQ0VOVCwgY29sb3I6IGNvbG9yJDEgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmaXJzdFRva2VuLm5hbWUgPT09ICdjb2xvci1zdG9wJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBmaXJzdFRva2VuLnZhbHVlcy5maWx0ZXIobm9uRnVuY3Rpb25BcmdTZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciQxID0gY29sb3IucGFyc2UodmFsdWVzWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3BfMSA9IHZhbHVlc1swXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyVG9rZW4oc3RvcF8xKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcDogeyB0eXBlOiBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTiwgbnVtYmVyOiBzdG9wXzEubnVtYmVyICogMTAwLCBmbGFnczogc3RvcF8xLmZsYWdzIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yJDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHR5cGUgPT09IENTU0ltYWdlVHlwZS5MSU5FQVJfR1JBRElFTlRcclxuICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICBhbmdsZTogKGFuZ2xlICsgZGVnKDE4MCkpICUgZGVnKDM2MCksXHJcbiAgICAgICAgICAgICAgICBzdG9wczogc3RvcHMsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgOiB7IHNpemU6IHNpemUsIHNoYXBlOiBzaGFwZSwgc3RvcHM6IHN0b3BzLCBwb3NpdGlvbjogcG9zaXRpb24sIHR5cGU6IHR5cGUgfTtcclxuICAgIH07XG5cbiAgICB2YXIgQ0xPU0VTVF9TSURFID0gJ2Nsb3Nlc3Qtc2lkZSc7XHJcbiAgICB2YXIgRkFSVEhFU1RfU0lERSA9ICdmYXJ0aGVzdC1zaWRlJztcclxuICAgIHZhciBDTE9TRVNUX0NPUk5FUiA9ICdjbG9zZXN0LWNvcm5lcic7XHJcbiAgICB2YXIgRkFSVEhFU1RfQ09STkVSID0gJ2ZhcnRoZXN0LWNvcm5lcic7XHJcbiAgICB2YXIgQ0lSQ0xFID0gJ2NpcmNsZSc7XHJcbiAgICB2YXIgRUxMSVBTRSA9ICdlbGxpcHNlJztcclxuICAgIHZhciBDT1ZFUiA9ICdjb3Zlcic7XHJcbiAgICB2YXIgQ09OVEFJTiA9ICdjb250YWluJztcclxuICAgIHZhciByYWRpYWxHcmFkaWVudCA9IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICB2YXIgc2hhcGUgPSBDU1NSYWRpYWxTaGFwZS5DSVJDTEU7XHJcbiAgICAgICAgdmFyIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfQ09STkVSO1xyXG4gICAgICAgIHZhciBzdG9wcyA9IFtdO1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IFtdO1xyXG4gICAgICAgIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucykuZm9yRWFjaChmdW5jdGlvbiAoYXJnLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBpc0NvbG9yU3RvcCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNBdFBvc2l0aW9uXzEgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlzQ29sb3JTdG9wID0gYXJnLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0F0UG9zaXRpb25fMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNJZGVudFRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NlbnRlcic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLnB1c2goRklGVFlfUEVSQ0VOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaChaRVJPX0xFTkdUSCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLnB1c2goSFVORFJFRF9QRVJDRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2UodG9rZW4pIHx8IGlzTGVuZ3RoKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNJZGVudFRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENJUkNMRTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFwZSA9IENTU1JhZGlhbFNoYXBlLkNJUkNMRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEVMTElQU0U6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGUgPSBDU1NSYWRpYWxTaGFwZS5FTExJUFNFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2F0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F0UG9zaXRpb25fMSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDTE9TRVNUX1NJREU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5DTE9TRVNUX1NJREU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDT1ZFUjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRkFSVEhFU1RfU0lERTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX1NJREU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDT05UQUlOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDTE9TRVNUX0NPUk5FUjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkNMT1NFU1RfQ09STkVSO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRkFSVEhFU1RfQ09STkVSOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfQ09STkVSO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0xlbmd0aCh0b2tlbikgfHwgaXNMZW5ndGhQZXJjZW50YWdlKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2l6ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplLnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICB9LCBpc0NvbG9yU3RvcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzQ29sb3JTdG9wKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sb3JTdG9wID0gcGFyc2VDb2xvclN0b3AoYXJnKTtcclxuICAgICAgICAgICAgICAgIHN0b3BzLnB1c2goY29sb3JTdG9wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7IHNpemU6IHNpemUsIHNoYXBlOiBzaGFwZSwgc3RvcHM6IHN0b3BzLCBwb3NpdGlvbjogcG9zaXRpb24sIHR5cGU6IENTU0ltYWdlVHlwZS5SQURJQUxfR1JBRElFTlQgfTtcclxuICAgIH07XG5cbiAgICB2YXIgcHJlZml4UmFkaWFsR3JhZGllbnQgPSBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgdmFyIHNoYXBlID0gQ1NTUmFkaWFsU2hhcGUuQ0lSQ0xFO1xyXG4gICAgICAgIHZhciBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX0NPUk5FUjtcclxuICAgICAgICB2YXIgc3RvcHMgPSBbXTtcclxuICAgICAgICB2YXIgcG9zaXRpb24gPSBbXTtcclxuICAgICAgICBwYXJzZUZ1bmN0aW9uQXJncyh0b2tlbnMpLmZvckVhY2goZnVuY3Rpb24gKGFyZywgaSkge1xyXG4gICAgICAgICAgICB2YXIgaXNDb2xvclN0b3AgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaXNDb2xvclN0b3AgPSBhcmcucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2VudGVyJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5wdXNoKEZJRlRZX1BFUkNFTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RvcCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5wdXNoKFpFUk9fTEVOR1RIKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdib3R0b20nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLnB1c2goSFVORFJFRF9QRVJDRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNMZW5ndGhQZXJjZW50YWdlKHRva2VuKSB8fCBpc0xlbmd0aCh0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgICAgIH0sIGlzQ29sb3JTdG9wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpc0NvbG9yU3RvcCA9IGFyZy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgdG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJZGVudFRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENJUkNMRTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFwZSA9IENTU1JhZGlhbFNoYXBlLkNJUkNMRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEVMTElQU0U6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGUgPSBDU1NSYWRpYWxTaGFwZS5FTExJUFNFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ09OVEFJTjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ0xPU0VTVF9TSURFOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuQ0xPU0VTVF9TSURFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRkFSVEhFU1RfU0lERTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX1NJREU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDTE9TRVNUX0NPUk5FUjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkNMT1NFU1RfQ09STkVSO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ09WRVI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEZBUlRIRVNUX0NPUk5FUjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX0NPUk5FUjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNMZW5ndGgodG9rZW4pIHx8IGlzTGVuZ3RoUGVyY2VudGFnZSh0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHNpemUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZS5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICAgICAgfSwgaXNDb2xvclN0b3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0NvbG9yU3RvcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yU3RvcCA9IHBhcnNlQ29sb3JTdG9wKGFyZyk7XHJcbiAgICAgICAgICAgICAgICBzdG9wcy5wdXNoKGNvbG9yU3RvcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4geyBzaXplOiBzaXplLCBzaGFwZTogc2hhcGUsIHN0b3BzOiBzdG9wcywgcG9zaXRpb246IHBvc2l0aW9uLCB0eXBlOiBDU1NJbWFnZVR5cGUuUkFESUFMX0dSQURJRU5UIH07XHJcbiAgICB9O1xuXG4gICAgdmFyIENTU0ltYWdlVHlwZTtcclxuICAgIChmdW5jdGlvbiAoQ1NTSW1hZ2VUeXBlKSB7XHJcbiAgICAgICAgQ1NTSW1hZ2VUeXBlW0NTU0ltYWdlVHlwZVtcIlVSTFwiXSA9IDBdID0gXCJVUkxcIjtcclxuICAgICAgICBDU1NJbWFnZVR5cGVbQ1NTSW1hZ2VUeXBlW1wiTElORUFSX0dSQURJRU5UXCJdID0gMV0gPSBcIkxJTkVBUl9HUkFESUVOVFwiO1xyXG4gICAgICAgIENTU0ltYWdlVHlwZVtDU1NJbWFnZVR5cGVbXCJSQURJQUxfR1JBRElFTlRcIl0gPSAyXSA9IFwiUkFESUFMX0dSQURJRU5UXCI7XHJcbiAgICB9KShDU1NJbWFnZVR5cGUgfHwgKENTU0ltYWdlVHlwZSA9IHt9KSk7XHJcbiAgICB2YXIgaXNMaW5lYXJHcmFkaWVudCA9IGZ1bmN0aW9uIChiYWNrZ3JvdW5kKSB7XHJcbiAgICAgICAgcmV0dXJuIGJhY2tncm91bmQudHlwZSA9PT0gQ1NTSW1hZ2VUeXBlLkxJTkVBUl9HUkFESUVOVDtcclxuICAgIH07XHJcbiAgICB2YXIgaXNSYWRpYWxHcmFkaWVudCA9IGZ1bmN0aW9uIChiYWNrZ3JvdW5kKSB7XHJcbiAgICAgICAgcmV0dXJuIGJhY2tncm91bmQudHlwZSA9PT0gQ1NTSW1hZ2VUeXBlLlJBRElBTF9HUkFESUVOVDtcclxuICAgIH07XHJcbiAgICB2YXIgQ1NTUmFkaWFsU2hhcGU7XHJcbiAgICAoZnVuY3Rpb24gKENTU1JhZGlhbFNoYXBlKSB7XHJcbiAgICAgICAgQ1NTUmFkaWFsU2hhcGVbQ1NTUmFkaWFsU2hhcGVbXCJDSVJDTEVcIl0gPSAwXSA9IFwiQ0lSQ0xFXCI7XHJcbiAgICAgICAgQ1NTUmFkaWFsU2hhcGVbQ1NTUmFkaWFsU2hhcGVbXCJFTExJUFNFXCJdID0gMV0gPSBcIkVMTElQU0VcIjtcclxuICAgIH0pKENTU1JhZGlhbFNoYXBlIHx8IChDU1NSYWRpYWxTaGFwZSA9IHt9KSk7XHJcbiAgICB2YXIgQ1NTUmFkaWFsRXh0ZW50O1xyXG4gICAgKGZ1bmN0aW9uIChDU1NSYWRpYWxFeHRlbnQpIHtcclxuICAgICAgICBDU1NSYWRpYWxFeHRlbnRbQ1NTUmFkaWFsRXh0ZW50W1wiQ0xPU0VTVF9TSURFXCJdID0gMF0gPSBcIkNMT1NFU1RfU0lERVwiO1xyXG4gICAgICAgIENTU1JhZGlhbEV4dGVudFtDU1NSYWRpYWxFeHRlbnRbXCJGQVJUSEVTVF9TSURFXCJdID0gMV0gPSBcIkZBUlRIRVNUX1NJREVcIjtcclxuICAgICAgICBDU1NSYWRpYWxFeHRlbnRbQ1NTUmFkaWFsRXh0ZW50W1wiQ0xPU0VTVF9DT1JORVJcIl0gPSAyXSA9IFwiQ0xPU0VTVF9DT1JORVJcIjtcclxuICAgICAgICBDU1NSYWRpYWxFeHRlbnRbQ1NTUmFkaWFsRXh0ZW50W1wiRkFSVEhFU1RfQ09STkVSXCJdID0gM10gPSBcIkZBUlRIRVNUX0NPUk5FUlwiO1xyXG4gICAgfSkoQ1NTUmFkaWFsRXh0ZW50IHx8IChDU1NSYWRpYWxFeHRlbnQgPSB7fSkpO1xyXG4gICAgdmFyIGltYWdlID0ge1xyXG4gICAgICAgIG5hbWU6ICdpbWFnZScsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUudHlwZSA9PT0gVG9rZW5UeXBlLlVSTF9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlXzEgPSB7IHVybDogdmFsdWUudmFsdWUsIHR5cGU6IENTU0ltYWdlVHlwZS5VUkwgfTtcclxuICAgICAgICAgICAgICAgIENhY2hlU3RvcmFnZS5nZXRJbnN0YW5jZSgpLmFkZEltYWdlKHZhbHVlLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZV8xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS50eXBlID09PSBUb2tlblR5cGUuRlVOQ1RJT04pIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWFnZUZ1bmN0aW9uID0gU1VQUE9SVEVEX0lNQUdFX0ZVTkNUSU9OU1t2YWx1ZS5uYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW1hZ2VGdW5jdGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0aW5nIHRvIHBhcnNlIGFuIHVuc3VwcG9ydGVkIGltYWdlIGZ1bmN0aW9uIFxcXCJcIiArIHZhbHVlLm5hbWUgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW1hZ2VGdW5jdGlvbih2YWx1ZS52YWx1ZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGltYWdlIHR5cGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIGlzU3VwcG9ydGVkSW1hZ2UodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWUudHlwZSAhPT0gVG9rZW5UeXBlLkZVTkNUSU9OIHx8IFNVUFBPUlRFRF9JTUFHRV9GVU5DVElPTlNbdmFsdWUubmFtZV07XHJcbiAgICB9XHJcbiAgICB2YXIgU1VQUE9SVEVEX0lNQUdFX0ZVTkNUSU9OUyA9IHtcclxuICAgICAgICAnbGluZWFyLWdyYWRpZW50JzogbGluZWFyR3JhZGllbnQsXHJcbiAgICAgICAgJy1tb3otbGluZWFyLWdyYWRpZW50JzogcHJlZml4TGluZWFyR3JhZGllbnQsXHJcbiAgICAgICAgJy1tcy1saW5lYXItZ3JhZGllbnQnOiBwcmVmaXhMaW5lYXJHcmFkaWVudCxcclxuICAgICAgICAnLW8tbGluZWFyLWdyYWRpZW50JzogcHJlZml4TGluZWFyR3JhZGllbnQsXHJcbiAgICAgICAgJy13ZWJraXQtbGluZWFyLWdyYWRpZW50JzogcHJlZml4TGluZWFyR3JhZGllbnQsXHJcbiAgICAgICAgJ3JhZGlhbC1ncmFkaWVudCc6IHJhZGlhbEdyYWRpZW50LFxyXG4gICAgICAgICctbW96LXJhZGlhbC1ncmFkaWVudCc6IHByZWZpeFJhZGlhbEdyYWRpZW50LFxyXG4gICAgICAgICctbXMtcmFkaWFsLWdyYWRpZW50JzogcHJlZml4UmFkaWFsR3JhZGllbnQsXHJcbiAgICAgICAgJy1vLXJhZGlhbC1ncmFkaWVudCc6IHByZWZpeFJhZGlhbEdyYWRpZW50LFxyXG4gICAgICAgICctd2Via2l0LXJhZGlhbC1ncmFkaWVudCc6IHByZWZpeFJhZGlhbEdyYWRpZW50LFxyXG4gICAgICAgICctd2Via2l0LWdyYWRpZW50Jzogd2Via2l0R3JhZGllbnRcclxuICAgIH07XG5cbiAgICB2YXIgYmFja2dyb3VuZEltYWdlID0ge1xyXG4gICAgICAgIG5hbWU6ICdiYWNrZ3JvdW5kLWltYWdlJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZmlyc3QgPSB0b2tlbnNbMF07XHJcbiAgICAgICAgICAgIGlmIChmaXJzdC50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgZmlyc3QudmFsdWUgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnMuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gbm9uRnVuY3Rpb25BcmdTZXBhcmF0b3IodmFsdWUpICYmIGlzU3VwcG9ydGVkSW1hZ2UodmFsdWUpOyB9KS5tYXAoaW1hZ2UucGFyc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgYmFja2dyb3VuZE9yaWdpbiA9IHtcclxuICAgICAgICBuYW1lOiAnYmFja2dyb3VuZC1vcmlnaW4nLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ2JvcmRlci1ib3gnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zLm1hcChmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc0lkZW50VG9rZW4odG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwYWRkaW5nLWJveCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMSAvKiBQQURESU5HX0JPWCAqLztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY29udGVudC1ib3gnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDIgLyogQ09OVEVOVF9CT1ggKi87XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDAgLyogQk9SREVSX0JPWCAqLztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBiYWNrZ3JvdW5kUG9zaXRpb24gPSB7XHJcbiAgICAgICAgbmFtZTogJ2JhY2tncm91bmQtcG9zaXRpb24nLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJzAlIDAlJyxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucylcclxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHZhbHVlcykgeyByZXR1cm4gdmFsdWVzLmZpbHRlcihpc0xlbmd0aFBlcmNlbnRhZ2UpOyB9KVxyXG4gICAgICAgICAgICAgICAgLm1hcChwYXJzZUxlbmd0aFBlcmNlbnRhZ2VUdXBsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBCQUNLR1JPVU5EX1JFUEVBVDtcclxuICAgIChmdW5jdGlvbiAoQkFDS0dST1VORF9SRVBFQVQpIHtcclxuICAgICAgICBCQUNLR1JPVU5EX1JFUEVBVFtCQUNLR1JPVU5EX1JFUEVBVFtcIlJFUEVBVFwiXSA9IDBdID0gXCJSRVBFQVRcIjtcclxuICAgICAgICBCQUNLR1JPVU5EX1JFUEVBVFtCQUNLR1JPVU5EX1JFUEVBVFtcIk5PX1JFUEVBVFwiXSA9IDFdID0gXCJOT19SRVBFQVRcIjtcclxuICAgICAgICBCQUNLR1JPVU5EX1JFUEVBVFtCQUNLR1JPVU5EX1JFUEVBVFtcIlJFUEVBVF9YXCJdID0gMl0gPSBcIlJFUEVBVF9YXCI7XHJcbiAgICAgICAgQkFDS0dST1VORF9SRVBFQVRbQkFDS0dST1VORF9SRVBFQVRbXCJSRVBFQVRfWVwiXSA9IDNdID0gXCJSRVBFQVRfWVwiO1xyXG4gICAgfSkoQkFDS0dST1VORF9SRVBFQVQgfHwgKEJBQ0tHUk9VTkRfUkVQRUFUID0ge30pKTtcclxuICAgIHZhciBiYWNrZ3JvdW5kUmVwZWF0ID0ge1xyXG4gICAgICAgIG5hbWU6ICdiYWNrZ3JvdW5kLXJlcGVhdCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAncmVwZWF0JyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucylcclxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHZhbHVlcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoaXNJZGVudFRva2VuKVxyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiB0b2tlbi52YWx1ZTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuam9pbignICcpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm1hcChwYXJzZUJhY2tncm91bmRSZXBlYXQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgcGFyc2VCYWNrZ3JvdW5kUmVwZWF0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBjYXNlICduby1yZXBlYXQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULk5PX1JFUEVBVDtcclxuICAgICAgICAgICAgY2FzZSAncmVwZWF0LXgnOlxyXG4gICAgICAgICAgICBjYXNlICdyZXBlYXQgbm8tcmVwZWF0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBCQUNLR1JPVU5EX1JFUEVBVC5SRVBFQVRfWDtcclxuICAgICAgICAgICAgY2FzZSAncmVwZWF0LXknOlxyXG4gICAgICAgICAgICBjYXNlICduby1yZXBlYXQgcmVwZWF0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBCQUNLR1JPVU5EX1JFUEVBVC5SRVBFQVRfWTtcclxuICAgICAgICAgICAgY2FzZSAncmVwZWF0JzpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBCQUNLR1JPVU5EX1JFUEVBVC5SRVBFQVQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBCQUNLR1JPVU5EX1NJWkU7XHJcbiAgICAoZnVuY3Rpb24gKEJBQ0tHUk9VTkRfU0laRSkge1xyXG4gICAgICAgIEJBQ0tHUk9VTkRfU0laRVtcIkFVVE9cIl0gPSBcImF1dG9cIjtcclxuICAgICAgICBCQUNLR1JPVU5EX1NJWkVbXCJDT05UQUlOXCJdID0gXCJjb250YWluXCI7XHJcbiAgICAgICAgQkFDS0dST1VORF9TSVpFW1wiQ09WRVJcIl0gPSBcImNvdmVyXCI7XHJcbiAgICB9KShCQUNLR1JPVU5EX1NJWkUgfHwgKEJBQ0tHUk9VTkRfU0laRSA9IHt9KSk7XHJcbiAgICB2YXIgYmFja2dyb3VuZFNpemUgPSB7XHJcbiAgICAgICAgbmFtZTogJ2JhY2tncm91bmQtc2l6ZScsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZ1bmN0aW9uQXJncyh0b2tlbnMpLm1hcChmdW5jdGlvbiAodmFsdWVzKSB7IHJldHVybiB2YWx1ZXMuZmlsdGVyKGlzQmFja2dyb3VuZFNpemVJbmZvVG9rZW4pOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzQmFja2dyb3VuZFNpemVJbmZvVG9rZW4gPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gaXNJZGVudFRva2VuKHZhbHVlKSB8fCBpc0xlbmd0aFBlcmNlbnRhZ2UodmFsdWUpO1xyXG4gICAgfTtcblxuICAgIHZhciBib3JkZXJDb2xvckZvclNpZGUgPSBmdW5jdGlvbiAoc2lkZSkgeyByZXR1cm4gKHtcclxuICAgICAgICBuYW1lOiBcImJvcmRlci1cIiArIHNpZGUgKyBcIi1jb2xvclwiLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlRZUEVfVkFMVUUsXHJcbiAgICAgICAgZm9ybWF0OiAnY29sb3InXHJcbiAgICB9KTsgfTtcclxuICAgIHZhciBib3JkZXJUb3BDb2xvciA9IGJvcmRlckNvbG9yRm9yU2lkZSgndG9wJyk7XHJcbiAgICB2YXIgYm9yZGVyUmlnaHRDb2xvciA9IGJvcmRlckNvbG9yRm9yU2lkZSgncmlnaHQnKTtcclxuICAgIHZhciBib3JkZXJCb3R0b21Db2xvciA9IGJvcmRlckNvbG9yRm9yU2lkZSgnYm90dG9tJyk7XHJcbiAgICB2YXIgYm9yZGVyTGVmdENvbG9yID0gYm9yZGVyQ29sb3JGb3JTaWRlKCdsZWZ0Jyk7XG5cbiAgICB2YXIgYm9yZGVyUmFkaXVzRm9yU2lkZSA9IGZ1bmN0aW9uIChzaWRlKSB7IHJldHVybiAoe1xyXG4gICAgICAgIG5hbWU6IFwiYm9yZGVyLXJhZGl1cy1cIiArIHNpZGUsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCAwJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHsgcmV0dXJuIHBhcnNlTGVuZ3RoUGVyY2VudGFnZVR1cGxlKHRva2Vucy5maWx0ZXIoaXNMZW5ndGhQZXJjZW50YWdlKSk7IH1cclxuICAgIH0pOyB9O1xyXG4gICAgdmFyIGJvcmRlclRvcExlZnRSYWRpdXMgPSBib3JkZXJSYWRpdXNGb3JTaWRlKCd0b3AtbGVmdCcpO1xyXG4gICAgdmFyIGJvcmRlclRvcFJpZ2h0UmFkaXVzID0gYm9yZGVyUmFkaXVzRm9yU2lkZSgndG9wLXJpZ2h0Jyk7XHJcbiAgICB2YXIgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMgPSBib3JkZXJSYWRpdXNGb3JTaWRlKCdib3R0b20tcmlnaHQnKTtcclxuICAgIHZhciBib3JkZXJCb3R0b21MZWZ0UmFkaXVzID0gYm9yZGVyUmFkaXVzRm9yU2lkZSgnYm90dG9tLWxlZnQnKTtcblxuICAgIHZhciBCT1JERVJfU1RZTEU7XHJcbiAgICAoZnVuY3Rpb24gKEJPUkRFUl9TVFlMRSkge1xyXG4gICAgICAgIEJPUkRFUl9TVFlMRVtCT1JERVJfU1RZTEVbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcclxuICAgICAgICBCT1JERVJfU1RZTEVbQk9SREVSX1NUWUxFW1wiU09MSURcIl0gPSAxXSA9IFwiU09MSURcIjtcclxuICAgIH0pKEJPUkRFUl9TVFlMRSB8fCAoQk9SREVSX1NUWUxFID0ge30pKTtcclxuICAgIHZhciBib3JkZXJTdHlsZUZvclNpZGUgPSBmdW5jdGlvbiAoc2lkZSkgeyByZXR1cm4gKHtcclxuICAgICAgICBuYW1lOiBcImJvcmRlci1cIiArIHNpZGUgKyBcIi1zdHlsZVwiLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ3NvbGlkJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoc3R5bGUpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChzdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbm9uZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJPUkRFUl9TVFlMRS5OT05FO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBCT1JERVJfU1RZTEUuU09MSUQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7IH07XHJcbiAgICB2YXIgYm9yZGVyVG9wU3R5bGUgPSBib3JkZXJTdHlsZUZvclNpZGUoJ3RvcCcpO1xyXG4gICAgdmFyIGJvcmRlclJpZ2h0U3R5bGUgPSBib3JkZXJTdHlsZUZvclNpZGUoJ3JpZ2h0Jyk7XHJcbiAgICB2YXIgYm9yZGVyQm90dG9tU3R5bGUgPSBib3JkZXJTdHlsZUZvclNpZGUoJ2JvdHRvbScpO1xyXG4gICAgdmFyIGJvcmRlckxlZnRTdHlsZSA9IGJvcmRlclN0eWxlRm9yU2lkZSgnbGVmdCcpO1xuXG4gICAgdmFyIGJvcmRlcldpZHRoRm9yU2lkZSA9IGZ1bmN0aW9uIChzaWRlKSB7IHJldHVybiAoe1xyXG4gICAgICAgIG5hbWU6IFwiYm9yZGVyLVwiICsgc2lkZSArIFwiLXdpZHRoXCIsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCcsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVkFMVUUsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0RpbWVuc2lvblRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuLm51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICB9KTsgfTtcclxuICAgIHZhciBib3JkZXJUb3BXaWR0aCA9IGJvcmRlcldpZHRoRm9yU2lkZSgndG9wJyk7XHJcbiAgICB2YXIgYm9yZGVyUmlnaHRXaWR0aCA9IGJvcmRlcldpZHRoRm9yU2lkZSgncmlnaHQnKTtcclxuICAgIHZhciBib3JkZXJCb3R0b21XaWR0aCA9IGJvcmRlcldpZHRoRm9yU2lkZSgnYm90dG9tJyk7XHJcbiAgICB2YXIgYm9yZGVyTGVmdFdpZHRoID0gYm9yZGVyV2lkdGhGb3JTaWRlKCdsZWZ0Jyk7XG5cbiAgICB2YXIgY29sb3IkMSA9IHtcclxuICAgICAgICBuYW1lOiBcImNvbG9yXCIsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVFlQRV9WQUxVRSxcclxuICAgICAgICBmb3JtYXQ6ICdjb2xvcidcclxuICAgIH07XG5cbiAgICB2YXIgZGlzcGxheSA9IHtcclxuICAgICAgICBuYW1lOiAnZGlzcGxheScsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnaW5saW5lLWJsb2NrJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRva2Vucy5maWx0ZXIoaXNJZGVudFRva2VuKS5yZWR1Y2UoZnVuY3Rpb24gKGJpdCwgdG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBiaXQgfCBwYXJzZURpc3BsYXlWYWx1ZSh0b2tlbi52YWx1ZSk7XHJcbiAgICAgICAgICAgIH0sIDAgLyogTk9ORSAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBwYXJzZURpc3BsYXlWYWx1ZSA9IGZ1bmN0aW9uIChkaXNwbGF5KSB7XHJcbiAgICAgICAgc3dpdGNoIChkaXNwbGF5KSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2Jsb2NrJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAyIC8qIEJMT0NLICovO1xyXG4gICAgICAgICAgICBjYXNlICdpbmxpbmUnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDQgLyogSU5MSU5FICovO1xyXG4gICAgICAgICAgICBjYXNlICdydW4taW4nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDggLyogUlVOX0lOICovO1xyXG4gICAgICAgICAgICBjYXNlICdmbG93JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAxNiAvKiBGTE9XICovO1xyXG4gICAgICAgICAgICBjYXNlICdmbG93LXJvb3QnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDMyIC8qIEZMT1dfUk9PVCAqLztcclxuICAgICAgICAgICAgY2FzZSAndGFibGUnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDY0IC8qIFRBQkxFICovO1xyXG4gICAgICAgICAgICBjYXNlICdmbGV4JzpcclxuICAgICAgICAgICAgY2FzZSAnLXdlYmtpdC1mbGV4JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAxMjggLyogRkxFWCAqLztcclxuICAgICAgICAgICAgY2FzZSAnZ3JpZCc6XHJcbiAgICAgICAgICAgIGNhc2UgJy1tcy1ncmlkJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAyNTYgLyogR1JJRCAqLztcclxuICAgICAgICAgICAgY2FzZSAncnVieSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNTEyIC8qIFJVQlkgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ3N1YmdyaWQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDEwMjQgLyogU1VCR1JJRCAqLztcclxuICAgICAgICAgICAgY2FzZSAnbGlzdC1pdGVtJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAyMDQ4IC8qIExJU1RfSVRFTSAqLztcclxuICAgICAgICAgICAgY2FzZSAndGFibGUtcm93LWdyb3VwJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiA0MDk2IC8qIFRBQkxFX1JPV19HUk9VUCAqLztcclxuICAgICAgICAgICAgY2FzZSAndGFibGUtaGVhZGVyLWdyb3VwJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiA4MTkyIC8qIFRBQkxFX0hFQURFUl9HUk9VUCAqLztcclxuICAgICAgICAgICAgY2FzZSAndGFibGUtZm9vdGVyLWdyb3VwJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAxNjM4NCAvKiBUQUJMRV9GT09URVJfR1JPVVAgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ3RhYmxlLXJvdyc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMzI3NjggLyogVEFCTEVfUk9XICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZS1jZWxsJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiA2NTUzNiAvKiBUQUJMRV9DRUxMICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZS1jb2x1bW4tZ3JvdXAnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDEzMTA3MiAvKiBUQUJMRV9DT0xVTU5fR1JPVVAgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ3RhYmxlLWNvbHVtbic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMjYyMTQ0IC8qIFRBQkxFX0NPTFVNTiAqLztcclxuICAgICAgICAgICAgY2FzZSAndGFibGUtY2FwdGlvbic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNTI0Mjg4IC8qIFRBQkxFX0NBUFRJT04gKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ3J1YnktYmFzZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTA0ODU3NiAvKiBSVUJZX0JBU0UgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ3J1YnktdGV4dCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMjA5NzE1MiAvKiBSVUJZX1RFWFQgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ3J1YnktYmFzZS1jb250YWluZXInOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDQxOTQzMDQgLyogUlVCWV9CQVNFX0NPTlRBSU5FUiAqLztcclxuICAgICAgICAgICAgY2FzZSAncnVieS10ZXh0LWNvbnRhaW5lcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gODM4ODYwOCAvKiBSVUJZX1RFWFRfQ09OVEFJTkVSICovO1xyXG4gICAgICAgICAgICBjYXNlICdjb250ZW50cyc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTY3NzcyMTYgLyogQ09OVEVOVFMgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2lubGluZS1ibG9jayc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMzM1NTQ0MzIgLyogSU5MSU5FX0JMT0NLICovO1xyXG4gICAgICAgICAgICBjYXNlICdpbmxpbmUtbGlzdC1pdGVtJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiA2NzEwODg2NCAvKiBJTkxJTkVfTElTVF9JVEVNICovO1xyXG4gICAgICAgICAgICBjYXNlICdpbmxpbmUtdGFibGUnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDEzNDIxNzcyOCAvKiBJTkxJTkVfVEFCTEUgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2lubGluZS1mbGV4JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAyNjg0MzU0NTYgLyogSU5MSU5FX0ZMRVggKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2lubGluZS1ncmlkJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiA1MzY4NzA5MTIgLyogSU5MSU5FX0dSSUQgKi87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwIC8qIE5PTkUgKi87XHJcbiAgICB9O1xuXG4gICAgdmFyIEZMT0FUO1xyXG4gICAgKGZ1bmN0aW9uIChGTE9BVCkge1xyXG4gICAgICAgIEZMT0FUW0ZMT0FUW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XHJcbiAgICAgICAgRkxPQVRbRkxPQVRbXCJMRUZUXCJdID0gMV0gPSBcIkxFRlRcIjtcclxuICAgICAgICBGTE9BVFtGTE9BVFtcIlJJR0hUXCJdID0gMl0gPSBcIlJJR0hUXCI7XHJcbiAgICAgICAgRkxPQVRbRkxPQVRbXCJJTkxJTkVfU1RBUlRcIl0gPSAzXSA9IFwiSU5MSU5FX1NUQVJUXCI7XHJcbiAgICAgICAgRkxPQVRbRkxPQVRbXCJJTkxJTkVfRU5EXCJdID0gNF0gPSBcIklOTElORV9FTkRcIjtcclxuICAgIH0pKEZMT0FUIHx8IChGTE9BVCA9IHt9KSk7XHJcbiAgICB2YXIgZmxvYXQgPSB7XHJcbiAgICAgICAgbmFtZTogJ2Zsb2F0JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoZmxvYXQpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChmbG9hdCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FULkxFRlQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FULlJJR0hUO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaW5saW5lLXN0YXJ0JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRkxPQVQuSU5MSU5FX1NUQVJUO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaW5saW5lLWVuZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FULklOTElORV9FTkQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIEZMT0FULk5PTkU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBsZXR0ZXJTcGFjaW5nID0ge1xyXG4gICAgICAgIG5hbWU6ICdsZXR0ZXItc3BhY2luZycsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgdG9rZW4udmFsdWUgPT09ICdub3JtYWwnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLk5VTUJFUl9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuLm51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLkRJTUVOU0lPTl9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuLm51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIExJTkVfQlJFQUs7XHJcbiAgICAoZnVuY3Rpb24gKExJTkVfQlJFQUspIHtcclxuICAgICAgICBMSU5FX0JSRUFLW1wiTk9STUFMXCJdID0gXCJub3JtYWxcIjtcclxuICAgICAgICBMSU5FX0JSRUFLW1wiU1RSSUNUXCJdID0gXCJzdHJpY3RcIjtcclxuICAgIH0pKExJTkVfQlJFQUsgfHwgKExJTkVfQlJFQUsgPSB7fSkpO1xyXG4gICAgdmFyIGxpbmVCcmVhayA9IHtcclxuICAgICAgICBuYW1lOiAnbGluZS1icmVhaycsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9ybWFsJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAobGluZUJyZWFrKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAobGluZUJyZWFrKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpY3QnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSU5FX0JSRUFLLlNUUklDVDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ25vcm1hbCc6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSU5FX0JSRUFLLk5PUk1BTDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgbGluZUhlaWdodCA9IHtcclxuICAgICAgICBuYW1lOiAnbGluZS1oZWlnaHQnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vcm1hbCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UT0tFTl9WQUxVRVxyXG4gICAgfTtcclxuICAgIHZhciBjb21wdXRlTGluZUhlaWdodCA9IGZ1bmN0aW9uICh0b2tlbiwgZm9udFNpemUpIHtcclxuICAgICAgICBpZiAoaXNJZGVudFRva2VuKHRva2VuKSAmJiB0b2tlbi52YWx1ZSA9PT0gJ25vcm1hbCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDEuMiAqIGZvbnRTaXplO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb250U2l6ZSAqIHRva2VuLm51bWJlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNMZW5ndGhQZXJjZW50YWdlKHRva2VuKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0QWJzb2x1dGVWYWx1ZSh0b2tlbiwgZm9udFNpemUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm9udFNpemU7XHJcbiAgICB9O1xuXG4gICAgdmFyIGxpc3RTdHlsZUltYWdlID0ge1xyXG4gICAgICAgIG5hbWU6ICdsaXN0LXN0eWxlLWltYWdlJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRSxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTiAmJiB0b2tlbi52YWx1ZSA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaW1hZ2UucGFyc2UodG9rZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgTElTVF9TVFlMRV9QT1NJVElPTjtcclxuICAgIChmdW5jdGlvbiAoTElTVF9TVFlMRV9QT1NJVElPTikge1xyXG4gICAgICAgIExJU1RfU1RZTEVfUE9TSVRJT05bTElTVF9TVFlMRV9QT1NJVElPTltcIklOU0lERVwiXSA9IDBdID0gXCJJTlNJREVcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1BPU0lUSU9OW0xJU1RfU1RZTEVfUE9TSVRJT05bXCJPVVRTSURFXCJdID0gMV0gPSBcIk9VVFNJREVcIjtcclxuICAgIH0pKExJU1RfU1RZTEVfUE9TSVRJT04gfHwgKExJU1RfU1RZTEVfUE9TSVRJT04gPSB7fSkpO1xyXG4gICAgdmFyIGxpc3RTdHlsZVBvc2l0aW9uID0ge1xyXG4gICAgICAgIG5hbWU6ICdsaXN0LXN0eWxlLXBvc2l0aW9uJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdvdXRzaWRlJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgc3dpdGNoIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaW5zaWRlJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9QT1NJVElPTi5JTlNJREU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdvdXRzaWRlJzpcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfUE9TSVRJT04uT1VUU0lERTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgTElTVF9TVFlMRV9UWVBFO1xyXG4gICAgKGZ1bmN0aW9uIChMSVNUX1NUWUxFX1RZUEUpIHtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiTk9ORVwiXSA9IC0xXSA9IFwiTk9ORVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJESVNDXCJdID0gMF0gPSBcIkRJU0NcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQ0lSQ0xFXCJdID0gMV0gPSBcIkNJUkNMRVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJTUVVBUkVcIl0gPSAyXSA9IFwiU1FVQVJFXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkRFQ0lNQUxcIl0gPSAzXSA9IFwiREVDSU1BTFwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJDSktfREVDSU1BTFwiXSA9IDRdID0gXCJDSktfREVDSU1BTFwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJERUNJTUFMX0xFQURJTkdfWkVST1wiXSA9IDVdID0gXCJERUNJTUFMX0xFQURJTkdfWkVST1wiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJMT1dFUl9ST01BTlwiXSA9IDZdID0gXCJMT1dFUl9ST01BTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJVUFBFUl9ST01BTlwiXSA9IDddID0gXCJVUFBFUl9ST01BTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJMT1dFUl9HUkVFS1wiXSA9IDhdID0gXCJMT1dFUl9HUkVFS1wiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJMT1dFUl9BTFBIQVwiXSA9IDldID0gXCJMT1dFUl9BTFBIQVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJVUFBFUl9BTFBIQVwiXSA9IDEwXSA9IFwiVVBQRVJfQUxQSEFcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQVJBQklDX0lORElDXCJdID0gMTFdID0gXCJBUkFCSUNfSU5ESUNcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQVJNRU5JQU5cIl0gPSAxMl0gPSBcIkFSTUVOSUFOXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkJFTkdBTElcIl0gPSAxM10gPSBcIkJFTkdBTElcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQ0FNQk9ESUFOXCJdID0gMTRdID0gXCJDQU1CT0RJQU5cIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQ0pLX0VBUlRITFlfQlJBTkNIXCJdID0gMTVdID0gXCJDSktfRUFSVEhMWV9CUkFOQ0hcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQ0pLX0hFQVZFTkxZX1NURU1cIl0gPSAxNl0gPSBcIkNKS19IRUFWRU5MWV9TVEVNXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkNKS19JREVPR1JBUEhJQ1wiXSA9IDE3XSA9IFwiQ0pLX0lERU9HUkFQSElDXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkRFVkFOQUdBUklcIl0gPSAxOF0gPSBcIkRFVkFOQUdBUklcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiRVRISU9QSUNfTlVNRVJJQ1wiXSA9IDE5XSA9IFwiRVRISU9QSUNfTlVNRVJJQ1wiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJHRU9SR0lBTlwiXSA9IDIwXSA9IFwiR0VPUkdJQU5cIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiR1VKQVJBVElcIl0gPSAyMV0gPSBcIkdVSkFSQVRJXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkdVUk1VS0hJXCJdID0gMjJdID0gXCJHVVJNVUtISVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJIRUJSRVdcIl0gPSAyMl0gPSBcIkhFQlJFV1wiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJISVJBR0FOQVwiXSA9IDIzXSA9IFwiSElSQUdBTkFcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiSElSQUdBTkFfSVJPSEFcIl0gPSAyNF0gPSBcIkhJUkFHQU5BX0lST0hBXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkpBUEFORVNFX0ZPUk1BTFwiXSA9IDI1XSA9IFwiSkFQQU5FU0VfRk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkpBUEFORVNFX0lORk9STUFMXCJdID0gMjZdID0gXCJKQVBBTkVTRV9JTkZPUk1BTFwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJLQU5OQURBXCJdID0gMjddID0gXCJLQU5OQURBXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIktBVEFLQU5BXCJdID0gMjhdID0gXCJLQVRBS0FOQVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJLQVRBS0FOQV9JUk9IQVwiXSA9IDI5XSA9IFwiS0FUQUtBTkFfSVJPSEFcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiS0hNRVJcIl0gPSAzMF0gPSBcIktITUVSXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIktPUkVBTl9IQU5HVUxfRk9STUFMXCJdID0gMzFdID0gXCJLT1JFQU5fSEFOR1VMX0ZPUk1BTFwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJLT1JFQU5fSEFOSkFfRk9STUFMXCJdID0gMzJdID0gXCJLT1JFQU5fSEFOSkFfRk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIktPUkVBTl9IQU5KQV9JTkZPUk1BTFwiXSA9IDMzXSA9IFwiS09SRUFOX0hBTkpBX0lORk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkxBT1wiXSA9IDM0XSA9IFwiTEFPXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkxPV0VSX0FSTUVOSUFOXCJdID0gMzVdID0gXCJMT1dFUl9BUk1FTklBTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJNQUxBWUFMQU1cIl0gPSAzNl0gPSBcIk1BTEFZQUxBTVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJNT05HT0xJQU5cIl0gPSAzN10gPSBcIk1PTkdPTElBTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJNWUFOTUFSXCJdID0gMzhdID0gXCJNWUFOTUFSXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIk9SSVlBXCJdID0gMzldID0gXCJPUklZQVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJQRVJTSUFOXCJdID0gNDBdID0gXCJQRVJTSUFOXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlNJTVBfQ0hJTkVTRV9GT1JNQUxcIl0gPSA0MV0gPSBcIlNJTVBfQ0hJTkVTRV9GT1JNQUxcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiU0lNUF9DSElORVNFX0lORk9STUFMXCJdID0gNDJdID0gXCJTSU1QX0NISU5FU0VfSU5GT1JNQUxcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiVEFNSUxcIl0gPSA0M10gPSBcIlRBTUlMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlRFTFVHVVwiXSA9IDQ0XSA9IFwiVEVMVUdVXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlRIQUlcIl0gPSA0NV0gPSBcIlRIQUlcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiVElCRVRBTlwiXSA9IDQ2XSA9IFwiVElCRVRBTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJUUkFEX0NISU5FU0VfRk9STUFMXCJdID0gNDddID0gXCJUUkFEX0NISU5FU0VfRk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlRSQURfQ0hJTkVTRV9JTkZPUk1BTFwiXSA9IDQ4XSA9IFwiVFJBRF9DSElORVNFX0lORk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlVQUEVSX0FSTUVOSUFOXCJdID0gNDldID0gXCJVUFBFUl9BUk1FTklBTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJESVNDTE9TVVJFX09QRU5cIl0gPSA1MF0gPSBcIkRJU0NMT1NVUkVfT1BFTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJESVNDTE9TVVJFX0NMT1NFRFwiXSA9IDUxXSA9IFwiRElTQ0xPU1VSRV9DTE9TRURcIjtcclxuICAgIH0pKExJU1RfU1RZTEVfVFlQRSB8fCAoTElTVF9TVFlMRV9UWVBFID0ge30pKTtcclxuICAgIHZhciBsaXN0U3R5bGVUeXBlID0ge1xyXG4gICAgICAgIG5hbWU6ICdsaXN0LXN0eWxlLXR5cGUnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGlzYyc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ESVNDO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2lyY2xlJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkNJUkNMRTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3NxdWFyZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5TUVVBUkU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkZWNpbWFsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjamstZGVjaW1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5DSktfREVDSU1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2RlY2ltYWwtbGVhZGluZy16ZXJvJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUxfTEVBRElOR19aRVJPO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbG93ZXItcm9tYW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfUk9NQU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1cHBlci1yb21hbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5VUFBFUl9ST01BTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xvd2VyLWdyZWVrJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkxPV0VSX0dSRUVLO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbG93ZXItYWxwaGEnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfQUxQSEE7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1cHBlci1hbHBoYSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5VUFBFUl9BTFBIQTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2FyYWJpYy1pbmRpYyc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5BUkFCSUNfSU5ESUM7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhcm1lbmlhbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5BUk1FTklBTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2JlbmdhbGknOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQkVOR0FMSTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2NhbWJvZGlhbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5DQU1CT0RJQU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjamstZWFydGhseS1icmFuY2gnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQ0pLX0VBUlRITFlfQlJBTkNIO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2prLWhlYXZlbmx5LXN0ZW0nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQ0pLX0hFQVZFTkxZX1NURU07XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjamstaWRlb2dyYXBoaWMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQ0pLX0lERU9HUkFQSElDO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGV2YW5hZ2FyaSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ERVZBTkFHQVJJO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZXRoaW9waWMtbnVtZXJpYyc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5FVEhJT1BJQ19OVU1FUklDO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZ2VvcmdpYW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuR0VPUkdJQU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdndWphcmF0aSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5HVUpBUkFUSTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2d1cm11a2hpJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkdVUk1VS0hJO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaGVicmV3JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkhFQlJFVztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2hpcmFnYW5hJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkhJUkFHQU5BO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaGlyYWdhbmEtaXJvaGEnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuSElSQUdBTkFfSVJPSEE7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdqYXBhbmVzZS1mb3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuSkFQQU5FU0VfRk9STUFMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnamFwYW5lc2UtaW5mb3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuSkFQQU5FU0VfSU5GT1JNQUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdrYW5uYWRhJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktBTk5BREE7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdrYXRha2FuYSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5LQVRBS0FOQTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2thdGFrYW5hLWlyb2hhJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktBVEFLQU5BX0lST0hBO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAna2htZXInOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuS0hNRVI7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdrb3JlYW4taGFuZ3VsLWZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOR1VMX0ZPUk1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2tvcmVhbi1oYW5qYS1mb3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuS09SRUFOX0hBTkpBX0ZPUk1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2tvcmVhbi1oYW5qYS1pbmZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOSkFfSU5GT1JNQUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdsYW8nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTEFPO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbG93ZXItYXJtZW5pYW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfQVJNRU5JQU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdtYWxheWFsYW0nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTUFMQVlBTEFNO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbW9uZ29saWFuJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLk1PTkdPTElBTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ215YW5tYXInOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTVlBTk1BUjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ29yaXlhJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLk9SSVlBO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncGVyc2lhbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5QRVJTSUFOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc2ltcC1jaGluZXNlLWZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5TSU1QX0NISU5FU0VfRk9STUFMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc2ltcC1jaGluZXNlLWluZm9ybWFsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlNJTVBfQ0hJTkVTRV9JTkZPUk1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RhbWlsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlRBTUlMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndGVsdWd1JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlRFTFVHVTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RoYWknOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVEhBSTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RpYmV0YW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVElCRVRBTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RyYWQtY2hpbmVzZS1mb3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVFJBRF9DSElORVNFX0ZPUk1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RyYWQtY2hpbmVzZS1pbmZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5UUkFEX0NISU5FU0VfSU5GT1JNQUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1cHBlci1hcm1lbmlhbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5VUFBFUl9BUk1FTklBTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2Rpc2Nsb3N1cmUtb3Blbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ESVNDTE9TVVJFX09QRU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkaXNjbG9zdXJlLWNsb3NlZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ESVNDTE9TVVJFX0NMT1NFRDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ25vbmUnOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLk5PTkU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIG1hcmdpbkZvclNpZGUgPSBmdW5jdGlvbiAoc2lkZSkgeyByZXR1cm4gKHtcclxuICAgICAgICBuYW1lOiBcIm1hcmdpbi1cIiArIHNpZGUsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UT0tFTl9WQUxVRVxyXG4gICAgfSk7IH07XHJcbiAgICB2YXIgbWFyZ2luVG9wID0gbWFyZ2luRm9yU2lkZSgndG9wJyk7XHJcbiAgICB2YXIgbWFyZ2luUmlnaHQgPSBtYXJnaW5Gb3JTaWRlKCdyaWdodCcpO1xyXG4gICAgdmFyIG1hcmdpbkJvdHRvbSA9IG1hcmdpbkZvclNpZGUoJ2JvdHRvbScpO1xyXG4gICAgdmFyIG1hcmdpbkxlZnQgPSBtYXJnaW5Gb3JTaWRlKCdsZWZ0Jyk7XG5cbiAgICB2YXIgT1ZFUkZMT1c7XHJcbiAgICAoZnVuY3Rpb24gKE9WRVJGTE9XKSB7XHJcbiAgICAgICAgT1ZFUkZMT1dbT1ZFUkZMT1dbXCJWSVNJQkxFXCJdID0gMF0gPSBcIlZJU0lCTEVcIjtcclxuICAgICAgICBPVkVSRkxPV1tPVkVSRkxPV1tcIkhJRERFTlwiXSA9IDFdID0gXCJISURERU5cIjtcclxuICAgICAgICBPVkVSRkxPV1tPVkVSRkxPV1tcIlNDUk9MTFwiXSA9IDJdID0gXCJTQ1JPTExcIjtcclxuICAgICAgICBPVkVSRkxPV1tPVkVSRkxPV1tcIkFVVE9cIl0gPSAzXSA9IFwiQVVUT1wiO1xyXG4gICAgfSkoT1ZFUkZMT1cgfHwgKE9WRVJGTE9XID0ge30pKTtcclxuICAgIHZhciBvdmVyZmxvdyA9IHtcclxuICAgICAgICBuYW1lOiAnb3ZlcmZsb3cnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ3Zpc2libGUnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zLmZpbHRlcihpc0lkZW50VG9rZW4pLm1hcChmdW5jdGlvbiAob3ZlcmZsb3cpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAob3ZlcmZsb3cudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdoaWRkZW4nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1ZFUkZMT1cuSElEREVOO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Njcm9sbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPVkVSRkxPVy5TQ1JPTEw7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXV0byc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPVkVSRkxPVy5BVVRPO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Zpc2libGUnOlxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPVkVSRkxPVy5WSVNJQkxFO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIE9WRVJGTE9XX1dSQVA7XHJcbiAgICAoZnVuY3Rpb24gKE9WRVJGTE9XX1dSQVApIHtcclxuICAgICAgICBPVkVSRkxPV19XUkFQW1wiTk9STUFMXCJdID0gXCJub3JtYWxcIjtcclxuICAgICAgICBPVkVSRkxPV19XUkFQW1wiQlJFQUtfV09SRFwiXSA9IFwiYnJlYWstd29yZFwiO1xyXG4gICAgfSkoT1ZFUkZMT1dfV1JBUCB8fCAoT1ZFUkZMT1dfV1JBUCA9IHt9KSk7XHJcbiAgICB2YXIgb3ZlcmZsb3dXcmFwID0ge1xyXG4gICAgICAgIG5hbWU6ICdvdmVyZmxvdy13cmFwJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub3JtYWwnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChvdmVyZmxvdykge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG92ZXJmbG93KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdicmVhay13b3JkJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1ZFUkZMT1dfV1JBUC5CUkVBS19XT1JEO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbm9ybWFsJzpcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9WRVJGTE9XX1dSQVAuTk9STUFMO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBwYWRkaW5nRm9yU2lkZSA9IGZ1bmN0aW9uIChzaWRlKSB7IHJldHVybiAoe1xyXG4gICAgICAgIG5hbWU6IFwicGFkZGluZy1cIiArIHNpZGUsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFLFxyXG4gICAgICAgIGZvcm1hdDogJ2xlbmd0aC1wZXJjZW50YWdlJ1xyXG4gICAgfSk7IH07XHJcbiAgICB2YXIgcGFkZGluZ1RvcCA9IHBhZGRpbmdGb3JTaWRlKCd0b3AnKTtcclxuICAgIHZhciBwYWRkaW5nUmlnaHQgPSBwYWRkaW5nRm9yU2lkZSgncmlnaHQnKTtcclxuICAgIHZhciBwYWRkaW5nQm90dG9tID0gcGFkZGluZ0ZvclNpZGUoJ2JvdHRvbScpO1xyXG4gICAgdmFyIHBhZGRpbmdMZWZ0ID0gcGFkZGluZ0ZvclNpZGUoJ2xlZnQnKTtcblxuICAgIHZhciBURVhUX0FMSUdOO1xyXG4gICAgKGZ1bmN0aW9uIChURVhUX0FMSUdOKSB7XHJcbiAgICAgICAgVEVYVF9BTElHTltURVhUX0FMSUdOW1wiTEVGVFwiXSA9IDBdID0gXCJMRUZUXCI7XHJcbiAgICAgICAgVEVYVF9BTElHTltURVhUX0FMSUdOW1wiQ0VOVEVSXCJdID0gMV0gPSBcIkNFTlRFUlwiO1xyXG4gICAgICAgIFRFWFRfQUxJR05bVEVYVF9BTElHTltcIlJJR0hUXCJdID0gMl0gPSBcIlJJR0hUXCI7XHJcbiAgICB9KShURVhUX0FMSUdOIHx8IChURVhUX0FMSUdOID0ge30pKTtcclxuICAgIHZhciB0ZXh0QWxpZ24gPSB7XHJcbiAgICAgICAgbmFtZTogJ3RleHQtYWxpZ24nLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ2xlZnQnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0ZXh0QWxpZ24pIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0ZXh0QWxpZ24pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVEVYVF9BTElHTi5SSUdIVDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2NlbnRlcic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdqdXN0aWZ5JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVEVYVF9BTElHTi5DRU5URVI7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRFWFRfQUxJR04uTEVGVDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgUE9TSVRJT047XHJcbiAgICAoZnVuY3Rpb24gKFBPU0lUSU9OKSB7XHJcbiAgICAgICAgUE9TSVRJT05bUE9TSVRJT05bXCJTVEFUSUNcIl0gPSAwXSA9IFwiU1RBVElDXCI7XHJcbiAgICAgICAgUE9TSVRJT05bUE9TSVRJT05bXCJSRUxBVElWRVwiXSA9IDFdID0gXCJSRUxBVElWRVwiO1xyXG4gICAgICAgIFBPU0lUSU9OW1BPU0lUSU9OW1wiQUJTT0xVVEVcIl0gPSAyXSA9IFwiQUJTT0xVVEVcIjtcclxuICAgICAgICBQT1NJVElPTltQT1NJVElPTltcIkZJWEVEXCJdID0gM10gPSBcIkZJWEVEXCI7XHJcbiAgICAgICAgUE9TSVRJT05bUE9TSVRJT05bXCJTVElDS1lcIl0gPSA0XSA9IFwiU1RJQ0tZXCI7XHJcbiAgICB9KShQT1NJVElPTiB8fCAoUE9TSVRJT04gPSB7fSkpO1xyXG4gICAgdmFyIHBvc2l0aW9uID0ge1xyXG4gICAgICAgIG5hbWU6ICdwb3NpdGlvbicsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnc3RhdGljJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgc3dpdGNoIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmVsYXRpdmUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQT1NJVElPTi5SRUxBVElWRTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2Fic29sdXRlJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUE9TSVRJT04uQUJTT0xVVEU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdmaXhlZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBPU0lUSU9OLkZJWEVEO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc3RpY2t5JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUE9TSVRJT04uU1RJQ0tZO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBQT1NJVElPTi5TVEFUSUM7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciB0ZXh0U2hhZG93ID0ge1xyXG4gICAgICAgIG5hbWU6ICd0ZXh0LXNoYWRvdycsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSAxICYmIGlzSWRlbnRXaXRoVmFsdWUodG9rZW5zWzBdLCAnbm9uZScpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucykubWFwKGZ1bmN0aW9uICh2YWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzaGFkb3cgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IENPTE9SUy5UUkFOU1BBUkVOVCxcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRYOiBaRVJPX0xFTkdUSCxcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRZOiBaRVJPX0xFTkdUSCxcclxuICAgICAgICAgICAgICAgICAgICBibHVyOiBaRVJPX0xFTkdUSFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gdmFsdWVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0xlbmd0aCh0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdy5vZmZzZXRYID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Lm9mZnNldFkgPSB0b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdy5ibHVyID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93LmNvbG9yID0gY29sb3IucGFyc2UodG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzaGFkb3c7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgVEVYVF9UUkFOU0ZPUk07XHJcbiAgICAoZnVuY3Rpb24gKFRFWFRfVFJBTlNGT1JNKSB7XHJcbiAgICAgICAgVEVYVF9UUkFOU0ZPUk1bVEVYVF9UUkFOU0ZPUk1bXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcclxuICAgICAgICBURVhUX1RSQU5TRk9STVtURVhUX1RSQU5TRk9STVtcIkxPV0VSQ0FTRVwiXSA9IDFdID0gXCJMT1dFUkNBU0VcIjtcclxuICAgICAgICBURVhUX1RSQU5TRk9STVtURVhUX1RSQU5TRk9STVtcIlVQUEVSQ0FTRVwiXSA9IDJdID0gXCJVUFBFUkNBU0VcIjtcclxuICAgICAgICBURVhUX1RSQU5TRk9STVtURVhUX1RSQU5TRk9STVtcIkNBUElUQUxJWkVcIl0gPSAzXSA9IFwiQ0FQSVRBTElaRVwiO1xyXG4gICAgfSkoVEVYVF9UUkFOU0ZPUk0gfHwgKFRFWFRfVFJBTlNGT1JNID0ge30pKTtcclxuICAgIHZhciB0ZXh0VHJhbnNmb3JtID0ge1xyXG4gICAgICAgIG5hbWU6ICd0ZXh0LXRyYW5zZm9ybScsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRleHRUcmFuc2Zvcm0pIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0ZXh0VHJhbnNmb3JtKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1cHBlcmNhc2UnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBURVhUX1RSQU5TRk9STS5VUFBFUkNBU0U7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdsb3dlcmNhc2UnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBURVhUX1RSQU5TRk9STS5MT1dFUkNBU0U7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjYXBpdGFsaXplJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVEVYVF9UUkFOU0ZPUk0uQ0FQSVRBTElaRTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gVEVYVF9UUkFOU0ZPUk0uTk9ORTtcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIHRyYW5zZm9ybSA9IHtcclxuICAgICAgICBuYW1lOiAndHJhbnNmb3JtJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICBwcmVmaXg6IHRydWUsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOICYmIHRva2VuLnZhbHVlID09PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRlVOQ1RJT04pIHtcclxuICAgICAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1GdW5jdGlvbiA9IFNVUFBPUlRFRF9UUkFOU0ZPUk1fRlVOQ1RJT05TW3Rva2VuLm5hbWVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmFuc2Zvcm1GdW5jdGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0aW5nIHRvIHBhcnNlIGFuIHVuc3VwcG9ydGVkIHRyYW5zZm9ybSBmdW5jdGlvbiBcXFwiXCIgKyB0b2tlbi5uYW1lICsgXCJcXFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUZ1bmN0aW9uKHRva2VuLnZhbHVlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBtYXRyaXggPSBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgICAgIHZhciB2YWx1ZXMgPSBhcmdzLmZpbHRlcihmdW5jdGlvbiAoYXJnKSB7IHJldHVybiBhcmcudHlwZSA9PT0gVG9rZW5UeXBlLk5VTUJFUl9UT0tFTjsgfSkubWFwKGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIGFyZy5udW1iZXI7IH0pO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoID09PSA2ID8gdmFsdWVzIDogbnVsbDtcclxuICAgIH07XHJcbiAgICAvLyBkb2Vzbid0IHN1cHBvcnQgM0QgdHJhbnNmb3JtcyBhdCB0aGUgbW9tZW50XHJcbiAgICB2YXIgbWF0cml4M2QgPSBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgICAgIHZhciB2YWx1ZXMgPSBhcmdzLmZpbHRlcihmdW5jdGlvbiAoYXJnKSB7IHJldHVybiBhcmcudHlwZSA9PT0gVG9rZW5UeXBlLk5VTUJFUl9UT0tFTjsgfSkubWFwKGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIGFyZy5udW1iZXI7IH0pO1xyXG4gICAgICAgIHZhciBhMSA9IHZhbHVlc1swXSwgYjEgPSB2YWx1ZXNbMV0sIF9hID0gdmFsdWVzWzJdLCBfYiA9IHZhbHVlc1szXSwgYTIgPSB2YWx1ZXNbNF0sIGIyID0gdmFsdWVzWzVdLCBfYyA9IHZhbHVlc1s2XSwgX2QgPSB2YWx1ZXNbN10sIF9lID0gdmFsdWVzWzhdLCBfZiA9IHZhbHVlc1s5XSwgX2cgPSB2YWx1ZXNbMTBdLCBfaCA9IHZhbHVlc1sxMV0sIGE0ID0gdmFsdWVzWzEyXSwgYjQgPSB2YWx1ZXNbMTNdLCBfaiA9IHZhbHVlc1sxNF0sIF9rID0gdmFsdWVzWzE1XTtcclxuICAgICAgICByZXR1cm4gdmFsdWVzLmxlbmd0aCA9PT0gMTYgPyBbYTEsIGIxLCBhMiwgYjIsIGE0LCBiNF0gOiBudWxsO1xyXG4gICAgfTtcclxuICAgIHZhciBTVVBQT1JURURfVFJBTlNGT1JNX0ZVTkNUSU9OUyA9IHtcclxuICAgICAgICBtYXRyaXg6IG1hdHJpeCxcclxuICAgICAgICBtYXRyaXgzZDogbWF0cml4M2RcclxuICAgIH07XG5cbiAgICB2YXIgREVGQVVMVF9WQUxVRSA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTixcclxuICAgICAgICBudW1iZXI6IDUwLFxyXG4gICAgICAgIGZsYWdzOiBGTEFHX0lOVEVHRVJcclxuICAgIH07XHJcbiAgICB2YXIgREVGQVVMVCA9IFtERUZBVUxUX1ZBTFVFLCBERUZBVUxUX1ZBTFVFXTtcclxuICAgIHZhciB0cmFuc2Zvcm1PcmlnaW4gPSB7XHJcbiAgICAgICAgbmFtZTogJ3RyYW5zZm9ybS1vcmlnaW4nLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJzUwJSA1MCUnLFxyXG4gICAgICAgIHByZWZpeDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIHZhciBvcmlnaW5zID0gdG9rZW5zLmZpbHRlcihpc0xlbmd0aFBlcmNlbnRhZ2UpO1xyXG4gICAgICAgICAgICBpZiAob3JpZ2lucy5sZW5ndGggIT09IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBERUZBVUxUO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBbb3JpZ2luc1swXSwgb3JpZ2luc1sxXV07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBWSVNJQklMSVRZO1xyXG4gICAgKGZ1bmN0aW9uIChWSVNJQklMSVRZKSB7XHJcbiAgICAgICAgVklTSUJJTElUWVtWSVNJQklMSVRZW1wiVklTSUJMRVwiXSA9IDBdID0gXCJWSVNJQkxFXCI7XHJcbiAgICAgICAgVklTSUJJTElUWVtWSVNJQklMSVRZW1wiSElEREVOXCJdID0gMV0gPSBcIkhJRERFTlwiO1xyXG4gICAgICAgIFZJU0lCSUxJVFlbVklTSUJJTElUWVtcIkNPTExBUFNFXCJdID0gMl0gPSBcIkNPTExBUFNFXCI7XHJcbiAgICB9KShWSVNJQklMSVRZIHx8IChWSVNJQklMSVRZID0ge30pKTtcclxuICAgIHZhciB2aXNpYmlsaXR5ID0ge1xyXG4gICAgICAgIG5hbWU6ICd2aXNpYmxlJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodmlzaWJpbGl0eSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHZpc2liaWxpdHkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2hpZGRlbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFZJU0lCSUxJVFkuSElEREVOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY29sbGFwc2UnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBWSVNJQklMSVRZLkNPTExBUFNFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndmlzaWJsZSc6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBWSVNJQklMSVRZLlZJU0lCTEU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIFdPUkRfQlJFQUs7XHJcbiAgICAoZnVuY3Rpb24gKFdPUkRfQlJFQUspIHtcclxuICAgICAgICBXT1JEX0JSRUFLW1wiTk9STUFMXCJdID0gXCJub3JtYWxcIjtcclxuICAgICAgICBXT1JEX0JSRUFLW1wiQlJFQUtfQUxMXCJdID0gXCJicmVhay1hbGxcIjtcclxuICAgICAgICBXT1JEX0JSRUFLW1wiS0VFUF9BTExcIl0gPSBcImtlZXAtYWxsXCI7XHJcbiAgICB9KShXT1JEX0JSRUFLIHx8IChXT1JEX0JSRUFLID0ge30pKTtcclxuICAgIHZhciB3b3JkQnJlYWsgPSB7XHJcbiAgICAgICAgbmFtZTogJ3dvcmQtYnJlYWsnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vcm1hbCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHdvcmRCcmVhaykge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHdvcmRCcmVhaykge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYnJlYWstYWxsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV09SRF9CUkVBSy5CUkVBS19BTEw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdrZWVwLWFsbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdPUkRfQlJFQUsuS0VFUF9BTEw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdub3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV09SRF9CUkVBSy5OT1JNQUw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIHpJbmRleCA9IHtcclxuICAgICAgICBuYW1lOiAnei1pbmRleCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnYXV0bycsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGF1dG86IHRydWUsIG9yZGVyOiAwIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyVG9rZW4odG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBhdXRvOiBmYWxzZSwgb3JkZXI6IHRva2VuLm51bWJlciB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgei1pbmRleCBudW1iZXIgcGFyc2VkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgb3BhY2l0eSA9IHtcclxuICAgICAgICBuYW1lOiAnb3BhY2l0eScsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnMScsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVkFMVUUsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGlmIChpc051bWJlclRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuLm51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIHRleHREZWNvcmF0aW9uQ29sb3IgPSB7XHJcbiAgICAgICAgbmFtZTogXCJ0ZXh0LWRlY29yYXRpb24tY29sb3JcIixcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICd0cmFuc3BhcmVudCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFLFxyXG4gICAgICAgIGZvcm1hdDogJ2NvbG9yJ1xyXG4gICAgfTtcblxuICAgIHZhciB0ZXh0RGVjb3JhdGlvbkxpbmUgPSB7XHJcbiAgICAgICAgbmFtZTogJ3RleHQtZGVjb3JhdGlvbi1saW5lJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRva2Vuc1xyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihpc0lkZW50VG9rZW4pXHJcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3VuZGVybGluZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIFVOREVSTElORSAqLztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdvdmVybGluZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAyIC8qIE9WRVJMSU5FICovO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xpbmUtdGhyb3VnaCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAzIC8qIExJTkVfVEhST1VHSCAqLztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdub25lJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDQgLyogQkxJTksgKi87XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMCAvKiBOT05FICovO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobGluZSkgeyByZXR1cm4gbGluZSAhPT0gMCAvKiBOT05FICovOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIGZvbnRGYW1pbHkgPSB7XHJcbiAgICAgICAgbmFtZTogXCJmb250LWZhbWlseVwiLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJycsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnMuZmlsdGVyKGlzU3RyaW5nVG9rZW4kMSkubWFwKGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gdG9rZW4udmFsdWU7IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgaXNTdHJpbmdUb2tlbiQxID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5TVFJJTkdfVE9LRU4gfHwgdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOO1xyXG4gICAgfTtcblxuICAgIHZhciBmb250U2l6ZSA9IHtcclxuICAgICAgICBuYW1lOiBcImZvbnQtc2l6ZVwiLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJzAnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVFlQRV9WQUxVRSxcclxuICAgICAgICBmb3JtYXQ6ICdsZW5ndGgnXHJcbiAgICB9O1xuXG4gICAgdmFyIGZvbnRXZWlnaHQgPSB7XHJcbiAgICAgICAgbmFtZTogJ2ZvbnQtd2VpZ2h0JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub3JtYWwnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlZBTFVFLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICBpZiAoaXNOdW1iZXJUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdib2xkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDcwMDtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdub3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA0MDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDQwMDtcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIGZvbnRWYXJpYW50ID0ge1xyXG4gICAgICAgIG5hbWU6ICdmb250LXZhcmlhbnQnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zLmZpbHRlcihpc0lkZW50VG9rZW4pLm1hcChmdW5jdGlvbiAodG9rZW4pIHsgcmV0dXJuIHRva2VuLnZhbHVlOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIEZPTlRfU1RZTEU7XHJcbiAgICAoZnVuY3Rpb24gKEZPTlRfU1RZTEUpIHtcclxuICAgICAgICBGT05UX1NUWUxFW1wiTk9STUFMXCJdID0gXCJub3JtYWxcIjtcclxuICAgICAgICBGT05UX1NUWUxFW1wiSVRBTElDXCJdID0gXCJpdGFsaWNcIjtcclxuICAgICAgICBGT05UX1NUWUxFW1wiT0JMSVFVRVwiXSA9IFwib2JsaXF1ZVwiO1xyXG4gICAgfSkoRk9OVF9TVFlMRSB8fCAoRk9OVF9TVFlMRSA9IHt9KSk7XHJcbiAgICB2YXIgZm9udFN0eWxlID0ge1xyXG4gICAgICAgIG5hbWU6ICdmb250LXN0eWxlJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub3JtYWwnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChvdmVyZmxvdykge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG92ZXJmbG93KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdvYmxpcXVlJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRk9OVF9TVFlMRS5PQkxJUVVFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaXRhbGljJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRk9OVF9TVFlMRS5JVEFMSUM7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdub3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRk9OVF9TVFlMRS5OT1JNQUw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIGNvbnRhaW5zID0gZnVuY3Rpb24gKGJpdCwgdmFsdWUpIHsgcmV0dXJuIChiaXQgJiB2YWx1ZSkgIT09IDA7IH07XG5cbiAgICB2YXIgY29udGVudCA9IHtcclxuICAgICAgICBuYW1lOiAnY29udGVudCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGZpcnN0ID0gdG9rZW5zWzBdO1xyXG4gICAgICAgICAgICBpZiAoZmlyc3QudHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOICYmIGZpcnN0LnZhbHVlID09PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgY291bnRlckluY3JlbWVudCA9IHtcclxuICAgICAgICBuYW1lOiAnY291bnRlci1pbmNyZW1lbnQnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHByZWZpeDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZmlyc3QgPSB0b2tlbnNbMF07XHJcbiAgICAgICAgICAgIGlmIChmaXJzdC50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgZmlyc3QudmFsdWUgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGluY3JlbWVudHMgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcmVkID0gdG9rZW5zLmZpbHRlcihub25XaGl0ZVNwYWNlKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJlZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBmaWx0ZXJlZFtpXTtcclxuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gZmlsdGVyZWRbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ZXIudHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluY3JlbWVudCA9IG5leHQgJiYgaXNOdW1iZXJUb2tlbihuZXh0KSA/IG5leHQubnVtYmVyIDogMTtcclxuICAgICAgICAgICAgICAgICAgICBpbmNyZW1lbnRzLnB1c2goeyBjb3VudGVyOiBjb3VudGVyLnZhbHVlLCBpbmNyZW1lbnQ6IGluY3JlbWVudCB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaW5jcmVtZW50cztcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIGNvdW50ZXJSZXNldCA9IHtcclxuICAgICAgICBuYW1lOiAnY291bnRlci1yZXNldCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgcHJlZml4OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmVzZXRzID0gW107XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IHRva2Vucy5maWx0ZXIobm9uV2hpdGVTcGFjZSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVyZWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb3VudGVyID0gZmlsdGVyZWRbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGZpbHRlcmVkW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0lkZW50VG9rZW4oY291bnRlcikgJiYgY291bnRlci52YWx1ZSAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc2V0ID0gbmV4dCAmJiBpc051bWJlclRva2VuKG5leHQpID8gbmV4dC5udW1iZXIgOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0cy5wdXNoKHsgY291bnRlcjogY291bnRlci52YWx1ZSwgcmVzZXQ6IHJlc2V0IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXNldHM7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBxdW90ZXMgPSB7XHJcbiAgICAgICAgbmFtZTogJ3F1b3RlcycsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgcHJlZml4OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBmaXJzdCA9IHRva2Vuc1swXTtcclxuICAgICAgICAgICAgaWYgKGZpcnN0LnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTiAmJiBmaXJzdC52YWx1ZSA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcXVvdGVzID0gW107XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IHRva2Vucy5maWx0ZXIoaXNTdHJpbmdUb2tlbik7XHJcbiAgICAgICAgICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggJSAyICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcmVkLmxlbmd0aDsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3Blbl8xID0gZmlsdGVyZWRbaV0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2xvc2VfMSA9IGZpbHRlcmVkW2kgKyAxXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIHF1b3Rlcy5wdXNoKHsgb3Blbjogb3Blbl8xLCBjbG9zZTogY2xvc2VfMSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcXVvdGVzO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgZ2V0UXVvdGUgPSBmdW5jdGlvbiAocXVvdGVzLCBkZXB0aCwgb3Blbikge1xyXG4gICAgICAgIGlmICghcXVvdGVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHF1b3RlID0gcXVvdGVzW01hdGgubWluKGRlcHRoLCBxdW90ZXMubGVuZ3RoIC0gMSldO1xyXG4gICAgICAgIGlmICghcXVvdGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3BlbiA/IHF1b3RlLm9wZW4gOiBxdW90ZS5jbG9zZTtcclxuICAgIH07XG5cbiAgICB2YXIgYm94U2hhZG93ID0ge1xyXG4gICAgICAgIG5hbWU6ICdib3gtc2hhZG93JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDEgJiYgaXNJZGVudFdpdGhWYWx1ZSh0b2tlbnNbMF0sICdub25lJykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKS5tYXAoZnVuY3Rpb24gKHZhbHVlcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNoYWRvdyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogMHgwMDAwMDBmZixcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRYOiBaRVJPX0xFTkdUSCxcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRZOiBaRVJPX0xFTkdUSCxcclxuICAgICAgICAgICAgICAgICAgICBibHVyOiBaRVJPX0xFTkdUSCxcclxuICAgICAgICAgICAgICAgICAgICBzcHJlYWQ6IFpFUk9fTEVOR1RILFxyXG4gICAgICAgICAgICAgICAgICAgIGluc2V0OiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gdmFsdWVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lkZW50V2l0aFZhbHVlKHRva2VuLCAnaW5zZXQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3cuaW5zZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0xlbmd0aCh0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdy5vZmZzZXRYID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Lm9mZnNldFkgPSB0b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3cuYmx1ciA9IHRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93LnNwcmVhZCA9IHRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGMrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdy5jb2xvciA9IGNvbG9yLnBhcnNlKHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hhZG93O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIENTU1BhcnNlZERlY2xhcmF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIENTU1BhcnNlZERlY2xhcmF0aW9uKGRlY2xhcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZENsaXAgPSBwYXJzZShiYWNrZ3JvdW5kQ2xpcCwgZGVjbGFyYXRpb24uYmFja2dyb3VuZENsaXApO1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IHBhcnNlKGJhY2tncm91bmRDb2xvciwgZGVjbGFyYXRpb24uYmFja2dyb3VuZENvbG9yKTtcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1hZ2UgPSBwYXJzZShiYWNrZ3JvdW5kSW1hZ2UsIGRlY2xhcmF0aW9uLmJhY2tncm91bmRJbWFnZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZE9yaWdpbiA9IHBhcnNlKGJhY2tncm91bmRPcmlnaW4sIGRlY2xhcmF0aW9uLmJhY2tncm91bmRPcmlnaW4pO1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRQb3NpdGlvbiA9IHBhcnNlKGJhY2tncm91bmRQb3NpdGlvbiwgZGVjbGFyYXRpb24uYmFja2dyb3VuZFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kUmVwZWF0ID0gcGFyc2UoYmFja2dyb3VuZFJlcGVhdCwgZGVjbGFyYXRpb24uYmFja2dyb3VuZFJlcGVhdCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZFNpemUgPSBwYXJzZShiYWNrZ3JvdW5kU2l6ZSwgZGVjbGFyYXRpb24uYmFja2dyb3VuZFNpemUpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlclRvcENvbG9yID0gcGFyc2UoYm9yZGVyVG9wQ29sb3IsIGRlY2xhcmF0aW9uLmJvcmRlclRvcENvbG9yKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJSaWdodENvbG9yID0gcGFyc2UoYm9yZGVyUmlnaHRDb2xvciwgZGVjbGFyYXRpb24uYm9yZGVyUmlnaHRDb2xvcik7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyQm90dG9tQ29sb3IgPSBwYXJzZShib3JkZXJCb3R0b21Db2xvciwgZGVjbGFyYXRpb24uYm9yZGVyQm90dG9tQ29sb3IpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlckxlZnRDb2xvciA9IHBhcnNlKGJvcmRlckxlZnRDb2xvciwgZGVjbGFyYXRpb24uYm9yZGVyTGVmdENvbG9yKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJUb3BMZWZ0UmFkaXVzID0gcGFyc2UoYm9yZGVyVG9wTGVmdFJhZGl1cywgZGVjbGFyYXRpb24uYm9yZGVyVG9wTGVmdFJhZGl1cyk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyVG9wUmlnaHRSYWRpdXMgPSBwYXJzZShib3JkZXJUb3BSaWdodFJhZGl1cywgZGVjbGFyYXRpb24uYm9yZGVyVG9wUmlnaHRSYWRpdXMpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzID0gcGFyc2UoYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMsIGRlY2xhcmF0aW9uLmJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJCb3R0b21MZWZ0UmFkaXVzID0gcGFyc2UoYm9yZGVyQm90dG9tTGVmdFJhZGl1cywgZGVjbGFyYXRpb24uYm9yZGVyQm90dG9tTGVmdFJhZGl1cyk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyVG9wU3R5bGUgPSBwYXJzZShib3JkZXJUb3BTdHlsZSwgZGVjbGFyYXRpb24uYm9yZGVyVG9wU3R5bGUpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlclJpZ2h0U3R5bGUgPSBwYXJzZShib3JkZXJSaWdodFN0eWxlLCBkZWNsYXJhdGlvbi5ib3JkZXJSaWdodFN0eWxlKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJCb3R0b21TdHlsZSA9IHBhcnNlKGJvcmRlckJvdHRvbVN0eWxlLCBkZWNsYXJhdGlvbi5ib3JkZXJCb3R0b21TdHlsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyTGVmdFN0eWxlID0gcGFyc2UoYm9yZGVyTGVmdFN0eWxlLCBkZWNsYXJhdGlvbi5ib3JkZXJMZWZ0U3R5bGUpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlclRvcFdpZHRoID0gcGFyc2UoYm9yZGVyVG9wV2lkdGgsIGRlY2xhcmF0aW9uLmJvcmRlclRvcFdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJSaWdodFdpZHRoID0gcGFyc2UoYm9yZGVyUmlnaHRXaWR0aCwgZGVjbGFyYXRpb24uYm9yZGVyUmlnaHRXaWR0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyQm90dG9tV2lkdGggPSBwYXJzZShib3JkZXJCb3R0b21XaWR0aCwgZGVjbGFyYXRpb24uYm9yZGVyQm90dG9tV2lkdGgpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlckxlZnRXaWR0aCA9IHBhcnNlKGJvcmRlckxlZnRXaWR0aCwgZGVjbGFyYXRpb24uYm9yZGVyTGVmdFdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy5ib3hTaGFkb3cgPSBwYXJzZShib3hTaGFkb3csIGRlY2xhcmF0aW9uLmJveFNoYWRvdyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29sb3IgPSBwYXJzZShjb2xvciQxLCBkZWNsYXJhdGlvbi5jb2xvcik7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheSA9IHBhcnNlKGRpc3BsYXksIGRlY2xhcmF0aW9uLmRpc3BsYXkpO1xyXG4gICAgICAgICAgICB0aGlzLmZsb2F0ID0gcGFyc2UoZmxvYXQsIGRlY2xhcmF0aW9uLmNzc0Zsb2F0KTtcclxuICAgICAgICAgICAgdGhpcy5mb250RmFtaWx5ID0gcGFyc2UoZm9udEZhbWlseSwgZGVjbGFyYXRpb24uZm9udEZhbWlseSk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9udFNpemUgPSBwYXJzZShmb250U2l6ZSwgZGVjbGFyYXRpb24uZm9udFNpemUpO1xyXG4gICAgICAgICAgICB0aGlzLmZvbnRTdHlsZSA9IHBhcnNlKGZvbnRTdHlsZSwgZGVjbGFyYXRpb24uZm9udFN0eWxlKTtcclxuICAgICAgICAgICAgdGhpcy5mb250VmFyaWFudCA9IHBhcnNlKGZvbnRWYXJpYW50LCBkZWNsYXJhdGlvbi5mb250VmFyaWFudCk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9udFdlaWdodCA9IHBhcnNlKGZvbnRXZWlnaHQsIGRlY2xhcmF0aW9uLmZvbnRXZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLmxldHRlclNwYWNpbmcgPSBwYXJzZShsZXR0ZXJTcGFjaW5nLCBkZWNsYXJhdGlvbi5sZXR0ZXJTcGFjaW5nKTtcclxuICAgICAgICAgICAgdGhpcy5saW5lQnJlYWsgPSBwYXJzZShsaW5lQnJlYWssIGRlY2xhcmF0aW9uLmxpbmVCcmVhayk7XHJcbiAgICAgICAgICAgIHRoaXMubGluZUhlaWdodCA9IHBhcnNlKGxpbmVIZWlnaHQsIGRlY2xhcmF0aW9uLmxpbmVIZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RTdHlsZUltYWdlID0gcGFyc2UobGlzdFN0eWxlSW1hZ2UsIGRlY2xhcmF0aW9uLmxpc3RTdHlsZUltYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0U3R5bGVQb3NpdGlvbiA9IHBhcnNlKGxpc3RTdHlsZVBvc2l0aW9uLCBkZWNsYXJhdGlvbi5saXN0U3R5bGVQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdFN0eWxlVHlwZSA9IHBhcnNlKGxpc3RTdHlsZVR5cGUsIGRlY2xhcmF0aW9uLmxpc3RTdHlsZVR5cGUpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmdpblRvcCA9IHBhcnNlKG1hcmdpblRvcCwgZGVjbGFyYXRpb24ubWFyZ2luVG9wKTtcclxuICAgICAgICAgICAgdGhpcy5tYXJnaW5SaWdodCA9IHBhcnNlKG1hcmdpblJpZ2h0LCBkZWNsYXJhdGlvbi5tYXJnaW5SaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFyZ2luQm90dG9tID0gcGFyc2UobWFyZ2luQm90dG9tLCBkZWNsYXJhdGlvbi5tYXJnaW5Cb3R0b20pO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmdpbkxlZnQgPSBwYXJzZShtYXJnaW5MZWZ0LCBkZWNsYXJhdGlvbi5tYXJnaW5MZWZ0KTtcclxuICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gcGFyc2Uob3BhY2l0eSwgZGVjbGFyYXRpb24ub3BhY2l0eSk7XHJcbiAgICAgICAgICAgIHZhciBvdmVyZmxvd1R1cGxlID0gcGFyc2Uob3ZlcmZsb3csIGRlY2xhcmF0aW9uLm92ZXJmbG93KTtcclxuICAgICAgICAgICAgdGhpcy5vdmVyZmxvd1ggPSBvdmVyZmxvd1R1cGxlWzBdO1xyXG4gICAgICAgICAgICB0aGlzLm92ZXJmbG93WSA9IG92ZXJmbG93VHVwbGVbb3ZlcmZsb3dUdXBsZS5sZW5ndGggPiAxID8gMSA6IDBdO1xyXG4gICAgICAgICAgICB0aGlzLm92ZXJmbG93V3JhcCA9IHBhcnNlKG92ZXJmbG93V3JhcCwgZGVjbGFyYXRpb24ub3ZlcmZsb3dXcmFwKTtcclxuICAgICAgICAgICAgdGhpcy5wYWRkaW5nVG9wID0gcGFyc2UocGFkZGluZ1RvcCwgZGVjbGFyYXRpb24ucGFkZGluZ1RvcCk7XHJcbiAgICAgICAgICAgIHRoaXMucGFkZGluZ1JpZ2h0ID0gcGFyc2UocGFkZGluZ1JpZ2h0LCBkZWNsYXJhdGlvbi5wYWRkaW5nUmlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLnBhZGRpbmdCb3R0b20gPSBwYXJzZShwYWRkaW5nQm90dG9tLCBkZWNsYXJhdGlvbi5wYWRkaW5nQm90dG9tKTtcclxuICAgICAgICAgICAgdGhpcy5wYWRkaW5nTGVmdCA9IHBhcnNlKHBhZGRpbmdMZWZ0LCBkZWNsYXJhdGlvbi5wYWRkaW5nTGVmdCk7XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBwYXJzZShwb3NpdGlvbiwgZGVjbGFyYXRpb24ucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRBbGlnbiA9IHBhcnNlKHRleHRBbGlnbiwgZGVjbGFyYXRpb24udGV4dEFsaWduKTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0RGVjb3JhdGlvbkNvbG9yID0gcGFyc2UodGV4dERlY29yYXRpb25Db2xvciwgZGVjbGFyYXRpb24udGV4dERlY29yYXRpb25Db2xvciB8fCBkZWNsYXJhdGlvbi5jb2xvcik7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dERlY29yYXRpb25MaW5lID0gcGFyc2UodGV4dERlY29yYXRpb25MaW5lLCBkZWNsYXJhdGlvbi50ZXh0RGVjb3JhdGlvbkxpbmUpO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRTaGFkb3cgPSBwYXJzZSh0ZXh0U2hhZG93LCBkZWNsYXJhdGlvbi50ZXh0U2hhZG93KTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0VHJhbnNmb3JtID0gcGFyc2UodGV4dFRyYW5zZm9ybSwgZGVjbGFyYXRpb24udGV4dFRyYW5zZm9ybSk7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtID0gcGFyc2UodHJhbnNmb3JtLCBkZWNsYXJhdGlvbi50cmFuc2Zvcm0pO1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybU9yaWdpbiA9IHBhcnNlKHRyYW5zZm9ybU9yaWdpbiwgZGVjbGFyYXRpb24udHJhbnNmb3JtT3JpZ2luKTtcclxuICAgICAgICAgICAgdGhpcy52aXNpYmlsaXR5ID0gcGFyc2UodmlzaWJpbGl0eSwgZGVjbGFyYXRpb24udmlzaWJpbGl0eSk7XHJcbiAgICAgICAgICAgIHRoaXMud29yZEJyZWFrID0gcGFyc2Uod29yZEJyZWFrLCBkZWNsYXJhdGlvbi53b3JkQnJlYWspO1xyXG4gICAgICAgICAgICB0aGlzLnpJbmRleCA9IHBhcnNlKHpJbmRleCwgZGVjbGFyYXRpb24uekluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgQ1NTUGFyc2VkRGVjbGFyYXRpb24ucHJvdG90eXBlLmlzVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheSA+IDAgJiYgdGhpcy5vcGFjaXR5ID4gMCAmJiB0aGlzLnZpc2liaWxpdHkgPT09IFZJU0lCSUxJVFkuVklTSUJMRTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENTU1BhcnNlZERlY2xhcmF0aW9uLnByb3RvdHlwZS5pc1RyYW5zcGFyZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc3BhcmVudCh0aGlzLmJhY2tncm91bmRDb2xvcik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDU1NQYXJzZWREZWNsYXJhdGlvbi5wcm90b3R5cGUuaXNUcmFuc2Zvcm1lZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtICE9PSBudWxsO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ1NTUGFyc2VkRGVjbGFyYXRpb24ucHJvdG90eXBlLmlzUG9zaXRpb25lZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24gIT09IFBPU0lUSU9OLlNUQVRJQztcclxuICAgICAgICB9O1xyXG4gICAgICAgIENTU1BhcnNlZERlY2xhcmF0aW9uLnByb3RvdHlwZS5pc1Bvc2l0aW9uZWRXaXRoWkluZGV4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc1Bvc2l0aW9uZWQoKSAmJiAhdGhpcy56SW5kZXguYXV0bztcclxuICAgICAgICB9O1xyXG4gICAgICAgIENTU1BhcnNlZERlY2xhcmF0aW9uLnByb3RvdHlwZS5pc0Zsb2F0aW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mbG9hdCAhPT0gRkxPQVQuTk9ORTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENTU1BhcnNlZERlY2xhcmF0aW9uLnByb3RvdHlwZS5pc0lubGluZUxldmVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKGNvbnRhaW5zKHRoaXMuZGlzcGxheSwgNCAvKiBJTkxJTkUgKi8pIHx8XHJcbiAgICAgICAgICAgICAgICBjb250YWlucyh0aGlzLmRpc3BsYXksIDMzNTU0NDMyIC8qIElOTElORV9CTE9DSyAqLykgfHxcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5zKHRoaXMuZGlzcGxheSwgMjY4NDM1NDU2IC8qIElOTElORV9GTEVYICovKSB8fFxyXG4gICAgICAgICAgICAgICAgY29udGFpbnModGhpcy5kaXNwbGF5LCA1MzY4NzA5MTIgLyogSU5MSU5FX0dSSUQgKi8pIHx8XHJcbiAgICAgICAgICAgICAgICBjb250YWlucyh0aGlzLmRpc3BsYXksIDY3MTA4ODY0IC8qIElOTElORV9MSVNUX0lURU0gKi8pIHx8XHJcbiAgICAgICAgICAgICAgICBjb250YWlucyh0aGlzLmRpc3BsYXksIDEzNDIxNzcyOCAvKiBJTkxJTkVfVEFCTEUgKi8pKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBDU1NQYXJzZWREZWNsYXJhdGlvbjtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgQ1NTUGFyc2VkUHNldWRvRGVjbGFyYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ1NTUGFyc2VkUHNldWRvRGVjbGFyYXRpb24oZGVjbGFyYXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gcGFyc2UoY29udGVudCwgZGVjbGFyYXRpb24uY29udGVudCk7XHJcbiAgICAgICAgICAgIHRoaXMucXVvdGVzID0gcGFyc2UocXVvdGVzLCBkZWNsYXJhdGlvbi5xdW90ZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQ1NTUGFyc2VkUHNldWRvRGVjbGFyYXRpb247XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIENTU1BhcnNlZENvdW50ZXJEZWNsYXJhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBDU1NQYXJzZWRDb3VudGVyRGVjbGFyYXRpb24oZGVjbGFyYXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VudGVySW5jcmVtZW50ID0gcGFyc2UoY291bnRlckluY3JlbWVudCwgZGVjbGFyYXRpb24uY291bnRlckluY3JlbWVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuY291bnRlclJlc2V0ID0gcGFyc2UoY291bnRlclJlc2V0LCBkZWNsYXJhdGlvbi5jb3VudGVyUmVzZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQ1NTUGFyc2VkQ291bnRlckRlY2xhcmF0aW9uO1xyXG4gICAgfSgpKTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICB2YXIgcGFyc2UgPSBmdW5jdGlvbiAoZGVzY3JpcHRvciwgc3R5bGUpIHtcclxuICAgICAgICB2YXIgdG9rZW5pemVyID0gbmV3IFRva2VuaXplcigpO1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHN0eWxlICE9PSBudWxsICYmIHR5cGVvZiBzdHlsZSAhPT0gJ3VuZGVmaW5lZCcgPyBzdHlsZS50b1N0cmluZygpIDogZGVzY3JpcHRvci5pbml0aWFsVmFsdWU7XHJcbiAgICAgICAgdG9rZW5pemVyLndyaXRlKHZhbHVlKTtcclxuICAgICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcih0b2tlbml6ZXIucmVhZCgpKTtcclxuICAgICAgICBzd2l0Y2ggKGRlc2NyaXB0b3IudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFOlxyXG4gICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcGFyc2VyLnBhcnNlQ29tcG9uZW50VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLnBhcnNlKGlzSWRlbnRUb2tlbih0b2tlbikgPyB0b2tlbi52YWx1ZSA6IGRlc2NyaXB0b3IuaW5pdGlhbFZhbHVlKTtcclxuICAgICAgICAgICAgY2FzZSBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLnBhcnNlKHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCkpO1xyXG4gICAgICAgICAgICBjYXNlIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1Q6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvci5wYXJzZShwYXJzZXIucGFyc2VDb21wb25lbnRWYWx1ZXMoKSk7XHJcbiAgICAgICAgICAgIGNhc2UgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVE9LRU5fVkFMVUU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VyLnBhcnNlQ29tcG9uZW50VmFsdWUoKTtcclxuICAgICAgICAgICAgY2FzZSBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFOlxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChkZXNjcmlwdG9yLmZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FuZ2xlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ2xlLnBhcnNlKHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbG9yJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yLnBhcnNlKHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ltYWdlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlLnBhcnNlKHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xlbmd0aCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZW5ndGhfMSA9IHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0xlbmd0aChsZW5ndGhfMSkgPyBsZW5ndGhfMSA6IFpFUk9fTEVOR1RIO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xlbmd0aC1wZXJjZW50YWdlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlXzEgPSBwYXJzZXIucGFyc2VDb21wb25lbnRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNMZW5ndGhQZXJjZW50YWdlKHZhbHVlXzEpID8gdmFsdWVfMSA6IFpFUk9fTEVOR1RIO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0aW5nIHRvIHBhcnNlIHVuc3VwcG9ydGVkIGNzcyBmb3JtYXQgdHlwZSBcIiArIGRlc2NyaXB0b3IuZm9ybWF0KTtcclxuICAgIH07XG5cbiAgICB2YXIgRWxlbWVudENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zdHlsZXMgPSBuZXcgQ1NTUGFyc2VkRGVjbGFyYXRpb24od2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCkpO1xyXG4gICAgICAgICAgICB0aGlzLnRleHROb2RlcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzID0gW107XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0eWxlcy50cmFuc2Zvcm0gIT09IG51bGwgJiYgaXNIVE1MRWxlbWVudE5vZGUoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCB0YWtlcyB0cmFuc2Zvcm1zIGludG8gYWNjb3VudFxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5ib3VuZHMgPSBwYXJzZUJvdW5kcyhlbGVtZW50KTtcclxuICAgICAgICAgICAgdGhpcy5mbGFncyA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgfSgpKTtcblxuICAgIHZhciBUZXh0Qm91bmRzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFRleHRCb3VuZHModGV4dCwgYm91bmRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICAgICAgICAgIHRoaXMuYm91bmRzID0gYm91bmRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gVGV4dEJvdW5kcztcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgcGFyc2VUZXh0Qm91bmRzID0gZnVuY3Rpb24gKHZhbHVlLCBzdHlsZXMsIG5vZGUpIHtcclxuICAgICAgICB2YXIgdGV4dExpc3QgPSBicmVha1RleHQodmFsdWUsIHN0eWxlcyk7XHJcbiAgICAgICAgdmFyIHRleHRCb3VuZHMgPSBbXTtcclxuICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcclxuICAgICAgICB0ZXh0TGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgICAgIGlmIChzdHlsZXMudGV4dERlY29yYXRpb25MaW5lLmxlbmd0aCB8fCB0ZXh0LnRyaW0oKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoRkVBVFVSRVMuU1VQUE9SVF9SQU5HRV9CT1VORFMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0Qm91bmRzLnB1c2gobmV3IFRleHRCb3VuZHModGV4dCwgZ2V0UmFuZ2VCb3VuZHMobm9kZSwgb2Zmc2V0LCB0ZXh0Lmxlbmd0aCkpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXBsYWNlbWVudE5vZGUgPSBub2RlLnNwbGl0VGV4dCh0ZXh0Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dEJvdW5kcy5wdXNoKG5ldyBUZXh0Qm91bmRzKHRleHQsIGdldFdyYXBwZXJCb3VuZHMobm9kZSkpKTtcclxuICAgICAgICAgICAgICAgICAgICBub2RlID0gcmVwbGFjZW1lbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFGRUFUVVJFUy5TVVBQT1JUX1JBTkdFX0JPVU5EUykge1xyXG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUuc3BsaXRUZXh0KHRleHQubGVuZ3RoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvZmZzZXQgKz0gdGV4dC5sZW5ndGg7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRleHRCb3VuZHM7XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldFdyYXBwZXJCb3VuZHMgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gbm9kZS5vd25lckRvY3VtZW50O1xyXG4gICAgICAgIGlmIChvd25lckRvY3VtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdodG1sMmNhbnZhc3dyYXBwZXInKTtcclxuICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChub2RlLmNsb25lTm9kZSh0cnVlKSk7XHJcbiAgICAgICAgICAgIHZhciBwYXJlbnROb2RlID0gbm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICBpZiAocGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQod3JhcHBlciwgbm9kZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm91bmRzID0gcGFyc2VCb3VuZHMod3JhcHBlcik7XHJcbiAgICAgICAgICAgICAgICBpZiAod3JhcHBlci5maXJzdENoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQod3JhcHBlci5maXJzdENoaWxkLCB3cmFwcGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCb3VuZHMoMCwgMCwgMCwgMCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldFJhbmdlQm91bmRzID0gZnVuY3Rpb24gKG5vZGUsIG9mZnNldCwgbGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQ7XHJcbiAgICAgICAgaWYgKCFvd25lckRvY3VtZW50KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm9kZSBoYXMgbm8gb3duZXIgZG9jdW1lbnQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJhbmdlID0gb3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xyXG4gICAgICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIG9mZnNldCk7XHJcbiAgICAgICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIG9mZnNldCArIGxlbmd0aCk7XHJcbiAgICAgICAgcmV0dXJuIEJvdW5kcy5mcm9tQ2xpZW50UmVjdChyYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGJyZWFrVGV4dCA9IGZ1bmN0aW9uICh2YWx1ZSwgc3R5bGVzKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0eWxlcy5sZXR0ZXJTcGFjaW5nICE9PSAwID8gdG9Db2RlUG9pbnRzKHZhbHVlKS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGZyb21Db2RlUG9pbnQoaSk7IH0pIDogYnJlYWtXb3Jkcyh2YWx1ZSwgc3R5bGVzKTtcclxuICAgIH07XHJcbiAgICB2YXIgYnJlYWtXb3JkcyA9IGZ1bmN0aW9uIChzdHIsIHN0eWxlcykge1xyXG4gICAgICAgIHZhciBicmVha2VyID0gTGluZUJyZWFrZXIoc3RyLCB7XHJcbiAgICAgICAgICAgIGxpbmVCcmVhazogc3R5bGVzLmxpbmVCcmVhayxcclxuICAgICAgICAgICAgd29yZEJyZWFrOiBzdHlsZXMub3ZlcmZsb3dXcmFwID09PSBPVkVSRkxPV19XUkFQLkJSRUFLX1dPUkQgPyAnYnJlYWstd29yZCcgOiBzdHlsZXMud29yZEJyZWFrXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHdvcmRzID0gW107XHJcbiAgICAgICAgdmFyIGJrO1xyXG4gICAgICAgIHdoaWxlICghKGJrID0gYnJlYWtlci5uZXh0KCkpLmRvbmUpIHtcclxuICAgICAgICAgICAgaWYgKGJrLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB3b3Jkcy5wdXNoKGJrLnZhbHVlLnNsaWNlKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB3b3JkcztcclxuICAgIH07XG5cbiAgICB2YXIgVGV4dENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBUZXh0Q29udGFpbmVyKG5vZGUsIHN0eWxlcykge1xyXG4gICAgICAgICAgICB0aGlzLnRleHQgPSB0cmFuc2Zvcm0kMShub2RlLmRhdGEsIHN0eWxlcy50ZXh0VHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0Qm91bmRzID0gcGFyc2VUZXh0Qm91bmRzKHRoaXMudGV4dCwgc3R5bGVzLCBub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFRleHRDb250YWluZXI7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIHRyYW5zZm9ybSQxID0gZnVuY3Rpb24gKHRleHQsIHRyYW5zZm9ybSkge1xyXG4gICAgICAgIHN3aXRjaCAodHJhbnNmb3JtKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVEVYVF9UUkFOU0ZPUk0uTE9XRVJDQVNFOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgY2FzZSBURVhUX1RSQU5TRk9STS5DQVBJVEFMSVpFOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZShDQVBJVEFMSVpFLCBjYXBpdGFsaXplKTtcclxuICAgICAgICAgICAgY2FzZSBURVhUX1RSQU5TRk9STS5VUFBFUkNBU0U6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dC50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBDQVBJVEFMSVpFID0gLyhefFxcc3w6fC18XFwofFxcKSkoW2Etel0pL2c7XHJcbiAgICB2YXIgY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uIChtLCBwMSwgcDIpIHtcclxuICAgICAgICBpZiAobS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwMSArIHAyLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtO1xyXG4gICAgfTtcblxuICAgIHZhciBJbWFnZUVsZW1lbnRDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKEltYWdlRWxlbWVudENvbnRhaW5lciwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBJbWFnZUVsZW1lbnRDb250YWluZXIoaW1nKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGltZykgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMuc3JjID0gaW1nLmN1cnJlbnRTcmMgfHwgaW1nLnNyYztcclxuICAgICAgICAgICAgX3RoaXMuaW50cmluc2ljV2lkdGggPSBpbWcubmF0dXJhbFdpZHRoO1xyXG4gICAgICAgICAgICBfdGhpcy5pbnRyaW5zaWNIZWlnaHQgPSBpbWcubmF0dXJhbEhlaWdodDtcclxuICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLmdldEluc3RhbmNlKCkuYWRkSW1hZ2UoX3RoaXMuc3JjKTtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gSW1hZ2VFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgfShFbGVtZW50Q29udGFpbmVyKSk7XG5cbiAgICB2YXIgQ2FudmFzRWxlbWVudENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoQ2FudmFzRWxlbWVudENvbnRhaW5lciwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBDYW52YXNFbGVtZW50Q29udGFpbmVyKGNhbnZhcykge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjYW52YXMpIHx8IHRoaXM7XHJcbiAgICAgICAgICAgIF90aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICAgICAgX3RoaXMuaW50cmluc2ljV2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgIF90aGlzLmludHJpbnNpY0hlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIENhbnZhc0VsZW1lbnRDb250YWluZXI7XHJcbiAgICB9KEVsZW1lbnRDb250YWluZXIpKTtcblxuICAgIHZhciBTVkdFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhTVkdFbGVtZW50Q29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFNWR0VsZW1lbnRDb250YWluZXIoaW1nKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGltZykgfHwgdGhpcztcclxuICAgICAgICAgICAgdmFyIHMgPSBuZXcgWE1MU2VyaWFsaXplcigpO1xyXG4gICAgICAgICAgICBfdGhpcy5zdmcgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCxcIiArIGVuY29kZVVSSUNvbXBvbmVudChzLnNlcmlhbGl6ZVRvU3RyaW5nKGltZykpO1xyXG4gICAgICAgICAgICBfdGhpcy5pbnRyaW5zaWNXaWR0aCA9IGltZy53aWR0aC5iYXNlVmFsLnZhbHVlO1xyXG4gICAgICAgICAgICBfdGhpcy5pbnRyaW5zaWNIZWlnaHQgPSBpbWcuaGVpZ2h0LmJhc2VWYWwudmFsdWU7XHJcbiAgICAgICAgICAgIENhY2hlU3RvcmFnZS5nZXRJbnN0YW5jZSgpLmFkZEltYWdlKF90aGlzLnN2Zyk7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFNWR0VsZW1lbnRDb250YWluZXI7XHJcbiAgICB9KEVsZW1lbnRDb250YWluZXIpKTtcblxuICAgIHZhciBMSUVsZW1lbnRDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKExJRWxlbWVudENvbnRhaW5lciwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBMSUVsZW1lbnRDb250YWluZXIoZWxlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBlbGVtZW50KSB8fCB0aGlzO1xyXG4gICAgICAgICAgICBfdGhpcy52YWx1ZSA9IGVsZW1lbnQudmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIExJRWxlbWVudENvbnRhaW5lcjtcclxuICAgIH0oRWxlbWVudENvbnRhaW5lcikpO1xuXG4gICAgdmFyIE9MRWxlbWVudENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoT0xFbGVtZW50Q29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIE9MRWxlbWVudENvbnRhaW5lcihlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVsZW1lbnQpIHx8IHRoaXM7XHJcbiAgICAgICAgICAgIF90aGlzLnN0YXJ0ID0gZWxlbWVudC5zdGFydDtcclxuICAgICAgICAgICAgX3RoaXMucmV2ZXJzZWQgPSB0eXBlb2YgZWxlbWVudC5yZXZlcnNlZCA9PT0gJ2Jvb2xlYW4nICYmIGVsZW1lbnQucmV2ZXJzZWQgPT09IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE9MRWxlbWVudENvbnRhaW5lcjtcclxuICAgIH0oRWxlbWVudENvbnRhaW5lcikpO1xuXG4gICAgdmFyIENIRUNLQk9YX0JPUkRFUl9SQURJVVMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiBUb2tlblR5cGUuRElNRU5TSU9OX1RPS0VOLFxyXG4gICAgICAgICAgICBmbGFnczogMCxcclxuICAgICAgICAgICAgdW5pdDogJ3B4JyxcclxuICAgICAgICAgICAgbnVtYmVyOiAzXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuICAgIHZhciBSQURJT19CT1JERVJfUkFESVVTID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTogVG9rZW5UeXBlLlBFUkNFTlRBR0VfVE9LRU4sXHJcbiAgICAgICAgICAgIGZsYWdzOiAwLFxyXG4gICAgICAgICAgICBudW1iZXI6IDUwXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuICAgIHZhciByZWZvcm1hdElucHV0Qm91bmRzID0gZnVuY3Rpb24gKGJvdW5kcykge1xyXG4gICAgICAgIGlmIChib3VuZHMud2lkdGggPiBib3VuZHMuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQm91bmRzKGJvdW5kcy5sZWZ0ICsgKGJvdW5kcy53aWR0aCAtIGJvdW5kcy5oZWlnaHQpIC8gMiwgYm91bmRzLnRvcCwgYm91bmRzLmhlaWdodCwgYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGJvdW5kcy53aWR0aCA8IGJvdW5kcy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCb3VuZHMoYm91bmRzLmxlZnQsIGJvdW5kcy50b3AgKyAoYm91bmRzLmhlaWdodCAtIGJvdW5kcy53aWR0aCkgLyAyLCBib3VuZHMud2lkdGgsIGJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBib3VuZHM7XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldElucHV0VmFsdWUgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IG5vZGUudHlwZSA9PT0gUEFTU1dPUkQgPyBuZXcgQXJyYXkobm9kZS52YWx1ZS5sZW5ndGggKyAxKS5qb2luKCdcXHUyMDIyJykgOiBub2RlLnZhbHVlO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPT09IDAgPyBub2RlLnBsYWNlaG9sZGVyIHx8ICcnIDogdmFsdWU7XHJcbiAgICB9O1xyXG4gICAgdmFyIENIRUNLQk9YID0gJ2NoZWNrYm94JztcclxuICAgIHZhciBSQURJTyA9ICdyYWRpbyc7XHJcbiAgICB2YXIgUEFTU1dPUkQgPSAncGFzc3dvcmQnO1xyXG4gICAgdmFyIElOUFVUX0NPTE9SID0gMHgyYTJhMmFmZjtcclxuICAgIHZhciBJbnB1dEVsZW1lbnRDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKElucHV0RWxlbWVudENvbnRhaW5lciwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBJbnB1dEVsZW1lbnRDb250YWluZXIoaW5wdXQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaW5wdXQpIHx8IHRoaXM7XHJcbiAgICAgICAgICAgIF90aGlzLnR5cGUgPSBpbnB1dC50eXBlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNoZWNrZWQgPSBpbnB1dC5jaGVja2VkO1xyXG4gICAgICAgICAgICBfdGhpcy52YWx1ZSA9IGdldElucHV0VmFsdWUoaW5wdXQpO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMudHlwZSA9PT0gQ0hFQ0tCT1ggfHwgX3RoaXMudHlwZSA9PT0gUkFESU8pIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IgPSAweGRlZGVkZWZmO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc3R5bGVzLmJvcmRlclRvcENvbG9yID0gX3RoaXMuc3R5bGVzLmJvcmRlclJpZ2h0Q29sb3IgPSBfdGhpcy5zdHlsZXMuYm9yZGVyQm90dG9tQ29sb3IgPSBfdGhpcy5zdHlsZXMuYm9yZGVyTGVmdENvbG9yID0gMHhhNWE1YTVmZjtcclxuICAgICAgICAgICAgICAgIF90aGlzLnN0eWxlcy5ib3JkZXJUb3BXaWR0aCA9IF90aGlzLnN0eWxlcy5ib3JkZXJSaWdodFdpZHRoID0gX3RoaXMuc3R5bGVzLmJvcmRlckJvdHRvbVdpZHRoID0gX3RoaXMuc3R5bGVzLmJvcmRlckxlZnRXaWR0aCA9IDE7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zdHlsZXMuYm9yZGVyVG9wU3R5bGUgPSBfdGhpcy5zdHlsZXMuYm9yZGVyUmlnaHRTdHlsZSA9IF90aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21TdHlsZSA9IF90aGlzLnN0eWxlcy5ib3JkZXJMZWZ0U3R5bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIEJPUkRFUl9TVFlMRS5TT0xJRDtcclxuICAgICAgICAgICAgICAgIF90aGlzLnN0eWxlcy5iYWNrZ3JvdW5kQ2xpcCA9IFtCQUNLR1JPVU5EX0NMSVAuQk9SREVSX0JPWF07XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zdHlsZXMuYmFja2dyb3VuZE9yaWdpbiA9IFswIC8qIEJPUkRFUl9CT1ggKi9dO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuYm91bmRzID0gcmVmb3JtYXRJbnB1dEJvdW5kcyhfdGhpcy5ib3VuZHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX3RoaXMudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDSEVDS0JPWDpcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdHlsZXMuYm9yZGVyVG9wUmlnaHRSYWRpdXMgPSBfdGhpcy5zdHlsZXMuYm9yZGVyVG9wTGVmdFJhZGl1cyA9IF90aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21SaWdodFJhZGl1cyA9IF90aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21MZWZ0UmFkaXVzID0gQ0hFQ0tCT1hfQk9SREVSX1JBRElVUztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgUkFESU86XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3R5bGVzLmJvcmRlclRvcFJpZ2h0UmFkaXVzID0gX3RoaXMuc3R5bGVzLmJvcmRlclRvcExlZnRSYWRpdXMgPSBfdGhpcy5zdHlsZXMuYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMgPSBfdGhpcy5zdHlsZXMuYm9yZGVyQm90dG9tTGVmdFJhZGl1cyA9IFJBRElPX0JPUkRFUl9SQURJVVM7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gSW5wdXRFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgfShFbGVtZW50Q29udGFpbmVyKSk7XG5cbiAgICB2YXIgU2VsZWN0RWxlbWVudENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoU2VsZWN0RWxlbWVudENvbnRhaW5lciwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBTZWxlY3RFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZWxlbWVudCkgfHwgdGhpcztcclxuICAgICAgICAgICAgdmFyIG9wdGlvbiA9IGVsZW1lbnQub3B0aW9uc1tlbGVtZW50LnNlbGVjdGVkSW5kZXggfHwgMF07XHJcbiAgICAgICAgICAgIF90aGlzLnZhbHVlID0gb3B0aW9uID8gb3B0aW9uLnRleHQgfHwgJycgOiAnJztcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gU2VsZWN0RWxlbWVudENvbnRhaW5lcjtcclxuICAgIH0oRWxlbWVudENvbnRhaW5lcikpO1xuXG4gICAgdmFyIFRleHRhcmVhRWxlbWVudENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoVGV4dGFyZWFFbGVtZW50Q29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFRleHRhcmVhRWxlbWVudENvbnRhaW5lcihlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVsZW1lbnQpIHx8IHRoaXM7XHJcbiAgICAgICAgICAgIF90aGlzLnZhbHVlID0gZWxlbWVudC52YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gVGV4dGFyZWFFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgfShFbGVtZW50Q29udGFpbmVyKSk7XG5cbiAgICB2YXIgcGFyc2VDb2xvciA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gY29sb3IucGFyc2UoUGFyc2VyLmNyZWF0ZSh2YWx1ZSkucGFyc2VDb21wb25lbnRWYWx1ZSgpKTsgfTtcclxuICAgIHZhciBJRnJhbWVFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhJRnJhbWVFbGVtZW50Q29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIElGcmFtZUVsZW1lbnRDb250YWluZXIoaWZyYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGlmcmFtZSkgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMuc3JjID0gaWZyYW1lLnNyYztcclxuICAgICAgICAgICAgX3RoaXMud2lkdGggPSBwYXJzZUludChpZnJhbWUud2lkdGgsIDEwKSB8fCAwO1xyXG4gICAgICAgICAgICBfdGhpcy5oZWlnaHQgPSBwYXJzZUludChpZnJhbWUuaGVpZ2h0LCAxMCkgfHwgMDtcclxuICAgICAgICAgICAgX3RoaXMuYmFja2dyb3VuZENvbG9yID0gX3RoaXMuc3R5bGVzLmJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChpZnJhbWUuY29udGVudFdpbmRvdyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJlZSA9IHBhcnNlVHJlZShpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtYmFja2dyb3VuZC8jc3BlY2lhbC1iYWNrZ3JvdW5kc1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkb2N1bWVudEJhY2tncm91bmRDb2xvciA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlQ29sb3IoZ2V0Q29tcHV0ZWRTdHlsZShpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IENPTE9SUy5UUkFOU1BBUkVOVDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYm9keUJhY2tncm91bmRDb2xvciA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LmJvZHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUNvbG9yKGdldENvbXB1dGVkU3R5bGUoaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keSkuYmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IENPTE9SUy5UUkFOU1BBUkVOVDtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBpc1RyYW5zcGFyZW50KGRvY3VtZW50QmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGlzVHJhbnNwYXJlbnQoYm9keUJhY2tncm91bmRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gX3RoaXMuc3R5bGVzLmJhY2tncm91bmRDb2xvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBib2R5QmFja2dyb3VuZENvbG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jdW1lbnRCYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBJRnJhbWVFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgfShFbGVtZW50Q29udGFpbmVyKSk7XG5cbiAgICB2YXIgTElTVF9PV05FUlMgPSBbJ09MJywgJ1VMJywgJ01FTlUnXTtcclxuICAgIHZhciBwYXJzZU5vZGVUcmVlID0gZnVuY3Rpb24gKG5vZGUsIHBhcmVudCwgcm9vdCkge1xyXG4gICAgICAgIGZvciAodmFyIGNoaWxkTm9kZSA9IG5vZGUuZmlyc3RDaGlsZCwgbmV4dE5vZGUgPSB2b2lkIDA7IGNoaWxkTm9kZTsgY2hpbGROb2RlID0gbmV4dE5vZGUpIHtcclxuICAgICAgICAgICAgbmV4dE5vZGUgPSBjaGlsZE5vZGUubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgIGlmIChpc1RleHROb2RlKGNoaWxkTm9kZSkgJiYgY2hpbGROb2RlLmRhdGEudHJpbSgpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudC50ZXh0Tm9kZXMucHVzaChuZXcgVGV4dENvbnRhaW5lcihjaGlsZE5vZGUsIHBhcmVudC5zdHlsZXMpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0VsZW1lbnROb2RlKGNoaWxkTm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBjcmVhdGVDb250YWluZXIoY2hpbGROb2RlKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIuc3R5bGVzLmlzVmlzaWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZXNSZWFsU3RhY2tpbmdDb250ZXh0KGNoaWxkTm9kZSwgY29udGFpbmVyLCByb290KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZmxhZ3MgfD0gNCAvKiBDUkVBVEVTX1JFQUxfU1RBQ0tJTkdfQ09OVEVYVCAqLztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY3JlYXRlc1N0YWNraW5nQ29udGV4dChjb250YWluZXIuc3R5bGVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZmxhZ3MgfD0gMiAvKiBDUkVBVEVTX1NUQUNLSU5HX0NPTlRFWFQgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChMSVNUX09XTkVSUy5pbmRleE9mKGNoaWxkTm9kZS50YWdOYW1lKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmZsYWdzIHw9IDggLyogSVNfTElTVF9PV05FUiAqLztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmVsZW1lbnRzLnB1c2goY29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVGV4dGFyZWFFbGVtZW50KGNoaWxkTm9kZSkgJiYgIWlzU1ZHRWxlbWVudChjaGlsZE5vZGUpICYmICFpc1NlbGVjdEVsZW1lbnQoY2hpbGROb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZU5vZGVUcmVlKGNoaWxkTm9kZSwgY29udGFpbmVyLCByb290KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGNyZWF0ZUNvbnRhaW5lciA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKGlzSW1hZ2VFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW1hZ2VFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNDYW52YXNFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2FudmFzRWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzU1ZHRWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNWR0VsZW1lbnRDb250YWluZXIoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0xJRWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IExJRWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzT0xFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgT0xFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNJbnB1dEVsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnB1dEVsZW1lbnRDb250YWluZXIoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1NlbGVjdEVsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3RFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNUZXh0YXJlYUVsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0YXJlYUVsZW1lbnRDb250YWluZXIoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0lGcmFtZUVsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJRnJhbWVFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IEVsZW1lbnRDb250YWluZXIoZWxlbWVudCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIHBhcnNlVHJlZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNyZWF0ZUNvbnRhaW5lcihlbGVtZW50KTtcclxuICAgICAgICBjb250YWluZXIuZmxhZ3MgfD0gNCAvKiBDUkVBVEVTX1JFQUxfU1RBQ0tJTkdfQ09OVEVYVCAqLztcclxuICAgICAgICBwYXJzZU5vZGVUcmVlKGVsZW1lbnQsIGNvbnRhaW5lciwgY29udGFpbmVyKTtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfTtcclxuICAgIHZhciBjcmVhdGVzUmVhbFN0YWNraW5nQ29udGV4dCA9IGZ1bmN0aW9uIChub2RlLCBjb250YWluZXIsIHJvb3QpIHtcclxuICAgICAgICByZXR1cm4gKGNvbnRhaW5lci5zdHlsZXMuaXNQb3NpdGlvbmVkV2l0aFpJbmRleCgpIHx8XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZXMub3BhY2l0eSA8IDEgfHxcclxuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlcy5pc1RyYW5zZm9ybWVkKCkgfHxcclxuICAgICAgICAgICAgKGlzQm9keUVsZW1lbnQobm9kZSkgJiYgcm9vdC5zdHlsZXMuaXNUcmFuc3BhcmVudCgpKSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNyZWF0ZXNTdGFja2luZ0NvbnRleHQgPSBmdW5jdGlvbiAoc3R5bGVzKSB7IHJldHVybiBzdHlsZXMuaXNQb3NpdGlvbmVkKCkgfHwgc3R5bGVzLmlzRmxvYXRpbmcoKTsgfTtcclxuICAgIHZhciBpc1RleHROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFOyB9O1xyXG4gICAgdmFyIGlzRWxlbWVudE5vZGUgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREU7IH07XHJcbiAgICB2YXIgaXNIVE1MRWxlbWVudE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2Ygbm9kZS5zdHlsZSAhPT0gJ3VuZGVmaW5lZCc7XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzTElFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ0xJJzsgfTtcclxuICAgIHZhciBpc09MRWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdPTCc7IH07XHJcbiAgICB2YXIgaXNJbnB1dEVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnSU5QVVQnOyB9O1xyXG4gICAgdmFyIGlzSFRNTEVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnSFRNTCc7IH07XHJcbiAgICB2YXIgaXNTVkdFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ3N2Zyc7IH07XHJcbiAgICB2YXIgaXNCb2R5RWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdCT0RZJzsgfTtcclxuICAgIHZhciBpc0NhbnZhc0VsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnQ0FOVkFTJzsgfTtcclxuICAgIHZhciBpc0ltYWdlRWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdJTUcnOyB9O1xyXG4gICAgdmFyIGlzSUZyYW1lRWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdJRlJBTUUnOyB9O1xyXG4gICAgdmFyIGlzU3R5bGVFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ1NUWUxFJzsgfTtcclxuICAgIHZhciBpc1NjcmlwdEVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnU0NSSVBUJzsgfTtcclxuICAgIHZhciBpc1RleHRhcmVhRWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdURVhUQVJFQSc7IH07XHJcbiAgICB2YXIgaXNTZWxlY3RFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ1NFTEVDVCc7IH07XG5cbiAgICB2YXIgQ291bnRlclN0YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIENvdW50ZXJTdGF0ZSgpIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VudGVycyA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBDb3VudGVyU3RhdGUucHJvdG90eXBlLmdldENvdW50ZXJWYWx1ZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBjb3VudGVyID0gdGhpcy5jb3VudGVyc1tuYW1lXTtcclxuICAgICAgICAgICAgaWYgKGNvdW50ZXIgJiYgY291bnRlci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb3VudGVyW2NvdW50ZXIubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDb3VudGVyU3RhdGUucHJvdG90eXBlLmdldENvdW50ZXJWYWx1ZXMgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICB2YXIgY291bnRlciA9IHRoaXMuY291bnRlcnNbbmFtZV07XHJcbiAgICAgICAgICAgIHJldHVybiBjb3VudGVyID8gY291bnRlciA6IFtdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ291bnRlclN0YXRlLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoY291bnRlcnMpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgY291bnRlcnMuZm9yRWFjaChmdW5jdGlvbiAoY291bnRlcikgeyByZXR1cm4gX3RoaXMuY291bnRlcnNbY291bnRlcl0ucG9wKCk7IH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ291bnRlclN0YXRlLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChzdHlsZSkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgY291bnRlckluY3JlbWVudCA9IHN0eWxlLmNvdW50ZXJJbmNyZW1lbnQ7XHJcbiAgICAgICAgICAgIHZhciBjb3VudGVyUmVzZXQgPSBzdHlsZS5jb3VudGVyUmVzZXQ7XHJcbiAgICAgICAgICAgIHZhciBjYW5SZXNldCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChjb3VudGVySW5jcmVtZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb3VudGVySW5jcmVtZW50LmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBfdGhpcy5jb3VudGVyc1tlbnRyeS5jb3VudGVyXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRlciAmJiBlbnRyeS5pbmNyZW1lbnQgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuUmVzZXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlcltNYXRoLm1heCgwLCBjb3VudGVyLmxlbmd0aCAtIDEpXSArPSBlbnRyeS5pbmNyZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGNvdW50ZXJOYW1lcyA9IFtdO1xyXG4gICAgICAgICAgICBpZiAoY2FuUmVzZXQpIHtcclxuICAgICAgICAgICAgICAgIGNvdW50ZXJSZXNldC5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudGVyID0gX3RoaXMuY291bnRlcnNbZW50cnkuY291bnRlcl07XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnRlck5hbWVzLnB1c2goZW50cnkuY291bnRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb3VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ZXIgPSBfdGhpcy5jb3VudGVyc1tlbnRyeS5jb3VudGVyXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb3VudGVyLnB1c2goZW50cnkucmVzZXQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvdW50ZXJOYW1lcztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBDb3VudGVyU3RhdGU7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIFJPTUFOX1VQUEVSID0ge1xyXG4gICAgICAgIGludGVnZXJzOiBbMTAwMCwgOTAwLCA1MDAsIDQwMCwgMTAwLCA5MCwgNTAsIDQwLCAxMCwgOSwgNSwgNCwgMV0sXHJcbiAgICAgICAgdmFsdWVzOiBbJ00nLCAnQ00nLCAnRCcsICdDRCcsICdDJywgJ1hDJywgJ0wnLCAnWEwnLCAnWCcsICdJWCcsICdWJywgJ0lWJywgJ0knXVxyXG4gICAgfTtcclxuICAgIHZhciBBUk1FTklBTiA9IHtcclxuICAgICAgICBpbnRlZ2VyczogW1xyXG4gICAgICAgICAgICA5MDAwLFxyXG4gICAgICAgICAgICA4MDAwLFxyXG4gICAgICAgICAgICA3MDAwLFxyXG4gICAgICAgICAgICA2MDAwLFxyXG4gICAgICAgICAgICA1MDAwLFxyXG4gICAgICAgICAgICA0MDAwLFxyXG4gICAgICAgICAgICAzMDAwLFxyXG4gICAgICAgICAgICAyMDAwLFxyXG4gICAgICAgICAgICAxMDAwLFxyXG4gICAgICAgICAgICA5MDAsXHJcbiAgICAgICAgICAgIDgwMCxcclxuICAgICAgICAgICAgNzAwLFxyXG4gICAgICAgICAgICA2MDAsXHJcbiAgICAgICAgICAgIDUwMCxcclxuICAgICAgICAgICAgNDAwLFxyXG4gICAgICAgICAgICAzMDAsXHJcbiAgICAgICAgICAgIDIwMCxcclxuICAgICAgICAgICAgMTAwLFxyXG4gICAgICAgICAgICA5MCxcclxuICAgICAgICAgICAgODAsXHJcbiAgICAgICAgICAgIDcwLFxyXG4gICAgICAgICAgICA2MCxcclxuICAgICAgICAgICAgNTAsXHJcbiAgICAgICAgICAgIDQwLFxyXG4gICAgICAgICAgICAzMCxcclxuICAgICAgICAgICAgMjAsXHJcbiAgICAgICAgICAgIDEwLFxyXG4gICAgICAgICAgICA5LFxyXG4gICAgICAgICAgICA4LFxyXG4gICAgICAgICAgICA3LFxyXG4gICAgICAgICAgICA2LFxyXG4gICAgICAgICAgICA1LFxyXG4gICAgICAgICAgICA0LFxyXG4gICAgICAgICAgICAzLFxyXG4gICAgICAgICAgICAyLFxyXG4gICAgICAgICAgICAxXHJcbiAgICAgICAgXSxcclxuICAgICAgICB2YWx1ZXM6IFtcclxuICAgICAgICAgICAgJ9WUJyxcclxuICAgICAgICAgICAgJ9WTJyxcclxuICAgICAgICAgICAgJ9WSJyxcclxuICAgICAgICAgICAgJ9WRJyxcclxuICAgICAgICAgICAgJ9WQJyxcclxuICAgICAgICAgICAgJ9WPJyxcclxuICAgICAgICAgICAgJ9WOJyxcclxuICAgICAgICAgICAgJ9WNJyxcclxuICAgICAgICAgICAgJ9WMJyxcclxuICAgICAgICAgICAgJ9WLJyxcclxuICAgICAgICAgICAgJ9WKJyxcclxuICAgICAgICAgICAgJ9WJJyxcclxuICAgICAgICAgICAgJ9WIJyxcclxuICAgICAgICAgICAgJ9WHJyxcclxuICAgICAgICAgICAgJ9WGJyxcclxuICAgICAgICAgICAgJ9WFJyxcclxuICAgICAgICAgICAgJ9WEJyxcclxuICAgICAgICAgICAgJ9WDJyxcclxuICAgICAgICAgICAgJ9WCJyxcclxuICAgICAgICAgICAgJ9WBJyxcclxuICAgICAgICAgICAgJ9WAJyxcclxuICAgICAgICAgICAgJ9S/JyxcclxuICAgICAgICAgICAgJ9S+JyxcclxuICAgICAgICAgICAgJ9S9JyxcclxuICAgICAgICAgICAgJ9S8JyxcclxuICAgICAgICAgICAgJ9S7JyxcclxuICAgICAgICAgICAgJ9S6JyxcclxuICAgICAgICAgICAgJ9S5JyxcclxuICAgICAgICAgICAgJ9S4JyxcclxuICAgICAgICAgICAgJ9S3JyxcclxuICAgICAgICAgICAgJ9S2JyxcclxuICAgICAgICAgICAgJ9S1JyxcclxuICAgICAgICAgICAgJ9S0JyxcclxuICAgICAgICAgICAgJ9SzJyxcclxuICAgICAgICAgICAgJ9SyJyxcclxuICAgICAgICAgICAgJ9SxJ1xyXG4gICAgICAgIF1cclxuICAgIH07XHJcbiAgICB2YXIgSEVCUkVXID0ge1xyXG4gICAgICAgIGludGVnZXJzOiBbXHJcbiAgICAgICAgICAgIDEwMDAwLFxyXG4gICAgICAgICAgICA5MDAwLFxyXG4gICAgICAgICAgICA4MDAwLFxyXG4gICAgICAgICAgICA3MDAwLFxyXG4gICAgICAgICAgICA2MDAwLFxyXG4gICAgICAgICAgICA1MDAwLFxyXG4gICAgICAgICAgICA0MDAwLFxyXG4gICAgICAgICAgICAzMDAwLFxyXG4gICAgICAgICAgICAyMDAwLFxyXG4gICAgICAgICAgICAxMDAwLFxyXG4gICAgICAgICAgICA0MDAsXHJcbiAgICAgICAgICAgIDMwMCxcclxuICAgICAgICAgICAgMjAwLFxyXG4gICAgICAgICAgICAxMDAsXHJcbiAgICAgICAgICAgIDkwLFxyXG4gICAgICAgICAgICA4MCxcclxuICAgICAgICAgICAgNzAsXHJcbiAgICAgICAgICAgIDYwLFxyXG4gICAgICAgICAgICA1MCxcclxuICAgICAgICAgICAgNDAsXHJcbiAgICAgICAgICAgIDMwLFxyXG4gICAgICAgICAgICAyMCxcclxuICAgICAgICAgICAgMTksXHJcbiAgICAgICAgICAgIDE4LFxyXG4gICAgICAgICAgICAxNyxcclxuICAgICAgICAgICAgMTYsXHJcbiAgICAgICAgICAgIDE1LFxyXG4gICAgICAgICAgICAxMCxcclxuICAgICAgICAgICAgOSxcclxuICAgICAgICAgICAgOCxcclxuICAgICAgICAgICAgNyxcclxuICAgICAgICAgICAgNixcclxuICAgICAgICAgICAgNSxcclxuICAgICAgICAgICAgNCxcclxuICAgICAgICAgICAgMyxcclxuICAgICAgICAgICAgMixcclxuICAgICAgICAgICAgMVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgdmFsdWVzOiBbXHJcbiAgICAgICAgICAgICfXmdezJyxcclxuICAgICAgICAgICAgJ9eY17MnLFxyXG4gICAgICAgICAgICAn15fXsycsXHJcbiAgICAgICAgICAgICfXltezJyxcclxuICAgICAgICAgICAgJ9eV17MnLFxyXG4gICAgICAgICAgICAn15TXsycsXHJcbiAgICAgICAgICAgICfXk9ezJyxcclxuICAgICAgICAgICAgJ9eS17MnLFxyXG4gICAgICAgICAgICAn15HXsycsXHJcbiAgICAgICAgICAgICfXkNezJyxcclxuICAgICAgICAgICAgJ9eqJyxcclxuICAgICAgICAgICAgJ9epJyxcclxuICAgICAgICAgICAgJ9eoJyxcclxuICAgICAgICAgICAgJ9enJyxcclxuICAgICAgICAgICAgJ9emJyxcclxuICAgICAgICAgICAgJ9ekJyxcclxuICAgICAgICAgICAgJ9eiJyxcclxuICAgICAgICAgICAgJ9ehJyxcclxuICAgICAgICAgICAgJ9egJyxcclxuICAgICAgICAgICAgJ9eeJyxcclxuICAgICAgICAgICAgJ9ecJyxcclxuICAgICAgICAgICAgJ9ebJyxcclxuICAgICAgICAgICAgJ9eZ15gnLFxyXG4gICAgICAgICAgICAn15nXlycsXHJcbiAgICAgICAgICAgICfXmdeWJyxcclxuICAgICAgICAgICAgJ9eY15YnLFxyXG4gICAgICAgICAgICAn15jXlScsXHJcbiAgICAgICAgICAgICfXmScsXHJcbiAgICAgICAgICAgICfXmCcsXHJcbiAgICAgICAgICAgICfXlycsXHJcbiAgICAgICAgICAgICfXlicsXHJcbiAgICAgICAgICAgICfXlScsXHJcbiAgICAgICAgICAgICfXlCcsXHJcbiAgICAgICAgICAgICfXkycsXHJcbiAgICAgICAgICAgICfXkicsXHJcbiAgICAgICAgICAgICfXkScsXHJcbiAgICAgICAgICAgICfXkCdcclxuICAgICAgICBdXHJcbiAgICB9O1xyXG4gICAgdmFyIEdFT1JHSUFOID0ge1xyXG4gICAgICAgIGludGVnZXJzOiBbXHJcbiAgICAgICAgICAgIDEwMDAwLFxyXG4gICAgICAgICAgICA5MDAwLFxyXG4gICAgICAgICAgICA4MDAwLFxyXG4gICAgICAgICAgICA3MDAwLFxyXG4gICAgICAgICAgICA2MDAwLFxyXG4gICAgICAgICAgICA1MDAwLFxyXG4gICAgICAgICAgICA0MDAwLFxyXG4gICAgICAgICAgICAzMDAwLFxyXG4gICAgICAgICAgICAyMDAwLFxyXG4gICAgICAgICAgICAxMDAwLFxyXG4gICAgICAgICAgICA5MDAsXHJcbiAgICAgICAgICAgIDgwMCxcclxuICAgICAgICAgICAgNzAwLFxyXG4gICAgICAgICAgICA2MDAsXHJcbiAgICAgICAgICAgIDUwMCxcclxuICAgICAgICAgICAgNDAwLFxyXG4gICAgICAgICAgICAzMDAsXHJcbiAgICAgICAgICAgIDIwMCxcclxuICAgICAgICAgICAgMTAwLFxyXG4gICAgICAgICAgICA5MCxcclxuICAgICAgICAgICAgODAsXHJcbiAgICAgICAgICAgIDcwLFxyXG4gICAgICAgICAgICA2MCxcclxuICAgICAgICAgICAgNTAsXHJcbiAgICAgICAgICAgIDQwLFxyXG4gICAgICAgICAgICAzMCxcclxuICAgICAgICAgICAgMjAsXHJcbiAgICAgICAgICAgIDEwLFxyXG4gICAgICAgICAgICA5LFxyXG4gICAgICAgICAgICA4LFxyXG4gICAgICAgICAgICA3LFxyXG4gICAgICAgICAgICA2LFxyXG4gICAgICAgICAgICA1LFxyXG4gICAgICAgICAgICA0LFxyXG4gICAgICAgICAgICAzLFxyXG4gICAgICAgICAgICAyLFxyXG4gICAgICAgICAgICAxXHJcbiAgICAgICAgXSxcclxuICAgICAgICB2YWx1ZXM6IFtcclxuICAgICAgICAgICAgJ+GDtScsXHJcbiAgICAgICAgICAgICfhg7AnLFxyXG4gICAgICAgICAgICAn4YOvJyxcclxuICAgICAgICAgICAgJ+GDtCcsXHJcbiAgICAgICAgICAgICfhg64nLFxyXG4gICAgICAgICAgICAn4YOtJyxcclxuICAgICAgICAgICAgJ+GDrCcsXHJcbiAgICAgICAgICAgICfhg6snLFxyXG4gICAgICAgICAgICAn4YOqJyxcclxuICAgICAgICAgICAgJ+GDqScsXHJcbiAgICAgICAgICAgICfhg6gnLFxyXG4gICAgICAgICAgICAn4YOnJyxcclxuICAgICAgICAgICAgJ+GDpicsXHJcbiAgICAgICAgICAgICfhg6UnLFxyXG4gICAgICAgICAgICAn4YOkJyxcclxuICAgICAgICAgICAgJ+GDsycsXHJcbiAgICAgICAgICAgICfhg6InLFxyXG4gICAgICAgICAgICAn4YOhJyxcclxuICAgICAgICAgICAgJ+GDoCcsXHJcbiAgICAgICAgICAgICfhg58nLFxyXG4gICAgICAgICAgICAn4YOeJyxcclxuICAgICAgICAgICAgJ+GDnScsXHJcbiAgICAgICAgICAgICfhg7InLFxyXG4gICAgICAgICAgICAn4YOcJyxcclxuICAgICAgICAgICAgJ+GDmycsXHJcbiAgICAgICAgICAgICfhg5onLFxyXG4gICAgICAgICAgICAn4YOZJyxcclxuICAgICAgICAgICAgJ+GDmCcsXHJcbiAgICAgICAgICAgICfhg5cnLFxyXG4gICAgICAgICAgICAn4YOxJyxcclxuICAgICAgICAgICAgJ+GDlicsXHJcbiAgICAgICAgICAgICfhg5UnLFxyXG4gICAgICAgICAgICAn4YOUJyxcclxuICAgICAgICAgICAgJ+GDkycsXHJcbiAgICAgICAgICAgICfhg5InLFxyXG4gICAgICAgICAgICAn4YORJyxcclxuICAgICAgICAgICAgJ+GDkCdcclxuICAgICAgICBdXHJcbiAgICB9O1xyXG4gICAgdmFyIGNyZWF0ZUFkZGl0aXZlQ291bnRlciA9IGZ1bmN0aW9uICh2YWx1ZSwgbWluLCBtYXgsIHN5bWJvbHMsIGZhbGxiYWNrLCBzdWZmaXgpIHtcclxuICAgICAgICBpZiAodmFsdWUgPCBtaW4gfHwgdmFsdWUgPiBtYXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJUZXh0KHZhbHVlLCBmYWxsYmFjaywgc3VmZml4Lmxlbmd0aCA+IDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKHN5bWJvbHMuaW50ZWdlcnMucmVkdWNlKGZ1bmN0aW9uIChzdHJpbmcsIGludGVnZXIsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHdoaWxlICh2YWx1ZSA+PSBpbnRlZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSAtPSBpbnRlZ2VyO1xyXG4gICAgICAgICAgICAgICAgc3RyaW5nICs9IHN5bWJvbHMudmFsdWVzW2luZGV4XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xyXG4gICAgICAgIH0sICcnKSArIHN1ZmZpeCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNyZWF0ZUNvdW50ZXJTdHlsZVdpdGhTeW1ib2xSZXNvbHZlciA9IGZ1bmN0aW9uICh2YWx1ZSwgY29kZVBvaW50UmFuZ2VMZW5ndGgsIGlzTnVtZXJpYywgcmVzb2x2ZXIpIHtcclxuICAgICAgICB2YXIgc3RyaW5nID0gJyc7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICBpZiAoIWlzTnVtZXJpYykge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUtLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdHJpbmcgPSByZXNvbHZlcih2YWx1ZSkgKyBzdHJpbmc7XHJcbiAgICAgICAgICAgIHZhbHVlIC89IGNvZGVQb2ludFJhbmdlTGVuZ3RoO1xyXG4gICAgICAgIH0gd2hpbGUgKHZhbHVlICogY29kZVBvaW50UmFuZ2VMZW5ndGggPj0gY29kZVBvaW50UmFuZ2VMZW5ndGgpO1xyXG4gICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY29kZVBvaW50UmFuZ2VTdGFydCwgY29kZVBvaW50UmFuZ2VFbmQsIGlzTnVtZXJpYywgc3VmZml4KSB7XHJcbiAgICAgICAgdmFyIGNvZGVQb2ludFJhbmdlTGVuZ3RoID0gY29kZVBvaW50UmFuZ2VFbmQgLSBjb2RlUG9pbnRSYW5nZVN0YXJ0ICsgMTtcclxuICAgICAgICByZXR1cm4gKCh2YWx1ZSA8IDAgPyAnLScgOiAnJykgK1xyXG4gICAgICAgICAgICAoY3JlYXRlQ291bnRlclN0eWxlV2l0aFN5bWJvbFJlc29sdmVyKE1hdGguYWJzKHZhbHVlKSwgY29kZVBvaW50UmFuZ2VMZW5ndGgsIGlzTnVtZXJpYywgZnVuY3Rpb24gKGNvZGVQb2ludCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyb21Db2RlUG9pbnQoTWF0aC5mbG9vcihjb2RlUG9pbnQgJSBjb2RlUG9pbnRSYW5nZUxlbmd0aCkgKyBjb2RlUG9pbnRSYW5nZVN0YXJ0KTtcclxuICAgICAgICAgICAgfSkgK1xyXG4gICAgICAgICAgICAgICAgc3VmZml4KSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzID0gZnVuY3Rpb24gKHZhbHVlLCBzeW1ib2xzLCBzdWZmaXgpIHtcclxuICAgICAgICBpZiAoc3VmZml4ID09PSB2b2lkIDApIHsgc3VmZml4ID0gJy4gJzsgfVxyXG4gICAgICAgIHZhciBjb2RlUG9pbnRSYW5nZUxlbmd0aCA9IHN5bWJvbHMubGVuZ3RoO1xyXG4gICAgICAgIHJldHVybiAoY3JlYXRlQ291bnRlclN0eWxlV2l0aFN5bWJvbFJlc29sdmVyKE1hdGguYWJzKHZhbHVlKSwgY29kZVBvaW50UmFuZ2VMZW5ndGgsIGZhbHNlLCBmdW5jdGlvbiAoY29kZVBvaW50KSB7IHJldHVybiBzeW1ib2xzW01hdGguZmxvb3IoY29kZVBvaW50ICUgY29kZVBvaW50UmFuZ2VMZW5ndGgpXTsgfSkgKyBzdWZmaXgpO1xyXG4gICAgfTtcclxuICAgIHZhciBDSktfWkVST1MgPSAxIDw8IDA7XHJcbiAgICB2YXIgQ0pLX1RFTl9DT0VGRklDSUVOVFMgPSAxIDw8IDE7XHJcbiAgICB2YXIgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UUyA9IDEgPDwgMjtcclxuICAgIHZhciBDSktfSFVORFJFRF9DT0VGRklDSUVOVFMgPSAxIDw8IDM7XHJcbiAgICB2YXIgY3JlYXRlQ0pLQ291bnRlciA9IGZ1bmN0aW9uICh2YWx1ZSwgbnVtYmVycywgbXVsdGlwbGllcnMsIG5lZ2F0aXZlU2lnbiwgc3VmZml4LCBmbGFncykge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IC05OTk5IHx8IHZhbHVlID4gOTk5OSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclRleHQodmFsdWUsIExJU1RfU1RZTEVfVFlQRS5DSktfREVDSU1BTCwgc3VmZml4Lmxlbmd0aCA+IDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdG1wID0gTWF0aC5hYnModmFsdWUpO1xyXG4gICAgICAgIHZhciBzdHJpbmcgPSBzdWZmaXg7XHJcbiAgICAgICAgaWYgKHRtcCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVtYmVyc1swXSArIHN0cmluZztcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgZGlnaXQgPSAwOyB0bXAgPiAwICYmIGRpZ2l0IDw9IDQ7IGRpZ2l0KyspIHtcclxuICAgICAgICAgICAgdmFyIGNvZWZmaWNpZW50ID0gdG1wICUgMTA7XHJcbiAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCA9PT0gMCAmJiBjb250YWlucyhmbGFncywgQ0pLX1pFUk9TKSAmJiBzdHJpbmcgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgPSBudW1iZXJzW2NvZWZmaWNpZW50XSArIHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjb2VmZmljaWVudCA+IDEgfHxcclxuICAgICAgICAgICAgICAgIChjb2VmZmljaWVudCA9PT0gMSAmJiBkaWdpdCA9PT0gMCkgfHxcclxuICAgICAgICAgICAgICAgIChjb2VmZmljaWVudCA9PT0gMSAmJiBkaWdpdCA9PT0gMSAmJiBjb250YWlucyhmbGFncywgQ0pLX1RFTl9DT0VGRklDSUVOVFMpKSB8fFxyXG4gICAgICAgICAgICAgICAgKGNvZWZmaWNpZW50ID09PSAxICYmIGRpZ2l0ID09PSAxICYmIGNvbnRhaW5zKGZsYWdzLCBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTKSAmJiB2YWx1ZSA+IDEwMCkgfHxcclxuICAgICAgICAgICAgICAgIChjb2VmZmljaWVudCA9PT0gMSAmJiBkaWdpdCA+IDEgJiYgY29udGFpbnMoZmxhZ3MsIENKS19IVU5EUkVEX0NPRUZGSUNJRU5UUykpKSB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgPSBudW1iZXJzW2NvZWZmaWNpZW50XSArIChkaWdpdCA+IDAgPyBtdWx0aXBsaWVyc1tkaWdpdCAtIDFdIDogJycpICsgc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZWZmaWNpZW50ID09PSAxICYmIGRpZ2l0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgc3RyaW5nID0gbXVsdGlwbGllcnNbZGlnaXQgLSAxXSArIHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0bXAgPSBNYXRoLmZsb29yKHRtcCAvIDEwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICh2YWx1ZSA8IDAgPyBuZWdhdGl2ZVNpZ24gOiAnJykgKyBzdHJpbmc7XHJcbiAgICB9O1xyXG4gICAgdmFyIENISU5FU0VfSU5GT1JNQUxfTVVMVElQTElFUlMgPSAn5Y2B55m+5Y2D6JCsJztcclxuICAgIHZhciBDSElORVNFX0ZPUk1BTF9NVUxUSVBMSUVSUyA9ICfmi77kvbDku5/okKwnO1xyXG4gICAgdmFyIEpBUEFORVNFX05FR0FUSVZFID0gJ+ODnuOCpOODiuOCuSc7XHJcbiAgICB2YXIgS09SRUFOX05FR0FUSVZFID0gJ+uniOydtOuEiOyKpCc7XHJcbiAgICB2YXIgY3JlYXRlQ291bnRlclRleHQgPSBmdW5jdGlvbiAodmFsdWUsIHR5cGUsIGFwcGVuZFN1ZmZpeCkge1xyXG4gICAgICAgIHZhciBkZWZhdWx0U3VmZml4ID0gYXBwZW5kU3VmZml4ID8gJy4gJyA6ICcnO1xyXG4gICAgICAgIHZhciBjamtTdWZmaXggPSBhcHBlbmRTdWZmaXggPyAn44CBJyA6ICcnO1xyXG4gICAgICAgIHZhciBrb3JlYW5TdWZmaXggPSBhcHBlbmRTdWZmaXggPyAnLCAnIDogJyc7XHJcbiAgICAgICAgdmFyIHNwYWNlU3VmZml4ID0gYXBwZW5kU3VmZml4ID8gJyAnIDogJyc7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkRJU0M6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ+KAoicgKyBzcGFjZVN1ZmZpeDtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuQ0lSQ0xFOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICfil6YnICsgc3BhY2VTdWZmaXg7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlNRVUFSRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiAn4pe+JyArIHNwYWNlU3VmZml4O1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5ERUNJTUFMX0xFQURJTkdfWkVSTzpcclxuICAgICAgICAgICAgICAgIHZhciBzdHJpbmcgPSBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDQ4LCA1NywgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nLmxlbmd0aCA8IDQgPyBcIjBcIiArIHN0cmluZyA6IHN0cmluZztcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuQ0pLX0RFQ0lNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVN5bWJvbHModmFsdWUsICfjgIfkuIDkuozkuInlm5vkupTlha3kuIPlhavkuZ0nLCBjamtTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5MT1dFUl9ST01BTjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBZGRpdGl2ZUNvdW50ZXIodmFsdWUsIDEsIDM5OTksIFJPTUFOX1VQUEVSLCBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuVVBQRVJfUk9NQU46XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQWRkaXRpdmVDb3VudGVyKHZhbHVlLCAxLCAzOTk5LCBST01BTl9VUFBFUiwgTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUwsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5MT1dFUl9HUkVFSzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDk0NSwgOTY5LCBmYWxzZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkxPV0VSX0FMUEhBOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgOTcsIDEyMiwgZmFsc2UsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5VUFBFUl9BTFBIQTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDY1LCA5MCwgZmFsc2UsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5BUkFCSUNfSU5ESUM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAxNjMyLCAxNjQxLCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuQVJNRU5JQU46XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlVQUEVSX0FSTUVOSUFOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFkZGl0aXZlQ291bnRlcih2YWx1ZSwgMSwgOTk5OSwgQVJNRU5JQU4sIExJU1RfU1RZTEVfVFlQRS5ERUNJTUFMLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfQVJNRU5JQU46XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQWRkaXRpdmVDb3VudGVyKHZhbHVlLCAxLCA5OTk5LCBBUk1FTklBTiwgTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUwsIGRlZmF1bHRTdWZmaXgpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkJFTkdBTEk6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAyNTM0LCAyNTQzLCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuQ0FNQk9ESUFOOlxyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LSE1FUjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDYxMTIsIDYxMjEsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5DSktfRUFSVEhMWV9CUkFOQ0g6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVN5bWJvbHModmFsdWUsICflrZDkuJHlr4Xlja/ovrDlt7PljYjmnKrnlLPphYnmiIzkuqUnLCBjamtTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5DSktfSEVBVkVOTFlfU1RFTTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+eUsuS5meS4meS4geaIiuW3seW6mui+m+WjrOeZuCcsIGNqa1N1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkNKS19JREVPR1JBUEhJQzpcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuVFJBRF9DSElORVNFX0lORk9STUFMOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIodmFsdWUsICfpm7bkuIDkuozkuInlm5vkupTlha3kuIPlhavkuZ0nLCBDSElORVNFX0lORk9STUFMX01VTFRJUExJRVJTLCAn6LKgJywgY2prU3VmZml4LCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFMgfCBDSktfSFVORFJFRF9DT0VGRklDSUVOVFMpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5UUkFEX0NISU5FU0VfRk9STUFMOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIodmFsdWUsICfpm7blo7nosrPlj4PogobkvI3pmbjmn5LmjYznjpYnLCBDSElORVNFX0ZPUk1BTF9NVUxUSVBMSUVSUywgJ+iyoCcsIGNqa1N1ZmZpeCwgQ0pLX1pFUk9TIHwgQ0pLX1RFTl9DT0VGRklDSUVOVFMgfCBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTIHwgQ0pLX0hVTkRSRURfQ09FRkZJQ0lFTlRTKTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuU0lNUF9DSElORVNFX0lORk9STUFMOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIodmFsdWUsICfpm7bkuIDkuozkuInlm5vkupTlha3kuIPlhavkuZ0nLCBDSElORVNFX0lORk9STUFMX01VTFRJUExJRVJTLCAn6LSfJywgY2prU3VmZml4LCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFMgfCBDSktfSFVORFJFRF9DT0VGRklDSUVOVFMpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5TSU1QX0NISU5FU0VfRk9STUFMOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIodmFsdWUsICfpm7blo7notLDlj4HogobkvI3pmYbmn5LmjYznjpYnLCBDSElORVNFX0ZPUk1BTF9NVUxUSVBMSUVSUywgJ+i0nycsIGNqa1N1ZmZpeCwgQ0pLX1pFUk9TIHwgQ0pLX1RFTl9DT0VGRklDSUVOVFMgfCBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTIHwgQ0pLX0hVTkRSRURfQ09FRkZJQ0lFTlRTKTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuSkFQQU5FU0VfSU5GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+OAh+S4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsICfljYHnmb7ljYPkuIcnLCBKQVBBTkVTRV9ORUdBVElWRSwgY2prU3VmZml4LCAwKTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuSkFQQU5FU0VfRk9STUFMOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIodmFsdWUsICfpm7blo7HlvJDlj4Llm5vkvI3lha3kuIPlhavkuZ0nLCAn5ou+55m+5Y2D5LiHJywgSkFQQU5FU0VfTkVHQVRJVkUsIGNqa1N1ZmZpeCwgQ0pLX1pFUk9TIHwgQ0pLX1RFTl9DT0VGRklDSUVOVFMgfCBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTKTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuS09SRUFOX0hBTkdVTF9GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+yYgeydvOydtOyCvOyCrOyYpOycoey5oO2MlOq1rCcsICfsi63rsLHsspzrp4wnLCBLT1JFQU5fTkVHQVRJVkUsIGtvcmVhblN1ZmZpeCwgQ0pLX1pFUk9TIHwgQ0pLX1RFTl9DT0VGRklDSUVOVFMgfCBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTKTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuS09SRUFOX0hBTkpBX0lORk9STUFMOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIodmFsdWUsICfpm7bkuIDkuozkuInlm5vkupTlha3kuIPlhavkuZ0nLCAn5Y2B55m+5Y2D6JCsJywgS09SRUFOX05FR0FUSVZFLCBrb3JlYW5TdWZmaXgsIDApO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOSkFfRk9STUFMOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIodmFsdWUsICfpm7blo7nosrPlj4Plm5vkupTlha3kuIPlhavkuZ0nLCAn5ou+55m+5Y2DJywgS09SRUFOX05FR0FUSVZFLCBrb3JlYW5TdWZmaXgsIENKS19aRVJPUyB8IENKS19URU5fQ09FRkZJQ0lFTlRTIHwgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UUyk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkRFVkFOQUdBUkk6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweDk2NiwgMHg5NmYsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5HRU9SR0lBTjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBZGRpdGl2ZUNvdW50ZXIodmFsdWUsIDEsIDE5OTk5LCBHRU9SR0lBTiwgTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUwsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5HVUpBUkFUSTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4YWU2LCAweGFlZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkdVUk1VS0hJOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhhNjYsIDB4YTZmLCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuSEVCUkVXOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFkZGl0aXZlQ291bnRlcih2YWx1ZSwgMSwgMTA5OTksIEhFQlJFVywgTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUwsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5ISVJBR0FOQTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+OBguOBhOOBhuOBiOOBiuOBi+OBjeOBj+OBkeOBk+OBleOBl+OBmeOBm+OBneOBn+OBoeOBpOOBpuOBqOOBquOBq+OBrOOBreOBruOBr+OBsuOBteOBuOOBu+OBvuOBv+OCgOOCgeOCguOChOOChuOCiOOCieOCiuOCi+OCjOOCjeOCj+OCkOOCkeOCkuOCkycpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5ISVJBR0FOQV9JUk9IQTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+OBhOOCjeOBr+OBq+OBu+OBuOOBqOOBoeOCiuOBrOOCi+OCkuOCj+OBi+OCiOOBn+OCjOOBneOBpOOBreOBquOCieOCgOOBhuOCkOOBruOBiuOBj+OChOOBvuOBkeOBteOBk+OBiOOBpuOBguOBleOBjeOChuOCgeOBv+OBl+OCkeOBsuOCguOBm+OBmScpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LQU5OQURBOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhjZTYsIDB4Y2VmLCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuS0FUQUtBTkE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVN5bWJvbHModmFsdWUsICfjgqLjgqTjgqbjgqjjgqrjgqvjgq3jgq/jgrHjgrPjgrXjgrfjgrnjgrvjgr3jgr/jg4Hjg4Tjg4bjg4jjg4rjg4vjg4zjg43jg47jg4/jg5Ljg5Xjg5jjg5vjg57jg5/jg6Djg6Hjg6Ljg6Tjg6bjg6jjg6njg6rjg6vjg6zjg63jg6/jg7Djg7Hjg7Ljg7MnLCBjamtTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LQVRBS0FOQV9JUk9IQTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+OCpOODreODj+ODi+ODm+ODmOODiOODgeODquODjOODq+ODsuODr+OCq+ODqOOCv+ODrOOCveODhOODjeODiuODqeODoOOCpuODsOODjuOCquOCr+ODpOODnuOCseODleOCs+OCqOODhuOCouOCteOCreODpuODoeODn+OCt+ODseODkuODouOCu+OCuScsIGNqa1N1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkxBTzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4ZWQwLCAweGVkOSwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLk1PTkdPTElBTjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4MTgxMCwgMHgxODE5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuTVlBTk1BUjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4MTA0MCwgMHgxMDQ5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuT1JJWUE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGI2NiwgMHhiNmYsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5QRVJTSUFOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHg2ZjAsIDB4NmY5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuVEFNSUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGJlNiwgMHhiZWYsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5URUxVR1U6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGM2NiwgMHhjNmYsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5USEFJOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhlNTAsIDB4ZTU5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuVElCRVRBTjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4ZjIwLCAweGYyOSwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUw6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCA0OCwgNTcsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgSUdOT1JFX0FUVFJJQlVURSA9ICdkYXRhLWh0bWwyY2FudmFzLWlnbm9yZSc7XHJcbiAgICB2YXIgRG9jdW1lbnRDbG9uZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gRG9jdW1lbnRDbG9uZXIoZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVkRWxlbWVudHMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2VFbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICAgICAgdGhpcy5jb3VudGVycyA9IG5ldyBDb3VudGVyU3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5xdW90ZURlcHRoID0gMDtcclxuICAgICAgICAgICAgaWYgKCFlbGVtZW50Lm93bmVyRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2xvbmVkIGVsZW1lbnQgZG9lcyBub3QgaGF2ZSBhbiBvd25lciBkb2N1bWVudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRFbGVtZW50ID0gdGhpcy5jbG9uZU5vZGUoZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIERvY3VtZW50Q2xvbmVyLnByb3RvdHlwZS50b0lGcmFtZSA9IGZ1bmN0aW9uIChvd25lckRvY3VtZW50LCB3aW5kb3dTaXplKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBpZnJhbWUgPSBjcmVhdGVJRnJhbWVDb250YWluZXIob3duZXJEb2N1bWVudCwgd2luZG93U2l6ZSk7XHJcbiAgICAgICAgICAgIGlmICghaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIlVuYWJsZSB0byBmaW5kIGlmcmFtZSB3aW5kb3dcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHNjcm9sbFggPSBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnBhZ2VYT2Zmc2V0O1xyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsWSA9IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcucGFnZVlPZmZzZXQ7XHJcbiAgICAgICAgICAgIHZhciBjbG9uZVdpbmRvdyA9IGlmcmFtZS5jb250ZW50V2luZG93O1xyXG4gICAgICAgICAgICB2YXIgZG9jdW1lbnRDbG9uZSA9IGNsb25lV2luZG93LmRvY3VtZW50O1xyXG4gICAgICAgICAgICAvKiBDaHJvbWUgZG9lc24ndCBkZXRlY3QgcmVsYXRpdmUgYmFja2dyb3VuZC1pbWFnZXMgYXNzaWduZWQgaW4gaW5saW5lIDxzdHlsZT4gc2hlZXRzIHdoZW4gZmV0Y2hlZCB0aHJvdWdoIGdldENvbXB1dGVkU3R5bGVcclxuICAgICAgICAgICAgIGlmIHdpbmRvdyB1cmwgaXMgYWJvdXQ6YmxhbmssIHdlIGNhbiBhc3NpZ24gdGhlIHVybCB0byBjdXJyZW50IGJ5IHdyaXRpbmcgb250byB0aGUgZG9jdW1lbnRcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHZhciBpZnJhbWVMb2FkID0gaWZyYW1lTG9hZGVyKGlmcmFtZSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb25jbG9uZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsZWRFbGVtZW50cy5mb3JFYWNoKHJlc3RvcmVOb2RlU2Nyb2xsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbG9uZVdpbmRvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lV2luZG93LnNjcm9sbFRvKHdpbmRvd1NpemUubGVmdCwgd2luZG93U2l6ZS50b3ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvKGlQYWR8aVBob25lfGlQb2QpL2cudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xvbmVXaW5kb3cuc2Nyb2xsWSAhPT0gd2luZG93U2l6ZS50b3AgfHwgY2xvbmVXaW5kb3cuc2Nyb2xsWCAhPT0gd2luZG93U2l6ZS5sZWZ0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudENsb25lLmRvY3VtZW50RWxlbWVudC5zdHlsZS50b3AgPSAtd2luZG93U2l6ZS50b3AgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudENsb25lLmRvY3VtZW50RWxlbWVudC5zdHlsZS5sZWZ0ID0gLXdpbmRvd1NpemUubGVmdCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Q2xvbmUuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsb25lID0gdGhpcy5vcHRpb25zLm9uY2xvbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuY2xvbmVkUmVmZXJlbmNlRWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZWplY3QoXCJFcnJvciBmaW5kaW5nIHRoZSBcIiArIHRoaXMucmVmZXJlbmNlRWxlbWVudC5ub2RlTmFtZSArIFwiIGluIHRoZSBjbG9uZWQgZG9jdW1lbnRcIildO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZG9jdW1lbnRDbG9uZS5mb250cyAmJiBkb2N1bWVudENsb25lLmZvbnRzLnJlYWR5KSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBkb2N1bWVudENsb25lLmZvbnRzLnJlYWR5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9uY2xvbmUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZXNvbHZlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9uY2xvbmUoZG9jdW1lbnRDbG9uZSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBpZnJhbWU7IH0pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBpZnJhbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTsgfSk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50Q2xvbmUub3BlbigpO1xyXG4gICAgICAgICAgICBkb2N1bWVudENsb25lLndyaXRlKHNlcmlhbGl6ZURvY3R5cGUoZG9jdW1lbnQuZG9jdHlwZSkgKyBcIjxodG1sPjwvaHRtbD5cIik7XHJcbiAgICAgICAgICAgIC8vIENocm9tZSBzY3JvbGxzIHRoZSBwYXJlbnQgZG9jdW1lbnQgZm9yIHNvbWUgcmVhc29uIGFmdGVyIHRoZSB3cml0ZSB0byB0aGUgY2xvbmVkIHdpbmRvdz8/P1xyXG4gICAgICAgICAgICByZXN0b3JlT3duZXJTY3JvbGwodGhpcy5yZWZlcmVuY2VFbGVtZW50Lm93bmVyRG9jdW1lbnQsIHNjcm9sbFgsIHNjcm9sbFkpO1xyXG4gICAgICAgICAgICBkb2N1bWVudENsb25lLnJlcGxhY2VDaGlsZChkb2N1bWVudENsb25lLmFkb3B0Tm9kZSh0aGlzLmRvY3VtZW50RWxlbWVudCksIGRvY3VtZW50Q2xvbmUuZG9jdW1lbnRFbGVtZW50KTtcclxuICAgICAgICAgICAgZG9jdW1lbnRDbG9uZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gaWZyYW1lTG9hZDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIERvY3VtZW50Q2xvbmVyLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50Q2xvbmUgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICBpZiAoaXNDYW52YXNFbGVtZW50KG5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVDYW52YXNDbG9uZShub2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICBpZiAoaXNJRnJhbWVFbGVtZW50KG5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVJRnJhbWVDbG9uZShub2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgKi9cclxuICAgICAgICAgICAgaWYgKGlzU3R5bGVFbGVtZW50KG5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVTdHlsZUNsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBub2RlLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBEb2N1bWVudENsb25lci5wcm90b3R5cGUuY3JlYXRlU3R5bGVDbG9uZSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2hlZXQgPSBub2RlLnNoZWV0O1xyXG4gICAgICAgICAgICAgICAgaWYgKHNoZWV0ICYmIHNoZWV0LmNzc1J1bGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNzcyA9IFtdLnNsaWNlLmNhbGwoc2hlZXQuY3NzUnVsZXMsIDApLnJlZHVjZShmdW5jdGlvbiAoY3NzLCBydWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydWxlICYmIHR5cGVvZiBydWxlLmNzc1RleHQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3NzICsgcnVsZS5jc3NUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IG5vZGUuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGNzcztcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFjY2Vzc2luZyBub2RlLnNoZWV0LmNzc1J1bGVzIHRocm93cyBhIERPTUV4Y2VwdGlvblxyXG4gICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKHRoaXMub3B0aW9ucy5pZCkuZXJyb3IoJ1VuYWJsZSB0byBhY2Nlc3MgY3NzUnVsZXMgcHJvcGVydHknLCBlKTtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWUgIT09ICdTZWN1cml0eUVycm9yJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIERvY3VtZW50Q2xvbmVyLnByb3RvdHlwZS5jcmVhdGVDYW52YXNDbG9uZSA9IGZ1bmN0aW9uIChjYW52YXMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmxpbmVJbWFnZXMgJiYgY2FudmFzLm93bmVyRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWcgPSBjYW52YXMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IGNhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW1nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpcy5vcHRpb25zLmlkKS5pbmZvKFwiVW5hYmxlIHRvIGNsb25lIGNhbnZhcyBjb250ZW50cywgY2FudmFzIGlzIHRhaW50ZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGNsb25lZENhbnZhcyA9IGNhbnZhcy5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY2xvbmVkQ2FudmFzLndpZHRoID0gY2FudmFzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgY2xvbmVkQ2FudmFzLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2xvbmVkQ3R4ID0gY2xvbmVkQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xvbmVkQ3R4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN0eCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9uZWRDdHgucHV0SW1hZ2VEYXRhKGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9uZWRDdHguZHJhd0ltYWdlKGNhbnZhcywgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsb25lZENhbnZhcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgICAgIHJldHVybiBjbG9uZWRDYW52YXM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIGNyZWF0ZUlGcmFtZUNsb25lKGlmcmFtZTogSFRNTElGcmFtZUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgdGVtcElmcmFtZSA9IDxIVE1MSUZyYW1lRWxlbWVudD5pZnJhbWUuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICAgICAgY29uc3QgaWZyYW1lS2V5ID0gZ2VuZXJhdGVJZnJhbWVLZXkoKTtcclxuICAgICAgICAgICAgdGVtcElmcmFtZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaHRtbDJjYW52YXMtaW50ZXJuYWwtaWZyYW1lLWtleScsIGlmcmFtZUtleSk7XHJcblxuICAgICAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gcGFyc2VCb3VuZHMoaWZyYW1lKTtcclxuXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlTG9hZGVyLmNhY2hlW2lmcmFtZUtleV0gPSBnZXRJZnJhbWVEb2N1bWVudEVsZW1lbnQoaWZyYW1lLCB0aGlzLm9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAudGhlbihkb2N1bWVudEVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93VGFpbnQ6IHRoaXMub3B0aW9ucy5hbGxvd1RhaW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVRpbWVvdXQ6IHRoaXMub3B0aW9ucy5pbWFnZVRpbWVvdXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnaW5nOiB0aGlzLm9wdGlvbnMubG9nZ2luZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5OiB0aGlzLm9wdGlvbnMucHJveHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDb250YWluZXI6IHRoaXMub3B0aW9ucy5yZW1vdmVDb250YWluZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogdGhpcy5vcHRpb25zLnNjYWxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWlnbk9iamVjdFJlbmRlcmluZzogdGhpcy5vcHRpb25zLmZvcmVpZ25PYmplY3RSZW5kZXJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VDT1JTOiB0aGlzLm9wdGlvbnMudXNlQ09SUyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogbmV3IENhbnZhc1JlbmRlcmVyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93V2lkdGg6IGRvY3VtZW50RWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmlubmVyV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dIZWlnaHQ6IGRvY3VtZW50RWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWDogZG9jdW1lbnRFbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcucGFnZVhPZmZzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxZOiBkb2N1bWVudEVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5wYWdlWU9mZnNldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oXHJcbiAgICAgICAgICAgICAgICAgICAgKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlmcmFtZUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lQ2FudmFzLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoY2FudmFzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmcmFtZUNhbnZhcy5vbmVycm9yID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW1wdHkgaWZyYW1lcyBtYXkgcmVzdWx0IGluIGVtcHR5IFwiZGF0YTosXCIgVVJMcywgd2hpY2ggYXJlIGludmFsaWQgZnJvbSB0aGUgPGltZz4ncyBwb2ludCBvZiB2aWV3XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGluc3RlYWQgb2YgYG9ubG9hZGAgY2F1c2UgYG9uZXJyb3JgIGFuZCB1bmhhbmRsZWQgcmVqZWN0aW9uIHdhcm5pbmdzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2h0bWwyY2FudmFzL2lzc3Vlcy8xNTAyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lQ2FudmFzLnNyYyA9PSAnZGF0YTosJyA/IHJlc29sdmUoY2FudmFzKSA6IHJlamVjdChldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lQ2FudmFzLnNyYyA9IGNhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wSWZyYW1lLnBhcmVudE5vZGUgJiYgaWZyYW1lLm93bmVyRG9jdW1lbnQgJiYgaWZyYW1lLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wSWZyYW1lLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5Q1NTU3R5bGVzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShpZnJhbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lQ2FudmFzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBJZnJhbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRlbXBJZnJhbWU7XHJcbiAgICAgICAgfVxyXG4gICAgKi9cclxuICAgICAgICBEb2N1bWVudENsb25lci5wcm90b3R5cGUuY2xvbmVOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAgICAgaWYgKGlzVGV4dE5vZGUobm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghbm9kZS5vd25lckRvY3VtZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB3aW5kb3cgPSBub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XHJcbiAgICAgICAgICAgIGlmIChpc0hUTUxFbGVtZW50Tm9kZShub2RlKSAmJiB3aW5kb3cpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjbG9uZSA9IHRoaXMuY3JlYXRlRWxlbWVudENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVCZWZvcmUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCAnOmJlZm9yZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlQWZ0ZXIgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCAnOmFmdGVyJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWZlcmVuY2VFbGVtZW50ID09PSBub2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9uZWRSZWZlcmVuY2VFbGVtZW50ID0gY2xvbmU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNCb2R5RWxlbWVudChjbG9uZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVQc2V1ZG9IaWRlU3R5bGVzKGNsb25lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBjb3VudGVycyA9IHRoaXMuY291bnRlcnMucGFyc2UobmV3IENTU1BhcnNlZENvdW50ZXJEZWNsYXJhdGlvbihzdHlsZSkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJlZm9yZSA9IHRoaXMucmVzb2x2ZVBzZXVkb0NvbnRlbnQobm9kZSwgY2xvbmUsIHN0eWxlQmVmb3JlLCBQc2V1ZG9FbGVtZW50VHlwZS5CRUZPUkUpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0VsZW1lbnROb2RlKGNoaWxkKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoIWlzU2NyaXB0RWxlbWVudChjaGlsZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFjaGlsZC5oYXNBdHRyaWJ1dGUoSUdOT1JFX0FUVFJJQlVURSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgdGhpcy5vcHRpb25zLmlnbm9yZUVsZW1lbnRzICE9PSAnZnVuY3Rpb24nIHx8ICF0aGlzLm9wdGlvbnMuaWdub3JlRWxlbWVudHMoY2hpbGQpKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuY29weVN0eWxlcyB8fCAhaXNFbGVtZW50Tm9kZShjaGlsZCkgfHwgIWlzU3R5bGVFbGVtZW50KGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUuYXBwZW5kQ2hpbGQodGhpcy5jbG9uZU5vZGUoY2hpbGQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChiZWZvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbG9uZS5pbnNlcnRCZWZvcmUoYmVmb3JlLCBjbG9uZS5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBhZnRlciA9IHRoaXMucmVzb2x2ZVBzZXVkb0NvbnRlbnQobm9kZSwgY2xvbmUsIHN0eWxlQWZ0ZXIsIFBzZXVkb0VsZW1lbnRUeXBlLkFGVEVSKTtcclxuICAgICAgICAgICAgICAgIGlmIChhZnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lLmFwcGVuZENoaWxkKGFmdGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY291bnRlcnMucG9wKGNvdW50ZXJzKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdHlsZSAmJiB0aGlzLm9wdGlvbnMuY29weVN0eWxlcyAmJiAhaXNJRnJhbWVFbGVtZW50KG5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29weUNTU1N0eWxlcyhzdHlsZSwgY2xvbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy90aGlzLmlubGluZUFsbEltYWdlcyhjbG9uZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5zY3JvbGxUb3AgIT09IDAgfHwgbm9kZS5zY3JvbGxMZWZ0ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlZEVsZW1lbnRzLnB1c2goW2Nsb25lLCBub2RlLnNjcm9sbExlZnQsIG5vZGUuc2Nyb2xsVG9wXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKGlzVGV4dGFyZWFFbGVtZW50KG5vZGUpIHx8IGlzU2VsZWN0RWxlbWVudChub2RlKSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAoaXNUZXh0YXJlYUVsZW1lbnQoY2xvbmUpIHx8IGlzU2VsZWN0RWxlbWVudChjbG9uZSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvbmUudmFsdWUgPSBub2RlLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBub2RlLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBEb2N1bWVudENsb25lci5wcm90b3R5cGUucmVzb2x2ZVBzZXVkb0NvbnRlbnQgPSBmdW5jdGlvbiAobm9kZSwgY2xvbmUsIHN0eWxlLCBwc2V1ZG9FbHQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKCFzdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHN0eWxlLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgIHZhciBkb2N1bWVudCA9IGNsb25lLm93bmVyRG9jdW1lbnQ7XHJcbiAgICAgICAgICAgIGlmICghZG9jdW1lbnQgfHwgIXZhbHVlIHx8IHZhbHVlID09PSAnbm9uZScgfHwgdmFsdWUgPT09ICctbW96LWFsdC1jb250ZW50JyB8fCBzdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJzLnBhcnNlKG5ldyBDU1NQYXJzZWRDb3VudGVyRGVjbGFyYXRpb24oc3R5bGUpKTtcclxuICAgICAgICAgICAgdmFyIGRlY2xhcmF0aW9uID0gbmV3IENTU1BhcnNlZFBzZXVkb0RlY2xhcmF0aW9uKHN0eWxlKTtcclxuICAgICAgICAgICAgdmFyIGFub255bW91c1JlcGxhY2VkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2h0bWwyY2FudmFzcHNldWRvZWxlbWVudCcpO1xyXG4gICAgICAgICAgICBjb3B5Q1NTU3R5bGVzKHN0eWxlLCBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQpO1xyXG4gICAgICAgICAgICBkZWNsYXJhdGlvbi5jb250ZW50LmZvckVhY2goZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlNUUklOR19UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFub255bW91c1JlcGxhY2VkRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0b2tlbi52YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlVSTF9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gdG9rZW4udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLm9wYWNpdHkgPSAnMSc7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGltZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRlVOQ1RJT04pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4ubmFtZSA9PT0gJ2F0dHInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRyID0gdG9rZW4udmFsdWVzLmZpbHRlcihpc0lkZW50VG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFub255bW91c1JlcGxhY2VkRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLmdldEF0dHJpYnV0ZShhdHRyWzBdLnZhbHVlKSB8fCAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuLm5hbWUgPT09ICdjb3VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSB0b2tlbi52YWx1ZXMuZmlsdGVyKG5vbkZ1bmN0aW9uQXJnU2VwYXJhdG9yKSwgY291bnRlciA9IF9hWzBdLCBjb3VudGVyU3R5bGUgPSBfYVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ZXIgJiYgaXNJZGVudFRva2VuKGNvdW50ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlclN0YXRlID0gX3RoaXMuY291bnRlcnMuZ2V0Q291bnRlclZhbHVlKGNvdW50ZXIudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXJUeXBlID0gY291bnRlclN0eWxlICYmIGlzSWRlbnRUb2tlbihjb3VudGVyU3R5bGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBsaXN0U3R5bGVUeXBlLnBhcnNlKGNvdW50ZXJTdHlsZS52YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IExJU1RfU1RZTEVfVFlQRS5ERUNJTUFMO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNyZWF0ZUNvdW50ZXJUZXh0KGNvdW50ZXJTdGF0ZSwgY291bnRlclR5cGUsIGZhbHNlKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuLm5hbWUgPT09ICdjb3VudGVycycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iID0gdG9rZW4udmFsdWVzLmZpbHRlcihub25GdW5jdGlvbkFyZ1NlcGFyYXRvciksIGNvdW50ZXIgPSBfYlswXSwgZGVsaW0gPSBfYlsxXSwgY291bnRlclN0eWxlID0gX2JbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyICYmIGlzSWRlbnRUb2tlbihjb3VudGVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXJTdGF0ZXMgPSBfdGhpcy5jb3VudGVycy5nZXRDb3VudGVyVmFsdWVzKGNvdW50ZXIudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXJUeXBlXzEgPSBjb3VudGVyU3R5bGUgJiYgaXNJZGVudFRva2VuKGNvdW50ZXJTdHlsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGxpc3RTdHlsZVR5cGUucGFyc2UoY291bnRlclN0eWxlLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VwYXJhdG9yID0gZGVsaW0gJiYgZGVsaW0udHlwZSA9PT0gVG9rZW5UeXBlLlNUUklOR19UT0tFTiA/IGRlbGltLnZhbHVlIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IGNvdW50ZXJTdGF0ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gY3JlYXRlQ291bnRlclRleHQodmFsdWUsIGNvdW50ZXJUeXBlXzEsIGZhbHNlKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuam9pbihzZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnb3Blbi1xdW90ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZ2V0UXVvdGUoZGVjbGFyYXRpb24ucXVvdGVzLCBfdGhpcy5xdW90ZURlcHRoKyssIHRydWUpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2xvc2UtcXVvdGUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGdldFF1b3RlKGRlY2xhcmF0aW9uLnF1b3RlcywgLS1fdGhpcy5xdW90ZURlcHRoLCBmYWxzZSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2FmYXJpIGRvZXNuJ3QgcGFyc2Ugc3RyaW5nIHRva2VucyBjb3JyZWN0bHkgYmVjYXVzZSBvZiBsYWNrIG9mIHF1b3Rlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRva2VuLnZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmNsYXNzTmFtZSA9IFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQkVGT1JFICsgXCIgXCIgKyBQU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0FGVEVSO1xyXG4gICAgICAgICAgICBjbG9uZS5jbGFzc05hbWUgKz1cclxuICAgICAgICAgICAgICAgIHBzZXVkb0VsdCA9PT0gUHNldWRvRWxlbWVudFR5cGUuQkVGT1JFXHJcbiAgICAgICAgICAgICAgICAgICAgPyBcIiBcIiArIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQkVGT1JFXHJcbiAgICAgICAgICAgICAgICAgICAgOiBcIiBcIiArIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQUZURVI7XHJcbiAgICAgICAgICAgIHJldHVybiBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBEb2N1bWVudENsb25lci5kZXN0cm95ID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gRG9jdW1lbnRDbG9uZXI7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIFBzZXVkb0VsZW1lbnRUeXBlO1xyXG4gICAgKGZ1bmN0aW9uIChQc2V1ZG9FbGVtZW50VHlwZSkge1xyXG4gICAgICAgIFBzZXVkb0VsZW1lbnRUeXBlW1BzZXVkb0VsZW1lbnRUeXBlW1wiQkVGT1JFXCJdID0gMF0gPSBcIkJFRk9SRVwiO1xyXG4gICAgICAgIFBzZXVkb0VsZW1lbnRUeXBlW1BzZXVkb0VsZW1lbnRUeXBlW1wiQUZURVJcIl0gPSAxXSA9IFwiQUZURVJcIjtcclxuICAgIH0pKFBzZXVkb0VsZW1lbnRUeXBlIHx8IChQc2V1ZG9FbGVtZW50VHlwZSA9IHt9KSk7XHJcbiAgICB2YXIgY3JlYXRlSUZyYW1lQ29udGFpbmVyID0gZnVuY3Rpb24gKG93bmVyRG9jdW1lbnQsIGJvdW5kcykge1xyXG4gICAgICAgIHZhciBjbG9uZUlmcmFtZUNvbnRhaW5lciA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIuY2xhc3NOYW1lID0gJ2h0bWwyY2FudmFzLWNvbnRhaW5lcic7XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gJy0xMDAwMHB4JztcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zdHlsZS50b3AgPSAnMHB4JztcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zdHlsZS5ib3JkZXIgPSAnMCc7XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIud2lkdGggPSBib3VuZHMud2lkdGgudG9TdHJpbmcoKTtcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5oZWlnaHQgPSBib3VuZHMuaGVpZ2h0LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIuc2Nyb2xsaW5nID0gJ25vJzsgLy8gaW9zIHdvbid0IHNjcm9sbCB3aXRob3V0IGl0XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIuc2V0QXR0cmlidXRlKElHTk9SRV9BVFRSSUJVVEUsICd0cnVlJyk7XHJcbiAgICAgICAgb3duZXJEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNsb25lSWZyYW1lQ29udGFpbmVyKTtcclxuICAgICAgICByZXR1cm4gY2xvbmVJZnJhbWVDb250YWluZXI7XHJcbiAgICB9O1xyXG4gICAgdmFyIGlmcmFtZUxvYWRlciA9IGZ1bmN0aW9uIChpZnJhbWUpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgY2xvbmVXaW5kb3cgPSBpZnJhbWUuY29udGVudFdpbmRvdztcclxuICAgICAgICAgICAgaWYgKCFjbG9uZVdpbmRvdykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChcIk5vIHdpbmRvdyBhc3NpZ25lZCBmb3IgaWZyYW1lXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBkb2N1bWVudENsb25lID0gY2xvbmVXaW5kb3cuZG9jdW1lbnQ7XHJcbiAgICAgICAgICAgIGNsb25lV2luZG93Lm9ubG9hZCA9IGlmcmFtZS5vbmxvYWQgPSBkb2N1bWVudENsb25lLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNsb25lV2luZG93Lm9ubG9hZCA9IGlmcmFtZS5vbmxvYWQgPSBkb2N1bWVudENsb25lLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50Q2xvbmUuYm9keS5jaGlsZE5vZGVzLmxlbmd0aCA+IDAgJiYgZG9jdW1lbnRDbG9uZS5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGlmcmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgNTApO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZhciBjb3B5Q1NTU3R5bGVzID0gZnVuY3Rpb24gKHN0eWxlLCB0YXJnZXQpIHtcclxuICAgICAgICAvLyBFZGdlIGRvZXMgbm90IHByb3ZpZGUgdmFsdWUgZm9yIGNzc1RleHRcclxuICAgICAgICBmb3IgKHZhciBpID0gc3R5bGUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gc3R5bGUuaXRlbShpKTtcclxuICAgICAgICAgICAgLy8gU2FmYXJpIHNob3dzIHBzZXVkb2VsZW1lbnRzIGlmIGNvbnRlbnQgaXMgc2V0XHJcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eSAhPT0gJ2NvbnRlbnQnKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuc3R5bGUuc2V0UHJvcGVydHkocHJvcGVydHksIHN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfTtcclxuICAgIHZhciBzZXJpYWxpemVEb2N0eXBlID0gZnVuY3Rpb24gKGRvY3R5cGUpIHtcclxuICAgICAgICB2YXIgc3RyID0gJyc7XHJcbiAgICAgICAgaWYgKGRvY3R5cGUpIHtcclxuICAgICAgICAgICAgc3RyICs9ICc8IURPQ1RZUEUgJztcclxuICAgICAgICAgICAgaWYgKGRvY3R5cGUubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IGRvY3R5cGUubmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZG9jdHlwZS5pbnRlcm5hbFN1YnNldCkge1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IGRvY3R5cGUuaW50ZXJuYWxTdWJzZXQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRvY3R5cGUucHVibGljSWQpIHtcclxuICAgICAgICAgICAgICAgIHN0ciArPSBcIlxcXCJcIiArIGRvY3R5cGUucHVibGljSWQgKyBcIlxcXCJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZG9jdHlwZS5zeXN0ZW1JZCkge1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IFwiXFxcIlwiICsgZG9jdHlwZS5zeXN0ZW1JZCArIFwiXFxcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0ciArPSAnPic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9O1xyXG4gICAgdmFyIHJlc3RvcmVPd25lclNjcm9sbCA9IGZ1bmN0aW9uIChvd25lckRvY3VtZW50LCB4LCB5KSB7XHJcbiAgICAgICAgaWYgKG93bmVyRG9jdW1lbnQgJiZcclxuICAgICAgICAgICAgb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyAmJlxyXG4gICAgICAgICAgICAoeCAhPT0gb3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5wYWdlWE9mZnNldCB8fCB5ICE9PSBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnBhZ2VZT2Zmc2V0KSkge1xyXG4gICAgICAgICAgICBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnNjcm9sbFRvKHgsIHkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgcmVzdG9yZU5vZGVTY3JvbGwgPSBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IF9hWzBdLCB4ID0gX2FbMV0sIHkgPSBfYVsyXTtcclxuICAgICAgICBlbGVtZW50LnNjcm9sbExlZnQgPSB4O1xyXG4gICAgICAgIGVsZW1lbnQuc2Nyb2xsVG9wID0geTtcclxuICAgIH07XHJcbiAgICB2YXIgUFNFVURPX0JFRk9SRSA9ICc6YmVmb3JlJztcclxuICAgIHZhciBQU0VVRE9fQUZURVIgPSAnOmFmdGVyJztcclxuICAgIHZhciBQU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0JFRk9SRSA9ICdfX19odG1sMmNhbnZhc19fX3BzZXVkb2VsZW1lbnRfYmVmb3JlJztcclxuICAgIHZhciBQU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0FGVEVSID0gJ19fX2h0bWwyY2FudmFzX19fcHNldWRvZWxlbWVudF9hZnRlcic7XHJcbiAgICB2YXIgUFNFVURPX0hJREVfRUxFTUVOVF9TVFlMRSA9IFwie1xcbiAgICBjb250ZW50OiBcXFwiXFxcIiAhaW1wb3J0YW50O1xcbiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XFxufVwiO1xyXG4gICAgdmFyIGNyZWF0ZVBzZXVkb0hpZGVTdHlsZXMgPSBmdW5jdGlvbiAoYm9keSkge1xyXG4gICAgICAgIGNyZWF0ZVN0eWxlcyhib2R5LCBcIi5cIiArIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQkVGT1JFICsgUFNFVURPX0JFRk9SRSArIFBTRVVET19ISURFX0VMRU1FTlRfU1RZTEUgKyBcIlxcbiAgICAgICAgIC5cIiArIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQUZURVIgKyBQU0VVRE9fQUZURVIgKyBQU0VVRE9fSElERV9FTEVNRU5UX1NUWUxFKTtcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlU3R5bGVzID0gZnVuY3Rpb24gKGJvZHksIHN0eWxlcykge1xyXG4gICAgICAgIHZhciBkb2N1bWVudCA9IGJvZHkub3duZXJEb2N1bWVudDtcclxuICAgICAgICBpZiAoZG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuICAgICAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBzdHlsZXM7XHJcbiAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoc3R5bGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgUGF0aFR5cGU7XHJcbiAgICAoZnVuY3Rpb24gKFBhdGhUeXBlKSB7XHJcbiAgICAgICAgUGF0aFR5cGVbUGF0aFR5cGVbXCJWRUNUT1JcIl0gPSAwXSA9IFwiVkVDVE9SXCI7XHJcbiAgICAgICAgUGF0aFR5cGVbUGF0aFR5cGVbXCJCRVpJRVJfQ1VSVkVcIl0gPSAxXSA9IFwiQkVaSUVSX0NVUlZFXCI7XHJcbiAgICB9KShQYXRoVHlwZSB8fCAoUGF0aFR5cGUgPSB7fSkpO1xyXG4gICAgdmFyIGVxdWFsUGF0aCA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgaWYgKGEubGVuZ3RoID09PSBiLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYS5zb21lKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiB2ID09PSBiW2ldOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHZhciB0cmFuc2Zvcm1QYXRoID0gZnVuY3Rpb24gKHBhdGgsIGRlbHRhWCwgZGVsdGFZLCBkZWx0YVcsIGRlbHRhSCkge1xyXG4gICAgICAgIHJldHVybiBwYXRoLm1hcChmdW5jdGlvbiAocG9pbnQsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQuYWRkKGRlbHRhWCwgZGVsdGFZKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQuYWRkKGRlbHRhWCArIGRlbHRhVywgZGVsdGFZKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQuYWRkKGRlbHRhWCArIGRlbHRhVywgZGVsdGFZICsgZGVsdGFIKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQuYWRkKGRlbHRhWCwgZGVsdGFZICsgZGVsdGFIKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcG9pbnQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xuXG4gICAgdmFyIFZlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBWZWN0b3IoeCwgeSkge1xyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBQYXRoVHlwZS5WRUNUT1I7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFZlY3Rvci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGRlbHRhWCwgZGVsdGFZKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCArIGRlbHRhWCwgdGhpcy55ICsgZGVsdGFZKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBWZWN0b3I7XHJcbiAgICB9KCkpO1xuXG4gICAgdmFyIGxlcnAgPSBmdW5jdGlvbiAoYSwgYiwgdCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKGEueCArIChiLnggLSBhLngpICogdCwgYS55ICsgKGIueSAtIGEueSkgKiB0KTtcclxuICAgIH07XHJcbiAgICB2YXIgQmV6aWVyQ3VydmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQmV6aWVyQ3VydmUoc3RhcnQsIHN0YXJ0Q29udHJvbCwgZW5kQ29udHJvbCwgZW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFBhdGhUeXBlLkJFWklFUl9DVVJWRTtcclxuICAgICAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0Q29udHJvbCA9IHN0YXJ0Q29udHJvbDtcclxuICAgICAgICAgICAgdGhpcy5lbmRDb250cm9sID0gZW5kQ29udHJvbDtcclxuICAgICAgICAgICAgdGhpcy5lbmQgPSBlbmQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEJlemllckN1cnZlLnByb3RvdHlwZS5zdWJkaXZpZGUgPSBmdW5jdGlvbiAodCwgZmlyc3RIYWxmKSB7XHJcbiAgICAgICAgICAgIHZhciBhYiA9IGxlcnAodGhpcy5zdGFydCwgdGhpcy5zdGFydENvbnRyb2wsIHQpO1xyXG4gICAgICAgICAgICB2YXIgYmMgPSBsZXJwKHRoaXMuc3RhcnRDb250cm9sLCB0aGlzLmVuZENvbnRyb2wsIHQpO1xyXG4gICAgICAgICAgICB2YXIgY2QgPSBsZXJwKHRoaXMuZW5kQ29udHJvbCwgdGhpcy5lbmQsIHQpO1xyXG4gICAgICAgICAgICB2YXIgYWJiYyA9IGxlcnAoYWIsIGJjLCB0KTtcclxuICAgICAgICAgICAgdmFyIGJjY2QgPSBsZXJwKGJjLCBjZCwgdCk7XHJcbiAgICAgICAgICAgIHZhciBkZXN0ID0gbGVycChhYmJjLCBiY2NkLCB0KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZpcnN0SGFsZiA/IG5ldyBCZXppZXJDdXJ2ZSh0aGlzLnN0YXJ0LCBhYiwgYWJiYywgZGVzdCkgOiBuZXcgQmV6aWVyQ3VydmUoZGVzdCwgYmNjZCwgY2QsIHRoaXMuZW5kKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEJlemllckN1cnZlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZGVsdGFYLCBkZWx0YVkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCZXppZXJDdXJ2ZSh0aGlzLnN0YXJ0LmFkZChkZWx0YVgsIGRlbHRhWSksIHRoaXMuc3RhcnRDb250cm9sLmFkZChkZWx0YVgsIGRlbHRhWSksIHRoaXMuZW5kQ29udHJvbC5hZGQoZGVsdGFYLCBkZWx0YVkpLCB0aGlzLmVuZC5hZGQoZGVsdGFYLCBkZWx0YVkpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEJlemllckN1cnZlLnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEJlemllckN1cnZlKHRoaXMuZW5kLCB0aGlzLmVuZENvbnRyb2wsIHRoaXMuc3RhcnRDb250cm9sLCB0aGlzLnN0YXJ0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBCZXppZXJDdXJ2ZTtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgaXNCZXppZXJDdXJ2ZSA9IGZ1bmN0aW9uIChwYXRoKSB7IHJldHVybiBwYXRoLnR5cGUgPT09IFBhdGhUeXBlLkJFWklFUl9DVVJWRTsgfTtcblxuICAgIHZhciBCb3VuZEN1cnZlcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBCb3VuZEN1cnZlcyhlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBzdHlsZXMgPSBlbGVtZW50LnN0eWxlcztcclxuICAgICAgICAgICAgdmFyIGJvdW5kcyA9IGVsZW1lbnQuYm91bmRzO1xyXG4gICAgICAgICAgICB2YXIgX2EgPSBnZXRBYnNvbHV0ZVZhbHVlRm9yVHVwbGUoc3R5bGVzLmJvcmRlclRvcExlZnRSYWRpdXMsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCksIHRsaCA9IF9hWzBdLCB0bHYgPSBfYVsxXTtcclxuICAgICAgICAgICAgdmFyIF9iID0gZ2V0QWJzb2x1dGVWYWx1ZUZvclR1cGxlKHN0eWxlcy5ib3JkZXJUb3BSaWdodFJhZGl1cywgYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0KSwgdHJoID0gX2JbMF0sIHRydiA9IF9iWzFdO1xyXG4gICAgICAgICAgICB2YXIgX2MgPSBnZXRBYnNvbHV0ZVZhbHVlRm9yVHVwbGUoc3R5bGVzLmJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQpLCBicmggPSBfY1swXSwgYnJ2ID0gX2NbMV07XHJcbiAgICAgICAgICAgIHZhciBfZCA9IGdldEFic29sdXRlVmFsdWVGb3JUdXBsZShzdHlsZXMuYm9yZGVyQm90dG9tTGVmdFJhZGl1cywgYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0KSwgYmxoID0gX2RbMF0sIGJsdiA9IF9kWzFdO1xyXG4gICAgICAgICAgICB2YXIgZmFjdG9ycyA9IFtdO1xyXG4gICAgICAgICAgICBmYWN0b3JzLnB1c2goKHRsaCArIHRyaCkgLyBib3VuZHMud2lkdGgpO1xyXG4gICAgICAgICAgICBmYWN0b3JzLnB1c2goKGJsaCArIGJyaCkgLyBib3VuZHMud2lkdGgpO1xyXG4gICAgICAgICAgICBmYWN0b3JzLnB1c2goKHRsdiArIGJsdikgLyBib3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgZmFjdG9ycy5wdXNoKCh0cnYgKyBicnYpIC8gYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHZhciBtYXhGYWN0b3IgPSBNYXRoLm1heC5hcHBseShNYXRoLCBmYWN0b3JzKTtcclxuICAgICAgICAgICAgaWYgKG1heEZhY3RvciA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHRsaCAvPSBtYXhGYWN0b3I7XHJcbiAgICAgICAgICAgICAgICB0bHYgLz0gbWF4RmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgdHJoIC89IG1heEZhY3RvcjtcclxuICAgICAgICAgICAgICAgIHRydiAvPSBtYXhGYWN0b3I7XHJcbiAgICAgICAgICAgICAgICBicmggLz0gbWF4RmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgYnJ2IC89IG1heEZhY3RvcjtcclxuICAgICAgICAgICAgICAgIGJsaCAvPSBtYXhGYWN0b3I7XHJcbiAgICAgICAgICAgICAgICBibHYgLz0gbWF4RmFjdG9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB0b3BXaWR0aCA9IGJvdW5kcy53aWR0aCAtIHRyaDtcclxuICAgICAgICAgICAgdmFyIHJpZ2h0SGVpZ2h0ID0gYm91bmRzLmhlaWdodCAtIGJydjtcclxuICAgICAgICAgICAgdmFyIGJvdHRvbVdpZHRoID0gYm91bmRzLndpZHRoIC0gYnJoO1xyXG4gICAgICAgICAgICB2YXIgbGVmdEhlaWdodCA9IGJvdW5kcy5oZWlnaHQgLSBibHY7XHJcbiAgICAgICAgICAgIHZhciBib3JkZXJUb3BXaWR0aCA9IHN0eWxlcy5ib3JkZXJUb3BXaWR0aDtcclxuICAgICAgICAgICAgdmFyIGJvcmRlclJpZ2h0V2lkdGggPSBzdHlsZXMuYm9yZGVyUmlnaHRXaWR0aDtcclxuICAgICAgICAgICAgdmFyIGJvcmRlckJvdHRvbVdpZHRoID0gc3R5bGVzLmJvcmRlckJvdHRvbVdpZHRoO1xyXG4gICAgICAgICAgICB2YXIgYm9yZGVyTGVmdFdpZHRoID0gc3R5bGVzLmJvcmRlckxlZnRXaWR0aDtcclxuICAgICAgICAgICAgdmFyIHBhZGRpbmdUb3AgPSBnZXRBYnNvbHV0ZVZhbHVlKHN0eWxlcy5wYWRkaW5nVG9wLCBlbGVtZW50LmJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgICAgIHZhciBwYWRkaW5nUmlnaHQgPSBnZXRBYnNvbHV0ZVZhbHVlKHN0eWxlcy5wYWRkaW5nUmlnaHQsIGVsZW1lbnQuYm91bmRzLndpZHRoKTtcclxuICAgICAgICAgICAgdmFyIHBhZGRpbmdCb3R0b20gPSBnZXRBYnNvbHV0ZVZhbHVlKHN0eWxlcy5wYWRkaW5nQm90dG9tLCBlbGVtZW50LmJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgICAgIHZhciBwYWRkaW5nTGVmdCA9IGdldEFic29sdXRlVmFsdWUoc3R5bGVzLnBhZGRpbmdMZWZ0LCBlbGVtZW50LmJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgICAgIHRoaXMudG9wTGVmdEJvcmRlckJveCA9XHJcbiAgICAgICAgICAgICAgICB0bGggPiAwIHx8IHRsdiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wLCB0bGgsIHRsdiwgQ09STkVSLlRPUF9MRUZUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCwgYm91bmRzLnRvcCk7XHJcbiAgICAgICAgICAgIHRoaXMudG9wUmlnaHRCb3JkZXJCb3ggPVxyXG4gICAgICAgICAgICAgICAgdHJoID4gMCB8fCB0cnYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIHRvcFdpZHRoLCBib3VuZHMudG9wLCB0cmgsIHRydiwgQ09STkVSLlRPUF9SSUdIVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGgsIGJvdW5kcy50b3ApO1xyXG4gICAgICAgICAgICB0aGlzLmJvdHRvbVJpZ2h0Qm9yZGVyQm94ID1cclxuICAgICAgICAgICAgICAgIGJyaCA+IDAgfHwgYnJ2ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQgKyBib3R0b21XaWR0aCwgYm91bmRzLnRvcCArIHJpZ2h0SGVpZ2h0LCBicmgsIGJydiwgQ09STkVSLkJPVFRPTV9SSUdIVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGgsIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy5ib3R0b21MZWZ0Qm9yZGVyQm94ID1cclxuICAgICAgICAgICAgICAgIGJsaCA+IDAgfHwgYmx2ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQsIGJvdW5kcy50b3AgKyBsZWZ0SGVpZ2h0LCBibGgsIGJsdiwgQ09STkVSLkJPVFRPTV9MRUZUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCwgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLnRvcExlZnRQYWRkaW5nQm94ID1cclxuICAgICAgICAgICAgICAgIHRsaCA+IDAgfHwgdGx2ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQgKyBib3JkZXJMZWZ0V2lkdGgsIGJvdW5kcy50b3AgKyBib3JkZXJUb3BXaWR0aCwgTWF0aC5tYXgoMCwgdGxoIC0gYm9yZGVyTGVmdFdpZHRoKSwgTWF0aC5tYXgoMCwgdGx2IC0gYm9yZGVyVG9wV2lkdGgpLCBDT1JORVIuVE9QX0xFRlQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm9yZGVyTGVmdFdpZHRoLCBib3VuZHMudG9wICsgYm9yZGVyVG9wV2lkdGgpO1xyXG4gICAgICAgICAgICB0aGlzLnRvcFJpZ2h0UGFkZGluZ0JveCA9XHJcbiAgICAgICAgICAgICAgICB0cmggPiAwIHx8IHRydiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgTWF0aC5taW4odG9wV2lkdGgsIGJvdW5kcy53aWR0aCArIGJvcmRlckxlZnRXaWR0aCksIGJvdW5kcy50b3AgKyBib3JkZXJUb3BXaWR0aCwgdG9wV2lkdGggPiBib3VuZHMud2lkdGggKyBib3JkZXJMZWZ0V2lkdGggPyAwIDogdHJoIC0gYm9yZGVyTGVmdFdpZHRoLCB0cnYgLSBib3JkZXJUb3BXaWR0aCwgQ09STkVSLlRPUF9SSUdIVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGggLSBib3JkZXJSaWdodFdpZHRoLCBib3VuZHMudG9wICsgYm9yZGVyVG9wV2lkdGgpO1xyXG4gICAgICAgICAgICB0aGlzLmJvdHRvbVJpZ2h0UGFkZGluZ0JveCA9XHJcbiAgICAgICAgICAgICAgICBicmggPiAwIHx8IGJydiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgTWF0aC5taW4oYm90dG9tV2lkdGgsIGJvdW5kcy53aWR0aCAtIGJvcmRlckxlZnRXaWR0aCksIGJvdW5kcy50b3AgKyBNYXRoLm1pbihyaWdodEhlaWdodCwgYm91bmRzLmhlaWdodCArIGJvcmRlclRvcFdpZHRoKSwgTWF0aC5tYXgoMCwgYnJoIC0gYm9yZGVyUmlnaHRXaWR0aCksIGJydiAtIGJvcmRlckJvdHRvbVdpZHRoLCBDT1JORVIuQk9UVE9NX1JJR0hUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCAtIGJvcmRlclJpZ2h0V2lkdGgsIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0IC0gYm9yZGVyQm90dG9tV2lkdGgpO1xyXG4gICAgICAgICAgICB0aGlzLmJvdHRvbUxlZnRQYWRkaW5nQm94ID1cclxuICAgICAgICAgICAgICAgIGJsaCA+IDAgfHwgYmx2ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQgKyBib3JkZXJMZWZ0V2lkdGgsIGJvdW5kcy50b3AgKyBsZWZ0SGVpZ2h0LCBNYXRoLm1heCgwLCBibGggLSBib3JkZXJMZWZ0V2lkdGgpLCBibHYgLSBib3JkZXJCb3R0b21XaWR0aCwgQ09STkVSLkJPVFRPTV9MRUZUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvcmRlckxlZnRXaWR0aCwgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQgLSBib3JkZXJCb3R0b21XaWR0aCk7XHJcbiAgICAgICAgICAgIHRoaXMudG9wTGVmdENvbnRlbnRCb3ggPVxyXG4gICAgICAgICAgICAgICAgdGxoID4gMCB8fCB0bHYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0LCBib3VuZHMudG9wICsgYm9yZGVyVG9wV2lkdGggKyBwYWRkaW5nVG9wLCBNYXRoLm1heCgwLCB0bGggLSAoYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQpKSwgTWF0aC5tYXgoMCwgdGx2IC0gKGJvcmRlclRvcFdpZHRoICsgcGFkZGluZ1RvcCkpLCBDT1JORVIuVE9QX0xFRlQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQsIGJvdW5kcy50b3AgKyBib3JkZXJUb3BXaWR0aCArIHBhZGRpbmdUb3ApO1xyXG4gICAgICAgICAgICB0aGlzLnRvcFJpZ2h0Q29udGVudEJveCA9XHJcbiAgICAgICAgICAgICAgICB0cmggPiAwIHx8IHRydiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgTWF0aC5taW4odG9wV2lkdGgsIGJvdW5kcy53aWR0aCArIGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0KSwgYm91bmRzLnRvcCArIGJvcmRlclRvcFdpZHRoICsgcGFkZGluZ1RvcCwgdG9wV2lkdGggPiBib3VuZHMud2lkdGggKyBib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCA/IDAgOiB0cmggLSBib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCwgdHJ2IC0gKGJvcmRlclRvcFdpZHRoICsgcGFkZGluZ1RvcCksIENPUk5FUi5UT1BfUklHSFQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoIC0gKGJvcmRlclJpZ2h0V2lkdGggKyBwYWRkaW5nUmlnaHQpLCBib3VuZHMudG9wICsgYm9yZGVyVG9wV2lkdGggKyBwYWRkaW5nVG9wKTtcclxuICAgICAgICAgICAgdGhpcy5ib3R0b21SaWdodENvbnRlbnRCb3ggPVxyXG4gICAgICAgICAgICAgICAgYnJoID4gMCB8fCBicnYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIE1hdGgubWluKGJvdHRvbVdpZHRoLCBib3VuZHMud2lkdGggLSAoYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQpKSwgYm91bmRzLnRvcCArIE1hdGgubWluKHJpZ2h0SGVpZ2h0LCBib3VuZHMuaGVpZ2h0ICsgYm9yZGVyVG9wV2lkdGggKyBwYWRkaW5nVG9wKSwgTWF0aC5tYXgoMCwgYnJoIC0gKGJvcmRlclJpZ2h0V2lkdGggKyBwYWRkaW5nUmlnaHQpKSwgYnJ2IC0gKGJvcmRlckJvdHRvbVdpZHRoICsgcGFkZGluZ0JvdHRvbSksIENPUk5FUi5CT1RUT01fUklHSFQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoIC0gKGJvcmRlclJpZ2h0V2lkdGggKyBwYWRkaW5nUmlnaHQpLCBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCAtIChib3JkZXJCb3R0b21XaWR0aCArIHBhZGRpbmdCb3R0b20pKTtcclxuICAgICAgICAgICAgdGhpcy5ib3R0b21MZWZ0Q29udGVudEJveCA9XHJcbiAgICAgICAgICAgICAgICBibGggPiAwIHx8IGJsdiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQsIGJvdW5kcy50b3AgKyBsZWZ0SGVpZ2h0LCBNYXRoLm1heCgwLCBibGggLSAoYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQpKSwgYmx2IC0gKGJvcmRlckJvdHRvbVdpZHRoICsgcGFkZGluZ0JvdHRvbSksIENPUk5FUi5CT1RUT01fTEVGVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCwgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQgLSAoYm9yZGVyQm90dG9tV2lkdGggKyBwYWRkaW5nQm90dG9tKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBCb3VuZEN1cnZlcztcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgQ09STkVSO1xyXG4gICAgKGZ1bmN0aW9uIChDT1JORVIpIHtcclxuICAgICAgICBDT1JORVJbQ09STkVSW1wiVE9QX0xFRlRcIl0gPSAwXSA9IFwiVE9QX0xFRlRcIjtcclxuICAgICAgICBDT1JORVJbQ09STkVSW1wiVE9QX1JJR0hUXCJdID0gMV0gPSBcIlRPUF9SSUdIVFwiO1xyXG4gICAgICAgIENPUk5FUltDT1JORVJbXCJCT1RUT01fUklHSFRcIl0gPSAyXSA9IFwiQk9UVE9NX1JJR0hUXCI7XHJcbiAgICAgICAgQ09STkVSW0NPUk5FUltcIkJPVFRPTV9MRUZUXCJdID0gM10gPSBcIkJPVFRPTV9MRUZUXCI7XHJcbiAgICB9KShDT1JORVIgfHwgKENPUk5FUiA9IHt9KSk7XHJcbiAgICB2YXIgZ2V0Q3VydmVQb2ludHMgPSBmdW5jdGlvbiAoeCwgeSwgcjEsIHIyLCBwb3NpdGlvbikge1xyXG4gICAgICAgIHZhciBrYXBwYSA9IDQgKiAoKE1hdGguc3FydCgyKSAtIDEpIC8gMyk7XHJcbiAgICAgICAgdmFyIG94ID0gcjEgKiBrYXBwYTsgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgaG9yaXpvbnRhbFxyXG4gICAgICAgIHZhciBveSA9IHIyICoga2FwcGE7IC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IHZlcnRpY2FsXHJcbiAgICAgICAgdmFyIHhtID0geCArIHIxOyAvLyB4LW1pZGRsZVxyXG4gICAgICAgIHZhciB5bSA9IHkgKyByMjsgLy8geS1taWRkbGVcclxuICAgICAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ09STkVSLlRPUF9MRUZUOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCZXppZXJDdXJ2ZShuZXcgVmVjdG9yKHgsIHltKSwgbmV3IFZlY3Rvcih4LCB5bSAtIG95KSwgbmV3IFZlY3Rvcih4bSAtIG94LCB5KSwgbmV3IFZlY3Rvcih4bSwgeSkpO1xyXG4gICAgICAgICAgICBjYXNlIENPUk5FUi5UT1BfUklHSFQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJlemllckN1cnZlKG5ldyBWZWN0b3IoeCwgeSksIG5ldyBWZWN0b3IoeCArIG94LCB5KSwgbmV3IFZlY3Rvcih4bSwgeW0gLSBveSksIG5ldyBWZWN0b3IoeG0sIHltKSk7XHJcbiAgICAgICAgICAgIGNhc2UgQ09STkVSLkJPVFRPTV9SSUdIVDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmV6aWVyQ3VydmUobmV3IFZlY3Rvcih4bSwgeSksIG5ldyBWZWN0b3IoeG0sIHkgKyBveSksIG5ldyBWZWN0b3IoeCArIG94LCB5bSksIG5ldyBWZWN0b3IoeCwgeW0pKTtcclxuICAgICAgICAgICAgY2FzZSBDT1JORVIuQk9UVE9NX0xFRlQ6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJlemllckN1cnZlKG5ldyBWZWN0b3IoeG0sIHltKSwgbmV3IFZlY3Rvcih4bSAtIG94LCB5bSksIG5ldyBWZWN0b3IoeCwgeSArIG95KSwgbmV3IFZlY3Rvcih4LCB5KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBjYWxjdWxhdGVCb3JkZXJCb3hQYXRoID0gZnVuY3Rpb24gKGN1cnZlcykge1xyXG4gICAgICAgIHJldHVybiBbY3VydmVzLnRvcExlZnRCb3JkZXJCb3gsIGN1cnZlcy50b3BSaWdodEJvcmRlckJveCwgY3VydmVzLmJvdHRvbVJpZ2h0Qm9yZGVyQm94LCBjdXJ2ZXMuYm90dG9tTGVmdEJvcmRlckJveF07XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbGN1bGF0ZUNvbnRlbnRCb3hQYXRoID0gZnVuY3Rpb24gKGN1cnZlcykge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIGN1cnZlcy50b3BMZWZ0Q29udGVudEJveCxcclxuICAgICAgICAgICAgY3VydmVzLnRvcFJpZ2h0Q29udGVudEJveCxcclxuICAgICAgICAgICAgY3VydmVzLmJvdHRvbVJpZ2h0Q29udGVudEJveCxcclxuICAgICAgICAgICAgY3VydmVzLmJvdHRvbUxlZnRDb250ZW50Qm94XHJcbiAgICAgICAgXTtcclxuICAgIH07XHJcbiAgICB2YXIgY2FsY3VsYXRlUGFkZGluZ0JveFBhdGggPSBmdW5jdGlvbiAoY3VydmVzKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgY3VydmVzLnRvcExlZnRQYWRkaW5nQm94LFxyXG4gICAgICAgICAgICBjdXJ2ZXMudG9wUmlnaHRQYWRkaW5nQm94LFxyXG4gICAgICAgICAgICBjdXJ2ZXMuYm90dG9tUmlnaHRQYWRkaW5nQm94LFxyXG4gICAgICAgICAgICBjdXJ2ZXMuYm90dG9tTGVmdFBhZGRpbmdCb3hcclxuICAgICAgICBdO1xyXG4gICAgfTtcblxuICAgIHZhciBUcmFuc2Zvcm1FZmZlY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gVHJhbnNmb3JtRWZmZWN0KG9mZnNldFgsIG9mZnNldFksIG1hdHJpeCkge1xyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSAwIC8qIFRSQU5TRk9STSAqLztcclxuICAgICAgICAgICAgdGhpcy5vZmZzZXRYID0gb2Zmc2V0WDtcclxuICAgICAgICAgICAgdGhpcy5vZmZzZXRZID0gb2Zmc2V0WTtcclxuICAgICAgICAgICAgdGhpcy5tYXRyaXggPSBtYXRyaXg7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gMiAvKiBCQUNLR1JPVU5EX0JPUkRFUlMgKi8gfCA0IC8qIENPTlRFTlQgKi87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBUcmFuc2Zvcm1FZmZlY3Q7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIENsaXBFZmZlY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ2xpcEVmZmVjdChwYXRoLCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgdGhpcy50eXBlID0gMSAvKiBDTElQICovO1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuICAgICAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIENsaXBFZmZlY3Q7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIGlzVHJhbnNmb3JtRWZmZWN0ID0gZnVuY3Rpb24gKGVmZmVjdCkge1xyXG4gICAgICAgIHJldHVybiBlZmZlY3QudHlwZSA9PT0gMCAvKiBUUkFOU0ZPUk0gKi87XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzQ2xpcEVmZmVjdCA9IGZ1bmN0aW9uIChlZmZlY3QpIHsgcmV0dXJuIGVmZmVjdC50eXBlID09PSAxIC8qIENMSVAgKi87IH07XG5cbiAgICB2YXIgU3RhY2tpbmdDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFN0YWNraW5nQ29udGV4dChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gY29udGFpbmVyO1xyXG4gICAgICAgICAgICB0aGlzLmlubGluZUxldmVsID0gW107XHJcbiAgICAgICAgICAgIHRoaXMubm9uSW5saW5lTGV2ZWwgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5uZWdhdGl2ZVpJbmRleCA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnplcm9PckF1dG9aSW5kZXhPclRyYW5zZm9ybWVkT3JPcGFjaXR5ID0gW107XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpdmVaSW5kZXggPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5ub25Qb3NpdGlvbmVkRmxvYXRzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMubm9uUG9zaXRpb25lZElubGluZUxldmVsID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBTdGFja2luZ0NvbnRleHQ7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIEVsZW1lbnRQYWludCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBFbGVtZW50UGFpbnQoZWxlbWVudCwgcGFyZW50U3RhY2spIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICB0aGlzLmVmZmVjdHMgPSBwYXJlbnRTdGFjay5zbGljZSgwKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJ2ZXMgPSBuZXcgQm91bmRDdXJ2ZXMoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnN0eWxlcy50cmFuc2Zvcm0gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRYID0gZWxlbWVudC5ib3VuZHMubGVmdCArIGVsZW1lbnQuc3R5bGVzLnRyYW5zZm9ybU9yaWdpblswXS5udW1iZXI7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0WSA9IGVsZW1lbnQuYm91bmRzLnRvcCArIGVsZW1lbnQuc3R5bGVzLnRyYW5zZm9ybU9yaWdpblsxXS5udW1iZXI7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0cml4ID0gZWxlbWVudC5zdHlsZXMudHJhbnNmb3JtO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lZmZlY3RzLnB1c2gobmV3IFRyYW5zZm9ybUVmZmVjdChvZmZzZXRYLCBvZmZzZXRZLCBtYXRyaXgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZXMub3ZlcmZsb3dYICE9PSBPVkVSRkxPVy5WSVNJQkxFKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm9yZGVyQm94ID0gY2FsY3VsYXRlQm9yZGVyQm94UGF0aCh0aGlzLmN1cnZlcyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFkZGluZ0JveCA9IGNhbGN1bGF0ZVBhZGRpbmdCb3hQYXRoKHRoaXMuY3VydmVzKTtcclxuICAgICAgICAgICAgICAgIGlmIChlcXVhbFBhdGgoYm9yZGVyQm94LCBwYWRkaW5nQm94KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5wdXNoKG5ldyBDbGlwRWZmZWN0KGJvcmRlckJveCwgMiAvKiBCQUNLR1JPVU5EX0JPUkRFUlMgKi8gfCA0IC8qIENPTlRFTlQgKi8pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5wdXNoKG5ldyBDbGlwRWZmZWN0KGJvcmRlckJveCwgMiAvKiBCQUNLR1JPVU5EX0JPUkRFUlMgKi8pKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVmZmVjdHMucHVzaChuZXcgQ2xpcEVmZmVjdChwYWRkaW5nQm94LCA0IC8qIENPTlRFTlQgKi8pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBFbGVtZW50UGFpbnQucHJvdG90eXBlLmdldFBhcmVudEVmZmVjdHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBlZmZlY3RzID0gdGhpcy5lZmZlY3RzLnNsaWNlKDApO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb250YWluZXIuc3R5bGVzLm92ZXJmbG93WCAhPT0gT1ZFUkZMT1cuVklTSUJMRSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJvcmRlckJveCA9IGNhbGN1bGF0ZUJvcmRlckJveFBhdGgodGhpcy5jdXJ2ZXMpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhZGRpbmdCb3ggPSBjYWxjdWxhdGVQYWRkaW5nQm94UGF0aCh0aGlzLmN1cnZlcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVxdWFsUGF0aChib3JkZXJCb3gsIHBhZGRpbmdCb3gpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5wdXNoKG5ldyBDbGlwRWZmZWN0KHBhZGRpbmdCb3gsIDIgLyogQkFDS0dST1VORF9CT1JERVJTICovIHwgNCAvKiBDT05URU5UICovKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVmZmVjdHM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gRWxlbWVudFBhaW50O1xyXG4gICAgfSgpKTtcclxuICAgIHZhciBwYXJzZVN0YWNrVHJlZSA9IGZ1bmN0aW9uIChwYXJlbnQsIHN0YWNraW5nQ29udGV4dCwgcmVhbFN0YWNraW5nQ29udGV4dCwgbGlzdEl0ZW1zKSB7XHJcbiAgICAgICAgcGFyZW50LmNvbnRhaW5lci5lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICB2YXIgdHJlYXRBc1JlYWxTdGFja2luZ0NvbnRleHQgPSBjb250YWlucyhjaGlsZC5mbGFncywgNCAvKiBDUkVBVEVTX1JFQUxfU1RBQ0tJTkdfQ09OVEVYVCAqLyk7XHJcbiAgICAgICAgICAgIHZhciBjcmVhdGVzU3RhY2tpbmdDb250ZXh0ID0gY29udGFpbnMoY2hpbGQuZmxhZ3MsIDIgLyogQ1JFQVRFU19TVEFDS0lOR19DT05URVhUICovKTtcclxuICAgICAgICAgICAgdmFyIHBhaW50Q29udGFpbmVyID0gbmV3IEVsZW1lbnRQYWludChjaGlsZCwgcGFyZW50LmdldFBhcmVudEVmZmVjdHMoKSk7XHJcbiAgICAgICAgICAgIGlmIChjb250YWlucyhjaGlsZC5zdHlsZXMuZGlzcGxheSwgMjA0OCAvKiBMSVNUX0lURU0gKi8pKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0SXRlbXMucHVzaChwYWludENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGxpc3RPd25lckl0ZW1zID0gY29udGFpbnMoY2hpbGQuZmxhZ3MsIDggLyogSVNfTElTVF9PV05FUiAqLykgPyBbXSA6IGxpc3RJdGVtcztcclxuICAgICAgICAgICAgaWYgKHRyZWF0QXNSZWFsU3RhY2tpbmdDb250ZXh0IHx8IGNyZWF0ZXNTdGFja2luZ0NvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRTdGFjayA9IHRyZWF0QXNSZWFsU3RhY2tpbmdDb250ZXh0IHx8IGNoaWxkLnN0eWxlcy5pc1Bvc2l0aW9uZWQoKSA/IHJlYWxTdGFja2luZ0NvbnRleHQgOiBzdGFja2luZ0NvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhY2sgPSBuZXcgU3RhY2tpbmdDb250ZXh0KHBhaW50Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5zdHlsZXMuaXNQb3NpdGlvbmVkKCkgfHwgY2hpbGQuc3R5bGVzLm9wYWNpdHkgPCAxIHx8IGNoaWxkLnN0eWxlcy5pc1RyYW5zZm9ybWVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3JkZXJfMSA9IGNoaWxkLnN0eWxlcy56SW5kZXgub3JkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yZGVyXzEgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleF8xID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2submVnYXRpdmVaSW5kZXguc29tZShmdW5jdGlvbiAoY3VycmVudCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yZGVyXzEgPiBjdXJyZW50LmVsZW1lbnQuY29udGFpbmVyLnN0eWxlcy56SW5kZXgub3JkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleF8xID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmRleF8xID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2submVnYXRpdmVaSW5kZXguc3BsaWNlKGluZGV4XzEsIDAsIHN0YWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob3JkZXJfMSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4XzIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGFjay5wb3NpdGl2ZVpJbmRleC5zb21lKGZ1bmN0aW9uIChjdXJyZW50LCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXJfMSA+IGN1cnJlbnQuZWxlbWVudC5jb250YWluZXIuc3R5bGVzLnpJbmRleC5vcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4XzIgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmRleF8yID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2sucG9zaXRpdmVaSW5kZXguc3BsaWNlKGluZGV4XzIsIDAsIHN0YWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFN0YWNrLnplcm9PckF1dG9aSW5kZXhPclRyYW5zZm9ybWVkT3JPcGFjaXR5LnB1c2goc3RhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5zdHlsZXMuaXNGbG9hdGluZygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFN0YWNrLm5vblBvc2l0aW9uZWRGbG9hdHMucHVzaChzdGFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGFjay5ub25Qb3NpdGlvbmVkSW5saW5lTGV2ZWwucHVzaChzdGFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGFyc2VTdGFja1RyZWUocGFpbnRDb250YWluZXIsIHN0YWNrLCB0cmVhdEFzUmVhbFN0YWNraW5nQ29udGV4dCA/IHN0YWNrIDogcmVhbFN0YWNraW5nQ29udGV4dCwgbGlzdE93bmVySXRlbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLnN0eWxlcy5pc0lubGluZUxldmVsKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFja2luZ0NvbnRleHQuaW5saW5lTGV2ZWwucHVzaChwYWludENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFja2luZ0NvbnRleHQubm9uSW5saW5lTGV2ZWwucHVzaChwYWludENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwYXJzZVN0YWNrVHJlZShwYWludENvbnRhaW5lciwgc3RhY2tpbmdDb250ZXh0LCByZWFsU3RhY2tpbmdDb250ZXh0LCBsaXN0T3duZXJJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5zKGNoaWxkLmZsYWdzLCA4IC8qIElTX0xJU1RfT1dORVIgKi8pKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzTGlzdEl0ZW1zKGNoaWxkLCBsaXN0T3duZXJJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgcHJvY2Vzc0xpc3RJdGVtcyA9IGZ1bmN0aW9uIChvd25lciwgZWxlbWVudHMpIHtcclxuICAgICAgICB2YXIgbnVtYmVyaW5nID0gb3duZXIgaW5zdGFuY2VvZiBPTEVsZW1lbnRDb250YWluZXIgPyBvd25lci5zdGFydCA6IDE7XHJcbiAgICAgICAgdmFyIHJldmVyc2VkID0gb3duZXIgaW5zdGFuY2VvZiBPTEVsZW1lbnRDb250YWluZXIgPyBvd25lci5yZXZlcnNlZCA6IGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBlbGVtZW50c1tpXTtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uY29udGFpbmVyIGluc3RhbmNlb2YgTElFbGVtZW50Q29udGFpbmVyICYmXHJcbiAgICAgICAgICAgICAgICB0eXBlb2YgaXRlbS5jb250YWluZXIudmFsdWUgPT09ICdudW1iZXInICYmXHJcbiAgICAgICAgICAgICAgICBpdGVtLmNvbnRhaW5lci52YWx1ZSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgbnVtYmVyaW5nID0gaXRlbS5jb250YWluZXIudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaXRlbS5saXN0VmFsdWUgPSBjcmVhdGVDb3VudGVyVGV4dChudW1iZXJpbmcsIGl0ZW0uY29udGFpbmVyLnN0eWxlcy5saXN0U3R5bGVUeXBlLCB0cnVlKTtcclxuICAgICAgICAgICAgbnVtYmVyaW5nICs9IHJldmVyc2VkID8gLTEgOiAxO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgcGFyc2VTdGFja2luZ0NvbnRleHRzID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xyXG4gICAgICAgIHZhciBwYWludENvbnRhaW5lciA9IG5ldyBFbGVtZW50UGFpbnQoY29udGFpbmVyLCBbXSk7XHJcbiAgICAgICAgdmFyIHJvb3QgPSBuZXcgU3RhY2tpbmdDb250ZXh0KHBhaW50Q29udGFpbmVyKTtcclxuICAgICAgICB2YXIgbGlzdEl0ZW1zID0gW107XHJcbiAgICAgICAgcGFyc2VTdGFja1RyZWUocGFpbnRDb250YWluZXIsIHJvb3QsIHJvb3QsIGxpc3RJdGVtcyk7XHJcbiAgICAgICAgcHJvY2Vzc0xpc3RJdGVtcyhwYWludENvbnRhaW5lci5jb250YWluZXIsIGxpc3RJdGVtcyk7XHJcbiAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICB9O1xuXG4gICAgdmFyIHBhcnNlUGF0aEZvckJvcmRlciA9IGZ1bmN0aW9uIChjdXJ2ZXMsIGJvcmRlclNpZGUpIHtcclxuICAgICAgICBzd2l0Y2ggKGJvcmRlclNpZGUpIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVBhdGhGcm9tQ3VydmVzKGN1cnZlcy50b3BMZWZ0Qm9yZGVyQm94LCBjdXJ2ZXMudG9wTGVmdFBhZGRpbmdCb3gsIGN1cnZlcy50b3BSaWdodEJvcmRlckJveCwgY3VydmVzLnRvcFJpZ2h0UGFkZGluZ0JveCk7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVQYXRoRnJvbUN1cnZlcyhjdXJ2ZXMudG9wUmlnaHRCb3JkZXJCb3gsIGN1cnZlcy50b3BSaWdodFBhZGRpbmdCb3gsIGN1cnZlcy5ib3R0b21SaWdodEJvcmRlckJveCwgY3VydmVzLmJvdHRvbVJpZ2h0UGFkZGluZ0JveCk7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVQYXRoRnJvbUN1cnZlcyhjdXJ2ZXMuYm90dG9tUmlnaHRCb3JkZXJCb3gsIGN1cnZlcy5ib3R0b21SaWdodFBhZGRpbmdCb3gsIGN1cnZlcy5ib3R0b21MZWZ0Qm9yZGVyQm94LCBjdXJ2ZXMuYm90dG9tTGVmdFBhZGRpbmdCb3gpO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlUGF0aEZyb21DdXJ2ZXMoY3VydmVzLmJvdHRvbUxlZnRCb3JkZXJCb3gsIGN1cnZlcy5ib3R0b21MZWZ0UGFkZGluZ0JveCwgY3VydmVzLnRvcExlZnRCb3JkZXJCb3gsIGN1cnZlcy50b3BMZWZ0UGFkZGluZ0JveCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBjcmVhdGVQYXRoRnJvbUN1cnZlcyA9IGZ1bmN0aW9uIChvdXRlcjEsIGlubmVyMSwgb3V0ZXIyLCBpbm5lcjIpIHtcclxuICAgICAgICB2YXIgcGF0aCA9IFtdO1xyXG4gICAgICAgIGlmIChpc0JlemllckN1cnZlKG91dGVyMSkpIHtcclxuICAgICAgICAgICAgcGF0aC5wdXNoKG91dGVyMS5zdWJkaXZpZGUoMC41LCBmYWxzZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0aC5wdXNoKG91dGVyMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0JlemllckN1cnZlKG91dGVyMikpIHtcclxuICAgICAgICAgICAgcGF0aC5wdXNoKG91dGVyMi5zdWJkaXZpZGUoMC41LCB0cnVlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRoLnB1c2gob3V0ZXIyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzQmV6aWVyQ3VydmUoaW5uZXIyKSkge1xyXG4gICAgICAgICAgICBwYXRoLnB1c2goaW5uZXIyLnN1YmRpdmlkZSgwLjUsIHRydWUpLnJldmVyc2UoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRoLnB1c2goaW5uZXIyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzQmV6aWVyQ3VydmUoaW5uZXIxKSkge1xyXG4gICAgICAgICAgICBwYXRoLnB1c2goaW5uZXIxLnN1YmRpdmlkZSgwLjUsIGZhbHNlKS5yZXZlcnNlKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0aC5wdXNoKGlubmVyMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXRoO1xyXG4gICAgfTtcblxuICAgIHZhciBwYWRkaW5nQm94ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgYm91bmRzID0gZWxlbWVudC5ib3VuZHM7XHJcbiAgICAgICAgdmFyIHN0eWxlcyA9IGVsZW1lbnQuc3R5bGVzO1xyXG4gICAgICAgIHJldHVybiBib3VuZHMuYWRkKHN0eWxlcy5ib3JkZXJMZWZ0V2lkdGgsIHN0eWxlcy5ib3JkZXJUb3BXaWR0aCwgLShzdHlsZXMuYm9yZGVyUmlnaHRXaWR0aCArIHN0eWxlcy5ib3JkZXJMZWZ0V2lkdGgpLCAtKHN0eWxlcy5ib3JkZXJUb3BXaWR0aCArIHN0eWxlcy5ib3JkZXJCb3R0b21XaWR0aCkpO1xyXG4gICAgfTtcclxuICAgIHZhciBjb250ZW50Qm94ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgc3R5bGVzID0gZWxlbWVudC5zdHlsZXM7XHJcbiAgICAgICAgdmFyIGJvdW5kcyA9IGVsZW1lbnQuYm91bmRzO1xyXG4gICAgICAgIHZhciBwYWRkaW5nTGVmdCA9IGdldEFic29sdXRlVmFsdWUoc3R5bGVzLnBhZGRpbmdMZWZ0LCBib3VuZHMud2lkdGgpO1xyXG4gICAgICAgIHZhciBwYWRkaW5nUmlnaHQgPSBnZXRBYnNvbHV0ZVZhbHVlKHN0eWxlcy5wYWRkaW5nUmlnaHQsIGJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgdmFyIHBhZGRpbmdUb3AgPSBnZXRBYnNvbHV0ZVZhbHVlKHN0eWxlcy5wYWRkaW5nVG9wLCBib3VuZHMud2lkdGgpO1xyXG4gICAgICAgIHZhciBwYWRkaW5nQm90dG9tID0gZ2V0QWJzb2x1dGVWYWx1ZShzdHlsZXMucGFkZGluZ0JvdHRvbSwgYm91bmRzLndpZHRoKTtcclxuICAgICAgICByZXR1cm4gYm91bmRzLmFkZChwYWRkaW5nTGVmdCArIHN0eWxlcy5ib3JkZXJMZWZ0V2lkdGgsIHBhZGRpbmdUb3AgKyBzdHlsZXMuYm9yZGVyVG9wV2lkdGgsIC0oc3R5bGVzLmJvcmRlclJpZ2h0V2lkdGggKyBzdHlsZXMuYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQgKyBwYWRkaW5nUmlnaHQpLCAtKHN0eWxlcy5ib3JkZXJUb3BXaWR0aCArIHN0eWxlcy5ib3JkZXJCb3R0b21XaWR0aCArIHBhZGRpbmdUb3AgKyBwYWRkaW5nQm90dG9tKSk7XHJcbiAgICB9O1xuXG4gICAgdmFyIGNhbGN1bGF0ZUJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEgPSBmdW5jdGlvbiAoYmFja2dyb3VuZE9yaWdpbiwgZWxlbWVudCkge1xyXG4gICAgICAgIGlmIChiYWNrZ3JvdW5kT3JpZ2luID09PSAwIC8qIEJPUkRFUl9CT1ggKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuYm91bmRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYmFja2dyb3VuZE9yaWdpbiA9PT0gMiAvKiBDT05URU5UX0JPWCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGVudEJveChlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhZGRpbmdCb3goZWxlbWVudCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbGN1bGF0ZUJhY2tncm91bmRQYWludGluZ0FyZWEgPSBmdW5jdGlvbiAoYmFja2dyb3VuZENsaXAsIGVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoYmFja2dyb3VuZENsaXAgPT09IEJBQ0tHUk9VTkRfQ0xJUC5CT1JERVJfQk9YKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmJvdW5kcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJhY2tncm91bmRDbGlwID09PSBCQUNLR1JPVU5EX0NMSVAuQ09OVEVOVF9CT1gpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRCb3goZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYWRkaW5nQm94KGVsZW1lbnQpO1xyXG4gICAgfTtcclxuICAgIHZhciBjYWxjdWxhdGVCYWNrZ3JvdW5kUmVuZGVyaW5nID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgaW5kZXgsIGludHJpbnNpY1NpemUpIHtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYSA9IGNhbGN1bGF0ZUJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEoZ2V0QmFja2dyb3VuZFZhbHVlRm9ySW5kZXgoY29udGFpbmVyLnN0eWxlcy5iYWNrZ3JvdW5kT3JpZ2luLCBpbmRleCksIGNvbnRhaW5lcik7XHJcbiAgICAgICAgdmFyIGJhY2tncm91bmRQYWludGluZ0FyZWEgPSBjYWxjdWxhdGVCYWNrZ3JvdW5kUGFpbnRpbmdBcmVhKGdldEJhY2tncm91bmRWYWx1ZUZvckluZGV4KGNvbnRhaW5lci5zdHlsZXMuYmFja2dyb3VuZENsaXAsIGluZGV4KSwgY29udGFpbmVyKTtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZEltYWdlU2l6ZSA9IGNhbGN1bGF0ZUJhY2tncm91bmRTaXplKGdldEJhY2tncm91bmRWYWx1ZUZvckluZGV4KGNvbnRhaW5lci5zdHlsZXMuYmFja2dyb3VuZFNpemUsIGluZGV4KSwgaW50cmluc2ljU2l6ZSwgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYSk7XHJcbiAgICAgICAgdmFyIHNpemVXaWR0aCA9IGJhY2tncm91bmRJbWFnZVNpemVbMF0sIHNpemVIZWlnaHQgPSBiYWNrZ3JvdW5kSW1hZ2VTaXplWzFdO1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGdldEFic29sdXRlVmFsdWVGb3JUdXBsZShnZXRCYWNrZ3JvdW5kVmFsdWVGb3JJbmRleChjb250YWluZXIuc3R5bGVzLmJhY2tncm91bmRQb3NpdGlvbiwgaW5kZXgpLCBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLndpZHRoIC0gc2l6ZVdpZHRoLCBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmhlaWdodCAtIHNpemVIZWlnaHQpO1xyXG4gICAgICAgIHZhciBwYXRoID0gY2FsY3VsYXRlQmFja2dyb3VuZFJlcGVhdFBhdGgoZ2V0QmFja2dyb3VuZFZhbHVlRm9ySW5kZXgoY29udGFpbmVyLnN0eWxlcy5iYWNrZ3JvdW5kUmVwZWF0LCBpbmRleCksIHBvc2l0aW9uLCBiYWNrZ3JvdW5kSW1hZ2VTaXplLCBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLCBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhKTtcclxuICAgICAgICB2YXIgb2Zmc2V0WCA9IE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgcG9zaXRpb25bMF0pO1xyXG4gICAgICAgIHZhciBvZmZzZXRZID0gTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCArIHBvc2l0aW9uWzFdKTtcclxuICAgICAgICByZXR1cm4gW3BhdGgsIG9mZnNldFgsIG9mZnNldFksIHNpemVXaWR0aCwgc2l6ZUhlaWdodF07XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzQXV0byA9IGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gaXNJZGVudFRva2VuKHRva2VuKSAmJiB0b2tlbi52YWx1ZSA9PT0gQkFDS0dST1VORF9TSVpFLkFVVE87IH07XHJcbiAgICB2YXIgaGFzSW50cmluc2ljVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcic7IH07XHJcbiAgICB2YXIgY2FsY3VsYXRlQmFja2dyb3VuZFNpemUgPSBmdW5jdGlvbiAoc2l6ZSwgX2EsIGJvdW5kcykge1xyXG4gICAgICAgIHZhciBpbnRyaW5zaWNXaWR0aCA9IF9hWzBdLCBpbnRyaW5zaWNIZWlnaHQgPSBfYVsxXSwgaW50cmluc2ljUHJvcG9ydGlvbiA9IF9hWzJdO1xyXG4gICAgICAgIHZhciBmaXJzdCA9IHNpemVbMF0sIHNlY29uZCA9IHNpemVbMV07XHJcbiAgICAgICAgaWYgKGlzTGVuZ3RoUGVyY2VudGFnZShmaXJzdCkgJiYgc2Vjb25kICYmIGlzTGVuZ3RoUGVyY2VudGFnZShzZWNvbmQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbZ2V0QWJzb2x1dGVWYWx1ZShmaXJzdCwgYm91bmRzLndpZHRoKSwgZ2V0QWJzb2x1dGVWYWx1ZShzZWNvbmQsIGJvdW5kcy5oZWlnaHQpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhhc0ludHJpbnNpY1Byb3BvcnRpb24gPSBoYXNJbnRyaW5zaWNWYWx1ZShpbnRyaW5zaWNQcm9wb3J0aW9uKTtcclxuICAgICAgICBpZiAoaXNJZGVudFRva2VuKGZpcnN0KSAmJiAoZmlyc3QudmFsdWUgPT09IEJBQ0tHUk9VTkRfU0laRS5DT05UQUlOIHx8IGZpcnN0LnZhbHVlID09PSBCQUNLR1JPVU5EX1NJWkUuQ09WRVIpKSB7XHJcbiAgICAgICAgICAgIGlmIChoYXNJbnRyaW5zaWNWYWx1ZShpbnRyaW5zaWNQcm9wb3J0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldFJhdGlvID0gYm91bmRzLndpZHRoIC8gYm91bmRzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRSYXRpbyA8IGludHJpbnNpY1Byb3BvcnRpb24gIT09IChmaXJzdC52YWx1ZSA9PT0gQkFDS0dST1VORF9TSVpFLkNPVkVSKVxyXG4gICAgICAgICAgICAgICAgICAgID8gW2JvdW5kcy53aWR0aCwgYm91bmRzLndpZHRoIC8gaW50cmluc2ljUHJvcG9ydGlvbl1cclxuICAgICAgICAgICAgICAgICAgICA6IFtib3VuZHMuaGVpZ2h0ICogaW50cmluc2ljUHJvcG9ydGlvbiwgYm91bmRzLmhlaWdodF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFtib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaGFzSW50cmluc2ljV2lkdGggPSBoYXNJbnRyaW5zaWNWYWx1ZShpbnRyaW5zaWNXaWR0aCk7XHJcbiAgICAgICAgdmFyIGhhc0ludHJpbnNpY0hlaWdodCA9IGhhc0ludHJpbnNpY1ZhbHVlKGludHJpbnNpY0hlaWdodCk7XHJcbiAgICAgICAgdmFyIGhhc0ludHJpbnNpY0RpbWVuc2lvbnMgPSBoYXNJbnRyaW5zaWNXaWR0aCB8fCBoYXNJbnRyaW5zaWNIZWlnaHQ7XHJcbiAgICAgICAgLy8gSWYgdGhlIGJhY2tncm91bmQtc2l6ZSBpcyBhdXRvIG9yIGF1dG8gYXV0bzpcclxuICAgICAgICBpZiAoaXNBdXRvKGZpcnN0KSAmJiAoIXNlY29uZCB8fCBpc0F1dG8oc2Vjb25kKSkpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGhhcyBib3RoIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIGludHJpbnNpYyBkaW1lbnNpb25zLCBpdCdzIHJlbmRlcmVkIGF0IHRoYXQgc2l6ZS5cclxuICAgICAgICAgICAgaWYgKGhhc0ludHJpbnNpY1dpZHRoICYmIGhhc0ludHJpbnNpY0hlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtpbnRyaW5zaWNXaWR0aCwgaW50cmluc2ljSGVpZ2h0XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJZiB0aGUgaW1hZ2UgaGFzIG5vIGludHJpbnNpYyBkaW1lbnNpb25zIGFuZCBoYXMgbm8gaW50cmluc2ljIHByb3BvcnRpb25zLFxyXG4gICAgICAgICAgICAvLyBpdCdzIHJlbmRlcmVkIGF0IHRoZSBzaXplIG9mIHRoZSBiYWNrZ3JvdW5kIHBvc2l0aW9uaW5nIGFyZWEuXHJcbiAgICAgICAgICAgIGlmICghaGFzSW50cmluc2ljUHJvcG9ydGlvbiAmJiAhaGFzSW50cmluc2ljRGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHRdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRPRE8gSWYgdGhlIGltYWdlIGhhcyBubyBpbnRyaW5zaWMgZGltZW5zaW9ucyBidXQgaGFzIGludHJpbnNpYyBwcm9wb3J0aW9ucywgaXQncyByZW5kZXJlZCBhcyBpZiBjb250YWluIGhhZCBiZWVuIHNwZWNpZmllZCBpbnN0ZWFkLlxyXG4gICAgICAgICAgICAvLyBJZiB0aGUgaW1hZ2UgaGFzIG9ubHkgb25lIGludHJpbnNpYyBkaW1lbnNpb24gYW5kIGhhcyBpbnRyaW5zaWMgcHJvcG9ydGlvbnMsIGl0J3MgcmVuZGVyZWQgYXQgdGhlIHNpemUgY29ycmVzcG9uZGluZyB0byB0aGF0IG9uZSBkaW1lbnNpb24uXHJcbiAgICAgICAgICAgIC8vIFRoZSBvdGhlciBkaW1lbnNpb24gaXMgY29tcHV0ZWQgdXNpbmcgdGhlIHNwZWNpZmllZCBkaW1lbnNpb24gYW5kIHRoZSBpbnRyaW5zaWMgcHJvcG9ydGlvbnMuXHJcbiAgICAgICAgICAgIGlmIChoYXNJbnRyaW5zaWNEaW1lbnNpb25zICYmIGhhc0ludHJpbnNpY1Byb3BvcnRpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciB3aWR0aF8xID0gaGFzSW50cmluc2ljV2lkdGhcclxuICAgICAgICAgICAgICAgICAgICA/IGludHJpbnNpY1dpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgOiBpbnRyaW5zaWNIZWlnaHQgKiBpbnRyaW5zaWNQcm9wb3J0aW9uO1xyXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodF8xID0gaGFzSW50cmluc2ljSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgPyBpbnRyaW5zaWNIZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICA6IGludHJpbnNpY1dpZHRoIC8gaW50cmluc2ljUHJvcG9ydGlvbjtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbd2lkdGhfMSwgaGVpZ2h0XzFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbWFnZSBoYXMgb25seSBvbmUgaW50cmluc2ljIGRpbWVuc2lvbiBidXQgaGFzIG5vIGludHJpbnNpYyBwcm9wb3J0aW9ucyxcclxuICAgICAgICAgICAgLy8gaXQncyByZW5kZXJlZCB1c2luZyB0aGUgc3BlY2lmaWVkIGRpbWVuc2lvbiBhbmQgdGhlIG90aGVyIGRpbWVuc2lvbiBvZiB0aGUgYmFja2dyb3VuZCBwb3NpdGlvbmluZyBhcmVhLlxyXG4gICAgICAgICAgICB2YXIgd2lkdGhfMiA9IGhhc0ludHJpbnNpY1dpZHRoID8gaW50cmluc2ljV2lkdGggOiBib3VuZHMud2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBoZWlnaHRfMiA9IGhhc0ludHJpbnNpY0hlaWdodCA/IGludHJpbnNpY0hlaWdodCA6IGJvdW5kcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHJldHVybiBbd2lkdGhfMiwgaGVpZ2h0XzJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiB0aGUgaW1hZ2UgaGFzIGludHJpbnNpYyBwcm9wb3J0aW9ucywgaXQncyBzdHJldGNoZWQgdG8gdGhlIHNwZWNpZmllZCBkaW1lbnNpb24uXHJcbiAgICAgICAgLy8gVGhlIHVuc3BlY2lmaWVkIGRpbWVuc2lvbiBpcyBjb21wdXRlZCB1c2luZyB0aGUgc3BlY2lmaWVkIGRpbWVuc2lvbiBhbmQgdGhlIGludHJpbnNpYyBwcm9wb3J0aW9ucy5cclxuICAgICAgICBpZiAoaGFzSW50cmluc2ljUHJvcG9ydGlvbikge1xyXG4gICAgICAgICAgICB2YXIgd2lkdGhfMyA9IDA7XHJcbiAgICAgICAgICAgIHZhciBoZWlnaHRfMyA9IDA7XHJcbiAgICAgICAgICAgIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2UoZmlyc3QpKSB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aF8zID0gZ2V0QWJzb2x1dGVWYWx1ZShmaXJzdCwgYm91bmRzLndpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2Uoc2Vjb25kKSkge1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0XzMgPSBnZXRBYnNvbHV0ZVZhbHVlKHNlY29uZCwgYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzQXV0byhmaXJzdCkpIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoXzMgPSBoZWlnaHRfMyAqIGludHJpbnNpY1Byb3BvcnRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIXNlY29uZCB8fCBpc0F1dG8oc2Vjb25kKSkge1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0XzMgPSB3aWR0aF8zIC8gaW50cmluc2ljUHJvcG9ydGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gW3dpZHRoXzMsIGhlaWdodF8zXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgdGhlIGltYWdlIGhhcyBubyBpbnRyaW5zaWMgcHJvcG9ydGlvbnMsIGl0J3Mgc3RyZXRjaGVkIHRvIHRoZSBzcGVjaWZpZWQgZGltZW5zaW9uLlxyXG4gICAgICAgIC8vIFRoZSB1bnNwZWNpZmllZCBkaW1lbnNpb24gaXMgY29tcHV0ZWQgdXNpbmcgdGhlIGltYWdlJ3MgY29ycmVzcG9uZGluZyBpbnRyaW5zaWMgZGltZW5zaW9uLFxyXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG9uZS4gSWYgdGhlcmUgaXMgbm8gc3VjaCBpbnRyaW5zaWMgZGltZW5zaW9uLFxyXG4gICAgICAgIC8vIGl0IGJlY29tZXMgdGhlIGNvcnJlc3BvbmRpbmcgZGltZW5zaW9uIG9mIHRoZSBiYWNrZ3JvdW5kIHBvc2l0aW9uaW5nIGFyZWEuXHJcbiAgICAgICAgdmFyIHdpZHRoID0gbnVsbDtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gbnVsbDtcclxuICAgICAgICBpZiAoaXNMZW5ndGhQZXJjZW50YWdlKGZpcnN0KSkge1xyXG4gICAgICAgICAgICB3aWR0aCA9IGdldEFic29sdXRlVmFsdWUoZmlyc3QsIGJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHNlY29uZCAmJiBpc0xlbmd0aFBlcmNlbnRhZ2Uoc2Vjb25kKSkge1xyXG4gICAgICAgICAgICBoZWlnaHQgPSBnZXRBYnNvbHV0ZVZhbHVlKHNlY29uZCwgYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3aWR0aCAhPT0gbnVsbCAmJiAoIXNlY29uZCB8fCBpc0F1dG8oc2Vjb25kKSkpIHtcclxuICAgICAgICAgICAgaGVpZ2h0ID1cclxuICAgICAgICAgICAgICAgIGhhc0ludHJpbnNpY1dpZHRoICYmIGhhc0ludHJpbnNpY0hlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgID8gKHdpZHRoIC8gaW50cmluc2ljV2lkdGgpICogaW50cmluc2ljSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgOiBib3VuZHMuaGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaGVpZ2h0ICE9PSBudWxsICYmIGlzQXV0byhmaXJzdCkpIHtcclxuICAgICAgICAgICAgd2lkdGggPVxyXG4gICAgICAgICAgICAgICAgaGFzSW50cmluc2ljV2lkdGggJiYgaGFzSW50cmluc2ljSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgPyAoaGVpZ2h0IC8gaW50cmluc2ljSGVpZ2h0KSAqIGludHJpbnNpY1dpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgOiBib3VuZHMud2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3aWR0aCAhPT0gbnVsbCAmJiBoZWlnaHQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNhbGN1bGF0ZSBiYWNrZ3JvdW5kLXNpemUgZm9yIGVsZW1lbnRcIik7XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldEJhY2tncm91bmRWYWx1ZUZvckluZGV4ID0gZnVuY3Rpb24gKHZhbHVlcywgaW5kZXgpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXNbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH07XHJcbiAgICB2YXIgY2FsY3VsYXRlQmFja2dyb3VuZFJlcGVhdFBhdGggPSBmdW5jdGlvbiAocmVwZWF0LCBfYSwgX2IsIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEsIGJhY2tncm91bmRQYWludGluZ0FyZWEpIHtcclxuICAgICAgICB2YXIgeCA9IF9hWzBdLCB5ID0gX2FbMV07XHJcbiAgICAgICAgdmFyIHdpZHRoID0gX2JbMF0sIGhlaWdodCA9IF9iWzFdO1xyXG4gICAgICAgIHN3aXRjaCAocmVwZWF0KSB7XHJcbiAgICAgICAgICAgIGNhc2UgQkFDS0dST1VORF9SRVBFQVQuUkVQRUFUX1g6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgeSkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLndpZHRoKSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCArIHkpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS53aWR0aCksIE1hdGgucm91bmQoaGVpZ2h0ICsgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5KSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCksIE1hdGgucm91bmQoaGVpZ2h0ICsgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5KSlcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGNhc2UgQkFDS0dST1VORF9SRVBFQVQuUkVQRUFUX1k6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyB4KSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyB4ICsgd2lkdGgpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHggKyB3aWR0aCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5oZWlnaHQgKyBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyB4KSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmhlaWdodCArIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wKSlcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGNhc2UgQkFDS0dST1VORF9SRVBFQVQuTk9fUkVQRUFUOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgeCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5KSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHggKyB3aWR0aCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5KSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHggKyB3aWR0aCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5ICsgaGVpZ2h0KSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHgpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgeSArIGhlaWdodCkpXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKE1hdGgucm91bmQoYmFja2dyb3VuZFBhaW50aW5nQXJlYS5sZWZ0KSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLnRvcCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLmxlZnQgKyBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLndpZHRoKSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLnRvcCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLmxlZnQgKyBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLndpZHRoKSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLmhlaWdodCArIGJhY2tncm91bmRQYWludGluZ0FyZWEudG9wKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQYWludGluZ0FyZWEubGVmdCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBhaW50aW5nQXJlYS5oZWlnaHQgKyBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLnRvcCkpXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgU01BTExfSU1BR0UgPSAnZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBQUFBQVAvLy95SDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUJSQUE3JztcblxuICAgIHZhciBTQU1QTEVfVEVYVCA9ICdIaWRkZW4gVGV4dCc7XHJcbiAgICB2YXIgRm9udE1ldHJpY3MgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gRm9udE1ldHJpY3MoZG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLl9kb2N1bWVudCA9IGRvY3VtZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICBGb250TWV0cmljcy5wcm90b3R5cGUucGFyc2VNZXRyaWNzID0gZnVuY3Rpb24gKGZvbnRGYW1pbHksIGZvbnRTaXplKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLl9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgdmFyIGltZyA9IHRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICB2YXIgc3BhbiA9IHRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgICAgdmFyIGJvZHkgPSB0aGlzLl9kb2N1bWVudC5ib2R5O1xyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUuZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IGZvbnRTaXplO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUubWFyZ2luID0gJzAnO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUucGFkZGluZyA9ICcwJztcclxuICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xyXG4gICAgICAgICAgICBpbWcuc3JjID0gU01BTExfSU1BR0U7XHJcbiAgICAgICAgICAgIGltZy53aWR0aCA9IDE7XHJcbiAgICAgICAgICAgIGltZy5oZWlnaHQgPSAxO1xyXG4gICAgICAgICAgICBpbWcuc3R5bGUubWFyZ2luID0gJzAnO1xyXG4gICAgICAgICAgICBpbWcuc3R5bGUucGFkZGluZyA9ICcwJztcclxuICAgICAgICAgICAgaW1nLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAnYmFzZWxpbmUnO1xyXG4gICAgICAgICAgICBzcGFuLnN0eWxlLmZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xyXG4gICAgICAgICAgICBzcGFuLnN0eWxlLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgICAgIHNwYW4uc3R5bGUubWFyZ2luID0gJzAnO1xyXG4gICAgICAgICAgICBzcGFuLnN0eWxlLnBhZGRpbmcgPSAnMCc7XHJcbiAgICAgICAgICAgIHNwYW4uYXBwZW5kQ2hpbGQodGhpcy5fZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoU0FNUExFX1RFWFQpKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHNwYW4pO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW1nKTtcclxuICAgICAgICAgICAgdmFyIGJhc2VsaW5lID0gaW1nLm9mZnNldFRvcCAtIHNwYW4ub2Zmc2V0VG9wICsgMjtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHNwYW4pO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoU0FNUExFX1RFWFQpKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmxpbmVIZWlnaHQgPSAnbm9ybWFsJztcclxuICAgICAgICAgICAgaW1nLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSAnc3VwZXInO1xyXG4gICAgICAgICAgICB2YXIgbWlkZGxlID0gaW1nLm9mZnNldFRvcCAtIGNvbnRhaW5lci5vZmZzZXRUb3AgKyAyO1xyXG4gICAgICAgICAgICBib2R5LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGJhc2VsaW5lOiBiYXNlbGluZSwgbWlkZGxlOiBtaWRkbGUgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEZvbnRNZXRyaWNzLnByb3RvdHlwZS5nZXRNZXRyaWNzID0gZnVuY3Rpb24gKGZvbnRGYW1pbHksIGZvbnRTaXplKSB7XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBmb250RmFtaWx5ICsgXCIgXCIgKyBmb250U2l6ZTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9kYXRhW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhW2tleV0gPSB0aGlzLnBhcnNlTWV0cmljcyhmb250RmFtaWx5LCBmb250U2l6ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFba2V5XTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBGb250TWV0cmljcztcclxuICAgIH0oKSk7XG5cbiAgICB2YXIgTUFTS19PRkZTRVQgPSAxMDAwMDtcclxuICAgIHZhciBDYW52YXNSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBDYW52YXNSZW5kZXJlcihvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZUVmZmVjdHMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBvcHRpb25zLmNhbnZhcyA/IG9wdGlvbnMuY2FudmFzIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmNhbnZhcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBNYXRoLmZsb29yKG9wdGlvbnMud2lkdGggKiBvcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3Iob3B0aW9ucy5oZWlnaHQgKiBvcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gb3B0aW9ucy53aWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZm9udE1ldHJpY3MgPSBuZXcgRm9udE1ldHJpY3MoZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5zY2FsZSh0aGlzLm9wdGlvbnMuc2NhbGUsIHRoaXMub3B0aW9ucy5zY2FsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSgtb3B0aW9ucy54ICsgb3B0aW9ucy5zY3JvbGxYLCAtb3B0aW9ucy55ICsgb3B0aW9ucy5zY3JvbGxZKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XHJcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZUVmZmVjdHMgPSBbXTtcclxuICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKG9wdGlvbnMuaWQpLmRlYnVnKFwiQ2FudmFzIHJlbmRlcmVyIGluaXRpYWxpemVkIChcIiArIG9wdGlvbnMud2lkdGggKyBcInhcIiArIG9wdGlvbnMuaGVpZ2h0ICsgXCIgYXQgXCIgKyBvcHRpb25zLnggKyBcIixcIiArIG9wdGlvbnMueSArIFwiKSB3aXRoIHNjYWxlIFwiICsgb3B0aW9ucy5zY2FsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5hcHBseUVmZmVjdHMgPSBmdW5jdGlvbiAoZWZmZWN0cywgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLl9hY3RpdmVFZmZlY3RzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3BFZmZlY3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlZmZlY3RzLmZpbHRlcihmdW5jdGlvbiAoZWZmZWN0KSB7IHJldHVybiBjb250YWlucyhlZmZlY3QudGFyZ2V0LCB0YXJnZXQpOyB9KS5mb3JFYWNoKGZ1bmN0aW9uIChlZmZlY3QpIHsgcmV0dXJuIF90aGlzLmFwcGx5RWZmZWN0KGVmZmVjdCk7IH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmFwcGx5RWZmZWN0ID0gZnVuY3Rpb24gKGVmZmVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGlmIChpc1RyYW5zZm9ybUVmZmVjdChlZmZlY3QpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUoZWZmZWN0Lm9mZnNldFgsIGVmZmVjdC5vZmZzZXRZKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zZm9ybShlZmZlY3QubWF0cml4WzBdLCBlZmZlY3QubWF0cml4WzFdLCBlZmZlY3QubWF0cml4WzJdLCBlZmZlY3QubWF0cml4WzNdLCBlZmZlY3QubWF0cml4WzRdLCBlZmZlY3QubWF0cml4WzVdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSgtZWZmZWN0Lm9mZnNldFgsIC1lZmZlY3Qub2Zmc2V0WSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzQ2xpcEVmZmVjdChlZmZlY3QpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhdGgoZWZmZWN0LnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguY2xpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZUVmZmVjdHMucHVzaChlZmZlY3QpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnBvcEVmZmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fYWN0aXZlRWZmZWN0cy5wb3AoKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlclN0YWNrID0gZnVuY3Rpb24gKHN0YWNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZXM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMgPSBzdGFjay5lbGVtZW50LmNvbnRhaW5lci5zdHlsZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0eWxlcy5pc1Zpc2libGUoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5nbG9iYWxBbHBoYSA9IHN0eWxlcy5vcGFjaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJTdGFja0NvbnRlbnQoc3RhY2spXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyTm9kZSA9IGZ1bmN0aW9uIChwYWludCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhaW50LmNvbnRhaW5lci5zdHlsZXMuaXNWaXNpYmxlKCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJOb2RlQmFja2dyb3VuZEFuZEJvcmRlcnMocGFpbnQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJOb2RlQ29udGVudChwYWludCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJUZXh0V2l0aExldHRlclNwYWNpbmcgPSBmdW5jdGlvbiAodGV4dCwgbGV0dGVyU3BhY2luZykge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAobGV0dGVyU3BhY2luZyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFRleHQodGV4dC50ZXh0LCB0ZXh0LmJvdW5kcy5sZWZ0LCB0ZXh0LmJvdW5kcy50b3AgKyB0ZXh0LmJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxldHRlcnMgPSB0b0NvZGVQb2ludHModGV4dC50ZXh0KS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGZyb21Db2RlUG9pbnQoaSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0dGVycy5yZWR1Y2UoZnVuY3Rpb24gKGxlZnQsIGxldHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5maWxsVGV4dChsZXR0ZXIsIGxlZnQsIHRleHQuYm91bmRzLnRvcCArIHRleHQuYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxlZnQgKyBfdGhpcy5jdHgubWVhc3VyZVRleHQobGV0dGVyKS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH0sIHRleHQuYm91bmRzLmxlZnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlRm9udFN0eWxlID0gZnVuY3Rpb24gKHN0eWxlcykge1xyXG4gICAgICAgICAgICB2YXIgZm9udFZhcmlhbnQgPSBzdHlsZXMuZm9udFZhcmlhbnRcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHZhcmlhbnQpIHsgcmV0dXJuIHZhcmlhbnQgPT09ICdub3JtYWwnIHx8IHZhcmlhbnQgPT09ICdzbWFsbC1jYXBzJzsgfSlcclxuICAgICAgICAgICAgICAgIC5qb2luKCcnKTtcclxuICAgICAgICAgICAgdmFyIGZvbnRGYW1pbHkgPSBzdHlsZXMuZm9udEZhbWlseS5qb2luKCcsICcpO1xyXG4gICAgICAgICAgICB2YXIgZm9udFNpemUgPSBpc0RpbWVuc2lvblRva2VuKHN0eWxlcy5mb250U2l6ZSlcclxuICAgICAgICAgICAgICAgID8gXCJcIiArIHN0eWxlcy5mb250U2l6ZS5udW1iZXIgKyBzdHlsZXMuZm9udFNpemUudW5pdFxyXG4gICAgICAgICAgICAgICAgOiBzdHlsZXMuZm9udFNpemUubnVtYmVyICsgXCJweFwiO1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgW3N0eWxlcy5mb250U3R5bGUsIGZvbnRWYXJpYW50LCBzdHlsZXMuZm9udFdlaWdodCwgZm9udFNpemUsIGZvbnRGYW1pbHldLmpvaW4oJyAnKSxcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHksXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlclRleHROb2RlID0gZnVuY3Rpb24gKHRleHQsIHN0eWxlcykge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2EsIGZvbnQsIGZvbnRGYW1pbHksIGZvbnRTaXplO1xyXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgICAgICBfYSA9IHRoaXMuY3JlYXRlRm9udFN0eWxlKHN0eWxlcyksIGZvbnQgPSBfYVswXSwgZm9udEZhbWlseSA9IF9hWzFdLCBmb250U2l6ZSA9IF9hWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZvbnQgPSBmb250O1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQudGV4dEJvdW5kcy5mb3JFYWNoKGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhzdHlsZXMuY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXJUZXh0V2l0aExldHRlclNwYWNpbmcodGV4dCwgc3R5bGVzLmxldHRlclNwYWNpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dFNoYWRvd3MgPSBzdHlsZXMudGV4dFNoYWRvdztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRTaGFkb3dzLmxlbmd0aCAmJiB0ZXh0LnRleHQudHJpbSgpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFNoYWRvd3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmV2ZXJzZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKHRleHRTaGFkb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguc2hhZG93Q29sb3IgPSBhc1N0cmluZyh0ZXh0U2hhZG93LmNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguc2hhZG93T2Zmc2V0WCA9IHRleHRTaGFkb3cub2Zmc2V0WC5udW1iZXIgKiBfdGhpcy5vcHRpb25zLnNjYWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dPZmZzZXRZID0gdGV4dFNoYWRvdy5vZmZzZXRZLm51bWJlciAqIF90aGlzLm9wdGlvbnMuc2NhbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd0JsdXIgPSB0ZXh0U2hhZG93LmJsdXIubnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5maWxsVGV4dCh0ZXh0LnRleHQsIHRleHQuYm91bmRzLmxlZnQsIHRleHQuYm91bmRzLnRvcCArIHRleHQuYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dDb2xvciA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd09mZnNldFggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd09mZnNldFkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd0JsdXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHlsZXMudGV4dERlY29yYXRpb25MaW5lLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHN0eWxlcy50ZXh0RGVjb3JhdGlvbkNvbG9yIHx8IHN0eWxlcy5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMudGV4dERlY29yYXRpb25MaW5lLmZvckVhY2goZnVuY3Rpb24gKHRleHREZWNvcmF0aW9uTGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGV4dERlY29yYXRpb25MaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBVTkRFUkxJTkUgKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEcmF3cyBhIGxpbmUgYXQgdGhlIGJhc2VsaW5lIG9mIHRoZSBmb250XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIEFzIHNvbWUgYnJvd3NlcnMgZGlzcGxheSB0aGUgbGluZSBhcyBtb3JlIHRoYW4gMXB4IGlmIHRoZSBmb250LXNpemUgaXMgYmlnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmVlZCB0byB0YWtlIHRoYXQgaW50byBhY2NvdW50IGJvdGggaW4gcG9zaXRpb24gYW5kIHNpemVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYXNlbGluZSA9IF90aGlzLmZvbnRNZXRyaWNzLmdldE1ldHJpY3MoZm9udEZhbWlseSwgZm9udFNpemUpLmJhc2VsaW5lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxSZWN0KHRleHQuYm91bmRzLmxlZnQsIE1hdGgucm91bmQodGV4dC5ib3VuZHMudG9wICsgYmFzZWxpbmUpLCB0ZXh0LmJvdW5kcy53aWR0aCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyIC8qIE9WRVJMSU5FICovOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxSZWN0KHRleHQuYm91bmRzLmxlZnQsIE1hdGgucm91bmQodGV4dC5ib3VuZHMudG9wKSwgdGV4dC5ib3VuZHMud2lkdGgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBMSU5FX1RIUk9VR0ggKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIHRyeSBhbmQgZmluZCBleGFjdCBwb3NpdGlvbiBmb3IgbGluZS10aHJvdWdoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWlkZGxlID0gX3RoaXMuZm9udE1ldHJpY3MuZ2V0TWV0cmljcyhmb250RmFtaWx5LCBmb250U2l6ZSkubWlkZGxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxSZWN0KHRleHQuYm91bmRzLmxlZnQsIE1hdGguY2VpbCh0ZXh0LmJvdW5kcy50b3AgKyBtaWRkbGUpLCB0ZXh0LmJvdW5kcy53aWR0aCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJSZXBsYWNlZEVsZW1lbnQgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBjdXJ2ZXMsIGltYWdlKSB7XHJcbiAgICAgICAgICAgIGlmIChpbWFnZSAmJiBjb250YWluZXIuaW50cmluc2ljV2lkdGggPiAwICYmIGNvbnRhaW5lci5pbnRyaW5zaWNIZWlnaHQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm94ID0gY29udGVudEJveChjb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSBjYWxjdWxhdGVQYWRkaW5nQm94UGF0aChjdXJ2ZXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXRoKHBhdGgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguY2xpcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCBjb250YWluZXIuaW50cmluc2ljV2lkdGgsIGNvbnRhaW5lci5pbnRyaW5zaWNIZWlnaHQsIGJveC5sZWZ0LCBib3gudG9wLCBib3gud2lkdGgsIGJveC5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyTm9kZUNvbnRlbnQgPSBmdW5jdGlvbiAocGFpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciwgY3VydmVzLCBzdHlsZXMsIF9pLCBfYSwgY2hpbGQsIGltYWdlLCBlXzEsIGltYWdlLCBlXzIsIGlmcmFtZVJlbmRlcmVyLCBjYW52YXMsIHNpemUsIGJvdW5kcywgeCwgdGV4dEJvdW5kcywgaW1nLCBpbWFnZSwgdXJsLCBlXzMsIGJvdW5kcztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlFZmZlY3RzKHBhaW50LmVmZmVjdHMsIDQgLyogQ09OVEVOVCAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSBwYWludC5jb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZXMgPSBwYWludC5jdXJ2ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMgPSBjb250YWluZXIuc3R5bGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2kgPSAwLCBfYSA9IGNvbnRhaW5lci50ZXh0Tm9kZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9pIDwgX2EubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyVGV4dE5vZGUoY2hpbGQsIHN0eWxlcyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoY29udGFpbmVyIGluc3RhbmNlb2YgSW1hZ2VFbGVtZW50Q29udGFpbmVyKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgOF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbNSwgNywgLCA4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLm9wdGlvbnMuY2FjaGUubWF0Y2goY29udGFpbmVyLnNyYyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUmVwbGFjZWRFbGVtZW50KGNvbnRhaW5lciwgY3VydmVzLCBpbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZV8xID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKHRoaXMub3B0aW9ucy5pZCkuZXJyb3IoXCJFcnJvciBsb2FkaW5nIGltYWdlIFwiICsgY29udGFpbmVyLnNyYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIENhbnZhc0VsZW1lbnRDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclJlcGxhY2VkRWxlbWVudChjb250YWluZXIsIGN1cnZlcywgY29udGFpbmVyLmNhbnZhcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShjb250YWluZXIgaW5zdGFuY2VvZiBTVkdFbGVtZW50Q29udGFpbmVyKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMTJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzksIDExLCAsIDEyXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLm9wdGlvbnMuY2FjaGUubWF0Y2goY29udGFpbmVyLnN2ZyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclJlcGxhY2VkRWxlbWVudChjb250YWluZXIsIGN1cnZlcywgaW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZV8yID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKHRoaXMub3B0aW9ucy5pZCkuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHN2ZyBcIiArIGNvbnRhaW5lci5zdmcuc3Vic3RyaW5nKDAsIDI1NSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoY29udGFpbmVyIGluc3RhbmNlb2YgSUZyYW1lRWxlbWVudENvbnRhaW5lciAmJiBjb250YWluZXIudHJlZSkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDE0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmcmFtZVJlbmRlcmVyID0gbmV3IENhbnZhc1JlbmRlcmVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5vcHRpb25zLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiB0aGlzLm9wdGlvbnMuc2NhbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb250YWluZXIuYmFja2dyb3VuZENvbG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxYOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGU6IHRoaXMub3B0aW9ucy5jYWNoZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dXaWR0aDogY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0hlaWdodDogY29udGFpbmVyLmhlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBpZnJhbWVSZW5kZXJlci5yZW5kZXIoY29udGFpbmVyLnRyZWUpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcyA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIud2lkdGggJiYgY29udGFpbmVyLmhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZShjYW52YXMsIDAsIDAsIGNvbnRhaW5lci53aWR0aCwgY29udGFpbmVyLmhlaWdodCwgY29udGFpbmVyLmJvdW5kcy5sZWZ0LCBjb250YWluZXIuYm91bmRzLnRvcCwgY29udGFpbmVyLmJvdW5kcy53aWR0aCwgY29udGFpbmVyLmJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBJbnB1dEVsZW1lbnRDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gTWF0aC5taW4oY29udGFpbmVyLmJvdW5kcy53aWR0aCwgY29udGFpbmVyLmJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIudHlwZSA9PT0gQ0hFQ0tCT1gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdGgoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAqIDAuMzkzNjMsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAqIDAuNzkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAqIDAuMTYsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAqIDAuNTU0OSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplICogMC4yNzM0NywgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplICogMC40NDA3MSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplICogMC4zOTY5NCwgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplICogMC41NjQ5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGNvbnRhaW5lci5ib3VuZHMubGVmdCArIHNpemUgKiAwLjcyOTgzLCBjb250YWluZXIuYm91bmRzLnRvcCArIHNpemUgKiAwLjIzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGNvbnRhaW5lci5ib3VuZHMubGVmdCArIHNpemUgKiAwLjg0LCBjb250YWluZXIuYm91bmRzLnRvcCArIHNpemUgKiAwLjM0MDg1KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGNvbnRhaW5lci5ib3VuZHMubGVmdCArIHNpemUgKiAwLjM5MzYzLCBjb250YWluZXIuYm91bmRzLnRvcCArIHNpemUgKiAwLjc5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhJTlBVVF9DT0xPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyLnR5cGUgPT09IFJBRElPKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIuY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5hcmMoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAvIDIsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAvIDIsIHNpemUgLyA0LCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhJTlBVVF9DT0xPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNUZXh0SW5wdXRFbGVtZW50KGNvbnRhaW5lcikgJiYgY29udGFpbmVyLnZhbHVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZvbnQgPSB0aGlzLmNyZWF0ZUZvbnRTdHlsZShzdHlsZXMpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHN0eWxlcy5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEFsaWduID0gY2FudmFzVGV4dEFsaWduKGNvbnRhaW5lci5zdHlsZXMudGV4dEFsaWduKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMgPSBjb250ZW50Qm94KGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjb250YWluZXIuc3R5bGVzLnRleHRBbGlnbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFRFWFRfQUxJR04uQ0VOVEVSOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCArPSBib3VuZHMud2lkdGggLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVEVYVF9BTElHTi5SSUdIVDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggKz0gYm91bmRzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRCb3VuZHMgPSBib3VuZHMuYWRkKHgsIDAsIDAsIC1ib3VuZHMuaGVpZ2h0IC8gMiArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdGgoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCwgYm91bmRzLnRvcCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGgsIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihib3VuZHMubGVmdCwgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguY2xpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dFdpdGhMZXR0ZXJTcGFjaW5nKG5ldyBUZXh0Qm91bmRzKGNvbnRhaW5lci52YWx1ZSwgdGV4dEJvdW5kcyksIHN0eWxlcy5sZXR0ZXJTcGFjaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWlucyhjb250YWluZXIuc3R5bGVzLmRpc3BsYXksIDIwNDggLyogTElTVF9JVEVNICovKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMjBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoY29udGFpbmVyLnN0eWxlcy5saXN0U3R5bGVJbWFnZSAhPT0gbnVsbCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDE5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZyA9IGNvbnRhaW5lci5zdHlsZXMubGlzdFN0eWxlSW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShpbWcudHlwZSA9PT0gQ1NTSW1hZ2VUeXBlLlVSTCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDE4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gaW1nLnVybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzE1LCAxNywgLCAxOF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5vcHRpb25zLmNhY2hlLm1hdGNoKHVybCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoaW1hZ2UsIGNvbnRhaW5lci5ib3VuZHMubGVmdCAtIChpbWFnZS53aWR0aCArIDEwKSwgY29udGFpbmVyLmJvdW5kcy50b3ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMThdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZV8zID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKHRoaXMub3B0aW9ucy5pZCkuZXJyb3IoXCJFcnJvciBsb2FkaW5nIGxpc3Qtc3R5bGUtaW1hZ2UgXCIgKyB1cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMThdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE4OiByZXR1cm4gWzMgLypicmVhayovLCAyMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFpbnQubGlzdFZhbHVlICYmIGNvbnRhaW5lci5zdHlsZXMubGlzdFN0eWxlVHlwZSAhPT0gTElTVF9TVFlMRV9UWVBFLk5PTkUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5mb250ID0gdGhpcy5jcmVhdGVGb250U3R5bGUoc3R5bGVzKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhzdHlsZXMuY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRleHRBbGlnbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzID0gbmV3IEJvdW5kcyhjb250YWluZXIuYm91bmRzLmxlZnQsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgZ2V0QWJzb2x1dGVWYWx1ZShjb250YWluZXIuc3R5bGVzLnBhZGRpbmdUb3AsIGNvbnRhaW5lci5ib3VuZHMud2lkdGgpLCBjb250YWluZXIuYm91bmRzLndpZHRoLCBjb21wdXRlTGluZUhlaWdodChzdHlsZXMubGluZUhlaWdodCwgc3R5bGVzLmZvbnRTaXplLm51bWJlcikgLyAyICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJUZXh0V2l0aExldHRlclNwYWNpbmcobmV3IFRleHRCb3VuZHMocGFpbnQubGlzdFZhbHVlLCBib3VuZHMpLCBzdHlsZXMubGV0dGVyU3BhY2luZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJTdGFja0NvbnRlbnQgPSBmdW5jdGlvbiAoc3RhY2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9pLCBfYSwgY2hpbGQsIF9iLCBfYywgY2hpbGQsIF9kLCBfZSwgY2hpbGQsIF9mLCBfZywgY2hpbGQsIF9oLCBfaiwgY2hpbGQsIF9rLCBfbCwgY2hpbGQsIF9tLCBfbywgY2hpbGQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfcC5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXBvc2l0aW9uLTMvI3BhaW50aW5nLW9yZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEuIHRoZSBiYWNrZ3JvdW5kIGFuZCBib3JkZXJzIG9mIHRoZSBlbGVtZW50IGZvcm1pbmcgdGhlIHN0YWNraW5nIGNvbnRleHQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyTm9kZUJhY2tncm91bmRBbmRCb3JkZXJzKHN0YWNrLmVsZW1lbnQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1wb3NpdGlvbi0zLyNwYWludGluZy1vcmRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMS4gdGhlIGJhY2tncm91bmQgYW5kIGJvcmRlcnMgb2YgdGhlIGVsZW1lbnQgZm9ybWluZyB0aGUgc3RhY2tpbmcgY29udGV4dC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pID0gMCwgX2EgPSBzdGFjay5uZWdhdGl2ZVpJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2kgPCBfYS5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJTdGFjayhjaGlsZCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMy4gRm9yIGFsbCBpdHMgaW4tZmxvdywgbm9uLXBvc2l0aW9uZWQsIGJsb2NrLWxldmVsIGRlc2NlbmRhbnRzIGluIHRyZWUgb3JkZXI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyTm9kZUNvbnRlbnQoc3RhY2suZWxlbWVudCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAzLiBGb3IgYWxsIGl0cyBpbi1mbG93LCBub24tcG9zaXRpb25lZCwgYmxvY2stbGV2ZWwgZGVzY2VuZGFudHMgaW4gdHJlZSBvcmRlcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gMCwgX2MgPSBzdGFjay5ub25JbmxpbmVMZXZlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gNztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2IgPCBfYy5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCAxMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IF9jW19iXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyTm9kZShjaGlsZCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA3XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kID0gMCwgX2UgPSBzdGFjay5ub25Qb3NpdGlvbmVkRmxvYXRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAxMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9kIDwgX2UubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMTRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBfZVtfZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlclN0YWNrKGNoaWxkKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDEzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2QrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDExXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mID0gMCwgX2cgPSBzdGFjay5ub25Qb3NpdGlvbmVkSW5saW5lTGV2ZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDE1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2YgPCBfZy5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCAxOF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IF9nW19mXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyU3RhY2soY2hpbGQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gMTc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ggPSAwLCBfaiA9IHN0YWNrLmlubGluZUxldmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAxOTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9oIDwgX2oubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMjJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBfaltfaF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlck5vZGUoY2hpbGQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gMjE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2sgPSAwLCBfbCA9IHN0YWNrLnplcm9PckF1dG9aSW5kZXhPclRyYW5zZm9ybWVkT3JPcGFjaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAyMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9rIDwgX2wubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMjZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBfbFtfa107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlclN0YWNrKGNoaWxkKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDI1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2srKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDIzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tID0gMCwgX28gPSBzdGFjay5wb3NpdGl2ZVpJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gMjc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfbSA8IF9vLmxlbmd0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDMwXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gX29bX21dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJTdGFjayhjaGlsZCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Auc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAyOTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAyN107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzA6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUubWFzayA9IGZ1bmN0aW9uIChwYXRocykge1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgubW92ZVRvKDAsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8odGhpcy5jYW52YXMud2lkdGgsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8odGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbygwLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8oMCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0UGF0aChwYXRocy5zbGljZSgwKS5yZXZlcnNlKCkpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5wYXRoID0gZnVuY3Rpb24gKHBhdGhzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1hdFBhdGgocGF0aHMpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5mb3JtYXRQYXRoID0gZnVuY3Rpb24gKHBhdGhzKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHBhdGhzLmZvckVhY2goZnVuY3Rpb24gKHBvaW50LCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaXNCZXppZXJDdXJ2ZShwb2ludCkgPyBwb2ludC5zdGFydCA6IHBvaW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4Lm1vdmVUbyhzdGFydC54LCBzdGFydC55KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5saW5lVG8oc3RhcnQueCwgc3RhcnQueSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNCZXppZXJDdXJ2ZShwb2ludCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguYmV6aWVyQ3VydmVUbyhwb2ludC5zdGFydENvbnRyb2wueCwgcG9pbnQuc3RhcnRDb250cm9sLnksIHBvaW50LmVuZENvbnRyb2wueCwgcG9pbnQuZW5kQ29udHJvbC55LCBwb2ludC5lbmQueCwgcG9pbnQuZW5kLnkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJSZXBlYXQgPSBmdW5jdGlvbiAocGF0aCwgcGF0dGVybiwgb2Zmc2V0WCwgb2Zmc2V0WSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhdGgocGF0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHBhdHRlcm47XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZShvZmZzZXRYLCBvZmZzZXRZKTtcclxuICAgICAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUoLW9mZnNldFgsIC1vZmZzZXRZKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZXNpemVJbWFnZSA9IGZ1bmN0aW9uIChpbWFnZSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgICAgICBpZiAoaW1hZ2Uud2lkdGggPT09IHdpZHRoICYmIGltYWdlLmhlaWdodCA9PT0gaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW1hZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2FudmFzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckJhY2tncm91bmRJbWFnZSA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4LCBfbG9vcF8xLCB0aGlzXzEsIF9pLCBfYSwgYmFja2dyb3VuZEltYWdlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBjb250YWluZXIuc3R5bGVzLmJhY2tncm91bmRJbWFnZS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3BfMSA9IGZ1bmN0aW9uIChiYWNrZ3JvdW5kSW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2UsIHVybCwgZV80LCBfYSwgcGF0aCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgcGF0dGVybiwgX2IsIHBhdGgsIHgsIHksIHdpZHRoLCBoZWlnaHQsIF9jLCBsaW5lTGVuZ3RoLCB4MCwgeDEsIHkwLCB5MSwgY2FudmFzLCBjdHgsIGdyYWRpZW50XzEsIHBhdHRlcm4sIF9kLCBwYXRoLCBsZWZ0LCB0b3BfMSwgd2lkdGgsIGhlaWdodCwgcG9zaXRpb24sIHgsIHksIF9lLCByeCwgcnksIHJhZGlhbEdyYWRpZW50XzEsIG1pZFgsIG1pZFksIGYsIGludkY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9mLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoYmFja2dyb3VuZEltYWdlLnR5cGUgPT09IENTU0ltYWdlVHlwZS5VUkwpKSByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBiYWNrZ3JvdW5kSW1hZ2UudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZi50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXNfMS5vcHRpb25zLmNhY2hlLm1hdGNoKHVybCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gX2Yuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVfNCA9IF9mLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpc18xLm9wdGlvbnMuaWQpLmVycm9yKFwiRXJyb3IgbG9hZGluZyBiYWNrZ3JvdW5kLWltYWdlIFwiICsgdXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBjYWxjdWxhdGVCYWNrZ3JvdW5kUmVuZGVyaW5nKGNvbnRhaW5lciwgaW5kZXgsIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uud2lkdGggLyBpbWFnZS5oZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksIHBhdGggPSBfYVswXSwgeCA9IF9hWzFdLCB5ID0gX2FbMl0sIHdpZHRoID0gX2FbM10sIGhlaWdodCA9IF9hWzRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gdGhpc18xLmN0eC5jcmVhdGVQYXR0ZXJuKHRoaXNfMS5yZXNpemVJbWFnZShpbWFnZSwgd2lkdGgsIGhlaWdodCksICdyZXBlYXQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLnJlbmRlclJlcGVhdChwYXRoLCBwYXR0ZXJuLCB4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGluZWFyR3JhZGllbnQoYmFja2dyb3VuZEltYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYiA9IGNhbGN1bGF0ZUJhY2tncm91bmRSZW5kZXJpbmcoY29udGFpbmVyLCBpbmRleCwgW251bGwsIG51bGwsIG51bGxdKSwgcGF0aCA9IF9iWzBdLCB4ID0gX2JbMV0sIHkgPSBfYlsyXSwgd2lkdGggPSBfYlszXSwgaGVpZ2h0ID0gX2JbNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jID0gY2FsY3VsYXRlR3JhZGllbnREaXJlY3Rpb24oYmFja2dyb3VuZEltYWdlLmFuZ2xlLCB3aWR0aCwgaGVpZ2h0KSwgbGluZUxlbmd0aCA9IF9jWzBdLCB4MCA9IF9jWzFdLCB4MSA9IF9jWzJdLCB5MCA9IF9jWzNdLCB5MSA9IF9jWzRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmFkaWVudF8xID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KHgwLCB5MCwgeDEsIHkxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0NvbG9yU3RvcHMoYmFja2dyb3VuZEltYWdlLnN0b3BzLCBsaW5lTGVuZ3RoKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2xvclN0b3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBncmFkaWVudF8xLmFkZENvbG9yU3RvcChjb2xvclN0b3Auc3RvcCwgYXNTdHJpbmcoY29sb3JTdG9wLmNvbG9yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZ3JhZGllbnRfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwICYmIGhlaWdodCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSB0aGlzXzEuY3R4LmNyZWF0ZVBhdHRlcm4oY2FudmFzLCAncmVwZWF0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEucmVuZGVyUmVwZWF0KHBhdGgsIHBhdHRlcm4sIHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzUmFkaWFsR3JhZGllbnQoYmFja2dyb3VuZEltYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZCA9IGNhbGN1bGF0ZUJhY2tncm91bmRSZW5kZXJpbmcoY29udGFpbmVyLCBpbmRleCwgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLCBwYXRoID0gX2RbMF0sIGxlZnQgPSBfZFsxXSwgdG9wXzEgPSBfZFsyXSwgd2lkdGggPSBfZFszXSwgaGVpZ2h0ID0gX2RbNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gYmFja2dyb3VuZEltYWdlLnBvc2l0aW9uLmxlbmd0aCA9PT0gMCA/IFtGSUZUWV9QRVJDRU5UXSA6IGJhY2tncm91bmRJbWFnZS5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IGdldEFic29sdXRlVmFsdWUocG9zaXRpb25bMF0sIHdpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IGdldEFic29sdXRlVmFsdWUocG9zaXRpb25bcG9zaXRpb24ubGVuZ3RoIC0gMV0sIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9lID0gY2FsY3VsYXRlUmFkaXVzKGJhY2tncm91bmRJbWFnZSwgeCwgeSwgd2lkdGgsIGhlaWdodCksIHJ4ID0gX2VbMF0sIHJ5ID0gX2VbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyeCA+IDAgJiYgcnggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpYWxHcmFkaWVudF8xID0gdGhpc18xLmN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChsZWZ0ICsgeCwgdG9wXzEgKyB5LCAwLCBsZWZ0ICsgeCwgdG9wXzEgKyB5LCByeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzQ29sb3JTdG9wcyhiYWNrZ3JvdW5kSW1hZ2Uuc3RvcHMsIHJ4ICogMikuZm9yRWFjaChmdW5jdGlvbiAoY29sb3JTdG9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJhZGlhbEdyYWRpZW50XzEuYWRkQ29sb3JTdG9wKGNvbG9yU3RvcC5zdG9wLCBhc1N0cmluZyhjb2xvclN0b3AuY29sb3IpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLnBhdGgocGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEuY3R4LmZpbGxTdHlsZSA9IHJhZGlhbEdyYWRpZW50XzE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnggIT09IHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlkWCA9IGNvbnRhaW5lci5ib3VuZHMubGVmdCArIDAuNSAqIGNvbnRhaW5lci5ib3VuZHMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlkWSA9IGNvbnRhaW5lci5ib3VuZHMudG9wICsgMC41ICogY29udGFpbmVyLmJvdW5kcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZiA9IHJ5IC8gcng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52RiA9IDEgLyBmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jdHgudHJhbnNsYXRlKG1pZFgsIG1pZFkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jdHgudHJhbnNmb3JtKDEsIDAsIDAsIGYsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jdHgudHJhbnNsYXRlKC1taWRYLCAtbWlkWSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLmN0eC5maWxsUmVjdChsZWZ0LCBpbnZGICogKHRvcF8xIC0gbWlkWSkgKyBtaWRZLCB3aWR0aCwgaGVpZ2h0ICogaW52Rik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEuY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZi5sYWJlbCA9IDY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2kgPSAwLCBfYSA9IGNvbnRhaW5lci5zdHlsZXMuYmFja2dyb3VuZEltYWdlLnNsaWNlKDApLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2kgPCBfYS5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZSA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNSAvKnlpZWxkKiovLCBfbG9vcF8xKGJhY2tncm91bmRJbWFnZSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckJvcmRlciA9IGZ1bmN0aW9uIChjb2xvciwgc2lkZSwgY3VydmVQb2ludHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aChwYXJzZVBhdGhGb3JCb3JkZXIoY3VydmVQb2ludHMsIHNpZGUpKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJOb2RlQmFja2dyb3VuZEFuZEJvcmRlcnMgPSBmdW5jdGlvbiAocGFpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlcywgaGFzQmFja2dyb3VuZCwgYm9yZGVycywgYmFja2dyb3VuZFBhaW50aW5nQXJlYSwgc2lkZSwgX2ksIGJvcmRlcnNfMSwgYm9yZGVyO1xyXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlFZmZlY3RzKHBhaW50LmVmZmVjdHMsIDIgLyogQkFDS0dST1VORF9CT1JERVJTICovKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlcyA9IHBhaW50LmNvbnRhaW5lci5zdHlsZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNCYWNrZ3JvdW5kID0gIWlzVHJhbnNwYXJlbnQoc3R5bGVzLmJhY2tncm91bmRDb2xvcikgfHwgc3R5bGVzLmJhY2tncm91bmRJbWFnZS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJzID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHN0eWxlcy5ib3JkZXJUb3BTdHlsZSwgY29sb3I6IHN0eWxlcy5ib3JkZXJUb3BDb2xvciB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHN0eWxlcy5ib3JkZXJSaWdodFN0eWxlLCBjb2xvcjogc3R5bGVzLmJvcmRlclJpZ2h0Q29sb3IgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiBzdHlsZXMuYm9yZGVyQm90dG9tU3R5bGUsIGNvbG9yOiBzdHlsZXMuYm9yZGVyQm90dG9tQ29sb3IgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiBzdHlsZXMuYm9yZGVyTGVmdFN0eWxlLCBjb2xvcjogc3R5bGVzLmJvcmRlckxlZnRDb2xvciB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFBhaW50aW5nQXJlYSA9IGNhbGN1bGF0ZUJhY2tncm91bmRDdXJ2ZWRQYWludGluZ0FyZWEoZ2V0QmFja2dyb3VuZFZhbHVlRm9ySW5kZXgoc3R5bGVzLmJhY2tncm91bmRDbGlwLCAwKSwgcGFpbnQuY3VydmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGhhc0JhY2tncm91bmQgfHwgc3R5bGVzLmJveFNoYWRvdy5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmNsaXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNUcmFuc3BhcmVudChzdHlsZXMuYmFja2dyb3VuZENvbG9yKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyQmFja2dyb3VuZEltYWdlKHBhaW50LmNvbnRhaW5lcildO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMuYm94U2hhZG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJldmVyc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChzaGFkb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBib3JkZXJCb3hBcmVhID0gY2FsY3VsYXRlQm9yZGVyQm94UGF0aChwYWludC5jdXJ2ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXNrT2Zmc2V0ID0gc2hhZG93Lmluc2V0ID8gMCA6IE1BU0tfT0ZGU0VUO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGFkb3dQYWludGluZ0FyZWEgPSB0cmFuc2Zvcm1QYXRoKGJvcmRlckJveEFyZWEsIC1tYXNrT2Zmc2V0ICsgKHNoYWRvdy5pbnNldCA/IDEgOiAtMSkgKiBzaGFkb3cuc3ByZWFkLm51bWJlciwgKHNoYWRvdy5pbnNldCA/IDEgOiAtMSkgKiBzaGFkb3cuc3ByZWFkLm51bWJlciwgc2hhZG93LnNwcmVhZC5udW1iZXIgKiAoc2hhZG93Lmluc2V0ID8gLTIgOiAyKSwgc2hhZG93LnNwcmVhZC5udW1iZXIgKiAoc2hhZG93Lmluc2V0ID8gLTIgOiAyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoYWRvdy5pbnNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXRoKGJvcmRlckJveEFyZWEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguY2xpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5tYXNrKHNoYWRvd1BhaW50aW5nQXJlYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5tYXNrKGJvcmRlckJveEFyZWEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguY2xpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXRoKHNoYWRvd1BhaW50aW5nQXJlYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dPZmZzZXRYID0gc2hhZG93Lm9mZnNldFgubnVtYmVyICsgbWFza09mZnNldDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguc2hhZG93T2Zmc2V0WSA9IHNoYWRvdy5vZmZzZXRZLm51bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguc2hhZG93Q29sb3IgPSBhc1N0cmluZyhzaGFkb3cuY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dCbHVyID0gc2hhZG93LmJsdXIubnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5maWxsU3R5bGUgPSBzaGFkb3cuaW5zZXQgPyBhc1N0cmluZyhzaGFkb3cuY29sb3IpIDogJ3JnYmEoMCwwLDAsMSknO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pID0gMCwgYm9yZGVyc18xID0gYm9yZGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2kgPCBib3JkZXJzXzEubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgN107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXIgPSBib3JkZXJzXzFbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoYm9yZGVyLnN0eWxlICE9PSBCT1JERVJfU1RZTEUuTk9ORSAmJiAhaXNUcmFuc3BhcmVudChib3JkZXIuY29sb3IpKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlckJvcmRlcihib3JkZXIuY29sb3IsIHNpZGUsIHBhaW50LmN1cnZlcyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGUrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2krKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YWNrO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyh0aGlzLm9wdGlvbnMuYmFja2dyb3VuZENvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCh0aGlzLm9wdGlvbnMueCAtIHRoaXMub3B0aW9ucy5zY3JvbGxYLCB0aGlzLm9wdGlvbnMueSAtIHRoaXMub3B0aW9ucy5zY3JvbGxZLCB0aGlzLm9wdGlvbnMud2lkdGgsIHRoaXMub3B0aW9ucy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sgPSBwYXJzZVN0YWNraW5nQ29udGV4dHMoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlclN0YWNrKHN0YWNrKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlFZmZlY3RzKFtdLCAyIC8qIEJBQ0tHUk9VTkRfQk9SREVSUyAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5jYW52YXNdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBDYW52YXNSZW5kZXJlcjtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgaXNUZXh0SW5wdXRFbGVtZW50ID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xyXG4gICAgICAgIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBUZXh0YXJlYUVsZW1lbnRDb250YWluZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIFNlbGVjdEVsZW1lbnRDb250YWluZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIElucHV0RWxlbWVudENvbnRhaW5lciAmJiBjb250YWluZXIudHlwZSAhPT0gUkFESU8gJiYgY29udGFpbmVyLnR5cGUgIT09IENIRUNLQk9YKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbGN1bGF0ZUJhY2tncm91bmRDdXJ2ZWRQYWludGluZ0FyZWEgPSBmdW5jdGlvbiAoY2xpcCwgY3VydmVzKSB7XHJcbiAgICAgICAgc3dpdGNoIChjbGlwKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQkFDS0dST1VORF9DTElQLkJPUkRFUl9CT1g6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlQm9yZGVyQm94UGF0aChjdXJ2ZXMpO1xyXG4gICAgICAgICAgICBjYXNlIEJBQ0tHUk9VTkRfQ0xJUC5DT05URU5UX0JPWDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVDb250ZW50Qm94UGF0aChjdXJ2ZXMpO1xyXG4gICAgICAgICAgICBjYXNlIEJBQ0tHUk9VTkRfQ0xJUC5QQURESU5HX0JPWDpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVQYWRkaW5nQm94UGF0aChjdXJ2ZXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgY2FudmFzVGV4dEFsaWduID0gZnVuY3Rpb24gKHRleHRBbGlnbikge1xyXG4gICAgICAgIHN3aXRjaCAodGV4dEFsaWduKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVEVYVF9BTElHTi5DRU5URVI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2NlbnRlcic7XHJcbiAgICAgICAgICAgIGNhc2UgVEVYVF9BTElHTi5SSUdIVDpcclxuICAgICAgICAgICAgICAgIHJldHVybiAncmlnaHQnO1xyXG4gICAgICAgICAgICBjYXNlIFRFWFRfQUxJR04uTEVGVDpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnbGVmdCc7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBGb3JlaWduT2JqZWN0UmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gRm9yZWlnbk9iamVjdFJlbmRlcmVyKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBvcHRpb25zLmNhbnZhcyA/IG9wdGlvbnMuY2FudmFzIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBNYXRoLmZsb29yKG9wdGlvbnMud2lkdGggKiBvcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihvcHRpb25zLmhlaWdodCAqIG9wdGlvbnMuc2NhbGUpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS53aWR0aCA9IG9wdGlvbnMud2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5zY2FsZSh0aGlzLm9wdGlvbnMuc2NhbGUsIHRoaXMub3B0aW9ucy5zY2FsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSgtb3B0aW9ucy54ICsgb3B0aW9ucy5zY3JvbGxYLCAtb3B0aW9ucy55ICsgb3B0aW9ucy5zY3JvbGxZKTtcclxuICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKG9wdGlvbnMuaWQpLmRlYnVnKFwiRVhQRVJJTUVOVEFMIEZvcmVpZ25PYmplY3QgcmVuZGVyZXIgaW5pdGlhbGl6ZWQgKFwiICsgb3B0aW9ucy53aWR0aCArIFwieFwiICsgb3B0aW9ucy5oZWlnaHQgKyBcIiBhdCBcIiArIG9wdGlvbnMueCArIFwiLFwiICsgb3B0aW9ucy55ICsgXCIpIHdpdGggc2NhbGUgXCIgKyBvcHRpb25zLnNjYWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRm9yZWlnbk9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ZnLCBpbWc7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdmcgPSBjcmVhdGVGb3JlaWduT2JqZWN0U1ZHKE1hdGgubWF4KHRoaXMub3B0aW9ucy53aW5kb3dXaWR0aCwgdGhpcy5vcHRpb25zLndpZHRoKSAqIHRoaXMub3B0aW9ucy5zY2FsZSwgTWF0aC5tYXgodGhpcy5vcHRpb25zLndpbmRvd0hlaWdodCwgdGhpcy5vcHRpb25zLmhlaWdodCkgKiB0aGlzLm9wdGlvbnMuc2NhbGUsIHRoaXMub3B0aW9ucy5zY3JvbGxYICogdGhpcy5vcHRpb25zLnNjYWxlLCB0aGlzLm9wdGlvbnMuc2Nyb2xsWSAqIHRoaXMub3B0aW9ucy5zY2FsZSwgZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBsb2FkU2VyaWFsaXplZFNWRyQxKHN2ZyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMub3B0aW9ucy53aWR0aCAqIHRoaXMub3B0aW9ucy5zY2FsZSwgdGhpcy5vcHRpb25zLmhlaWdodCAqIHRoaXMub3B0aW9ucy5zY2FsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoaW1nLCAtdGhpcy5vcHRpb25zLnggKiB0aGlzLm9wdGlvbnMuc2NhbGUsIC10aGlzLm9wdGlvbnMueSAqIHRoaXMub3B0aW9ucy5zY2FsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5jYW52YXNdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBGb3JlaWduT2JqZWN0UmVuZGVyZXI7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIGxvYWRTZXJpYWxpemVkU1ZHJDEgPSBmdW5jdGlvbiAoc3ZnKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShpbWcpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpbWcub25lcnJvciA9IHJlamVjdDtcclxuICAgICAgICAgICAgaW1nLnNyYyA9IFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsXCIgKyBlbmNvZGVVUklDb21wb25lbnQobmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyhzdmcpKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XG5cbiAgICB2YXIgX3RoaXMgPSB1bmRlZmluZWQ7XHJcbiAgICB2YXIgcGFyc2VDb2xvciQxID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBjb2xvci5wYXJzZShQYXJzZXIuY3JlYXRlKHZhbHVlKS5wYXJzZUNvbXBvbmVudFZhbHVlKCkpOyB9O1xyXG4gICAgdmFyIGh0bWwyY2FudmFzID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxyXG4gICAgICAgIHJldHVybiByZW5kZXJFbGVtZW50KGVsZW1lbnQsIG9wdGlvbnMpO1xyXG4gICAgfTtcclxuICAgIENhY2hlU3RvcmFnZS5zZXRDb250ZXh0KHdpbmRvdyk7XHJcbiAgICB2YXIgcmVuZGVyRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRzKSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQsIGRlZmF1bHRWaWV3LCBpbnN0YW5jZU5hbWUsIF9hLCB3aWR0aCwgaGVpZ2h0LCBsZWZ0LCB0b3AsIGRlZmF1bHRSZXNvdXJjZU9wdGlvbnMsIHJlc291cmNlT3B0aW9ucywgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMsIHdpbmRvd0JvdW5kcywgZG9jdW1lbnRDbG9uZXIsIGNsb25lZEVsZW1lbnQsIGNvbnRhaW5lciwgZG9jdW1lbnRCYWNrZ3JvdW5kQ29sb3IsIGJvZHlCYWNrZ3JvdW5kQ29sb3IsIGJnQ29sb3IsIGRlZmF1bHRCYWNrZ3JvdW5kQ29sb3IsIGJhY2tncm91bmRDb2xvciwgcmVuZGVyT3B0aW9ucywgY2FudmFzLCByZW5kZXJlciwgcm9vdCwgcmVuZGVyZXI7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgb3duZXJEb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW93bmVyRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRWxlbWVudCBpcyBub3QgYXR0YWNoZWQgdG8gYSBEb2N1bWVudFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZpZXcgPSBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZGVmYXVsdFZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRG9jdW1lbnQgaXMgbm90IGF0dGFjaGVkIHRvIGEgV2luZG93XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZU5hbWUgPSAoTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTAwMCkgKyBEYXRlLm5vdygpKS50b1N0cmluZygxNik7XHJcbiAgICAgICAgICAgICAgICAgICAgX2EgPSBpc0JvZHlFbGVtZW50KGVsZW1lbnQpIHx8IGlzSFRNTEVsZW1lbnQoZWxlbWVudCkgPyBwYXJzZURvY3VtZW50U2l6ZShvd25lckRvY3VtZW50KSA6IHBhcnNlQm91bmRzKGVsZW1lbnQpLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQsIGxlZnQgPSBfYS5sZWZ0LCB0b3AgPSBfYS50b3A7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFJlc291cmNlT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dUYWludDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVGltZW91dDogMTUwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5OiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZUNPUlM6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZU9wdGlvbnMgPSBfX2Fzc2lnbih7fSwgZGVmYXVsdFJlc291cmNlT3B0aW9ucywgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogb3B0cy5jYWNoZSA/IG9wdHMuY2FjaGUgOiBDYWNoZVN0b3JhZ2UuY3JlYXRlKGluc3RhbmNlTmFtZSwgcmVzb3VyY2VPcHRpb25zKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2luZzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ29udGFpbmVyOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JlaWduT2JqZWN0UmVuZGVyaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGU6IGRlZmF1bHRWaWV3LmRldmljZVBpeGVsUmF0aW8gfHwgMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93V2lkdGg6IGRlZmF1bHRWaWV3LmlubmVyV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0hlaWdodDogZGVmYXVsdFZpZXcuaW5uZXJIZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFg6IGRlZmF1bHRWaWV3LnBhZ2VYT2Zmc2V0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxZOiBkZWZhdWx0Vmlldy5wYWdlWU9mZnNldCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogbGVmdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogdG9wLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogTWF0aC5jZWlsKHdpZHRoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLmNlaWwoaGVpZ2h0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGluc3RhbmNlTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9fYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgcmVzb3VyY2VPcHRpb25zLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dCb3VuZHMgPSBuZXcgQm91bmRzKG9wdGlvbnMuc2Nyb2xsWCwgb3B0aW9ucy5zY3JvbGxZLCBvcHRpb25zLndpbmRvd1dpZHRoLCBvcHRpb25zLndpbmRvd0hlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmNyZWF0ZSh7IGlkOiBpbnN0YW5jZU5hbWUsIGVuYWJsZWQ6IG9wdGlvbnMubG9nZ2luZyB9KTtcclxuICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VOYW1lKS5kZWJ1ZyhcIlN0YXJ0aW5nIGRvY3VtZW50IGNsb25lXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Q2xvbmVyID0gbmV3IERvY3VtZW50Q2xvbmVyKGVsZW1lbnQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGluc3RhbmNlTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25jbG9uZTogb3B0aW9ucy5vbmNsb25lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZ25vcmVFbGVtZW50czogb3B0aW9ucy5pZ25vcmVFbGVtZW50cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5saW5lSW1hZ2VzOiBvcHRpb25zLmZvcmVpZ25PYmplY3RSZW5kZXJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlTdHlsZXM6IG9wdGlvbnMuZm9yZWlnbk9iamVjdFJlbmRlcmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lZEVsZW1lbnQgPSBkb2N1bWVudENsb25lci5jbG9uZWRSZWZlcmVuY2VFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2xvbmVkRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZWplY3QoXCJVbmFibGUgdG8gZmluZCBlbGVtZW50IGluIGNsb25lZCBpZnJhbWVcIildO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBkb2N1bWVudENsb25lci50b0lGcmFtZShvd25lckRvY3VtZW50LCB3aW5kb3dCb3VuZHMpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRCYWNrZ3JvdW5kQ29sb3IgPSBvd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlQ29sb3IkMShnZXRDb21wdXRlZFN0eWxlKG93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5iYWNrZ3JvdW5kQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogQ09MT1JTLlRSQU5TUEFSRU5UO1xyXG4gICAgICAgICAgICAgICAgICAgIGJvZHlCYWNrZ3JvdW5kQ29sb3IgPSBvd25lckRvY3VtZW50LmJvZHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUNvbG9yJDEoZ2V0Q29tcHV0ZWRTdHlsZShvd25lckRvY3VtZW50LmJvZHkpLmJhY2tncm91bmRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBDT0xPUlMuVFJBTlNQQVJFTlQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYmdDb2xvciA9IG9wdHMuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRCYWNrZ3JvdW5kQ29sb3IgPSB0eXBlb2YgYmdDb2xvciA9PT0gJ3N0cmluZycgPyBwYXJzZUNvbG9yJDEoYmdDb2xvcikgOiBiZ0NvbG9yID09PSBudWxsID8gQ09MT1JTLlRSQU5TUEFSRU5UIDogMHhmZmZmZmZmZjtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBlbGVtZW50ID09PSBvd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGlzVHJhbnNwYXJlbnQoZG9jdW1lbnRCYWNrZ3JvdW5kQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGlzVHJhbnNwYXJlbnQoYm9keUJhY2tncm91bmRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGRlZmF1bHRCYWNrZ3JvdW5kQ29sb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGJvZHlCYWNrZ3JvdW5kQ29sb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jdW1lbnRCYWNrZ3JvdW5kQ29sb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0QmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlck9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbnN0YW5jZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiBvcHRpb25zLmNhY2hlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXM6IG9wdGlvbnMuY2FudmFzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGU6IG9wdGlvbnMuc2NhbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IG9wdGlvbnMueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogb3B0aW9ucy55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxYOiBvcHRpb25zLnNjcm9sbFgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFk6IG9wdGlvbnMuc2Nyb2xsWSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogb3B0aW9ucy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1dpZHRoOiBvcHRpb25zLndpbmRvd1dpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dIZWlnaHQ6IG9wdGlvbnMud2luZG93SGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMuZm9yZWlnbk9iamVjdFJlbmRlcmluZykgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlTmFtZSkuZGVidWcoXCJEb2N1bWVudCBjbG9uZWQsIHVzaW5nIGZvcmVpZ24gb2JqZWN0IHJlbmRlcmluZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlciA9IG5ldyBGb3JlaWduT2JqZWN0UmVuZGVyZXIocmVuZGVyT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVuZGVyZXIucmVuZGVyKGNsb25lZEVsZW1lbnQpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlTmFtZSkuZGVidWcoXCJEb2N1bWVudCBjbG9uZWQsIHVzaW5nIGNvbXB1dGVkIHJlbmRlcmluZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBDYWNoZVN0b3JhZ2UuYXR0YWNoSW5zdGFuY2Uob3B0aW9ucy5jYWNoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlTmFtZSkuZGVidWcoXCJTdGFydGluZyBET00gcGFyc2luZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICByb290ID0gcGFyc2VUcmVlKGNsb25lZEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIENhY2hlU3RvcmFnZS5kZXRhY2hJbnN0YW5jZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kQ29sb3IgPT09IHJvb3Quc3R5bGVzLmJhY2tncm91bmRDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb290LnN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IgPSBDT0xPUlMuVFJBTlNQQVJFTlQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZShpbnN0YW5jZU5hbWUpLmRlYnVnKFwiU3RhcnRpbmcgcmVuZGVyZXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIgPSBuZXcgQ2FudmFzUmVuZGVyZXIocmVuZGVyT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVuZGVyZXIucmVuZGVyKHJvb3QpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA1O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnJlbW92ZUNvbnRhaW5lciA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIURvY3VtZW50Q2xvbmVyLmRlc3Ryb3koY29udGFpbmVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlTmFtZSkuZXJyb3IoXCJDYW5ub3QgZGV0YWNoIGNsb25lZCBpZnJhbWUgYXMgaXQgaXMgbm90IGluIHRoZSBET00gYW55bW9yZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VOYW1lKS5kZWJ1ZyhcIkZpbmlzaGVkIHJlbmRlcmluZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZGVzdHJveShpbnN0YW5jZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIENhY2hlU3RvcmFnZS5kZXN0cm95KGluc3RhbmNlTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNhbnZhc107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pOyB9O1xuXG4gICAgcmV0dXJuIGh0bWwyY2FudmFzO1xuXG59KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odG1sMmNhbnZhcy5qcy5tYXBcbiIsIi8qKlxuICogaHRtbDJwZGYuanMgdjAuOS4yXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgRXJpayBLb29wbWFuc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnanNwZGYnKSwgcmVxdWlyZSgnaHRtbDJjYW52YXMnKSkgOlxuXHR0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydqc3BkZicsICdodG1sMmNhbnZhcyddLCBmYWN0b3J5KSA6XG5cdChnbG9iYWwuaHRtbDJwZGYgPSBmYWN0b3J5KGdsb2JhbC5qc1BERixnbG9iYWwuaHRtbDJjYW52YXMpKTtcbn0odGhpcywgKGZ1bmN0aW9uIChqc1BERixodG1sMmNhbnZhcykgeyAndXNlIHN0cmljdCc7XG5cbmpzUERGID0ganNQREYgJiYganNQREYuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSA/IGpzUERGWydkZWZhdWx0J10gOiBqc1BERjtcbmh0bWwyY2FudmFzID0gaHRtbDJjYW52YXMgJiYgaHRtbDJjYW52YXMuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSA/IGh0bWwyY2FudmFzWydkZWZhdWx0J10gOiBodG1sMmNhbnZhcztcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmo7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbn07XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuLy8gRGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGEgdmFyaWFibGUvb2JqZWN0LlxudmFyIG9ialR5cGUgPSBmdW5jdGlvbiBvYmpUeXBlKG9iaikge1xuICB2YXIgdHlwZSA9IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG9iaik7XG4gIGlmICh0eXBlID09PSAndW5kZWZpbmVkJykgcmV0dXJuICd1bmRlZmluZWQnO2Vsc2UgaWYgKHR5cGUgPT09ICdzdHJpbmcnIHx8IG9iaiBpbnN0YW5jZW9mIFN0cmluZykgcmV0dXJuICdzdHJpbmcnO2Vsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInIHx8IG9iaiBpbnN0YW5jZW9mIE51bWJlcikgcmV0dXJuICdudW1iZXInO2Vsc2UgaWYgKHR5cGUgPT09ICdmdW5jdGlvbicgfHwgb2JqIGluc3RhbmNlb2YgRnVuY3Rpb24pIHJldHVybiAnZnVuY3Rpb24nO2Vsc2UgaWYgKCEhb2JqICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHJldHVybiAnYXJyYXknO2Vsc2UgaWYgKG9iaiAmJiBvYmoubm9kZVR5cGUgPT09IDEpIHJldHVybiAnZWxlbWVudCc7ZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHJldHVybiAnb2JqZWN0JztlbHNlIHJldHVybiAndW5rbm93bic7XG59O1xuXG4vLyBDcmVhdGUgYW4gSFRNTCBlbGVtZW50IHdpdGggb3B0aW9uYWwgY2xhc3NOYW1lLCBpbm5lckhUTUwsIGFuZCBzdHlsZS5cbnZhciBjcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWdOYW1lLCBvcHQpIHtcbiAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgaWYgKG9wdC5jbGFzc05hbWUpIGVsLmNsYXNzTmFtZSA9IG9wdC5jbGFzc05hbWU7XG4gIGlmIChvcHQuaW5uZXJIVE1MKSB7XG4gICAgZWwuaW5uZXJIVE1MID0gb3B0LmlubmVySFRNTDtcbiAgICB2YXIgc2NyaXB0cyA9IGVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcbiAgICBmb3IgKHZhciBpID0gc2NyaXB0cy5sZW5ndGg7IGktLSA+IDA7IG51bGwpIHtcbiAgICAgIHNjcmlwdHNbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHRzW2ldKTtcbiAgICB9XG4gIH1cbiAgZm9yICh2YXIga2V5IGluIG9wdC5zdHlsZSkge1xuICAgIGVsLnN0eWxlW2tleV0gPSBvcHQuc3R5bGVba2V5XTtcbiAgfVxuICByZXR1cm4gZWw7XG59O1xuXG4vLyBEZWVwLWNsb25lIGEgbm9kZSBhbmQgcHJlc2VydmUgY29udGVudHMvcHJvcGVydGllcy5cbnZhciBjbG9uZU5vZGUgPSBmdW5jdGlvbiBjbG9uZU5vZGUobm9kZSwgamF2YXNjcmlwdEVuYWJsZWQpIHtcbiAgLy8gUmVjdXJzaXZlbHkgY2xvbmUgdGhlIG5vZGUuXG4gIHZhciBjbG9uZSA9IG5vZGUubm9kZVR5cGUgPT09IDMgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLm5vZGVWYWx1ZSkgOiBub2RlLmNsb25lTm9kZShmYWxzZSk7XG4gIGZvciAodmFyIGNoaWxkID0gbm9kZS5maXJzdENoaWxkOyBjaGlsZDsgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZykge1xuICAgIGlmIChqYXZhc2NyaXB0RW5hYmxlZCA9PT0gdHJ1ZSB8fCBjaGlsZC5ub2RlVHlwZSAhPT0gMSB8fCBjaGlsZC5ub2RlTmFtZSAhPT0gJ1NDUklQVCcpIHtcbiAgICAgIGNsb25lLmFwcGVuZENoaWxkKGNsb25lTm9kZShjaGlsZCwgamF2YXNjcmlwdEVuYWJsZWQpKTtcbiAgICB9XG4gIH1cblxuICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgIC8vIFByZXNlcnZlIGNvbnRlbnRzL3Byb3BlcnRpZXMgb2Ygc3BlY2lhbCBub2Rlcy5cbiAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJ0NBTlZBUycpIHtcbiAgICAgIGNsb25lLndpZHRoID0gbm9kZS53aWR0aDtcbiAgICAgIGNsb25lLmhlaWdodCA9IG5vZGUuaGVpZ2h0O1xuICAgICAgY2xvbmUuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2Uobm9kZSwgMCwgMCk7XG4gICAgfSBlbHNlIGlmIChub2RlLm5vZGVOYW1lID09PSAnVEVYVEFSRUEnIHx8IG5vZGUubm9kZU5hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICBjbG9uZS52YWx1ZSA9IG5vZGUudmFsdWU7XG4gICAgfVxuXG4gICAgLy8gUHJlc2VydmUgdGhlIG5vZGUncyBzY3JvbGwgcG9zaXRpb24gd2hlbiBpdCBsb2Fkcy5cbiAgICBjbG9uZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgY2xvbmUuc2Nyb2xsVG9wID0gbm9kZS5zY3JvbGxUb3A7XG4gICAgICBjbG9uZS5zY3JvbGxMZWZ0ID0gbm9kZS5zY3JvbGxMZWZ0O1xuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgLy8gUmV0dXJuIHRoZSBjbG9uZWQgbm9kZS5cbiAgcmV0dXJuIGNsb25lO1xufTtcblxuLy8gQ29udmVydCB1bml0cyBmcm9tIHB4IHVzaW5nIHRoZSBjb252ZXJzaW9uIHZhbHVlICdrJyBmcm9tIGpzUERGLlxudmFyIHVuaXRDb252ZXJ0ID0gZnVuY3Rpb24gdW5pdENvbnZlcnQob2JqLCBrKSB7XG4gIGlmIChvYmpUeXBlKG9iaikgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIG9iaiAqIDcyIC8gOTYgLyBrO1xuICB9IGVsc2Uge1xuICAgIHZhciBuZXdPYmogPSB7fTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldICogNzIgLyA5NiAvIGs7XG4gICAgfVxuICAgIHJldHVybiBuZXdPYmo7XG4gIH1cbn07XG5cbi8vIENvbnZlcnQgdW5pdHMgdG8gcHggdXNpbmcgdGhlIGNvbnZlcnNpb24gdmFsdWUgJ2snIGZyb20ganNQREYuXG52YXIgdG9QeCA9IGZ1bmN0aW9uIHRvUHgodmFsLCBrKSB7XG4gIHJldHVybiBNYXRoLmZsb29yKHZhbCAqIGsgLyA3MiAqIDk2KTtcbn07XG5cbnZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XG5cbmZ1bmN0aW9uIGNvbW1vbmpzUmVxdWlyZSAoKSB7XG5cdHRocm93IG5ldyBFcnJvcignRHluYW1pYyByZXF1aXJlcyBhcmUgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgYnkgcm9sbHVwLXBsdWdpbi1jb21tb25qcycpO1xufVxuXG5cblxuZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuXHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG59XG5cbnZhciBlczZQcm9taXNlID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuLyohXG4gKiBAb3ZlcnZpZXcgZXM2LXByb21pc2UgLSBhIHRpbnkgaW1wbGVtZW50YXRpb24gb2YgUHJvbWlzZXMvQSsuXG4gKiBAY29weXJpZ2h0IENvcHlyaWdodCAoYykgMjAxNCBZZWh1ZGEgS2F0eiwgVG9tIERhbGUsIFN0ZWZhbiBQZW5uZXIgYW5kIGNvbnRyaWJ1dG9ycyAoQ29udmVyc2lvbiB0byBFUzYgQVBJIGJ5IEpha2UgQXJjaGliYWxkKVxuICogQGxpY2Vuc2UgICBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZVxuICogICAgICAgICAgICBTZWUgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3N0ZWZhbnBlbm5lci9lczYtcHJvbWlzZS9tYXN0ZXIvTElDRU5TRVxuICogQHZlcnNpb24gICB2NC4yLjUrN2YyYjUyNmRcbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbn0oY29tbW9uanNHbG9iYWwsIChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIG9iamVjdE9yRnVuY3Rpb24oeCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB4O1xuICByZXR1cm4geCAhPT0gbnVsbCAmJiAodHlwZSA9PT0gJ29iamVjdCcgfHwgdHlwZSA9PT0gJ2Z1bmN0aW9uJyk7XG59XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG59XG5cblxuXG52YXIgX2lzQXJyYXkgPSB2b2lkIDA7XG5pZiAoQXJyYXkuaXNBcnJheSkge1xuICBfaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG59IGVsc2Uge1xuICBfaXNBcnJheSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcbn1cblxudmFyIGlzQXJyYXkgPSBfaXNBcnJheTtcblxudmFyIGxlbiA9IDA7XG52YXIgdmVydHhOZXh0ID0gdm9pZCAwO1xudmFyIGN1c3RvbVNjaGVkdWxlckZuID0gdm9pZCAwO1xuXG52YXIgYXNhcCA9IGZ1bmN0aW9uIGFzYXAoY2FsbGJhY2ssIGFyZykge1xuICBxdWV1ZVtsZW5dID0gY2FsbGJhY2s7XG4gIHF1ZXVlW2xlbiArIDFdID0gYXJnO1xuICBsZW4gKz0gMjtcbiAgaWYgKGxlbiA9PT0gMikge1xuICAgIC8vIElmIGxlbiBpcyAyLCB0aGF0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byBzY2hlZHVsZSBhbiBhc3luYyBmbHVzaC5cbiAgICAvLyBJZiBhZGRpdGlvbmFsIGNhbGxiYWNrcyBhcmUgcXVldWVkIGJlZm9yZSB0aGUgcXVldWUgaXMgZmx1c2hlZCwgdGhleVxuICAgIC8vIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoaXMgZmx1c2ggdGhhdCB3ZSBhcmUgc2NoZWR1bGluZy5cbiAgICBpZiAoY3VzdG9tU2NoZWR1bGVyRm4pIHtcbiAgICAgIGN1c3RvbVNjaGVkdWxlckZuKGZsdXNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NoZWR1bGVGbHVzaCgpO1xuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gc2V0U2NoZWR1bGVyKHNjaGVkdWxlRm4pIHtcbiAgY3VzdG9tU2NoZWR1bGVyRm4gPSBzY2hlZHVsZUZuO1xufVxuXG5mdW5jdGlvbiBzZXRBc2FwKGFzYXBGbikge1xuICBhc2FwID0gYXNhcEZuO1xufVxuXG52YXIgYnJvd3NlcldpbmRvdyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdW5kZWZpbmVkO1xudmFyIGJyb3dzZXJHbG9iYWwgPSBicm93c2VyV2luZG93IHx8IHt9O1xudmFyIEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyID0gYnJvd3Nlckdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGJyb3dzZXJHbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbnZhciBpc05vZGUgPSB0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHt9LnRvU3RyaW5nLmNhbGwocHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJztcblxuLy8gdGVzdCBmb3Igd2ViIHdvcmtlciBidXQgbm90IGluIElFMTBcbnZhciBpc1dvcmtlciA9IHR5cGVvZiBVaW50OENsYW1wZWRBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGltcG9ydFNjcmlwdHMgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBNZXNzYWdlQ2hhbm5lbCAhPT0gJ3VuZGVmaW5lZCc7XG5cbi8vIG5vZGVcbmZ1bmN0aW9uIHVzZU5leHRUaWNrKCkge1xuICAvLyBub2RlIHZlcnNpb24gMC4xMC54IGRpc3BsYXlzIGEgZGVwcmVjYXRpb24gd2FybmluZyB3aGVuIG5leHRUaWNrIGlzIHVzZWQgcmVjdXJzaXZlbHlcbiAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9jdWpvanMvd2hlbi9pc3N1ZXMvNDEwIGZvciBkZXRhaWxzXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICB9O1xufVxuXG4vLyB2ZXJ0eFxuZnVuY3Rpb24gdXNlVmVydHhUaW1lcigpIHtcbiAgaWYgKHR5cGVvZiB2ZXJ0eE5leHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZlcnR4TmV4dChmbHVzaCk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB1c2VTZXRUaW1lb3V0KCk7XG59XG5cbmZ1bmN0aW9uIHVzZU11dGF0aW9uT2JzZXJ2ZXIoKSB7XG4gIHZhciBpdGVyYXRpb25zID0gMDtcbiAgdmFyIG9ic2VydmVyID0gbmV3IEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKGZsdXNoKTtcbiAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gIG9ic2VydmVyLm9ic2VydmUobm9kZSwgeyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgbm9kZS5kYXRhID0gaXRlcmF0aW9ucyA9ICsraXRlcmF0aW9ucyAlIDI7XG4gIH07XG59XG5cbi8vIHdlYiB3b3JrZXJcbmZ1bmN0aW9uIHVzZU1lc3NhZ2VDaGFubmVsKCkge1xuICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZsdXNoO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VTZXRUaW1lb3V0KCkge1xuICAvLyBTdG9yZSBzZXRUaW1lb3V0IHJlZmVyZW5jZSBzbyBlczYtcHJvbWlzZSB3aWxsIGJlIHVuYWZmZWN0ZWQgYnlcbiAgLy8gb3RoZXIgY29kZSBtb2RpZnlpbmcgc2V0VGltZW91dCAobGlrZSBzaW5vbi51c2VGYWtlVGltZXJzKCkpXG4gIHZhciBnbG9iYWxTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZ2xvYmFsU2V0VGltZW91dChmbHVzaCwgMSk7XG4gIH07XG59XG5cbnZhciBxdWV1ZSA9IG5ldyBBcnJheSgxMDAwKTtcbmZ1bmN0aW9uIGZsdXNoKCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gcXVldWVbaV07XG4gICAgdmFyIGFyZyA9IHF1ZXVlW2kgKyAxXTtcblxuICAgIGNhbGxiYWNrKGFyZyk7XG5cbiAgICBxdWV1ZVtpXSA9IHVuZGVmaW5lZDtcbiAgICBxdWV1ZVtpICsgMV0gPSB1bmRlZmluZWQ7XG4gIH1cblxuICBsZW4gPSAwO1xufVxuXG5mdW5jdGlvbiBhdHRlbXB0VmVydHgoKSB7XG4gIHRyeSB7XG4gICAgdmFyIHZlcnR4ID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKS5yZXF1aXJlKCd2ZXJ0eCcpO1xuICAgIHZlcnR4TmV4dCA9IHZlcnR4LnJ1bk9uTG9vcCB8fCB2ZXJ0eC5ydW5PbkNvbnRleHQ7XG4gICAgcmV0dXJuIHVzZVZlcnR4VGltZXIoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB1c2VTZXRUaW1lb3V0KCk7XG4gIH1cbn1cblxudmFyIHNjaGVkdWxlRmx1c2ggPSB2b2lkIDA7XG4vLyBEZWNpZGUgd2hhdCBhc3luYyBtZXRob2QgdG8gdXNlIHRvIHRyaWdnZXJpbmcgcHJvY2Vzc2luZyBvZiBxdWV1ZWQgY2FsbGJhY2tzOlxuaWYgKGlzTm9kZSkge1xuICBzY2hlZHVsZUZsdXNoID0gdXNlTmV4dFRpY2soKTtcbn0gZWxzZSBpZiAoQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZU11dGF0aW9uT2JzZXJ2ZXIoKTtcbn0gZWxzZSBpZiAoaXNXb3JrZXIpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZU1lc3NhZ2VDaGFubmVsKCk7XG59IGVsc2UgaWYgKGJyb3dzZXJXaW5kb3cgPT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgY29tbW9uanNSZXF1aXJlID09PSAnZnVuY3Rpb24nKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSBhdHRlbXB0VmVydHgoKTtcbn0gZWxzZSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VTZXRUaW1lb3V0KCk7XG59XG5cbmZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIHBhcmVudCA9IHRoaXM7XG5cbiAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaWYgKGNoaWxkW1BST01JU0VfSURdID09PSB1bmRlZmluZWQpIHtcbiAgICBtYWtlUHJvbWlzZShjaGlsZCk7XG4gIH1cblxuICB2YXIgX3N0YXRlID0gcGFyZW50Ll9zdGF0ZTtcblxuXG4gIGlmIChfc3RhdGUpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbX3N0YXRlIC0gMV07XG4gICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2soX3N0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHBhcmVudC5fcmVzdWx0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufVxuXG4vKipcbiAgYFByb21pc2UucmVzb2x2ZWAgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlY29tZSByZXNvbHZlZCB3aXRoIHRoZVxuICBwYXNzZWQgYHZhbHVlYC4gSXQgaXMgc2hvcnRoYW5kIGZvciB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlc29sdmUoMSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKDEpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVzb2x2ZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSB2YWx1ZSB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aFxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIGZ1bGZpbGxlZCB3aXRoIHRoZSBnaXZlblxuICBgdmFsdWVgXG4qL1xuZnVuY3Rpb24gcmVzb2x2ZSQxKG9iamVjdCkge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBDb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcbiAgcmVzb2x2ZShwcm9taXNlLCBvYmplY3QpO1xuICByZXR1cm4gcHJvbWlzZTtcbn1cblxudmFyIFBST01JU0VfSUQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgUEVORElORyA9IHZvaWQgMDtcbnZhciBGVUxGSUxMRUQgPSAxO1xudmFyIFJFSkVDVEVEID0gMjtcblxudmFyIFRSWV9DQVRDSF9FUlJPUiA9IHsgZXJyb3I6IG51bGwgfTtcblxuZnVuY3Rpb24gc2VsZkZ1bGZpbGxtZW50KCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG59XG5cbmZ1bmN0aW9uIGNhbm5vdFJldHVybk93bigpIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbn1cblxuZnVuY3Rpb24gZ2V0VGhlbihwcm9taXNlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBUUllfQ0FUQ0hfRVJST1IuZXJyb3IgPSBlcnJvcjtcbiAgICByZXR1cm4gVFJZX0NBVENIX0VSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyeVRoZW4odGhlbiQkMSwgdmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcikge1xuICB0cnkge1xuICAgIHRoZW4kJDEuY2FsbCh2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSwgdGhlbiQkMSkge1xuICBhc2FwKGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgdmFyIHNlYWxlZCA9IGZhbHNlO1xuICAgIHZhciBlcnJvciA9IHRyeVRoZW4odGhlbiQkMSwgdGhlbmFibGUsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHNlYWxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgaWYgKHRoZW5hYmxlICE9PSB2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGlmIChzZWFsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VhbGVkID0gdHJ1ZTtcblxuICAgICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSwgJ1NldHRsZTogJyArIChwcm9taXNlLl9sYWJlbCB8fCAnIHVua25vd24gcHJvbWlzZScpKTtcblxuICAgIGlmICghc2VhbGVkICYmIGVycm9yKSB7XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICB9XG4gIH0sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSkge1xuICBpZiAodGhlbmFibGUuX3N0YXRlID09PSBGVUxGSUxMRUQpIHtcbiAgICBmdWxmaWxsKHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICB9IGVsc2UgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gUkVKRUNURUQpIHtcbiAgICByZWplY3QocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gIH0gZWxzZSB7XG4gICAgc3Vic2NyaWJlKHRoZW5hYmxlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHJldHVybiByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4kJDEpIHtcbiAgaWYgKG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IgPT09IHByb21pc2UuY29uc3RydWN0b3IgJiYgdGhlbiQkMSA9PT0gdGhlbiAmJiBtYXliZVRoZW5hYmxlLmNvbnN0cnVjdG9yLnJlc29sdmUgPT09IHJlc29sdmUkMSkge1xuICAgIGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICB9IGVsc2Uge1xuICAgIGlmICh0aGVuJCQxID09PSBUUllfQ0FUQ0hfRVJST1IpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBUUllfQ0FUQ0hfRVJST1IuZXJyb3IpO1xuICAgICAgVFJZX0NBVENIX0VSUk9SLmVycm9yID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHRoZW4kJDEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odGhlbiQkMSkpIHtcbiAgICAgIGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuJCQxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSkge1xuICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICByZWplY3QocHJvbWlzZSwgc2VsZkZ1bGZpbGxtZW50KCkpO1xuICB9IGVsc2UgaWYgKG9iamVjdE9yRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSwgZ2V0VGhlbih2YWx1ZSkpO1xuICB9IGVsc2Uge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgfVxuXG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvbWlzZS5fcmVzdWx0ID0gdmFsdWU7XG4gIHByb21pc2UuX3N0YXRlID0gRlVMRklMTEVEO1xuXG4gIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICBhc2FwKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9zdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBfc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG5cbiAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICBfc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gIF9zdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gPSBvblJlamVjdGlvbjtcblxuICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHBhcmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hpbGQgPSB2b2lkIDAsXG4gICAgICBjYWxsYmFjayA9IHZvaWQgMCxcbiAgICAgIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH1cbiAgfVxuXG4gIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG59XG5cbmZ1bmN0aW9uIHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gY2FsbGJhY2soZGV0YWlsKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIFRSWV9DQVRDSF9FUlJPUi5lcnJvciA9IGU7XG4gICAgcmV0dXJuIFRSWV9DQVRDSF9FUlJPUjtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBwcm9taXNlLCBjYWxsYmFjaywgZGV0YWlsKSB7XG4gIHZhciBoYXNDYWxsYmFjayA9IGlzRnVuY3Rpb24oY2FsbGJhY2spLFxuICAgICAgdmFsdWUgPSB2b2lkIDAsXG4gICAgICBlcnJvciA9IHZvaWQgMCxcbiAgICAgIHN1Y2NlZWRlZCA9IHZvaWQgMCxcbiAgICAgIGZhaWxlZCA9IHZvaWQgMDtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB2YWx1ZSA9IHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpO1xuXG4gICAgaWYgKHZhbHVlID09PSBUUllfQ0FUQ0hfRVJST1IpIHtcbiAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICBlcnJvciA9IHZhbHVlLmVycm9yO1xuICAgICAgdmFsdWUuZXJyb3IgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkZXRhaWw7XG4gICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIC8vIG5vb3BcbiAgfSBlbHNlIGlmIChoYXNDYWxsYmFjayAmJiBzdWNjZWVkZWQpIHtcbiAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgfSBlbHNlIGlmIChmYWlsZWQpIHtcbiAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IEZVTEZJTExFRCkge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IFJFSkVDVEVEKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0aWFsaXplUHJvbWlzZShwcm9taXNlLCByZXNvbHZlcikge1xuICB0cnkge1xuICAgIHJlc29sdmVyKGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHZhbHVlKSB7XG4gICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiByZWplY3RQcm9taXNlKHJlYXNvbikge1xuICAgICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZWplY3QocHJvbWlzZSwgZSk7XG4gIH1cbn1cblxudmFyIGlkID0gMDtcbmZ1bmN0aW9uIG5leHRJZCgpIHtcbiAgcmV0dXJuIGlkKys7XG59XG5cbmZ1bmN0aW9uIG1ha2VQcm9taXNlKHByb21pc2UpIHtcbiAgcHJvbWlzZVtQUk9NSVNFX0lEXSA9IGlkKys7XG4gIHByb21pc2UuX3N0YXRlID0gdW5kZWZpbmVkO1xuICBwcm9taXNlLl9yZXN1bHQgPSB1bmRlZmluZWQ7XG4gIHByb21pc2UuX3N1YnNjcmliZXJzID0gW107XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRpb25FcnJvcigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvcignQXJyYXkgTWV0aG9kcyBtdXN0IGJlIHByb3ZpZGVkIGFuIEFycmF5Jyk7XG59XG5cbnZhciBFbnVtZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICAgIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG5cbiAgICBpZiAoIXRoaXMucHJvbWlzZVtQUk9NSVNFX0lEXSkge1xuICAgICAgbWFrZVByb21pc2UodGhpcy5wcm9taXNlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgIHRoaXMubGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgdGhpcy5fcmVtYWluaW5nID0gaW5wdXQubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuXG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICAgIHRoaXMuX2VudW1lcmF0ZShpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZWplY3QodGhpcy5wcm9taXNlLCB2YWxpZGF0aW9uRXJyb3IoKSk7XG4gICAgfVxuICB9XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uIF9lbnVtZXJhdGUoaW5wdXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgdGhpcy5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9lYWNoRW50cnkoaW5wdXRbaV0sIGkpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gX2VhY2hFbnRyeShlbnRyeSwgaSkge1xuICAgIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgICB2YXIgcmVzb2x2ZSQkMSA9IGMucmVzb2x2ZTtcblxuXG4gICAgaWYgKHJlc29sdmUkJDEgPT09IHJlc29sdmUkMSkge1xuICAgICAgdmFyIF90aGVuID0gZ2V0VGhlbihlbnRyeSk7XG5cbiAgICAgIGlmIChfdGhlbiA9PT0gdGhlbiAmJiBlbnRyeS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9yZW1haW5pbmctLTtcbiAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgICB9IGVsc2UgaWYgKGMgPT09IFByb21pc2UkMSkge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBjKG5vb3ApO1xuICAgICAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCBfdGhlbik7XG4gICAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChwcm9taXNlLCBpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChuZXcgYyhmdW5jdGlvbiAocmVzb2x2ZSQkMSkge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlJCQxKGVudHJ5KTtcbiAgICAgICAgfSksIGkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl93aWxsU2V0dGxlQXQocmVzb2x2ZSQkMShlbnRyeSksIGkpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fc2V0dGxlZEF0ID0gZnVuY3Rpb24gX3NldHRsZWRBdChzdGF0ZSwgaSwgdmFsdWUpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXMucHJvbWlzZTtcblxuXG4gICAgaWYgKHByb21pc2UuX3N0YXRlID09PSBQRU5ESU5HKSB7XG4gICAgICB0aGlzLl9yZW1haW5pbmctLTtcblxuICAgICAgaWYgKHN0YXRlID09PSBSRUpFQ1RFRCkge1xuICAgICAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fd2lsbFNldHRsZUF0ID0gZnVuY3Rpb24gX3dpbGxTZXR0bGVBdChwcm9taXNlLCBpKSB7XG4gICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuXG4gICAgc3Vic2NyaWJlKHByb21pc2UsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZW51bWVyYXRvci5fc2V0dGxlZEF0KEZVTEZJTExFRCwgaSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoUkVKRUNURUQsIGksIHJlYXNvbik7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIEVudW1lcmF0b3I7XG59KCk7XG5cbi8qKlxuICBgUHJvbWlzZS5hbGxgIGFjY2VwdHMgYW4gYXJyYXkgb2YgcHJvbWlzZXMsIGFuZCByZXR1cm5zIGEgbmV3IHByb21pc2Ugd2hpY2hcbiAgaXMgZnVsZmlsbGVkIHdpdGggYW4gYXJyYXkgb2YgZnVsZmlsbG1lbnQgdmFsdWVzIGZvciB0aGUgcGFzc2VkIHByb21pc2VzLCBvclxuICByZWplY3RlZCB3aXRoIHRoZSByZWFzb24gb2YgdGhlIGZpcnN0IHBhc3NlZCBwcm9taXNlIHRvIGJlIHJlamVjdGVkLiBJdCBjYXN0cyBhbGxcbiAgZWxlbWVudHMgb2YgdGhlIHBhc3NlZCBpdGVyYWJsZSB0byBwcm9taXNlcyBhcyBpdCBydW5zIHRoaXMgYWxnb3JpdGhtLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSByZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSByZXNvbHZlKDIpO1xuICBsZXQgcHJvbWlzZTMgPSByZXNvbHZlKDMpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gVGhlIGFycmF5IGhlcmUgd291bGQgYmUgWyAxLCAyLCAzIF07XG4gIH0pO1xuICBgYGBcblxuICBJZiBhbnkgb2YgdGhlIGBwcm9taXNlc2AgZ2l2ZW4gdG8gYGFsbGAgYXJlIHJlamVjdGVkLCB0aGUgZmlyc3QgcHJvbWlzZVxuICB0aGF0IGlzIHJlamVjdGVkIHdpbGwgYmUgZ2l2ZW4gYXMgYW4gYXJndW1lbnQgdG8gdGhlIHJldHVybmVkIHByb21pc2VzJ3NcbiAgcmVqZWN0aW9uIGhhbmRsZXIuIEZvciBleGFtcGxlOlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSByZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSByZWplY3QobmV3IEVycm9yKFwiMlwiKSk7XG4gIGxldCBwcm9taXNlMyA9IHJlamVjdChuZXcgRXJyb3IoXCIzXCIpKTtcbiAgbGV0IHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zIGJlY2F1c2UgdGhlcmUgYXJlIHJlamVjdGVkIHByb21pc2VzIVxuICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgIC8vIGVycm9yLm1lc3NhZ2UgPT09IFwiMlwiXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIGFsbFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QXJyYXl9IGVudHJpZXMgYXJyYXkgb2YgcHJvbWlzZXNcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgbGFiZWxpbmcgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCBgcHJvbWlzZXNgIGhhdmUgYmVlblxuICBmdWxmaWxsZWQsIG9yIHJlamVjdGVkIGlmIGFueSBvZiB0aGVtIGJlY29tZSByZWplY3RlZC5cbiAgQHN0YXRpY1xuKi9cbmZ1bmN0aW9uIGFsbChlbnRyaWVzKSB7XG4gIHJldHVybiBuZXcgRW51bWVyYXRvcih0aGlzLCBlbnRyaWVzKS5wcm9taXNlO1xufVxuXG4vKipcbiAgYFByb21pc2UucmFjZWAgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoIGlzIHNldHRsZWQgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZVxuICBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBzZXR0bGUuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDInKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyByZXN1bHQgPT09ICdwcm9taXNlIDInIGJlY2F1c2UgaXQgd2FzIHJlc29sdmVkIGJlZm9yZSBwcm9taXNlMVxuICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgfSk7XG4gIGBgYFxuXG4gIGBQcm9taXNlLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3RcbiAgc2V0dGxlZCBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZVxuICBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBzZXR0bGVkIHByb21pc2UgaGFzXG4gIGJlY29tZSByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZFxuICBwcm9taXNlIHdpbGwgYmVjb21lIHJlamVjdGVkOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDEnKTtcbiAgICB9LCAyMDApO1xuICB9KTtcblxuICBsZXQgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ3Byb21pc2UgMicpKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVuc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGV4YW1wbGUgcmVhbC13b3JsZCB1c2UgY2FzZSBpcyBpbXBsZW1lbnRpbmcgdGltZW91dHM6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBQcm9taXNlLnJhY2UoW2FqYXgoJ2Zvby5qc29uJyksIHRpbWVvdXQoNTAwMCldKVxuICBgYGBcblxuICBAbWV0aG9kIHJhY2VcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBwcm9taXNlcyBhcnJheSBvZiBwcm9taXNlcyB0byBvYnNlcnZlXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHdoaWNoIHNldHRsZXMgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZSBmaXJzdCBwYXNzZWRcbiAgcHJvbWlzZSB0byBzZXR0bGUuXG4qL1xuZnVuY3Rpb24gcmFjZShlbnRyaWVzKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLnJlc29sdmUoZW50cmllc1tpXSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICBgUHJvbWlzZS5yZWplY3RgIHJldHVybnMgYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIHBhc3NlZCBgcmVhc29uYC5cbiAgSXQgaXMgc2hvcnRoYW5kIGZvciB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCFcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCFcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVqZWN0XG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBbnl9IHJlYXNvbiB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aC5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2UgcmVqZWN0ZWQgd2l0aCB0aGUgZ2l2ZW4gYHJlYXNvbmAuXG4qL1xuZnVuY3Rpb24gcmVqZWN0JDEocmVhc29uKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG4gIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3ApO1xuICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIG5lZWRzUmVzb2x2ZXIoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYSByZXNvbHZlciBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIHByb21pc2UgY29uc3RydWN0b3InKTtcbn1cblxuZnVuY3Rpb24gbmVlZHNOZXcoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdQcm9taXNlJzogUGxlYXNlIHVzZSB0aGUgJ25ldycgb3BlcmF0b3IsIHRoaXMgb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG59XG5cbi8qKlxuICBQcm9taXNlIG9iamVjdHMgcmVwcmVzZW50IHRoZSBldmVudHVhbCByZXN1bHQgb2YgYW4gYXN5bmNocm9ub3VzIG9wZXJhdGlvbi4gVGhlXG4gIHByaW1hcnkgd2F5IG9mIGludGVyYWN0aW5nIHdpdGggYSBwcm9taXNlIGlzIHRocm91Z2ggaXRzIGB0aGVuYCBtZXRob2QsIHdoaWNoXG4gIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlIHJlYXNvblxuICB3aHkgdGhlIHByb21pc2UgY2Fubm90IGJlIGZ1bGZpbGxlZC5cblxuICBUZXJtaW5vbG9neVxuICAtLS0tLS0tLS0tLVxuXG4gIC0gYHByb21pc2VgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB3aXRoIGEgYHRoZW5gIG1ldGhvZCB3aG9zZSBiZWhhdmlvciBjb25mb3JtcyB0byB0aGlzIHNwZWNpZmljYXRpb24uXG4gIC0gYHRoZW5hYmxlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gdGhhdCBkZWZpbmVzIGEgYHRoZW5gIG1ldGhvZC5cbiAgLSBgdmFsdWVgIGlzIGFueSBsZWdhbCBKYXZhU2NyaXB0IHZhbHVlIChpbmNsdWRpbmcgdW5kZWZpbmVkLCBhIHRoZW5hYmxlLCBvciBhIHByb21pc2UpLlxuICAtIGBleGNlcHRpb25gIGlzIGEgdmFsdWUgdGhhdCBpcyB0aHJvd24gdXNpbmcgdGhlIHRocm93IHN0YXRlbWVudC5cbiAgLSBgcmVhc29uYCBpcyBhIHZhbHVlIHRoYXQgaW5kaWNhdGVzIHdoeSBhIHByb21pc2Ugd2FzIHJlamVjdGVkLlxuICAtIGBzZXR0bGVkYCB0aGUgZmluYWwgcmVzdGluZyBzdGF0ZSBvZiBhIHByb21pc2UsIGZ1bGZpbGxlZCBvciByZWplY3RlZC5cblxuICBBIHByb21pc2UgY2FuIGJlIGluIG9uZSBvZiB0aHJlZSBzdGF0ZXM6IHBlbmRpbmcsIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQuXG5cbiAgUHJvbWlzZXMgdGhhdCBhcmUgZnVsZmlsbGVkIGhhdmUgYSBmdWxmaWxsbWVudCB2YWx1ZSBhbmQgYXJlIGluIHRoZSBmdWxmaWxsZWRcbiAgc3RhdGUuICBQcm9taXNlcyB0aGF0IGFyZSByZWplY3RlZCBoYXZlIGEgcmVqZWN0aW9uIHJlYXNvbiBhbmQgYXJlIGluIHRoZVxuICByZWplY3RlZCBzdGF0ZS4gIEEgZnVsZmlsbG1lbnQgdmFsdWUgaXMgbmV2ZXIgYSB0aGVuYWJsZS5cblxuICBQcm9taXNlcyBjYW4gYWxzbyBiZSBzYWlkIHRvICpyZXNvbHZlKiBhIHZhbHVlLiAgSWYgdGhpcyB2YWx1ZSBpcyBhbHNvIGFcbiAgcHJvbWlzZSwgdGhlbiB0aGUgb3JpZ2luYWwgcHJvbWlzZSdzIHNldHRsZWQgc3RhdGUgd2lsbCBtYXRjaCB0aGUgdmFsdWUnc1xuICBzZXR0bGVkIHN0YXRlLiAgU28gYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCByZWplY3RzIHdpbGxcbiAgaXRzZWxmIHJlamVjdCwgYW5kIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgZnVsZmlsbHMgd2lsbFxuICBpdHNlbGYgZnVsZmlsbC5cblxuXG4gIEJhc2ljIFVzYWdlOlxuICAtLS0tLS0tLS0tLS1cblxuICBgYGBqc1xuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIC8vIG9uIHN1Y2Nlc3NcbiAgICByZXNvbHZlKHZhbHVlKTtcblxuICAgIC8vIG9uIGZhaWx1cmVcbiAgICByZWplY3QocmVhc29uKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgLy8gb24gZnVsZmlsbG1lbnRcbiAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgLy8gb24gcmVqZWN0aW9uXG4gIH0pO1xuICBgYGBcblxuICBBZHZhbmNlZCBVc2FnZTpcbiAgLS0tLS0tLS0tLS0tLS0tXG5cbiAgUHJvbWlzZXMgc2hpbmUgd2hlbiBhYnN0cmFjdGluZyBhd2F5IGFzeW5jaHJvbm91cyBpbnRlcmFjdGlvbnMgc3VjaCBhc1xuICBgWE1MSHR0cFJlcXVlc3Rgcy5cblxuICBgYGBqc1xuICBmdW5jdGlvbiBnZXRKU09OKHVybCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBoYW5kbGVyO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJztcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgeGhyLnNlbmQoKTtcblxuICAgICAgZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5ET05FKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5yZXNwb25zZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ2dldEpTT046IGAnICsgdXJsICsgJ2AgZmFpbGVkIHdpdGggc3RhdHVzOiBbJyArIHRoaXMuc3RhdHVzICsgJ10nKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0SlNPTignL3Bvc3RzLmpzb24nKS50aGVuKGZ1bmN0aW9uKGpzb24pIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIFVubGlrZSBjYWxsYmFja3MsIHByb21pc2VzIGFyZSBncmVhdCBjb21wb3NhYmxlIHByaW1pdGl2ZXMuXG5cbiAgYGBganNcbiAgUHJvbWlzZS5hbGwoW1xuICAgIGdldEpTT04oJy9wb3N0cycpLFxuICAgIGdldEpTT04oJy9jb21tZW50cycpXG4gIF0pLnRoZW4oZnVuY3Rpb24odmFsdWVzKXtcbiAgICB2YWx1ZXNbMF0gLy8gPT4gcG9zdHNKU09OXG4gICAgdmFsdWVzWzFdIC8vID0+IGNvbW1lbnRzSlNPTlxuXG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfSk7XG4gIGBgYFxuXG4gIEBjbGFzcyBQcm9taXNlXG4gIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmVyXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQGNvbnN0cnVjdG9yXG4qL1xuXG52YXIgUHJvbWlzZSQxID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgdGhpc1tQUk9NSVNFX0lEXSA9IG5leHRJZCgpO1xuICAgIHRoaXMuX3Jlc3VsdCA9IHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgICBpZiAobm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICAgIHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJyAmJiBuZWVkc1Jlc29sdmVyKCk7XG4gICAgICB0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSA/IGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKSA6IG5lZWRzTmV3KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gIFRoZSBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLFxuICB3aGljaCByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZVxuICByZWFzb24gd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24odXNlcil7XG4gICAgLy8gdXNlciBpcyBhdmFpbGFibGVcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyB1c2VyIGlzIHVuYXZhaWxhYmxlLCBhbmQgeW91IGFyZSBnaXZlbiB0aGUgcmVhc29uIHdoeVxuICB9KTtcbiAgYGBgXG4gICBDaGFpbmluZ1xuICAtLS0tLS0tLVxuICAgVGhlIHJldHVybiB2YWx1ZSBvZiBgdGhlbmAgaXMgaXRzZWxmIGEgcHJvbWlzZS4gIFRoaXMgc2Vjb25kLCAnZG93bnN0cmVhbSdcbiAgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZpcnN0IHByb21pc2UncyBmdWxmaWxsbWVudFxuICBvciByZWplY3Rpb24gaGFuZGxlciwgb3IgcmVqZWN0ZWQgaWYgdGhlIGhhbmRsZXIgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiB1c2VyLm5hbWU7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gJ2RlZmF1bHQgbmFtZSc7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXJOYW1lKSB7XG4gICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgIC8vIHdpbGwgYmUgYCdkZWZhdWx0IG5hbWUnYFxuICB9KTtcbiAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknKTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIGlmIGBmaW5kVXNlcmAgZnVsZmlsbGVkLCBgcmVhc29uYCB3aWxsIGJlICdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScuXG4gICAgLy8gSWYgYGZpbmRVc2VyYCByZWplY3RlZCwgYHJlYXNvbmAgd2lsbCBiZSAnYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScuXG4gIH0pO1xuICBgYGBcbiAgSWYgdGhlIGRvd25zdHJlYW0gcHJvbWlzZSBkb2VzIG5vdCBzcGVjaWZ5IGEgcmVqZWN0aW9uIGhhbmRsZXIsIHJlamVjdGlvbiByZWFzb25zIHdpbGwgYmUgcHJvcGFnYXRlZCBmdXJ0aGVyIGRvd25zdHJlYW0uXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICB0aHJvdyBuZXcgUGVkYWdvZ2ljYWxFeGNlcHRpb24oJ1Vwc3RyZWFtIGVycm9yJyk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gbmV2ZXIgcmVhY2hlZFxuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIFRoZSBgUGVkZ2Fnb2NpYWxFeGNlcHRpb25gIGlzIHByb3BhZ2F0ZWQgYWxsIHRoZSB3YXkgZG93biB0byBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIEFzc2ltaWxhdGlvblxuICAtLS0tLS0tLS0tLS1cbiAgIFNvbWV0aW1lcyB0aGUgdmFsdWUgeW91IHdhbnQgdG8gcHJvcGFnYXRlIHRvIGEgZG93bnN0cmVhbSBwcm9taXNlIGNhbiBvbmx5IGJlXG4gIHJldHJpZXZlZCBhc3luY2hyb25vdXNseS4gVGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmV0dXJuaW5nIGEgcHJvbWlzZSBpbiB0aGVcbiAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgdW50aWwgdGhlIHJldHVybmVkIHByb21pc2UgaXMgc2V0dGxlZC4gVGhpcyBpcyBjYWxsZWQgKmFzc2ltaWxhdGlvbiouXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgLy8gVGhlIHVzZXIncyBjb21tZW50cyBhcmUgbm93IGF2YWlsYWJsZVxuICB9KTtcbiAgYGBgXG4gICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIGZ1bGZpbGxzLCB3ZSdsbCBoYXZlIHRoZSB2YWx1ZSBoZXJlXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIHJlamVjdHMsIHdlJ2xsIGhhdmUgdGhlIHJlYXNvbiBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIFNpbXBsZSBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCByZXN1bHQ7XG4gICB0cnkge1xuICAgIHJlc3VsdCA9IGZpbmRSZXN1bHQoKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICBpZiAoZXJyKSB7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9XG4gIH0pO1xuICBgYGBcbiAgIFByb21pc2UgRXhhbXBsZTtcbiAgIGBgYGphdmFzY3JpcHRcbiAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBzdWNjZXNzXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gZmFpbHVyZVxuICB9KTtcbiAgYGBgXG4gICBBZHZhbmNlZCBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCBhdXRob3IsIGJvb2tzO1xuICAgdHJ5IHtcbiAgICBhdXRob3IgPSBmaW5kQXV0aG9yKCk7XG4gICAgYm9va3MgID0gZmluZEJvb2tzQnlBdXRob3IoYXV0aG9yKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICAgZnVuY3Rpb24gZm91bmRCb29rcyhib29rcykge1xuICAgfVxuICAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcbiAgIH1cbiAgIGZpbmRBdXRob3IoZnVuY3Rpb24oYXV0aG9yLCBlcnIpe1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmluZEJvb29rc0J5QXV0aG9yKGF1dGhvciwgZnVuY3Rpb24oYm9va3MsIGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm91bmRCb29rcyhib29rcyk7XG4gICAgICAgICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAgICAgICBmYWlsdXJlKHJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgfVxuICAgICAgLy8gc3VjY2Vzc1xuICAgIH1cbiAgfSk7XG4gIGBgYFxuICAgUHJvbWlzZSBFeGFtcGxlO1xuICAgYGBgamF2YXNjcmlwdFxuICBmaW5kQXV0aG9yKCkuXG4gICAgdGhlbihmaW5kQm9va3NCeUF1dGhvcikuXG4gICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAvLyBmb3VuZCBib29rc1xuICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gIH0pO1xuICBgYGBcbiAgIEBtZXRob2QgdGhlblxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZ1bGZpbGxlZFxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGVkXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cblxuICAvKipcbiAgYGNhdGNoYCBpcyBzaW1wbHkgc3VnYXIgZm9yIGB0aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24pYCB3aGljaCBtYWtlcyBpdCB0aGUgc2FtZVxuICBhcyB0aGUgY2F0Y2ggYmxvY2sgb2YgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LlxuICBgYGBqc1xuICBmdW5jdGlvbiBmaW5kQXV0aG9yKCl7XG4gIHRocm93IG5ldyBFcnJvcignY291bGRuJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICB9XG4gIC8vIHN5bmNocm9ub3VzXG4gIHRyeSB7XG4gIGZpbmRBdXRob3IoKTtcbiAgfSBjYXRjaChyZWFzb24pIHtcbiAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfVxuICAvLyBhc3luYyB3aXRoIHByb21pc2VzXG4gIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9KTtcbiAgYGBgXG4gIEBtZXRob2QgY2F0Y2hcbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuXG5cbiAgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbiBfY2F0Y2gob25SZWplY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICBgZmluYWxseWAgd2lsbCBiZSBpbnZva2VkIHJlZ2FyZGxlc3Mgb2YgdGhlIHByb21pc2UncyBmYXRlIGp1c3QgYXMgbmF0aXZlXG4gICAgdHJ5L2NhdGNoL2ZpbmFsbHkgYmVoYXZlc1xuICBcbiAgICBTeW5jaHJvbm91cyBleGFtcGxlOlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRBdXRob3IoKSB7XG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQXV0aG9yKCk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZpbmRBdXRob3IoKTsgLy8gc3VjY2VlZCBvciBmYWlsXG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgcmV0dXJuIGZpbmRPdGhlckF1dGhlcigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBhbHdheXMgcnVuc1xuICAgICAgLy8gZG9lc24ndCBhZmZlY3QgdGhlIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgICBgYGBcbiAgXG4gICAgQXN5bmNocm9ub3VzIGV4YW1wbGU6XG4gIFxuICAgIGBgYGpzXG4gICAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICByZXR1cm4gZmluZE90aGVyQXV0aGVyKCk7XG4gICAgfSkuZmluYWxseShmdW5jdGlvbigpe1xuICAgICAgLy8gYXV0aG9yIHdhcyBlaXRoZXIgZm91bmQsIG9yIG5vdFxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBAbWV0aG9kIGZpbmFsbHlcbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG5cblxuICBQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5ID0gZnVuY3Rpb24gX2ZpbmFsbHkoY2FsbGJhY2spIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gcHJvbWlzZS5jb25zdHJ1Y3RvcjtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oY2FsbGJhY2ssIGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXR1cm4gUHJvbWlzZTtcbn0oKTtcblxuUHJvbWlzZSQxLnByb3RvdHlwZS50aGVuID0gdGhlbjtcblByb21pc2UkMS5hbGwgPSBhbGw7XG5Qcm9taXNlJDEucmFjZSA9IHJhY2U7XG5Qcm9taXNlJDEucmVzb2x2ZSA9IHJlc29sdmUkMTtcblByb21pc2UkMS5yZWplY3QgPSByZWplY3QkMTtcblByb21pc2UkMS5fc2V0U2NoZWR1bGVyID0gc2V0U2NoZWR1bGVyO1xuUHJvbWlzZSQxLl9zZXRBc2FwID0gc2V0QXNhcDtcblByb21pc2UkMS5fYXNhcCA9IGFzYXA7XG5cbi8qZ2xvYmFsIHNlbGYqL1xuZnVuY3Rpb24gcG9seWZpbGwoKSB7XG4gIHZhciBsb2NhbCA9IHZvaWQgMDtcblxuICBpZiAodHlwZW9mIGNvbW1vbmpzR2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgIGxvY2FsID0gY29tbW9uanNHbG9iYWw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBzZWxmO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgaWYgKFApIHtcbiAgICB2YXIgcHJvbWlzZVRvU3RyaW5nID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgcHJvbWlzZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzaWxlbnRseSBpZ25vcmVkXG4gICAgfVxuXG4gICAgaWYgKHByb21pc2VUb1N0cmluZyA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBsb2NhbC5Qcm9taXNlID0gUHJvbWlzZSQxO1xufVxuXG4vLyBTdHJhbmdlIGNvbXBhdC4uXG5Qcm9taXNlJDEucG9seWZpbGwgPSBwb2x5ZmlsbDtcblByb21pc2UkMS5Qcm9taXNlID0gUHJvbWlzZSQxO1xuXG5yZXR1cm4gUHJvbWlzZSQxO1xuXG59KSkpO1xuXG5cblxuXG59KTtcblxudmFyIFByb21pc2UkMSA9IGVzNlByb21pc2UuUHJvbWlzZTtcblxuLyogLS0tLS0gQ09OU1RSVUNUT1IgLS0tLS0gKi9cblxudmFyIFdvcmtlciA9IGZ1bmN0aW9uIFdvcmtlcihvcHQpIHtcbiAgLy8gQ3JlYXRlIHRoZSByb290IHBhcmVudCBmb3IgdGhlIHByb3RvIGNoYWluLCBhbmQgdGhlIHN0YXJ0aW5nIFdvcmtlci5cbiAgdmFyIHJvb3QgPSBfZXh0ZW5kcyhXb3JrZXIuY29udmVydChQcm9taXNlJDEucmVzb2x2ZSgpKSwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShXb3JrZXIudGVtcGxhdGUpKSk7XG4gIHZhciBzZWxmID0gV29ya2VyLmNvbnZlcnQoUHJvbWlzZSQxLnJlc29sdmUoKSwgcm9vdCk7XG5cbiAgLy8gU2V0IHByb2dyZXNzLCBvcHRpb25hbCBzZXR0aW5ncywgYW5kIHJldHVybi5cbiAgc2VsZiA9IHNlbGYuc2V0UHJvZ3Jlc3MoMSwgV29ya2VyLCAxLCBbV29ya2VyXSk7XG4gIHNlbGYgPSBzZWxmLnNldChvcHQpO1xuICByZXR1cm4gc2VsZjtcbn07XG5cbi8vIEJvaWxlcnBsYXRlIGZvciBzdWJjbGFzc2luZyBQcm9taXNlLlxuV29ya2VyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUHJvbWlzZSQxLnByb3RvdHlwZSk7XG5Xb3JrZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gV29ya2VyO1xuXG4vLyBDb252ZXJ0cy9jYXN0cyBwcm9taXNlcyBpbnRvIFdvcmtlcnMuXG5Xb3JrZXIuY29udmVydCA9IGZ1bmN0aW9uIGNvbnZlcnQocHJvbWlzZSwgaW5oZXJpdCkge1xuICAvLyBVc2VzIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UgdG8gcmVjZWl2ZSBjaGFuZ2VzIG1hZGUgdG8gYW5jZXN0b3JzJyBwcm9wZXJ0aWVzLlxuICBwcm9taXNlLl9fcHJvdG9fXyA9IGluaGVyaXQgfHwgV29ya2VyLnByb3RvdHlwZTtcbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG5Xb3JrZXIudGVtcGxhdGUgPSB7XG4gIHByb3A6IHtcbiAgICBzcmM6IG51bGwsXG4gICAgY29udGFpbmVyOiBudWxsLFxuICAgIG92ZXJsYXk6IG51bGwsXG4gICAgY2FudmFzOiBudWxsLFxuICAgIGltZzogbnVsbCxcbiAgICBwZGY6IG51bGwsXG4gICAgcGFnZVNpemU6IG51bGxcbiAgfSxcbiAgcHJvZ3Jlc3M6IHtcbiAgICB2YWw6IDAsXG4gICAgc3RhdGU6IG51bGwsXG4gICAgbjogMCxcbiAgICBzdGFjazogW11cbiAgfSxcbiAgb3B0OiB7XG4gICAgZmlsZW5hbWU6ICdmaWxlLnBkZicsXG4gICAgbWFyZ2luOiBbMCwgMCwgMCwgMF0sXG4gICAgaW1hZ2U6IHsgdHlwZTogJ2pwZWcnLCBxdWFsaXR5OiAwLjk1IH0sXG4gICAgZW5hYmxlTGlua3M6IHRydWUsXG4gICAgaHRtbDJjYW52YXM6IHt9LFxuICAgIGpzUERGOiB7fVxuICB9XG59O1xuXG4vKiAtLS0tLSBGUk9NIC8gVE8gLS0tLS0gKi9cblxuV29ya2VyLnByb3RvdHlwZS5mcm9tID0gZnVuY3Rpb24gZnJvbShzcmMsIHR5cGUpIHtcbiAgZnVuY3Rpb24gZ2V0VHlwZShzcmMpIHtcbiAgICBzd2l0Y2ggKG9ialR5cGUoc3JjKSkge1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgcmV0dXJuICdzdHJpbmcnO1xuICAgICAgY2FzZSAnZWxlbWVudCc6XG4gICAgICAgIHJldHVybiBzcmMubm9kZU5hbWUudG9Mb3dlckNhc2UgPT09ICdjYW52YXMnID8gJ2NhbnZhcycgOiAnZWxlbWVudCc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ3Vua25vd24nO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gZnJvbV9tYWluKCkge1xuICAgIHR5cGUgPSB0eXBlIHx8IGdldFR5cGUoc3JjKTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJldHVybiB0aGlzLnNldCh7IHNyYzogY3JlYXRlRWxlbWVudCgnZGl2JywgeyBpbm5lckhUTUw6IHNyYyB9KSB9KTtcbiAgICAgIGNhc2UgJ2VsZW1lbnQnOlxuICAgICAgICByZXR1cm4gdGhpcy5zZXQoeyBzcmM6IHNyYyB9KTtcbiAgICAgIGNhc2UgJ2NhbnZhcyc6XG4gICAgICAgIHJldHVybiB0aGlzLnNldCh7IGNhbnZhczogc3JjIH0pO1xuICAgICAgY2FzZSAnaW1nJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KHsgaW1nOiBzcmMgfSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGhpcy5lcnJvcignVW5rbm93biBzb3VyY2UgdHlwZS4nKTtcbiAgICB9XG4gIH0pO1xufTtcblxuV29ya2VyLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uIHRvKHRhcmdldCkge1xuICAvLyBSb3V0ZSB0aGUgJ3RvJyByZXF1ZXN0IHRvIHRoZSBhcHByb3ByaWF0ZSBtZXRob2QuXG4gIHN3aXRjaCAodGFyZ2V0KSB7XG4gICAgY2FzZSAnY29udGFpbmVyJzpcbiAgICAgIHJldHVybiB0aGlzLnRvQ29udGFpbmVyKCk7XG4gICAgY2FzZSAnY2FudmFzJzpcbiAgICAgIHJldHVybiB0aGlzLnRvQ2FudmFzKCk7XG4gICAgY2FzZSAnaW1nJzpcbiAgICAgIHJldHVybiB0aGlzLnRvSW1nKCk7XG4gICAgY2FzZSAncGRmJzpcbiAgICAgIHJldHVybiB0aGlzLnRvUGRmKCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB0aGlzLmVycm9yKCdJbnZhbGlkIHRhcmdldC4nKTtcbiAgfVxufTtcblxuV29ya2VyLnByb3RvdHlwZS50b0NvbnRhaW5lciA9IGZ1bmN0aW9uIHRvQ29udGFpbmVyKCkge1xuICAvLyBTZXQgdXAgZnVuY3Rpb24gcHJlcmVxdWlzaXRlcy5cbiAgdmFyIHByZXJlcXMgPSBbZnVuY3Rpb24gY2hlY2tTcmMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcC5zcmMgfHwgdGhpcy5lcnJvcignQ2Fubm90IGR1cGxpY2F0ZSAtIG5vIHNvdXJjZSBIVE1MLicpO1xuICB9LCBmdW5jdGlvbiBjaGVja1BhZ2VTaXplKCkge1xuICAgIHJldHVybiB0aGlzLnByb3AucGFnZVNpemUgfHwgdGhpcy5zZXRQYWdlU2l6ZSgpO1xuICB9XTtcblxuICByZXR1cm4gdGhpcy50aGVuTGlzdChwcmVyZXFzKS50aGVuKGZ1bmN0aW9uIHRvQ29udGFpbmVyX21haW4oKSB7XG4gICAgLy8gRGVmaW5lIHRoZSBDU1Mgc3R5bGVzIGZvciB0aGUgY29udGFpbmVyIGFuZCBpdHMgb3ZlcmxheSBwYXJlbnQuXG4gICAgdmFyIG92ZXJsYXlDU1MgPSB7XG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJywgb3ZlcmZsb3c6ICdoaWRkZW4nLCB6SW5kZXg6IDEwMDAsXG4gICAgICBsZWZ0OiAwLCByaWdodDogMCwgYm90dG9tOiAwLCB0b3A6IDAsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDAuOCknXG4gICAgfTtcbiAgICB2YXIgY29udGFpbmVyQ1NTID0ge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsIHdpZHRoOiB0aGlzLnByb3AucGFnZVNpemUuaW5uZXIud2lkdGggKyB0aGlzLnByb3AucGFnZVNpemUudW5pdCxcbiAgICAgIGxlZnQ6IDAsIHJpZ2h0OiAwLCB0b3A6IDAsIGhlaWdodDogJ2F1dG8nLCBtYXJnaW46ICdhdXRvJyxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJ1xuICAgIH07XG5cbiAgICAvLyBTZXQgdGhlIG92ZXJsYXkgdG8gaGlkZGVuIChjb3VsZCBiZSBjaGFuZ2VkIGluIHRoZSBmdXR1cmUgdG8gcHJvdmlkZSBhIHByaW50IHByZXZpZXcpLlxuICAgIG92ZXJsYXlDU1Mub3BhY2l0eSA9IDA7XG5cbiAgICAvLyBDcmVhdGUgYW5kIGF0dGFjaCB0aGUgZWxlbWVudHMuXG4gICAgdmFyIHNvdXJjZSA9IGNsb25lTm9kZSh0aGlzLnByb3Auc3JjLCB0aGlzLm9wdC5odG1sMmNhbnZhcy5qYXZhc2NyaXB0RW5hYmxlZCk7XG4gICAgdGhpcy5wcm9wLm92ZXJsYXkgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7IGNsYXNzTmFtZTogJ2h0bWwycGRmX19vdmVybGF5Jywgc3R5bGU6IG92ZXJsYXlDU1MgfSk7XG4gICAgdGhpcy5wcm9wLmNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiAnaHRtbDJwZGZfX2NvbnRhaW5lcicsIHN0eWxlOiBjb250YWluZXJDU1MgfSk7XG4gICAgdGhpcy5wcm9wLmNvbnRhaW5lci5hcHBlbmRDaGlsZChzb3VyY2UpO1xuICAgIHRoaXMucHJvcC5vdmVybGF5LmFwcGVuZENoaWxkKHRoaXMucHJvcC5jb250YWluZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5wcm9wLm92ZXJsYXkpO1xuICB9KTtcbn07XG5cbldvcmtlci5wcm90b3R5cGUudG9DYW52YXMgPSBmdW5jdGlvbiB0b0NhbnZhcygpIHtcbiAgLy8gU2V0IHVwIGZ1bmN0aW9uIHByZXJlcXVpc2l0ZXMuXG4gIHZhciBwcmVyZXFzID0gW2Z1bmN0aW9uIGNoZWNrQ29udGFpbmVyKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMucHJvcC5jb250YWluZXIpIHx8IHRoaXMudG9Db250YWluZXIoKTtcbiAgfV07XG5cbiAgLy8gRnVsZmlsbCBwcmVyZXFzIHRoZW4gY3JlYXRlIHRoZSBjYW52YXMuXG4gIHJldHVybiB0aGlzLnRoZW5MaXN0KHByZXJlcXMpLnRoZW4oZnVuY3Rpb24gdG9DYW52YXNfbWFpbigpIHtcbiAgICAvLyBIYW5kbGUgb2xkLWZhc2hpb25lZCAnb25yZW5kZXJlZCcgYXJndW1lbnQuXG4gICAgdmFyIG9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5vcHQuaHRtbDJjYW52YXMpO1xuICAgIGRlbGV0ZSBvcHRpb25zLm9ucmVuZGVyZWQ7XG5cbiAgICByZXR1cm4gaHRtbDJjYW52YXModGhpcy5wcm9wLmNvbnRhaW5lciwgb3B0aW9ucyk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gdG9DYW52YXNfcG9zdChjYW52YXMpIHtcbiAgICAvLyBIYW5kbGUgb2xkLWZhc2hpb25lZCAnb25yZW5kZXJlZCcgYXJndW1lbnQuXG4gICAgdmFyIG9uUmVuZGVyZWQgPSB0aGlzLm9wdC5odG1sMmNhbnZhcy5vbnJlbmRlcmVkIHx8IGZ1bmN0aW9uICgpIHt9O1xuICAgIG9uUmVuZGVyZWQoY2FudmFzKTtcblxuICAgIHRoaXMucHJvcC5jYW52YXMgPSBjYW52YXM7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLnByb3Aub3ZlcmxheSk7XG4gIH0pO1xufTtcblxuV29ya2VyLnByb3RvdHlwZS50b0ltZyA9IGZ1bmN0aW9uIHRvSW1nKCkge1xuICAvLyBTZXQgdXAgZnVuY3Rpb24gcHJlcmVxdWlzaXRlcy5cbiAgdmFyIHByZXJlcXMgPSBbZnVuY3Rpb24gY2hlY2tDYW52YXMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcC5jYW52YXMgfHwgdGhpcy50b0NhbnZhcygpO1xuICB9XTtcblxuICAvLyBGdWxmaWxsIHByZXJlcXMgdGhlbiBjcmVhdGUgdGhlIGltYWdlLlxuICByZXR1cm4gdGhpcy50aGVuTGlzdChwcmVyZXFzKS50aGVuKGZ1bmN0aW9uIHRvSW1nX21haW4oKSB7XG4gICAgdmFyIGltZ0RhdGEgPSB0aGlzLnByb3AuY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvJyArIHRoaXMub3B0LmltYWdlLnR5cGUsIHRoaXMub3B0LmltYWdlLnF1YWxpdHkpO1xuICAgIHRoaXMucHJvcC5pbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICB0aGlzLnByb3AuaW1nLnNyYyA9IGltZ0RhdGE7XG4gIH0pO1xufTtcblxuV29ya2VyLnByb3RvdHlwZS50b1BkZiA9IGZ1bmN0aW9uIHRvUGRmKCkge1xuICAvLyBTZXQgdXAgZnVuY3Rpb24gcHJlcmVxdWlzaXRlcy5cbiAgdmFyIHByZXJlcXMgPSBbZnVuY3Rpb24gY2hlY2tDYW52YXMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcC5jYW52YXMgfHwgdGhpcy50b0NhbnZhcygpO1xuICB9XTtcblxuICAvLyBGdWxmaWxsIHByZXJlcXMgdGhlbiBjcmVhdGUgdGhlIGltYWdlLlxuICByZXR1cm4gdGhpcy50aGVuTGlzdChwcmVyZXFzKS50aGVuKGZ1bmN0aW9uIHRvUGRmX21haW4oKSB7XG4gICAgLy8gQ3JlYXRlIGxvY2FsIGNvcGllcyBvZiBmcmVxdWVudGx5IHVzZWQgcHJvcGVydGllcy5cbiAgICB2YXIgY2FudmFzID0gdGhpcy5wcm9wLmNhbnZhcztcbiAgICB2YXIgb3B0ID0gdGhpcy5vcHQ7XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIG51bWJlciBvZiBwYWdlcy5cbiAgICB2YXIgcHhGdWxsSGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcbiAgICB2YXIgcHhQYWdlSGVpZ2h0ID0gTWF0aC5mbG9vcihjYW52YXMud2lkdGggKiB0aGlzLnByb3AucGFnZVNpemUuaW5uZXIucmF0aW8pO1xuICAgIHZhciBuUGFnZXMgPSBNYXRoLmNlaWwocHhGdWxsSGVpZ2h0IC8gcHhQYWdlSGVpZ2h0KTtcblxuICAgIC8vIERlZmluZSBwYWdlSGVpZ2h0IHNlcGFyYXRlbHkgc28gaXQgY2FuIGJlIHRyaW1tZWQgb24gdGhlIGZpbmFsIHBhZ2UuXG4gICAgdmFyIHBhZ2VIZWlnaHQgPSB0aGlzLnByb3AucGFnZVNpemUuaW5uZXIuaGVpZ2h0O1xuXG4gICAgLy8gQ3JlYXRlIGEgb25lLXBhZ2UgY2FudmFzIHRvIHNwbGl0IHVwIHRoZSBmdWxsIGltYWdlLlxuICAgIHZhciBwYWdlQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdmFyIHBhZ2VDdHggPSBwYWdlQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgcGFnZUNhbnZhcy53aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICBwYWdlQ2FudmFzLmhlaWdodCA9IHB4UGFnZUhlaWdodDtcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIFBERi5cbiAgICB0aGlzLnByb3AucGRmID0gdGhpcy5wcm9wLnBkZiB8fCBuZXcganNQREYob3B0LmpzUERGKTtcblxuICAgIGZvciAodmFyIHBhZ2UgPSAwOyBwYWdlIDwgblBhZ2VzOyBwYWdlKyspIHtcbiAgICAgIC8vIFRyaW0gdGhlIGZpbmFsIHBhZ2UgdG8gcmVkdWNlIGZpbGUgc2l6ZS5cbiAgICAgIGlmIChwYWdlID09PSBuUGFnZXMgLSAxICYmIHB4RnVsbEhlaWdodCAlIHB4UGFnZUhlaWdodCAhPT0gMCkge1xuICAgICAgICBwYWdlQ2FudmFzLmhlaWdodCA9IHB4RnVsbEhlaWdodCAlIHB4UGFnZUhlaWdodDtcbiAgICAgICAgcGFnZUhlaWdodCA9IHBhZ2VDYW52YXMuaGVpZ2h0ICogdGhpcy5wcm9wLnBhZ2VTaXplLmlubmVyLndpZHRoIC8gcGFnZUNhbnZhcy53aWR0aDtcbiAgICAgIH1cblxuICAgICAgLy8gRGlzcGxheSB0aGUgcGFnZS5cbiAgICAgIHZhciB3ID0gcGFnZUNhbnZhcy53aWR0aDtcbiAgICAgIHZhciBoID0gcGFnZUNhbnZhcy5oZWlnaHQ7XG4gICAgICBwYWdlQ3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICBwYWdlQ3R4LmZpbGxSZWN0KDAsIDAsIHcsIGgpO1xuICAgICAgcGFnZUN0eC5kcmF3SW1hZ2UoY2FudmFzLCAwLCBwYWdlICogcHhQYWdlSGVpZ2h0LCB3LCBoLCAwLCAwLCB3LCBoKTtcblxuICAgICAgLy8gQWRkIHRoZSBwYWdlIHRvIHRoZSBQREYuXG4gICAgICBpZiAocGFnZSkgdGhpcy5wcm9wLnBkZi5hZGRQYWdlKCk7XG4gICAgICB2YXIgaW1nRGF0YSA9IHBhZ2VDYW52YXMudG9EYXRhVVJMKCdpbWFnZS8nICsgb3B0LmltYWdlLnR5cGUsIG9wdC5pbWFnZS5xdWFsaXR5KTtcbiAgICAgIHRoaXMucHJvcC5wZGYuYWRkSW1hZ2UoaW1nRGF0YSwgb3B0LmltYWdlLnR5cGUsIG9wdC5tYXJnaW5bMV0sIG9wdC5tYXJnaW5bMF0sIHRoaXMucHJvcC5wYWdlU2l6ZS5pbm5lci53aWR0aCwgcGFnZUhlaWdodCk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qIC0tLS0tIE9VVFBVVCAvIFNBVkUgLS0tLS0gKi9cblxuV29ya2VyLnByb3RvdHlwZS5vdXRwdXQgPSBmdW5jdGlvbiBvdXRwdXQodHlwZSwgb3B0aW9ucywgc3JjKSB7XG4gIC8vIFJlZGlyZWN0IHJlcXVlc3RzIHRvIHRoZSBjb3JyZWN0IGZ1bmN0aW9uIChvdXRwdXRQZGYgLyBvdXRwdXRJbWcpLlxuICBzcmMgPSBzcmMgfHwgJ3BkZic7XG4gIGlmIChzcmMudG9Mb3dlckNhc2UoKSA9PT0gJ2ltZycgfHwgc3JjLnRvTG93ZXJDYXNlKCkgPT09ICdpbWFnZScpIHtcbiAgICByZXR1cm4gdGhpcy5vdXRwdXRJbWcodHlwZSwgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMub3V0cHV0UGRmKHR5cGUsIG9wdGlvbnMpO1xuICB9XG59O1xuXG5Xb3JrZXIucHJvdG90eXBlLm91dHB1dFBkZiA9IGZ1bmN0aW9uIG91dHB1dFBkZih0eXBlLCBvcHRpb25zKSB7XG4gIC8vIFNldCB1cCBmdW5jdGlvbiBwcmVyZXF1aXNpdGVzLlxuICB2YXIgcHJlcmVxcyA9IFtmdW5jdGlvbiBjaGVja1BkZigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wLnBkZiB8fCB0aGlzLnRvUGRmKCk7XG4gIH1dO1xuXG4gIC8vIEZ1bGZpbGwgcHJlcmVxcyB0aGVuIHBlcmZvcm0gdGhlIGFwcHJvcHJpYXRlIG91dHB1dC5cbiAgcmV0dXJuIHRoaXMudGhlbkxpc3QocHJlcmVxcykudGhlbihmdW5jdGlvbiBvdXRwdXRQZGZfbWFpbigpIHtcbiAgICAvKiBDdXJyZW50bHkgaW1wbGVtZW50ZWQgb3V0cHV0IHR5cGVzOlxuICAgICAqICAgIGh0dHBzOi8vcmF3Z2l0LmNvbS9NclJpby9qc1BERi9tYXN0ZXIvZG9jcy9qc3BkZi5qcy5odG1sI2xpbmU5OTJcbiAgICAgKiAgc2F2ZShvcHRpb25zKSwgYXJyYXlidWZmZXIsIGJsb2IsIGJsb2J1cmkvYmxvYnVybCxcbiAgICAgKiAgZGF0YXVyaXN0cmluZy9kYXRhdXJsc3RyaW5nLCBkYXRhdXJsbmV3d2luZG93LCBkYXRhdXJpL2RhdGF1cmxcbiAgICAgKi9cbiAgICByZXR1cm4gdGhpcy5wcm9wLnBkZi5vdXRwdXQodHlwZSwgb3B0aW9ucyk7XG4gIH0pO1xufTtcblxuV29ya2VyLnByb3RvdHlwZS5vdXRwdXRJbWcgPSBmdW5jdGlvbiBvdXRwdXRJbWcodHlwZSwgb3B0aW9ucykge1xuICAvLyBTZXQgdXAgZnVuY3Rpb24gcHJlcmVxdWlzaXRlcy5cbiAgdmFyIHByZXJlcXMgPSBbZnVuY3Rpb24gY2hlY2tJbWcoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcC5pbWcgfHwgdGhpcy50b0ltZygpO1xuICB9XTtcblxuICAvLyBGdWxmaWxsIHByZXJlcXMgdGhlbiBwZXJmb3JtIHRoZSBhcHByb3ByaWF0ZSBvdXRwdXQuXG4gIHJldHVybiB0aGlzLnRoZW5MaXN0KHByZXJlcXMpLnRoZW4oZnVuY3Rpb24gb3V0cHV0SW1nX21haW4oKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgIGNhc2UgJ2ltZyc6XG4gICAgICAgIHJldHVybiB0aGlzLnByb3AuaW1nO1xuICAgICAgY2FzZSAnZGF0YXVyaXN0cmluZyc6XG4gICAgICBjYXNlICdkYXRhdXJsc3RyaW5nJzpcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcC5pbWcuc3JjO1xuICAgICAgY2FzZSAnZGF0YXVyaSc6XG4gICAgICBjYXNlICdkYXRhdXJsJzpcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSB0aGlzLnByb3AuaW1nLnNyYztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93ICdJbWFnZSBvdXRwdXQgdHlwZSBcIicgKyB0eXBlICsgJ1wiIGlzIG5vdCBzdXBwb3J0ZWQuJztcbiAgICB9XG4gIH0pO1xufTtcblxuV29ya2VyLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gc2F2ZShmaWxlbmFtZSkge1xuICAvLyBTZXQgdXAgZnVuY3Rpb24gcHJlcmVxdWlzaXRlcy5cbiAgdmFyIHByZXJlcXMgPSBbZnVuY3Rpb24gY2hlY2tQZGYoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcC5wZGYgfHwgdGhpcy50b1BkZigpO1xuICB9XTtcblxuICAvLyBGdWxmaWxsIHByZXJlcXMsIHVwZGF0ZSB0aGUgZmlsZW5hbWUgKGlmIHByb3ZpZGVkKSwgYW5kIHNhdmUgdGhlIFBERi5cbiAgcmV0dXJuIHRoaXMudGhlbkxpc3QocHJlcmVxcykuc2V0KGZpbGVuYW1lID8geyBmaWxlbmFtZTogZmlsZW5hbWUgfSA6IG51bGwpLnRoZW4oZnVuY3Rpb24gc2F2ZV9tYWluKCkge1xuICAgIHRoaXMucHJvcC5wZGYuc2F2ZSh0aGlzLm9wdC5maWxlbmFtZSk7XG4gIH0pO1xufTtcblxuLyogLS0tLS0gU0VUIC8gR0VUIC0tLS0tICovXG5cbldvcmtlci5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0JCQxKG9wdCkge1xuICAvLyBUT0RPOiBJbXBsZW1lbnQgb3JkZXJlZCBwYWlycz9cblxuICAvLyBTaWxlbnRseSBpZ25vcmUgaW52YWxpZCBvciBlbXB0eSBpbnB1dC5cbiAgaWYgKG9ialR5cGUob3B0KSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIEJ1aWxkIGFuIGFycmF5IG9mIHNldHRlciBmdW5jdGlvbnMgdG8gcXVldWUuXG4gIHZhciBmbnMgPSBPYmplY3Qua2V5cyhvcHQgfHwge30pLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGtleSBpbiBXb3JrZXIudGVtcGxhdGUucHJvcCkge1xuICAgICAgLy8gU2V0IHByZS1kZWZpbmVkIHByb3BlcnRpZXMuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0X3Byb3AoKSB7XG4gICAgICAgIHRoaXMucHJvcFtrZXldID0gb3B0W2tleV07XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlICdtYXJnaW4nOlxuICAgICAgICAgIHJldHVybiB0aGlzLnNldE1hcmdpbi5iaW5kKHRoaXMsIG9wdC5tYXJnaW4pO1xuICAgICAgICBjYXNlICdqc1BERic6XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldF9qc1BERigpIHtcbiAgICAgICAgICAgIHRoaXMub3B0LmpzUERGID0gb3B0LmpzUERGO3JldHVybiB0aGlzLnNldFBhZ2VTaXplKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAncGFnZVNpemUnOlxuICAgICAgICAgIHJldHVybiB0aGlzLnNldFBhZ2VTaXplLmJpbmQodGhpcywgb3B0LnBhZ2VTaXplKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBTZXQgYW55IG90aGVyIHByb3BlcnRpZXMgaW4gb3B0LlxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBzZXRfb3B0KCkge1xuICAgICAgICAgICAgdGhpcy5vcHRba2V5XSA9IG9wdFtrZXldO1xuICAgICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9LCB0aGlzKTtcblxuICAvLyBTZXQgcHJvcGVydGllcyB3aXRoaW4gdGhlIHByb21pc2UgY2hhaW4uXG4gIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gc2V0X21haW4oKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbkxpc3QoZm5zKTtcbiAgfSk7XG59O1xuXG5Xb3JrZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCQkMShrZXksIGNiaykge1xuICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uIGdldF9tYWluKCkge1xuICAgIC8vIEZldGNoIHRoZSByZXF1ZXN0ZWQgcHJvcGVydHksIGVpdGhlciBhcyBhIHByZWRlZmluZWQgcHJvcCBvciBpbiBvcHQuXG4gICAgdmFyIHZhbCA9IGtleSBpbiBXb3JrZXIudGVtcGxhdGUucHJvcCA/IHRoaXMucHJvcFtrZXldIDogdGhpcy5vcHRba2V5XTtcbiAgICByZXR1cm4gY2JrID8gY2JrKHZhbCkgOiB2YWw7XG4gIH0pO1xufTtcblxuV29ya2VyLnByb3RvdHlwZS5zZXRNYXJnaW4gPSBmdW5jdGlvbiBzZXRNYXJnaW4obWFyZ2luKSB7XG4gIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gc2V0TWFyZ2luX21haW4oKSB7XG4gICAgLy8gUGFyc2UgdGhlIG1hcmdpbiBwcm9wZXJ0eTogW3RvcCwgbGVmdCwgYm90dG9tLCByaWdodF0uXG4gICAgc3dpdGNoIChvYmpUeXBlKG1hcmdpbikpIHtcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIG1hcmdpbiA9IFttYXJnaW4sIG1hcmdpbiwgbWFyZ2luLCBtYXJnaW5dO1xuICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgICBpZiAobWFyZ2luLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgIG1hcmdpbiA9IFttYXJnaW5bMF0sIG1hcmdpblsxXSwgbWFyZ2luWzBdLCBtYXJnaW5bMV1dO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXJnaW4ubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yKCdJbnZhbGlkIG1hcmdpbiBhcnJheS4nKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIG1hcmdpbiBwcm9wZXJ0eSwgdGhlbiB1cGRhdGUgcGFnZVNpemUuXG4gICAgdGhpcy5vcHQubWFyZ2luID0gbWFyZ2luO1xuICB9KS50aGVuKHRoaXMuc2V0UGFnZVNpemUpO1xufTtcblxuV29ya2VyLnByb3RvdHlwZS5zZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uIHNldFBhZ2VTaXplKHBhZ2VTaXplKSB7XG4gIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gc2V0UGFnZVNpemVfbWFpbigpIHtcbiAgICAvLyBSZXRyaWV2ZSBwYWdlLXNpemUgYmFzZWQgb24ganNQREYgc2V0dGluZ3MsIGlmIG5vdCBleHBsaWNpdGx5IHByb3ZpZGVkLlxuICAgIHBhZ2VTaXplID0gcGFnZVNpemUgfHwganNQREYuZ2V0UGFnZVNpemUodGhpcy5vcHQuanNQREYpO1xuXG4gICAgLy8gQWRkICdpbm5lcicgZmllbGQgaWYgbm90IHByZXNlbnQuXG4gICAgaWYgKCFwYWdlU2l6ZS5oYXNPd25Qcm9wZXJ0eSgnaW5uZXInKSkge1xuICAgICAgcGFnZVNpemUuaW5uZXIgPSB7XG4gICAgICAgIHdpZHRoOiBwYWdlU2l6ZS53aWR0aCAtIHRoaXMub3B0Lm1hcmdpblsxXSAtIHRoaXMub3B0Lm1hcmdpblszXSxcbiAgICAgICAgaGVpZ2h0OiBwYWdlU2l6ZS5oZWlnaHQgLSB0aGlzLm9wdC5tYXJnaW5bMF0gLSB0aGlzLm9wdC5tYXJnaW5bMl1cbiAgICAgIH07XG4gICAgICBwYWdlU2l6ZS5pbm5lci5weCA9IHtcbiAgICAgICAgd2lkdGg6IHRvUHgocGFnZVNpemUuaW5uZXIud2lkdGgsIHBhZ2VTaXplLmspLFxuICAgICAgICBoZWlnaHQ6IHRvUHgocGFnZVNpemUuaW5uZXIuaGVpZ2h0LCBwYWdlU2l6ZS5rKVxuICAgICAgfTtcbiAgICAgIHBhZ2VTaXplLmlubmVyLnJhdGlvID0gcGFnZVNpemUuaW5uZXIuaGVpZ2h0IC8gcGFnZVNpemUuaW5uZXIud2lkdGg7XG4gICAgfVxuXG4gICAgLy8gQXR0YWNoIHBhZ2VTaXplIHRvIHRoaXMuXG4gICAgdGhpcy5wcm9wLnBhZ2VTaXplID0gcGFnZVNpemU7XG4gIH0pO1xufTtcblxuV29ya2VyLnByb3RvdHlwZS5zZXRQcm9ncmVzcyA9IGZ1bmN0aW9uIHNldFByb2dyZXNzKHZhbCwgc3RhdGUsIG4sIHN0YWNrKSB7XG4gIC8vIEltbWVkaWF0ZWx5IHVwZGF0ZSBhbGwgcHJvZ3Jlc3MgdmFsdWVzLlxuICBpZiAodmFsICE9IG51bGwpIHRoaXMucHJvZ3Jlc3MudmFsID0gdmFsO1xuICBpZiAoc3RhdGUgIT0gbnVsbCkgdGhpcy5wcm9ncmVzcy5zdGF0ZSA9IHN0YXRlO1xuICBpZiAobiAhPSBudWxsKSB0aGlzLnByb2dyZXNzLm4gPSBuO1xuICBpZiAoc3RhY2sgIT0gbnVsbCkgdGhpcy5wcm9ncmVzcy5zdGFjayA9IHN0YWNrO1xuICB0aGlzLnByb2dyZXNzLnJhdGlvID0gdGhpcy5wcm9ncmVzcy52YWwgLyB0aGlzLnByb2dyZXNzLnN0YXRlO1xuXG4gIC8vIFJldHVybiB0aGlzIGZvciBjb21tYW5kIGNoYWluaW5nLlxuICByZXR1cm4gdGhpcztcbn07XG5cbldvcmtlci5wcm90b3R5cGUudXBkYXRlUHJvZ3Jlc3MgPSBmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyh2YWwsIHN0YXRlLCBuLCBzdGFjaykge1xuICAvLyBJbW1lZGlhdGVseSB1cGRhdGUgYWxsIHByb2dyZXNzIHZhbHVlcywgdXNpbmcgc2V0UHJvZ3Jlc3MuXG4gIHJldHVybiB0aGlzLnNldFByb2dyZXNzKHZhbCA/IHRoaXMucHJvZ3Jlc3MudmFsICsgdmFsIDogbnVsbCwgc3RhdGUgPyBzdGF0ZSA6IG51bGwsIG4gPyB0aGlzLnByb2dyZXNzLm4gKyBuIDogbnVsbCwgc3RhY2sgPyB0aGlzLnByb2dyZXNzLnN0YWNrLmNvbmNhdChzdGFjaykgOiBudWxsKTtcbn07XG5cbi8qIC0tLS0tIFBST01JU0UgTUFQUElORyAtLS0tLSAqL1xuXG5Xb3JrZXIucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gIC8vIFdyYXAgYHRoaXNgIGZvciBlbmNhcHN1bGF0aW9uLlxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgcmV0dXJuIHRoaXMudGhlbkNvcmUob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIGZ1bmN0aW9uIHRoZW5fbWFpbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgIC8vIFVwZGF0ZSBwcm9ncmVzcyB3aGlsZSBxdWV1aW5nLCBjYWxsaW5nLCBhbmQgcmVzb2x2aW5nIGB0aGVuYC5cbiAgICBzZWxmLnVwZGF0ZVByb2dyZXNzKG51bGwsIG51bGwsIDEsIFtvbkZ1bGZpbGxlZF0pO1xuICAgIHJldHVybiBQcm9taXNlJDEucHJvdG90eXBlLnRoZW4uY2FsbCh0aGlzLCBmdW5jdGlvbiB0aGVuX3ByZSh2YWwpIHtcbiAgICAgIHNlbGYudXBkYXRlUHJvZ3Jlc3MobnVsbCwgb25GdWxmaWxsZWQpO1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9KS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKS50aGVuKGZ1bmN0aW9uIHRoZW5fcG9zdCh2YWwpIHtcbiAgICAgIHNlbGYudXBkYXRlUHJvZ3Jlc3MoMSk7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbldvcmtlci5wcm90b3R5cGUudGhlbkNvcmUgPSBmdW5jdGlvbiB0aGVuQ29yZShvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgdGhlbkJhc2UpIHtcbiAgLy8gSGFuZGxlIG9wdGlvbmFsIHRoZW5CYXNlIHBhcmFtZXRlci5cbiAgdGhlbkJhc2UgPSB0aGVuQmFzZSB8fCBQcm9taXNlJDEucHJvdG90eXBlLnRoZW47XG5cbiAgLy8gV3JhcCBgdGhpc2AgZm9yIGVuY2Fwc3VsYXRpb24gYW5kIGJpbmQgaXQgdG8gdGhlIHByb21pc2UgaGFuZGxlcnMuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKG9uRnVsZmlsbGVkKSB7XG4gICAgb25GdWxmaWxsZWQgPSBvbkZ1bGZpbGxlZC5iaW5kKHNlbGYpO1xuICB9XG4gIGlmIChvblJlamVjdGVkKSB7XG4gICAgb25SZWplY3RlZCA9IG9uUmVqZWN0ZWQuYmluZChzZWxmKTtcbiAgfVxuXG4gIC8vIENhc3Qgc2VsZiBpbnRvIGEgUHJvbWlzZSB0byBhdm9pZCBwb2x5ZmlsbHMgcmVjdXJzaXZlbHkgZGVmaW5pbmcgYHRoZW5gLlxuICB2YXIgaXNOYXRpdmUgPSBQcm9taXNlJDEudG9TdHJpbmcoKS5pbmRleE9mKCdbbmF0aXZlIGNvZGVdJykgIT09IC0xICYmIFByb21pc2UkMS5uYW1lID09PSAnUHJvbWlzZSc7XG4gIHZhciBzZWxmUHJvbWlzZSA9IGlzTmF0aXZlID8gc2VsZiA6IFdvcmtlci5jb252ZXJ0KF9leHRlbmRzKHt9LCBzZWxmKSwgUHJvbWlzZSQxLnByb3RvdHlwZSk7XG5cbiAgLy8gUmV0dXJuIHRoZSBwcm9taXNlLCBhZnRlciBjYXN0aW5nIGl0IGludG8gYSBXb3JrZXIgYW5kIHByZXNlcnZpbmcgcHJvcHMuXG4gIHZhciByZXR1cm5WYWwgPSB0aGVuQmFzZS5jYWxsKHNlbGZQcm9taXNlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XG4gIHJldHVybiBXb3JrZXIuY29udmVydChyZXR1cm5WYWwsIHNlbGYuX19wcm90b19fKTtcbn07XG5cbldvcmtlci5wcm90b3R5cGUudGhlbkV4dGVybmFsID0gZnVuY3Rpb24gdGhlbkV4dGVybmFsKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gIC8vIENhbGwgYHRoZW5gIGFuZCByZXR1cm4gYSBzdGFuZGFyZCBwcm9taXNlIChleGl0cyB0aGUgV29ya2VyIGNoYWluKS5cbiAgcmV0dXJuIFByb21pc2UkMS5wcm90b3R5cGUudGhlbi5jYWxsKHRoaXMsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKTtcbn07XG5cbldvcmtlci5wcm90b3R5cGUudGhlbkxpc3QgPSBmdW5jdGlvbiB0aGVuTGlzdChmbnMpIHtcbiAgLy8gUXVldWUgYSBzZXJpZXMgb2YgcHJvbWlzZSAnZmFjdG9yaWVzJyBpbnRvIHRoZSBwcm9taXNlIGNoYWluLlxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGZucy5mb3JFYWNoKGZ1bmN0aW9uIHRoZW5MaXN0X2ZvckVhY2goZm4pIHtcbiAgICBzZWxmID0gc2VsZi50aGVuQ29yZShmbik7XG4gIH0pO1xuICByZXR1cm4gc2VsZjtcbn07XG5cbldvcmtlci5wcm90b3R5cGVbJ2NhdGNoJ10gPSBmdW5jdGlvbiAob25SZWplY3RlZCkge1xuICAvLyBCaW5kIGB0aGlzYCB0byB0aGUgcHJvbWlzZSBoYW5kbGVyLCBjYWxsIGBjYXRjaGAsIGFuZCByZXR1cm4gYSBXb3JrZXIuXG4gIGlmIChvblJlamVjdGVkKSB7XG4gICAgb25SZWplY3RlZCA9IG9uUmVqZWN0ZWQuYmluZCh0aGlzKTtcbiAgfVxuICB2YXIgcmV0dXJuVmFsID0gUHJvbWlzZSQxLnByb3RvdHlwZVsnY2F0Y2gnXS5jYWxsKHRoaXMsIG9uUmVqZWN0ZWQpO1xuICByZXR1cm4gV29ya2VyLmNvbnZlcnQocmV0dXJuVmFsLCB0aGlzKTtcbn07XG5cbldvcmtlci5wcm90b3R5cGUuY2F0Y2hFeHRlcm5hbCA9IGZ1bmN0aW9uIGNhdGNoRXh0ZXJuYWwob25SZWplY3RlZCkge1xuICAvLyBDYWxsIGBjYXRjaGAgYW5kIHJldHVybiBhIHN0YW5kYXJkIHByb21pc2UgKGV4aXRzIHRoZSBXb3JrZXIgY2hhaW4pLlxuICByZXR1cm4gUHJvbWlzZSQxLnByb3RvdHlwZVsnY2F0Y2gnXS5jYWxsKHRoaXMsIG9uUmVqZWN0ZWQpO1xufTtcblxuV29ya2VyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIGVycm9yKG1zZykge1xuICAvLyBUaHJvdyB0aGUgZXJyb3IgaW4gdGhlIFByb21pc2UgY2hhaW4uXG4gIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gZXJyb3JfbWFpbigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgfSk7XG59O1xuXG4vKiAtLS0tLSBBTElBU0VTIC0tLS0tICovXG5cbldvcmtlci5wcm90b3R5cGUudXNpbmcgPSBXb3JrZXIucHJvdG90eXBlLnNldDtcbldvcmtlci5wcm90b3R5cGUuc2F2ZUFzID0gV29ya2VyLnByb3RvdHlwZS5zYXZlO1xuV29ya2VyLnByb3RvdHlwZS5leHBvcnQgPSBXb3JrZXIucHJvdG90eXBlLm91dHB1dDtcbldvcmtlci5wcm90b3R5cGUucnVuID0gV29ya2VyLnByb3RvdHlwZS50aGVuO1xuXG4vLyBJbXBvcnQgZGVwZW5kZW5jaWVzLlxuLy8gR2V0IGRpbWVuc2lvbnMgb2YgYSBQREYgcGFnZSwgYXMgZGV0ZXJtaW5lZCBieSBqc1BERi5cbmpzUERGLmdldFBhZ2VTaXplID0gZnVuY3Rpb24gKG9yaWVudGF0aW9uLCB1bml0LCBmb3JtYXQpIHtcbiAgLy8gRGVjb2RlIG9wdGlvbnMgb2JqZWN0XG4gIGlmICgodHlwZW9mIG9yaWVudGF0aW9uID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihvcmllbnRhdGlvbikpID09PSAnb2JqZWN0Jykge1xuICAgIHZhciBvcHRpb25zID0gb3JpZW50YXRpb247XG4gICAgb3JpZW50YXRpb24gPSBvcHRpb25zLm9yaWVudGF0aW9uO1xuICAgIHVuaXQgPSBvcHRpb25zLnVuaXQgfHwgdW5pdDtcbiAgICBmb3JtYXQgPSBvcHRpb25zLmZvcm1hdCB8fCBmb3JtYXQ7XG4gIH1cblxuICAvLyBEZWZhdWx0IG9wdGlvbnNcbiAgdW5pdCA9IHVuaXQgfHwgJ21tJztcbiAgZm9ybWF0ID0gZm9ybWF0IHx8ICdhNCc7XG4gIG9yaWVudGF0aW9uID0gKCcnICsgKG9yaWVudGF0aW9uIHx8ICdQJykpLnRvTG93ZXJDYXNlKCk7XG4gIHZhciBmb3JtYXRfYXNfc3RyaW5nID0gKCcnICsgZm9ybWF0KS50b0xvd2VyQ2FzZSgpO1xuXG4gIC8vIFNpemUgaW4gcHQgb2YgdmFyaW91cyBwYXBlciBmb3JtYXRzXG4gIHZhciBwYWdlRm9ybWF0cyA9IHtcbiAgICAnYTAnOiBbMjM4My45NCwgMzM3MC4zOV0sICdhMSc6IFsxNjgzLjc4LCAyMzgzLjk0XSxcbiAgICAnYTInOiBbMTE5MC41NSwgMTY4My43OF0sICdhMyc6IFs4NDEuODksIDExOTAuNTVdLFxuICAgICdhNCc6IFs1OTUuMjgsIDg0MS44OV0sICdhNSc6IFs0MTkuNTMsIDU5NS4yOF0sXG4gICAgJ2E2JzogWzI5Ny42NCwgNDE5LjUzXSwgJ2E3JzogWzIwOS43NiwgMjk3LjY0XSxcbiAgICAnYTgnOiBbMTQ3LjQwLCAyMDkuNzZdLCAnYTknOiBbMTA0Ljg4LCAxNDcuNDBdLFxuICAgICdhMTAnOiBbNzMuNzAsIDEwNC44OF0sICdiMCc6IFsyODM0LjY1LCA0MDA4LjE5XSxcbiAgICAnYjEnOiBbMjAwNC4wOSwgMjgzNC42NV0sICdiMic6IFsxNDE3LjMyLCAyMDA0LjA5XSxcbiAgICAnYjMnOiBbMTAwMC42MywgMTQxNy4zMl0sICdiNCc6IFs3MDguNjYsIDEwMDAuNjNdLFxuICAgICdiNSc6IFs0OTguOTAsIDcwOC42Nl0sICdiNic6IFszNTQuMzMsIDQ5OC45MF0sXG4gICAgJ2I3JzogWzI0OS40NSwgMzU0LjMzXSwgJ2I4JzogWzE3NS43NSwgMjQ5LjQ1XSxcbiAgICAnYjknOiBbMTI0LjcyLCAxNzUuNzVdLCAnYjEwJzogWzg3Ljg3LCAxMjQuNzJdLFxuICAgICdjMCc6IFsyNTk5LjM3LCAzNjc2LjU0XSwgJ2MxJzogWzE4MzYuODUsIDI1OTkuMzddLFxuICAgICdjMic6IFsxMjk4LjI3LCAxODM2Ljg1XSwgJ2MzJzogWzkxOC40MywgMTI5OC4yN10sXG4gICAgJ2M0JzogWzY0OS4xMywgOTE4LjQzXSwgJ2M1JzogWzQ1OS4yMSwgNjQ5LjEzXSxcbiAgICAnYzYnOiBbMzIzLjE1LCA0NTkuMjFdLCAnYzcnOiBbMjI5LjYxLCAzMjMuMTVdLFxuICAgICdjOCc6IFsxNjEuNTcsIDIyOS42MV0sICdjOSc6IFsxMTMuMzksIDE2MS41N10sXG4gICAgJ2MxMCc6IFs3OS4zNywgMTEzLjM5XSwgJ2RsJzogWzMxMS44MSwgNjIzLjYyXSxcbiAgICAnbGV0dGVyJzogWzYxMiwgNzkyXSxcbiAgICAnZ292ZXJubWVudC1sZXR0ZXInOiBbNTc2LCA3NTZdLFxuICAgICdsZWdhbCc6IFs2MTIsIDEwMDhdLFxuICAgICdqdW5pb3ItbGVnYWwnOiBbNTc2LCAzNjBdLFxuICAgICdsZWRnZXInOiBbMTIyNCwgNzkyXSxcbiAgICAndGFibG9pZCc6IFs3OTIsIDEyMjRdLFxuICAgICdjcmVkaXQtY2FyZCc6IFsxNTMsIDI0M11cbiAgfTtcblxuICAvLyBVbml0IGNvbnZlcnNpb25cbiAgc3dpdGNoICh1bml0KSB7XG4gICAgY2FzZSAncHQnOlxuICAgICAgdmFyIGsgPSAxO2JyZWFrO1xuICAgIGNhc2UgJ21tJzpcbiAgICAgIHZhciBrID0gNzIgLyAyNS40O2JyZWFrO1xuICAgIGNhc2UgJ2NtJzpcbiAgICAgIHZhciBrID0gNzIgLyAyLjU0O2JyZWFrO1xuICAgIGNhc2UgJ2luJzpcbiAgICAgIHZhciBrID0gNzI7YnJlYWs7XG4gICAgY2FzZSAncHgnOlxuICAgICAgdmFyIGsgPSA3MiAvIDk2O2JyZWFrO1xuICAgIGNhc2UgJ3BjJzpcbiAgICAgIHZhciBrID0gMTI7YnJlYWs7XG4gICAgY2FzZSAnZW0nOlxuICAgICAgdmFyIGsgPSAxMjticmVhaztcbiAgICBjYXNlICdleCc6XG4gICAgICB2YXIgayA9IDY7YnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93ICdJbnZhbGlkIHVuaXQ6ICcgKyB1bml0O1xuICB9XG5cbiAgLy8gRGltZW5zaW9ucyBhcmUgc3RvcmVkIGFzIHVzZXIgdW5pdHMgYW5kIGNvbnZlcnRlZCB0byBwb2ludHMgb24gb3V0cHV0XG4gIGlmIChwYWdlRm9ybWF0cy5oYXNPd25Qcm9wZXJ0eShmb3JtYXRfYXNfc3RyaW5nKSkge1xuICAgIHZhciBwYWdlSGVpZ2h0ID0gcGFnZUZvcm1hdHNbZm9ybWF0X2FzX3N0cmluZ11bMV0gLyBrO1xuICAgIHZhciBwYWdlV2lkdGggPSBwYWdlRm9ybWF0c1tmb3JtYXRfYXNfc3RyaW5nXVswXSAvIGs7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBwYWdlSGVpZ2h0ID0gZm9ybWF0WzFdO1xuICAgICAgdmFyIHBhZ2VXaWR0aCA9IGZvcm1hdFswXTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBmb3JtYXQ6ICcgKyBmb3JtYXQpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEhhbmRsZSBwYWdlIG9yaWVudGF0aW9uXG4gIGlmIChvcmllbnRhdGlvbiA9PT0gJ3AnIHx8IG9yaWVudGF0aW9uID09PSAncG9ydHJhaXQnKSB7XG4gICAgb3JpZW50YXRpb24gPSAncCc7XG4gICAgaWYgKHBhZ2VXaWR0aCA+IHBhZ2VIZWlnaHQpIHtcbiAgICAgIHZhciB0bXAgPSBwYWdlV2lkdGg7XG4gICAgICBwYWdlV2lkdGggPSBwYWdlSGVpZ2h0O1xuICAgICAgcGFnZUhlaWdodCA9IHRtcDtcbiAgICB9XG4gIH0gZWxzZSBpZiAob3JpZW50YXRpb24gPT09ICdsJyB8fCBvcmllbnRhdGlvbiA9PT0gJ2xhbmRzY2FwZScpIHtcbiAgICBvcmllbnRhdGlvbiA9ICdsJztcbiAgICBpZiAocGFnZUhlaWdodCA+IHBhZ2VXaWR0aCkge1xuICAgICAgdmFyIHRtcCA9IHBhZ2VXaWR0aDtcbiAgICAgIHBhZ2VXaWR0aCA9IHBhZ2VIZWlnaHQ7XG4gICAgICBwYWdlSGVpZ2h0ID0gdG1wO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyAnSW52YWxpZCBvcmllbnRhdGlvbjogJyArIG9yaWVudGF0aW9uO1xuICB9XG5cbiAgLy8gUmV0dXJuIGluZm9ybWF0aW9uIChrIGlzIHRoZSB1bml0IGNvbnZlcnNpb24gcmF0aW8gZnJvbSBwdHMpXG4gIHZhciBpbmZvID0geyAnd2lkdGgnOiBwYWdlV2lkdGgsICdoZWlnaHQnOiBwYWdlSGVpZ2h0LCAndW5pdCc6IHVuaXQsICdrJzogayB9O1xuICByZXR1cm4gaW5mbztcbn07XG5cbi8qIFBhZ2VicmVhayBwbHVnaW46XG5cbiAgICBBZGRzIHBhZ2UtYnJlYWsgZnVuY3Rpb25hbGl0eSB0byB0aGUgaHRtbDJwZGYgbGlicmFyeS4gUGFnZS1icmVha3MgY2FuIGJlXG4gICAgZW5hYmxlZCBieSBDU1Mgc3R5bGVzLCBzZXQgb24gaW5kaXZpZHVhbCBlbGVtZW50cyB1c2luZyBzZWxlY3RvcnMsIG9yXG4gICAgYXZvaWRlZCBmcm9tIGJyZWFraW5nIGluc2lkZSBhbGwgZWxlbWVudHMuXG5cbiAgICBPcHRpb25zIG9uIHRoZSBgb3B0LnBhZ2VicmVha2Agb2JqZWN0OlxuXG4gICAgbW9kZTogICBTdHJpbmcgb3IgYXJyYXkgb2Ygc3RyaW5nczogJ2F2b2lkLWFsbCcsICdjc3MnLCBhbmQvb3IgJ2xlZ2FjeSdcbiAgICAgICAgICAgIERlZmF1bHQ6IFsnY3NzJywgJ2xlZ2FjeSddXG5cbiAgICBiZWZvcmU6IFN0cmluZyBvciBhcnJheSBvZiBDU1Mgc2VsZWN0b3JzIGZvciB3aGljaCB0byBhZGQgcGFnZS1icmVha3NcbiAgICAgICAgICAgIGJlZm9yZSBlYWNoIGVsZW1lbnQuIENhbiBiZSBhIHNwZWNpZmljIGVsZW1lbnQgd2l0aCBhbiBJRFxuICAgICAgICAgICAgKCcjbXlJRCcpLCBhbGwgZWxlbWVudHMgb2YgYSB0eXBlIChlLmcuICdpbWcnKSwgYWxsIG9mIGEgY2xhc3NcbiAgICAgICAgICAgICgnLm15Q2xhc3MnKSwgb3IgZXZlbiAnKicgdG8gbWF0Y2ggZXZlcnkgZWxlbWVudC5cblxuICAgIGFmdGVyOiAgTGlrZSAnYmVmb3JlJywgYnV0IGFkZHMgYSBwYWdlLWJyZWFrIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBlbGVtZW50LlxuXG4gICAgYXZvaWQ6ICBMaWtlICdiZWZvcmUnLCBidXQgYXZvaWRzIHBhZ2UtYnJlYWtzIG9uIHRoZXNlIGVsZW1lbnRzLiBZb3UgY2FuXG4gICAgICAgICAgICBlbmFibGUgdGhpcyBmZWF0dXJlIG9uIGV2ZXJ5IGVsZW1lbnQgdXNpbmcgdGhlICdhdm9pZC1hbGwnIG1vZGUuXG4qL1xuXG4vLyBSZWZzIHRvIG9yaWdpbmFsIGZ1bmN0aW9ucy5cbnZhciBvcmlnID0ge1xuICB0b0NvbnRhaW5lcjogV29ya2VyLnByb3RvdHlwZS50b0NvbnRhaW5lclxufTtcblxuLy8gQWRkIHBhZ2VicmVhayBkZWZhdWx0IG9wdGlvbnMgdG8gdGhlIFdvcmtlciB0ZW1wbGF0ZS5cbldvcmtlci50ZW1wbGF0ZS5vcHQucGFnZWJyZWFrID0ge1xuICBtb2RlOiBbJ2NzcycsICdsZWdhY3knXSxcbiAgYmVmb3JlOiBbXSxcbiAgYWZ0ZXI6IFtdLFxuICBhdm9pZDogW11cbn07XG5cbldvcmtlci5wcm90b3R5cGUudG9Db250YWluZXIgPSBmdW5jdGlvbiB0b0NvbnRhaW5lcigpIHtcbiAgcmV0dXJuIG9yaWcudG9Db250YWluZXIuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uIHRvQ29udGFpbmVyX3BhZ2VicmVhaygpIHtcbiAgICAvLyBTZXR1cCByb290IGVsZW1lbnQgYW5kIGlubmVyIHBhZ2UgaGVpZ2h0LlxuICAgIHZhciByb290ID0gdGhpcy5wcm9wLmNvbnRhaW5lcjtcbiAgICB2YXIgcHhQYWdlSGVpZ2h0ID0gdGhpcy5wcm9wLnBhZ2VTaXplLmlubmVyLnB4LmhlaWdodDtcblxuICAgIC8vIENoZWNrIGFsbCByZXF1ZXN0ZWQgbW9kZXMuXG4gICAgdmFyIG1vZGVTcmMgPSBbXS5jb25jYXQodGhpcy5vcHQucGFnZWJyZWFrLm1vZGUpO1xuICAgIHZhciBtb2RlID0ge1xuICAgICAgYXZvaWRBbGw6IG1vZGVTcmMuaW5kZXhPZignYXZvaWQtYWxsJykgIT09IC0xLFxuICAgICAgY3NzOiBtb2RlU3JjLmluZGV4T2YoJ2NzcycpICE9PSAtMSxcbiAgICAgIGxlZ2FjeTogbW9kZVNyYy5pbmRleE9mKCdsZWdhY3knKSAhPT0gLTFcbiAgICB9O1xuXG4gICAgLy8gR2V0IGFycmF5cyBvZiBhbGwgZXhwbGljaXRseSByZXF1ZXN0ZWQgZWxlbWVudHMuXG4gICAgdmFyIHNlbGVjdCA9IHt9O1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBbJ2JlZm9yZScsICdhZnRlcicsICdhdm9pZCddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIGFsbCA9IG1vZGUuYXZvaWRBbGwgJiYga2V5ID09PSAnYXZvaWQnO1xuICAgICAgc2VsZWN0W2tleV0gPSBhbGwgPyBbXSA6IFtdLmNvbmNhdChzZWxmLm9wdC5wYWdlYnJlYWtba2V5XSB8fCBbXSk7XG4gICAgICBpZiAoc2VsZWN0W2tleV0ubGVuZ3RoID4gMCkge1xuICAgICAgICBzZWxlY3Rba2V5XSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHJvb3QucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rba2V5XS5qb2luKCcsICcpKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBHZXQgYWxsIGxlZ2FjeSBwYWdlLWJyZWFrIGVsZW1lbnRzLlxuICAgIHZhciBsZWdhY3lFbHMgPSByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5odG1sMnBkZl9fcGFnZS1icmVhaycpO1xuICAgIGxlZ2FjeUVscyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGxlZ2FjeUVscyk7XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIGVsZW1lbnRzLlxuICAgIHZhciBlbHMgPSByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKTtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVscywgZnVuY3Rpb24gcGFnZWJyZWFrX2xvb3AoZWwpIHtcbiAgICAgIC8vIFNldHVwIHBhZ2VicmVhayBydWxlcyBiYXNlZCBvbiBsZWdhY3kgYW5kIGF2b2lkQWxsIG1vZGVzLlxuICAgICAgdmFyIHJ1bGVzID0ge1xuICAgICAgICBiZWZvcmU6IGZhbHNlLFxuICAgICAgICBhZnRlcjogbW9kZS5sZWdhY3kgJiYgbGVnYWN5RWxzLmluZGV4T2YoZWwpICE9PSAtMSxcbiAgICAgICAgYXZvaWQ6IG1vZGUuYXZvaWRBbGxcbiAgICAgIH07XG5cbiAgICAgIC8vIEFkZCBydWxlcyBmb3IgY3NzIG1vZGUuXG4gICAgICBpZiAobW9kZS5jc3MpIHtcbiAgICAgICAgLy8gVE9ETzogQ2hlY2sgaWYgdGhpcyBpcyB2YWxpZCB3aXRoIGlGcmFtZXMuXG4gICAgICAgIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgICAgICAgLy8gVE9ETzogSGFuZGxlICdsZWZ0JyBhbmQgJ3JpZ2h0JyBjb3JyZWN0bHkuXG4gICAgICAgIC8vIFRPRE86IEFkZCBzdXBwb3J0IGZvciAnYXZvaWQnIG9uIGJyZWFrQmVmb3JlL0FmdGVyLlxuICAgICAgICB2YXIgYnJlYWtPcHQgPSBbJ2Fsd2F5cycsICdwYWdlJywgJ2xlZnQnLCAncmlnaHQnXTtcbiAgICAgICAgdmFyIGF2b2lkT3B0ID0gWydhdm9pZCcsICdhdm9pZC1wYWdlJ107XG4gICAgICAgIHJ1bGVzID0ge1xuICAgICAgICAgIGJlZm9yZTogcnVsZXMuYmVmb3JlIHx8IGJyZWFrT3B0LmluZGV4T2Yoc3R5bGUuYnJlYWtCZWZvcmUgfHwgc3R5bGUucGFnZUJyZWFrQmVmb3JlKSAhPT0gLTEsXG4gICAgICAgICAgYWZ0ZXI6IHJ1bGVzLmFmdGVyIHx8IGJyZWFrT3B0LmluZGV4T2Yoc3R5bGUuYnJlYWtBZnRlciB8fCBzdHlsZS5wYWdlQnJlYWtBZnRlcikgIT09IC0xLFxuICAgICAgICAgIGF2b2lkOiBydWxlcy5hdm9pZCB8fCBhdm9pZE9wdC5pbmRleE9mKHN0eWxlLmJyZWFrSW5zaWRlIHx8IHN0eWxlLnBhZ2VCcmVha0luc2lkZSkgIT09IC0xXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBydWxlcyBmb3IgZXhwbGljaXQgcmVxdWVzdHMuXG4gICAgICBPYmplY3Qua2V5cyhydWxlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJ1bGVzW2tleV0gPSBydWxlc1trZXldIHx8IHNlbGVjdFtrZXldLmluZGV4T2YoZWwpICE9PSAtMTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBHZXQgZWxlbWVudCBwb3NpdGlvbiBvbiB0aGUgc2NyZWVuLlxuICAgICAgLy8gVE9ETzogU3VidHJhY3QgdGhlIHRvcCBvZiB0aGUgY29udGFpbmVyIGZyb20gY2xpZW50UmVjdC50b3AvYm90dG9tP1xuICAgICAgdmFyIGNsaWVudFJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgLy8gQXZvaWQ6IENoZWNrIGlmIGEgYnJlYWsgaGFwcGVucyBtaWQtZWxlbWVudC5cbiAgICAgIGlmIChydWxlcy5hdm9pZCAmJiAhcnVsZXMuYmVmb3JlKSB7XG4gICAgICAgIHZhciBzdGFydFBhZ2UgPSBNYXRoLmZsb29yKGNsaWVudFJlY3QudG9wIC8gcHhQYWdlSGVpZ2h0KTtcbiAgICAgICAgdmFyIGVuZFBhZ2UgPSBNYXRoLmZsb29yKGNsaWVudFJlY3QuYm90dG9tIC8gcHhQYWdlSGVpZ2h0KTtcbiAgICAgICAgdmFyIG5QYWdlcyA9IE1hdGguYWJzKGNsaWVudFJlY3QuYm90dG9tIC0gY2xpZW50UmVjdC50b3ApIC8gcHhQYWdlSGVpZ2h0O1xuXG4gICAgICAgIC8vIFR1cm4gb24gcnVsZXMuYmVmb3JlIGlmIHRoZSBlbCBpcyBicm9rZW4gYW5kIGlzIGF0IG1vc3Qgb25lIHBhZ2UgbG9uZy5cbiAgICAgICAgaWYgKGVuZFBhZ2UgIT09IHN0YXJ0UGFnZSAmJiBuUGFnZXMgPD0gMSkge1xuICAgICAgICAgIHJ1bGVzLmJlZm9yZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQmVmb3JlOiBDcmVhdGUgYSBwYWRkaW5nIGRpdiB0byBwdXNoIHRoZSBlbGVtZW50IHRvIHRoZSBuZXh0IHBhZ2UuXG4gICAgICBpZiAocnVsZXMuYmVmb3JlKSB7XG4gICAgICAgIHZhciBwYWQgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7IHN0eWxlOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgICAgaGVpZ2h0OiBweFBhZ2VIZWlnaHQgLSBjbGllbnRSZWN0LnRvcCAlIHB4UGFnZUhlaWdodCArICdweCdcbiAgICAgICAgICB9IH0pO1xuICAgICAgICBlbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwYWQsIGVsKTtcbiAgICAgIH1cblxuICAgICAgLy8gQWZ0ZXI6IENyZWF0ZSBhIHBhZGRpbmcgZGl2IHRvIGZpbGwgdGhlIHJlbWFpbmluZyBwYWdlLlxuICAgICAgaWYgKHJ1bGVzLmFmdGVyKSB7XG4gICAgICAgIHZhciBwYWQgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCB7IHN0eWxlOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgICAgaGVpZ2h0OiBweFBhZ2VIZWlnaHQgLSBjbGllbnRSZWN0LmJvdHRvbSAlIHB4UGFnZUhlaWdodCArICdweCdcbiAgICAgICAgICB9IH0pO1xuICAgICAgICBlbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwYWQsIGVsLm5leHRTaWJsaW5nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vLyBBZGQgaHlwZXJsaW5rIGZ1bmN0aW9uYWxpdHkgdG8gdGhlIFBERiBjcmVhdGlvbi5cblxuLy8gTWFpbiBsaW5rIGFycmF5LCBhbmQgcmVmcyB0byBvcmlnaW5hbCBmdW5jdGlvbnMuXG52YXIgbGlua0luZm8gPSBbXTtcbnZhciBvcmlnJDEgPSB7XG4gIHRvQ29udGFpbmVyOiBXb3JrZXIucHJvdG90eXBlLnRvQ29udGFpbmVyLFxuICB0b1BkZjogV29ya2VyLnByb3RvdHlwZS50b1BkZlxufTtcblxuV29ya2VyLnByb3RvdHlwZS50b0NvbnRhaW5lciA9IGZ1bmN0aW9uIHRvQ29udGFpbmVyKCkge1xuICByZXR1cm4gb3JpZyQxLnRvQ29udGFpbmVyLmNhbGwodGhpcykudGhlbihmdW5jdGlvbiB0b0NvbnRhaW5lcl9oeXBlcmxpbmsoKSB7XG4gICAgLy8gUmV0cmlldmUgaHlwZXJsaW5rIGluZm8gaWYgdGhlIG9wdGlvbiBpcyBlbmFibGVkLlxuICAgIGlmICh0aGlzLm9wdC5lbmFibGVMaW5rcykge1xuICAgICAgLy8gRmluZCBhbGwgYW5jaG9yIHRhZ3MgYW5kIGdldCB0aGUgY29udGFpbmVyJ3MgYm91bmRzIGZvciByZWZlcmVuY2UuXG4gICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wcm9wLmNvbnRhaW5lcjtcbiAgICAgIHZhciBsaW5rcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdhJyk7XG4gICAgICB2YXIgY29udGFpbmVyUmVjdCA9IHVuaXRDb252ZXJ0KGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdGhpcy5wcm9wLnBhZ2VTaXplLmspO1xuICAgICAgbGlua0luZm8gPSBbXTtcblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGVhY2ggYW5jaG9yIHRhZy5cbiAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgIC8vIFRyZWF0IGVhY2ggY2xpZW50IHJlY3QgYXMgYSBzZXBhcmF0ZSBsaW5rIChmb3IgdGV4dC13cmFwcGluZykuXG4gICAgICAgIHZhciBjbGllbnRSZWN0cyA9IGxpbmsuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGllbnRSZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBjbGllbnRSZWN0ID0gdW5pdENvbnZlcnQoY2xpZW50UmVjdHNbaV0sIHRoaXMucHJvcC5wYWdlU2l6ZS5rKTtcbiAgICAgICAgICBjbGllbnRSZWN0LmxlZnQgLT0gY29udGFpbmVyUmVjdC5sZWZ0O1xuICAgICAgICAgIGNsaWVudFJlY3QudG9wIC09IGNvbnRhaW5lclJlY3QudG9wO1xuXG4gICAgICAgICAgdmFyIHBhZ2UgPSBNYXRoLmZsb29yKGNsaWVudFJlY3QudG9wIC8gdGhpcy5wcm9wLnBhZ2VTaXplLmlubmVyLmhlaWdodCkgKyAxO1xuICAgICAgICAgIHZhciB0b3AgPSB0aGlzLm9wdC5tYXJnaW5bMF0gKyBjbGllbnRSZWN0LnRvcCAlIHRoaXMucHJvcC5wYWdlU2l6ZS5pbm5lci5oZWlnaHQ7XG4gICAgICAgICAgdmFyIGxlZnQgPSB0aGlzLm9wdC5tYXJnaW5bMV0gKyBjbGllbnRSZWN0LmxlZnQ7XG5cbiAgICAgICAgICBsaW5rSW5mby5wdXNoKHsgcGFnZTogcGFnZSwgdG9wOiB0b3AsIGxlZnQ6IGxlZnQsIGNsaWVudFJlY3Q6IGNsaWVudFJlY3QsIGxpbms6IGxpbmsgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5Xb3JrZXIucHJvdG90eXBlLnRvUGRmID0gZnVuY3Rpb24gdG9QZGYoKSB7XG4gIHJldHVybiBvcmlnJDEudG9QZGYuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uIHRvUGRmX2h5cGVybGluaygpIHtcbiAgICAvLyBBZGQgaHlwZXJsaW5rcyBpZiB0aGUgb3B0aW9uIGlzIGVuYWJsZWQuXG4gICAgaWYgKHRoaXMub3B0LmVuYWJsZUxpbmtzKSB7XG4gICAgICAvLyBBdHRhY2ggZWFjaCBhbmNob3IgdGFnIGJhc2VkIG9uIGluZm8gZnJvbSB0b0NvbnRhaW5lcigpLlxuICAgICAgbGlua0luZm8uZm9yRWFjaChmdW5jdGlvbiAobCkge1xuICAgICAgICB0aGlzLnByb3AucGRmLnNldFBhZ2UobC5wYWdlKTtcbiAgICAgICAgdGhpcy5wcm9wLnBkZi5saW5rKGwubGVmdCwgbC50b3AsIGwuY2xpZW50UmVjdC53aWR0aCwgbC5jbGllbnRSZWN0LmhlaWdodCwgeyB1cmw6IGwubGluay5ocmVmIH0pO1xuICAgICAgfSwgdGhpcyk7XG5cbiAgICAgIC8vIFJlc2V0IHRoZSBhY3RpdmUgcGFnZSBvZiB0aGUgUERGIHRvIHRoZSBmaW5hbCBwYWdlLlxuICAgICAgdmFyIG5QYWdlcyA9IHRoaXMucHJvcC5wZGYuaW50ZXJuYWwuZ2V0TnVtYmVyT2ZQYWdlcygpO1xuICAgICAgdGhpcy5wcm9wLnBkZi5zZXRQYWdlKG5QYWdlcyk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogR2VuZXJhdGUgYSBQREYgZnJvbSBhbiBIVE1MIGVsZW1lbnQgb3Igc3RyaW5nIHVzaW5nIGh0bWwyY2FudmFzIGFuZCBqc1BERi5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSBlbGVtZW50IG9yIEhUTUwgc3RyaW5nLlxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHQgQW4gb2JqZWN0IG9mIG9wdGlvbmFsIHNldHRpbmdzOiAnbWFyZ2luJywgJ2ZpbGVuYW1lJyxcbiAqICAgICdpbWFnZScgKCd0eXBlJyBhbmQgJ3F1YWxpdHknKSwgYW5kICdodG1sMmNhbnZhcycgLyAnanNwZGYnLCB3aGljaCBhcmVcbiAqICAgIHNlbnQgYXMgc2V0dGluZ3MgdG8gdGhlaXIgY29ycmVzcG9uZGluZyBmdW5jdGlvbnMuXG4gKi9cbnZhciBodG1sMnBkZiA9IGZ1bmN0aW9uIGh0bWwycGRmKHNyYywgb3B0KSB7XG4gIC8vIENyZWF0ZSBhIG5ldyB3b3JrZXIgd2l0aCB0aGUgZ2l2ZW4gb3B0aW9ucy5cbiAgdmFyIHdvcmtlciA9IG5ldyBodG1sMnBkZi5Xb3JrZXIob3B0KTtcblxuICBpZiAoc3JjKSB7XG4gICAgLy8gSWYgc3JjIGlzIHNwZWNpZmllZCwgcGVyZm9ybSB0aGUgdHJhZGl0aW9uYWwgJ3NpbXBsZScgb3BlcmF0aW9uLlxuICAgIHJldHVybiB3b3JrZXIuZnJvbShzcmMpLnNhdmUoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBPdGhlcndpc2UsIHJldHVybiB0aGUgd29ya2VyIGZvciBuZXcgUHJvbWlzZS1iYXNlZCBvcGVyYXRpb24uXG4gICAgcmV0dXJuIHdvcmtlcjtcbiAgfVxufTtcbmh0bWwycGRmLldvcmtlciA9IFdvcmtlcjtcblxucmV0dXJuIGh0bWwycGRmO1xuXG59KSkpO1xuIiwiIWZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6dCgpfShmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO1xuLyoqIEBsaWNlbnNlXG4gICAqIGpzUERGIC0gUERGIERvY3VtZW50IGNyZWF0aW9uIGZyb20gSmF2YVNjcmlwdFxuICAgKiBWZXJzaW9uIDEuNS4zIEJ1aWx0IG9uIDIwMTgtMTItMjdUMTQ6MTE6NDIuNjk2WlxuICAgKiAgICAgICAgICAgICAgICAgICAgICBDb21taXRJRCBkOTNkMjhkYjE0XG4gICAqXG4gICAqIENvcHlyaWdodCAoYykgMjAxMC0yMDE2IEphbWVzIEhhbGwgPGphbWVzQHBhcmFsbC5heD4sIGh0dHBzOi8vZ2l0aHViLmNvbS9NclJpby9qc1BERlxuICAgKiAgICAgICAgICAgICAgIDIwMTAgQWFyb24gU3Bpa2UsIGh0dHBzOi8vZ2l0aHViLmNvbS9hY3NwaWtlXG4gICAqICAgICAgICAgICAgICAgMjAxMiBXaWxsb3cgU3lzdGVtcyBDb3Jwb3JhdGlvbiwgd2lsbG93LXN5c3RlbXMuY29tXG4gICAqICAgICAgICAgICAgICAgMjAxMiBQYWJsbyBIZXNzLCBodHRwczovL2dpdGh1Yi5jb20vcGFibG9oZXNzXG4gICAqICAgICAgICAgICAgICAgMjAxMiBGbG9yaWFuIEplbmV0dCwgaHR0cHM6Ly9naXRodWIuY29tL2ZqZW5ldHRcbiAgICogICAgICAgICAgICAgICAyMDEzIFdhcnJlbiBXZWNrZXNzZXIsIGh0dHBzOi8vZ2l0aHViLmNvbS93YXJyZW53ZWNrZXNzZXJcbiAgICogICAgICAgICAgICAgICAyMDEzIFlvdXNzZWYgQmVkZGFkLCBodHRwczovL2dpdGh1Yi5jb20vbGlmb2ZcbiAgICogICAgICAgICAgICAgICAyMDEzIExlZSBEcmlzY29sbCwgaHR0cHM6Ly9naXRodWIuY29tL2xzZHJpc2NvbGxcbiAgICogICAgICAgICAgICAgICAyMDEzIFN0ZWZhbiBTbG9uZXZza2l5LCBodHRwczovL2dpdGh1Yi5jb20vc3RlZnNsb25cbiAgICogICAgICAgICAgICAgICAyMDEzIEplcmVteSBNb3JlbCwgaHR0cHM6Ly9naXRodWIuY29tL2ptb3JlbFxuICAgKiAgICAgICAgICAgICAgIDIwMTMgQ2hyaXN0b3BoIEhhcnRtYW5uLCBodHRwczovL2dpdGh1Yi5jb20vY2hyaXMtcm9ja1xuICAgKiAgICAgICAgICAgICAgIDIwMTQgSnVhbiBQYWJsbyBHYXZpcmlhLCBodHRwczovL2dpdGh1Yi5jb20vanVhbnBnYXZpcmlhXG4gICAqICAgICAgICAgICAgICAgMjAxNCBKYW1lcyBNYWtlcywgaHR0cHM6Ly9naXRodWIuY29tL2RvbGxhcnV3XG4gICAqICAgICAgICAgICAgICAgMjAxNCBEaWVnbyBDYXNvcnJhbiwgaHR0cHM6Ly9naXRodWIuY29tL2RpZWdvY3JcbiAgICogICAgICAgICAgICAgICAyMDE0IFN0ZXZlbiBTcHVuZ2luLCBodHRwczovL2dpdGh1Yi5jb20vRmxhbWVuY29cbiAgICogICAgICAgICAgICAgICAyMDE0IEtlbm5ldGggR2xhc3NleSwgaHR0cHM6Ly9naXRodWIuY29tL0dhdnZlcnNcbiAgICpcbiAgICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG4gICAqXG4gICAqIENvbnRyaWJ1dG9yKHMpOlxuICAgKiAgICBzaWVma2VuaiwgYWh3b2xmLCByaWNreWd1LCBNaWRuaXRoLCBzYWludGNsYWlyLCBlYXBhcmFuZ28sXG4gICAqICAgIGtpbTNlciwgbWZvLCBhbG5vcnRoLCBGbGFtZW5jb1xuICAgKi9mdW5jdGlvbiBzZSh0KXtyZXR1cm4oc2U9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0pKHQpfSFmdW5jdGlvbih0KXtpZihcIm9iamVjdFwiIT09c2UodC5jb25zb2xlKSl7dC5jb25zb2xlPXt9O2Zvcih2YXIgZSxuLHI9dC5jb25zb2xlLGk9ZnVuY3Rpb24oKXt9LG89W1wibWVtb3J5XCJdLGE9XCJhc3NlcnQsY2xlYXIsY291bnQsZGVidWcsZGlyLGRpcnhtbCxlcnJvcixleGNlcHRpb24sZ3JvdXAsZ3JvdXBDb2xsYXBzZWQsZ3JvdXBFbmQsaW5mbyxsb2csbWFya1RpbWVsaW5lLHByb2ZpbGUscHJvZmlsZXMscHJvZmlsZUVuZCxzaG93LHRhYmxlLHRpbWUsdGltZUVuZCx0aW1lbGluZSx0aW1lbGluZUVuZCx0aW1lU3RhbXAsdHJhY2Usd2FyblwiLnNwbGl0KFwiLFwiKTtlPW8ucG9wKCk7KXJbZV18fChyW2VdPXt9KTtmb3IoO249YS5wb3AoKTspcltuXXx8KHJbbl09aSl9dmFyIHMsbCxoLHUsYz1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCI7dm9pZCAwPT09dC5idG9hJiYodC5idG9hPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8sYT0wLHM9MCxsPVwiXCIsaD1bXTtpZighdClyZXR1cm4gdDtmb3IoO2U9KG89dC5jaGFyQ29kZUF0KGErKyk8PDE2fHQuY2hhckNvZGVBdChhKyspPDw4fHQuY2hhckNvZGVBdChhKyspKT4+MTgmNjMsbj1vPj4xMiY2MyxyPW8+PjYmNjMsaT02MyZvLGhbcysrXT1jLmNoYXJBdChlKStjLmNoYXJBdChuKStjLmNoYXJBdChyKStjLmNoYXJBdChpKSxhPHQubGVuZ3RoOyk7bD1oLmpvaW4oXCJcIik7dmFyIHU9dC5sZW5ndGglMztyZXR1cm4odT9sLnNsaWNlKDAsdS0zKTpsKStcIj09PVwiLnNsaWNlKHV8fDMpfSksdm9pZCAwPT09dC5hdG9iJiYodC5hdG9iPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8sYSxzPTAsbD0wLGg9W107aWYoIXQpcmV0dXJuIHQ7Zm9yKHQrPVwiXCI7ZT0oYT1jLmluZGV4T2YodC5jaGFyQXQocysrKSk8PDE4fGMuaW5kZXhPZih0LmNoYXJBdChzKyspKTw8MTJ8KGk9Yy5pbmRleE9mKHQuY2hhckF0KHMrKykpKTw8Nnwobz1jLmluZGV4T2YodC5jaGFyQXQocysrKSkpKT4+MTYmMjU1LG49YT4+OCYyNTUscj0yNTUmYSxoW2wrK109NjQ9PWk/U3RyaW5nLmZyb21DaGFyQ29kZShlKTo2ND09bz9TdHJpbmcuZnJvbUNoYXJDb2RlKGUsbik6U3RyaW5nLmZyb21DaGFyQ29kZShlLG4sciksczx0Lmxlbmd0aDspO3JldHVybiBoLmpvaW4oXCJcIil9KSxBcnJheS5wcm90b3R5cGUubWFwfHwoQXJyYXkucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXtpZihudWxsPT10aGlzfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3I7Zm9yKHZhciBlPU9iamVjdCh0aGlzKSxuPWUubGVuZ3RoPj4+MCxyPW5ldyBBcnJheShuKSxpPTE8YXJndW1lbnRzLmxlbmd0aD9hcmd1bWVudHNbMV06dm9pZCAwLG89MDtvPG47bysrKW8gaW4gZSYmKHJbb109dC5jYWxsKGksZVtvXSxvLGUpKTtyZXR1cm4gcn0pLEFycmF5LmlzQXJyYXl8fChBcnJheS5pc0FycmF5PWZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNofHwoQXJyYXkucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCxlKXtpZihudWxsPT10aGlzfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3I7Zm9yKHZhciBuPU9iamVjdCh0aGlzKSxyPW4ubGVuZ3RoPj4+MCxpPTA7aTxyO2krKylpIGluIG4mJnQuY2FsbChlLG5baV0saSxuKX0pLEFycmF5LnByb3RvdHlwZS5maW5kfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLFwiZmluZFwiLHt2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsPT10aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoJ1widGhpc1wiIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKTt2YXIgZT1PYmplY3QodGhpcyksbj1lLmxlbmd0aD4+PjA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwicHJlZGljYXRlIG11c3QgYmUgYSBmdW5jdGlvblwiKTtmb3IodmFyIHI9YXJndW1lbnRzWzFdLGk9MDtpPG47KXt2YXIgbz1lW2ldO2lmKHQuY2FsbChyLG8saSxlKSlyZXR1cm4gbztpKyt9fSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSxPYmplY3Qua2V5c3x8KE9iamVjdC5rZXlzPShzPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbD0he3RvU3RyaW5nOm51bGx9LnByb3BlcnR5SXNFbnVtZXJhYmxlKFwidG9TdHJpbmdcIiksdT0oaD1bXCJ0b1N0cmluZ1wiLFwidG9Mb2NhbGVTdHJpbmdcIixcInZhbHVlT2ZcIixcImhhc093blByb3BlcnR5XCIsXCJpc1Byb3RvdHlwZU9mXCIsXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLFwiY29uc3RydWN0b3JcIl0pLmxlbmd0aCxmdW5jdGlvbih0KXtpZihcIm9iamVjdFwiIT09c2UodCkmJihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0fHxudWxsPT09dCkpdGhyb3cgbmV3IFR5cGVFcnJvcjt2YXIgZSxuLHI9W107Zm9yKGUgaW4gdClzLmNhbGwodCxlKSYmci5wdXNoKGUpO2lmKGwpZm9yKG49MDtuPHU7bisrKXMuY2FsbCh0LGhbbl0pJiZyLnB1c2goaFtuXSk7cmV0dXJuIHJ9KSksXCJmdW5jdGlvblwiIT10eXBlb2YgT2JqZWN0LmFzc2lnbiYmKE9iamVjdC5hc3NpZ249ZnVuY3Rpb24odCl7aWYobnVsbD09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0XCIpO3Q9T2JqZWN0KHQpO2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtpZihudWxsIT1uKWZvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH0pLFN0cmluZy5wcm90b3R5cGUudHJpbXx8KFN0cmluZy5wcm90b3R5cGUudHJpbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9KSxTdHJpbmcucHJvdG90eXBlLnRyaW1MZWZ0fHwoU3RyaW5nLnByb3RvdHlwZS50cmltTGVmdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcGxhY2UoL15cXHMrL2csXCJcIil9KSxTdHJpbmcucHJvdG90eXBlLnRyaW1SaWdodHx8KFN0cmluZy5wcm90b3R5cGUudHJpbVJpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVwbGFjZSgvXFxzKyQvZyxcIlwiKX0pLE51bWJlci5pc0ludGVnZXI9TnVtYmVyLmlzSW50ZWdlcnx8ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJmlzRmluaXRlKHQpJiZNYXRoLmZsb29yKHQpPT09dH19KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3d8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbHx8RnVuY3Rpb24oJ3JldHVybiB0eXBlb2YgdGhpcyA9PT0gXCJvYmplY3RcIiAmJiB0aGlzLmNvbnRlbnQnKSgpfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkpO3ZhciB0LGUsbixfLGwsRixQLHAsZCxrLGEsbyxzLGgsdSxjLHIsaSxmLGcsbSx5LHYsdyxiLHgsSSxDLEIsTixMLEEsUyxqLEUsTSxPLHEsVCxSLEQsVSx6LEgsVyxWLEcsWSxKLFgsSyxaLFEsJCx0dCxldCxudCxydCxpdCxvdCxhdCxzdCxsdD1mdW5jdGlvbihpZSl7ZnVuY3Rpb24gb2Uobyl7aWYoXCJvYmplY3RcIiE9PXNlKG8pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQ29udGV4dCBwYXNzZWQgdG8gaW5pdGlhbGl6ZSBQdWJTdWIgKGpzUERGLW1vZHVsZSlcIik7dmFyIGE9e307dGhpcy5zdWJzY3JpYmU9ZnVuY3Rpb24odCxlLG4pe2lmKG49bnx8ITEsXCJzdHJpbmdcIiE9dHlwZW9mIHR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGV8fFwiYm9vbGVhblwiIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8gUHViU3ViLnN1YnNjcmliZSAoanNQREYtbW9kdWxlKVwiKTthLmhhc093blByb3BlcnR5KHQpfHwoYVt0XT17fSk7dmFyIHI9TWF0aC5yYW5kb20oKS50b1N0cmluZygzNSk7cmV0dXJuIGFbdF1bcl09W2UsISFuXSxyfSx0aGlzLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiBhKWlmKGFbZV1bdF0pcmV0dXJuIGRlbGV0ZSBhW2VdW3RdLDA9PT1PYmplY3Qua2V5cyhhW2VdKS5sZW5ndGgmJmRlbGV0ZSBhW2VdLCEwO3JldHVybiExfSx0aGlzLnB1Ymxpc2g9ZnVuY3Rpb24odCl7aWYoYS5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG49W107Zm9yKHZhciByIGluIGFbdF0pe3ZhciBpPWFbdF1bcl07dHJ5e2lbMF0uYXBwbHkobyxlKX1jYXRjaCh0KXtpZS5jb25zb2xlJiZjb25zb2xlLmVycm9yKFwianNQREYgUHViU3ViIEVycm9yXCIsdC5tZXNzYWdlLHQpfWlbMV0mJm4ucHVzaChyKX1uLmxlbmd0aCYmbi5mb3JFYWNoKHRoaXMudW5zdWJzY3JpYmUpfX0sdGhpcy5nZXRUb3BpY3M9ZnVuY3Rpb24oKXtyZXR1cm4gYX19ZnVuY3Rpb24gYWUodCxlLGksbil7dmFyIHI9e30sbz1bXSxhPTE7XCJvYmplY3RcIj09PXNlKHQpJiYodD0ocj10KS5vcmllbnRhdGlvbixlPXIudW5pdHx8ZSxpPXIuZm9ybWF0fHxpLG49ci5jb21wcmVzc3x8ci5jb21wcmVzc1BkZnx8bixvPXIuZmlsdGVyc3x8KCEwPT09bj9bXCJGbGF0ZUVuY29kZVwiXTpvKSxhPVwibnVtYmVyXCI9PXR5cGVvZiByLnVzZXJVbml0P01hdGguYWJzKHIudXNlclVuaXQpOjEpLGU9ZXx8XCJtbVwiLHQ9KFwiXCIrKHR8fFwiUFwiKSkudG9Mb3dlckNhc2UoKTt2YXIgcz1yLnB1dE9ubHlVc2VkRm9udHN8fCEwLEs9e30sbD17aW50ZXJuYWw6e30sX19wcml2YXRlX186e319O2wuX19wcml2YXRlX18uUHViU3ViPW9lO3ZhciBoPVwiMS4zXCIsdT1sLl9fcHJpdmF0ZV9fLmdldFBkZlZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gaH0sYz0obC5fX3ByaXZhdGVfXy5zZXRQZGZWZXJzaW9uPWZ1bmN0aW9uKHQpe2g9dH0se2EwOlsyMzgzLjk0LDMzNzAuMzldLGExOlsxNjgzLjc4LDIzODMuOTRdLGEyOlsxMTkwLjU1LDE2ODMuNzhdLGEzOls4NDEuODksMTE5MC41NV0sYTQ6WzU5NS4yOCw4NDEuODldLGE1Ols0MTkuNTMsNTk1LjI4XSxhNjpbMjk3LjY0LDQxOS41M10sYTc6WzIwOS43NiwyOTcuNjRdLGE4OlsxNDcuNCwyMDkuNzZdLGE5OlsxMDQuODgsMTQ3LjRdLGExMDpbNzMuNywxMDQuODhdLGIwOlsyODM0LjY1LDQwMDguMTldLGIxOlsyMDA0LjA5LDI4MzQuNjVdLGIyOlsxNDE3LjMyLDIwMDQuMDldLGIzOlsxMDAwLjYzLDE0MTcuMzJdLGI0Ols3MDguNjYsMTAwMC42M10sYjU6WzQ5OC45LDcwOC42Nl0sYjY6WzM1NC4zMyw0OTguOV0sYjc6WzI0OS40NSwzNTQuMzNdLGI4OlsxNzUuNzUsMjQ5LjQ1XSxiOTpbMTI0LjcyLDE3NS43NV0sYjEwOls4Ny44NywxMjQuNzJdLGMwOlsyNTk5LjM3LDM2NzYuNTRdLGMxOlsxODM2Ljg1LDI1OTkuMzddLGMyOlsxMjk4LjI3LDE4MzYuODVdLGMzOls5MTguNDMsMTI5OC4yN10sYzQ6WzY0OS4xMyw5MTguNDNdLGM1Ols0NTkuMjEsNjQ5LjEzXSxjNjpbMzIzLjE1LDQ1OS4yMV0sYzc6WzIyOS42MSwzMjMuMTVdLGM4OlsxNjEuNTcsMjI5LjYxXSxjOTpbMTEzLjM5LDE2MS41N10sYzEwOls3OS4zNywxMTMuMzldLGRsOlszMTEuODEsNjIzLjYyXSxsZXR0ZXI6WzYxMiw3OTJdLFwiZ292ZXJubWVudC1sZXR0ZXJcIjpbNTc2LDc1Nl0sbGVnYWw6WzYxMiwxMDA4XSxcImp1bmlvci1sZWdhbFwiOls1NzYsMzYwXSxsZWRnZXI6WzEyMjQsNzkyXSx0YWJsb2lkOls3OTIsMTIyNF0sXCJjcmVkaXQtY2FyZFwiOlsxNTMsMjQzXX0pLGY9KGwuX19wcml2YXRlX18uZ2V0UGFnZUZvcm1hdHM9ZnVuY3Rpb24oKXtyZXR1cm4gY30sbC5fX3ByaXZhdGVfXy5nZXRQYWdlRm9ybWF0PWZ1bmN0aW9uKHQpe3JldHVybiBjW3RdfSk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPWYoaSkpLGk9aXx8ZihcImE0XCIpO3ZhciBwLFo9bC5mMj1sLl9fcHJpdmF0ZV9fLmYyPWZ1bmN0aW9uKHQpe2lmKGlzTmFOKHQpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIGpzUERGLmYyXCIpO3JldHVybiB0LnRvRml4ZWQoMil9LFE9bC5fX3ByaXZhdGVfXy5mMz1mdW5jdGlvbih0KXtpZihpc05hTih0KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBqc1BERi5mM1wiKTtyZXR1cm4gdC50b0ZpeGVkKDMpfSxkPVwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBcIixnPWwuX19wcml2YXRlX18uZ2V0RmlsZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIGR9LG09bC5fX3ByaXZhdGVfXy5zZXRGaWxlSWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dHx8XCIxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMlwiLnNwbGl0KFwiXCIpLm1hcChmdW5jdGlvbigpe3JldHVyblwiQUJDREVGMDEyMzQ1Njc4OVwiLmNoYXJBdChNYXRoLmZsb29yKDE2Kk1hdGgucmFuZG9tKCkpKX0pLmpvaW4oXCJcIiksZD10fTtsLnNldEZpbGVJZD1mdW5jdGlvbih0KXtyZXR1cm4gbSh0KSx0aGlzfSxsLmdldEZpbGVJZD1mdW5jdGlvbigpe3JldHVybiBnKCl9O3ZhciB5PWwuX19wcml2YXRlX18uY29udmVydERhdGVUb1BERkRhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRUaW1lem9uZU9mZnNldCgpLG49ZTwwP1wiK1wiOlwiLVwiLHI9TWF0aC5mbG9vcihNYXRoLmFicyhlLzYwKSksaT1NYXRoLmFicyhlJTYwKSxvPVtuLFAociksXCInXCIsUChpKSxcIidcIl0uam9pbihcIlwiKTtyZXR1cm5bXCJEOlwiLHQuZ2V0RnVsbFllYXIoKSxQKHQuZ2V0TW9udGgoKSsxKSxQKHQuZ2V0RGF0ZSgpKSxQKHQuZ2V0SG91cnMoKSksUCh0LmdldE1pbnV0ZXMoKSksUCh0LmdldFNlY29uZHMoKSksb10uam9pbihcIlwiKX0sdj1sLl9fcHJpdmF0ZV9fLmNvbnZlcnRQREZEYXRlVG9EYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXBhcnNlSW50KHQuc3Vic3RyKDIsNCksMTApLG49cGFyc2VJbnQodC5zdWJzdHIoNiwyKSwxMCktMSxyPXBhcnNlSW50KHQuc3Vic3RyKDgsMiksMTApLGk9cGFyc2VJbnQodC5zdWJzdHIoMTAsMiksMTApLG89cGFyc2VJbnQodC5zdWJzdHIoMTIsMiksMTApLGE9cGFyc2VJbnQodC5zdWJzdHIoMTQsMiksMTApO3BhcnNlSW50KHQuc3Vic3RyKDE2LDIpLDEwKSxwYXJzZUludCh0LnN1YnN0cigyMCwyKSwxMCk7cmV0dXJuIG5ldyBEYXRlKGUsbixyLGksbyxhLDApfSx3PWwuX19wcml2YXRlX18uc2V0Q3JlYXRpb25EYXRlPWZ1bmN0aW9uKHQpe3ZhciBlO2lmKHZvaWQgMD09PXQmJih0PW5ldyBEYXRlKSxcIm9iamVjdFwiPT09c2UodCkmJlwiW29iamVjdCBEYXRlXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKWU9eSh0KTtlbHNle2lmKCEvXkQ6KDIwWzAtMl1bMC05XXwyMDNbMC03XXwxOVs3LTldWzAtOV0pKDBbMC05XXwxWzAtMl0pKFswLTJdWzAtOV18M1swLTFdKSgwWzAtOV18MVswLTldfDJbMC0zXSkoMFswLTldfFsxLTVdWzAtOV0pKDBbMC05XXxbMS01XVswLTldKShcXCswWzAtOV18XFwrMVswLTRdfFxcLTBbMC05XXxcXC0xWzAtMV0pXFwnKDBbMC05XXxbMS01XVswLTldKVxcJz8kLy50ZXN0KHQpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIGpzUERGLnNldENyZWF0aW9uRGF0ZVwiKTtlPXR9cmV0dXJuIHA9ZX0sYj1sLl9fcHJpdmF0ZV9fLmdldENyZWF0aW9uRGF0ZT1mdW5jdGlvbih0KXt2YXIgZT1wO3JldHVyblwianNEYXRlXCI9PT10JiYoZT12KHApKSxlfTtsLnNldENyZWF0aW9uRGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdyh0KSx0aGlzfSxsLmdldENyZWF0aW9uRGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gYih0KX07dmFyIHgsTixMLEEsUywkLF8sRixQPWwuX19wcml2YXRlX18ucGFkZDI9ZnVuY3Rpb24odCl7cmV0dXJuKFwiMFwiK3BhcnNlSW50KHQpKS5zbGljZSgtMil9LGs9ITEsST1bXSxDPVtdLEI9MCx0dD0obC5fX3ByaXZhdGVfXy5zZXRDdXN0b21PdXRwdXREZXN0aW5hdGlvbj1mdW5jdGlvbih0KXtOPXR9LGwuX19wcml2YXRlX18ucmVzZXRDdXN0b21PdXRwdXREZXN0aW5hdGlvbj1mdW5jdGlvbih0KXtOPXZvaWQgMH0sbC5fX3ByaXZhdGVfXy5vdXQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQ9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0LnRvU3RyaW5nKCksKGU9dm9pZCAwPT09Tj9rP0lbeF06QzpOKS5wdXNoKHQpLGt8fChCKz10Lmxlbmd0aCsxKSxlfSksaj1sLl9fcHJpdmF0ZV9fLndyaXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0dCgxPT09YXJndW1lbnRzLmxlbmd0aD90LnRvU3RyaW5nKCk6QXJyYXkucHJvdG90eXBlLmpvaW4uY2FsbChhcmd1bWVudHMsXCIgXCIpKX0sRT1sLl9fcHJpdmF0ZV9fLmdldEFycmF5QnVmZmVyPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxuPW5ldyBBcnJheUJ1ZmZlcihlKSxyPW5ldyBVaW50OEFycmF5KG4pO2UtLTspcltlXT10LmNoYXJDb2RlQXQoZSk7cmV0dXJuIG59LE09W1tcIkhlbHZldGljYVwiLFwiaGVsdmV0aWNhXCIsXCJub3JtYWxcIixcIldpbkFuc2lFbmNvZGluZ1wiXSxbXCJIZWx2ZXRpY2EtQm9sZFwiLFwiaGVsdmV0aWNhXCIsXCJib2xkXCIsXCJXaW5BbnNpRW5jb2RpbmdcIl0sW1wiSGVsdmV0aWNhLU9ibGlxdWVcIixcImhlbHZldGljYVwiLFwiaXRhbGljXCIsXCJXaW5BbnNpRW5jb2RpbmdcIl0sW1wiSGVsdmV0aWNhLUJvbGRPYmxpcXVlXCIsXCJoZWx2ZXRpY2FcIixcImJvbGRpdGFsaWNcIixcIldpbkFuc2lFbmNvZGluZ1wiXSxbXCJDb3VyaWVyXCIsXCJjb3VyaWVyXCIsXCJub3JtYWxcIixcIldpbkFuc2lFbmNvZGluZ1wiXSxbXCJDb3VyaWVyLUJvbGRcIixcImNvdXJpZXJcIixcImJvbGRcIixcIldpbkFuc2lFbmNvZGluZ1wiXSxbXCJDb3VyaWVyLU9ibGlxdWVcIixcImNvdXJpZXJcIixcIml0YWxpY1wiLFwiV2luQW5zaUVuY29kaW5nXCJdLFtcIkNvdXJpZXItQm9sZE9ibGlxdWVcIixcImNvdXJpZXJcIixcImJvbGRpdGFsaWNcIixcIldpbkFuc2lFbmNvZGluZ1wiXSxbXCJUaW1lcy1Sb21hblwiLFwidGltZXNcIixcIm5vcm1hbFwiLFwiV2luQW5zaUVuY29kaW5nXCJdLFtcIlRpbWVzLUJvbGRcIixcInRpbWVzXCIsXCJib2xkXCIsXCJXaW5BbnNpRW5jb2RpbmdcIl0sW1wiVGltZXMtSXRhbGljXCIsXCJ0aW1lc1wiLFwiaXRhbGljXCIsXCJXaW5BbnNpRW5jb2RpbmdcIl0sW1wiVGltZXMtQm9sZEl0YWxpY1wiLFwidGltZXNcIixcImJvbGRpdGFsaWNcIixcIldpbkFuc2lFbmNvZGluZ1wiXSxbXCJaYXBmRGluZ2JhdHNcIixcInphcGZkaW5nYmF0c1wiLFwibm9ybWFsXCIsbnVsbF0sW1wiU3ltYm9sXCIsXCJzeW1ib2xcIixcIm5vcm1hbFwiLG51bGxdXSxldD0obC5fX3ByaXZhdGVfXy5nZXRTdGFuZGFyZEZvbnRzPWZ1bmN0aW9uKHQpe3JldHVybiBNfSxyLmZvbnRTaXplfHwxNiksTz0obC5fX3ByaXZhdGVfXy5zZXRGb250U2l6ZT1sLnNldEZvbnRTaXplPWZ1bmN0aW9uKHQpe3JldHVybiBldD10LHRoaXN9LGwuX19wcml2YXRlX18uZ2V0Rm9udFNpemU9bC5nZXRGb250U2l6ZT1mdW5jdGlvbigpe3JldHVybiBldH0pLG50PXIuUjJMfHwhMSxxPShsLl9fcHJpdmF0ZV9fLnNldFIyTD1sLnNldFIyTD1mdW5jdGlvbih0KXtyZXR1cm4gbnQ9dCx0aGlzfSxsLl9fcHJpdmF0ZV9fLmdldFIyTD1sLmdldFIyTD1mdW5jdGlvbih0KXtyZXR1cm4gbnR9LGwuX19wcml2YXRlX18uc2V0Wm9vbU1vZGU9ZnVuY3Rpb24odCl7dmFyIGU9W3ZvaWQgMCxudWxsLFwiZnVsbHdpZHRoXCIsXCJmdWxsaGVpZ2h0XCIsXCJmdWxscGFnZVwiLFwib3JpZ2luYWxcIl07aWYoL15cXGQqXFwuP1xcZCpcXCUkLy50ZXN0KHQpKUw9dDtlbHNlIGlmKGlzTmFOKHQpKXtpZigtMT09PWUuaW5kZXhPZih0KSl0aHJvdyBuZXcgRXJyb3IoJ3pvb20gbXVzdCBiZSBJbnRlZ2VyIChlLmcuIDIpLCBhIHBlcmNlbnRhZ2UgVmFsdWUgKGUuZy4gMzAwJSkgb3IgZnVsbHdpZHRoLCBmdWxsaGVpZ2h0LCBmdWxscGFnZSwgb3JpZ2luYWwuIFwiJyt0KydcIiBpcyBub3QgcmVjb2duaXplZC4nKTtMPXR9ZWxzZSBMPXBhcnNlSW50KHQsMTApfSksVD0obC5fX3ByaXZhdGVfXy5nZXRab29tTW9kZT1mdW5jdGlvbigpe3JldHVybiBMfSxsLl9fcHJpdmF0ZV9fLnNldFBhZ2VNb2RlPWZ1bmN0aW9uKHQpe2lmKC0xPT1bdm9pZCAwLG51bGwsXCJVc2VOb25lXCIsXCJVc2VPdXRsaW5lc1wiLFwiVXNlVGh1bWJzXCIsXCJGdWxsU2NyZWVuXCJdLmluZGV4T2YodCkpdGhyb3cgbmV3IEVycm9yKCdQYWdlIG1vZGUgbXVzdCBiZSBvbmUgb2YgVXNlTm9uZSwgVXNlT3V0bGluZXMsIFVzZVRodW1icywgb3IgRnVsbFNjcmVlbi4gXCInK3QrJ1wiIGlzIG5vdCByZWNvZ25pemVkLicpO0E9dH0pLFI9KGwuX19wcml2YXRlX18uZ2V0UGFnZU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gQX0sbC5fX3ByaXZhdGVfXy5zZXRMYXlvdXRNb2RlPWZ1bmN0aW9uKHQpe2lmKC0xPT1bdm9pZCAwLG51bGwsXCJjb250aW51b3VzXCIsXCJzaW5nbGVcIixcInR3b2xlZnRcIixcInR3b3JpZ2h0XCIsXCJ0d29cIl0uaW5kZXhPZih0KSl0aHJvdyBuZXcgRXJyb3IoJ0xheW91dCBtb2RlIG11c3QgYmUgb25lIG9mIGNvbnRpbnVvdXMsIHNpbmdsZSwgdHdvbGVmdCwgdHdvcmlnaHQuIFwiJyt0KydcIiBpcyBub3QgcmVjb2duaXplZC4nKTtTPXR9KSxEPShsLl9fcHJpdmF0ZV9fLmdldExheW91dE1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gU30sbC5fX3ByaXZhdGVfXy5zZXREaXNwbGF5TW9kZT1sLnNldERpc3BsYXlNb2RlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gcSh0KSxSKGUpLFQobiksdGhpc30se3RpdGxlOlwiXCIsc3ViamVjdDpcIlwiLGF1dGhvcjpcIlwiLGtleXdvcmRzOlwiXCIsY3JlYXRvcjpcIlwifSksVT0obC5fX3ByaXZhdGVfXy5nZXREb2N1bWVudFByb3BlcnR5PWZ1bmN0aW9uKHQpe2lmKC0xPT09T2JqZWN0LmtleXMoRCkuaW5kZXhPZih0KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBqc1BERi5nZXREb2N1bWVudFByb3BlcnR5XCIpO3JldHVybiBEW3RdfSxsLl9fcHJpdmF0ZV9fLmdldERvY3VtZW50UHJvcGVydGllcz1mdW5jdGlvbih0KXtyZXR1cm4gRH0sbC5fX3ByaXZhdGVfXy5zZXREb2N1bWVudFByb3BlcnRpZXM9bC5zZXRQcm9wZXJ0aWVzPWwuc2V0RG9jdW1lbnRQcm9wZXJ0aWVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiBEKUQuaGFzT3duUHJvcGVydHkoZSkmJnRbZV0mJihEW2VdPXRbZV0pO3JldHVybiB0aGlzfSxsLl9fcHJpdmF0ZV9fLnNldERvY3VtZW50UHJvcGVydHk9ZnVuY3Rpb24odCxlKXtpZigtMT09PU9iamVjdC5rZXlzKEQpLmluZGV4T2YodCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLnNldERvY3VtZW50UHJvcGVydHlcIik7cmV0dXJuIERbdF09ZX0sMCksej1bXSxydD17fSxIPXt9LFc9MCxWPVtdLEc9W10saXQ9bmV3IG9lKGwpLFk9ci5ob3RmaXhlc3x8W10sSj1sLl9fcHJpdmF0ZV9fLm5ld09iamVjdD1mdW5jdGlvbigpe3ZhciB0PVgoKTtyZXR1cm4gb3QodCwhMCksdH0sWD1sLl9fcHJpdmF0ZV9fLm5ld09iamVjdERlZmVycmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHpbKytVXT1mdW5jdGlvbigpe3JldHVybiBCfSxVfSxvdD1mdW5jdGlvbih0LGUpe3JldHVybiBlPVwiYm9vbGVhblwiPT10eXBlb2YgZSYmZSx6W3RdPUIsZSYmdHQodCtcIiAwIG9ialwiKSx0fSxhdD1sLl9fcHJpdmF0ZV9fLm5ld0FkZGl0aW9uYWxPYmplY3Q9ZnVuY3Rpb24oKXt2YXIgdD17b2JqSWQ6WCgpLGNvbnRlbnQ6XCJcIn07cmV0dXJuIEcucHVzaCh0KSx0fSxzdD1YKCksbHQ9WCgpLGh0PWwuX19wcml2YXRlX18uZGVjb2RlQ29sb3JTdHJpbmc9ZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdChcIiBcIik7aWYoMj09PWUubGVuZ3RoJiYoXCJnXCI9PT1lWzFdfHxcIkdcIj09PWVbMV0pKXt2YXIgbj1wYXJzZUZsb2F0KGVbMF0pO2U9W24sbixuLFwiclwiXX1mb3IodmFyIHI9XCIjXCIsaT0wO2k8MztpKyspcis9KFwiMFwiK01hdGguZmxvb3IoMjU1KnBhcnNlRmxvYXQoZVtpXSkpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO3JldHVybiByfSx1dD1sLl9fcHJpdmF0ZV9fLmVuY29kZUNvbG9yU3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciBlO1wic3RyaW5nXCI9PXR5cGVvZiB0JiYodD17Y2gxOnR9KTt2YXIgbj10LmNoMSxyPXQuY2gyLGk9dC5jaDMsbz10LmNoNCxhPSh0LnByZWNpc2lvbixcImRyYXdcIj09PXQucGRmQ29sb3JUeXBlP1tcIkdcIixcIlJHXCIsXCJLXCJdOltcImdcIixcInJnXCIsXCJrXCJdKTtpZihcInN0cmluZ1wiPT10eXBlb2YgbiYmXCIjXCIhPT1uLmNoYXJBdCgwKSl7dmFyIHM9bmV3IFJHQkNvbG9yKG4pO2lmKHMub2spbj1zLnRvSGV4KCk7ZWxzZSBpZighL15cXGQqXFwuP1xcZCokLy50ZXN0KG4pKXRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2xvciBcIicrbisnXCIgcGFzc2VkIHRvIGpzUERGLmVuY29kZUNvbG9yU3RyaW5nLicpfWlmKFwic3RyaW5nXCI9PXR5cGVvZiBuJiYvXiNbMC05QS1GYS1mXXszfSQvLnRlc3QobikmJihuPVwiI1wiK25bMV0rblsxXStuWzJdK25bMl0rblszXStuWzNdKSxcInN0cmluZ1wiPT10eXBlb2YgbiYmL14jWzAtOUEtRmEtZl17Nn0kLy50ZXN0KG4pKXt2YXIgbD1wYXJzZUludChuLnN1YnN0cigxKSwxNik7bj1sPj4xNiYyNTUscj1sPj44JjI1NSxpPTI1NSZsfWlmKHZvaWQgMD09PXJ8fHZvaWQgMD09PW8mJm49PT1yJiZyPT09aSlpZihcInN0cmluZ1wiPT10eXBlb2YgbillPW4rXCIgXCIrYVswXTtlbHNlIHN3aXRjaCh0LnByZWNpc2lvbil7Y2FzZSAyOmU9WihuLzI1NSkrXCIgXCIrYVswXTticmVhaztjYXNlIDM6ZGVmYXVsdDplPVEobi8yNTUpK1wiIFwiK2FbMF19ZWxzZSBpZih2b2lkIDA9PT1vfHxcIm9iamVjdFwiPT09c2Uobykpe2lmKG8mJiFpc05hTihvLmEpJiYwPT09by5hKXJldHVybiBlPVtcIjEuMDAwXCIsXCIxLjAwMFwiLFwiMS4wMDBcIixhWzFdXS5qb2luKFwiIFwiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgbillPVtuLHIsaSxhWzFdXS5qb2luKFwiIFwiKTtlbHNlIHN3aXRjaCh0LnByZWNpc2lvbil7Y2FzZSAyOmU9W1oobi8yNTUpLFooci8yNTUpLFooaS8yNTUpLGFbMV1dLmpvaW4oXCIgXCIpO2JyZWFrO2RlZmF1bHQ6Y2FzZSAzOmU9W1Eobi8yNTUpLFEoci8yNTUpLFEoaS8yNTUpLGFbMV1dLmpvaW4oXCIgXCIpfX1lbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiBuKWU9W24scixpLG8sYVsyXV0uam9pbihcIiBcIik7ZWxzZSBzd2l0Y2godC5wcmVjaXNpb24pe2Nhc2UgMjplPVtaKG4vMjU1KSxaKHIvMjU1KSxaKGkvMjU1KSxaKG8vMjU1KSxhWzJdXS5qb2luKFwiIFwiKTticmVhaztjYXNlIDM6ZGVmYXVsdDplPVtRKG4vMjU1KSxRKHIvMjU1KSxRKGkvMjU1KSxRKG8vMjU1KSxhWzJdXS5qb2luKFwiIFwiKX1yZXR1cm4gZX0sY3Q9bC5fX3ByaXZhdGVfXy5nZXRGaWx0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIG99LGZ0PWwuX19wcml2YXRlX18ucHV0U3RyZWFtPWZ1bmN0aW9uKHQpe3ZhciBlPSh0PXR8fHt9KS5kYXRhfHxcIlwiLG49dC5maWx0ZXJzfHxjdCgpLHI9dC5hbHJlYWR5QXBwbGllZEZpbHRlcnN8fFtdLGk9dC5hZGRMZW5ndGgxfHwhMSxvPWUubGVuZ3RoLGE9e307ITA9PT1uJiYobj1bXCJGbGF0ZUVuY29kZVwiXSk7dmFyIHM9dC5hZGRpdGlvbmFsS2V5VmFsdWVzfHxbXSxsPShhPXZvaWQgMCE9PWFlLkFQSS5wcm9jZXNzRGF0YUJ5RmlsdGVycz9hZS5BUEkucHJvY2Vzc0RhdGFCeUZpbHRlcnMoZSxuKTp7ZGF0YTplLHJldmVyc2VDaGFpbjpbXX0pLnJldmVyc2VDaGFpbisoQXJyYXkuaXNBcnJheShyKT9yLmpvaW4oXCIgXCIpOnIudG9TdHJpbmcoKSk7MCE9PWEuZGF0YS5sZW5ndGgmJihzLnB1c2goe2tleTpcIkxlbmd0aFwiLHZhbHVlOmEuZGF0YS5sZW5ndGh9KSwhMD09PWkmJnMucHVzaCh7a2V5OlwiTGVuZ3RoMVwiLHZhbHVlOm99KSksMCE9bC5sZW5ndGgmJihsLnNwbGl0KFwiL1wiKS5sZW5ndGgtMT09MT9zLnB1c2goe2tleTpcIkZpbHRlclwiLHZhbHVlOmx9KTpzLnB1c2goe2tleTpcIkZpbHRlclwiLHZhbHVlOlwiW1wiK2wrXCJdXCJ9KSksdHQoXCI8PFwiKTtmb3IodmFyIGg9MDtoPHMubGVuZ3RoO2grKyl0dChcIi9cIitzW2hdLmtleStcIiBcIitzW2hdLnZhbHVlKTt0dChcIj4+XCIpLDAhPT1hLmRhdGEubGVuZ3RoJiYodHQoXCJzdHJlYW1cIiksdHQoYS5kYXRhKSx0dChcImVuZHN0cmVhbVwiKSl9LHB0PWwuX19wcml2YXRlX18ucHV0UGFnZT1mdW5jdGlvbih0KXt0Lm1lZGlhQm94O3ZhciBlPXQubnVtYmVyLG49dC5kYXRhLHI9dC5vYmpJZCxpPXQuY29udGVudHNPYmpJZDtvdChyLCEwKTtWW3hdLm1lZGlhQm94LnRvcFJpZ2h0WCxWW3hdLm1lZGlhQm94LmJvdHRvbUxlZnRYLFZbeF0ubWVkaWFCb3gudG9wUmlnaHRZLFZbeF0ubWVkaWFCb3guYm90dG9tTGVmdFk7dHQoXCI8PC9UeXBlIC9QYWdlXCIpLHR0KFwiL1BhcmVudCBcIit0LnJvb3REaWN0aW9uYXJ5T2JqSWQrXCIgMCBSXCIpLHR0KFwiL1Jlc291cmNlcyBcIit0LnJlc291cmNlRGljdGlvbmFyeU9iaklkK1wiIDAgUlwiKSx0dChcIi9NZWRpYUJveCBbXCIrcGFyc2VGbG9hdChaKHQubWVkaWFCb3guYm90dG9tTGVmdFgpKStcIiBcIitwYXJzZUZsb2F0KFoodC5tZWRpYUJveC5ib3R0b21MZWZ0WSkpK1wiIFwiK1oodC5tZWRpYUJveC50b3BSaWdodFgpK1wiIFwiK1oodC5tZWRpYUJveC50b3BSaWdodFkpK1wiXVwiKSxudWxsIT09dC5jcm9wQm94JiZ0dChcIi9Dcm9wQm94IFtcIitaKHQuY3JvcEJveC5ib3R0b21MZWZ0WCkrXCIgXCIrWih0LmNyb3BCb3guYm90dG9tTGVmdFkpK1wiIFwiK1oodC5jcm9wQm94LnRvcFJpZ2h0WCkrXCIgXCIrWih0LmNyb3BCb3gudG9wUmlnaHRZKStcIl1cIiksbnVsbCE9PXQuYmxlZWRCb3gmJnR0KFwiL0JsZWVkQm94IFtcIitaKHQuYmxlZWRCb3guYm90dG9tTGVmdFgpK1wiIFwiK1oodC5ibGVlZEJveC5ib3R0b21MZWZ0WSkrXCIgXCIrWih0LmJsZWVkQm94LnRvcFJpZ2h0WCkrXCIgXCIrWih0LmJsZWVkQm94LnRvcFJpZ2h0WSkrXCJdXCIpLG51bGwhPT10LnRyaW1Cb3gmJnR0KFwiL1RyaW1Cb3ggW1wiK1oodC50cmltQm94LmJvdHRvbUxlZnRYKStcIiBcIitaKHQudHJpbUJveC5ib3R0b21MZWZ0WSkrXCIgXCIrWih0LnRyaW1Cb3gudG9wUmlnaHRYKStcIiBcIitaKHQudHJpbUJveC50b3BSaWdodFkpK1wiXVwiKSxudWxsIT09dC5hcnRCb3gmJnR0KFwiL0FydEJveCBbXCIrWih0LmFydEJveC5ib3R0b21MZWZ0WCkrXCIgXCIrWih0LmFydEJveC5ib3R0b21MZWZ0WSkrXCIgXCIrWih0LmFydEJveC50b3BSaWdodFgpK1wiIFwiK1oodC5hcnRCb3gudG9wUmlnaHRZKStcIl1cIiksXCJudW1iZXJcIj09dHlwZW9mIHQudXNlclVuaXQmJjEhPT10LnVzZXJVbml0JiZ0dChcIi9Vc2VyVW5pdCBcIit0LnVzZXJVbml0KSxpdC5wdWJsaXNoKFwicHV0UGFnZVwiLHtvYmpJZDpyLHBhZ2VDb250ZXh0OlZbZV0scGFnZU51bWJlcjplLHBhZ2U6bn0pLHR0KFwiL0NvbnRlbnRzIFwiK2krXCIgMCBSXCIpLHR0KFwiPj5cIiksdHQoXCJlbmRvYmpcIik7dmFyIG89bi5qb2luKFwiXFxuXCIpO3JldHVybiBvdChpLCEwKSxmdCh7ZGF0YTpvLGZpbHRlcnM6Y3QoKX0pLHR0KFwiZW5kb2JqXCIpLHJ9LGR0PWwuX19wcml2YXRlX18ucHV0UGFnZXM9ZnVuY3Rpb24oKXt2YXIgdCxlLG49W107Zm9yKHQ9MTt0PD1XO3QrKylWW3RdLm9iaklkPVgoKSxWW3RdLmNvbnRlbnRzT2JqSWQ9WCgpO2Zvcih0PTE7dDw9Vzt0Kyspbi5wdXNoKHB0KHtudW1iZXI6dCxkYXRhOklbdF0sb2JqSWQ6Vlt0XS5vYmpJZCxjb250ZW50c09iaklkOlZbdF0uY29udGVudHNPYmpJZCxtZWRpYUJveDpWW3RdLm1lZGlhQm94LGNyb3BCb3g6Vlt0XS5jcm9wQm94LGJsZWVkQm94OlZbdF0uYmxlZWRCb3gsdHJpbUJveDpWW3RdLnRyaW1Cb3gsYXJ0Qm94OlZbdF0uYXJ0Qm94LHVzZXJVbml0OlZbdF0udXNlclVuaXQscm9vdERpY3Rpb25hcnlPYmpJZDpzdCxyZXNvdXJjZURpY3Rpb25hcnlPYmpJZDpsdH0pKTtvdChzdCwhMCksdHQoXCI8PC9UeXBlIC9QYWdlc1wiKTt2YXIgcj1cIi9LaWRzIFtcIjtmb3IoZT0wO2U8VztlKyspcis9bltlXStcIiAwIFIgXCI7dHQocitcIl1cIiksdHQoXCIvQ291bnQgXCIrVyksdHQoXCI+PlwiKSx0dChcImVuZG9ialwiKSxpdC5wdWJsaXNoKFwicG9zdFB1dFBhZ2VzXCIpfSxndD1mdW5jdGlvbigpeyFmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiBydClydC5oYXNPd25Qcm9wZXJ0eSh0KSYmKCExPT09c3x8ITA9PT1zJiZLLmhhc093blByb3BlcnR5KHQpKSYmKGU9cnRbdF0saXQucHVibGlzaChcInB1dEZvbnRcIix7Zm9udDplLG91dDp0dCxuZXdPYmplY3Q6SixwdXRTdHJlYW06ZnR9KSwhMCE9PWUuaXNBbHJlYWR5UHV0dGVkJiYoZS5vYmplY3ROdW1iZXI9SigpLHR0KFwiPDxcIiksdHQoXCIvVHlwZSAvRm9udFwiKSx0dChcIi9CYXNlRm9udCAvXCIrZS5wb3N0U2NyaXB0TmFtZSksdHQoXCIvU3VidHlwZSAvVHlwZTFcIiksXCJzdHJpbmdcIj09dHlwZW9mIGUuZW5jb2RpbmcmJnR0KFwiL0VuY29kaW5nIC9cIitlLmVuY29kaW5nKSx0dChcIi9GaXJzdENoYXIgMzJcIiksdHQoXCIvTGFzdENoYXIgMjU1XCIpLHR0KFwiPj5cIiksdHQoXCJlbmRvYmpcIikpKTt2YXIgZX0oKSxpdC5wdWJsaXNoKFwicHV0UmVzb3VyY2VzXCIpLG90KGx0LCEwKSx0dChcIjw8XCIpLGZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHR0KFwiL1Byb2NTZXQgWy9QREYgL1RleHQgL0ltYWdlQiAvSW1hZ2VDIC9JbWFnZUldXCIpLHR0KFwiL0ZvbnQgPDxcIikscnQpcnQuaGFzT3duUHJvcGVydHkodCkmJighMT09PXN8fCEwPT09cyYmSy5oYXNPd25Qcm9wZXJ0eSh0KSkmJnR0KFwiL1wiK3QrXCIgXCIrcnRbdF0ub2JqZWN0TnVtYmVyK1wiIDAgUlwiKTt0dChcIj4+XCIpLHR0KFwiL1hPYmplY3QgPDxcIiksaXQucHVibGlzaChcInB1dFhvYmplY3REaWN0XCIpLHR0KFwiPj5cIil9KCksdHQoXCI+PlwiKSx0dChcImVuZG9ialwiKSxpdC5wdWJsaXNoKFwicG9zdFB1dFJlc291cmNlc1wiKX0sbXQ9ZnVuY3Rpb24odCxlLG4pe0guaGFzT3duUHJvcGVydHkoZSl8fChIW2VdPXt9KSxIW2VdW25dPXR9LHl0PWZ1bmN0aW9uKHQsZSxuLHIsaSl7aT1pfHwhMTt2YXIgbz1cIkZcIisoT2JqZWN0LmtleXMocnQpLmxlbmd0aCsxKS50b1N0cmluZygxMCksYT17aWQ6byxwb3N0U2NyaXB0TmFtZTp0LGZvbnROYW1lOmUsZm9udFN0eWxlOm4sZW5jb2Rpbmc6cixpc1N0YW5kYXJkRm9udDppLG1ldGFkYXRhOnt9fTtyZXR1cm4gaXQucHVibGlzaChcImFkZEZvbnRcIix7Zm9udDphLGluc3RhbmNlOnRoaXN9KSx2b2lkIDAhPT1vJiYocnRbb109YSxtdChvLGUsbikpLG99LHZ0PWwuX19wcml2YXRlX18ucGRmRXNjYXBlPWwucGRmRXNjYXBlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLG8sYSxzLGwsaCx1O2lmKGk9KGU9ZXx8e30pLnNvdXJjZUVuY29kaW5nfHxcIlVuaWNvZGVcIixhPWUub3V0cHV0RW5jb2RpbmcsKGUuYXV0b2VuY29kZXx8YSkmJnJ0WyRdLm1ldGFkYXRhJiZydFskXS5tZXRhZGF0YVtpXSYmcnRbJF0ubWV0YWRhdGFbaV0uZW5jb2RpbmcmJihvPXJ0WyRdLm1ldGFkYXRhW2ldLmVuY29kaW5nLCFhJiZydFskXS5lbmNvZGluZyYmKGE9cnRbJF0uZW5jb2RpbmcpLCFhJiZvLmNvZGVQYWdlcyYmKGE9by5jb2RlUGFnZXNbMF0pLFwic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1vW2FdKSxhKSl7Zm9yKGw9ITEscz1bXSxuPTAscj10Lmxlbmd0aDtuPHI7bisrKShoPWFbdC5jaGFyQ29kZUF0KG4pXSk/cy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaCkpOnMucHVzaCh0W25dKSxzW25dLmNoYXJDb2RlQXQoMCk+PjgmJihsPSEwKTt0PXMuam9pbihcIlwiKX1mb3Iobj10Lmxlbmd0aDt2b2lkIDA9PT1sJiYwIT09bjspdC5jaGFyQ29kZUF0KG4tMSk+PjgmJihsPSEwKSxuLS07aWYoIWwpcmV0dXJuIHQ7Zm9yKHM9ZS5ub0JPTT9bXTpbMjU0LDI1NV0sbj0wLHI9dC5sZW5ndGg7bjxyO24rKyl7aWYoKHU9KGg9dC5jaGFyQ29kZUF0KG4pKT4+OCk+PjgpdGhyb3cgbmV3IEVycm9yKFwiQ2hhcmFjdGVyIGF0IHBvc2l0aW9uIFwiK24rXCIgb2Ygc3RyaW5nICdcIit0K1wiJyBleGNlZWRzIDE2Yml0cy4gQ2Fubm90IGJlIGVuY29kZWQgaW50byBVQ1MtMiBCRVwiKTtzLnB1c2godSkscy5wdXNoKGgtKHU8PDgpKX1yZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseSh2b2lkIDAscyl9KHQsZSkucmVwbGFjZSgvXFxcXC9nLFwiXFxcXFxcXFxcIikucmVwbGFjZSgvXFwoL2csXCJcXFxcKFwiKS5yZXBsYWNlKC9cXCkvZyxcIlxcXFwpXCIpfSx3dD1sLl9fcHJpdmF0ZV9fLmJlZ2luUGFnZT1mdW5jdGlvbih0LGUpe3ZhciBuLHI9XCJzdHJpbmdcIj09dHlwZW9mIGUmJmUudG9Mb3dlckNhc2UoKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmKG49Zih0LnRvTG93ZXJDYXNlKCkpKSYmKHQ9blswXSxlPW5bMV0pLEFycmF5LmlzQXJyYXkodCkmJihlPXRbMV0sdD10WzBdKSwoaXNOYU4odCl8fGlzTmFOKGUpKSYmKHQ9aVswXSxlPWlbMV0pLHIpe3N3aXRjaChyLnN1YnN0cigwLDEpKXtjYXNlXCJsXCI6dDxlJiYocj1cInNcIik7YnJlYWs7Y2FzZVwicFwiOmU8dCYmKHI9XCJzXCIpfVwic1wiPT09ciYmKG49dCx0PWUsZT1uKX0oMTQ0MDA8dHx8MTQ0MDA8ZSkmJihjb25zb2xlLndhcm4oXCJBIHBhZ2UgaW4gYSBQREYgY2FuIG5vdCBiZSB3aWRlciBvciB0YWxsZXIgdGhhbiAxNDQwMCB1c2VyVW5pdC4ganNQREYgbGltaXRzIHRoZSB3aWR0aC9oZWlnaHQgdG8gMTQ0MDBcIiksdD1NYXRoLm1pbigxNDQwMCx0KSxlPU1hdGgubWluKDE0NDAwLGUpKSxpPVt0LGVdLGs9ITAsSVsrK1ddPVtdLFZbV109e29iaklkOjAsY29udGVudHNPYmpJZDowLHVzZXJVbml0Ok51bWJlcihhKSxhcnRCb3g6bnVsbCxibGVlZEJveDpudWxsLGNyb3BCb3g6bnVsbCx0cmltQm94Om51bGwsbWVkaWFCb3g6e2JvdHRvbUxlZnRYOjAsYm90dG9tTGVmdFk6MCx0b3BSaWdodFg6TnVtYmVyKHQpLHRvcFJpZ2h0WTpOdW1iZXIoZSl9fSx4dChXKX0sYnQ9ZnVuY3Rpb24oKXt3dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksRHQoUnQpLHR0KEp0KSwwIT09dGUmJnR0KHRlK1wiIEpcIiksMCE9PW5lJiZ0dChuZStcIiBqXCIpLGl0LnB1Ymxpc2goXCJhZGRQYWdlXCIse3BhZ2VOdW1iZXI6V30pfSx4dD1mdW5jdGlvbih0KXswPHQmJnQ8PVcmJih4PXQpfSxOdD1sLl9fcHJpdmF0ZV9fLmdldE51bWJlck9mUGFnZXM9bC5nZXROdW1iZXJPZlBhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIEkubGVuZ3RoLTF9LEx0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpPXZvaWQgMDtyZXR1cm4gbj1ufHx7fSx0PXZvaWQgMCE9PXQ/dDpydFskXS5mb250TmFtZSxlPXZvaWQgMCE9PWU/ZTpydFskXS5mb250U3R5bGUscj10LnRvTG93ZXJDYXNlKCksdm9pZCAwIT09SFtyXSYmdm9pZCAwIT09SFtyXVtlXT9pPUhbcl1bZV06dm9pZCAwIT09SFt0XSYmdm9pZCAwIT09SFt0XVtlXT9pPUhbdF1bZV06ITE9PT1uLmRpc2FibGVXYXJuaW5nJiZjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gbG9vayB1cCBmb250IGxhYmVsIGZvciBmb250ICdcIit0K1wiJywgJ1wiK2UrXCInLiBSZWZlciB0byBnZXRGb250TGlzdCgpIGZvciBhdmFpbGFibGUgZm9udHMuXCIpLGl8fG4ubm9GYWxsYmFja3x8bnVsbD09KGk9SC50aW1lc1tlXSkmJihpPUgudGltZXMubm9ybWFsKSxpfSxBdD1sLl9fcHJpdmF0ZV9fLnB1dEluZm89ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gSigpLHR0KFwiPDxcIiksdHQoXCIvUHJvZHVjZXIgKGpzUERGIFwiK2FlLnZlcnNpb24rXCIpXCIpLEQpRC5oYXNPd25Qcm9wZXJ0eSh0KSYmRFt0XSYmdHQoXCIvXCIrdC5zdWJzdHIoMCwxKS50b1VwcGVyQ2FzZSgpK3Quc3Vic3RyKDEpK1wiIChcIit2dChEW3RdKStcIilcIik7dHQoXCIvQ3JlYXRpb25EYXRlIChcIitwK1wiKVwiKSx0dChcIj4+XCIpLHR0KFwiZW5kb2JqXCIpfSxTdD1sLl9fcHJpdmF0ZV9fLnB1dENhdGFsb2c9ZnVuY3Rpb24odCl7dmFyIGU9KHQ9dHx8e30pLnJvb3REaWN0aW9uYXJ5T2JqSWR8fHN0O3N3aXRjaChKKCksdHQoXCI8PFwiKSx0dChcIi9UeXBlIC9DYXRhbG9nXCIpLHR0KFwiL1BhZ2VzIFwiK2UrXCIgMCBSXCIpLEx8fChMPVwiZnVsbHdpZHRoXCIpLEwpe2Nhc2VcImZ1bGx3aWR0aFwiOnR0KFwiL09wZW5BY3Rpb24gWzMgMCBSIC9GaXRIIG51bGxdXCIpO2JyZWFrO2Nhc2VcImZ1bGxoZWlnaHRcIjp0dChcIi9PcGVuQWN0aW9uIFszIDAgUiAvRml0ViBudWxsXVwiKTticmVhaztjYXNlXCJmdWxscGFnZVwiOnR0KFwiL09wZW5BY3Rpb24gWzMgMCBSIC9GaXRdXCIpO2JyZWFrO2Nhc2VcIm9yaWdpbmFsXCI6dHQoXCIvT3BlbkFjdGlvbiBbMyAwIFIgL1hZWiBudWxsIG51bGwgMV1cIik7YnJlYWs7ZGVmYXVsdDp2YXIgbj1cIlwiK0w7XCIlXCI9PT1uLnN1YnN0cihuLmxlbmd0aC0xKSYmKEw9cGFyc2VJbnQoTCkvMTAwKSxcIm51bWJlclwiPT10eXBlb2YgTCYmdHQoXCIvT3BlbkFjdGlvbiBbMyAwIFIgL1hZWiBudWxsIG51bGwgXCIrWihMKStcIl1cIil9c3dpdGNoKFN8fChTPVwiY29udGludW91c1wiKSxTKXtjYXNlXCJjb250aW51b3VzXCI6dHQoXCIvUGFnZUxheW91dCAvT25lQ29sdW1uXCIpO2JyZWFrO2Nhc2VcInNpbmdsZVwiOnR0KFwiL1BhZ2VMYXlvdXQgL1NpbmdsZVBhZ2VcIik7YnJlYWs7Y2FzZVwidHdvXCI6Y2FzZVwidHdvbGVmdFwiOnR0KFwiL1BhZ2VMYXlvdXQgL1R3b0NvbHVtbkxlZnRcIik7YnJlYWs7Y2FzZVwidHdvcmlnaHRcIjp0dChcIi9QYWdlTGF5b3V0IC9Ud29Db2x1bW5SaWdodFwiKX1BJiZ0dChcIi9QYWdlTW9kZSAvXCIrQSksaXQucHVibGlzaChcInB1dENhdGFsb2dcIiksdHQoXCI+PlwiKSx0dChcImVuZG9ialwiKX0sX3Q9bC5fX3ByaXZhdGVfXy5wdXRUcmFpbGVyPWZ1bmN0aW9uKCl7dHQoXCJ0cmFpbGVyXCIpLHR0KFwiPDxcIiksdHQoXCIvU2l6ZSBcIisoVSsxKSksdHQoXCIvUm9vdCBcIitVK1wiIDAgUlwiKSx0dChcIi9JbmZvIFwiKyhVLTEpK1wiIDAgUlwiKSx0dChcIi9JRCBbIDxcIitkK1wiPiA8XCIrZCtcIj4gXVwiKSx0dChcIj4+XCIpfSxGdD1sLl9fcHJpdmF0ZV9fLnB1dEhlYWRlcj1mdW5jdGlvbigpe3R0KFwiJVBERi1cIitoKSx0dChcIiXCusOfwqzDoFwiKX0sUHQ9bC5fX3ByaXZhdGVfXy5wdXRYUmVmPWZ1bmN0aW9uKCl7dmFyIHQ9MSxlPVwiMDAwMDAwMDAwMFwiO2Zvcih0dChcInhyZWZcIiksdHQoXCIwIFwiKyhVKzEpKSx0dChcIjAwMDAwMDAwMDAgNjU1MzUgZiBcIiksdD0xO3Q8PVU7dCsrKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB6W3RdP3R0KChlK3pbdF0oKSkuc2xpY2UoLTEwKStcIiAwMDAwMCBuIFwiKTp2b2lkIDAhPT16W3RdP3R0KChlK3pbdF0pLnNsaWNlKC0xMCkrXCIgMDAwMDAgbiBcIik6dHQoXCIwMDAwMDAwMDAwIDAwMDAwIG4gXCIpfX0sa3Q9bC5fX3ByaXZhdGVfXy5idWlsZERvY3VtZW50PWZ1bmN0aW9uKCl7az0hMSxCPVU9MCxDPVtdLHo9W10sRz1bXSxzdD1YKCksbHQ9WCgpLGl0LnB1Ymxpc2goXCJidWlsZERvY3VtZW50XCIpLEZ0KCksZHQoKSxmdW5jdGlvbigpe2l0LnB1Ymxpc2goXCJwdXRBZGRpdGlvbmFsT2JqZWN0c1wiKTtmb3IodmFyIHQ9MDt0PEcubGVuZ3RoO3QrKyl7dmFyIGU9R1t0XTtvdChlLm9iaklkLCEwKSx0dChlLmNvbnRlbnQpLHR0KFwiZW5kb2JqXCIpfWl0LnB1Ymxpc2goXCJwb3N0UHV0QWRkaXRpb25hbE9iamVjdHNcIil9KCksZ3QoKSxBdCgpLFN0KCk7dmFyIHQ9QjtyZXR1cm4gUHQoKSxfdCgpLHR0KFwic3RhcnR4cmVmXCIpLHR0KFwiXCIrdCksdHQoXCIlJUVPRlwiKSxrPSEwLEMuam9pbihcIlxcblwiKX0sSXQ9bC5fX3ByaXZhdGVfXy5nZXRCbG9iPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQmxvYihbRSh0KV0se3R5cGU6XCJhcHBsaWNhdGlvbi9wZGZcIn0pfSxDdD1sLm91dHB1dD1sLl9fcHJpdmF0ZV9fLm91dHB1dD0oKEY9ZnVuY3Rpb24odCxlKXtlPWV8fHt9O3ZhciBuPWt0KCk7c3dpdGNoKFwic3RyaW5nXCI9PXR5cGVvZiBlP2U9e2ZpbGVuYW1lOmV9OmUuZmlsZW5hbWU9ZS5maWxlbmFtZXx8XCJnZW5lcmF0ZWQucGRmXCIsdCl7Y2FzZSB2b2lkIDA6cmV0dXJuIG47Y2FzZVwic2F2ZVwiOmwuc2F2ZShlLmZpbGVuYW1lKTticmVhaztjYXNlXCJhcnJheWJ1ZmZlclwiOnJldHVybiBFKG4pO2Nhc2VcImJsb2JcIjpyZXR1cm4gSXQobik7Y2FzZVwiYmxvYnVyaVwiOmNhc2VcImJsb2J1cmxcIjppZih2b2lkIDAhPT1pZS5VUkwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGllLlVSTC5jcmVhdGVPYmplY3RVUkwpcmV0dXJuIGllLlVSTCYmaWUuVVJMLmNyZWF0ZU9iamVjdFVSTChJdChuKSl8fHZvaWQgMDtjb25zb2xlLndhcm4oXCJibG9idXJsIGlzIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBzeXN0ZW0sIGJlY2F1c2UgVVJMLmNyZWF0ZU9iamVjdFVSTCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgYnJvd3Nlci5cIik7YnJlYWs7Y2FzZVwiZGF0YXVyaXN0cmluZ1wiOmNhc2VcImRhdGF1cmxzdHJpbmdcIjpyZXR1cm5cImRhdGE6YXBwbGljYXRpb24vcGRmO2ZpbGVuYW1lPVwiK2UuZmlsZW5hbWUrXCI7YmFzZTY0LFwiK2J0b2Eobik7Y2FzZVwiZGF0YXVybG5ld3dpbmRvd1wiOnZhciByPSc8aHRtbD48c3R5bGU+aHRtbCwgYm9keSB7IHBhZGRpbmc6IDA7IG1hcmdpbjogMDsgfSBpZnJhbWUgeyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBib3JkZXI6IDA7fSAgPC9zdHlsZT48Ym9keT48aWZyYW1lIHNyYz1cIicrdGhpcy5vdXRwdXQoXCJkYXRhdXJpc3RyaW5nXCIpKydcIj48L2lmcmFtZT48L2JvZHk+PC9odG1sPicsaT1pZS5vcGVuKCk7aWYobnVsbCE9PWkmJmkuZG9jdW1lbnQud3JpdGUociksaXx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIHNhZmFyaSlyZXR1cm4gaTtjYXNlXCJkYXRhdXJpXCI6Y2FzZVwiZGF0YXVybFwiOnJldHVybiBpZS5kb2N1bWVudC5sb2NhdGlvbi5ocmVmPVwiZGF0YTphcHBsaWNhdGlvbi9wZGY7ZmlsZW5hbWU9XCIrZS5maWxlbmFtZStcIjtiYXNlNjQsXCIrYnRvYShuKTtkZWZhdWx0OnJldHVybiBudWxsfX0pLmZvbz1mdW5jdGlvbigpe3RyeXtyZXR1cm4gRi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2godCl7dmFyIGU9dC5zdGFja3x8XCJcIjt+ZS5pbmRleE9mKFwiIGF0IFwiKSYmKGU9ZS5zcGxpdChcIiBhdCBcIilbMV0pO3ZhciBuPVwiRXJyb3IgaW4gZnVuY3Rpb24gXCIrZS5zcGxpdChcIlxcblwiKVswXS5zcGxpdChcIjxcIilbMF0rXCI6IFwiK3QubWVzc2FnZTtpZighaWUuY29uc29sZSl0aHJvdyBuZXcgRXJyb3Iobik7aWUuY29uc29sZS5lcnJvcihuLHQpLGllLmFsZXJ0JiZhbGVydChuKX19LChGLmZvby5iYXI9RikuZm9vKSxCdD1mdW5jdGlvbih0KXtyZXR1cm4hMD09PUFycmF5LmlzQXJyYXkoWSkmJi0xPFkuaW5kZXhPZih0KX07c3dpdGNoKGUpe2Nhc2VcInB0XCI6Xz0xO2JyZWFrO2Nhc2VcIm1tXCI6Xz03Mi8yNS40O2JyZWFrO2Nhc2VcImNtXCI6Xz03Mi8yLjU0O2JyZWFrO2Nhc2VcImluXCI6Xz03MjticmVhaztjYXNlXCJweFwiOl89MT09QnQoXCJweF9zY2FsaW5nXCIpPy43NTo5Ni83MjticmVhaztjYXNlXCJwY1wiOmNhc2VcImVtXCI6Xz0xMjticmVhaztjYXNlXCJleFwiOl89NjticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdW5pdDogXCIrZSl9dygpLG0oKTt2YXIganQ9bC5fX3ByaXZhdGVfXy5nZXRQYWdlSW5mbz1mdW5jdGlvbih0KXtpZihpc05hTih0KXx8dCUxIT0wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIGpzUERGLmdldFBhZ2VJbmZvXCIpO3JldHVybntvYmpJZDpWW3RdLm9iaklkLHBhZ2VOdW1iZXI6dCxwYWdlQ29udGV4dDpWW3RdfX0sRXQ9bC5fX3ByaXZhdGVfXy5nZXRQYWdlSW5mb0J5T2JqSWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIFYpaWYoVltlXS5vYmpJZD09PXQpYnJlYWs7aWYoaXNOYU4odCl8fHQlMSE9MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBqc1BERi5nZXRQYWdlSW5mb0J5T2JqSWRcIik7cmV0dXJuIGp0KGUpfSxNdD1sLl9fcHJpdmF0ZV9fLmdldEN1cnJlbnRQYWdlSW5mbz1mdW5jdGlvbigpe3JldHVybntvYmpJZDpWW3hdLm9iaklkLHBhZ2VOdW1iZXI6eCxwYWdlQ29udGV4dDpWW3hdfX07bC5hZGRQYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIGJ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzfSxsLnNldFBhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4geHQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXN9LGwuaW5zZXJ0UGFnZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hZGRQYWdlKCksdGhpcy5tb3ZlUGFnZSh4LHQpLHRoaXN9LGwubW92ZVBhZ2U9ZnVuY3Rpb24odCxlKXtpZihlPHQpe2Zvcih2YXIgbj1JW3RdLHI9Vlt0XSxpPXQ7ZTxpO2ktLSlJW2ldPUlbaS0xXSxWW2ldPVZbaS0xXTtJW2VdPW4sVltlXT1yLHRoaXMuc2V0UGFnZShlKX1lbHNlIGlmKHQ8ZSl7Zm9yKG49SVt0XSxyPVZbdF0saT10O2k8ZTtpKyspSVtpXT1JW2krMV0sVltpXT1WW2krMV07SVtlXT1uLFZbZV09cix0aGlzLnNldFBhZ2UoZSl9cmV0dXJuIHRoaXN9LGwuZGVsZXRlUGFnZT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXswPHQmJnQ8PVcmJihJLnNwbGljZSh0LDEpLC0tVzx4JiYoeD1XKSx0aGlzLnNldFBhZ2UoeCkpfS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpc307bC5fX3ByaXZhdGVfXy50ZXh0PWwudGV4dD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcjtcIm51bWJlclwiIT10eXBlb2YgdHx8XCJudW1iZXJcIiE9dHlwZW9mIGV8fFwic3RyaW5nXCIhPXR5cGVvZiBuJiYhQXJyYXkuaXNBcnJheShuKXx8KHI9bixuPWUsZT10LHQ9cik7dmFyIG89YXJndW1lbnRzWzNdLGE9YXJndW1lbnRzWzRdLHM9YXJndW1lbnRzWzVdO2lmKFwib2JqZWN0XCI9PT1zZShvKSYmbnVsbCE9PW98fChcInN0cmluZ1wiPT10eXBlb2YgYSYmKHM9YSxhPW51bGwpLFwic3RyaW5nXCI9PXR5cGVvZiBvJiYocz1vLG89bnVsbCksXCJudW1iZXJcIj09dHlwZW9mIG8mJihhPW8sbz1udWxsKSxpPXtmbGFnczpvLGFuZ2xlOmEsYWxpZ246c30pLChvPW98fHt9KS5ub0JPTT1vLm5vQk9NfHwhMCxvLmF1dG9lbmNvZGU9by5hdXRvZW5jb2RlfHwhMCxpc05hTihlKXx8aXNOYU4obil8fG51bGw9PXQpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLnRleHRcIik7aWYoMD09PXQubGVuZ3RoKXJldHVybiBjO3ZhciBsLGg9XCJcIix1PVwibnVtYmVyXCI9PXR5cGVvZiBpLmxpbmVIZWlnaHRGYWN0b3I/aS5saW5lSGVpZ2h0RmFjdG9yOlR0LGM9aS5zY29wZXx8dGhpcztmdW5jdGlvbiBmKHQpe2Zvcih2YXIgZSxuPXQuY29uY2F0KCkscj1bXSxpPW4ubGVuZ3RoO2ktLTspXCJzdHJpbmdcIj09dHlwZW9mKGU9bi5zaGlmdCgpKT9yLnB1c2goZSk6QXJyYXkuaXNBcnJheSh0KSYmMT09PWUubGVuZ3RoP3IucHVzaChlWzBdKTpyLnB1c2goW2VbMF0sZVsxXSxlWzJdXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gcCh0LGUpe3ZhciBuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KW49ZSh0KVswXTtlbHNlIGlmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgcixpLG89dC5jb25jYXQoKSxhPVtdLHM9by5sZW5ndGg7cy0tOylcInN0cmluZ1wiPT10eXBlb2Yocj1vLnNoaWZ0KCkpP2EucHVzaChlKHIpWzBdKTpBcnJheS5pc0FycmF5KHIpJiZcInN0cmluZ1wiPT09clswXSYmKGk9ZShyWzBdLHJbMV0sclsyXSksYS5wdXNoKFtpWzBdLGlbMV0saVsyXV0pKTtuPWF9cmV0dXJuIG59dmFyIGQ9ITEsZz0hMDtpZihcInN0cmluZ1wiPT10eXBlb2YgdClkPSEwO2Vsc2UgaWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBtLHk9dC5jb25jYXQoKSx2PVtdLHc9eS5sZW5ndGg7dy0tOykoXCJzdHJpbmdcIiE9dHlwZW9mKG09eS5zaGlmdCgpKXx8QXJyYXkuaXNBcnJheShtKSYmXCJzdHJpbmdcIiE9dHlwZW9mIG1bMF0pJiYoZz0hMSk7ZD1nfWlmKCExPT09ZCl0aHJvdyBuZXcgRXJyb3IoJ1R5cGUgb2YgdGV4dCBtdXN0IGJlIHN0cmluZyBvciBBcnJheS4gXCInK3QrJ1wiIGlzIG5vdCByZWNvZ25pemVkLicpO3ZhciBiPXJ0WyRdLmVuY29kaW5nO1wiV2luQW5zaUVuY29kaW5nXCIhPT1iJiZcIlN0YW5kYXJkRW5jb2RpbmdcIiE9PWJ8fCh0PXAodCxmdW5jdGlvbih0LGUsbil7cmV0dXJuWyhyPXQscj1yLnNwbGl0KFwiXFx0XCIpLmpvaW4oQXJyYXkoaS5UYWJMZW58fDkpLmpvaW4oXCIgXCIpKSx2dChyLG8pKSxlLG5dO3ZhciByfSkpLFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD10Lm1hdGNoKC9bXFxyP1xcbl0vKT90LnNwbGl0KC9cXHJcXG58XFxyfFxcbi9nKTpbdF0pO3ZhciB4PWV0L2MuaW50ZXJuYWwuc2NhbGVGYWN0b3IsTj14KihUdC0xKTtzd2l0Y2goaS5iYXNlbGluZSl7Y2FzZVwiYm90dG9tXCI6bi09TjticmVhaztjYXNlXCJ0b3BcIjpuKz14LU47YnJlYWs7Y2FzZVwiaGFuZ2luZ1wiOm4rPXgtMipOO2JyZWFrO2Nhc2VcIm1pZGRsZVwiOm4rPXgvMi1OfTA8KE89aS5tYXhXaWR0aHx8MCkmJihcInN0cmluZ1wiPT10eXBlb2YgdD90PWMuc3BsaXRUZXh0VG9TaXplKHQsTyk6XCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpJiYodD1jLnNwbGl0VGV4dFRvU2l6ZSh0LmpvaW4oXCIgXCIpLE8pKSk7dmFyIEw9e3RleHQ6dCx4OmUseTpuLG9wdGlvbnM6aSxtdXRleDp7cGRmRXNjYXBlOnZ0LGFjdGl2ZUZvbnRLZXk6JCxmb250czpydCxhY3RpdmVGb250U2l6ZTpldH19O2l0LnB1Ymxpc2goXCJwcmVQcm9jZXNzVGV4dFwiLEwpLHQ9TC50ZXh0O2E9KGk9TC5vcHRpb25zKS5hbmdsZTt2YXIgQT1jLmludGVybmFsLnNjYWxlRmFjdG9yLFM9W107aWYoYSl7YSo9TWF0aC5QSS8xODA7dmFyIF89TWF0aC5jb3MoYSksRj1NYXRoLnNpbihhKTtTPVtaKF8pLFooRiksWigtMSpGKSxaKF8pXX12b2lkIDAhPT0oTT1pLmNoYXJTcGFjZSkmJihoKz1RKE0qQSkrXCIgVGNcXG5cIik7aS5sYW5nO3ZhciBQPS0xLGs9dm9pZCAwIT09aS5yZW5kZXJpbmdNb2RlP2kucmVuZGVyaW5nTW9kZTppLnN0cm9rZSxJPWMuaW50ZXJuYWwuZ2V0Q3VycmVudFBhZ2VJbmZvKCkucGFnZUNvbnRleHQ7c3dpdGNoKGspe2Nhc2UgMDpjYXNlITE6Y2FzZVwiZmlsbFwiOlA9MDticmVhaztjYXNlIDE6Y2FzZSEwOmNhc2VcInN0cm9rZVwiOlA9MTticmVhaztjYXNlIDI6Y2FzZVwiZmlsbFRoZW5TdHJva2VcIjpQPTI7YnJlYWs7Y2FzZSAzOmNhc2VcImludmlzaWJsZVwiOlA9MzticmVhaztjYXNlIDQ6Y2FzZVwiZmlsbEFuZEFkZEZvckNsaXBwaW5nXCI6UD00O2JyZWFrO2Nhc2UgNTpjYXNlXCJzdHJva2VBbmRBZGRQYXRoRm9yQ2xpcHBpbmdcIjpQPTU7YnJlYWs7Y2FzZSA2OmNhc2VcImZpbGxUaGVuU3Ryb2tlQW5kQWRkVG9QYXRoRm9yQ2xpcHBpbmdcIjpQPTY7YnJlYWs7Y2FzZSA3OmNhc2VcImFkZFRvUGF0aEZvckNsaXBwaW5nXCI6UD03fXZhciBDPXZvaWQgMCE9PUkudXNlZFJlbmRlcmluZ01vZGU/SS51c2VkUmVuZGVyaW5nTW9kZTotMTstMSE9PVA/aCs9UCtcIiBUclxcblwiOi0xIT09QyYmKGgrPVwiMCBUclxcblwiKSwtMSE9PVAmJihJLnVzZWRSZW5kZXJpbmdNb2RlPVApO3M9aS5hbGlnbnx8XCJsZWZ0XCI7dmFyIEI9ZXQqdSxqPWMuaW50ZXJuYWwucGFnZVNpemUuZ2V0V2lkdGgoKSxFPShBPWMuaW50ZXJuYWwuc2NhbGVGYWN0b3IscnRbJF0pLE09aS5jaGFyU3BhY2V8fFF0LE89aS5tYXhXaWR0aHx8MCxxPShvPXt9LFtdKTtpZihcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpe3ZhciBULFI7dj1mKHQpO1wibGVmdFwiIT09cyYmKFI9di5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGMuZ2V0U3RyaW5nVW5pdFdpZHRoKHQse2ZvbnQ6RSxjaGFyU3BhY2U6TSxmb250U2l6ZTpldH0pKmV0L0F9KSk7dmFyIEQsVT1NYXRoLm1heC5hcHBseShNYXRoLFIpLHo9MDtpZihcInJpZ2h0XCI9PT1zKXtlLT1SWzBdLHQ9W107dmFyIEg9MDtmb3Iodz12Lmxlbmd0aDtIPHc7SCsrKVUtUltIXSxUPTA9PT1IPyhEPVd0KGUpLFZ0KG4pKTooRD0oei1SW0hdKSpBLC1CKSx0LnB1c2goW3ZbSF0sRCxUXSksej1SW0hdfWVsc2UgaWYoXCJjZW50ZXJcIj09PXMpe2UtPVJbMF0vMix0PVtdO2ZvcihIPTAsdz12Lmxlbmd0aDtIPHc7SCsrKShVLVJbSF0pLzIsVD0wPT09SD8oRD1XdChlKSxWdChuKSk6KEQ9KHotUltIXSkvMipBLC1CKSx0LnB1c2goW3ZbSF0sRCxUXSksej1SW0hdfWVsc2UgaWYoXCJsZWZ0XCI9PT1zKXt0PVtdO2ZvcihIPTAsdz12Lmxlbmd0aDtIPHc7SCsrKVQ9MD09PUg/VnQobik6LUIsRD0wPT09SD9XdChlKTowLHQucHVzaCh2W0hdKX1lbHNle2lmKFwianVzdGlmeVwiIT09cyl0aHJvdyBuZXcgRXJyb3IoJ1VucmVjb2duaXplZCBhbGlnbm1lbnQgb3B0aW9uLCB1c2UgXCJsZWZ0XCIsIFwiY2VudGVyXCIsIFwicmlnaHRcIiBvciBcImp1c3RpZnlcIi4nKTt0PVtdO2ZvcihPPTAhPT1PP086aixIPTAsdz12Lmxlbmd0aDtIPHc7SCsrKVQ9MD09PUg/VnQobik6LUIsRD0wPT09SD9XdChlKTowLEg8dy0xJiZxLnB1c2goKChPLVJbSF0pLyh2W0hdLnNwbGl0KFwiIFwiKS5sZW5ndGgtMSkqQSkudG9GaXhlZCgyKSksdC5wdXNoKFt2W0hdLEQsVF0pfX0hMD09PShcImJvb2xlYW5cIj09dHlwZW9mIGkuUjJMP2kuUjJMOm50KSYmKHQ9cCh0LGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm5bdC5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKSxlLG5dfSkpO0w9e3RleHQ6dCx4OmUseTpuLG9wdGlvbnM6aSxtdXRleDp7cGRmRXNjYXBlOnZ0LGFjdGl2ZUZvbnRLZXk6JCxmb250czpydCxhY3RpdmVGb250U2l6ZTpldH19O2l0LnB1Ymxpc2goXCJwb3N0UHJvY2Vzc1RleHRcIixMKSx0PUwudGV4dCxsPUwubXV0ZXguaXNIZXg7dj1mKHQpO3Q9W107dmFyIFcsVixHLFk9MCxKPSh3PXYubGVuZ3RoLFwiXCIpO2ZvcihIPTA7SDx3O0grKylKPVwiXCIsQXJyYXkuaXNBcnJheSh2W0hdKT8oVz1wYXJzZUZsb2F0KHZbSF1bMV0pLFY9cGFyc2VGbG9hdCh2W0hdWzJdKSxHPShsP1wiPFwiOlwiKFwiKSt2W0hdWzBdKyhsP1wiPlwiOlwiKVwiKSxZPTEpOihXPVd0KGUpLFY9VnQobiksRz0obD9cIjxcIjpcIihcIikrdltIXSsobD9cIj5cIjpcIilcIikpLHZvaWQgMCE9PXEmJnZvaWQgMCE9PXFbSF0mJihKPXFbSF0rXCIgVHdcXG5cIiksMCE9PVMubGVuZ3RoJiYwPT09SD90LnB1c2goSitTLmpvaW4oXCIgXCIpK1wiIFwiK1cudG9GaXhlZCgyKStcIiBcIitWLnRvRml4ZWQoMikrXCIgVG1cXG5cIitHKToxPT09WXx8MD09PVkmJjA9PT1IP3QucHVzaChKK1cudG9GaXhlZCgyKStcIiBcIitWLnRvRml4ZWQoMikrXCIgVGRcXG5cIitHKTp0LnB1c2goSitHKTt0PTA9PT1ZP3Quam9pbihcIiBUalxcblQqIFwiKTp0LmpvaW4oXCIgVGpcXG5cIiksdCs9XCIgVGpcXG5cIjt2YXIgWD1cIkJUXFxuL1wiKyQrXCIgXCIrZXQrXCIgVGZcXG5cIisoZXQqdSkudG9GaXhlZCgyKStcIiBUTFxcblwiK0t0K1wiXFxuXCI7cmV0dXJuIFgrPWgsWCs9dCx0dChYKz1cIkVUXCIpLEtbJF09ITAsY30sbC5fX3ByaXZhdGVfXy5sc3RleHQ9bC5sc3RleHQ9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGNvbnNvbGUud2FybihcImpzUERGLmxzdGV4dCBpcyBkZXByZWNhdGVkXCIpLHRoaXMudGV4dCh0LGUsbix7Y2hhclNwYWNlOnJ9KX0sbC5fX3ByaXZhdGVfXy5jbGlwPWwuY2xpcD1mdW5jdGlvbih0KXt0dChcImV2ZW5vZGRcIj09PXQ/XCJXKlwiOlwiV1wiKSx0dChcIm5cIil9LGwuX19wcml2YXRlX18uY2xpcF9maXhlZD1sLmNsaXBfZml4ZWQ9ZnVuY3Rpb24odCl7Y29uc29sZS5sb2coXCJjbGlwX2ZpeGVkIGlzIGRlcHJlY2F0ZWRcIiksbC5jbGlwKHQpfTt2YXIgT3Q9bC5fX3ByaXZhdGVfXy5pc1ZhbGlkU3R5bGU9ZnVuY3Rpb24odCl7dmFyIGU9ITE7cmV0dXJuLTEhPT1bdm9pZCAwLG51bGwsXCJTXCIsXCJGXCIsXCJERlwiLFwiRkRcIixcImZcIixcImYqXCIsXCJCXCIsXCJCKlwiXS5pbmRleE9mKHQpJiYoZT0hMCksZX0scXQ9bC5fX3ByaXZhdGVfXy5nZXRTdHlsZT1mdW5jdGlvbih0KXt2YXIgZT1cIlNcIjtyZXR1cm5cIkZcIj09PXQ/ZT1cImZcIjpcIkZEXCI9PT10fHxcIkRGXCI9PT10P2U9XCJCXCI6XCJmXCIhPT10JiZcImYqXCIhPT10JiZcIkJcIiE9PXQmJlwiQipcIiE9PXR8fChlPXQpLGV9O2wuX19wcml2YXRlX18ubGluZT1sLmxpbmU9ZnVuY3Rpb24odCxlLG4scil7aWYoaXNOYU4odCl8fGlzTmFOKGUpfHxpc05hTihuKXx8aXNOYU4ocikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLmxpbmVcIik7cmV0dXJuIHRoaXMubGluZXMoW1tuLXQsci1lXV0sdCxlKX0sbC5fX3ByaXZhdGVfXy5saW5lcz1sLmxpbmVzPWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXt2YXIgYSxzLGwsaCx1LGMsZixwLGQsZyxtLHk7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQmJih5PW4sbj1lLGU9dCx0PXkpLHI9cnx8WzEsMV0sbz1vfHwhMSxpc05hTihlKXx8aXNOYU4obil8fCFBcnJheS5pc0FycmF5KHQpfHwhQXJyYXkuaXNBcnJheShyKXx8IU90KGkpfHxcImJvb2xlYW5cIiE9dHlwZW9mIG8pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLmxpbmVzXCIpO2Zvcih0dChRKFd0KGUpKStcIiBcIitRKFZ0KG4pKStcIiBtIFwiKSxhPXJbMF0scz1yWzFdLGg9dC5sZW5ndGgsZz1lLG09bixsPTA7bDxoO2wrKykyPT09KHU9dFtsXSkubGVuZ3RoPyhnPXVbMF0qYStnLG09dVsxXSpzK20sdHQoUShXdChnKSkrXCIgXCIrUShWdChtKSkrXCIgbFwiKSk6KGM9dVswXSphK2csZj11WzFdKnMrbSxwPXVbMl0qYStnLGQ9dVszXSpzK20sZz11WzRdKmErZyxtPXVbNV0qcyttLHR0KFEoV3QoYykpK1wiIFwiK1EoVnQoZikpK1wiIFwiK1EoV3QocCkpK1wiIFwiK1EoVnQoZCkpK1wiIFwiK1EoV3QoZykpK1wiIFwiK1EoVnQobSkpK1wiIGNcIikpO3JldHVybiBvJiZ0dChcIiBoXCIpLG51bGwhPT1pJiZ0dChxdChpKSksdGhpc30sbC5fX3ByaXZhdGVfXy5yZWN0PWwucmVjdD1mdW5jdGlvbih0LGUsbixyLGkpe2lmKGlzTmFOKHQpfHxpc05hTihlKXx8aXNOYU4obil8fGlzTmFOKHIpfHwhT3QoaSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLnJlY3RcIik7cmV0dXJuIHR0KFtaKFd0KHQpKSxaKFZ0KGUpKSxaKG4qXyksWigtcipfKSxcInJlXCJdLmpvaW4oXCIgXCIpKSxudWxsIT09aSYmdHQocXQoaSkpLHRoaXN9LGwuX19wcml2YXRlX18udHJpYW5nbGU9bC50cmlhbmdsZT1mdW5jdGlvbih0LGUsbixyLGksbyxhKXtpZihpc05hTih0KXx8aXNOYU4oZSl8fGlzTmFOKG4pfHxpc05hTihyKXx8aXNOYU4oaSl8fGlzTmFOKG8pfHwhT3QoYSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLnRyaWFuZ2xlXCIpO3JldHVybiB0aGlzLmxpbmVzKFtbbi10LHItZV0sW2ktbixvLXJdLFt0LWksZS1vXV0sdCxlLFsxLDFdLGEsITApLHRoaXN9LGwuX19wcml2YXRlX18ucm91bmRlZFJlY3Q9bC5yb3VuZGVkUmVjdD1mdW5jdGlvbih0LGUsbixyLGksbyxhKXtpZihpc05hTih0KXx8aXNOYU4oZSl8fGlzTmFOKG4pfHxpc05hTihyKXx8aXNOYU4oaSl8fGlzTmFOKG8pfHwhT3QoYSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLnJvdW5kZWRSZWN0XCIpO3ZhciBzPTQvMyooTWF0aC5TUVJUMi0xKTtyZXR1cm4gdGhpcy5saW5lcyhbW24tMippLDBdLFtpKnMsMCxpLG8tbypzLGksb10sWzAsci0yKm9dLFswLG8qcywtaSpzLG8sLWksb10sWzIqaS1uLDBdLFstaSpzLDAsLWksLW8qcywtaSwtb10sWzAsMipvLXJdLFswLC1vKnMsaSpzLC1vLGksLW9dXSx0K2ksZSxbMSwxXSxhKSx0aGlzfSxsLl9fcHJpdmF0ZV9fLmVsbGlwc2U9bC5lbGxpcHNlPWZ1bmN0aW9uKHQsZSxuLHIsaSl7aWYoaXNOYU4odCl8fGlzTmFOKGUpfHxpc05hTihuKXx8aXNOYU4ocil8fCFPdChpKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuZWxsaXBzZVwiKTt2YXIgbz00LzMqKE1hdGguU1FSVDItMSkqbixhPTQvMyooTWF0aC5TUVJUMi0xKSpyO3JldHVybiB0dChbWihXdCh0K24pKSxaKFZ0KGUpKSxcIm1cIixaKFd0KHQrbikpLFooVnQoZS1hKSksWihXdCh0K28pKSxaKFZ0KGUtcikpLFooV3QodCkpLFooVnQoZS1yKSksXCJjXCJdLmpvaW4oXCIgXCIpKSx0dChbWihXdCh0LW8pKSxaKFZ0KGUtcikpLFooV3QodC1uKSksWihWdChlLWEpKSxaKFd0KHQtbikpLFooVnQoZSkpLFwiY1wiXS5qb2luKFwiIFwiKSksdHQoW1ooV3QodC1uKSksWihWdChlK2EpKSxaKFd0KHQtbykpLFooVnQoZStyKSksWihXdCh0KSksWihWdChlK3IpKSxcImNcIl0uam9pbihcIiBcIikpLHR0KFtaKFd0KHQrbykpLFooVnQoZStyKSksWihXdCh0K24pKSxaKFZ0KGUrYSkpLFooV3QodCtuKSksWihWdChlKSksXCJjXCJdLmpvaW4oXCIgXCIpKSxudWxsIT09aSYmdHQocXQoaSkpLHRoaXN9LGwuX19wcml2YXRlX18uY2lyY2xlPWwuY2lyY2xlPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKGlzTmFOKHQpfHxpc05hTihlKXx8aXNOYU4obil8fCFPdChyKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY2lyY2xlXCIpO3JldHVybiB0aGlzLmVsbGlwc2UodCxlLG4sbixyKX07bC5zZXRGb250PWZ1bmN0aW9uKHQsZSl7cmV0dXJuICQ9THQodCxlLHtkaXNhYmxlV2FybmluZzohMX0pLHRoaXN9LGwuc2V0Rm9udFN0eWxlPWwuc2V0Rm9udFR5cGU9ZnVuY3Rpb24odCl7cmV0dXJuICQ9THQodm9pZCAwLHQpLHRoaXN9O2wuX19wcml2YXRlX18uZ2V0Rm9udExpc3Q9bC5nZXRGb250TGlzdD1mdW5jdGlvbigpe3ZhciB0LGUsbixyPXt9O2Zvcih0IGluIEgpaWYoSC5oYXNPd25Qcm9wZXJ0eSh0KSlmb3IoZSBpbiByW3RdPW49W10sSFt0XSlIW3RdLmhhc093blByb3BlcnR5KGUpJiZuLnB1c2goZSk7cmV0dXJuIHJ9O2wuYWRkRm9udD1mdW5jdGlvbih0LGUsbixyKXt5dC5jYWxsKHRoaXMsdCxlLG4scj1yfHxcIklkZW50aXR5LUhcIil9O3ZhciBUdCxSdD1yLmxpbmVXaWR0aHx8LjIwMDAyNSxEdD1sLl9fcHJpdmF0ZV9fLnNldExpbmVXaWR0aD1sLnNldExpbmVXaWR0aD1mdW5jdGlvbih0KXtyZXR1cm4gdHQoKHQqXykudG9GaXhlZCgyKStcIiB3XCIpLHRoaXN9LFV0PShsLl9fcHJpdmF0ZV9fLnNldExpbmVEYXNoPWFlLkFQSS5zZXRMaW5lRGFzaD1mdW5jdGlvbih0LGUpe2lmKHQ9dHx8W10sZT1lfHwwLGlzTmFOKGUpfHwhQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuc2V0TGluZURhc2hcIik7cmV0dXJuIHQ9dC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuKHQqXykudG9GaXhlZCgzKX0pLmpvaW4oXCIgXCIpLGU9cGFyc2VGbG9hdCgoZSpfKS50b0ZpeGVkKDMpKSx0dChcIltcIit0K1wiXSBcIitlK1wiIGRcIiksdGhpc30sbC5fX3ByaXZhdGVfXy5nZXRMaW5lSGVpZ2h0PWwuZ2V0TGluZUhlaWdodD1mdW5jdGlvbigpe3JldHVybiBldCpUdH0pLHp0PShVdD1sLl9fcHJpdmF0ZV9fLmdldExpbmVIZWlnaHQ9bC5nZXRMaW5lSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIGV0KlR0fSxsLl9fcHJpdmF0ZV9fLnNldExpbmVIZWlnaHRGYWN0b3I9bC5zZXRMaW5lSGVpZ2h0RmFjdG9yPWZ1bmN0aW9uKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZih0PXR8fDEuMTUpJiYoVHQ9dCksdGhpc30pLEh0PWwuX19wcml2YXRlX18uZ2V0TGluZUhlaWdodEZhY3Rvcj1sLmdldExpbmVIZWlnaHRGYWN0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gVHR9O3p0KHIubGluZUhlaWdodCk7dmFyIFd0PWwuX19wcml2YXRlX18uZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQqX30sVnQ9bC5fX3ByaXZhdGVfXy5nZXRWZXJ0aWNhbENvb3JkaW5hdGU9ZnVuY3Rpb24odCl7cmV0dXJuIFZbeF0ubWVkaWFCb3gudG9wUmlnaHRZLVZbeF0ubWVkaWFCb3guYm90dG9tTGVmdFktdCpffSxHdD1sLl9fcHJpdmF0ZV9fLmdldEhvcml6b250YWxDb29yZGluYXRlU3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiBaKHQqXyl9LFl0PWwuX19wcml2YXRlX18uZ2V0VmVydGljYWxDb29yZGluYXRlU3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiBaKFZbeF0ubWVkaWFCb3gudG9wUmlnaHRZLVZbeF0ubWVkaWFCb3guYm90dG9tTGVmdFktdCpfKX0sSnQ9ci5zdHJva2VDb2xvcnx8XCIwIEdcIixYdD0obC5fX3ByaXZhdGVfXy5nZXRTdHJva2VDb2xvcj1sLmdldERyYXdDb2xvcj1mdW5jdGlvbigpe3JldHVybiBodChKdCl9LGwuX19wcml2YXRlX18uc2V0U3Ryb2tlQ29sb3I9bC5zZXREcmF3Q29sb3I9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIEp0PXV0KHtjaDE6dCxjaDI6ZSxjaDM6bixjaDQ6cixwZGZDb2xvclR5cGU6XCJkcmF3XCIscHJlY2lzaW9uOjJ9KSx0dChKdCksdGhpc30sci5maWxsQ29sb3J8fFwiMCBnXCIpLEt0PShsLl9fcHJpdmF0ZV9fLmdldEZpbGxDb2xvcj1sLmdldEZpbGxDb2xvcj1mdW5jdGlvbigpe3JldHVybiBodChYdCl9LGwuX19wcml2YXRlX18uc2V0RmlsbENvbG9yPWwuc2V0RmlsbENvbG9yPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBYdD11dCh7Y2gxOnQsY2gyOmUsY2gzOm4sY2g0OnIscGRmQ29sb3JUeXBlOlwiZmlsbFwiLHByZWNpc2lvbjoyfSksdHQoWHQpLHRoaXN9LHIudGV4dENvbG9yfHxcIjAgZ1wiKSxadD1sLl9fcHJpdmF0ZV9fLmdldFRleHRDb2xvcj1sLmdldFRleHRDb2xvcj1mdW5jdGlvbigpe3JldHVybiBodChLdCl9LFF0PShsLl9fcHJpdmF0ZV9fLnNldFRleHRDb2xvcj1sLnNldFRleHRDb2xvcj1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gS3Q9dXQoe2NoMTp0LGNoMjplLGNoMzpuLGNoNDpyLHBkZkNvbG9yVHlwZTpcInRleHRcIixwcmVjaXNpb246M30pLHRoaXN9LHIuY2hhclNwYWNlfHwwKSwkdD1sLl9fcHJpdmF0ZV9fLmdldENoYXJTcGFjZT1sLmdldENoYXJTcGFjZT1mdW5jdGlvbigpe3JldHVybiBRdH0sdGU9KGwuX19wcml2YXRlX18uc2V0Q2hhclNwYWNlPWwuc2V0Q2hhclNwYWNlPWZ1bmN0aW9uKHQpe2lmKGlzTmFOKHQpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIGpzUERGLnNldENoYXJTcGFjZVwiKTtyZXR1cm4gUXQ9dCx0aGlzfSwwKTtsLkNhcEpvaW5TdHlsZXM9ezA6MCxidXR0OjAsYnV0OjAsbWl0ZXI6MCwxOjEscm91bmQ6MSxyb3VuZGVkOjEsY2lyY2xlOjEsMjoyLHByb2plY3Rpbmc6Mixwcm9qZWN0OjIsc3F1YXJlOjIsYmV2ZWw6Mn07bC5fX3ByaXZhdGVfXy5zZXRMaW5lQ2FwPWwuc2V0TGluZUNhcD1mdW5jdGlvbih0KXt2YXIgZT1sLkNhcEpvaW5TdHlsZXNbdF07aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJMaW5lIGNhcCBzdHlsZSBvZiAnXCIrdCtcIicgaXMgbm90IHJlY29nbml6ZWQuIFNlZSBvciBleHRlbmQgLkNhcEpvaW5TdHlsZXMgcHJvcGVydHkgZm9yIHZhbGlkIHN0eWxlc1wiKTtyZXR1cm4gdHQoKHRlPWUpK1wiIEpcIiksdGhpc307dmFyIGVlLG5lPTA7bC5fX3ByaXZhdGVfXy5zZXRMaW5lSm9pbj1sLnNldExpbmVKb2luPWZ1bmN0aW9uKHQpe3ZhciBlPWwuQ2FwSm9pblN0eWxlc1t0XTtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcIkxpbmUgam9pbiBzdHlsZSBvZiAnXCIrdCtcIicgaXMgbm90IHJlY29nbml6ZWQuIFNlZSBvciBleHRlbmQgLkNhcEpvaW5TdHlsZXMgcHJvcGVydHkgZm9yIHZhbGlkIHN0eWxlc1wiKTtyZXR1cm4gdHQoKG5lPWUpK1wiIGpcIiksdGhpc30sbC5fX3ByaXZhdGVfXy5zZXRNaXRlckxpbWl0PWwuc2V0TWl0ZXJMaW1pdD1mdW5jdGlvbih0KXtpZih0PXR8fDAsaXNOYU4odCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8ganNQREYuc2V0TWl0ZXJMaW1pdFwiKTtyZXR1cm4gZWU9cGFyc2VGbG9hdChaKHQqXykpLHR0KGVlK1wiIE1cIiksdGhpc307Zm9yKHZhciByZSBpbiBsLnNhdmU9ZnVuY3Rpb24ocix0KXtpZihyPXJ8fFwiZ2VuZXJhdGVkLnBkZlwiLCh0PXR8fHt9KS5yZXR1cm5Qcm9taXNlPXQucmV0dXJuUHJvbWlzZXx8ITEsITEhPT10LnJldHVyblByb21pc2UpcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsZSl7dHJ5e3ZhciBuPWxlKEl0KGt0KCkpLHIpO1wiZnVuY3Rpb25cIj09dHlwZW9mIGxlLnVubG9hZCYmaWUuc2V0VGltZW91dCYmc2V0VGltZW91dChsZS51bmxvYWQsOTExKSx0KG4pfWNhdGNoKHQpe2UodC5tZXNzYWdlKX19KTtsZShJdChrdCgpKSxyKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBsZS51bmxvYWQmJmllLnNldFRpbWVvdXQmJnNldFRpbWVvdXQobGUudW5sb2FkLDkxMSl9LGFlLkFQSSlhZS5BUEkuaGFzT3duUHJvcGVydHkocmUpJiYoXCJldmVudHNcIj09PXJlJiZhZS5BUEkuZXZlbnRzLmxlbmd0aD9mdW5jdGlvbih0LGUpe3ZhciBuLHIsaTtmb3IoaT1lLmxlbmd0aC0xOy0xIT09aTtpLS0pbj1lW2ldWzBdLHI9ZVtpXVsxXSx0LnN1YnNjcmliZS5hcHBseSh0LFtuXS5jb25jYXQoXCJmdW5jdGlvblwiPT10eXBlb2Ygcj9bcl06cikpfShpdCxhZS5BUEkuZXZlbnRzKTpsW3JlXT1hZS5BUElbcmVdKTtyZXR1cm4gbC5pbnRlcm5hbD17cGRmRXNjYXBlOnZ0LGdldFN0eWxlOnF0LGdldEZvbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gcnRbTHQuYXBwbHkobCxhcmd1bWVudHMpXX0sZ2V0Rm9udFNpemU6TyxnZXRDaGFyU3BhY2U6JHQsZ2V0VGV4dENvbG9yOlp0LGdldExpbmVIZWlnaHQ6VXQsZ2V0TGluZUhlaWdodEZhY3RvcjpIdCx3cml0ZTpqLGdldEhvcml6b250YWxDb29yZGluYXRlOld0LGdldFZlcnRpY2FsQ29vcmRpbmF0ZTpWdCxnZXRDb29yZGluYXRlU3RyaW5nOkd0LGdldFZlcnRpY2FsQ29vcmRpbmF0ZVN0cmluZzpZdCxjb2xsZWN0aW9uczp7fSxuZXdPYmplY3Q6SixuZXdBZGRpdGlvbmFsT2JqZWN0OmF0LG5ld09iamVjdERlZmVycmVkOlgsbmV3T2JqZWN0RGVmZXJyZWRCZWdpbjpvdCxnZXRGaWx0ZXJzOmN0LHB1dFN0cmVhbTpmdCxldmVudHM6aXQsc2NhbGVGYWN0b3I6XyxwYWdlU2l6ZTp7Z2V0V2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4oVlt4XS5tZWRpYUJveC50b3BSaWdodFgtVlt4XS5tZWRpYUJveC5ib3R0b21MZWZ0WCkvX30sc2V0V2lkdGg6ZnVuY3Rpb24odCl7Vlt4XS5tZWRpYUJveC50b3BSaWdodFg9dCpfK1ZbeF0ubWVkaWFCb3guYm90dG9tTGVmdFh9LGdldEhlaWdodDpmdW5jdGlvbigpe3JldHVybihWW3hdLm1lZGlhQm94LnRvcFJpZ2h0WS1WW3hdLm1lZGlhQm94LmJvdHRvbUxlZnRZKS9ffSxzZXRIZWlnaHQ6ZnVuY3Rpb24odCl7Vlt4XS5tZWRpYUJveC50b3BSaWdodFk9dCpfK1ZbeF0ubWVkaWFCb3guYm90dG9tTGVmdFl9fSxvdXRwdXQ6Q3QsZ2V0TnVtYmVyT2ZQYWdlczpOdCxwYWdlczpJLG91dDp0dCxmMjpaLGYzOlEsZ2V0UGFnZUluZm86anQsZ2V0UGFnZUluZm9CeU9iaklkOkV0LGdldEN1cnJlbnRQYWdlSW5mbzpNdCxnZXRQREZWZXJzaW9uOnUsaGFzSG90Zml4OkJ0fSxPYmplY3QuZGVmaW5lUHJvcGVydHkobC5pbnRlcm5hbC5wYWdlU2l6ZSxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybihWW3hdLm1lZGlhQm94LnRvcFJpZ2h0WC1WW3hdLm1lZGlhQm94LmJvdHRvbUxlZnRYKS9ffSxzZXQ6ZnVuY3Rpb24odCl7Vlt4XS5tZWRpYUJveC50b3BSaWdodFg9dCpfK1ZbeF0ubWVkaWFCb3guYm90dG9tTGVmdFh9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGwuaW50ZXJuYWwucGFnZVNpemUsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKFZbeF0ubWVkaWFCb3gudG9wUmlnaHRZLVZbeF0ubWVkaWFCb3guYm90dG9tTGVmdFkpL199LHNldDpmdW5jdGlvbih0KXtWW3hdLm1lZGlhQm94LnRvcFJpZ2h0WT10Kl8rVlt4XS5tZWRpYUJveC5ib3R0b21MZWZ0WX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPU0ubGVuZ3RoO2U8bjtlKyspe3ZhciByPXl0KHRbZV1bMF0sdFtlXVsxXSx0W2VdWzJdLE1bZV1bM10sITApO0tbcl09ITA7dmFyIGk9dFtlXVswXS5zcGxpdChcIi1cIik7bXQocixpWzBdLGlbMV18fFwiXCIpfWl0LnB1Ymxpc2goXCJhZGRGb250c1wiLHtmb250czpydCxkaWN0aW9uYXJ5Okh9KX0oTSksJD1cIkYxXCIsYnQoaSx0KSxpdC5wdWJsaXNoKFwiaW5pdGlhbGl6ZWRcIiksbH1yZXR1cm4gYWUuQVBJPXtldmVudHM6W119LGFlLnZlcnNpb249XCIxLjUuM1wiLFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJqc1BERlwiLGZ1bmN0aW9uKCl7cmV0dXJuIGFlfSk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/KG1vZHVsZS5leHBvcnRzPWFlLG1vZHVsZS5leHBvcnRzLmpzUERGPWFlKTppZS5qc1BERj1hZSxhZX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGZ8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvd3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbCYmZ2xvYmFsfHxGdW5jdGlvbigncmV0dXJuIHR5cGVvZiB0aGlzID09PSBcIm9iamVjdFwiICYmIHRoaXMuY29udGVudCcpKCl8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSk7XG4vKipcbiAgICogQGxpY2Vuc2VcbiAgICogQ29weXJpZ2h0IChjKSAyMDE2IEFsZXhhbmRlciBXZWlkdCxcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL0JpZ2dBOTRcbiAgICogXG4gICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gICAqL1xuKGZ1bmN0aW9uKHQsZSl7dmFyIEEsbj0xLFM9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXFxcXC9nLFwiXFxcXFxcXFxcIikucmVwbGFjZSgvXFwoL2csXCJcXFxcKFwiKS5yZXBsYWNlKC9cXCkvZyxcIlxcXFwpXCIpfSx5PWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1xcXFxcXFxcL2csXCJcXFxcXCIpLnJlcGxhY2UoL1xcXFxcXCgvZyxcIihcIikucmVwbGFjZSgvXFxcXFxcKS9nLFwiKVwiKX0sXz1mdW5jdGlvbih0KXtpZihpc05hTih0KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBqc1BERi5mMlwiKTtyZXR1cm4gdC50b0ZpeGVkKDIpfSxzPWZ1bmN0aW9uKHQpe2lmKGlzTmFOKHQpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIGpzUERGLmYyXCIpO3JldHVybiB0LnRvRml4ZWQoNSl9O3QuX19hY3JvZm9ybV9fPXt9O3ZhciByPWZ1bmN0aW9uKHQsZSl7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dH0sdj1mdW5jdGlvbih0KXtyZXR1cm4gdCpufSx3PWZ1bmN0aW9uKHQpe3JldHVybiB0L259LGw9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGosbj1ZLmludGVybmFsLmdldEhlaWdodCh0KXx8MCxyPVkuaW50ZXJuYWwuZ2V0V2lkdGgodCl8fDA7cmV0dXJuIGUuQkJveD1bMCwwLE51bWJlcihfKHIpKSxOdW1iZXIoXyhuKSldLGV9LGk9dC5fX2Fjcm9mb3JtX18uc2V0Qml0PWZ1bmN0aW9uKHQsZSl7aWYodD10fHwwLGU9ZXx8MCxpc05hTih0KXx8aXNOYU4oZSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLkFQSS5fX2Fjcm9mb3JtX18uc2V0Qml0XCIpO3JldHVybiB0fD0xPDxlfSxvPXQuX19hY3JvZm9ybV9fLmNsZWFyQml0PWZ1bmN0aW9uKHQsZSl7aWYodD10fHwwLGU9ZXx8MCxpc05hTih0KXx8aXNOYU4oZSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLkFQSS5fX2Fjcm9mb3JtX18uY2xlYXJCaXRcIik7cmV0dXJuIHQmPX4oMTw8ZSl9LGE9dC5fX2Fjcm9mb3JtX18uZ2V0Qml0PWZ1bmN0aW9uKHQsZSl7aWYoaXNOYU4odCl8fGlzTmFOKGUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHBhc3NlZCB0byBqc1BERi5BUEkuX19hY3JvZm9ybV9fLmdldEJpdFwiKTtyZXR1cm4gMD09KHQmMTw8ZSk/MDoxfSxiPXQuX19hY3JvZm9ybV9fLmdldEJpdEZvclBkZj1mdW5jdGlvbih0LGUpe2lmKGlzTmFOKHQpfHxpc05hTihlKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuQVBJLl9fYWNyb2Zvcm1fXy5nZXRCaXRGb3JQZGZcIik7cmV0dXJuIGEodCxlLTEpfSx4PXQuX19hY3JvZm9ybV9fLnNldEJpdEZvclBkZj1mdW5jdGlvbih0LGUpe2lmKGlzTmFOKHQpfHxpc05hTihlKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuQVBJLl9fYWNyb2Zvcm1fXy5zZXRCaXRGb3JQZGZcIik7cmV0dXJuIGkodCxlLTEpfSxOPXQuX19hY3JvZm9ybV9fLmNsZWFyQml0Rm9yUGRmPWZ1bmN0aW9uKHQsZSxuKXtpZihpc05hTih0KXx8aXNOYU4oZSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLkFQSS5fX2Fjcm9mb3JtX18uY2xlYXJCaXRGb3JQZGZcIik7cmV0dXJuIG8odCxlLTEpfSxjPXQuX19hY3JvZm9ybV9fLmNhbGN1bGF0ZUNvb3JkaW5hdGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaW50ZXJuYWwuZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGUsbj10aGlzLmludGVybmFsLmdldFZlcnRpY2FsQ29vcmRpbmF0ZSxyPXRbMF0saT10WzFdLG89dFsyXSxhPXRbM10scz17fTtyZXR1cm4gcy5sb3dlckxlZnRfWD1lKHIpfHwwLHMubG93ZXJMZWZ0X1k9bihpK2EpfHwwLHMudXBwZXJSaWdodF9YPWUocitvKXx8MCxzLnVwcGVyUmlnaHRfWT1uKGkpfHwwLFtOdW1iZXIoXyhzLmxvd2VyTGVmdF9YKSksTnVtYmVyKF8ocy5sb3dlckxlZnRfWSkpLE51bWJlcihfKHMudXBwZXJSaWdodF9YKSksTnVtYmVyKF8ocy51cHBlclJpZ2h0X1kpKV19LGY9ZnVuY3Rpb24odCl7aWYodC5hcHBlYXJhbmNlU3RyZWFtQ29udGVudClyZXR1cm4gdC5hcHBlYXJhbmNlU3RyZWFtQ29udGVudDtpZih0LlZ8fHQuRFYpe3ZhciBlPVtdLG49dC5WfHx0LkRWLHI9aCh0LG4pLGk9QS5pbnRlcm5hbC5nZXRGb250KHQuZm9udE5hbWUsdC5mb250U3R5bGUpLmlkO2UucHVzaChcIi9UeCBCTUNcIiksZS5wdXNoKFwicVwiKSxlLnB1c2goXCJCVFwiKSxlLnB1c2goQS5fX3ByaXZhdGVfXy5lbmNvZGVDb2xvclN0cmluZyh0LmNvbG9yKSksZS5wdXNoKFwiL1wiK2krXCIgXCIrXyhyLmZvbnRTaXplKStcIiBUZlwiKSxlLnB1c2goXCIxIDAgMCAxIDAgMCBUbVwiKSxlLnB1c2goci50ZXh0KSxlLnB1c2goXCJFVFwiKSxlLnB1c2goXCJRXCIpLGUucHVzaChcIkVNQ1wiKTt2YXIgbz1uZXcgbCh0KTtyZXR1cm4gby5zdHJlYW09ZS5qb2luKFwiXFxuXCIpLG99fSxoPWZ1bmN0aW9uKGksdCl7dmFyIGU9aS5tYXhGb250U2l6ZXx8MTIsbj0oaS5mb250TmFtZSx7dGV4dDpcIlwiLGZvbnRTaXplOlwiXCJ9KSxvPSh0PVwiKVwiPT0odD1cIihcIj09dC5zdWJzdHIoMCwxKT90LnN1YnN0cigxKTp0KS5zdWJzdHIodC5sZW5ndGgtMSk/dC5zdWJzdHIoMCx0Lmxlbmd0aC0xKTp0KS5zcGxpdChcIiBcIikscj0oQS5fX3ByaXZhdGVfXy5lbmNvZGVDb2xvclN0cmluZyhpLmNvbG9yKSxlKSxhPVkuaW50ZXJuYWwuZ2V0SGVpZ2h0KGkpfHwwO2E9YTwwPy1hOmE7dmFyIHM9WS5pbnRlcm5hbC5nZXRXaWR0aChpKXx8MDtzPXM8MD8tczpzO3ZhciBsPWZ1bmN0aW9uKHQsZSxuKXtpZih0KzE8by5sZW5ndGgpe3ZhciByPWUrXCIgXCIrb1t0KzFdO3JldHVybiBGKHIsaSxuKS53aWR0aDw9cy00fXJldHVybiExfTtyKys7dDpmb3IoOzspe3Q9XCJcIjt2YXIgaD1GKFwiM1wiLGksLS1yKS5oZWlnaHQsdT1pLm11bHRpbGluZT9hLXI6KGEtaCkvMixjPS0yLGY9dSs9MixwPTAsZD0wLGc9MDtpZihyPD0wKXt0PVwiKC4uLikgVGpcXG5cIix0Kz1cIiUgV2lkdGggb2YgVGV4dDogXCIrRih0LGkscj0xMikud2lkdGgrXCIsIEZpZWxkV2lkdGg6XCIrcytcIlxcblwiO2JyZWFrfWc9RihvWzBdK1wiIFwiLGkscikud2lkdGg7dmFyIG09XCJcIix5PTA7Zm9yKHZhciB2IGluIG8paWYoby5oYXNPd25Qcm9wZXJ0eSh2KSl7bT1cIiBcIj09KG0rPW9bdl0rXCIgXCIpLnN1YnN0cihtLmxlbmd0aC0xKT9tLnN1YnN0cigwLG0ubGVuZ3RoLTEpOm07dmFyIHc9cGFyc2VJbnQodik7Zz1GKG0rXCIgXCIsaSxyKS53aWR0aDt2YXIgYj1sKHcsbSxyKSx4PXY+PW8ubGVuZ3RoLTE7aWYoYiYmIXgpe20rPVwiIFwiO2NvbnRpbnVlfWlmKGJ8fHgpe2lmKHgpZD13O2Vsc2UgaWYoaS5tdWx0aWxpbmUmJmE8KGgrMikqKHkrMikrMiljb250aW51ZSB0fWVsc2V7aWYoIWkubXVsdGlsaW5lKWNvbnRpbnVlIHQ7aWYoYTwoaCsyKSooeSsyKSsyKWNvbnRpbnVlIHQ7ZD13fWZvcih2YXIgTj1cIlwiLEw9cDtMPD1kO0wrKylOKz1vW0xdK1wiIFwiO3N3aXRjaChOPVwiIFwiPT1OLnN1YnN0cihOLmxlbmd0aC0xKT9OLnN1YnN0cigwLE4ubGVuZ3RoLTEpOk4sZz1GKE4saSxyKS53aWR0aCxpLnRleHRBbGlnbil7Y2FzZVwicmlnaHRcIjpjPXMtZy0yO2JyZWFrO2Nhc2VcImNlbnRlclwiOmM9KHMtZykvMjticmVhaztjYXNlXCJsZWZ0XCI6ZGVmYXVsdDpjPTJ9dCs9XyhjKStcIiBcIitfKGYpK1wiIFRkXFxuXCIsdCs9XCIoXCIrUyhOKStcIikgVGpcXG5cIix0Kz0tXyhjKStcIiAwIFRkXFxuXCIsZj0tKHIrMiksZz0wLHA9ZCsxLHkrKyxtPVwiXCJ9ZWxzZTticmVha31yZXR1cm4gbi50ZXh0PXQsbi5mb250U2l6ZT1yLG59LEY9ZnVuY3Rpb24odCxlLG4pe3ZhciByPUEuaW50ZXJuYWwuZ2V0Rm9udChlLmZvbnROYW1lLGUuZm9udFN0eWxlKSxpPUEuZ2V0U3RyaW5nVW5pdFdpZHRoKHQse2ZvbnQ6cixmb250U2l6ZTpwYXJzZUZsb2F0KG4pLGNoYXJTcGFjZTowfSkqcGFyc2VGbG9hdChuKTtyZXR1cm57aGVpZ2h0OkEuZ2V0U3RyaW5nVW5pdFdpZHRoKFwiM1wiLHtmb250OnIsZm9udFNpemU6cGFyc2VGbG9hdChuKSxjaGFyU3BhY2U6MH0pKnBhcnNlRmxvYXQobikqMS41LHdpZHRoOml9fSx1PXtmaWVsZHM6W10seEZvcm1zOltdLGFjcm9Gb3JtRGljdGlvbmFyeVJvb3Q6bnVsbCxwcmludGVkT3V0OiExLGludGVybmFsOm51bGwsaXNJbml0aWFsaXplZDohMX0scD1mdW5jdGlvbigpe0EuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4uYWNyb0Zvcm1EaWN0aW9uYXJ5Um9vdC5vYmpJZD12b2lkIDA7dmFyIHQ9QS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi5hY3JvRm9ybURpY3Rpb25hcnlSb290LkZpZWxkcztmb3IodmFyIGUgaW4gdClpZih0Lmhhc093blByb3BlcnR5KGUpKXt2YXIgbj10W2VdO24ub2JqSWQ9dm9pZCAwLG4uaGFzQW5ub3RhdGlvbiYmZC5jYWxsKEEsbil9fSxkPWZ1bmN0aW9uKHQpe3ZhciBlPXt0eXBlOlwicmVmZXJlbmNlXCIsb2JqZWN0OnR9O3ZvaWQgMD09PUEuaW50ZXJuYWwuZ2V0UGFnZUluZm8odC5wYWdlKS5wYWdlQ29udGV4dC5hbm5vdGF0aW9ucy5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PT1lLnR5cGUmJnQub2JqZWN0PT09ZS5vYmplY3R9KSYmQS5pbnRlcm5hbC5nZXRQYWdlSW5mbyh0LnBhZ2UpLnBhZ2VDb250ZXh0LmFubm90YXRpb25zLnB1c2goZSl9LGc9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT1BLmludGVybmFsLmFjcm9mb3JtUGx1Z2luLmFjcm9Gb3JtRGljdGlvbmFyeVJvb3QpdGhyb3cgbmV3IEVycm9yKFwicHV0Q2F0YWxvZ0NhbGxiYWNrOiBSb290IG1pc3NpbmcuXCIpO0EuaW50ZXJuYWwud3JpdGUoXCIvQWNyb0Zvcm0gXCIrQS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi5hY3JvRm9ybURpY3Rpb25hcnlSb290Lm9iaklkK1wiIDAgUlwiKX0sbT1mdW5jdGlvbigpe0EuaW50ZXJuYWwuZXZlbnRzLnVuc3Vic2NyaWJlKEEuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4uYWNyb0Zvcm1EaWN0aW9uYXJ5Um9vdC5fZXZlbnRJRCksZGVsZXRlIEEuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4uYWNyb0Zvcm1EaWN0aW9uYXJ5Um9vdC5fZXZlbnRJRCxBLmludGVybmFsLmFjcm9mb3JtUGx1Z2luLnByaW50ZWRPdXQ9ITB9LEw9ZnVuY3Rpb24odCl7dmFyIGU9IXQ7dHx8KEEuaW50ZXJuYWwubmV3T2JqZWN0RGVmZXJyZWRCZWdpbihBLmludGVybmFsLmFjcm9mb3JtUGx1Z2luLmFjcm9Gb3JtRGljdGlvbmFyeVJvb3Qub2JqSWQsITApLEEuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4uYWNyb0Zvcm1EaWN0aW9uYXJ5Um9vdC5wdXRTdHJlYW0oKSk7dD10fHxBLmludGVybmFsLmFjcm9mb3JtUGx1Z2luLmFjcm9Gb3JtRGljdGlvbmFyeVJvb3QuS2lkcztmb3IodmFyIG4gaW4gdClpZih0Lmhhc093blByb3BlcnR5KG4pKXt2YXIgcj10W25dLGk9W10sbz1yLlJlY3Q7aWYoci5SZWN0JiYoci5SZWN0PWMuY2FsbCh0aGlzLHIuUmVjdCkpLEEuaW50ZXJuYWwubmV3T2JqZWN0RGVmZXJyZWRCZWdpbihyLm9iaklkLCEwKSxyLkRBPVkuY3JlYXRlRGVmYXVsdEFwcGVhcmFuY2VTdHJlYW0ociksXCJvYmplY3RcIj09PXNlKHIpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByLmdldEtleVZhbHVlTGlzdEZvclN0cmVhbSYmKGk9ci5nZXRLZXlWYWx1ZUxpc3RGb3JTdHJlYW0oKSksci5SZWN0PW8sci5oYXNBcHBlYXJhbmNlU3RyZWFtJiYhci5hcHBlYXJhbmNlU3RyZWFtQ29udGVudCl7dmFyIGE9Zi5jYWxsKHRoaXMscik7aS5wdXNoKHtrZXk6XCJBUFwiLHZhbHVlOlwiPDwvTiBcIithK1wiPj5cIn0pLEEuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4ueEZvcm1zLnB1c2goYSl9aWYoci5hcHBlYXJhbmNlU3RyZWFtQ29udGVudCl7dmFyIHM9XCJcIjtmb3IodmFyIGwgaW4gci5hcHBlYXJhbmNlU3RyZWFtQ29udGVudClpZihyLmFwcGVhcmFuY2VTdHJlYW1Db250ZW50Lmhhc093blByb3BlcnR5KGwpKXt2YXIgaD1yLmFwcGVhcmFuY2VTdHJlYW1Db250ZW50W2xdO2lmKHMrPVwiL1wiK2wrXCIgXCIscys9XCI8PFwiLDE8PU9iamVjdC5rZXlzKGgpLmxlbmd0aHx8QXJyYXkuaXNBcnJheShoKSlmb3IodmFyIG4gaW4gaCl7dmFyIHU7aWYoaC5oYXNPd25Qcm9wZXJ0eShuKSlcImZ1bmN0aW9uXCI9PXR5cGVvZih1PWhbbl0pJiYodT11LmNhbGwodGhpcyxyKSkscys9XCIvXCIrbitcIiBcIit1K1wiIFwiLDA8PUEuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4ueEZvcm1zLmluZGV4T2YodSl8fEEuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4ueEZvcm1zLnB1c2godSl9ZWxzZVwiZnVuY3Rpb25cIj09dHlwZW9mKHU9aCkmJih1PXUuY2FsbCh0aGlzLHIpKSxzKz1cIi9cIituK1wiIFwiK3UsMDw9QS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi54Rm9ybXMuaW5kZXhPZih1KXx8QS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi54Rm9ybXMucHVzaCh1KTtzKz1cIj4+XCJ9aS5wdXNoKHtrZXk6XCJBUFwiLHZhbHVlOlwiPDxcXG5cIitzK1wiPj5cIn0pfUEuaW50ZXJuYWwucHV0U3RyZWFtKHthZGRpdGlvbmFsS2V5VmFsdWVzOml9KSxBLmludGVybmFsLm91dChcImVuZG9ialwiKX1lJiZQLmNhbGwodGhpcyxBLmludGVybmFsLmFjcm9mb3JtUGx1Z2luLnhGb3Jtcyl9LFA9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIG49ZSxyPXRbZV07QS5pbnRlcm5hbC5uZXdPYmplY3REZWZlcnJlZEJlZ2luKHImJnIub2JqSWQsITApLFwib2JqZWN0XCI9PT1zZShyKSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygci5wdXRTdHJlYW0mJnIucHV0U3RyZWFtKCksZGVsZXRlIHRbbl19fSxrPWZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dGhpcy5pbnRlcm5hbCYmKHZvaWQgMD09PXRoaXMuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW58fCExPT09dGhpcy5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi5pc0luaXRpYWxpemVkKSl7aWYoQT10aGlzLE0uRmllbGROdW09MCx0aGlzLmludGVybmFsLmFjcm9mb3JtUGx1Z2luPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodSkpLHRoaXMuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4uYWNyb0Zvcm1EaWN0aW9uYXJ5Um9vdCl0aHJvdyBuZXcgRXJyb3IoXCJFeGNlcHRpb24gd2hpbGUgY3JlYXRpbmcgQWNyb2Zvcm1EaWN0aW9uYXJ5XCIpO249QS5pbnRlcm5hbC5zY2FsZUZhY3RvcixBLmludGVybmFsLmFjcm9mb3JtUGx1Z2luLmFjcm9Gb3JtRGljdGlvbmFyeVJvb3Q9bmV3IEUsQS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi5hY3JvRm9ybURpY3Rpb25hcnlSb290Ll9ldmVudElEPUEuaW50ZXJuYWwuZXZlbnRzLnN1YnNjcmliZShcInBvc3RQdXRSZXNvdXJjZXNcIixtKSxBLmludGVybmFsLmV2ZW50cy5zdWJzY3JpYmUoXCJidWlsZERvY3VtZW50XCIscCksQS5pbnRlcm5hbC5ldmVudHMuc3Vic2NyaWJlKFwicHV0Q2F0YWxvZ1wiLGcpLEEuaW50ZXJuYWwuZXZlbnRzLnN1YnNjcmliZShcInBvc3RQdXRQYWdlc1wiLEwpLEEuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4uaXNJbml0aWFsaXplZD0hMH19LEk9dC5fX2Fjcm9mb3JtX18uYXJyYXlUb1BkZkFycmF5PWZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZT1cIltcIixuPTA7bjx0Lmxlbmd0aDtuKyspc3dpdGNoKDAhPT1uJiYoZSs9XCIgXCIpLHNlKHRbbl0pKXtjYXNlXCJib29sZWFuXCI6Y2FzZVwibnVtYmVyXCI6Y2FzZVwib2JqZWN0XCI6ZSs9dFtuXS50b1N0cmluZygpO2JyZWFrO2Nhc2VcInN0cmluZ1wiOlwiL1wiIT09dFtuXS5zdWJzdHIoMCwxKT9lKz1cIihcIitTKHRbbl0udG9TdHJpbmcoKSkrXCIpXCI6ZSs9dFtuXS50b1N0cmluZygpfXJldHVybiBlKz1cIl1cIn10aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBqc1BERi5fX2Fjcm9mb3JtX18uYXJyYXlUb1BkZkFycmF5XCIpfTt2YXIgQz1mdW5jdGlvbih0KXtyZXR1cm4odD10fHxcIlwiKS50b1N0cmluZygpLHQ9XCIoXCIrUyh0KStcIilcIn0sQj1mdW5jdGlvbigpe3ZhciBlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwib2JqSWRcIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKGV8fChlPUEuaW50ZXJuYWwubmV3T2JqZWN0RGVmZXJyZWQoKSksIWUpdGhyb3cgbmV3IEVycm9yKFwiQWNyb0Zvcm1QREZPYmplY3Q6IENvdWxkbid0IGNyZWF0ZSBPYmplY3QgSURcIik7cmV0dXJuIGV9LHNldDpmdW5jdGlvbih0KXtlPXR9fSl9O0IucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2JqSWQrXCIgMCBSXCJ9LEIucHJvdG90eXBlLnB1dFN0cmVhbT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0S2V5VmFsdWVMaXN0Rm9yU3RyZWFtKCk7QS5pbnRlcm5hbC5wdXRTdHJlYW0oe2RhdGE6dGhpcy5zdHJlYW0sYWRkaXRpb25hbEtleVZhbHVlczp0fSksQS5pbnRlcm5hbC5vdXQoXCJlbmRvYmpcIil9LEIucHJvdG90eXBlLmdldEtleVZhbHVlTGlzdEZvclN0cmVhbT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT1bXSxuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm5cImNvbnRlbnRcIiE9dCYmXCJhcHBlYXJhbmNlU3RyZWFtQ29udGVudFwiIT10JiZcIl9cIiE9dC5zdWJzdHJpbmcoMCwxKX0pO2Zvcih2YXIgciBpbiBuKWlmKCExPT09T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG5bcl0pLmNvbmZpZ3VyYWJsZSl7dmFyIGk9bltyXSxvPXRbaV07byYmKEFycmF5LmlzQXJyYXkobyk/ZS5wdXNoKHtrZXk6aSx2YWx1ZTpJKG8pfSk6byBpbnN0YW5jZW9mIEI/ZS5wdXNoKHtrZXk6aSx2YWx1ZTpvLm9iaklkK1wiIDAgUlwifSk6XCJmdW5jdGlvblwiIT10eXBlb2YgbyYmZS5wdXNoKHtrZXk6aSx2YWx1ZTpvfSkpfXJldHVybiBlfSh0aGlzKX07dmFyIGo9ZnVuY3Rpb24oKXtCLmNhbGwodGhpcyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJUeXBlXCIse3ZhbHVlOlwiL1hPYmplY3RcIixjb25maWd1cmFibGU6ITEsd3JpdGVhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJTdWJ0eXBlXCIse3ZhbHVlOlwiL0Zvcm1cIixjb25maWd1cmFibGU6ITEsd3JpdGVhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJGb3JtVHlwZVwiLHt2YWx1ZToxLGNvbmZpZ3VyYWJsZTohMSx3cml0ZWFibGU6ITB9KTt2YXIgZSxuPVtdO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiQkJveFwiLHtjb25maWd1cmFibGU6ITEsd3JpdGVhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBufSxzZXQ6ZnVuY3Rpb24odCl7bj10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiUmVzb3VyY2VzXCIse3ZhbHVlOlwiMiAwIFJcIixjb25maWd1cmFibGU6ITEsd3JpdGVhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzdHJlYW1cIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsc2V0OmZ1bmN0aW9uKHQpe2U9dC50cmltKCl9LGdldDpmdW5jdGlvbigpe3JldHVybiBlfHxudWxsfX0pfTtyKGosQik7dmFyIEU9ZnVuY3Rpb24oKXtCLmNhbGwodGhpcyk7dmFyIGUsdD1bXTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIktpZHNcIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDA8dC5sZW5ndGg/dDp2b2lkIDB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJGaWVsZHNcIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJEQVwiLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtpZihlKXJldHVyblwiKFwiK2UrXCIpXCJ9LHNldDpmdW5jdGlvbih0KXtlPXR9fSl9O3IoRSxCKTt2YXIgTT1mdW5jdGlvbiB0KCl7Qi5jYWxsKHRoaXMpO3ZhciBlPTQ7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJGXCIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiBlfSxzZXQ6ZnVuY3Rpb24odCl7aWYoaXNOYU4odCkpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIFwiJyt0KydcIiBmb3IgYXR0cmlidXRlIEYgc3VwcGxpZWQuJyk7ZT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic2hvd1doZW5QcmludGVkXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKGIoZSwzKSl9LHNldDpmdW5jdGlvbih0KXshMD09PUJvb2xlYW4odCk/dGhpcy5GPXgoZSwzKTp0aGlzLkY9TihlLDMpfX0pO3ZhciBuPTA7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJGZlwiLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sc2V0OmZ1bmN0aW9uKHQpe2lmKGlzTmFOKHQpKXRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBcIicrdCsnXCIgZm9yIGF0dHJpYnV0ZSBGZiBzdXBwbGllZC4nKTtuPXR9fSk7dmFyIHI9W107T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJSZWN0XCIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExLGdldDpmdW5jdGlvbigpe2lmKDAhPT1yLmxlbmd0aClyZXR1cm4gcn0sc2V0OmZ1bmN0aW9uKHQpe3I9dm9pZCAwIT09dD90OltdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwieFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hcnx8aXNOYU4oclswXSk/MDp3KHJbMF0pfSxzZXQ6ZnVuY3Rpb24odCl7clswXT12KHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwieVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hcnx8aXNOYU4oclsxXSk/MDp3KHJbMV0pfSxzZXQ6ZnVuY3Rpb24odCl7clsxXT12KHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwid2lkdGhcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIXJ8fGlzTmFOKHJbMl0pPzA6dyhyWzJdKX0sc2V0OmZ1bmN0aW9uKHQpe3JbMl09dih0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImhlaWdodFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hcnx8aXNOYU4oclszXSk/MDp3KHJbM10pfSxzZXQ6ZnVuY3Rpb24odCl7clszXT12KHQpfX0pO3ZhciBpPVwiXCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJGVFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sc2V0OmZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlXCIvQnRuXCI6Y2FzZVwiL1R4XCI6Y2FzZVwiL0NoXCI6Y2FzZVwiL1NpZ1wiOmk9dDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBcIicrdCsnXCIgZm9yIGF0dHJpYnV0ZSBGVCBzdXBwbGllZC4nKX19fSk7dmFyIG89bnVsbDtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIlRcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7aWYoIW98fG8ubGVuZ3RoPDEpe2lmKHRoaXMgaW5zdGFuY2VvZiBIKXJldHVybjtvPVwiRmllbGRPYmplY3RcIit0LkZpZWxkTnVtKyt9cmV0dXJuXCIoXCIrUyhvKStcIilcIn0sc2V0OmZ1bmN0aW9uKHQpe289dC50b1N0cmluZygpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZmllbGROYW1lXCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvfSxzZXQ6ZnVuY3Rpb24odCl7bz10fX0pO3ZhciBhPVwiaGVsdmV0aWNhXCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJmb250TmFtZVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sc2V0OmZ1bmN0aW9uKHQpe2E9dH19KTt2YXIgcz1cIm5vcm1hbFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZm9udFN0eWxlXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzfSxzZXQ6ZnVuY3Rpb24odCl7cz10fX0pO3ZhciBsPTA7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJmb250U2l6ZVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdyhsKX0sc2V0OmZ1bmN0aW9uKHQpe2w9dih0KX19KTt2YXIgaD01MDtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIm1heEZvbnRTaXplXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB3KGgpfSxzZXQ6ZnVuY3Rpb24odCl7aD12KHQpfX0pO3ZhciB1PVwiYmxhY2tcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNvbG9yXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1fSxzZXQ6ZnVuY3Rpb24odCl7dT10fX0pO3ZhciBjPVwiL0YxIDAgVGYgMCBnXCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJEQVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtpZighKCFjfHx0aGlzIGluc3RhbmNlb2YgSHx8dGhpcyBpbnN0YW5jZW9mIFYpKXJldHVybiBDKGMpfSxzZXQ6ZnVuY3Rpb24odCl7dD10LnRvU3RyaW5nKCksYz10fX0pO3ZhciBmPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJEVlwiLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtpZihmKXJldHVybiB0aGlzIGluc3RhbmNlb2YgRD09ITE/QyhmKTpmfSxzZXQ6ZnVuY3Rpb24odCl7dD10LnRvU3RyaW5nKCksZj10aGlzIGluc3RhbmNlb2YgRD09ITE/XCIoXCI9PT10LnN1YnN0cigwLDEpP3kodC5zdWJzdHIoMSx0Lmxlbmd0aC0yKSk6eSh0KTp0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZGVmYXVsdFZhbHVlXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgRD09ITA/eShmLnN1YnN0cigxLGYubGVuZ3RoLTEpKTpmfSxzZXQ6ZnVuY3Rpb24odCl7dD10LnRvU3RyaW5nKCksZj10aGlzIGluc3RhbmNlb2YgRD09ITA/XCIvXCIrdDp0fX0pO3ZhciBwPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJWXCIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExLGdldDpmdW5jdGlvbigpe2lmKHApcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBEPT0hMT9DKHApOnB9LHNldDpmdW5jdGlvbih0KXt0PXQudG9TdHJpbmcoKSxwPXRoaXMgaW5zdGFuY2VvZiBEPT0hMT9cIihcIj09PXQuc3Vic3RyKDAsMSk/eSh0LnN1YnN0cigxLHQubGVuZ3RoLTIpKTp5KHQpOnR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ2YWx1ZVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIEQ9PSEwP3kocC5zdWJzdHIoMSxwLmxlbmd0aC0xKSk6cH0sc2V0OmZ1bmN0aW9uKHQpe3Q9dC50b1N0cmluZygpLHA9dGhpcyBpbnN0YW5jZW9mIEQ9PSEwP1wiL1wiK3Q6dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImhhc0Fubm90YXRpb25cIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUmVjdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIlR5cGVcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzQW5ub3RhdGlvbj9cIi9Bbm5vdFwiOm51bGx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJTdWJ0eXBlXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0Fubm90YXRpb24/XCIvV2lkZ2V0XCI6bnVsbH19KTt2YXIgZCxnPSExO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaGFzQXBwZWFyYW5jZVN0cmVhbVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0ZWFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGd9LHNldDpmdW5jdGlvbih0KXt0PUJvb2xlYW4odCksZz10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicGFnZVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0ZWFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7aWYoZClyZXR1cm4gZH0sc2V0OmZ1bmN0aW9uKHQpe2Q9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInJlYWRPbmx5XCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKGIodGhpcy5GZiwxKSl9LHNldDpmdW5jdGlvbih0KXshMD09PUJvb2xlYW4odCk/dGhpcy5GZj14KHRoaXMuRmYsMSk6dGhpcy5GZj1OKHRoaXMuRmYsMSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJyZXF1aXJlZFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbihiKHRoaXMuRmYsMikpfSxzZXQ6ZnVuY3Rpb24odCl7ITA9PT1Cb29sZWFuKHQpP3RoaXMuRmY9eCh0aGlzLkZmLDIpOnRoaXMuRmY9Tih0aGlzLkZmLDIpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibm9FeHBvcnRcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4oYih0aGlzLkZmLDMpKX0sc2V0OmZ1bmN0aW9uKHQpeyEwPT09Qm9vbGVhbih0KT90aGlzLkZmPXgodGhpcy5GZiwzKTp0aGlzLkZmPU4odGhpcy5GZiwzKX19KTt2YXIgbT1udWxsO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiUVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtpZihudWxsIT09bSlyZXR1cm4gbX0sc2V0OmZ1bmN0aW9uKHQpe2lmKC0xPT09WzAsMSwyXS5pbmRleE9mKHQpKXRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBcIicrdCsnXCIgZm9yIGF0dHJpYnV0ZSBRIHN1cHBsaWVkLicpO209dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInRleHRBbGlnblwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1cImxlZnRcIjtzd2l0Y2gobSl7Y2FzZSAwOmRlZmF1bHQ6dD1cImxlZnRcIjticmVhaztjYXNlIDE6dD1cImNlbnRlclwiO2JyZWFrO2Nhc2UgMjp0PVwicmlnaHRcIn1yZXR1cm4gdH0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsc2V0OmZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlXCJyaWdodFwiOmNhc2UgMjptPTI7YnJlYWs7Y2FzZVwiY2VudGVyXCI6Y2FzZSAxOm09MTticmVhaztjYXNlXCJsZWZ0XCI6Y2FzZSAwOmRlZmF1bHQ6bT0wfX19KX07cihNLEIpO3ZhciBPPWZ1bmN0aW9uKCl7TS5jYWxsKHRoaXMpLHRoaXMuRlQ9XCIvQ2hcIix0aGlzLlY9XCIoKVwiLHRoaXMuZm9udE5hbWU9XCJ6YXBmZGluZ2JhdHNcIjt2YXIgZT0wO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiVElcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGV9LHNldDpmdW5jdGlvbih0KXtlPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ0b3BJbmRleFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX0sc2V0OmZ1bmN0aW9uKHQpe2U9dH19KTt2YXIgcj1bXTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIk9wdFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSShyKX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlLG47bj1bXSxcInN0cmluZ1wiPT10eXBlb2YoZT10KSYmKG49ZnVuY3Rpb24odCxlLG4pe258fChuPTEpO2Zvcih2YXIgcixpPVtdO3I9ZS5leGVjKHQpOylpLnB1c2gocltuXSk7cmV0dXJuIGl9KGUsL1xcKCguKj8pXFwpL2cpKSxyPW59fSksdGhpcy5nZXRPcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHJ9LHRoaXMuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXtyPXQsdGhpcy5zb3J0JiZyLnNvcnQoKX0sdGhpcy5hZGRPcHRpb249ZnVuY3Rpb24odCl7dD0odD10fHxcIlwiKS50b1N0cmluZygpLHIucHVzaCh0KSx0aGlzLnNvcnQmJnIuc29ydCgpfSx0aGlzLnJlbW92ZU9wdGlvbj1mdW5jdGlvbih0LGUpe2ZvcihlPWV8fCExLHQ9KHQ9dHx8XCJcIikudG9TdHJpbmcoKTstMSE9PXIuaW5kZXhPZih0KSYmKHIuc3BsaWNlKHIuaW5kZXhPZih0KSwxKSwhMSE9PWUpOyk7fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNvbWJvXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKGIodGhpcy5GZiwxOCkpfSxzZXQ6ZnVuY3Rpb24odCl7ITA9PT1Cb29sZWFuKHQpP3RoaXMuRmY9eCh0aGlzLkZmLDE4KTp0aGlzLkZmPU4odGhpcy5GZiwxOCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJlZGl0XCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKGIodGhpcy5GZiwxOSkpfSxzZXQ6ZnVuY3Rpb24odCl7ITA9PT10aGlzLmNvbWJvJiYoITA9PT1Cb29sZWFuKHQpP3RoaXMuRmY9eCh0aGlzLkZmLDE5KTp0aGlzLkZmPU4odGhpcy5GZiwxOSkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic29ydFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbihiKHRoaXMuRmYsMjApKX0sc2V0OmZ1bmN0aW9uKHQpeyEwPT09Qm9vbGVhbih0KT8odGhpcy5GZj14KHRoaXMuRmYsMjApLHIuc29ydCgpKTp0aGlzLkZmPU4odGhpcy5GZiwyMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJtdWx0aVNlbGVjdFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbihiKHRoaXMuRmYsMjIpKX0sc2V0OmZ1bmN0aW9uKHQpeyEwPT09Qm9vbGVhbih0KT90aGlzLkZmPXgodGhpcy5GZiwyMik6dGhpcy5GZj1OKHRoaXMuRmYsMjIpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZG9Ob3RTcGVsbENoZWNrXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKGIodGhpcy5GZiwyMykpfSxzZXQ6ZnVuY3Rpb24odCl7ITA9PT1Cb29sZWFuKHQpP3RoaXMuRmY9eCh0aGlzLkZmLDIzKTp0aGlzLkZmPU4odGhpcy5GZiwyMyl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjb21taXRPblNlbENoYW5nZVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbihiKHRoaXMuRmYsMjcpKX0sc2V0OmZ1bmN0aW9uKHQpeyEwPT09Qm9vbGVhbih0KT90aGlzLkZmPXgodGhpcy5GZiwyNyk6dGhpcy5GZj1OKHRoaXMuRmYsMjcpfX0pLHRoaXMuaGFzQXBwZWFyYW5jZVN0cmVhbT0hMX07cihPLE0pO3ZhciBxPWZ1bmN0aW9uKCl7Ty5jYWxsKHRoaXMpLHRoaXMuZm9udE5hbWU9XCJoZWx2ZXRpY2FcIix0aGlzLmNvbWJvPSExfTtyKHEsTyk7dmFyIFQ9ZnVuY3Rpb24oKXtxLmNhbGwodGhpcyksdGhpcy5jb21ibz0hMH07cihULHEpO3ZhciBSPWZ1bmN0aW9uKCl7VC5jYWxsKHRoaXMpLHRoaXMuZWRpdD0hMH07cihSLFQpO3ZhciBEPWZ1bmN0aW9uKCl7TS5jYWxsKHRoaXMpLHRoaXMuRlQ9XCIvQnRuXCIsT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJub1RvZ2dsZVRvT2ZmXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKGIodGhpcy5GZiwxNSkpfSxzZXQ6ZnVuY3Rpb24odCl7ITA9PT1Cb29sZWFuKHQpP3RoaXMuRmY9eCh0aGlzLkZmLDE1KTp0aGlzLkZmPU4odGhpcy5GZiwxNSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJyYWRpb1wiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbihiKHRoaXMuRmYsMTYpKX0sc2V0OmZ1bmN0aW9uKHQpeyEwPT09Qm9vbGVhbih0KT90aGlzLkZmPXgodGhpcy5GZiwxNik6dGhpcy5GZj1OKHRoaXMuRmYsMTYpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicHVzaEJ1dHRvblwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbihiKHRoaXMuRmYsMTcpKX0sc2V0OmZ1bmN0aW9uKHQpeyEwPT09Qm9vbGVhbih0KT90aGlzLkZmPXgodGhpcy5GZiwxNyk6dGhpcy5GZj1OKHRoaXMuRmYsMTcpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicmFkaW9Jc1VuaXNvblwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbihiKHRoaXMuRmYsMjYpKX0sc2V0OmZ1bmN0aW9uKHQpeyEwPT09Qm9vbGVhbih0KT90aGlzLkZmPXgodGhpcy5GZiwyNik6dGhpcy5GZj1OKHRoaXMuRmYsMjYpfX0pO3ZhciBlLG49e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJNS1wiLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtpZigwIT09T2JqZWN0LmtleXMobikubGVuZ3RoKXt2YXIgdCxlPVtdO2Zvcih0IGluIGUucHVzaChcIjw8XCIpLG4pZS5wdXNoKFwiL1wiK3QrXCIgKFwiK25bdF0rXCIpXCIpO3JldHVybiBlLnB1c2goXCI+PlwiKSxlLmpvaW4oXCJcXG5cIil9fSxzZXQ6ZnVuY3Rpb24odCl7XCJvYmplY3RcIj09PXNlKHQpJiYobj10KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNhcHRpb25cIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uQ0F8fFwiXCJ9LHNldDpmdW5jdGlvbih0KXtcInN0cmluZ1wiPT10eXBlb2YgdCYmKG4uQ0E9dCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJBU1wiLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX0sc2V0OmZ1bmN0aW9uKHQpe2U9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImFwcGVhcmFuY2VTdGF0ZVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5zdWJzdHIoMSxlLmxlbmd0aC0xKX0sc2V0OmZ1bmN0aW9uKHQpe2U9XCIvXCIrdH19KX07cihELE0pO3ZhciBVPWZ1bmN0aW9uKCl7RC5jYWxsKHRoaXMpLHRoaXMucHVzaEJ1dHRvbj0hMH07cihVLEQpO3ZhciB6PWZ1bmN0aW9uKCl7RC5jYWxsKHRoaXMpLHRoaXMucmFkaW89ITAsdGhpcy5wdXNoQnV0dG9uPSExO3ZhciBlPVtdO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiS2lkc1wiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX0sc2V0OmZ1bmN0aW9uKHQpe2U9dm9pZCAwIT09dD90OltdfX0pfTtyKHosRCk7dmFyIEg9ZnVuY3Rpb24oKXt2YXIgZSxuO00uY2FsbCh0aGlzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIlBhcmVudFwiLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX0sc2V0OmZ1bmN0aW9uKHQpe2U9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIm9wdGlvbk5hbWVcIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG59LHNldDpmdW5jdGlvbih0KXtuPXR9fSk7dmFyIHIsaT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIk1LXCIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3ZhciB0LGU9W107Zm9yKHQgaW4gZS5wdXNoKFwiPDxcIiksaSllLnB1c2goXCIvXCIrdCtcIiAoXCIraVt0XStcIilcIik7cmV0dXJuIGUucHVzaChcIj4+XCIpLGUuam9pbihcIlxcblwiKX0sc2V0OmZ1bmN0aW9uKHQpe1wib2JqZWN0XCI9PT1zZSh0KSYmKGk9dCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjYXB0aW9uXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLkNBfHxcIlwifSxzZXQ6ZnVuY3Rpb24odCl7XCJzdHJpbmdcIj09dHlwZW9mIHQmJihpLkNBPXQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiQVNcIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9LHNldDpmdW5jdGlvbih0KXtyPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJhcHBlYXJhbmNlU3RhdGVcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuc3Vic3RyKDEsci5sZW5ndGgtMSl9LHNldDpmdW5jdGlvbih0KXtyPVwiL1wiK3R9fSksdGhpcy5vcHRpb25OYW1lPW5hbWUsdGhpcy5jYXB0aW9uPVwibFwiLHRoaXMuYXBwZWFyYW5jZVN0YXRlPVwiT2ZmXCIsdGhpcy5fQXBwZWFyYW5jZVR5cGU9WS5SYWRpb0J1dHRvbi5DaXJjbGUsdGhpcy5hcHBlYXJhbmNlU3RyZWFtQ29udGVudD10aGlzLl9BcHBlYXJhbmNlVHlwZS5jcmVhdGVBcHBlYXJhbmNlU3RyZWFtKG5hbWUpfTtyKEgsTSksei5wcm90b3R5cGUuc2V0QXBwZWFyYW5jZT1mdW5jdGlvbih0KXtpZighKFwiY3JlYXRlQXBwZWFyYW5jZVN0cmVhbVwiaW4gdCYmXCJnZXRDQVwiaW4gdCkpdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgYXNzaWduIEFwcGVhcmFuY2UgdG8gUmFkaW9CdXR0b24uIEFwcGVhcmFuY2Ugd2FzIEludmFsaWQhXCIpO2Zvcih2YXIgZSBpbiB0aGlzLktpZHMpaWYodGhpcy5LaWRzLmhhc093blByb3BlcnR5KGUpKXt2YXIgbj10aGlzLktpZHNbZV07bi5hcHBlYXJhbmNlU3RyZWFtQ29udGVudD10LmNyZWF0ZUFwcGVhcmFuY2VTdHJlYW0obi5vcHRpb25OYW1lKSxuLmNhcHRpb249dC5nZXRDQSgpfX0sei5wcm90b3R5cGUuY3JlYXRlT3B0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuS2lkcy5sZW5ndGg7dmFyIGU9bmV3IEg7cmV0dXJuIGUuUGFyZW50PXRoaXMsZS5vcHRpb25OYW1lPXQsdGhpcy5LaWRzLnB1c2goZSksSi5jYWxsKHRoaXMsZSksZX07dmFyIFc9ZnVuY3Rpb24oKXtELmNhbGwodGhpcyksdGhpcy5mb250TmFtZT1cInphcGZkaW5nYmF0c1wiLHRoaXMuY2FwdGlvbj1cIjNcIix0aGlzLmFwcGVhcmFuY2VTdGF0ZT1cIk9uXCIsdGhpcy52YWx1ZT1cIk9uXCIsdGhpcy50ZXh0QWxpZ249XCJjZW50ZXJcIix0aGlzLmFwcGVhcmFuY2VTdHJlYW1Db250ZW50PVkuQ2hlY2tCb3guY3JlYXRlQXBwZWFyYW5jZVN0cmVhbSgpfTtyKFcsRCk7dmFyIFY9ZnVuY3Rpb24oKXtNLmNhbGwodGhpcyksdGhpcy5GVD1cIi9UeFwiLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibXVsdGlsaW5lXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKGIodGhpcy5GZiwxMykpfSxzZXQ6ZnVuY3Rpb24odCl7ITA9PT1Cb29sZWFuKHQpP3RoaXMuRmY9eCh0aGlzLkZmLDEzKTp0aGlzLkZmPU4odGhpcy5GZiwxMyl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJmaWxlU2VsZWN0XCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKGIodGhpcy5GZiwyMSkpfSxzZXQ6ZnVuY3Rpb24odCl7ITA9PT1Cb29sZWFuKHQpP3RoaXMuRmY9eCh0aGlzLkZmLDIxKTp0aGlzLkZmPU4odGhpcy5GZiwyMSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJkb05vdFNwZWxsQ2hlY2tcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4oYih0aGlzLkZmLDIzKSl9LHNldDpmdW5jdGlvbih0KXshMD09PUJvb2xlYW4odCk/dGhpcy5GZj14KHRoaXMuRmYsMjMpOnRoaXMuRmY9Tih0aGlzLkZmLDIzKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImRvTm90U2Nyb2xsXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKGIodGhpcy5GZiwyNCkpfSxzZXQ6ZnVuY3Rpb24odCl7ITA9PT1Cb29sZWFuKHQpP3RoaXMuRmY9eCh0aGlzLkZmLDI0KTp0aGlzLkZmPU4odGhpcy5GZiwyNCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjb21iXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKGIodGhpcy5GZiwyNSkpfSxzZXQ6ZnVuY3Rpb24odCl7ITA9PT1Cb29sZWFuKHQpP3RoaXMuRmY9eCh0aGlzLkZmLDI1KTp0aGlzLkZmPU4odGhpcy5GZiwyNSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJyaWNoVGV4dFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbihiKHRoaXMuRmYsMjYpKX0sc2V0OmZ1bmN0aW9uKHQpeyEwPT09Qm9vbGVhbih0KT90aGlzLkZmPXgodGhpcy5GZiwyNik6dGhpcy5GZj1OKHRoaXMuRmYsMjYpfX0pO3ZhciBlPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJNYXhMZW5cIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGV9LHNldDpmdW5jdGlvbih0KXtlPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJtYXhMZW5ndGhcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGV9LHNldDpmdW5jdGlvbih0KXtOdW1iZXIuaXNJbnRlZ2VyKHQpJiYoZT10KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImhhc0FwcGVhcmFuY2VTdHJlYW1cIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVnx8dGhpcy5EVn19KX07cihWLE0pO3ZhciBHPWZ1bmN0aW9uKCl7Vi5jYWxsKHRoaXMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicGFzc3dvcmRcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4oYih0aGlzLkZmLDE0KSl9LHNldDpmdW5jdGlvbih0KXshMD09PUJvb2xlYW4odCk/dGhpcy5GZj14KHRoaXMuRmYsMTQpOnRoaXMuRmY9Tih0aGlzLkZmLDE0KX19KSx0aGlzLnBhc3N3b3JkPSEwfTtyKEcsVik7dmFyIFk9e0NoZWNrQm94OntjcmVhdGVBcHBlYXJhbmNlU3RyZWFtOmZ1bmN0aW9uKCl7cmV0dXJue046e09uOlkuQ2hlY2tCb3guWWVzTm9ybWFsfSxEOntPbjpZLkNoZWNrQm94Llllc1B1c2hEb3duLE9mZjpZLkNoZWNrQm94Lk9mZlB1c2hEb3dufX19LFllc1B1c2hEb3duOmZ1bmN0aW9uKHQpe3ZhciBlPWwodCksbj1bXSxyPUEuaW50ZXJuYWwuZ2V0Rm9udCh0LmZvbnROYW1lLHQuZm9udFN0eWxlKS5pZCxpPUEuX19wcml2YXRlX18uZW5jb2RlQ29sb3JTdHJpbmcodC5jb2xvciksbz1oKHQsdC5jYXB0aW9uKTtyZXR1cm4gbi5wdXNoKFwiMC43NDkwMjMgZ1wiKSxuLnB1c2goXCIwIDAgXCIrXyhZLmludGVybmFsLmdldFdpZHRoKHQpKStcIiBcIitfKFkuaW50ZXJuYWwuZ2V0SGVpZ2h0KHQpKStcIiByZVwiKSxuLnB1c2goXCJmXCIpLG4ucHVzaChcIkJNQ1wiKSxuLnB1c2goXCJxXCIpLG4ucHVzaChcIjAgMCAxIHJnXCIpLG4ucHVzaChcIi9cIityK1wiIFwiK18oby5mb250U2l6ZSkrXCIgVGYgXCIraSksbi5wdXNoKFwiQlRcIiksbi5wdXNoKG8udGV4dCksbi5wdXNoKFwiRVRcIiksbi5wdXNoKFwiUVwiKSxuLnB1c2goXCJFTUNcIiksZS5zdHJlYW09bi5qb2luKFwiXFxuXCIpLGV9LFllc05vcm1hbDpmdW5jdGlvbih0KXt2YXIgZT1sKHQpLG49QS5pbnRlcm5hbC5nZXRGb250KHQuZm9udE5hbWUsdC5mb250U3R5bGUpLmlkLHI9QS5fX3ByaXZhdGVfXy5lbmNvZGVDb2xvclN0cmluZyh0LmNvbG9yKSxpPVtdLG89WS5pbnRlcm5hbC5nZXRIZWlnaHQodCksYT1ZLmludGVybmFsLmdldFdpZHRoKHQpLHM9aCh0LHQuY2FwdGlvbik7cmV0dXJuIGkucHVzaChcIjEgZ1wiKSxpLnB1c2goXCIwIDAgXCIrXyhhKStcIiBcIitfKG8pK1wiIHJlXCIpLGkucHVzaChcImZcIiksaS5wdXNoKFwicVwiKSxpLnB1c2goXCIwIDAgMSByZ1wiKSxpLnB1c2goXCIwIDAgXCIrXyhhLTEpK1wiIFwiK18oby0xKStcIiByZVwiKSxpLnB1c2goXCJXXCIpLGkucHVzaChcIm5cIiksaS5wdXNoKFwiMCBnXCIpLGkucHVzaChcIkJUXCIpLGkucHVzaChcIi9cIituK1wiIFwiK18ocy5mb250U2l6ZSkrXCIgVGYgXCIrciksaS5wdXNoKHMudGV4dCksaS5wdXNoKFwiRVRcIiksaS5wdXNoKFwiUVwiKSxlLnN0cmVhbT1pLmpvaW4oXCJcXG5cIiksZX0sT2ZmUHVzaERvd246ZnVuY3Rpb24odCl7dmFyIGU9bCh0KSxuPVtdO3JldHVybiBuLnB1c2goXCIwLjc0OTAyMyBnXCIpLG4ucHVzaChcIjAgMCBcIitfKFkuaW50ZXJuYWwuZ2V0V2lkdGgodCkpK1wiIFwiK18oWS5pbnRlcm5hbC5nZXRIZWlnaHQodCkpK1wiIHJlXCIpLG4ucHVzaChcImZcIiksZS5zdHJlYW09bi5qb2luKFwiXFxuXCIpLGV9fSxSYWRpb0J1dHRvbjp7Q2lyY2xlOntjcmVhdGVBcHBlYXJhbmNlU3RyZWFtOmZ1bmN0aW9uKHQpe3ZhciBlPXtEOntPZmY6WS5SYWRpb0J1dHRvbi5DaXJjbGUuT2ZmUHVzaERvd259LE46e319O3JldHVybiBlLk5bdF09WS5SYWRpb0J1dHRvbi5DaXJjbGUuWWVzTm9ybWFsLGUuRFt0XT1ZLlJhZGlvQnV0dG9uLkNpcmNsZS5ZZXNQdXNoRG93bixlfSxnZXRDQTpmdW5jdGlvbigpe3JldHVyblwibFwifSxZZXNOb3JtYWw6ZnVuY3Rpb24odCl7dmFyIGU9bCh0KSxuPVtdLHI9WS5pbnRlcm5hbC5nZXRXaWR0aCh0KTw9WS5pbnRlcm5hbC5nZXRIZWlnaHQodCk/WS5pbnRlcm5hbC5nZXRXaWR0aCh0KS80OlkuaW50ZXJuYWwuZ2V0SGVpZ2h0KHQpLzQ7cj1OdW1iZXIoKC45KnIpLnRvRml4ZWQoNSkpO3ZhciBpPVkuaW50ZXJuYWwuQmV6aWVyX0Msbz1OdW1iZXIoKHIqaSkudG9GaXhlZCg1KSk7cmV0dXJuIG4ucHVzaChcInFcIiksbi5wdXNoKFwiMSAwIDAgMSBcIitzKFkuaW50ZXJuYWwuZ2V0V2lkdGgodCkvMikrXCIgXCIrcyhZLmludGVybmFsLmdldEhlaWdodCh0KS8yKStcIiBjbVwiKSxuLnB1c2gocitcIiAwIG1cIiksbi5wdXNoKHIrXCIgXCIrbytcIiBcIitvK1wiIFwiK3IrXCIgMCBcIityK1wiIGNcIiksbi5wdXNoKFwiLVwiK28rXCIgXCIrcitcIiAtXCIrcitcIiBcIitvK1wiIC1cIityK1wiIDAgY1wiKSxuLnB1c2goXCItXCIrcitcIiAtXCIrbytcIiAtXCIrbytcIiAtXCIrcitcIiAwIC1cIityK1wiIGNcIiksbi5wdXNoKG8rXCIgLVwiK3IrXCIgXCIrcitcIiAtXCIrbytcIiBcIityK1wiIDAgY1wiKSxuLnB1c2goXCJmXCIpLG4ucHVzaChcIlFcIiksZS5zdHJlYW09bi5qb2luKFwiXFxuXCIpLGV9LFllc1B1c2hEb3duOmZ1bmN0aW9uKHQpe3ZhciBlPWwodCksbj1bXSxyPVkuaW50ZXJuYWwuZ2V0V2lkdGgodCk8PVkuaW50ZXJuYWwuZ2V0SGVpZ2h0KHQpP1kuaW50ZXJuYWwuZ2V0V2lkdGgodCkvNDpZLmludGVybmFsLmdldEhlaWdodCh0KS80LGk9KHI9TnVtYmVyKCguOSpyKS50b0ZpeGVkKDUpKSxOdW1iZXIoKDIqcikudG9GaXhlZCg1KSkpLG89TnVtYmVyKChpKlkuaW50ZXJuYWwuQmV6aWVyX0MpLnRvRml4ZWQoNSkpLGE9TnVtYmVyKChyKlkuaW50ZXJuYWwuQmV6aWVyX0MpLnRvRml4ZWQoNSkpO3JldHVybiBuLnB1c2goXCIwLjc0OTAyMyBnXCIpLG4ucHVzaChcInFcIiksbi5wdXNoKFwiMSAwIDAgMSBcIitzKFkuaW50ZXJuYWwuZ2V0V2lkdGgodCkvMikrXCIgXCIrcyhZLmludGVybmFsLmdldEhlaWdodCh0KS8yKStcIiBjbVwiKSxuLnB1c2goaStcIiAwIG1cIiksbi5wdXNoKGkrXCIgXCIrbytcIiBcIitvK1wiIFwiK2krXCIgMCBcIitpK1wiIGNcIiksbi5wdXNoKFwiLVwiK28rXCIgXCIraStcIiAtXCIraStcIiBcIitvK1wiIC1cIitpK1wiIDAgY1wiKSxuLnB1c2goXCItXCIraStcIiAtXCIrbytcIiAtXCIrbytcIiAtXCIraStcIiAwIC1cIitpK1wiIGNcIiksbi5wdXNoKG8rXCIgLVwiK2krXCIgXCIraStcIiAtXCIrbytcIiBcIitpK1wiIDAgY1wiKSxuLnB1c2goXCJmXCIpLG4ucHVzaChcIlFcIiksbi5wdXNoKFwiMCBnXCIpLG4ucHVzaChcInFcIiksbi5wdXNoKFwiMSAwIDAgMSBcIitzKFkuaW50ZXJuYWwuZ2V0V2lkdGgodCkvMikrXCIgXCIrcyhZLmludGVybmFsLmdldEhlaWdodCh0KS8yKStcIiBjbVwiKSxuLnB1c2gocitcIiAwIG1cIiksbi5wdXNoKHIrXCIgXCIrYStcIiBcIithK1wiIFwiK3IrXCIgMCBcIityK1wiIGNcIiksbi5wdXNoKFwiLVwiK2ErXCIgXCIrcitcIiAtXCIrcitcIiBcIithK1wiIC1cIityK1wiIDAgY1wiKSxuLnB1c2goXCItXCIrcitcIiAtXCIrYStcIiAtXCIrYStcIiAtXCIrcitcIiAwIC1cIityK1wiIGNcIiksbi5wdXNoKGErXCIgLVwiK3IrXCIgXCIrcitcIiAtXCIrYStcIiBcIityK1wiIDAgY1wiKSxuLnB1c2goXCJmXCIpLG4ucHVzaChcIlFcIiksZS5zdHJlYW09bi5qb2luKFwiXFxuXCIpLGV9LE9mZlB1c2hEb3duOmZ1bmN0aW9uKHQpe3ZhciBlPWwodCksbj1bXSxyPVkuaW50ZXJuYWwuZ2V0V2lkdGgodCk8PVkuaW50ZXJuYWwuZ2V0SGVpZ2h0KHQpP1kuaW50ZXJuYWwuZ2V0V2lkdGgodCkvNDpZLmludGVybmFsLmdldEhlaWdodCh0KS80LGk9KHI9TnVtYmVyKCguOSpyKS50b0ZpeGVkKDUpKSxOdW1iZXIoKDIqcikudG9GaXhlZCg1KSkpLG89TnVtYmVyKChpKlkuaW50ZXJuYWwuQmV6aWVyX0MpLnRvRml4ZWQoNSkpO3JldHVybiBuLnB1c2goXCIwLjc0OTAyMyBnXCIpLG4ucHVzaChcInFcIiksbi5wdXNoKFwiMSAwIDAgMSBcIitzKFkuaW50ZXJuYWwuZ2V0V2lkdGgodCkvMikrXCIgXCIrcyhZLmludGVybmFsLmdldEhlaWdodCh0KS8yKStcIiBjbVwiKSxuLnB1c2goaStcIiAwIG1cIiksbi5wdXNoKGkrXCIgXCIrbytcIiBcIitvK1wiIFwiK2krXCIgMCBcIitpK1wiIGNcIiksbi5wdXNoKFwiLVwiK28rXCIgXCIraStcIiAtXCIraStcIiBcIitvK1wiIC1cIitpK1wiIDAgY1wiKSxuLnB1c2goXCItXCIraStcIiAtXCIrbytcIiAtXCIrbytcIiAtXCIraStcIiAwIC1cIitpK1wiIGNcIiksbi5wdXNoKG8rXCIgLVwiK2krXCIgXCIraStcIiAtXCIrbytcIiBcIitpK1wiIDAgY1wiKSxuLnB1c2goXCJmXCIpLG4ucHVzaChcIlFcIiksZS5zdHJlYW09bi5qb2luKFwiXFxuXCIpLGV9fSxDcm9zczp7Y3JlYXRlQXBwZWFyYW5jZVN0cmVhbTpmdW5jdGlvbih0KXt2YXIgZT17RDp7T2ZmOlkuUmFkaW9CdXR0b24uQ3Jvc3MuT2ZmUHVzaERvd259LE46e319O3JldHVybiBlLk5bdF09WS5SYWRpb0J1dHRvbi5Dcm9zcy5ZZXNOb3JtYWwsZS5EW3RdPVkuUmFkaW9CdXR0b24uQ3Jvc3MuWWVzUHVzaERvd24sZX0sZ2V0Q0E6ZnVuY3Rpb24oKXtyZXR1cm5cIjhcIn0sWWVzTm9ybWFsOmZ1bmN0aW9uKHQpe3ZhciBlPWwodCksbj1bXSxyPVkuaW50ZXJuYWwuY2FsY3VsYXRlQ3Jvc3ModCk7cmV0dXJuIG4ucHVzaChcInFcIiksbi5wdXNoKFwiMSAxIFwiK18oWS5pbnRlcm5hbC5nZXRXaWR0aCh0KS0yKStcIiBcIitfKFkuaW50ZXJuYWwuZ2V0SGVpZ2h0KHQpLTIpK1wiIHJlXCIpLG4ucHVzaChcIldcIiksbi5wdXNoKFwiblwiKSxuLnB1c2goXyhyLngxLngpK1wiIFwiK18oci54MS55KStcIiBtXCIpLG4ucHVzaChfKHIueDIueCkrXCIgXCIrXyhyLngyLnkpK1wiIGxcIiksbi5wdXNoKF8oci54NC54KStcIiBcIitfKHIueDQueSkrXCIgbVwiKSxuLnB1c2goXyhyLngzLngpK1wiIFwiK18oci54My55KStcIiBsXCIpLG4ucHVzaChcInNcIiksbi5wdXNoKFwiUVwiKSxlLnN0cmVhbT1uLmpvaW4oXCJcXG5cIiksZX0sWWVzUHVzaERvd246ZnVuY3Rpb24odCl7dmFyIGU9bCh0KSxuPVkuaW50ZXJuYWwuY2FsY3VsYXRlQ3Jvc3ModCkscj1bXTtyZXR1cm4gci5wdXNoKFwiMC43NDkwMjMgZ1wiKSxyLnB1c2goXCIwIDAgXCIrXyhZLmludGVybmFsLmdldFdpZHRoKHQpKStcIiBcIitfKFkuaW50ZXJuYWwuZ2V0SGVpZ2h0KHQpKStcIiByZVwiKSxyLnB1c2goXCJmXCIpLHIucHVzaChcInFcIiksci5wdXNoKFwiMSAxIFwiK18oWS5pbnRlcm5hbC5nZXRXaWR0aCh0KS0yKStcIiBcIitfKFkuaW50ZXJuYWwuZ2V0SGVpZ2h0KHQpLTIpK1wiIHJlXCIpLHIucHVzaChcIldcIiksci5wdXNoKFwiblwiKSxyLnB1c2goXyhuLngxLngpK1wiIFwiK18obi54MS55KStcIiBtXCIpLHIucHVzaChfKG4ueDIueCkrXCIgXCIrXyhuLngyLnkpK1wiIGxcIiksci5wdXNoKF8obi54NC54KStcIiBcIitfKG4ueDQueSkrXCIgbVwiKSxyLnB1c2goXyhuLngzLngpK1wiIFwiK18obi54My55KStcIiBsXCIpLHIucHVzaChcInNcIiksci5wdXNoKFwiUVwiKSxlLnN0cmVhbT1yLmpvaW4oXCJcXG5cIiksZX0sT2ZmUHVzaERvd246ZnVuY3Rpb24odCl7dmFyIGU9bCh0KSxuPVtdO3JldHVybiBuLnB1c2goXCIwLjc0OTAyMyBnXCIpLG4ucHVzaChcIjAgMCBcIitfKFkuaW50ZXJuYWwuZ2V0V2lkdGgodCkpK1wiIFwiK18oWS5pbnRlcm5hbC5nZXRIZWlnaHQodCkpK1wiIHJlXCIpLG4ucHVzaChcImZcIiksZS5zdHJlYW09bi5qb2luKFwiXFxuXCIpLGV9fX0sY3JlYXRlRGVmYXVsdEFwcGVhcmFuY2VTdHJlYW06ZnVuY3Rpb24odCl7dmFyIGU9QS5pbnRlcm5hbC5nZXRGb250KHQuZm9udE5hbWUsdC5mb250U3R5bGUpLmlkLG49QS5fX3ByaXZhdGVfXy5lbmNvZGVDb2xvclN0cmluZyh0LmNvbG9yKTtyZXR1cm5cIi9cIitlK1wiIFwiK3QuZm9udFNpemUrXCIgVGYgXCIrbn19O1kuaW50ZXJuYWw9e0Jlemllcl9DOi41NTE5MTUwMjQ0OTQsY2FsY3VsYXRlQ3Jvc3M6ZnVuY3Rpb24odCl7dmFyIGU9WS5pbnRlcm5hbC5nZXRXaWR0aCh0KSxuPVkuaW50ZXJuYWwuZ2V0SGVpZ2h0KHQpLHI9TWF0aC5taW4oZSxuKTtyZXR1cm57eDE6e3g6KGUtcikvMix5OihuLXIpLzIrcn0seDI6e3g6KGUtcikvMityLHk6KG4tcikvMn0seDM6e3g6KGUtcikvMix5OihuLXIpLzJ9LHg0Ont4OihlLXIpLzIrcix5OihuLXIpLzIrcn19fX0sWS5pbnRlcm5hbC5nZXRXaWR0aD1mdW5jdGlvbih0KXt2YXIgZT0wO3JldHVyblwib2JqZWN0XCI9PT1zZSh0KSYmKGU9dih0LlJlY3RbMl0pKSxlfSxZLmludGVybmFsLmdldEhlaWdodD1mdW5jdGlvbih0KXt2YXIgZT0wO3JldHVyblwib2JqZWN0XCI9PT1zZSh0KSYmKGU9dih0LlJlY3RbM10pKSxlfTt2YXIgSj10LmFkZEZpZWxkPWZ1bmN0aW9uKHQpe2lmKGsuY2FsbCh0aGlzKSwhKHQgaW5zdGFuY2VvZiBNKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBqc1BERi5hZGRGaWVsZC5cIik7cmV0dXJuIGZ1bmN0aW9uKHQpe0EuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4ucHJpbnRlZE91dCYmKEEuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4ucHJpbnRlZE91dD0hMSxBLmludGVybmFsLmFjcm9mb3JtUGx1Z2luLmFjcm9Gb3JtRGljdGlvbmFyeVJvb3Q9bnVsbCksQS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi5hY3JvRm9ybURpY3Rpb25hcnlSb290fHxrLmNhbGwoQSksQS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi5hY3JvRm9ybURpY3Rpb25hcnlSb290LkZpZWxkcy5wdXNoKHQpfS5jYWxsKHRoaXMsdCksdC5wYWdlPUEuaW50ZXJuYWwuZ2V0Q3VycmVudFBhZ2VJbmZvKCkucGFnZU51bWJlcix0aGlzfTt0LmFkZEJ1dHRvbj1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgRD09ITEpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8ganNQREYuYWRkQnV0dG9uLlwiKTtyZXR1cm4gSi5jYWxsKHRoaXMsdCl9LHQuYWRkVGV4dEZpZWxkPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBWPT0hMSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBqc1BERi5hZGRUZXh0RmllbGQuXCIpO3JldHVybiBKLmNhbGwodGhpcyx0KX0sdC5hZGRDaG9pY2VGaWVsZD1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgTz09ITEpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8ganNQREYuYWRkQ2hvaWNlRmllbGQuXCIpO3JldHVybiBKLmNhbGwodGhpcyx0KX07XCJvYmplY3RcIj09c2UoZSkmJnZvaWQgMD09PWUuQ2hvaWNlRmllbGQmJnZvaWQgMD09PWUuTGlzdEJveCYmdm9pZCAwPT09ZS5Db21ib0JveCYmdm9pZCAwPT09ZS5FZGl0Qm94JiZ2b2lkIDA9PT1lLkJ1dHRvbiYmdm9pZCAwPT09ZS5QdXNoQnV0dG9uJiZ2b2lkIDA9PT1lLlJhZGlvQnV0dG9uJiZ2b2lkIDA9PT1lLkNoZWNrQm94JiZ2b2lkIDA9PT1lLlRleHRGaWVsZCYmdm9pZCAwPT09ZS5QYXNzd29yZEZpZWxkPyhlLkNob2ljZUZpZWxkPU8sZS5MaXN0Qm94PXEsZS5Db21ib0JveD1ULGUuRWRpdEJveD1SLGUuQnV0dG9uPUQsZS5QdXNoQnV0dG9uPVUsZS5SYWRpb0J1dHRvbj16LGUuQ2hlY2tCb3g9VyxlLlRleHRGaWVsZD1WLGUuUGFzc3dvcmRGaWVsZD1HLGUuQWNyb0Zvcm09e0FwcGVhcmFuY2U6WX0pOmNvbnNvbGUud2FybihcIkFjcm9Gb3JtLUNsYXNzZXMgYXJlIG5vdCBwb3B1bGF0ZWQgaW50byBnbG9iYWwtbmFtZXNwYWNlLCBiZWNhdXNlIHRoZSBjbGFzcy1OYW1lcyBleGlzdCBhbHJlYWR5LlwiKSx0LkFjcm9Gb3JtQ2hvaWNlRmllbGQ9Tyx0LkFjcm9Gb3JtTGlzdEJveD1xLHQuQWNyb0Zvcm1Db21ib0JveD1ULHQuQWNyb0Zvcm1FZGl0Qm94PVIsdC5BY3JvRm9ybUJ1dHRvbj1ELHQuQWNyb0Zvcm1QdXNoQnV0dG9uPVUsdC5BY3JvRm9ybVJhZGlvQnV0dG9uPXosdC5BY3JvRm9ybUNoZWNrQm94PVcsdC5BY3JvRm9ybVRleHRGaWVsZD1WLHQuQWNyb0Zvcm1QYXNzd29yZEZpZWxkPUcsdC5BY3JvRm9ybUFwcGVhcmFuY2U9WSx0LkFjcm9Gb3JtPXtDaG9pY2VGaWVsZDpPLExpc3RCb3g6cSxDb21ib0JveDpULEVkaXRCb3g6UixCdXR0b246RCxQdXNoQnV0dG9uOlUsUmFkaW9CdXR0b246eixDaGVja0JveDpXLFRleHRGaWVsZDpWLFBhc3N3b3JkRmllbGQ6RyxBcHBlYXJhbmNlOll9fSkoKHdpbmRvdy50bXA9bHQpLkFQSSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3d8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbCksXG4vKiogQGxpY2Vuc2VcbiAgICoganNQREYgYWRkSW1hZ2UgcGx1Z2luXG4gICAqIENvcHlyaWdodCAoYykgMjAxMiBKYXNvbiBTaWVma2VuLCBodHRwczovL2dpdGh1Yi5jb20vc2llZmtlbmovXG4gICAqICAgICAgICAgICAgICAgMjAxMyBDaHJpcyBEb3dsaW5nLCBodHRwczovL2dpdGh1Yi5jb20vZ2luZ2VyY2hyaXNcbiAgICogICAgICAgICAgICAgICAyMDEzIFRyaW5oIEhvLCBodHRwczovL2dpdGh1Yi5jb20vaW5lZWRmYXRcbiAgICogICAgICAgICAgICAgICAyMDEzIEVkd2luIEFsZWphbmRybyBQZXJleiwgaHR0cHM6Ly9naXRodWIuY29tL2VhcGFyYW5nb1xuICAgKiAgICAgICAgICAgICAgIDIwMTMgTm9yYWggU21pdGgsIGh0dHBzOi8vZ2l0aHViLmNvbS9idXJuYnVybnJvY2tldFxuICAgKiAgICAgICAgICAgICAgIDIwMTQgRGllZ28gQ2Fzb3JyYW4sIGh0dHBzOi8vZ2l0aHViLmNvbS9kaWVnb2NyXG4gICAqICAgICAgICAgICAgICAgMjAxNCBKYW1lcyBSb2JiLCBodHRwczovL2dpdGh1Yi5jb20vamFtZXNicm9iYlxuICAgKlxuICAgKiBcbiAgICovXG5mdW5jdGlvbih4KXt2YXIgTj1cImFkZEltYWdlX1wiLGw9e1BORzpbWzEzNyw4MCw3OCw3MV1dLFRJRkY6W1s3Nyw3NywwLDQyXSxbNzMsNzMsNDIsMF1dLEpQRUc6W1syNTUsMjE2LDI1NSwyMjQsdm9pZCAwLHZvaWQgMCw3NCw3MCw3Myw3MCwwXSxbMjU1LDIxNiwyNTUsMjI1LHZvaWQgMCx2b2lkIDAsNjksMTIwLDEwNSwxMDIsMCwwXV0sSlBFRzIwMDA6W1swLDAsMCwxMiwxMDYsODAsMzIsMzJdXSxHSUY4N2E6W1s3MSw3Myw3MCw1Niw1NSw5N11dLEdJRjg5YTpbWzcxLDczLDcwLDU2LDU3LDk3XV0sQk1QOltbNjYsNzddLFs2Niw2NV0sWzY3LDczXSxbNjcsODBdLFs3Myw2N10sWzgwLDg0XV19LGg9eC5nZXRJbWFnZUZpbGVUeXBlQnlJbWFnZURhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbixyO2U9ZXx8XCJVTktOT1dOXCI7dmFyIGksbyxhLHM9XCJVTktOT1dOXCI7Zm9yKGEgaW4geC5pc0FycmF5QnVmZmVyVmlldyh0KSYmKHQ9eC5hcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nKHQpKSxsKWZvcihpPWxbYV0sbj0wO248aS5sZW5ndGg7bis9MSl7Zm9yKG89ITAscj0wO3I8aVtuXS5sZW5ndGg7cis9MSlpZih2b2lkIDAhPT1pW25dW3JdJiZpW25dW3JdIT09dC5jaGFyQ29kZUF0KHIpKXtvPSExO2JyZWFrfWlmKCEwPT09byl7cz1hO2JyZWFrfX1yZXR1cm5cIlVOS05PV05cIj09PXMmJlwiVU5LTk9XTlwiIT09ZSYmKGNvbnNvbGUud2FybignRmlsZVR5cGUgb2YgSW1hZ2Ugbm90IHJlY29nbml6ZWQuIFByb2Nlc3NpbmcgaW1hZ2UgYXMgXCInK2UrJ1wiLicpLHM9ZSksc30sbj1mdW5jdGlvbiB0KGUpe2Zvcih2YXIgbj10aGlzLmludGVybmFsLm5ld09iamVjdCgpLHI9dGhpcy5pbnRlcm5hbC53cml0ZSxpPXRoaXMuaW50ZXJuYWwucHV0U3RyZWFtLG89KDAsdGhpcy5pbnRlcm5hbC5nZXRGaWx0ZXJzKSgpOy0xIT09by5pbmRleE9mKFwiRmxhdGVFbmNvZGVcIik7KW8uc3BsaWNlKG8uaW5kZXhPZihcIkZsYXRlRW5jb2RlXCIpLDEpO2Uubj1uO3ZhciBhPVtdO2lmKGEucHVzaCh7a2V5OlwiVHlwZVwiLHZhbHVlOlwiL1hPYmplY3RcIn0pLGEucHVzaCh7a2V5OlwiU3VidHlwZVwiLHZhbHVlOlwiL0ltYWdlXCJ9KSxhLnB1c2goe2tleTpcIldpZHRoXCIsdmFsdWU6ZS53fSksYS5wdXNoKHtrZXk6XCJIZWlnaHRcIix2YWx1ZTplLmh9KSxlLmNzPT09dGhpcy5jb2xvcl9zcGFjZXMuSU5ERVhFRD9hLnB1c2goe2tleTpcIkNvbG9yU3BhY2VcIix2YWx1ZTpcIlsvSW5kZXhlZCAvRGV2aWNlUkdCIFwiKyhlLnBhbC5sZW5ndGgvMy0xKStcIiBcIisoXCJzbWFza1wiaW4gZT9uKzI6bisxKStcIiAwIFJdXCJ9KTooYS5wdXNoKHtrZXk6XCJDb2xvclNwYWNlXCIsdmFsdWU6XCIvXCIrZS5jc30pLGUuY3M9PT10aGlzLmNvbG9yX3NwYWNlcy5ERVZJQ0VfQ01ZSyYmYS5wdXNoKHtrZXk6XCJEZWNvZGVcIix2YWx1ZTpcIlsxIDAgMSAwIDEgMCAxIDBdXCJ9KSksYS5wdXNoKHtrZXk6XCJCaXRzUGVyQ29tcG9uZW50XCIsdmFsdWU6ZS5icGN9KSxcImRwXCJpbiBlJiZhLnB1c2goe2tleTpcIkRlY29kZVBhcm1zXCIsdmFsdWU6XCI8PFwiK2UuZHArXCI+PlwifSksXCJ0cm5zXCJpbiBlJiZlLnRybnMuY29uc3RydWN0b3I9PUFycmF5KXtmb3IodmFyIHM9XCJcIixsPTAsaD1lLnRybnMubGVuZ3RoO2w8aDtsKyspcys9ZS50cm5zW2xdK1wiIFwiK2UudHJuc1tsXStcIiBcIjthLnB1c2goe2tleTpcIk1hc2tcIix2YWx1ZTpcIltcIitzK1wiXVwifSl9XCJzbWFza1wiaW4gZSYmYS5wdXNoKHtrZXk6XCJTTWFza1wiLHZhbHVlOm4rMStcIiAwIFJcIn0pO3ZhciB1PXZvaWQgMCE9PWUuZj9bXCIvXCIrZS5mXTp2b2lkIDA7aWYoaSh7ZGF0YTplLmRhdGEsYWRkaXRpb25hbEtleVZhbHVlczphLGFscmVhZHlBcHBsaWVkRmlsdGVyczp1fSkscihcImVuZG9ialwiKSxcInNtYXNrXCJpbiBlKXt2YXIgYz1cIi9QcmVkaWN0b3IgXCIrZS5wK1wiIC9Db2xvcnMgMSAvQml0c1BlckNvbXBvbmVudCBcIitlLmJwYytcIiAvQ29sdW1ucyBcIitlLncsZj17dzplLncsaDplLmgsY3M6XCJEZXZpY2VHcmF5XCIsYnBjOmUuYnBjLGRwOmMsZGF0YTplLnNtYXNrfTtcImZcImluIGUmJihmLmY9ZS5mKSx0LmNhbGwodGhpcyxmKX1lLmNzPT09dGhpcy5jb2xvcl9zcGFjZXMuSU5ERVhFRCYmKHRoaXMuaW50ZXJuYWwubmV3T2JqZWN0KCksaSh7ZGF0YTp0aGlzLmFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmcobmV3IFVpbnQ4QXJyYXkoZS5wYWwpKX0pLHIoXCJlbmRvYmpcIikpfSxMPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5pbnRlcm5hbC5jb2xsZWN0aW9uc1tOK1wiaW1hZ2VzXCJdO2Zvcih2YXIgZSBpbiB0KW4uY2FsbCh0aGlzLHRbZV0pfSxBPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmludGVybmFsLmNvbGxlY3Rpb25zW04rXCJpbWFnZXNcIl0sbj10aGlzLmludGVybmFsLndyaXRlO2Zvcih2YXIgciBpbiBlKW4oXCIvSVwiKyh0PWVbcl0pLmksdC5uLFwiMFwiLFwiUlwiKX0sUz1mdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB4W1wicHJvY2Vzc1wiK3QudG9VcHBlckNhc2UoKV19LF89ZnVuY3Rpb24odCl7cmV0dXJuXCJvYmplY3RcIj09PXNlKHQpJiYxPT09dC5ub2RlVHlwZX0sRj1mdW5jdGlvbih0LGUpe2lmKFwiSU1HXCI9PT10Lm5vZGVOYW1lJiZ0Lmhhc0F0dHJpYnV0ZShcInNyY1wiKSl7dmFyIG49XCJcIit0LmdldEF0dHJpYnV0ZShcInNyY1wiKTtpZigwPT09bi5pbmRleE9mKFwiZGF0YTppbWFnZS9cIikpcmV0dXJuIHVuZXNjYXBlKG4pO3ZhciByPXgubG9hZEZpbGUobik7aWYodm9pZCAwIT09cilyZXR1cm4gYnRvYShyKX1pZihcIkNBTlZBU1wiPT09dC5ub2RlTmFtZSl7dmFyIGk9dDtyZXR1cm4gdC50b0RhdGFVUkwoXCJpbWFnZS9qcGVnXCIsMSl9KGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSkud2lkdGg9dC5jbGllbnRXaWR0aHx8dC53aWR0aCxpLmhlaWdodD10LmNsaWVudEhlaWdodHx8dC5oZWlnaHQ7dmFyIG89aS5nZXRDb250ZXh0KFwiMmRcIik7aWYoIW8pdGhyb3dcImFkZEltYWdlIHJlcXVpcmVzIGNhbnZhcyB0byBiZSBzdXBwb3J0ZWQgYnkgYnJvd3Nlci5cIjtyZXR1cm4gby5kcmF3SW1hZ2UodCwwLDAsaS53aWR0aCxpLmhlaWdodCksaS50b0RhdGFVUkwoXCJwbmdcIj09KFwiXCIrZSkudG9Mb3dlckNhc2UoKT9cImltYWdlL3BuZ1wiOlwiaW1hZ2UvanBlZ1wiKX0sUD1mdW5jdGlvbih0LGUpe3ZhciBuO2lmKGUpZm9yKHZhciByIGluIGUpaWYodD09PWVbcl0uYWxpYXMpe249ZVtyXTticmVha31yZXR1cm4gbn07eC5jb2xvcl9zcGFjZXM9e0RFVklDRV9SR0I6XCJEZXZpY2VSR0JcIixERVZJQ0VfR1JBWTpcIkRldmljZUdyYXlcIixERVZJQ0VfQ01ZSzpcIkRldmljZUNNWUtcIixDQUxfR1JFWTpcIkNhbEdyYXlcIixDQUxfUkdCOlwiQ2FsUkdCXCIsTEFCOlwiTGFiXCIsSUNDX0JBU0VEOlwiSUNDQmFzZWRcIixJTkRFWEVEOlwiSW5kZXhlZFwiLFBBVFRFUk46XCJQYXR0ZXJuXCIsU0VQQVJBVElPTjpcIlNlcGFyYXRpb25cIixERVZJQ0VfTjpcIkRldmljZU5cIn0seC5kZWNvZGU9e0RDVF9ERUNPREU6XCJEQ1REZWNvZGVcIixGTEFURV9ERUNPREU6XCJGbGF0ZURlY29kZVwiLExaV19ERUNPREU6XCJMWldEZWNvZGVcIixKUFhfREVDT0RFOlwiSlBYRGVjb2RlXCIsSkJJRzJfREVDT0RFOlwiSkJJRzJEZWNvZGVcIixBU0NJSTg1X0RFQ09ERTpcIkFTQ0lJODVEZWNvZGVcIixBU0NJSV9IRVhfREVDT0RFOlwiQVNDSUlIZXhEZWNvZGVcIixSVU5fTEVOR1RIX0RFQ09ERTpcIlJ1bkxlbmd0aERlY29kZVwiLENDSVRUX0ZBWF9ERUNPREU6XCJDQ0lUVEZheERlY29kZVwifSx4LmltYWdlX2NvbXByZXNzaW9uPXtOT05FOlwiTk9ORVwiLEZBU1Q6XCJGQVNUXCIsTUVESVVNOlwiTUVESVVNXCIsU0xPVzpcIlNMT1dcIn0seC5zSGFzaENvZGU9ZnVuY3Rpb24odCl7dmFyIGUsbj0wO2lmKDA9PT0odD10fHxcIlwiKS5sZW5ndGgpcmV0dXJuIG47Zm9yKGU9MDtlPHQubGVuZ3RoO2UrKyluPShuPDw1KS1uK3QuY2hhckNvZGVBdChlKSxufD0wO3JldHVybiBufSx4LmlzU3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fSx4LnZhbGlkYXRlU3RyaW5nQXNCYXNlNjQ9ZnVuY3Rpb24odCl7KHQ9dHx8XCJcIikudG9TdHJpbmcoKS50cmltKCk7dmFyIGU9ITA7cmV0dXJuIDA9PT10Lmxlbmd0aCYmKGU9ITEpLHQubGVuZ3RoJTQhPTAmJihlPSExKSwhMT09PS9eW0EtWmEtejAtOStcXC9dKyQvLnRlc3QodC5zdWJzdHIoMCx0Lmxlbmd0aC0yKSkmJihlPSExKSwhMT09PS9eW0EtWmEtejAtOVxcL11bQS1aYS16MC05K1xcL118W0EtWmEtejAtOStcXC9dPXw9PSQvLnRlc3QodC5zdWJzdHIoLTIpKSYmKGU9ITEpLGV9LHguZXh0cmFjdEluZm9Gcm9tQmFzZTY0RGF0YVVSST1mdW5jdGlvbih0KXtyZXR1cm4vXmRhdGE6KFtcXHddKz9cXC8oW1xcd10rPykpO1xcUyo7KmJhc2U2NCwoLispJC9nLmV4ZWModCl9LHguZXh0cmFjdEltYWdlRnJvbURhdGFVcmw9ZnVuY3Rpb24odCl7dmFyIGU9KHQ9dHx8XCJcIikuc3BsaXQoXCJiYXNlNjQsXCIpLG49bnVsbDtpZigyPT09ZS5sZW5ndGgpe3ZhciByPS9eZGF0YTooXFx3KlxcL1xcdyopOyooY2hhcnNldD1bXFx3PS1dKikqOyokLy5leGVjKGVbMF0pO0FycmF5LmlzQXJyYXkocikmJihuPXttaW1lVHlwZTpyWzFdLGNoYXJzZXQ6clsyXSxkYXRhOmVbMV19KX1yZXR1cm4gbn0seC5zdXBwb3J0c0FycmF5QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheX0seC5pc0FycmF5QnVmZmVyPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5zdXBwb3J0c0FycmF5QnVmZmVyKCkmJnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcn0seC5pc0FycmF5QnVmZmVyVmlldz1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuc3VwcG9ydHNBcnJheUJ1ZmZlcigpJiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQzMkFycmF5JiYodCBpbnN0YW5jZW9mIEludDhBcnJheXx8dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OENsYW1wZWRBcnJheSYmdCBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5fHx0IGluc3RhbmNlb2YgSW50MTZBcnJheXx8dCBpbnN0YW5jZW9mIFVpbnQxNkFycmF5fHx0IGluc3RhbmNlb2YgSW50MzJBcnJheXx8dCBpbnN0YW5jZW9mIFVpbnQzMkFycmF5fHx0IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHx0IGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5KSl9LHguYmluYXJ5U3RyaW5nVG9VaW50OEFycmF5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxuPW5ldyBVaW50OEFycmF5KGUpLHI9MDtyPGU7cisrKW5bcl09dC5jaGFyQ29kZUF0KHIpO3JldHVybiBufSx4LmFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmc9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYXRvYilyZXR1cm4gYXRvYih0aGlzLmFycmF5QnVmZmVyVG9CYXNlNjQodCkpfSx4LmFycmF5QnVmZmVyVG9CYXNlNjQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49XCJcIixyPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLGk9bmV3IFVpbnQ4QXJyYXkodCksbz1pLmJ5dGVMZW5ndGgsYT1vJTMscz1vLWEsbD0wO2w8cztsKz0zKW4rPXJbKDE2NTE1MDcyJihlPWlbbF08PDE2fGlbbCsxXTw8OHxpW2wrMl0pKT4+MThdK3JbKDI1ODA0OCZlKT4+MTJdK3JbKDQwMzImZSk+PjZdK3JbNjMmZV07cmV0dXJuIDE9PWE/bis9clsoMjUyJihlPWlbc10pKT4+Ml0rclsoMyZlKTw8NF0rXCI9PVwiOjI9PWEmJihuKz1yWyg2NDUxMiYoZT1pW3NdPDw4fGlbcysxXSkpPj4xMF0rclsoMTAwOCZlKT4+NF0rclsoMTUmZSk8PDJdK1wiPVwiKSxufSx4LmNyZWF0ZUltYWdlSW5mbz1mdW5jdGlvbih0LGUsbixyLGksbyxhLHMsbCxoLHUsYyxmKXt2YXIgcD17YWxpYXM6cyx3OmUsaDpuLGNzOnIsYnBjOmksaTphLGRhdGE6dH07cmV0dXJuIG8mJihwLmY9byksbCYmKHAuZHA9bCksaCYmKHAudHJucz1oKSx1JiYocC5wYWw9dSksYyYmKHAuc21hc2s9YyksZiYmKHAucD1mKSxwfSx4LmFkZEltYWdlPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLGEscyxsKXt2YXIgaD1cIlwiO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXt2YXIgdT1vO289aSxpPXIscj1uLG49ZSxlPXV9aWYoXCJvYmplY3RcIj09PXNlKHQpJiYhXyh0KSYmXCJpbWFnZURhdGFcImluIHQpe3ZhciBjPXQ7dD1jLmltYWdlRGF0YSxlPWMuZm9ybWF0fHxlfHxcIlVOS05PV05cIixuPWMueHx8bnx8MCxyPWMueXx8cnx8MCxpPWMud3x8aSxvPWMuaHx8byxhPWMuYWxpYXN8fGEscz1jLmNvbXByZXNzaW9ufHxzLGw9Yy5yb3RhdGlvbnx8Yy5hbmdsZXx8bH12YXIgZj10aGlzLmludGVybmFsLmdldEZpbHRlcnMoKTtpZih2b2lkIDA9PT1zJiYtMSE9PWYuaW5kZXhPZihcIkZsYXRlRW5jb2RlXCIpJiYocz1cIlNMT1dcIiksXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXVuZXNjYXBlKHQpKSxpc05hTihuKXx8aXNOYU4ocikpdGhyb3cgY29uc29sZS5lcnJvcihcImpzUERGLmFkZEltYWdlOiBJbnZhbGlkIGNvb3JkaW5hdGVzXCIsYXJndW1lbnRzKSxuZXcgRXJyb3IoXCJJbnZhbGlkIGNvb3JkaW5hdGVzIHBhc3NlZCB0byBqc1BERi5hZGRJbWFnZVwiKTt2YXIgcCxkLGcsbSx5LHYsdyxiPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5pbnRlcm5hbC5jb2xsZWN0aW9uc1tOK1wiaW1hZ2VzXCJdO3JldHVybiB0fHwodGhpcy5pbnRlcm5hbC5jb2xsZWN0aW9uc1tOK1wiaW1hZ2VzXCJdPXQ9e30sdGhpcy5pbnRlcm5hbC5ldmVudHMuc3Vic2NyaWJlKFwicHV0UmVzb3VyY2VzXCIsTCksdGhpcy5pbnRlcm5hbC5ldmVudHMuc3Vic2NyaWJlKFwicHV0WG9iamVjdERpY3RcIixBKSksdH0uY2FsbCh0aGlzKTtpZighKChwPVAodCxiKSl8fChfKHQpJiYodD1GKHQsZSkpLChudWxsPT0odz1hKXx8MD09PXcubGVuZ3RoKSYmKGE9XCJzdHJpbmdcIj09dHlwZW9mKHY9dCk/eC5zSGFzaENvZGUodik6eC5pc0FycmF5QnVmZmVyVmlldyh2KT94LnNIYXNoQ29kZSh4LmFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmcodikpOm51bGwpLHA9UChhLGIpKSkpe2lmKHRoaXMuaXNTdHJpbmcodCkmJihcIlwiIT09KGg9dGhpcy5jb252ZXJ0U3RyaW5nVG9JbWFnZURhdGEodCkpP3Q9aDp2b2lkIDAhPT0oaD14LmxvYWRGaWxlKHQpKSYmKHQ9aCkpLGU9dGhpcy5nZXRJbWFnZUZpbGVUeXBlQnlJbWFnZURhdGEodCxlKSwhUyhlKSl0aHJvdyBuZXcgRXJyb3IoXCJhZGRJbWFnZSBkb2VzIG5vdCBzdXBwb3J0IGZpbGVzIG9mIHR5cGUgJ1wiK2UrXCInLCBwbGVhc2UgZW5zdXJlIHRoYXQgYSBwbHVnaW4gZm9yICdcIitlK1wiJyBzdXBwb3J0IGlzIGFkZGVkLlwiKTtpZih0aGlzLnN1cHBvcnRzQXJyYXlCdWZmZXIoKSYmKHQgaW5zdGFuY2VvZiBVaW50OEFycmF5fHwoZD10LHQ9dGhpcy5iaW5hcnlTdHJpbmdUb1VpbnQ4QXJyYXkodCkpKSwhKHA9dGhpc1tcInByb2Nlc3NcIitlLnRvVXBwZXJDYXNlKCldKHQsKHk9MCwobT1iKSYmKHk9T2JqZWN0LmtleXM/T2JqZWN0LmtleXMobSkubGVuZ3RoOmZ1bmN0aW9uKHQpe3ZhciBlPTA7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmZSsrO3JldHVybiBlfShtKSkseSksYSwoKGc9cykmJlwic3RyaW5nXCI9PXR5cGVvZiBnJiYoZz1nLnRvVXBwZXJDYXNlKCkpLGcgaW4geC5pbWFnZV9jb21wcmVzc2lvbj9nOnguaW1hZ2VfY29tcHJlc3Npb24uTk9ORSksZCkpKXRocm93IG5ldyBFcnJvcihcIkFuIHVua25vd24gZXJyb3Igb2NjdXJyZWQgd2hpbHN0IHByb2Nlc3NpbmcgdGhlIGltYWdlXCIpfXJldHVybiBmdW5jdGlvbih0LGUsbixyLGksbyxhLHMpe3ZhciBsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdHx8ZXx8KGU9dD0tOTYpLHQ8MCYmKHQ9LTEqbi53KjcyL3QvdGhpcy5pbnRlcm5hbC5zY2FsZUZhY3RvciksZTwwJiYoZT0tMSpuLmgqNzIvZS90aGlzLmludGVybmFsLnNjYWxlRmFjdG9yKSwwPT09dCYmKHQ9ZSpuLncvbi5oKSwwPT09ZSYmKGU9dCpuLmgvbi53KSxbdCxlXX0uY2FsbCh0aGlzLG4scixpKSxoPXRoaXMuaW50ZXJuYWwuZ2V0Q29vcmRpbmF0ZVN0cmluZyx1PXRoaXMuaW50ZXJuYWwuZ2V0VmVydGljYWxDb29yZGluYXRlU3RyaW5nO2lmKG49bFswXSxyPWxbMV0sYVtvXT1pLHMpe3MqPU1hdGguUEkvMTgwO3ZhciBjPU1hdGguY29zKHMpLGY9TWF0aC5zaW4ocykscD1mdW5jdGlvbih0KXtyZXR1cm4gdC50b0ZpeGVkKDQpfSxkPVtwKGMpLHAoZikscCgtMSpmKSxwKGMpLDAsMCxcImNtXCJdfXRoaXMuaW50ZXJuYWwud3JpdGUoXCJxXCIpLHM/KHRoaXMuaW50ZXJuYWwud3JpdGUoWzEsXCIwXCIsXCIwXCIsMSxoKHQpLHUoZStyKSxcImNtXCJdLmpvaW4oXCIgXCIpKSx0aGlzLmludGVybmFsLndyaXRlKGQuam9pbihcIiBcIikpLHRoaXMuaW50ZXJuYWwud3JpdGUoW2gobiksXCIwXCIsXCIwXCIsaChyKSxcIjBcIixcIjBcIixcImNtXCJdLmpvaW4oXCIgXCIpKSk6dGhpcy5pbnRlcm5hbC53cml0ZShbaChuKSxcIjBcIixcIjBcIixoKHIpLGgodCksdShlK3IpLFwiY21cIl0uam9pbihcIiBcIikpLHRoaXMuaW50ZXJuYWwud3JpdGUoXCIvSVwiK2kuaStcIiBEb1wiKSx0aGlzLmludGVybmFsLndyaXRlKFwiUVwiKX0uY2FsbCh0aGlzLG4scixpLG8scCxwLmksYixsKSx0aGlzfSx4LmNvbnZlcnRTdHJpbmdUb0ltYWdlRGF0YT1mdW5jdGlvbih0KXt2YXIgZSxuPVwiXCI7aWYodGhpcy5pc1N0cmluZyh0KSl7dmFyIHI7ZT1udWxsIT09KHI9dGhpcy5leHRyYWN0SW1hZ2VGcm9tRGF0YVVybCh0KSk/ci5kYXRhOnQ7dHJ5e249YXRvYihlKX1jYXRjaCh0KXt0aHJvdyB4LnZhbGlkYXRlU3RyaW5nQXNCYXNlNjQoZSk/bmV3IEVycm9yKFwiYXRvYi1FcnJvciBpbiBqc1BERi5jb252ZXJ0U3RyaW5nVG9JbWFnZURhdGEgXCIrdC5tZXNzYWdlKTpuZXcgRXJyb3IoXCJTdXBwbGllZCBEYXRhIGlzIG5vdCBhIHZhbGlkIGJhc2U2NC1TdHJpbmcganNQREYuY29udmVydFN0cmluZ1RvSW1hZ2VEYXRhIFwiKX19cmV0dXJuIG59O3ZhciB1PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc3ViYXJyYXkoZSxlKzUpfTt4LnByb2Nlc3NKUEVHPWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXt2YXIgYSxzPXRoaXMuZGVjb2RlLkRDVF9ERUNPREU7aWYoIXRoaXMuaXNTdHJpbmcodCkmJiF0aGlzLmlzQXJyYXlCdWZmZXIodCkmJiF0aGlzLmlzQXJyYXlCdWZmZXJWaWV3KHQpKXJldHVybiBudWxsO2lmKHRoaXMuaXNTdHJpbmcodCkmJihhPWZ1bmN0aW9uKHQpe3ZhciBlO2lmKFwiSlBFR1wiIT09aCh0KSl0aHJvdyBuZXcgRXJyb3IoXCJnZXRKcGVnU2l6ZSByZXF1aXJlcyBhIGJpbmFyeSBzdHJpbmcganBlZyBmaWxlXCIpO2Zvcih2YXIgbj0yNTYqdC5jaGFyQ29kZUF0KDQpK3QuY2hhckNvZGVBdCg1KSxyPTQsaT10Lmxlbmd0aDtyPGk7KXtpZihyKz1uLDI1NSE9PXQuY2hhckNvZGVBdChyKSl0aHJvdyBuZXcgRXJyb3IoXCJnZXRKcGVnU2l6ZSBjb3VsZCBub3QgZmluZCB0aGUgc2l6ZSBvZiB0aGUgaW1hZ2VcIik7aWYoMTkyPT09dC5jaGFyQ29kZUF0KHIrMSl8fDE5Mz09PXQuY2hhckNvZGVBdChyKzEpfHwxOTQ9PT10LmNoYXJDb2RlQXQocisxKXx8MTk1PT09dC5jaGFyQ29kZUF0KHIrMSl8fDE5Nj09PXQuY2hhckNvZGVBdChyKzEpfHwxOTc9PT10LmNoYXJDb2RlQXQocisxKXx8MTk4PT09dC5jaGFyQ29kZUF0KHIrMSl8fDE5OT09PXQuY2hhckNvZGVBdChyKzEpKXJldHVybiBlPTI1Nip0LmNoYXJDb2RlQXQocis1KSt0LmNoYXJDb2RlQXQocis2KSxbMjU2KnQuY2hhckNvZGVBdChyKzcpK3QuY2hhckNvZGVBdChyKzgpLGUsdC5jaGFyQ29kZUF0KHIrOSldO3IrPTIsbj0yNTYqdC5jaGFyQ29kZUF0KHIpK3QuY2hhckNvZGVBdChyKzEpfX0odCkpLHRoaXMuaXNBcnJheUJ1ZmZlcih0KSYmKHQ9bmV3IFVpbnQ4QXJyYXkodCkpLHRoaXMuaXNBcnJheUJ1ZmZlclZpZXcodCkmJihhPWZ1bmN0aW9uKHQpe2lmKDY1NDk2IT0odFswXTw8OHx0WzFdKSl0aHJvdyBuZXcgRXJyb3IoXCJTdXBwbGllZCBkYXRhIGlzIG5vdCBhIEpQRUdcIik7Zm9yKHZhciBlLG49dC5sZW5ndGgscj0odFs0XTw8OCkrdFs1XSxpPTQ7aTxuOyl7aWYocj0oKGU9dSh0LGkrPXIpKVsyXTw8OCkrZVszXSwoMTkyPT09ZVsxXXx8MTk0PT09ZVsxXSkmJjI1NT09PWVbMF0mJjc8cilyZXR1cm57d2lkdGg6KChlPXUodCxpKzUpKVsyXTw8OCkrZVszXSxoZWlnaHQ6KGVbMF08PDgpK2VbMV0sbnVtY29tcG9uZW50czplWzRdfTtpKz0yfXRocm93IG5ldyBFcnJvcihcImdldEpwZWdTaXplRnJvbUJ5dGVzIGNvdWxkIG5vdCBmaW5kIHRoZSBzaXplIG9mIHRoZSBpbWFnZVwiKX0odCksdD1pfHx0aGlzLmFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmcodCkpLHZvaWQgMD09PW8pc3dpdGNoKGEubnVtY29tcG9uZW50cyl7Y2FzZSAxOm89dGhpcy5jb2xvcl9zcGFjZXMuREVWSUNFX0dSQVk7YnJlYWs7Y2FzZSA0Om89dGhpcy5jb2xvcl9zcGFjZXMuREVWSUNFX0NNWUs7YnJlYWs7ZGVmYXVsdDpjYXNlIDM6bz10aGlzLmNvbG9yX3NwYWNlcy5ERVZJQ0VfUkdCfXJldHVybiB0aGlzLmNyZWF0ZUltYWdlSW5mbyh0LGEud2lkdGgsYS5oZWlnaHQsbyw4LHMsZSxuKX0seC5wcm9jZXNzSlBHPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvY2Vzc0pQRUcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx4LmdldEltYWdlUHJvcGVydGllcz1mdW5jdGlvbih0KXt2YXIgZSxuLHI9XCJcIjtpZihfKHQpJiYodD1GKHQpKSx0aGlzLmlzU3RyaW5nKHQpJiYoXCJcIiE9PShyPXRoaXMuY29udmVydFN0cmluZ1RvSW1hZ2VEYXRhKHQpKT90PXI6dm9pZCAwIT09KHI9eC5sb2FkRmlsZSh0KSkmJih0PXIpKSxuPXRoaXMuZ2V0SW1hZ2VGaWxlVHlwZUJ5SW1hZ2VEYXRhKHQpLCFTKG4pKXRocm93IG5ldyBFcnJvcihcImFkZEltYWdlIGRvZXMgbm90IHN1cHBvcnQgZmlsZXMgb2YgdHlwZSAnXCIrbitcIicsIHBsZWFzZSBlbnN1cmUgdGhhdCBhIHBsdWdpbiBmb3IgJ1wiK24rXCInIHN1cHBvcnQgaXMgYWRkZWQuXCIpO2lmKHRoaXMuc3VwcG9ydHNBcnJheUJ1ZmZlcigpJiYodCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fCh0PXRoaXMuYmluYXJ5U3RyaW5nVG9VaW50OEFycmF5KHQpKSksIShlPXRoaXNbXCJwcm9jZXNzXCIrbi50b1VwcGVyQ2FzZSgpXSh0KSkpdGhyb3cgbmV3IEVycm9yKFwiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCB3aGlsc3QgcHJvY2Vzc2luZyB0aGUgaW1hZ2VcIik7cmV0dXJue2ZpbGVUeXBlOm4sd2lkdGg6ZS53LGhlaWdodDplLmgsY29sb3JTcGFjZTplLmNzLGNvbXByZXNzaW9uTW9kZTplLmYsYml0c1BlckNvbXBvbmVudDplLmJwY319fShsdC5BUEkpLFxuLyoqXG4gICAqIEBsaWNlbnNlXG4gICAqIENvcHlyaWdodCAoYykgMjAxNCBTdGV2ZW4gU3B1bmdpbiAoVHdlbHZlVG9uZSBMTEMpICBzdGV2ZW5AdHdlbHZldG9uZS50dlxuICAgKlxuICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gICAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICAgKi9cbnQ9bHQuQVBJLGx0LkFQSS5ldmVudHMucHVzaChbXCJhZGRQYWdlXCIsZnVuY3Rpb24odCl7dGhpcy5pbnRlcm5hbC5nZXRQYWdlSW5mbyh0LnBhZ2VOdW1iZXIpLnBhZ2VDb250ZXh0LmFubm90YXRpb25zPVtdfV0pLHQuZXZlbnRzLnB1c2goW1wicHV0UGFnZVwiLGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmludGVybmFsLmdldFBhZ2VJbmZvQnlPYmpJZCh0Lm9iaklkKSxuPXQucGFnZUNvbnRleHQuYW5ub3RhdGlvbnMscj1mdW5jdGlvbih0KXtpZih2b2lkIDAhPT10JiZcIlwiIT10KXJldHVybiEwfSxpPSExLG89MDtvPG4ubGVuZ3RoJiYhaTtvKyspc3dpdGNoKChsPW5bb10pLnR5cGUpe2Nhc2VcImxpbmtcIjppZihyKGwub3B0aW9ucy51cmwpfHxyKGwub3B0aW9ucy5wYWdlTnVtYmVyKSl7aT0hMDticmVha31jYXNlXCJyZWZlcmVuY2VcIjpjYXNlXCJ0ZXh0XCI6Y2FzZVwiZnJlZXRleHRcIjppPSEwfWlmKDAhPWkpe3RoaXMuaW50ZXJuYWwud3JpdGUoXCIvQW5ub3RzIFtcIiksdGhpcy5pbnRlcm5hbC5wYWdlU2l6ZS5oZWlnaHQ7dmFyIGE9dGhpcy5pbnRlcm5hbC5nZXRDb29yZGluYXRlU3RyaW5nLHM9dGhpcy5pbnRlcm5hbC5nZXRWZXJ0aWNhbENvb3JkaW5hdGVTdHJpbmc7Zm9yKG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGw7c3dpdGNoKChsPW5bb10pLnR5cGUpe2Nhc2VcInJlZmVyZW5jZVwiOnRoaXMuaW50ZXJuYWwud3JpdGUoXCIgXCIrbC5vYmplY3Qub2JqSWQrXCIgMCBSIFwiKTticmVhaztjYXNlXCJ0ZXh0XCI6dmFyIGg9dGhpcy5pbnRlcm5hbC5uZXdBZGRpdGlvbmFsT2JqZWN0KCksdT10aGlzLmludGVybmFsLm5ld0FkZGl0aW9uYWxPYmplY3QoKSxjPWwudGl0bGV8fFwiTm90ZVwiO209XCI8PC9UeXBlIC9Bbm5vdCAvU3VidHlwZSAvVGV4dCBcIisocD1cIi9SZWN0IFtcIithKGwuYm91bmRzLngpK1wiIFwiK3MobC5ib3VuZHMueStsLmJvdW5kcy5oKStcIiBcIithKGwuYm91bmRzLngrbC5ib3VuZHMudykrXCIgXCIrcyhsLmJvdW5kcy55KStcIl0gXCIpK1wiL0NvbnRlbnRzIChcIitsLmNvbnRlbnRzK1wiKVwiLG0rPVwiIC9Qb3B1cCBcIit1Lm9iaklkK1wiIDAgUlwiLG0rPVwiIC9QIFwiK2Uub2JqSWQrXCIgMCBSXCIsbSs9XCIgL1QgKFwiK2MrXCIpID4+XCIsaC5jb250ZW50PW07dmFyIGY9aC5vYmpJZCtcIiAwIFJcIjttPVwiPDwvVHlwZSAvQW5ub3QgL1N1YnR5cGUgL1BvcHVwIFwiKyhwPVwiL1JlY3QgW1wiK2EobC5ib3VuZHMueCszMCkrXCIgXCIrcyhsLmJvdW5kcy55K2wuYm91bmRzLmgpK1wiIFwiK2EobC5ib3VuZHMueCtsLmJvdW5kcy53KzMwKStcIiBcIitzKGwuYm91bmRzLnkpK1wiXSBcIikrXCIgL1BhcmVudCBcIitmLGwub3BlbiYmKG0rPVwiIC9PcGVuIHRydWVcIiksbSs9XCIgPj5cIix1LmNvbnRlbnQ9bSx0aGlzLmludGVybmFsLndyaXRlKGgub2JqSWQsXCIwIFJcIix1Lm9iaklkLFwiMCBSXCIpO2JyZWFrO2Nhc2VcImZyZWV0ZXh0XCI6dmFyIHA9XCIvUmVjdCBbXCIrYShsLmJvdW5kcy54KStcIiBcIitzKGwuYm91bmRzLnkpK1wiIFwiK2EobC5ib3VuZHMueCtsLmJvdW5kcy53KStcIiBcIitzKGwuYm91bmRzLnkrbC5ib3VuZHMuaCkrXCJdIFwiLGQ9bC5jb2xvcnx8XCIjMDAwMDAwXCI7bT1cIjw8L1R5cGUgL0Fubm90IC9TdWJ0eXBlIC9GcmVlVGV4dCBcIitwK1wiL0NvbnRlbnRzIChcIitsLmNvbnRlbnRzK1wiKVwiLG0rPVwiIC9EUyhmb250OiBIZWx2ZXRpY2Esc2Fucy1zZXJpZiAxMi4wcHQ7IHRleHQtYWxpZ246bGVmdDsgY29sb3I6I1wiK2QrXCIpXCIsbSs9XCIgL0JvcmRlciBbMCAwIDBdXCIsbSs9XCIgPj5cIix0aGlzLmludGVybmFsLndyaXRlKG0pO2JyZWFrO2Nhc2VcImxpbmtcIjppZihsLm9wdGlvbnMubmFtZSl7dmFyIGc9dGhpcy5hbm5vdGF0aW9ucy5fbmFtZU1hcFtsLm9wdGlvbnMubmFtZV07bC5vcHRpb25zLnBhZ2VOdW1iZXI9Zy5wYWdlLGwub3B0aW9ucy50b3A9Zy55fWVsc2UgbC5vcHRpb25zLnRvcHx8KGwub3B0aW9ucy50b3A9MCk7cD1cIi9SZWN0IFtcIithKGwueCkrXCIgXCIrcyhsLnkpK1wiIFwiK2EobC54K2wudykrXCIgXCIrcyhsLnkrbC5oKStcIl0gXCI7dmFyIG09XCJcIjtpZihsLm9wdGlvbnMudXJsKW09XCI8PC9UeXBlIC9Bbm5vdCAvU3VidHlwZSAvTGluayBcIitwK1wiL0JvcmRlciBbMCAwIDBdIC9BIDw8L1MgL1VSSSAvVVJJIChcIitsLm9wdGlvbnMudXJsK1wiKSA+PlwiO2Vsc2UgaWYobC5vcHRpb25zLnBhZ2VOdW1iZXIpc3dpdGNoKG09XCI8PC9UeXBlIC9Bbm5vdCAvU3VidHlwZSAvTGluayBcIitwK1wiL0JvcmRlciBbMCAwIDBdIC9EZXN0IFtcIit0aGlzLmludGVybmFsLmdldFBhZ2VJbmZvKGwub3B0aW9ucy5wYWdlTnVtYmVyKS5vYmpJZCtcIiAwIFJcIixsLm9wdGlvbnMubWFnRmFjdG9yPWwub3B0aW9ucy5tYWdGYWN0b3J8fFwiWFlaXCIsbC5vcHRpb25zLm1hZ0ZhY3Rvcil7Y2FzZVwiRml0XCI6bSs9XCIgL0ZpdF1cIjticmVhaztjYXNlXCJGaXRIXCI6bSs9XCIgL0ZpdEggXCIrbC5vcHRpb25zLnRvcCtcIl1cIjticmVhaztjYXNlXCJGaXRWXCI6bC5vcHRpb25zLmxlZnQ9bC5vcHRpb25zLmxlZnR8fDAsbSs9XCIgL0ZpdFYgXCIrbC5vcHRpb25zLmxlZnQrXCJdXCI7YnJlYWs7Y2FzZVwiWFlaXCI6ZGVmYXVsdDp2YXIgeT1zKGwub3B0aW9ucy50b3ApO2wub3B0aW9ucy5sZWZ0PWwub3B0aW9ucy5sZWZ0fHwwLHZvaWQgMD09PWwub3B0aW9ucy56b29tJiYobC5vcHRpb25zLnpvb209MCksbSs9XCIgL1hZWiBcIitsLm9wdGlvbnMubGVmdCtcIiBcIit5K1wiIFwiK2wub3B0aW9ucy56b29tK1wiXVwifVwiXCIhPW0mJihtKz1cIiA+PlwiLHRoaXMuaW50ZXJuYWwud3JpdGUobSkpfX10aGlzLmludGVybmFsLndyaXRlKFwiXVwiKX19XSksdC5jcmVhdGVBbm5vdGF0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaW50ZXJuYWwuZ2V0Q3VycmVudFBhZ2VJbmZvKCk7c3dpdGNoKHQudHlwZSl7Y2FzZVwibGlua1wiOnRoaXMubGluayh0LmJvdW5kcy54LHQuYm91bmRzLnksdC5ib3VuZHMudyx0LmJvdW5kcy5oLHQpO2JyZWFrO2Nhc2VcInRleHRcIjpjYXNlXCJmcmVldGV4dFwiOmUucGFnZUNvbnRleHQuYW5ub3RhdGlvbnMucHVzaCh0KX19LHQubGluaz1mdW5jdGlvbih0LGUsbixyLGkpe3RoaXMuaW50ZXJuYWwuZ2V0Q3VycmVudFBhZ2VJbmZvKCkucGFnZUNvbnRleHQuYW5ub3RhdGlvbnMucHVzaCh7eDp0LHk6ZSx3Om4saDpyLG9wdGlvbnM6aSx0eXBlOlwibGlua1wifSl9LHQudGV4dFdpdGhMaW5rPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXRoaXMuZ2V0VGV4dFdpZHRoKHQpLG89dGhpcy5pbnRlcm5hbC5nZXRMaW5lSGVpZ2h0KCkvdGhpcy5pbnRlcm5hbC5zY2FsZUZhY3RvcjtyZXR1cm4gdGhpcy50ZXh0KHQsZSxuKSxuKz0uMipvLHRoaXMubGluayhlLG4tbyxpLG8sciksaX0sdC5nZXRUZXh0V2lkdGg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbnRlcm5hbC5nZXRGb250U2l6ZSgpO3JldHVybiB0aGlzLmdldFN0cmluZ1VuaXRXaWR0aCh0KSplL3RoaXMuaW50ZXJuYWwuc2NhbGVGYWN0b3J9LFxuLyoqXG4gICAqIEBsaWNlbnNlXG4gICAqIENvcHlyaWdodCAoYykgMjAxNyBBcmFzIEFiYmFzaSBcbiAgICpcbiAgICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAgKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAgICovXG5mdW5jdGlvbih0KXt2YXIgaD17MTU2OTpbNjUxNTJdLDE1NzA6WzY1MTUzLDY1MTU0XSwxNTcxOls2NTE1NSw2NTE1Nl0sMTU3MjpbNjUxNTcsNjUxNThdLDE1NzM6WzY1MTU5LDY1MTYwXSwxNTc0Ols2NTE2MSw2NTE2Miw2NTE2Myw2NTE2NF0sMTU3NTpbNjUxNjUsNjUxNjZdLDE1NzY6WzY1MTY3LDY1MTY4LDY1MTY5LDY1MTcwXSwxNTc3Ols2NTE3MSw2NTE3Ml0sMTU3ODpbNjUxNzMsNjUxNzQsNjUxNzUsNjUxNzZdLDE1Nzk6WzY1MTc3LDY1MTc4LDY1MTc5LDY1MTgwXSwxNTgwOls2NTE4MSw2NTE4Miw2NTE4Myw2NTE4NF0sMTU4MTpbNjUxODUsNjUxODYsNjUxODcsNjUxODhdLDE1ODI6WzY1MTg5LDY1MTkwLDY1MTkxLDY1MTkyXSwxNTgzOls2NTE5Myw2NTE5NF0sMTU4NDpbNjUxOTUsNjUxOTZdLDE1ODU6WzY1MTk3LDY1MTk4XSwxNTg2Ols2NTE5OSw2NTIwMF0sMTU4NzpbNjUyMDEsNjUyMDIsNjUyMDMsNjUyMDRdLDE1ODg6WzY1MjA1LDY1MjA2LDY1MjA3LDY1MjA4XSwxNTg5Ols2NTIwOSw2NTIxMCw2NTIxMSw2NTIxMl0sMTU5MDpbNjUyMTMsNjUyMTQsNjUyMTUsNjUyMTZdLDE1OTE6WzY1MjE3LDY1MjE4LDY1MjE5LDY1MjIwXSwxNTkyOls2NTIyMSw2NTIyMiw2NTIyMyw2NTIyNF0sMTU5MzpbNjUyMjUsNjUyMjYsNjUyMjcsNjUyMjhdLDE1OTQ6WzY1MjI5LDY1MjMwLDY1MjMxLDY1MjMyXSwxNjAxOls2NTIzMyw2NTIzNCw2NTIzNSw2NTIzNl0sMTYwMjpbNjUyMzcsNjUyMzgsNjUyMzksNjUyNDBdLDE2MDM6WzY1MjQxLDY1MjQyLDY1MjQzLDY1MjQ0XSwxNjA0Ols2NTI0NSw2NTI0Niw2NTI0Nyw2NTI0OF0sMTYwNTpbNjUyNDksNjUyNTAsNjUyNTEsNjUyNTJdLDE2MDY6WzY1MjUzLDY1MjU0LDY1MjU1LDY1MjU2XSwxNjA3Ols2NTI1Nyw2NTI1OCw2NTI1OSw2NTI2MF0sMTYwODpbNjUyNjEsNjUyNjJdLDE2MDk6WzY1MjYzLDY1MjY0LDY0NDg4LDY0NDg5XSwxNjEwOls2NTI2NSw2NTI2Niw2NTI2Nyw2NTI2OF0sMTY0OTpbNjQzMzYsNjQzMzddLDE2NTU6WzY0NDc3XSwxNjU3Ols2NDM1OCw2NDM1OSw2NDM2MCw2NDM2MV0sMTY1ODpbNjQzNTAsNjQzNTEsNjQzNTIsNjQzNTNdLDE2NTk6WzY0MzM4LDY0MzM5LDY0MzQwLDY0MzQxXSwxNjYyOls2NDM0Miw2NDM0Myw2NDM0NCw2NDM0NV0sMTY2MzpbNjQzNTQsNjQzNTUsNjQzNTYsNjQzNTddLDE2NjQ6WzY0MzQ2LDY0MzQ3LDY0MzQ4LDY0MzQ5XSwxNjY3Ols2NDM3NCw2NDM3NSw2NDM3Niw2NDM3N10sMTY2ODpbNjQzNzAsNjQzNzEsNjQzNzIsNjQzNzNdLDE2NzA6WzY0Mzc4LDY0Mzc5LDY0MzgwLDY0MzgxXSwxNjcxOls2NDM4Miw2NDM4Myw2NDM4NCw2NDM4NV0sMTY3MjpbNjQzOTIsNjQzOTNdLDE2NzY6WzY0Mzg4LDY0Mzg5XSwxNjc3Ols2NDM4Niw2NDM4N10sMTY3ODpbNjQzOTAsNjQzOTFdLDE2ODE6WzY0Mzk2LDY0Mzk3XSwxNjg4Ols2NDM5NCw2NDM5NV0sMTcwMDpbNjQzNjIsNjQzNjMsNjQzNjQsNjQzNjVdLDE3MDI6WzY0MzY2LDY0MzY3LDY0MzY4LDY0MzY5XSwxNzA1Ols2NDM5OCw2NDM5OSw2NDQwMCw2NDQwMV0sMTcwOTpbNjQ0NjcsNjQ0NjgsNjQ0NjksNjQ0NzBdLDE3MTE6WzY0NDAyLDY0NDAzLDY0NDA0LDY0NDA1XSwxNzEzOls2NDQxMCw2NDQxMSw2NDQxMiw2NDQxM10sMTcxNTpbNjQ0MDYsNjQ0MDcsNjQ0MDgsNjQ0MDldLDE3MjI6WzY0NDE0LDY0NDE1XSwxNzIzOls2NDQxNiw2NDQxNyw2NDQxOCw2NDQxOV0sMTcyNjpbNjQ0MjYsNjQ0MjcsNjQ0MjgsNjQ0MjldLDE3Mjg6WzY0NDIwLDY0NDIxXSwxNzI5Ols2NDQyMiw2NDQyMyw2NDQyNCw2NDQyNV0sMTczMzpbNjQ0ODAsNjQ0ODFdLDE3MzQ6WzY0NDczLDY0NDc0XSwxNzM1Ols2NDQ3MSw2NDQ3Ml0sMTczNjpbNjQ0NzUsNjQ0NzZdLDE3Mzc6WzY0NDgyLDY0NDgzXSwxNzM5Ols2NDQ3OCw2NDQ3OV0sMTc0MDpbNjQ1MDgsNjQ1MDksNjQ1MTAsNjQ1MTFdLDE3NDQ6WzY0NDg0LDY0NDg1LDY0NDg2LDY0NDg3XSwxNzQ2Ols2NDQzMCw2NDQzMV0sMTc0NzpbNjQ0MzIsNjQ0MzNdfSxhPXs2NTI0Nzp7NjUxNTQ6NjUyNjksNjUxNTY6NjUyNzEsNjUxNjA6NjUyNzMsNjUxNjY6NjUyNzV9LDY1MjQ4Ons2NTE1NDo2NTI3MCw2NTE1Njo2NTI3Miw2NTE2MDo2NTI3NCw2NTE2Njo2NTI3Nn0sNjUxNjU6ezY1MjQ3Ons2NTI0ODp7NjUyNTg6NjUwMTB9fX0sMTYxNzp7MTYxMjo2NDYwNiwxNjEzOjY0NjA3LDE2MTQ6NjQ2MDgsMTYxNTo2NDYwOSwxNjE2OjY0NjEwfX0sZT17MTYxMjo2NDYwNiwxNjEzOjY0NjA3LDE2MTQ6NjQ2MDgsMTYxNTo2NDYwOSwxNjE2OjY0NjEwfSxuPVsxNTcwLDE1NzEsMTU3MywxNTc1XTt0Ll9fYXJhYmljUGFyc2VyX189e307dmFyIHI9dC5fX2FyYWJpY1BhcnNlcl9fLmlzSW5BcmFiaWNTdWJzdGl0dXRpb25BPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT1oW3QuY2hhckNvZGVBdCgwKV19LHU9dC5fX2FyYWJpY1BhcnNlcl9fLmlzQXJhYmljTGV0dGVyPWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiYvXltcXHUwNjAwLVxcdTA2RkZcXHUwNzUwLVxcdTA3N0ZcXHUwOEEwLVxcdTA4RkZcXHVGQjUwLVxcdUZERkZcXHVGRTcwLVxcdUZFRkZdKyQvLnRlc3QodCl9LGk9dC5fX2FyYWJpY1BhcnNlcl9fLmlzQXJhYmljRW5kTGV0dGVyPWZ1bmN0aW9uKHQpe3JldHVybiB1KHQpJiZyKHQpJiZoW3QuY2hhckNvZGVBdCgwKV0ubGVuZ3RoPD0yfSxvPXQuX19hcmFiaWNQYXJzZXJfXy5pc0FyYWJpY0FsZkxldHRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdSh0KSYmMDw9bi5pbmRleE9mKHQuY2hhckNvZGVBdCgwKSl9LHM9KHQuX19hcmFiaWNQYXJzZXJfXy5hcmFiaWNMZXR0ZXJIYXNJc29sYXRlZEZvcm09ZnVuY3Rpb24odCl7cmV0dXJuIHUodCkmJnIodCkmJjE8PWhbdC5jaGFyQ29kZUF0KDApXS5sZW5ndGh9LHQuX19hcmFiaWNQYXJzZXJfXy5hcmFiaWNMZXR0ZXJIYXNGaW5hbEZvcm09ZnVuY3Rpb24odCl7cmV0dXJuIHUodCkmJnIodCkmJjI8PWhbdC5jaGFyQ29kZUF0KDApXS5sZW5ndGh9KSxsPSh0Ll9fYXJhYmljUGFyc2VyX18uYXJhYmljTGV0dGVySGFzSW5pdGlhbEZvcm09ZnVuY3Rpb24odCl7cmV0dXJuIHUodCkmJnIodCkmJjM8PWhbdC5jaGFyQ29kZUF0KDApXS5sZW5ndGh9LHQuX19hcmFiaWNQYXJzZXJfXy5hcmFiaWNMZXR0ZXJIYXNNZWRpYWxGb3JtPWZ1bmN0aW9uKHQpe3JldHVybiB1KHQpJiZyKHQpJiY0PT1oW3QuY2hhckNvZGVBdCgwKV0ubGVuZ3RofSksYz10Ll9fYXJhYmljUGFyc2VyX18ucmVzb2x2ZUxpZ2F0dXJlcz1mdW5jdGlvbih0KXt2YXIgZT0wLG49YSxyPTAsaT1cIlwiLG89MDtmb3IoZT0wO2U8dC5sZW5ndGg7ZSs9MSl2b2lkIDAhPT1uW3QuY2hhckNvZGVBdChlKV0/KG8rKyxcIm51bWJlclwiPT10eXBlb2Yobj1uW3QuY2hhckNvZGVBdChlKV0pJiYocj0tMSE9PShyPWYodC5jaGFyQXQoZSksdC5jaGFyQXQoZS1vKSx0LmNoYXJBdChlKzEpKSk/cjowLGkrPVN0cmluZy5mcm9tQ2hhckNvZGUobiksbj1hLG89MCksZT09PXQubGVuZ3RoLTEmJihuPWEsaSs9dC5jaGFyQXQoZS0oby0xKSksZS09by0xLG89MCkpOihuPWEsaSs9dC5jaGFyQXQoZS1vKSxlLT1vLG89MCk7cmV0dXJuIGl9LGY9KHQuX19hcmFiaWNQYXJzZXJfXy5pc0FyYWJpY0RpYWNyaXRpYz1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmdm9pZCAwIT09ZVt0LmNoYXJDb2RlQXQoMCldfSx0Ll9fYXJhYmljUGFyc2VyX18uZ2V0Q29ycmVjdEZvcm09ZnVuY3Rpb24odCxlLG4pe3JldHVybiB1KHQpPyExPT09cih0KT8tMTohcyh0KXx8IXUoZSkmJiF1KG4pfHwhdShuKSYmaShlKXx8aSh0KSYmIXUoZSl8fGkodCkmJm8oZSl8fGkodCkmJmkoZSk/MDpsKHQpJiZ1KGUpJiYhaShlKSYmdShuKSYmcyhuKT8zOmkodCl8fCF1KG4pPzE6MjotMX0pLHA9dC5fX2FyYWJpY1BhcnNlcl9fLnByb2Nlc3NBcmFiaWM9dC5wcm9jZXNzQXJhYmljPWZ1bmN0aW9uKHQpe3ZhciBlPTAsbj0wLHI9MCxpPVwiXCIsbz1cIlwiLGE9XCJcIixzPSh0PXR8fFwiXCIpLnNwbGl0KFwiXFxcXHMrXCIpLGw9W107Zm9yKGU9MDtlPHMubGVuZ3RoO2UrPTEpe2ZvcihsLnB1c2goXCJcIiksbj0wO248c1tlXS5sZW5ndGg7bis9MSlpPXNbZV1bbl0sbz1zW2VdW24tMV0sYT1zW2VdW24rMV0sdShpKT8ocj1mKGksbyxhKSxsW2VdKz0tMSE9PXI/U3RyaW5nLmZyb21DaGFyQ29kZShoW2kuY2hhckNvZGVBdCgwKV1bcl0pOmkpOmxbZV0rPWk7bFtlXT1jKGxbZV0pfXJldHVybiBsLmpvaW4oXCIgXCIpfTt0LmV2ZW50cy5wdXNoKFtcInByZVByb2Nlc3NUZXh0XCIsZnVuY3Rpb24odCl7dmFyIGU9dC50ZXh0LG49KHQueCx0LnksdC5vcHRpb25zfHx7fSkscj0odC5tdXRleCxuLmxhbmcsW10pO2lmKFwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSl7dmFyIGk9MDtmb3Iocj1bXSxpPTA7aTxlLmxlbmd0aDtpKz0xKVwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlW2ldKT9yLnB1c2goW3AoZVtpXVswXSksZVtpXVsxXSxlW2ldWzJdXSk6ci5wdXNoKFtwKGVbaV0pXSk7dC50ZXh0PXJ9ZWxzZSB0LnRleHQ9cChlKX1dKX0obHQuQVBJKSxsdC5BUEkuYXV0b1ByaW50PWZ1bmN0aW9uKHQpe3ZhciBlO3N3aXRjaCgodD10fHx7fSkudmFyaWFudD10LnZhcmlhbnR8fFwibm9uLWNvbmZvcm1cIix0LnZhcmlhbnQpe2Nhc2VcImphdmFzY3JpcHRcIjp0aGlzLmFkZEpTKFwicHJpbnQoe30pO1wiKTticmVhaztjYXNlXCJub24tY29uZm9ybVwiOmRlZmF1bHQ6dGhpcy5pbnRlcm5hbC5ldmVudHMuc3Vic2NyaWJlKFwicG9zdFB1dFJlc291cmNlc1wiLGZ1bmN0aW9uKCl7ZT10aGlzLmludGVybmFsLm5ld09iamVjdCgpLHRoaXMuaW50ZXJuYWwub3V0KFwiPDxcIiksdGhpcy5pbnRlcm5hbC5vdXQoXCIvUyAvTmFtZWRcIiksdGhpcy5pbnRlcm5hbC5vdXQoXCIvVHlwZSAvQWN0aW9uXCIpLHRoaXMuaW50ZXJuYWwub3V0KFwiL04gL1ByaW50XCIpLHRoaXMuaW50ZXJuYWwub3V0KFwiPj5cIiksdGhpcy5pbnRlcm5hbC5vdXQoXCJlbmRvYmpcIil9KSx0aGlzLmludGVybmFsLmV2ZW50cy5zdWJzY3JpYmUoXCJwdXRDYXRhbG9nXCIsZnVuY3Rpb24oKXt0aGlzLmludGVybmFsLm91dChcIi9PcGVuQWN0aW9uIFwiK2UrXCIgMCBSXCIpfSl9cmV0dXJuIHRoaXN9LFxuLyoqXG4gICAqIEBsaWNlbnNlXG4gICAqIENvcHlyaWdodCAoYykgMjAxNCBTdGV2ZW4gU3B1bmdpbiAoVHdlbHZlVG9uZSBMTEMpICBzdGV2ZW5AdHdlbHZldG9uZS50dlxuICAgKlxuICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gICAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICAgKi9cbmU9bHQuQVBJLChuPWZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicGRmXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBlfSxzZXQ6ZnVuY3Rpb24odCl7ZT10fX0pO3ZhciBuPTE1MDtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBufSxzZXQ6ZnVuY3Rpb24odCl7bj1pc05hTih0KXx8ITE9PT1OdW1iZXIuaXNJbnRlZ2VyKHQpfHx0PDA/MTUwOnQsdGhpcy5nZXRDb250ZXh0KFwiMmRcIikucGFnZVdyYXBYRW5hYmxlZCYmKHRoaXMuZ2V0Q29udGV4dChcIjJkXCIpLnBhZ2VXcmFwWD1uKzEpfX0pO3ZhciByPTMwMDtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImhlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sc2V0OmZ1bmN0aW9uKHQpe3I9aXNOYU4odCl8fCExPT09TnVtYmVyLmlzSW50ZWdlcih0KXx8dDwwPzMwMDp0LHRoaXMuZ2V0Q29udGV4dChcIjJkXCIpLnBhZ2VXcmFwWUVuYWJsZWQmJih0aGlzLmdldENvbnRleHQoXCIyZFwiKS5wYWdlV3JhcFk9cisxKX19KTt2YXIgaT1bXTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNoaWxkTm9kZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9LHNldDpmdW5jdGlvbih0KXtpPXR9fSk7dmFyIG89e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzdHlsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb30sc2V0OmZ1bmN0aW9uKHQpe289dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInBhcmVudE5vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9fSl9KS5wcm90b3R5cGUuZ2V0Q29udGV4dD1mdW5jdGlvbih0LGUpe3ZhciBuO2lmKFwiMmRcIiE9PSh0PXR8fFwiMmRcIikpcmV0dXJuIG51bGw7Zm9yKG4gaW4gZSl0aGlzLnBkZi5jb250ZXh0MmQuaGFzT3duUHJvcGVydHkobikmJih0aGlzLnBkZi5jb250ZXh0MmRbbl09ZVtuXSk7cmV0dXJuKHRoaXMucGRmLmNvbnRleHQyZC5fY2FudmFzPXRoaXMpLnBkZi5jb250ZXh0MmR9LG4ucHJvdG90eXBlLnRvRGF0YVVSTD1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcInRvRGF0YVVSTCBpcyBub3QgaW1wbGVtZW50ZWQuXCIpfSxlLmV2ZW50cy5wdXNoKFtcImluaXRpYWxpemVkXCIsZnVuY3Rpb24oKXt0aGlzLmNhbnZhcz1uZXcgbix0aGlzLmNhbnZhcy5wZGY9dGhpc31dKSxcbi8qKiBcbiAgICogQGxpY2Vuc2VcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogQ29weXJpZ2h0IChjKSAyMDEzIFlvdXNzZWYgQmVkZGFkLCB5b3Vzc2VmLmJlZGRhZEBnbWFpbC5jb21cbiAgICogICAgICAgICAgICAgICAyMDEzIEVkdWFyZG8gTWVuZXplcyBkZSBNb3JhaXMsIGVkdWFyZG8ubW9yYWlzQHVzcC5iclxuICAgKiAgICAgICAgICAgICAgIDIwMTMgTGVlIERyaXNjb2xsLCBodHRwczovL2dpdGh1Yi5jb20vbHNkcmlzY29sbFxuICAgKiAgICAgICAgICAgICAgIDIwMTQgSnVhbiBQYWJsbyBHYXZpcmlhLCBodHRwczovL2dpdGh1Yi5jb20vanVhbnBnYXZpcmlhXG4gICAqICAgICAgICAgICAgICAgMjAxNCBKYW1lcyBIYWxsLCBqYW1lc0BwYXJhbGwuYXhcbiAgICogICAgICAgICAgICAgICAyMDE0IERpZWdvIENhc29ycmFuLCBodHRwczovL2dpdGh1Yi5jb20vZGllZ29jclxuICAgKlxuICAgKiBcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICovXG5fPWx0LkFQSSxGPXt4OnZvaWQgMCx5OnZvaWQgMCx3OnZvaWQgMCxoOnZvaWQgMCxsbjp2b2lkIDB9LFA9MSxwPWZ1bmN0aW9uKHQsZSxuLHIsaSl7Rj17eDp0LHk6ZSx3Om4saDpyLGxuOml9fSxkPWZ1bmN0aW9uKCl7cmV0dXJuIEZ9LGs9e2xlZnQ6MCx0b3A6MCxib3R0b206MH0sXy5zZXRIZWFkZXJGdW5jdGlvbj1mdW5jdGlvbih0KXtsPXR9LF8uZ2V0VGV4dERpbWVuc2lvbnM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnRhYmxlX2ZvbnRfc2l6ZXx8dGhpcy5pbnRlcm5hbC5nZXRGb250U2l6ZSgpLHI9KHRoaXMuaW50ZXJuYWwuZ2V0Rm9udCgpLmZvbnRTdHlsZSwoZT1lfHx7fSkuc2NhbGVGYWN0b3J8fHRoaXMuaW50ZXJuYWwuc2NhbGVGYWN0b3IpLGk9MCxvPTAsYT0wO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KTAhPShpPXRoaXMuZ2V0U3RyaW5nVW5pdFdpZHRoKHQpKm4pJiYobz0xKTtlbHNle2lmKFwiW29iamVjdCBBcnJheV1cIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl0aHJvdyBuZXcgRXJyb3IoXCJnZXRUZXh0RGltZW5zaW9ucyBleHBlY3RzIHRleHQtcGFyYW1ldGVyIHRvIGJlIG9mIHR5cGUgU3RyaW5nIG9yIGFuIEFycmF5IG9mIFN0cmluZ3MuXCIpO2Zvcih2YXIgcz0wO3M8dC5sZW5ndGg7cysrKWk8KGE9dGhpcy5nZXRTdHJpbmdVbml0V2lkdGgodFtzXSkqbikmJihpPWEpOzAhPT1pJiYobz10Lmxlbmd0aCl9cmV0dXJue3c6aS89cixoOk1hdGgubWF4KChvKm4qdGhpcy5nZXRMaW5lSGVpZ2h0RmFjdG9yKCktbioodGhpcy5nZXRMaW5lSGVpZ2h0RmFjdG9yKCktMSkpL3IsMCl9fSxfLmNlbGxBZGRQYWdlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tYXJnaW5zfHxrO3RoaXMuYWRkUGFnZSgpLHAodC5sZWZ0LHQudG9wLHZvaWQgMCx2b2lkIDApLFArPTF9LF8uY2VsbEluaXRpYWxpemU9ZnVuY3Rpb24oKXtGPXt4OnZvaWQgMCx5OnZvaWQgMCx3OnZvaWQgMCxoOnZvaWQgMCxsbjp2b2lkIDB9LFA9MX0sXy5jZWxsPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLGEpe3ZhciBzPWQoKSxsPSExO2lmKHZvaWQgMCE9PXMubG4paWYocy5sbj09PW8pdD1zLngrcy53LGU9cy55O2Vsc2V7dmFyIGg9dGhpcy5tYXJnaW5zfHxrO3MueStzLmgrcisxMz49dGhpcy5pbnRlcm5hbC5wYWdlU2l6ZS5nZXRIZWlnaHQoKS1oLmJvdHRvbSYmKHRoaXMuY2VsbEFkZFBhZ2UoKSxsPSEwLHRoaXMucHJpbnRIZWFkZXJzJiZ0aGlzLnRhYmxlSGVhZGVyUm93JiZ0aGlzLnByaW50SGVhZGVyUm93KG8sITApKSxlPWQoKS55K2QoKS5oLGwmJihlPTIzKX1pZih2b2lkIDAhPT1pWzBdKWlmKHRoaXMucHJpbnRpbmdIZWFkZXJSb3c/dGhpcy5yZWN0KHQsZSxuLHIsXCJGRFwiKTp0aGlzLnJlY3QodCxlLG4sciksXCJyaWdodFwiPT09YSl7aSBpbnN0YW5jZW9mIEFycmF5fHwoaT1baV0pO2Zvcih2YXIgdT0wO3U8aS5sZW5ndGg7dSsrKXt2YXIgYz1pW3VdLGY9dGhpcy5nZXRTdHJpbmdVbml0V2lkdGgoYykqdGhpcy5pbnRlcm5hbC5nZXRGb250U2l6ZSgpL3RoaXMuaW50ZXJuYWwuc2NhbGVGYWN0b3I7dGhpcy50ZXh0KGMsdCtuLWYtMyxlK3RoaXMuaW50ZXJuYWwuZ2V0TGluZUhlaWdodCgpKih1KzEpKX19ZWxzZSB0aGlzLnRleHQoaSx0KzMsZSt0aGlzLmludGVybmFsLmdldExpbmVIZWlnaHQoKSk7cmV0dXJuIHAodCxlLG4scixvKSx0aGlzfSxfLmFycmF5TWF4PWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLG89dFswXTtmb3Iobj0wLHI9dC5sZW5ndGg7bjxyO24rPTEpaT10W25dLGU/LTE9PT1lKG8saSkmJihvPWkpOm88aSYmKG89aSk7cmV0dXJuIG99LF8udGFibGU9ZnVuY3Rpb24odCxlLG4scixpKXtpZighbil0aHJvd1wiTm8gZGF0YSBmb3IgUERGIHRhYmxlXCI7dmFyIG8sYSxzLGwsaCx1LGMsZixwLGQsZz1bXSxtPVtdLHk9e30sdj17fSx3PVtdLGI9W10seD0hMSxOPSEwLEw9MTIsQT1rO2lmKEEud2lkdGg9dGhpcy5pbnRlcm5hbC5wYWdlU2l6ZS5nZXRXaWR0aCgpLGkmJighMD09PWkuYXV0b1NpemUmJih4PSEwKSwhMT09PWkucHJpbnRIZWFkZXJzJiYoTj0hMSksaS5mb250U2l6ZSYmKEw9aS5mb250U2l6ZSksaS5jc3MmJnZvaWQgMCE9PWkuY3NzW1wiZm9udC1zaXplXCJdJiYoTD0xNippLmNzc1tcImZvbnQtc2l6ZVwiXSksaS5tYXJnaW5zJiYoQT1pLm1hcmdpbnMpKSx0aGlzLmxuTW9kPTAsRj17eDp2b2lkIDAseTp2b2lkIDAsdzp2b2lkIDAsaDp2b2lkIDAsbG46dm9pZCAwfSxQPTEsdGhpcy5wcmludEhlYWRlcnM9Tix0aGlzLm1hcmdpbnM9QSx0aGlzLnNldEZvbnRTaXplKEwpLHRoaXMudGFibGVfZm9udF9zaXplPUwsbnVsbD09cilnPU9iamVjdC5rZXlzKG5bMF0pO2Vsc2UgaWYoclswXSYmXCJzdHJpbmdcIiE9dHlwZW9mIHJbMF0pZm9yKGE9MCxzPXIubGVuZ3RoO2E8czthKz0xKW89clthXSxnLnB1c2goby5uYW1lKSxtLnB1c2goby5wcm9tcHQpLHZbby5uYW1lXT1vLndpZHRoKigxOS4wNDk5NzYvMjUuNCk7ZWxzZSBnPXI7aWYoeClmb3IoZD1mdW5jdGlvbih0KXtyZXR1cm4gdFtvXX0sYT0wLHM9Zy5sZW5ndGg7YTxzO2ErPTEpe2Zvcih5W289Z1thXV09bi5tYXAoZCksdy5wdXNoKHRoaXMuZ2V0VGV4dERpbWVuc2lvbnMobVthXXx8byx7c2NhbGVGYWN0b3I6MX0pLncpLGM9MCxsPSh1PXlbb10pLmxlbmd0aDtjPGw7Yys9MSloPXVbY10sdy5wdXNoKHRoaXMuZ2V0VGV4dERpbWVuc2lvbnMoaCx7c2NhbGVGYWN0b3I6MX0pLncpO3Zbb109Xy5hcnJheU1heCh3KSx3PVtdfWlmKE4pe3ZhciBTPXRoaXMuY2FsY3VsYXRlTGluZUhlaWdodChnLHYsbS5sZW5ndGg/bTpnKTtmb3IoYT0wLHM9Zy5sZW5ndGg7YTxzO2ErPTEpbz1nW2FdLGIucHVzaChbdCxlLHZbb10sUyxTdHJpbmcobS5sZW5ndGg/bVthXTpvKV0pO3RoaXMuc2V0VGFibGVIZWFkZXJSb3coYiksdGhpcy5wcmludEhlYWRlclJvdygxLCExKX1mb3IoYT0wLHM9bi5sZW5ndGg7YTxzO2ErPTEpZm9yKGY9blthXSxTPXRoaXMuY2FsY3VsYXRlTGluZUhlaWdodChnLHYsZiksYz0wLHA9Zy5sZW5ndGg7YzxwO2MrPTEpbz1nW2NdLHRoaXMuY2VsbCh0LGUsdltvXSxTLGZbb10sYSsyLG8uYWxpZ24pO3JldHVybiB0aGlzLmxhc3RDZWxsUG9zPUYsdGhpcy50YWJsZV94PXQsdGhpcy50YWJsZV95PWUsdGhpc30sXy5jYWxjdWxhdGVMaW5lSGVpZ2h0PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHIsaT0wLG89MDtvPHQubGVuZ3RoO28rKyl7bltyPXRbb11dPXRoaXMuc3BsaXRUZXh0VG9TaXplKFN0cmluZyhuW3JdKSxlW3JdLTMpO3ZhciBhPXRoaXMuaW50ZXJuYWwuZ2V0TGluZUhlaWdodCgpKm5bcl0ubGVuZ3RoKzM7aTxhJiYoaT1hKX1yZXR1cm4gaX0sXy5zZXRUYWJsZUhlYWRlclJvdz1mdW5jdGlvbih0KXt0aGlzLnRhYmxlSGVhZGVyUm93PXR9LF8ucHJpbnRIZWFkZXJSb3c9ZnVuY3Rpb24odCxlKXtpZighdGhpcy50YWJsZUhlYWRlclJvdyl0aHJvd1wiUHJvcGVydHkgdGFibGVIZWFkZXJSb3cgZG9lcyBub3QgZXhpc3QuXCI7dmFyIG4scixpLG87aWYodGhpcy5wcmludGluZ0hlYWRlclJvdz0hMCx2b2lkIDAhPT1sKXt2YXIgYT1sKHRoaXMsUCk7cChhWzBdLGFbMV0sYVsyXSxhWzNdLC0xKX10aGlzLnNldEZvbnRTdHlsZShcImJvbGRcIik7dmFyIHM9W107Zm9yKGk9MCxvPXRoaXMudGFibGVIZWFkZXJSb3cubGVuZ3RoO2k8bztpKz0xKXRoaXMuc2V0RmlsbENvbG9yKDIwMCwyMDAsMjAwKSxuPXRoaXMudGFibGVIZWFkZXJSb3dbaV0sZSYmKHRoaXMubWFyZ2lucy50b3A9MTMsblsxXT10aGlzLm1hcmdpbnMmJnRoaXMubWFyZ2lucy50b3B8fDAscy5wdXNoKG4pKSxyPVtdLmNvbmNhdChuKSx0aGlzLmNlbGwuYXBwbHkodGhpcyxyLmNvbmNhdCh0KSk7MDxzLmxlbmd0aCYmdGhpcy5zZXRUYWJsZUhlYWRlclJvdyhzKSx0aGlzLnNldEZvbnRTdHlsZShcIm5vcm1hbFwiKSx0aGlzLnByaW50aW5nSGVhZGVyUm93PSExfSxcbi8qKlxuICAgKiBqc1BERiBDb250ZXh0MkQgUGx1Z0luIENvcHlyaWdodCAoYykgMjAxNCBTdGV2ZW4gU3B1bmdpbiAoVHdlbHZlVG9uZSBMTEMpIHN0ZXZlbkB0d2VsdmV0b25lLnR2XG4gICAqXG4gICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gICAqL1xuZnVuY3Rpb24odCxlKXt2YXIgbCxpLG8saCx1LGM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dHx8e30sdGhpcy5pc1N0cm9rZVRyYW5zcGFyZW50PXQuaXNTdHJva2VUcmFuc3BhcmVudHx8ITEsdGhpcy5zdHJva2VPcGFjaXR5PXQuc3Ryb2tlT3BhY2l0eXx8MSx0aGlzLnN0cm9rZVN0eWxlPXQuc3Ryb2tlU3R5bGV8fFwiIzAwMDAwMFwiLHRoaXMuZmlsbFN0eWxlPXQuZmlsbFN0eWxlfHxcIiMwMDAwMDBcIix0aGlzLmlzRmlsbFRyYW5zcGFyZW50PXQuaXNGaWxsVHJhbnNwYXJlbnR8fCExLHRoaXMuZmlsbE9wYWNpdHk9dC5maWxsT3BhY2l0eXx8MSx0aGlzLmZvbnQ9dC5mb250fHxcIjEwcHggc2Fucy1zZXJpZlwiLHRoaXMudGV4dEJhc2VsaW5lPXQudGV4dEJhc2VsaW5lfHxcImFscGhhYmV0aWNcIix0aGlzLnRleHRBbGlnbj10LnRleHRBbGlnbnx8XCJsZWZ0XCIsdGhpcy5saW5lV2lkdGg9dC5saW5lV2lkdGh8fDEsdGhpcy5saW5lSm9pbj10LmxpbmVKb2lufHxcIm1pdGVyXCIsdGhpcy5saW5lQ2FwPXQubGluZUNhcHx8XCJidXR0XCIsdGhpcy5wYXRoPXQucGF0aHx8W10sdGhpcy50cmFuc2Zvcm09dm9pZCAwIT09dC50cmFuc2Zvcm0/dC50cmFuc2Zvcm0uY2xvbmUoKTpuZXcgTSx0aGlzLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj10Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbnx8XCJub3JtYWxcIix0aGlzLmdsb2JhbEFscGhhPXQuZ2xvYmFsQWxwaGF8fDEsdGhpcy5jbGlwX3BhdGg9dC5jbGlwX3BhdGh8fFtdLHRoaXMuY3VycmVudFBvaW50PXQuY3VycmVudFBvaW50fHxuZXcgaix0aGlzLm1pdGVyTGltaXQ9dC5taXRlckxpbWl0fHwxMCx0aGlzLmxhc3RQb2ludD10Lmxhc3RQb2ludHx8bmV3IGosdGhpcy5pZ25vcmVDbGVhclJlY3Q9XCJib29sZWFuXCIhPXR5cGVvZiB0Lmlnbm9yZUNsZWFyUmVjdHx8dC5pZ25vcmVDbGVhclJlY3QsdGhpc307dC5ldmVudHMucHVzaChbXCJpbml0aWFsaXplZFwiLGZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0MmQ9bmV3IG4odGhpcyksbD10aGlzLmludGVybmFsLmYyLHRoaXMuaW50ZXJuYWwuZjMsaT10aGlzLmludGVybmFsLmdldENvb3JkaW5hdGVTdHJpbmcsbz10aGlzLmludGVybmFsLmdldFZlcnRpY2FsQ29vcmRpbmF0ZVN0cmluZyxoPXRoaXMuaW50ZXJuYWwuZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGUsdT10aGlzLmludGVybmFsLmdldFZlcnRpY2FsQ29vcmRpbmF0ZX1dKTt2YXIgbj1mdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNhbnZhc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57cGFyZW50Tm9kZTohMSxzdHlsZTohMX19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJwZGZcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHR9fSk7dmFyIGU9ITE7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJwYWdlV3JhcFhFbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBlfSxzZXQ6ZnVuY3Rpb24odCl7ZT1Cb29sZWFuKHQpfX0pO3ZhciBuPSExO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicGFnZVdyYXBZRW5hYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sc2V0OmZ1bmN0aW9uKHQpe249Qm9vbGVhbih0KX19KTt2YXIgcj0wO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicG9zWFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sc2V0OmZ1bmN0aW9uKHQpe2lzTmFOKHQpfHwocj10KX19KTt2YXIgaT0wO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwicG9zWVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sc2V0OmZ1bmN0aW9uKHQpe2lzTmFOKHQpfHwoaT10KX19KTt2YXIgbz0hMTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImF1dG9QYWdpbmdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99LHNldDpmdW5jdGlvbih0KXtvPUJvb2xlYW4odCl9fSk7dmFyIGE9MDtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImxhc3RCcmVha1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sc2V0OmZ1bmN0aW9uKHQpe2E9dH19KTt2YXIgcz1bXTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInBhZ2VCcmVha3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHN9LHNldDpmdW5jdGlvbih0KXtzPXR9fSk7dmFyIGw9bmV3IGM7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJjdHhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx9LHNldDpmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgYyYmKGw9dCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJwYXRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBsLnBhdGh9LHNldDpmdW5jdGlvbih0KXtsLnBhdGg9dH19KTt2YXIgaD1bXTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImN0eFN0YWNrXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBofSxzZXQ6ZnVuY3Rpb24odCl7aD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZmlsbFN0eWxlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN0eC5maWxsU3R5bGV9LHNldDpmdW5jdGlvbih0KXt2YXIgZTtlPWYodCksdGhpcy5jdHguZmlsbFN0eWxlPWUuc3R5bGUsdGhpcy5jdHguaXNGaWxsVHJhbnNwYXJlbnQ9MD09PWUuYSx0aGlzLmN0eC5maWxsT3BhY2l0eT1lLmEsdGhpcy5wZGYuc2V0RmlsbENvbG9yKGUucixlLmcsZS5iLHthOmUuYX0pLHRoaXMucGRmLnNldFRleHRDb2xvcihlLnIsZS5nLGUuYix7YTplLmF9KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInN0cm9rZVN0eWxlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN0eC5zdHJva2VTdHlsZX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPWYodCk7dGhpcy5jdHguc3Ryb2tlU3R5bGU9ZS5zdHlsZSx0aGlzLmN0eC5pc1N0cm9rZVRyYW5zcGFyZW50PTA9PT1lLmEsdGhpcy5jdHguc3Ryb2tlT3BhY2l0eT1lLmEsMD09PWUuYT90aGlzLnBkZi5zZXREcmF3Q29sb3IoMjU1LDI1NSwyNTUpOihlLmEsdGhpcy5wZGYuc2V0RHJhd0NvbG9yKGUucixlLmcsZS5iKSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJsaW5lQ2FwXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN0eC5saW5lQ2FwfSxzZXQ6ZnVuY3Rpb24odCl7LTEhPT1bXCJidXR0XCIsXCJyb3VuZFwiLFwic3F1YXJlXCJdLmluZGV4T2YodCkmJih0aGlzLmN0eC5saW5lQ2FwPXQsdGhpcy5wZGYuc2V0TGluZUNhcCh0KSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJsaW5lV2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3R4LmxpbmVXaWR0aH0sc2V0OmZ1bmN0aW9uKHQpe2lzTmFOKHQpfHwodGhpcy5jdHgubGluZVdpZHRoPXQsdGhpcy5wZGYuc2V0TGluZVdpZHRoKHQpKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImxpbmVKb2luXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN0eC5saW5lSm9pbn0sc2V0OmZ1bmN0aW9uKHQpey0xIT09W1wiYmV2ZWxcIixcInJvdW5kXCIsXCJtaXRlclwiXS5pbmRleE9mKHQpJiYodGhpcy5jdHgubGluZUpvaW49dCx0aGlzLnBkZi5zZXRMaW5lSm9pbih0KSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJtaXRlckxpbWl0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN0eC5taXRlckxpbWl0fSxzZXQ6ZnVuY3Rpb24odCl7aXNOYU4odCl8fCh0aGlzLmN0eC5taXRlckxpbWl0PXQsdGhpcy5wZGYuc2V0TWl0ZXJMaW1pdCh0KSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ0ZXh0QmFzZWxpbmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3R4LnRleHRCYXNlbGluZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuY3R4LnRleHRCYXNlbGluZT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwidGV4dEFsaWduXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN0eC50ZXh0QWxpZ259LHNldDpmdW5jdGlvbih0KXstMSE9PVtcInJpZ2h0XCIsXCJlbmRcIixcImNlbnRlclwiLFwibGVmdFwiLFwic3RhcnRcIl0uaW5kZXhPZih0KSYmKHRoaXMuY3R4LnRleHRBbGlnbj10KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImZvbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3R4LmZvbnR9LHNldDpmdW5jdGlvbih0KXt2YXIgZTtpZih0aGlzLmN0eC5mb250PXQsbnVsbCE9PShlPS9eXFxzKig/PSg/Oig/OlstYS16XStcXHMqKXswLDJ9KGl0YWxpY3xvYmxpcXVlKSk/KSg/PSg/Oig/OlstYS16XStcXHMqKXswLDJ9KHNtYWxsLWNhcHMpKT8pKD89KD86KD86Wy1hLXpdK1xccyopezAsMn0oYm9sZCg/OmVyKT98bGlnaHRlcnxbMS05XTAwKSk/KSg/Oig/Om5vcm1hbHxcXDF8XFwyfFxcMylcXHMqKXswLDN9KCg/Onh4Py0pPyg/OnNtYWxsfGxhcmdlKXxtZWRpdW18c21hbGxlcnxsYXJnZXJ8Wy5cXGRdKyg/OlxcJXxpbnxbY2VtXW18ZXh8cFtjdHhdKSkoPzpcXHMqXFwvXFxzKihub3JtYWx8Wy5cXGRdKyg/OlxcJXxpbnxbY2VtXW18ZXh8cFtjdHhdKSkpP1xccyooWy1fLFxcXCJcXCdcXHNhLXpdKz8pXFxzKiQvaS5leGVjKHQpKSl7dmFyIG49ZVsxXSxyPShlWzJdLGVbM10pLGk9ZVs0XSxvPWVbNV0sYT1lWzZdO2k9XCJweFwiPT09bz9NYXRoLmZsb29yKHBhcnNlRmxvYXQoaSkpOlwiZW1cIj09PW8/TWF0aC5mbG9vcihwYXJzZUZsb2F0KGkpKnRoaXMucGRmLmdldEZvbnRTaXplKCkpOk1hdGguZmxvb3IocGFyc2VGbG9hdChpKSksdGhpcy5wZGYuc2V0Rm9udFNpemUoaSk7dmFyIHM9XCJcIjsoXCJib2xkXCI9PT1yfHw3MDA8PXBhcnNlSW50KHIsMTApfHxcImJvbGRcIj09PW4pJiYocz1cImJvbGRcIiksXCJpdGFsaWNcIj09PW4mJihzKz1cIml0YWxpY1wiKSwwPT09cy5sZW5ndGgmJihzPVwibm9ybWFsXCIpO2Zvcih2YXIgbD1cIlwiLGg9YS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1wifCcvZyxcIlwiKS5zcGxpdCgvXFxzKixcXHMqLyksdT17YXJpYWw6XCJIZWx2ZXRpY2FcIix2ZXJkYW5hOlwiSGVsdmV0aWNhXCIsaGVsdmV0aWNhOlwiSGVsdmV0aWNhXCIsXCJzYW5zLXNlcmlmXCI6XCJIZWx2ZXRpY2FcIixmaXhlZDpcIkNvdXJpZXJcIixtb25vc3BhY2U6XCJDb3VyaWVyXCIsdGVybWluYWw6XCJDb3VyaWVyXCIsY291cmllcjpcIkNvdXJpZXJcIix0aW1lczpcIlRpbWVzXCIsY3Vyc2l2ZTpcIlRpbWVzXCIsZmFudGFzeTpcIlRpbWVzXCIsc2VyaWY6XCJUaW1lc1wifSxjPTA7YzxoLmxlbmd0aDtjKyspe2lmKHZvaWQgMCE9PXRoaXMucGRmLmludGVybmFsLmdldEZvbnQoaFtjXSxzLHtub0ZhbGxiYWNrOiEwLGRpc2FibGVXYXJuaW5nOiEwfSkpe2w9aFtjXTticmVha31pZihcImJvbGRpdGFsaWNcIj09PXMmJnZvaWQgMCE9PXRoaXMucGRmLmludGVybmFsLmdldEZvbnQoaFtjXSxcImJvbGRcIix7bm9GYWxsYmFjazohMCxkaXNhYmxlV2FybmluZzohMH0pKWw9aFtjXSxzPVwiYm9sZFwiO2Vsc2UgaWYodm9pZCAwIT09dGhpcy5wZGYuaW50ZXJuYWwuZ2V0Rm9udChoW2NdLFwibm9ybWFsXCIse25vRmFsbGJhY2s6ITAsZGlzYWJsZVdhcm5pbmc6ITB9KSl7bD1oW2NdLHM9XCJub3JtYWxcIjticmVha319aWYoXCJcIj09PWwpZm9yKGM9MDtjPGgubGVuZ3RoO2MrKylpZih1W2hbY11dKXtsPXVbaFtjXV07YnJlYWt9bD1cIlwiPT09bD9cIlRpbWVzXCI6bCx0aGlzLnBkZi5zZXRGb250KGwscyl9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb259LHNldDpmdW5jdGlvbih0KXt0aGlzLmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImdsb2JhbEFscGhhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN0eC5nbG9iYWxBbHBoYX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuY3R4Lmdsb2JhbEFscGhhPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpZ25vcmVDbGVhclJlY3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3R4Lmlnbm9yZUNsZWFyUmVjdH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuY3R4Lmlnbm9yZUNsZWFyUmVjdD1Cb29sZWFuKHQpfX0pfTtuLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKCl7ci5jYWxsKHRoaXMsXCJmaWxsXCIsITEpfSxuLnByb3RvdHlwZS5zdHJva2U9ZnVuY3Rpb24oKXtyLmNhbGwodGhpcyxcInN0cm9rZVwiLCExKX0sbi5wcm90b3R5cGUuYmVnaW5QYXRoPWZ1bmN0aW9uKCl7dGhpcy5wYXRoPVt7dHlwZTpcImJlZ2luXCJ9XX0sbi5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKHQsZSl7aWYoaXNOYU4odCl8fGlzTmFOKGUpKXRocm93IGNvbnNvbGUuZXJyb3IoXCJqc1BERi5jb250ZXh0MmQubW92ZVRvOiBJbnZhbGlkIGFyZ3VtZW50c1wiLGFyZ3VtZW50cyksbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLmNvbnRleHQyZC5tb3ZlVG9cIik7dmFyIG49dGhpcy5jdHgudHJhbnNmb3JtLmFwcGx5VG9Qb2ludChuZXcgaih0LGUpKTt0aGlzLnBhdGgucHVzaCh7dHlwZTpcIm10XCIseDpuLngseTpuLnl9KSx0aGlzLmN0eC5sYXN0UG9pbnQ9bmV3IGoodCxlKX0sbi5wcm90b3R5cGUuY2xvc2VQYXRoPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGooMCwwKSxlPTA7Zm9yKGU9dGhpcy5wYXRoLmxlbmd0aC0xOy0xIT09ZTtlLS0paWYoXCJiZWdpblwiPT09dGhpcy5wYXRoW2VdLnR5cGUmJlwib2JqZWN0XCI9PT1zZSh0aGlzLnBhdGhbZSsxXSkmJlwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLnBhdGhbZSsxXS54KXt0PW5ldyBqKHRoaXMucGF0aFtlKzFdLngsdGhpcy5wYXRoW2UrMV0ueSksdGhpcy5wYXRoLnB1c2goe3R5cGU6XCJsdFwiLHg6dC54LHk6dC55fSk7YnJlYWt9XCJvYmplY3RcIj09PXNlKHRoaXMucGF0aFtlKzJdKSYmXCJudW1iZXJcIj09dHlwZW9mIHRoaXMucGF0aFtlKzJdLngmJnRoaXMucGF0aC5wdXNoKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5wYXRoW2UrMl0pKSksdGhpcy5wYXRoLnB1c2goe3R5cGU6XCJjbG9zZVwifSksdGhpcy5jdHgubGFzdFBvaW50PW5ldyBqKHQueCx0LnkpfSxuLnByb3RvdHlwZS5saW5lVG89ZnVuY3Rpb24odCxlKXtpZihpc05hTih0KXx8aXNOYU4oZSkpdGhyb3cgY29uc29sZS5lcnJvcihcImpzUERGLmNvbnRleHQyZC5saW5lVG86IEludmFsaWQgYXJndW1lbnRzXCIsYXJndW1lbnRzKSxuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLmxpbmVUb1wiKTt2YXIgbj10aGlzLmN0eC50cmFuc2Zvcm0uYXBwbHlUb1BvaW50KG5ldyBqKHQsZSkpO3RoaXMucGF0aC5wdXNoKHt0eXBlOlwibHRcIix4Om4ueCx5Om4ueX0pLHRoaXMuY3R4Lmxhc3RQb2ludD1uZXcgaihuLngsbi55KX0sbi5wcm90b3R5cGUuY2xpcD1mdW5jdGlvbigpe3RoaXMuY3R4LmNsaXBfcGF0aD1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucGF0aCkpLHIuY2FsbCh0aGlzLG51bGwsITApfSxuLnByb3RvdHlwZS5xdWFkcmF0aWNDdXJ2ZVRvPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKGlzTmFOKG4pfHxpc05hTihyKXx8aXNOYU4odCl8fGlzTmFOKGUpKXRocm93IGNvbnNvbGUuZXJyb3IoXCJqc1BERi5jb250ZXh0MmQucXVhZHJhdGljQ3VydmVUbzogSW52YWxpZCBhcmd1bWVudHNcIixhcmd1bWVudHMpLG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHBhc3NlZCB0byBqc1BERi5jb250ZXh0MmQucXVhZHJhdGljQ3VydmVUb1wiKTt2YXIgaT10aGlzLmN0eC50cmFuc2Zvcm0uYXBwbHlUb1BvaW50KG5ldyBqKG4scikpLG89dGhpcy5jdHgudHJhbnNmb3JtLmFwcGx5VG9Qb2ludChuZXcgaih0LGUpKTt0aGlzLnBhdGgucHVzaCh7dHlwZTpcInFjdFwiLHgxOm8ueCx5MTpvLnkseDppLngseTppLnl9KSx0aGlzLmN0eC5sYXN0UG9pbnQ9bmV3IGooaS54LGkueSl9LG4ucHJvdG90eXBlLmJlemllckN1cnZlVG89ZnVuY3Rpb24odCxlLG4scixpLG8pe2lmKGlzTmFOKGkpfHxpc05hTihvKXx8aXNOYU4odCl8fGlzTmFOKGUpfHxpc05hTihuKXx8aXNOYU4ocikpdGhyb3cgY29uc29sZS5lcnJvcihcImpzUERGLmNvbnRleHQyZC5iZXppZXJDdXJ2ZVRvOiBJbnZhbGlkIGFyZ3VtZW50c1wiLGFyZ3VtZW50cyksbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLmNvbnRleHQyZC5iZXppZXJDdXJ2ZVRvXCIpO3ZhciBhPXRoaXMuY3R4LnRyYW5zZm9ybS5hcHBseVRvUG9pbnQobmV3IGooaSxvKSkscz10aGlzLmN0eC50cmFuc2Zvcm0uYXBwbHlUb1BvaW50KG5ldyBqKHQsZSkpLGw9dGhpcy5jdHgudHJhbnNmb3JtLmFwcGx5VG9Qb2ludChuZXcgaihuLHIpKTt0aGlzLnBhdGgucHVzaCh7dHlwZTpcImJjdFwiLHgxOnMueCx5MTpzLnkseDI6bC54LHkyOmwueSx4OmEueCx5OmEueX0pLHRoaXMuY3R4Lmxhc3RQb2ludD1uZXcgaihhLngsYS55KX0sbi5wcm90b3R5cGUuYXJjPWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXtpZihpc05hTih0KXx8aXNOYU4oZSl8fGlzTmFOKG4pfHxpc05hTihyKXx8aXNOYU4oaSkpdGhyb3cgY29uc29sZS5lcnJvcihcImpzUERGLmNvbnRleHQyZC5hcmM6IEludmFsaWQgYXJndW1lbnRzXCIsYXJndW1lbnRzKSxuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLmFyY1wiKTtpZihvPUJvb2xlYW4obyksIXRoaXMuY3R4LnRyYW5zZm9ybS5pc0lkZW50aXR5KXt2YXIgYT10aGlzLmN0eC50cmFuc2Zvcm0uYXBwbHlUb1BvaW50KG5ldyBqKHQsZSkpO3Q9YS54LGU9YS55O3ZhciBzPXRoaXMuY3R4LnRyYW5zZm9ybS5hcHBseVRvUG9pbnQobmV3IGooMCxuKSksbD10aGlzLmN0eC50cmFuc2Zvcm0uYXBwbHlUb1BvaW50KG5ldyBqKDAsMCkpO249TWF0aC5zcXJ0KE1hdGgucG93KHMueC1sLngsMikrTWF0aC5wb3cocy55LWwueSwyKSl9TWF0aC5hYnMoaS1yKT49MipNYXRoLlBJJiYocj0wLGk9MipNYXRoLlBJKSx0aGlzLnBhdGgucHVzaCh7dHlwZTpcImFyY1wiLHg6dCx5OmUscmFkaXVzOm4sc3RhcnRBbmdsZTpyLGVuZEFuZ2xlOmksY291bnRlcmNsb2Nrd2lzZTpvfSl9LG4ucHJvdG90eXBlLmFyY1RvPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dGhyb3cgbmV3IEVycm9yKFwiYXJjVG8gbm90IGltcGxlbWVudGVkLlwiKX0sbi5wcm90b3R5cGUucmVjdD1mdW5jdGlvbih0LGUsbixyKXtpZihpc05hTih0KXx8aXNOYU4oZSl8fGlzTmFOKG4pfHxpc05hTihyKSl0aHJvdyBjb25zb2xlLmVycm9yKFwianNQREYuY29udGV4dDJkLnJlY3Q6IEludmFsaWQgYXJndW1lbnRzXCIsYXJndW1lbnRzKSxuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLnJlY3RcIik7dGhpcy5tb3ZlVG8odCxlKSx0aGlzLmxpbmVUbyh0K24sZSksdGhpcy5saW5lVG8odCtuLGUrciksdGhpcy5saW5lVG8odCxlK3IpLHRoaXMubGluZVRvKHQsZSksdGhpcy5saW5lVG8odCtuLGUpLHRoaXMubGluZVRvKHQsZSl9LG4ucHJvdG90eXBlLmZpbGxSZWN0PWZ1bmN0aW9uKHQsZSxuLHIpe2lmKGlzTmFOKHQpfHxpc05hTihlKXx8aXNOYU4obil8fGlzTmFOKHIpKXRocm93IGNvbnNvbGUuZXJyb3IoXCJqc1BERi5jb250ZXh0MmQuZmlsbFJlY3Q6IEludmFsaWQgYXJndW1lbnRzXCIsYXJndW1lbnRzKSxuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLmZpbGxSZWN0XCIpO2lmKCFOLmNhbGwodGhpcykpe3ZhciBpPXt9O1wiYnV0dFwiIT09dGhpcy5saW5lQ2FwJiYoaS5saW5lQ2FwPXRoaXMubGluZUNhcCx0aGlzLmxpbmVDYXA9XCJidXR0XCIpLFwibWl0ZXJcIiE9PXRoaXMubGluZUpvaW4mJihpLmxpbmVKb2luPXRoaXMubGluZUpvaW4sdGhpcy5saW5lSm9pbj1cIm1pdGVyXCIpLHRoaXMuYmVnaW5QYXRoKCksdGhpcy5yZWN0KHQsZSxuLHIpLHRoaXMuZmlsbCgpLGkuaGFzT3duUHJvcGVydHkoXCJsaW5lQ2FwXCIpJiYodGhpcy5saW5lQ2FwPWkubGluZUNhcCksaS5oYXNPd25Qcm9wZXJ0eShcImxpbmVKb2luXCIpJiYodGhpcy5saW5lSm9pbj1pLmxpbmVKb2luKX19LG4ucHJvdG90eXBlLnN0cm9rZVJlY3Q9ZnVuY3Rpb24odCxlLG4scil7aWYoaXNOYU4odCl8fGlzTmFOKGUpfHxpc05hTihuKXx8aXNOYU4ocikpdGhyb3cgY29uc29sZS5lcnJvcihcImpzUERGLmNvbnRleHQyZC5zdHJva2VSZWN0OiBJbnZhbGlkIGFyZ3VtZW50c1wiLGFyZ3VtZW50cyksbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLmNvbnRleHQyZC5zdHJva2VSZWN0XCIpO0wuY2FsbCh0aGlzKXx8KHRoaXMuYmVnaW5QYXRoKCksdGhpcy5yZWN0KHQsZSxuLHIpLHRoaXMuc3Ryb2tlKCkpfSxuLnByb3RvdHlwZS5jbGVhclJlY3Q9ZnVuY3Rpb24odCxlLG4scil7aWYoaXNOYU4odCl8fGlzTmFOKGUpfHxpc05hTihuKXx8aXNOYU4ocikpdGhyb3cgY29uc29sZS5lcnJvcihcImpzUERGLmNvbnRleHQyZC5jbGVhclJlY3Q6IEludmFsaWQgYXJndW1lbnRzXCIsYXJndW1lbnRzKSxuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLmNsZWFyUmVjdFwiKTt0aGlzLmlnbm9yZUNsZWFyUmVjdHx8KHRoaXMuZmlsbFN0eWxlPVwiI2ZmZmZmZlwiLHRoaXMuZmlsbFJlY3QodCxlLG4scikpfSxuLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKHQpe3Q9XCJib29sZWFuXCIhPXR5cGVvZiB0fHx0O2Zvcih2YXIgZT10aGlzLnBkZi5pbnRlcm5hbC5nZXRDdXJyZW50UGFnZUluZm8oKS5wYWdlTnVtYmVyLG49MDtuPHRoaXMucGRmLmludGVybmFsLmdldE51bWJlck9mUGFnZXMoKTtuKyspdGhpcy5wZGYuc2V0UGFnZShuKzEpLHRoaXMucGRmLmludGVybmFsLm91dChcInFcIik7aWYodGhpcy5wZGYuc2V0UGFnZShlKSx0KXt0aGlzLmN0eC5mb250U2l6ZT10aGlzLnBkZi5pbnRlcm5hbC5nZXRGb250U2l6ZSgpO3ZhciByPW5ldyBjKHRoaXMuY3R4KTt0aGlzLmN0eFN0YWNrLnB1c2godGhpcy5jdHgpLHRoaXMuY3R4PXJ9fSxuLnByb3RvdHlwZS5yZXN0b3JlPWZ1bmN0aW9uKHQpe3Q9XCJib29sZWFuXCIhPXR5cGVvZiB0fHx0O2Zvcih2YXIgZT10aGlzLnBkZi5pbnRlcm5hbC5nZXRDdXJyZW50UGFnZUluZm8oKS5wYWdlTnVtYmVyLG49MDtuPHRoaXMucGRmLmludGVybmFsLmdldE51bWJlck9mUGFnZXMoKTtuKyspdGhpcy5wZGYuc2V0UGFnZShuKzEpLHRoaXMucGRmLmludGVybmFsLm91dChcIlFcIik7dGhpcy5wZGYuc2V0UGFnZShlKSx0JiYwIT09dGhpcy5jdHhTdGFjay5sZW5ndGgmJih0aGlzLmN0eD10aGlzLmN0eFN0YWNrLnBvcCgpLHRoaXMuZmlsbFN0eWxlPXRoaXMuY3R4LmZpbGxTdHlsZSx0aGlzLnN0cm9rZVN0eWxlPXRoaXMuY3R4LnN0cm9rZVN0eWxlLHRoaXMuZm9udD10aGlzLmN0eC5mb250LHRoaXMubGluZUNhcD10aGlzLmN0eC5saW5lQ2FwLHRoaXMubGluZVdpZHRoPXRoaXMuY3R4LmxpbmVXaWR0aCx0aGlzLmxpbmVKb2luPXRoaXMuY3R4LmxpbmVKb2luKX0sbi5wcm90b3R5cGUudG9EYXRhVVJMPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwidG9EYXRhVXJsIG5vdCBpbXBsZW1lbnRlZC5cIil9O3ZhciBmPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpO2lmKCEwPT09dC5pc0NhbnZhc0dyYWRpZW50JiYodD10LmdldENvbG9yKCkpLCF0KXJldHVybntyOjAsZzowLGI6MCxhOjAsc3R5bGU6dH07aWYoL3RyYW5zcGFyZW50fHJnYmFcXHMqXFwoXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccyosXFxzKjArXFxzKlxcKS8udGVzdCh0KSlpPXI9bj1lPTA7ZWxzZXt2YXIgbz0vcmdiXFxzKlxcKFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqXFwpLy5leGVjKHQpO2lmKG51bGwhPT1vKWU9cGFyc2VJbnQob1sxXSksbj1wYXJzZUludChvWzJdKSxyPXBhcnNlSW50KG9bM10pLGk9MTtlbHNlIGlmKG51bGwhPT0obz0vcmdiYVxccypcXChcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKFtcXGRcXC5dKylcXHMqXFwpLy5leGVjKHQpKSllPXBhcnNlSW50KG9bMV0pLG49cGFyc2VJbnQob1syXSkscj1wYXJzZUludChvWzNdKSxpPXBhcnNlRmxvYXQob1s0XSk7ZWxzZXtpZihpPTEsXCJzdHJpbmdcIj09dHlwZW9mIHQmJlwiI1wiIT09dC5jaGFyQXQoMCkpe3ZhciBhPW5ldyBSR0JDb2xvcih0KTt0PWEub2s/YS50b0hleCgpOlwiIzAwMDAwMFwifTQ9PT10Lmxlbmd0aD8oZT10LnN1YnN0cmluZygxLDIpLGUrPWUsbj10LnN1YnN0cmluZygyLDMpLG4rPW4scj10LnN1YnN0cmluZygzLDQpLHIrPXIpOihlPXQuc3Vic3RyaW5nKDEsMyksbj10LnN1YnN0cmluZygzLDUpLHI9dC5zdWJzdHJpbmcoNSw3KSksZT1wYXJzZUludChlLDE2KSxuPXBhcnNlSW50KG4sMTYpLHI9cGFyc2VJbnQociwxNil9fXJldHVybntyOmUsZzpuLGI6cixhOmksc3R5bGU6dH19LE49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdHguaXNGaWxsVHJhbnNwYXJlbnR8fDA9PXRoaXMuZ2xvYmFsQWxwaGF9LEw9ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbih0aGlzLmN0eC5pc1N0cm9rZVRyYW5zcGFyZW50fHwwPT10aGlzLmdsb2JhbEFscGhhKX07bi5wcm90b3R5cGUuZmlsbFRleHQ9ZnVuY3Rpb24odCxlLG4scil7aWYoaXNOYU4oZSl8fGlzTmFOKG4pfHxcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBjb25zb2xlLmVycm9yKFwianNQREYuY29udGV4dDJkLmZpbGxUZXh0OiBJbnZhbGlkIGFyZ3VtZW50c1wiLGFyZ3VtZW50cyksbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLmNvbnRleHQyZC5maWxsVGV4dFwiKTtpZihyPWlzTmFOKHIpP3ZvaWQgMDpyLCFOLmNhbGwodGhpcykpe249YS5jYWxsKHRoaXMsbik7dmFyIGk9Qih0aGlzLmN0eC50cmFuc2Zvcm0ucm90YXRpb24pLG89dGhpcy5jdHgudHJhbnNmb3JtLnNjYWxlWDtzLmNhbGwodGhpcyx7dGV4dDp0LHg6ZSx5Om4sc2NhbGU6byxhbmdsZTppLGFsaWduOnRoaXMudGV4dEFsaWduLG1heFdpZHRoOnJ9KX19LG4ucHJvdG90eXBlLnN0cm9rZVRleHQ9ZnVuY3Rpb24odCxlLG4scil7aWYoaXNOYU4oZSl8fGlzTmFOKG4pfHxcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBjb25zb2xlLmVycm9yKFwianNQREYuY29udGV4dDJkLnN0cm9rZVRleHQ6IEludmFsaWQgYXJndW1lbnRzXCIsYXJndW1lbnRzKSxuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLnN0cm9rZVRleHRcIik7aWYoIUwuY2FsbCh0aGlzKSl7cj1pc05hTihyKT92b2lkIDA6cixuPWEuY2FsbCh0aGlzLG4pO3ZhciBpPUIodGhpcy5jdHgudHJhbnNmb3JtLnJvdGF0aW9uKSxvPXRoaXMuY3R4LnRyYW5zZm9ybS5zY2FsZVg7cy5jYWxsKHRoaXMse3RleHQ6dCx4OmUseTpuLHNjYWxlOm8scmVuZGVyaW5nTW9kZTpcInN0cm9rZVwiLGFuZ2xlOmksYWxpZ246dGhpcy50ZXh0QWxpZ24sbWF4V2lkdGg6cn0pfX0sbi5wcm90b3R5cGUubWVhc3VyZVRleHQ9ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgY29uc29sZS5lcnJvcihcImpzUERGLmNvbnRleHQyZC5tZWFzdXJlVGV4dDogSW52YWxpZCBhcmd1bWVudHNcIixhcmd1bWVudHMpLG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHBhc3NlZCB0byBqc1BERi5jb250ZXh0MmQubWVhc3VyZVRleHRcIik7dmFyIGU9dGhpcy5wZGYsbj10aGlzLnBkZi5pbnRlcm5hbC5zY2FsZUZhY3RvcixyPWUuaW50ZXJuYWwuZ2V0Rm9udFNpemUoKSxpPWUuZ2V0U3RyaW5nVW5pdFdpZHRoKHQpKnIvZS5pbnRlcm5hbC5zY2FsZUZhY3RvcjtyZXR1cm4gbmV3IGZ1bmN0aW9uKHQpe3ZhciBlPSh0PXR8fHt9KS53aWR0aHx8MDtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX19KSx0aGlzfSh7d2lkdGg6aSo9TWF0aC5yb3VuZCg5NipuLzcyKjFlNCkvMWU0fSl9LG4ucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKHQsZSl7aWYoaXNOYU4odCl8fGlzTmFOKGUpKXRocm93IGNvbnNvbGUuZXJyb3IoXCJqc1BERi5jb250ZXh0MmQuc2NhbGU6IEludmFsaWQgYXJndW1lbnRzXCIsYXJndW1lbnRzKSxuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLnNjYWxlXCIpO3ZhciBuPW5ldyBNKHQsMCwwLGUsMCwwKTt0aGlzLmN0eC50cmFuc2Zvcm09dGhpcy5jdHgudHJhbnNmb3JtLm11bHRpcGx5KG4pfSxuLnByb3RvdHlwZS5yb3RhdGU9ZnVuY3Rpb24odCl7aWYoaXNOYU4odCkpdGhyb3cgY29uc29sZS5lcnJvcihcImpzUERGLmNvbnRleHQyZC5yb3RhdGU6IEludmFsaWQgYXJndW1lbnRzXCIsYXJndW1lbnRzKSxuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLnJvdGF0ZVwiKTt2YXIgZT1uZXcgTShNYXRoLmNvcyh0KSxNYXRoLnNpbih0KSwtTWF0aC5zaW4odCksTWF0aC5jb3ModCksMCwwKTt0aGlzLmN0eC50cmFuc2Zvcm09dGhpcy5jdHgudHJhbnNmb3JtLm11bHRpcGx5KGUpfSxuLnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24odCxlKXtpZihpc05hTih0KXx8aXNOYU4oZSkpdGhyb3cgY29uc29sZS5lcnJvcihcImpzUERGLmNvbnRleHQyZC50cmFuc2xhdGU6IEludmFsaWQgYXJndW1lbnRzXCIsYXJndW1lbnRzKSxuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLnRyYW5zbGF0ZVwiKTt2YXIgbj1uZXcgTSgxLDAsMCwxLHQsZSk7dGhpcy5jdHgudHJhbnNmb3JtPXRoaXMuY3R4LnRyYW5zZm9ybS5tdWx0aXBseShuKX0sbi5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXtpZihpc05hTih0KXx8aXNOYU4oZSl8fGlzTmFOKG4pfHxpc05hTihyKXx8aXNOYU4oaSl8fGlzTmFOKG8pKXRocm93IGNvbnNvbGUuZXJyb3IoXCJqc1BERi5jb250ZXh0MmQudHJhbnNmb3JtOiBJbnZhbGlkIGFyZ3VtZW50c1wiLGFyZ3VtZW50cyksbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLmNvbnRleHQyZC50cmFuc2Zvcm1cIik7dmFyIGE9bmV3IE0odCxlLG4scixpLG8pO3RoaXMuY3R4LnRyYW5zZm9ybT10aGlzLmN0eC50cmFuc2Zvcm0ubXVsdGlwbHkoYSl9LG4ucHJvdG90eXBlLnNldFRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbixyLGksbyl7dD1pc05hTih0KT8xOnQsZT1pc05hTihlKT8wOmUsbj1pc05hTihuKT8wOm4scj1pc05hTihyKT8xOnIsaT1pc05hTihpKT8wOmksbz1pc05hTihvKT8wOm8sdGhpcy5jdHgudHJhbnNmb3JtPW5ldyBNKHQsZSxuLHIsaSxvKX0sbi5wcm90b3R5cGUuZHJhd0ltYWdlPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLGEscyxsKXt2YXIgaD10aGlzLnBkZi5nZXRJbWFnZVByb3BlcnRpZXModCksdT0xLGM9MSxmPTEscD0xO3ZvaWQgMCE9PXImJnZvaWQgMCE9PXMmJihmPXMvcixwPWwvaSx1PWgud2lkdGgvcipzL3IsYz1oLmhlaWdodC9pKmwvaSksdm9pZCAwPT09byYmKG89ZSxhPW4sbj1lPTApLHZvaWQgMCE9PXImJnZvaWQgMD09PXMmJihzPXIsbD1pKSx2b2lkIDA9PT1yJiZ2b2lkIDA9PT1zJiYocz1oLndpZHRoLGw9aC5oZWlnaHQpO3ZhciBkPXRoaXMuY3R4LnRyYW5zZm9ybS5kZWNvbXBvc2UoKSxnPUIoZC5yb3RhdGUuc2h4KTtkLnNjYWxlLnN4LGQuc2NhbGUuc3k7Zm9yKHZhciBtLHk9bmV3IE0sdj0oKHk9KHk9KHk9eS5tdWx0aXBseShkLnRyYW5zbGF0ZSkpLm11bHRpcGx5KGQuc2tldykpLm11bHRpcGx5KGQuc2NhbGUpKS5hcHBseVRvUG9pbnQobmV3IGoocyxsKSkseS5hcHBseVRvUmVjdGFuZ2xlKG5ldyBFKG8tZSpmLGEtbipwLHIqdSxpKmMpKSksdz1GLmNhbGwodGhpcyx2KSxiPVtdLHg9MDt4PHcubGVuZ3RoO3grPTEpLTE9PT1iLmluZGV4T2Yod1t4XSkmJmIucHVzaCh3W3hdKTtpZihiLnNvcnQoKSx0aGlzLmF1dG9QYWdpbmcpZm9yKHZhciBOPWJbMF0sTD1iW2IubGVuZ3RoLTFdLEE9TjtBPEwrMTtBKyspe2lmKHRoaXMucGRmLnNldFBhZ2UoQSksMCE9PXRoaXMuY3R4LmNsaXBfcGF0aC5sZW5ndGgpe3ZhciBTPXRoaXMucGF0aDttPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jdHguY2xpcF9wYXRoKSksdGhpcy5wYXRoPVAobSx0aGlzLnBvc1gsLTEqdGhpcy5wZGYuaW50ZXJuYWwucGFnZVNpemUuaGVpZ2h0KihBLTEpK3RoaXMucG9zWSksay5jYWxsKHRoaXMsXCJmaWxsXCIsITApLHRoaXMucGF0aD1TfXZhciBfPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodikpO189UChbX10sdGhpcy5wb3NYLC0xKnRoaXMucGRmLmludGVybmFsLnBhZ2VTaXplLmhlaWdodCooQS0xKSt0aGlzLnBvc1kpWzBdLHRoaXMucGRmLmFkZEltYWdlKHQsXCJqcGdcIixfLngsXy55LF8udyxfLmgsbnVsbCxudWxsLGcpfWVsc2UgdGhpcy5wZGYuYWRkSW1hZ2UodCxcImpwZ1wiLHYueCx2Lnksdi53LHYuaCxudWxsLG51bGwsZyl9O3ZhciBGPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1bXTtzd2l0Y2goZT1lfHx0aGlzLnBkZi5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aCxuPW58fHRoaXMucGRmLmludGVybmFsLnBhZ2VTaXplLmhlaWdodCx0LnR5cGUpe2RlZmF1bHQ6Y2FzZVwibXRcIjpjYXNlXCJsdFwiOnIucHVzaChNYXRoLmZsb29yKCh0LnkrdGhpcy5wb3NZKS9uKSsxKTticmVhaztjYXNlXCJhcmNcIjpyLnB1c2goTWF0aC5mbG9vcigodC55K3RoaXMucG9zWS10LnJhZGl1cykvbikrMSksci5wdXNoKE1hdGguZmxvb3IoKHQueSt0aGlzLnBvc1krdC5yYWRpdXMpL24pKzEpO2JyZWFrO2Nhc2VcInFjdFwiOnZhciBpPXcodGhpcy5jdHgubGFzdFBvaW50LngsdGhpcy5jdHgubGFzdFBvaW50LnksdC54MSx0LnkxLHQueCx0LnkpO3IucHVzaChNYXRoLmZsb29yKGkueS9uKSsxKSxyLnB1c2goTWF0aC5mbG9vcigoaS55K2kuaCkvbikrMSk7YnJlYWs7Y2FzZVwiYmN0XCI6dmFyIG89Yih0aGlzLmN0eC5sYXN0UG9pbnQueCx0aGlzLmN0eC5sYXN0UG9pbnQueSx0LngxLHQueTEsdC54Mix0LnkyLHQueCx0LnkpO3IucHVzaChNYXRoLmZsb29yKG8ueS9uKSsxKSxyLnB1c2goTWF0aC5mbG9vcigoby55K28uaCkvbikrMSk7YnJlYWs7Y2FzZVwicmVjdFwiOnIucHVzaChNYXRoLmZsb29yKCh0LnkrdGhpcy5wb3NZKS9uKSsxKSxyLnB1c2goTWF0aC5mbG9vcigodC55K3QuaCt0aGlzLnBvc1kpL24pKzEpfWZvcih2YXIgYT0wO2E8ci5sZW5ndGg7YSs9MSlmb3IoO3RoaXMucGRmLmludGVybmFsLmdldE51bWJlck9mUGFnZXMoKTxyW2FdOyl2LmNhbGwodGhpcyk7cmV0dXJuIHJ9LHY9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmZpbGxTdHlsZSxlPXRoaXMuc3Ryb2tlU3R5bGUsbj10aGlzLmZvbnQscj10aGlzLmxpbmVDYXAsaT10aGlzLmxpbmVXaWR0aCxvPXRoaXMubGluZUpvaW47dGhpcy5wZGYuYWRkUGFnZSgpLHRoaXMuZmlsbFN0eWxlPXQsdGhpcy5zdHJva2VTdHlsZT1lLHRoaXMuZm9udD1uLHRoaXMubGluZUNhcD1yLHRoaXMubGluZVdpZHRoPWksdGhpcy5saW5lSm9pbj1vfSxQPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylzd2l0Y2godFtyXS50eXBlKXtjYXNlXCJiY3RcIjp0W3JdLngyKz1lLHRbcl0ueTIrPW47Y2FzZVwicWN0XCI6dFtyXS54MSs9ZSx0W3JdLnkxKz1uO2Nhc2VcIm10XCI6Y2FzZVwibHRcIjpjYXNlXCJhcmNcIjpkZWZhdWx0OnRbcl0ueCs9ZSx0W3JdLnkrPW59cmV0dXJuIHR9LHI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4scixpPXRoaXMuZmlsbFN0eWxlLG89dGhpcy5zdHJva2VTdHlsZSxhPSh0aGlzLmZvbnQsdGhpcy5saW5lQ2FwKSxzPXRoaXMubGluZVdpZHRoLGw9dGhpcy5saW5lSm9pbixoPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5wYXRoKSksdT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucGF0aCkpLGM9W10sZj0wO2Y8dS5sZW5ndGg7ZisrKWlmKHZvaWQgMCE9PXVbZl0ueClmb3IodmFyIHA9Ri5jYWxsKHRoaXMsdVtmXSksZD0wO2Q8cC5sZW5ndGg7ZCs9MSktMT09PWMuaW5kZXhPZihwW2RdKSYmYy5wdXNoKHBbZF0pO2ZvcihmPTA7ZjxjLmxlbmd0aDtmKyspZm9yKDt0aGlzLnBkZi5pbnRlcm5hbC5nZXROdW1iZXJPZlBhZ2VzKCk8Y1tmXTspdi5jYWxsKHRoaXMpO2lmKGMuc29ydCgpLHRoaXMuYXV0b1BhZ2luZyl7dmFyIGc9Y1swXSxtPWNbYy5sZW5ndGgtMV07Zm9yKGY9ZztmPG0rMTtmKyspe2lmKHRoaXMucGRmLnNldFBhZ2UoZiksdGhpcy5maWxsU3R5bGU9aSx0aGlzLnN0cm9rZVN0eWxlPW8sdGhpcy5saW5lQ2FwPWEsdGhpcy5saW5lV2lkdGg9cyx0aGlzLmxpbmVKb2luPWwsMCE9PXRoaXMuY3R4LmNsaXBfcGF0aC5sZW5ndGgpe3ZhciB5PXRoaXMucGF0aDtuPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jdHguY2xpcF9wYXRoKSksdGhpcy5wYXRoPVAobix0aGlzLnBvc1gsLTEqdGhpcy5wZGYuaW50ZXJuYWwucGFnZVNpemUuaGVpZ2h0KihmLTEpK3RoaXMucG9zWSksay5jYWxsKHRoaXMsdCwhMCksdGhpcy5wYXRoPXl9cj1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGgpKSx0aGlzLnBhdGg9UChyLHRoaXMucG9zWCwtMSp0aGlzLnBkZi5pbnRlcm5hbC5wYWdlU2l6ZS5oZWlnaHQqKGYtMSkrdGhpcy5wb3NZKSwhMSE9PWUmJjAhPT1mfHxrLmNhbGwodGhpcyx0LGUpfX1lbHNlIGsuY2FsbCh0aGlzLHQsZSk7dGhpcy5wYXRoPWh9LGs9ZnVuY3Rpb24odCxlKXtpZigoXCJzdHJva2VcIiE9PXR8fGV8fCFMLmNhbGwodGhpcykpJiYoXCJzdHJva2VcIj09PXR8fGV8fCFOLmNhbGwodGhpcykpKXt2YXIgbj1bXTt0aGlzLmN0eC5nbG9iYWxBbHBoYTt0aGlzLmN0eC5maWxsT3BhY2l0eTwxJiZ0aGlzLmN0eC5maWxsT3BhY2l0eTtmb3IodmFyIHIsaT10aGlzLnBhdGgsbz0wO288aS5sZW5ndGg7bysrKXt2YXIgYT1pW29dO3N3aXRjaChhLnR5cGUpe2Nhc2VcImJlZ2luXCI6bi5wdXNoKHtiZWdpbjohMH0pO2JyZWFrO2Nhc2VcImNsb3NlXCI6bi5wdXNoKHtjbG9zZTohMH0pO2JyZWFrO2Nhc2VcIm10XCI6bi5wdXNoKHtzdGFydDphLGRlbHRhczpbXSxhYnM6W119KTticmVhaztjYXNlXCJsdFwiOnZhciBzPW4ubGVuZ3RoO2lmKCFpc05hTihpW28tMV0ueCkpe3ZhciBsPVthLngtaVtvLTFdLngsYS55LWlbby0xXS55XTtpZigwPHMpZm9yKDswPD1zO3MtLSlpZighMCE9PW5bcy0xXS5jbG9zZSYmITAhPT1uW3MtMV0uYmVnaW4pe25bcy0xXS5kZWx0YXMucHVzaChsKSxuW3MtMV0uYWJzLnB1c2goYSk7YnJlYWt9fWJyZWFrO2Nhc2VcImJjdFwiOmw9W2EueDEtaVtvLTFdLngsYS55MS1pW28tMV0ueSxhLngyLWlbby0xXS54LGEueTItaVtvLTFdLnksYS54LWlbby0xXS54LGEueS1pW28tMV0ueV07bltuLmxlbmd0aC0xXS5kZWx0YXMucHVzaChsKTticmVhaztjYXNlXCJxY3RcIjp2YXIgaD1pW28tMV0ueCsyLzMqKGEueDEtaVtvLTFdLngpLHU9aVtvLTFdLnkrMi8zKihhLnkxLWlbby0xXS55KSxjPWEueCsyLzMqKGEueDEtYS54KSxmPWEueSsyLzMqKGEueTEtYS55KSxwPWEueCxkPWEueTtsPVtoLWlbby0xXS54LHUtaVtvLTFdLnksYy1pW28tMV0ueCxmLWlbby0xXS55LHAtaVtvLTFdLngsZC1pW28tMV0ueV07bltuLmxlbmd0aC0xXS5kZWx0YXMucHVzaChsKTticmVhaztjYXNlXCJhcmNcIjpuLnB1c2goe2RlbHRhczpbXSxhYnM6W10sYXJjOiEwfSksQXJyYXkuaXNBcnJheShuW24ubGVuZ3RoLTFdLmFicykmJm5bbi5sZW5ndGgtMV0uYWJzLnB1c2goYSl9fXI9ZT9udWxsOlwic3Ryb2tlXCI9PT10P1wic3Ryb2tlXCI6XCJmaWxsXCI7Zm9yKG89MDtvPG4ubGVuZ3RoO28rKyl7aWYobltvXS5hcmMpZm9yKHZhciBnPW5bb10uYWJzLG09MDttPGcubGVuZ3RoO20rKyl7dmFyIHk9Z1ttXTtpZih2b2lkIDAhPT15LnN0YXJ0QW5nbGUpe3ZhciB2PUIoeS5zdGFydEFuZ2xlKSx3PUIoeS5lbmRBbmdsZSksYj15LngseD15Lnk7QS5jYWxsKHRoaXMsYix4LHkucmFkaXVzLHYsdyx5LmNvdW50ZXJjbG9ja3dpc2UscixlKX1lbHNlIEkuY2FsbCh0aGlzLHkueCx5LnkpfWlmKCFuW29dLmFyYyYmITAhPT1uW29dLmNsb3NlJiYhMCE9PW5bb10uYmVnaW4pe2I9bltvXS5zdGFydC54LHg9bltvXS5zdGFydC55O0MuY2FsbCh0aGlzLG5bb10uZGVsdGFzLGIseCxudWxsLG51bGwpfX1yJiZTLmNhbGwodGhpcyxyKSxlJiZfLmNhbGwodGhpcyl9fSxhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucGRmLmludGVybmFsLmdldEZvbnRTaXplKCkvdGhpcy5wZGYuaW50ZXJuYWwuc2NhbGVGYWN0b3Isbj1lKih0aGlzLnBkZi5pbnRlcm5hbC5nZXRMaW5lSGVpZ2h0RmFjdG9yKCktMSk7c3dpdGNoKHRoaXMuY3R4LnRleHRCYXNlbGluZSl7Y2FzZVwiYm90dG9tXCI6cmV0dXJuIHQtbjtjYXNlXCJ0b3BcIjpyZXR1cm4gdCtlLW47Y2FzZVwiaGFuZ2luZ1wiOnJldHVybiB0K2UtMipuO2Nhc2VcIm1pZGRsZVwiOnJldHVybiB0K2UvMi1uO2Nhc2VcImlkZW9ncmFwaGljXCI6cmV0dXJuIHQ7Y2FzZVwiYWxwaGFiZXRpY1wiOmRlZmF1bHQ6cmV0dXJuIHR9fTtuLnByb3RvdHlwZS5jcmVhdGVMaW5lYXJHcmFkaWVudD1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKCl7fTtyZXR1cm4gdC5jb2xvclN0b3BzPVtdLHQuYWRkQ29sb3JTdG9wPWZ1bmN0aW9uKHQsZSl7dGhpcy5jb2xvclN0b3BzLnB1c2goW3QsZV0pfSx0LmdldENvbG9yPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmNvbG9yU3RvcHMubGVuZ3RoP1wiIzAwMDAwMFwiOnRoaXMuY29sb3JTdG9wc1swXVsxXX0sdC5pc0NhbnZhc0dyYWRpZW50PSEwLHR9LG4ucHJvdG90eXBlLmNyZWF0ZVBhdHRlcm49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jcmVhdGVMaW5lYXJHcmFkaWVudCgpfSxuLnByb3RvdHlwZS5jcmVhdGVSYWRpYWxHcmFkaWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNyZWF0ZUxpbmVhckdyYWRpZW50KCl9O3ZhciBBPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLGEscyl7dGhpcy5wZGYuaW50ZXJuYWwuc2NhbGVGYWN0b3I7Zm9yKHZhciBsPXkociksaD15KGkpLHU9Zy5jYWxsKHRoaXMsbixsLGgsbyksYz0wO2M8dS5sZW5ndGg7YysrKXt2YXIgZj11W2NdOzA9PT1jJiZwLmNhbGwodGhpcyxmLngxK3QsZi55MStlKSxkLmNhbGwodGhpcyx0LGUsZi54MixmLnkyLGYueDMsZi55MyxmLng0LGYueTQpfXM/Xy5jYWxsKHRoaXMpOlMuY2FsbCh0aGlzLGEpfSxTPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlXCJzdHJva2VcIjp0aGlzLnBkZi5pbnRlcm5hbC5vdXQoXCJTXCIpO2JyZWFrO2Nhc2VcImZpbGxcIjp0aGlzLnBkZi5pbnRlcm5hbC5vdXQoXCJmXCIpfX0sXz1mdW5jdGlvbigpe3RoaXMucGRmLmNsaXAoKX0scD1mdW5jdGlvbih0LGUpe3RoaXMucGRmLmludGVybmFsLm91dChpKHQpK1wiIFwiK28oZSkrXCIgbVwiKX0scz1mdW5jdGlvbih0KXt2YXIgZTtzd2l0Y2godC5hbGlnbil7Y2FzZVwicmlnaHRcIjpjYXNlXCJlbmRcIjplPVwicmlnaHRcIjticmVhaztjYXNlXCJjZW50ZXJcIjplPVwiY2VudGVyXCI7YnJlYWs7Y2FzZVwibGVmdFwiOmNhc2VcInN0YXJ0XCI6ZGVmYXVsdDplPVwibGVmdFwifXZhciBuPXRoaXMuY3R4LnRyYW5zZm9ybS5hcHBseVRvUG9pbnQobmV3IGoodC54LHQueSkpLHI9dGhpcy5jdHgudHJhbnNmb3JtLmRlY29tcG9zZSgpLGk9bmV3IE07aT0oaT0oaT1pLm11bHRpcGx5KHIudHJhbnNsYXRlKSkubXVsdGlwbHkoci5za2V3KSkubXVsdGlwbHkoci5zY2FsZSk7Zm9yKHZhciBvLGE9dGhpcy5wZGYuZ2V0VGV4dERpbWVuc2lvbnModC50ZXh0KSxzPXRoaXMuY3R4LnRyYW5zZm9ybS5hcHBseVRvUmVjdGFuZ2xlKG5ldyBFKHQueCx0LnksYS53LGEuaCkpLGw9aS5hcHBseVRvUmVjdGFuZ2xlKG5ldyBFKHQueCx0LnktYS5oLGEudyxhLmgpKSxoPUYuY2FsbCh0aGlzLGwpLHU9W10sYz0wO2M8aC5sZW5ndGg7Yys9MSktMT09PXUuaW5kZXhPZihoW2NdKSYmdS5wdXNoKGhbY10pO2lmKHUuc29ydCgpLCEwPT09dGhpcy5hdXRvUGFnaW5nKWZvcih2YXIgZj11WzBdLHA9dVt1Lmxlbmd0aC0xXSxkPWY7ZDxwKzE7ZCsrKXtpZih0aGlzLnBkZi5zZXRQYWdlKGQpLDAhPT10aGlzLmN0eC5jbGlwX3BhdGgubGVuZ3RoKXt2YXIgZz10aGlzLnBhdGg7bz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY3R4LmNsaXBfcGF0aCkpLHRoaXMucGF0aD1QKG8sdGhpcy5wb3NYLC0xKnRoaXMucGRmLmludGVybmFsLnBhZ2VTaXplLmhlaWdodCooZC0xKSt0aGlzLnBvc1kpLGsuY2FsbCh0aGlzLFwiZmlsbFwiLCEwKSx0aGlzLnBhdGg9Z312YXIgbT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHMpKTtpZihtPVAoW21dLHRoaXMucG9zWCwtMSp0aGlzLnBkZi5pbnRlcm5hbC5wYWdlU2l6ZS5oZWlnaHQqKGQtMSkrdGhpcy5wb3NZKVswXSwuMDE8PXQuc2NhbGUpe3ZhciB5PXRoaXMucGRmLmludGVybmFsLmdldEZvbnRTaXplKCk7dGhpcy5wZGYuc2V0Rm9udFNpemUoeSp0LnNjYWxlKX10aGlzLnBkZi50ZXh0KHQudGV4dCxtLngsbS55LHthbmdsZTp0LmFuZ2xlLGFsaWduOmUscmVuZGVyaW5nTW9kZTp0LnJlbmRlcmluZ01vZGUsbWF4V2lkdGg6dC5tYXhXaWR0aH0pLC4wMTw9dC5zY2FsZSYmdGhpcy5wZGYuc2V0Rm9udFNpemUoeSl9ZWxzZXtpZiguMDE8PXQuc2NhbGUpe3k9dGhpcy5wZGYuaW50ZXJuYWwuZ2V0Rm9udFNpemUoKTt0aGlzLnBkZi5zZXRGb250U2l6ZSh5KnQuc2NhbGUpfXRoaXMucGRmLnRleHQodC50ZXh0LG4ueCt0aGlzLnBvc1gsbi55K3RoaXMucG9zWSx7YW5nbGU6dC5hbmdsZSxhbGlnbjplLHJlbmRlcmluZ01vZGU6dC5yZW5kZXJpbmdNb2RlLG1heFdpZHRoOnQubWF4V2lkdGh9KSwuMDE8PXQuc2NhbGUmJnRoaXMucGRmLnNldEZvbnRTaXplKHkpfX0sST1mdW5jdGlvbih0LGUsbixyKXtuPW58fDAscj1yfHwwLHRoaXMucGRmLmludGVybmFsLm91dChpKHQrbikrXCIgXCIrbyhlK3IpK1wiIGxcIil9LEM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnBkZi5saW5lcyh0LGUsbixudWxsLG51bGwpfSxkPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLGEscyl7dGhpcy5wZGYuaW50ZXJuYWwub3V0KFtsKGgobit0KSksbCh1KHIrZSkpLGwoaChpK3QpKSxsKHUobytlKSksbChoKGErdCkpLGwodShzK2UpKSxcImNcIl0uam9pbihcIiBcIikpfSxnPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPTIqTWF0aC5QSSxvPWU7KG88aXx8aTxvKSYmKG8lPWkpO3ZhciBhPW47KGE8aXx8aTxhKSYmKGElPWkpO2Zvcih2YXIgcz1bXSxsPU1hdGguUEkvMixoPXI/LTE6MSx1PWUsYz1NYXRoLm1pbihpLE1hdGguYWJzKGEtbykpOzFlLTU8Yzspe3ZhciBmPXUraCpNYXRoLm1pbihjLGwpO3MucHVzaChtLmNhbGwodGhpcyx0LHUsZikpLGMtPU1hdGguYWJzKGYtdSksdT1mfXJldHVybiBzfSxtPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0obi1lKS8yLGk9dCpNYXRoLmNvcyhyKSxvPXQqTWF0aC5zaW4ociksYT1pLHM9LW8sbD1hKmErcypzLGg9bCthKmkrcypvLHU9NC8zKihNYXRoLnNxcnQoMipsKmgpLWgpLyhhKm8tcyppKSxjPWEtdSpzLGY9cyt1KmEscD1jLGQ9LWYsZz1yK2UsbT1NYXRoLmNvcyhnKSx5PU1hdGguc2luKGcpO3JldHVybnt4MTp0Kk1hdGguY29zKGUpLHkxOnQqTWF0aC5zaW4oZSkseDI6YyptLWYqeSx5MjpjKnkrZiptLHgzOnAqbS1kKnkseTM6cCp5K2QqbSx4NDp0Kk1hdGguY29zKG4pLHk0OnQqTWF0aC5zaW4obil9fSxCPWZ1bmN0aW9uKHQpe3JldHVybiAxODAqdC9NYXRoLlBJfSx5PWZ1bmN0aW9uKHQpe3JldHVybiB0Kk1hdGguUEkvMTgwfSx3PWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXt2YXIgYT10Ky41KihuLXQpLHM9ZSsuNSooci1lKSxsPWkrLjUqKG4taSksaD1vKy41KihyLW8pLHU9TWF0aC5taW4odCxpLGEsbCksYz1NYXRoLm1heCh0LGksYSxsKSxmPU1hdGgubWluKGUsbyxzLGgpLHA9TWF0aC5tYXgoZSxvLHMsaCk7cmV0dXJuIG5ldyBFKHUsZixjLXUscC1mKX0sYj1mdW5jdGlvbih0LGUsbixyLGksbyxhLHMpe2Zvcih2YXIgbCxoLHUsYyxmLHAsZCxnLG0seSx2LHcsYix4PW4tdCxOPXItZSxMPWktbixBPW8tcixTPWEtaSxfPXMtbyxGPTA7Rjw0MTtGKyspZz0ocD0oaD10KyhsPUYvNDApKngpK2wqKChjPW4rbCpMKS1oKSkrbCooYytsKihpK2wqUy1jKS1wKSxtPShkPSh1PWUrbCpOKStsKigoZj1yK2wqQSktdSkpK2wqKGYrbCoobytsKl8tZiktZCksYj0wPT1GPyh3PXk9Zyx2PW0pOih5PU1hdGgubWluKHksZyksdj1NYXRoLm1pbih2LG0pLHc9TWF0aC5tYXgodyxnKSxNYXRoLm1heChiLG0pKTtyZXR1cm4gbmV3IEUoTWF0aC5yb3VuZCh5KSxNYXRoLnJvdW5kKHYpLE1hdGgucm91bmQody15KSxNYXRoLnJvdW5kKGItdikpfSxqPWZ1bmN0aW9uKHQsZSl7dmFyIG49dHx8MDtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInhcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sc2V0OmZ1bmN0aW9uKHQpe2lzTmFOKHQpfHwobj1wYXJzZUZsb2F0KHQpKX19KTt2YXIgcj1lfHwwO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwieVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByfSxzZXQ6ZnVuY3Rpb24odCl7aXNOYU4odCl8fChyPXBhcnNlRmxvYXQodCkpfX0pO3ZhciBpPVwicHRcIjtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ0eXBlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9LHNldDpmdW5jdGlvbih0KXtpPXQudG9TdHJpbmcoKX19KSx0aGlzfSxFPWZ1bmN0aW9uKHQsZSxuLHIpe2ouY2FsbCh0aGlzLHQsZSksdGhpcy50eXBlPVwicmVjdFwiO3ZhciBpPW58fDA7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJ3XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9LHNldDpmdW5jdGlvbih0KXtpc05hTih0KXx8KGk9cGFyc2VGbG9hdCh0KSl9fSk7dmFyIG89cnx8MDtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJoXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99LHNldDpmdW5jdGlvbih0KXtpc05hTih0KXx8KG89cGFyc2VGbG9hdCh0KSl9fSksdGhpc30sTT1mdW5jdGlvbih0LGUsbixyLGksbyl7dmFyIGE9W107cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic3hcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGFbMF19LHNldDpmdW5jdGlvbih0KXthWzBdPU1hdGgucm91bmQoMWU1KnQpLzFlNX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNoeVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYVsxXX0sc2V0OmZ1bmN0aW9uKHQpe2FbMV09TWF0aC5yb3VuZCgxZTUqdCkvMWU1fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic2h4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBhWzJdfSxzZXQ6ZnVuY3Rpb24odCl7YVsyXT1NYXRoLnJvdW5kKDFlNSp0KS8xZTV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzeVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYVszXX0sc2V0OmZ1bmN0aW9uKHQpe2FbM109TWF0aC5yb3VuZCgxZTUqdCkvMWU1fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwidHhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGFbNF19LHNldDpmdW5jdGlvbih0KXthWzRdPU1hdGgucm91bmQoMWU1KnQpLzFlNX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBhWzVdfSxzZXQ6ZnVuY3Rpb24odCl7YVs1XT1NYXRoLnJvdW5kKDFlNSp0KS8xZTV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJyb3RhdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnNoeCx0aGlzLnN4KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNjYWxlWFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWNvbXBvc2UoKS5zY2FsZS5zeH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNjYWxlWVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWNvbXBvc2UoKS5zY2FsZS5zeX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlzSWRlbnRpdHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLnN4JiYoMD09PXRoaXMuc2h5JiYoMD09PXRoaXMuc2h4JiYoMT09PXRoaXMuc3kmJigwPT09dGhpcy50eCYmMD09PXRoaXMudHkpKSkpfX0pLHRoaXMuc3g9aXNOYU4odCk/MTp0LHRoaXMuc2h5PWlzTmFOKGUpPzA6ZSx0aGlzLnNoeD1pc05hTihuKT8wOm4sdGhpcy5zeT1pc05hTihyKT8xOnIsdGhpcy50eD1pc05hTihpKT8wOmksdGhpcy50eT1pc05hTihvKT8wOm8sdGhpc307TS5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24odCl7dmFyIGU9dC5zeCp0aGlzLnN4K3Quc2h5KnRoaXMuc2h4LG49dC5zeCp0aGlzLnNoeSt0LnNoeSp0aGlzLnN5LHI9dC5zaHgqdGhpcy5zeCt0LnN5KnRoaXMuc2h4LGk9dC5zaHgqdGhpcy5zaHkrdC5zeSp0aGlzLnN5LG89dC50eCp0aGlzLnN4K3QudHkqdGhpcy5zaHgrdGhpcy50eCxhPXQudHgqdGhpcy5zaHkrdC50eSp0aGlzLnN5K3RoaXMudHk7cmV0dXJuIG5ldyBNKGUsbixyLGksbyxhKX0sTS5wcm90b3R5cGUuZGVjb21wb3NlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zeCxlPXRoaXMuc2h5LG49dGhpcy5zaHgscj10aGlzLnN5LGk9dGhpcy50eCxvPXRoaXMudHksYT1NYXRoLnNxcnQodCp0K2UqZSkscz0odC89YSkqbisoZS89YSkqcjtuLT10KnMsci09ZSpzO3ZhciBsPU1hdGguc3FydChuKm4rcipyKTtyZXR1cm4gcy89bCx0KihyLz1sKTxlKihuLz1sKSYmKHQ9LXQsZT0tZSxzPS1zLGE9LWEpLHtzY2FsZTpuZXcgTShhLDAsMCxsLDAsMCksdHJhbnNsYXRlOm5ldyBNKDEsMCwwLDEsaSxvKSxyb3RhdGU6bmV3IE0odCxlLC1lLHQsMCwwKSxza2V3Om5ldyBNKDEsMCxzLDEsMCwwKX19LE0ucHJvdG90eXBlLmFwcGx5VG9Qb2ludD1mdW5jdGlvbih0KXt2YXIgZT10LngqdGhpcy5zeCt0LnkqdGhpcy5zaHgrdGhpcy50eCxuPXQueCp0aGlzLnNoeSt0LnkqdGhpcy5zeSt0aGlzLnR5O3JldHVybiBuZXcgaihlLG4pfSxNLnByb3RvdHlwZS5hcHBseVRvUmVjdGFuZ2xlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYXBwbHlUb1BvaW50KHQpLG49dGhpcy5hcHBseVRvUG9pbnQobmV3IGoodC54K3Qudyx0LnkrdC5oKSk7cmV0dXJuIG5ldyBFKGUueCxlLnksbi54LWUueCxuLnktZS55KX0sTS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN4LGU9dGhpcy5zaHksbj10aGlzLnNoeCxyPXRoaXMuc3ksaT10aGlzLnR4LG89dGhpcy50eTtyZXR1cm4gbmV3IE0odCxlLG4scixpLG8pfX0obHQuQVBJLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3d8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbHx8RnVuY3Rpb24oJ3JldHVybiB0eXBlb2YgdGhpcyA9PT0gXCJvYmplY3RcIiAmJiB0aGlzLmNvbnRlbnQnKSgpfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkpLFxuLyoqXG4gICAqIGpzUERGIGZpbHRlcnMgUGx1Z0luXG4gICAqIENvcHlyaWdodCAoYykgMjAxNCBBcmFzIEFiYmFzaSBcbiAgICpcbiAgICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAgKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAgICovXG5hPWx0LkFQSSxvPWZ1bmN0aW9uKHQpe3ZhciByLGUsbixpLG8sYSxzLGwsaCx1O2ZvcigvW15cXHgwMC1cXHhGRl0vLnRlc3QodCksZT1bXSxuPTAsaT0odCs9cj1cIlxcMFxcMFxcMFxcMFwiLnNsaWNlKHQubGVuZ3RoJTR8fDQpKS5sZW5ndGg7bjxpO24rPTQpMCE9PShvPSh0LmNoYXJDb2RlQXQobik8PDI0KSsodC5jaGFyQ29kZUF0KG4rMSk8PDE2KSsodC5jaGFyQ29kZUF0KG4rMik8PDgpK3QuY2hhckNvZGVBdChuKzMpKT8oYT0obz0oKG89KChvPSgobz0oby0odT1vJTg1KSkvODUpLShoPW8lODUpKS84NSktKGw9byU4NSkpLzg1KS0ocz1vJTg1KSkvODUpJTg1LGUucHVzaChhKzMzLHMrMzMsbCszMyxoKzMzLHUrMzMpKTplLnB1c2goMTIyKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ci5sZW5ndGg7MDxuO24tLSl0LnBvcCgpfShlKSxTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxlKStcIn4+XCJ9LHM9ZnVuY3Rpb24odCl7dmFyIHIsZSxuLGksbyxhPVN0cmluZyxzPVwibGVuZ3RoXCIsbD1cImNoYXJDb2RlQXRcIixoPVwic2xpY2VcIix1PVwicmVwbGFjZVwiO2Zvcih0W2hdKC0yKSx0PXRbaF0oMCwtMilbdV0oL1xccy9nLFwiXCIpW3VdKFwielwiLFwiISEhISFcIiksbj1bXSxpPTAsbz0odCs9cj1cInV1dXV1XCJbaF0odFtzXSU1fHw1KSlbc107aTxvO2krPTUpZT01MjIwMDYyNSoodFtsXShpKS0zMykrNjE0MTI1Kih0W2xdKGkrMSktMzMpKzcyMjUqKHRbbF0oaSsyKS0zMykrODUqKHRbbF0oaSszKS0zMykrKHRbbF0oaSs0KS0zMyksbi5wdXNoKDI1NSZlPj4yNCwyNTUmZT4+MTYsMjU1JmU+PjgsMjU1JmUpO3JldHVybiBmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1yW3NdOzA8bjtuLS0pdC5wb3AoKX0obiksYS5mcm9tQ2hhckNvZGUuYXBwbHkoYSxuKX0saD1mdW5jdGlvbih0KXtmb3IodmFyIGU9XCJcIixuPTA7bjx0Lmxlbmd0aDtuKz0xKWUrPShcIjBcIit0LmNoYXJDb2RlQXQobikudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7cmV0dXJuIGUrPVwiPlwifSx1PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBSZWdFeHAoL14oWzAtOUEtRmEtZl17Mn0pKyQvKTtpZigtMSE9PSh0PXQucmVwbGFjZSgvXFxzL2csXCJcIikpLmluZGV4T2YoXCI+XCIpJiYodD10LnN1YnN0cigwLHQuaW5kZXhPZihcIj5cIikpKSx0Lmxlbmd0aCUyJiYodCs9XCIwXCIpLCExPT09ZS50ZXN0KHQpKXJldHVyblwiXCI7Zm9yKHZhciBuPVwiXCIscj0wO3I8dC5sZW5ndGg7cis9MiluKz1TdHJpbmcuZnJvbUNoYXJDb2RlKFwiMHhcIisodFtyXSt0W3IrMV0pKTtyZXR1cm4gbn0sYz1mdW5jdGlvbih0LGUpe2U9T2JqZWN0LmFzc2lnbih7cHJlZGljdG9yOjEsY29sb3JzOjEsYml0c1BlckNvbXBvbmVudDo4LGNvbHVtbnM6MX0sZSk7Zm9yKHZhciBuLHIsaT1bXSxvPXQubGVuZ3RoO28tLTspaVtvXT10LmNoYXJDb2RlQXQobyk7cmV0dXJuIG49YS5hZGxlcjMyY3MuZnJvbSh0KSwocj1uZXcgRGVmbGF0ZXIoNikpLmFwcGVuZChuZXcgVWludDhBcnJheShpKSksdD1yLmZsdXNoKCksKGk9bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgrNikpLnNldChuZXcgVWludDhBcnJheShbMTIwLDE1Nl0pKSxpLnNldCh0LDIpLGkuc2V0KG5ldyBVaW50OEFycmF5KFsyNTUmbixuPj44JjI1NSxuPj4xNiYyNTUsbj4+MjQmMjU1XSksdC5sZW5ndGgrMiksdD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsaSl9LGEucHJvY2Vzc0RhdGFCeUZpbHRlcnM9ZnVuY3Rpb24odCxlKXt2YXIgbj0wLHI9dHx8XCJcIixpPVtdO2ZvcihcInN0cmluZ1wiPT10eXBlb2YoZT1lfHxbXSkmJihlPVtlXSksbj0wO248ZS5sZW5ndGg7bis9MSlzd2l0Y2goZVtuXSl7Y2FzZVwiQVNDSUk4NURlY29kZVwiOmNhc2VcIi9BU0NJSTg1RGVjb2RlXCI6cj1zKHIpLGkucHVzaChcIi9BU0NJSTg1RW5jb2RlXCIpO2JyZWFrO2Nhc2VcIkFTQ0lJODVFbmNvZGVcIjpjYXNlXCIvQVNDSUk4NUVuY29kZVwiOnI9byhyKSxpLnB1c2goXCIvQVNDSUk4NURlY29kZVwiKTticmVhaztjYXNlXCJBU0NJSUhleERlY29kZVwiOmNhc2VcIi9BU0NJSUhleERlY29kZVwiOnI9dShyKSxpLnB1c2goXCIvQVNDSUlIZXhFbmNvZGVcIik7YnJlYWs7Y2FzZVwiQVNDSUlIZXhFbmNvZGVcIjpjYXNlXCIvQVNDSUlIZXhFbmNvZGVcIjpyPWgociksaS5wdXNoKFwiL0FTQ0lJSGV4RGVjb2RlXCIpO2JyZWFrO2Nhc2VcIkZsYXRlRW5jb2RlXCI6Y2FzZVwiL0ZsYXRlRW5jb2RlXCI6cj1jKHIpLGkucHVzaChcIi9GbGF0ZURlY29kZVwiKTticmVhaztkZWZhdWx0OnRocm93J1RoZSBmaWx0ZXI6IFwiJytlW25dKydcIiBpcyBub3QgaW1wbGVtZW50ZWQnfXJldHVybntkYXRhOnIscmV2ZXJzZUNoYWluOmkucmV2ZXJzZSgpLmpvaW4oXCIgXCIpfX0sKFxuLyoqXG4gICAqIGpzUERGIGZpbGVsb2FkaW5nIFBsdWdJblxuICAgKiBDb3B5cmlnaHQgKGMpIDIwMTggQXJhcyBBYmJhc2kgKGFyYXMuYWJiYXNpQGdtYWlsLmNvbSlcbiAgICpcbiAgICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAgKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAgICovXG5yPWx0LkFQSSkubG9hZEZpbGU9ZnVuY3Rpb24odCxlLG4pe3ZhciByO2U9ZXx8ITAsbj1ufHxmdW5jdGlvbigpe307dHJ5e3I9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBYTUxIdHRwUmVxdWVzdCxpPVtdLG89MCxhPWZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoLG49U3RyaW5nLmZyb21DaGFyQ29kZTtmb3Iobz0wO288ZTtvKz0xKWkucHVzaChuKDI1NSZ0LmNoYXJDb2RlQXQobykpKTtyZXR1cm4gaS5qb2luKFwiXCIpfTtpZihyLm9wZW4oXCJHRVRcIix0LCFlKSxyLm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkXCIpLCExPT09ZSYmKHIub25sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcy5yZXNwb25zZVRleHQpfSksci5zZW5kKG51bGwpLDIwMD09PXIuc3RhdHVzKXJldHVybiBlP2Eoci5yZXNwb25zZVRleHQpOnZvaWQgMDtjb25zb2xlLndhcm4oJ1VuYWJsZSB0byBsb2FkIGZpbGUgXCInK3QrJ1wiJyl9KHQsZSl9Y2F0Y2godCl7cj12b2lkIDB9cmV0dXJuIHJ9LHIubG9hZEltYWdlRmlsZT1yLmxvYWRGaWxlLFxuLyoqXG4gICAqIENvcHlyaWdodCAoYykgMjAxOCBFcmlrIEtvb3BtYW5zXG4gICAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAgICpcbiAgICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAgKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAgICovXG5pPWx0LkFQSSxmPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvd3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbCYmZ2xvYmFsLGc9ZnVuY3Rpb24odCl7dmFyIGU9c2UodCk7cmV0dXJuXCJ1bmRlZmluZWRcIj09PWU/XCJ1bmRlZmluZWRcIjpcInN0cmluZ1wiPT09ZXx8dCBpbnN0YW5jZW9mIFN0cmluZz9cInN0cmluZ1wiOlwibnVtYmVyXCI9PT1lfHx0IGluc3RhbmNlb2YgTnVtYmVyP1wibnVtYmVyXCI6XCJmdW5jdGlvblwiPT09ZXx8dCBpbnN0YW5jZW9mIEZ1bmN0aW9uP1wiZnVuY3Rpb25cIjp0JiZ0LmNvbnN0cnVjdG9yPT09QXJyYXk/XCJhcnJheVwiOnQmJjE9PT10Lm5vZGVUeXBlP1wiZWxlbWVudFwiOlwib2JqZWN0XCI9PT1lP1wib2JqZWN0XCI6XCJ1bmtub3duXCJ9LG09ZnVuY3Rpb24odCxlKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpO2lmKGUuY2xhc3NOYW1lJiYobi5jbGFzc05hbWU9ZS5jbGFzc05hbWUpLGUuaW5uZXJIVE1MKXtuLmlubmVySFRNTD1lLmlubmVySFRNTDtmb3IodmFyIHI9bi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSxpPXIubGVuZ3RoOzA8aS0tO251bGwpcltpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHJbaV0pfWZvcih2YXIgbyBpbiBlLnN0eWxlKW4uc3R5bGVbb109ZS5zdHlsZVtvXTtyZXR1cm4gbn0sKCgoeT1mdW5jdGlvbiB0KGUpe3ZhciBuPU9iamVjdC5hc3NpZ24odC5jb252ZXJ0KFByb21pc2UucmVzb2x2ZSgpKSxKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQudGVtcGxhdGUpKSkscj10LmNvbnZlcnQoUHJvbWlzZS5yZXNvbHZlKCksbik7cmV0dXJuIHI9KHI9ci5zZXRQcm9ncmVzcygxLHQsMSxbdF0pKS5zZXQoZSl9KS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShQcm9taXNlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXkpLmNvbnZlcnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZXx8eS5wcm90b3R5cGUsdH0seS50ZW1wbGF0ZT17cHJvcDp7c3JjOm51bGwsY29udGFpbmVyOm51bGwsb3ZlcmxheTpudWxsLGNhbnZhczpudWxsLGltZzpudWxsLHBkZjpudWxsLHBhZ2VTaXplOm51bGwsY2FsbGJhY2s6ZnVuY3Rpb24oKXt9fSxwcm9ncmVzczp7dmFsOjAsc3RhdGU6bnVsbCxuOjAsc3RhY2s6W119LG9wdDp7ZmlsZW5hbWU6XCJmaWxlLnBkZlwiLG1hcmdpbjpbMCwwLDAsMF0sZW5hYmxlTGlua3M6ITAseDowLHk6MCxodG1sMmNhbnZhczp7fSxqc1BERjp7fX19LHkucHJvdG90eXBlLmZyb209ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKCl7c3dpdGNoKGU9ZXx8ZnVuY3Rpb24odCl7c3dpdGNoKGcodCkpe2Nhc2VcInN0cmluZ1wiOnJldHVyblwic3RyaW5nXCI7Y2FzZVwiZWxlbWVudFwiOnJldHVyblwiY2FudmFzXCI9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlP1wiY2FudmFzXCI6XCJlbGVtZW50XCI7ZGVmYXVsdDpyZXR1cm5cInVua25vd25cIn19KHQpKXtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gdGhpcy5zZXQoe3NyYzptKFwiZGl2XCIse2lubmVySFRNTDp0fSl9KTtjYXNlXCJlbGVtZW50XCI6cmV0dXJuIHRoaXMuc2V0KHtzcmM6dH0pO2Nhc2VcImNhbnZhc1wiOnJldHVybiB0aGlzLnNldCh7Y2FudmFzOnR9KTtjYXNlXCJpbWdcIjpyZXR1cm4gdGhpcy5zZXQoe2ltZzp0fSk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5lcnJvcihcIlVua25vd24gc291cmNlIHR5cGUuXCIpfX0pfSx5LnByb3RvdHlwZS50bz1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZVwiY29udGFpbmVyXCI6cmV0dXJuIHRoaXMudG9Db250YWluZXIoKTtjYXNlXCJjYW52YXNcIjpyZXR1cm4gdGhpcy50b0NhbnZhcygpO2Nhc2VcImltZ1wiOnJldHVybiB0aGlzLnRvSW1nKCk7Y2FzZVwicGRmXCI6cmV0dXJuIHRoaXMudG9QZGYoKTtkZWZhdWx0OnJldHVybiB0aGlzLmVycm9yKFwiSW52YWxpZCB0YXJnZXQuXCIpfX0seS5wcm90b3R5cGUudG9Db250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aGVuTGlzdChbZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wLnNyY3x8dGhpcy5lcnJvcihcIkNhbm5vdCBkdXBsaWNhdGUgLSBubyBzb3VyY2UgSFRNTC5cIil9LGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcC5wYWdlU2l6ZXx8dGhpcy5zZXRQYWdlU2l6ZSgpfV0pLnRoZW4oZnVuY3Rpb24oKXt2YXIgdD17cG9zaXRpb246XCJyZWxhdGl2ZVwiLGRpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIix3aWR0aDpNYXRoLm1heCh0aGlzLnByb3Auc3JjLmNsaWVudFdpZHRoLHRoaXMucHJvcC5zcmMuc2Nyb2xsV2lkdGgsdGhpcy5wcm9wLnNyYy5vZmZzZXRXaWR0aCkrXCJweFwiLGxlZnQ6MCxyaWdodDowLHRvcDowLG1hcmdpbjpcImF1dG9cIixiYWNrZ3JvdW5kQ29sb3I6XCJ3aGl0ZVwifSxlPWZ1bmN0aW9uIHQoZSxuKXtmb3IodmFyIHI9Mz09PWUubm9kZVR5cGU/ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZS5ub2RlVmFsdWUpOmUuY2xvbmVOb2RlKCExKSxpPWUuZmlyc3RDaGlsZDtpO2k9aS5uZXh0U2libGluZykhMCE9PW4mJjE9PT1pLm5vZGVUeXBlJiZcIlNDUklQVFwiPT09aS5ub2RlTmFtZXx8ci5hcHBlbmRDaGlsZCh0KGksbikpO3JldHVybiAxPT09ZS5ub2RlVHlwZSYmKFwiQ0FOVkFTXCI9PT1lLm5vZGVOYW1lPyhyLndpZHRoPWUud2lkdGgsci5oZWlnaHQ9ZS5oZWlnaHQsci5nZXRDb250ZXh0KFwiMmRcIikuZHJhd0ltYWdlKGUsMCwwKSk6XCJURVhUQVJFQVwiIT09ZS5ub2RlTmFtZSYmXCJTRUxFQ1RcIiE9PWUubm9kZU5hbWV8fChyLnZhbHVlPWUudmFsdWUpLHIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbigpe3Iuc2Nyb2xsVG9wPWUuc2Nyb2xsVG9wLHIuc2Nyb2xsTGVmdD1lLnNjcm9sbExlZnR9LCEwKSkscn0odGhpcy5wcm9wLnNyYyx0aGlzLm9wdC5odG1sMmNhbnZhcy5qYXZhc2NyaXB0RW5hYmxlZCk7XCJCT0RZXCI9PT1lLnRhZ05hbWUmJih0LmhlaWdodD1NYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCxkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCkrXCJweFwiKSx0aGlzLnByb3Aub3ZlcmxheT1tKFwiZGl2XCIse2NsYXNzTmFtZTpcImh0bWwycGRmX19vdmVybGF5XCIsc3R5bGU6e3Bvc2l0aW9uOlwiZml4ZWRcIixvdmVyZmxvdzpcImhpZGRlblwiLHpJbmRleDoxZTMsbGVmdDpcIi0xMDAwMDBweFwiLHJpZ2h0OjAsYm90dG9tOjAsdG9wOjB9fSksdGhpcy5wcm9wLmNvbnRhaW5lcj1tKFwiZGl2XCIse2NsYXNzTmFtZTpcImh0bWwycGRmX19jb250YWluZXJcIixzdHlsZTp0fSksdGhpcy5wcm9wLmNvbnRhaW5lci5hcHBlbmRDaGlsZChlKSx0aGlzLnByb3AuY29udGFpbmVyLmZpcnN0Q2hpbGQuYXBwZW5kQ2hpbGQobShcImRpdlwiLHtzdHlsZTp7Y2xlYXI6XCJib3RoXCIsYm9yZGVyOlwiMCBub25lIHRyYW5zcGFyZW50XCIsbWFyZ2luOjAscGFkZGluZzowLGhlaWdodDowfX0pKSx0aGlzLnByb3AuY29udGFpbmVyLnN0eWxlLmZsb2F0PVwibm9uZVwiLHRoaXMucHJvcC5vdmVybGF5LmFwcGVuZENoaWxkKHRoaXMucHJvcC5jb250YWluZXIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5wcm9wLm92ZXJsYXkpLHRoaXMucHJvcC5jb250YWluZXIuZmlyc3RDaGlsZC5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsdGhpcy5wcm9wLmNvbnRhaW5lci5oZWlnaHQ9TWF0aC5tYXgodGhpcy5wcm9wLmNvbnRhaW5lci5maXJzdENoaWxkLmNsaWVudEhlaWdodCx0aGlzLnByb3AuY29udGFpbmVyLmZpcnN0Q2hpbGQuc2Nyb2xsSGVpZ2h0LHRoaXMucHJvcC5jb250YWluZXIuZmlyc3RDaGlsZC5vZmZzZXRIZWlnaHQpK1wicHhcIn0pfSx5LnByb3RvdHlwZS50b0NhbnZhcz1mdW5jdGlvbigpe3ZhciB0PVtmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMucHJvcC5jb250YWluZXIpfHx0aGlzLnRvQ29udGFpbmVyKCl9XTtyZXR1cm4gdGhpcy50aGVuTGlzdCh0KS50aGVuKGZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0LmFzc2lnbih7fSx0aGlzLm9wdC5odG1sMmNhbnZhcyk7aWYoZGVsZXRlIHQub25yZW5kZXJlZCx0aGlzLmlzSHRtbDJDYW52YXNMb2FkZWQoKSlyZXR1cm4gaHRtbDJjYW52YXModGhpcy5wcm9wLmNvbnRhaW5lcix0KX0pLnRoZW4oZnVuY3Rpb24odCl7KHRoaXMub3B0Lmh0bWwyY2FudmFzLm9ucmVuZGVyZWR8fGZ1bmN0aW9uKCl7fSkodCksdGhpcy5wcm9wLmNhbnZhcz10LGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5wcm9wLm92ZXJsYXkpfSl9LHkucHJvdG90eXBlLnRvQ29udGV4dDJkPWZ1bmN0aW9uKCl7dmFyIHQ9W2Z1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmJvZHkuY29udGFpbnModGhpcy5wcm9wLmNvbnRhaW5lcil8fHRoaXMudG9Db250YWluZXIoKX1dO3JldHVybiB0aGlzLnRoZW5MaXN0KHQpLnRoZW4oZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdC5qc1BERixlPU9iamVjdC5hc3NpZ24oe2FzeW5jOiEwLGFsbG93VGFpbnQ6ITAsYmFja2dyb3VuZENvbG9yOlwiI2ZmZmZmZlwiLGltYWdlVGltZW91dDoxNWUzLGxvZ2dpbmc6ITAscHJveHk6bnVsbCxyZW1vdmVDb250YWluZXI6ITAsZm9yZWlnbk9iamVjdFJlbmRlcmluZzohMSx1c2VDT1JTOiExfSx0aGlzLm9wdC5odG1sMmNhbnZhcyk7aWYoZGVsZXRlIGUub25yZW5kZXJlZCx0LmNvbnRleHQyZC5hdXRvUGFnaW5nPSEwLHQuY29udGV4dDJkLnBvc1g9dGhpcy5vcHQueCx0LmNvbnRleHQyZC5wb3NZPXRoaXMub3B0LnksZS53aW5kb3dIZWlnaHQ9ZS53aW5kb3dIZWlnaHR8fDAsZS53aW5kb3dIZWlnaHQ9MD09ZS53aW5kb3dIZWlnaHQ/TWF0aC5tYXgodGhpcy5wcm9wLmNvbnRhaW5lci5jbGllbnRIZWlnaHQsdGhpcy5wcm9wLmNvbnRhaW5lci5zY3JvbGxIZWlnaHQsdGhpcy5wcm9wLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQpOmUud2luZG93SGVpZ2h0LHRoaXMuaXNIdG1sMkNhbnZhc0xvYWRlZCgpKXJldHVybiBodG1sMmNhbnZhcyh0aGlzLnByb3AuY29udGFpbmVyLGUpfSkudGhlbihmdW5jdGlvbih0KXsodGhpcy5vcHQuaHRtbDJjYW52YXMub25yZW5kZXJlZHx8ZnVuY3Rpb24oKXt9KSh0KSx0aGlzLnByb3AuY2FudmFzPXQsZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLnByb3Aub3ZlcmxheSl9KX0seS5wcm90b3R5cGUudG9JbWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aGVuTGlzdChbZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wLmNhbnZhc3x8dGhpcy50b0NhbnZhcygpfV0pLnRoZW4oZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3AuY2FudmFzLnRvRGF0YVVSTChcImltYWdlL1wiK3RoaXMub3B0LmltYWdlLnR5cGUsdGhpcy5vcHQuaW1hZ2UucXVhbGl0eSk7dGhpcy5wcm9wLmltZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLHRoaXMucHJvcC5pbWcuc3JjPXR9KX0seS5wcm90b3R5cGUudG9QZGY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aGVuTGlzdChbZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b0NvbnRleHQyZCgpfV0pLnRoZW4oZnVuY3Rpb24oKXt0aGlzLnByb3AucGRmPXRoaXMucHJvcC5wZGZ8fHRoaXMub3B0LmpzUERGfSl9LHkucHJvdG90eXBlLm91dHB1dD1mdW5jdGlvbih0LGUsbil7cmV0dXJuXCJpbWdcIj09PShuPW58fFwicGRmXCIpLnRvTG93ZXJDYXNlKCl8fFwiaW1hZ2VcIj09PW4udG9Mb3dlckNhc2UoKT90aGlzLm91dHB1dEltZyh0LGUpOnRoaXMub3V0cHV0UGRmKHQsZSl9LHkucHJvdG90eXBlLm91dHB1dFBkZj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRoZW5MaXN0KFtmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3AucGRmfHx0aGlzLnRvUGRmKCl9XSkudGhlbihmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3AucGRmLm91dHB1dCh0LGUpfSl9LHkucHJvdG90eXBlLm91dHB1dEltZz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRoZW5MaXN0KFtmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3AuaW1nfHx0aGlzLnRvSW1nKCl9XSkudGhlbihmdW5jdGlvbigpe3N3aXRjaCh0KXtjYXNlIHZvaWQgMDpjYXNlXCJpbWdcIjpyZXR1cm4gdGhpcy5wcm9wLmltZztjYXNlXCJkYXRhdXJpc3RyaW5nXCI6Y2FzZVwiZGF0YXVybHN0cmluZ1wiOnJldHVybiB0aGlzLnByb3AuaW1nLnNyYztjYXNlXCJkYXRhdXJpXCI6Y2FzZVwiZGF0YXVybFwiOnJldHVybiBkb2N1bWVudC5sb2NhdGlvbi5ocmVmPXRoaXMucHJvcC5pbWcuc3JjO2RlZmF1bHQ6dGhyb3cnSW1hZ2Ugb3V0cHV0IHR5cGUgXCInK3QrJ1wiIGlzIG5vdCBzdXBwb3J0ZWQuJ319KX0seS5wcm90b3R5cGUuaXNIdG1sMkNhbnZhc0xvYWRlZD1mdW5jdGlvbigpe3ZhciB0PXZvaWQgMCE9PWYuaHRtbDJjYW52YXM7cmV0dXJuIHR8fGNvbnNvbGUuZXJyb3IoXCJodG1sMmNhbnZhcyBub3QgbG9hZGVkLlwiKSx0fSx5LnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNIdG1sMkNhbnZhc0xvYWRlZCgpKXJldHVybiB0aGlzLnRoZW5MaXN0KFtmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3AucGRmfHx0aGlzLnRvUGRmKCl9XSkuc2V0KHQ/e2ZpbGVuYW1lOnR9Om51bGwpLnRoZW4oZnVuY3Rpb24oKXt0aGlzLnByb3AucGRmLnNhdmUodGhpcy5vcHQuZmlsZW5hbWUpfSl9LHkucHJvdG90eXBlLmRvQ2FsbGJhY2s9ZnVuY3Rpb24odCl7aWYodGhpcy5pc0h0bWwyQ2FudmFzTG9hZGVkKCkpcmV0dXJuIHRoaXMudGhlbkxpc3QoW2Z1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcC5wZGZ8fHRoaXMudG9QZGYoKX1dKS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5wcm9wLmNhbGxiYWNrKHRoaXMucHJvcC5wZGYpfSl9LHkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT09ZyhlKSlyZXR1cm4gdGhpczt2YXIgdD1PYmplY3Qua2V5cyhlfHx7fSkubWFwKGZ1bmN0aW9uKHQpe2lmKHQgaW4geS50ZW1wbGF0ZS5wcm9wKXJldHVybiBmdW5jdGlvbigpe3RoaXMucHJvcFt0XT1lW3RdfTtzd2l0Y2godCl7Y2FzZVwibWFyZ2luXCI6cmV0dXJuIHRoaXMuc2V0TWFyZ2luLmJpbmQodGhpcyxlLm1hcmdpbik7Y2FzZVwianNQREZcIjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHQuanNQREY9ZS5qc1BERix0aGlzLnNldFBhZ2VTaXplKCl9O2Nhc2VcInBhZ2VTaXplXCI6cmV0dXJuIHRoaXMuc2V0UGFnZVNpemUuYmluZCh0aGlzLGUucGFnZVNpemUpO2RlZmF1bHQ6cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5vcHRbdF09ZVt0XX19fSx0aGlzKTtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhlbkxpc3QodCl9KX0seS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUsbil7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbigpe3ZhciB0PWUgaW4geS50ZW1wbGF0ZS5wcm9wP3RoaXMucHJvcFtlXTp0aGlzLm9wdFtlXTtyZXR1cm4gbj9uKHQpOnR9KX0seS5wcm90b3R5cGUuc2V0TWFyZ2luPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oKXtzd2l0Y2goZyh0KSl7Y2FzZVwibnVtYmVyXCI6dD1bdCx0LHQsdF07Y2FzZVwiYXJyYXlcIjppZigyPT09dC5sZW5ndGgmJih0PVt0WzBdLHRbMV0sdFswXSx0WzFdXSksND09PXQubGVuZ3RoKWJyZWFrO2RlZmF1bHQ6cmV0dXJuIHRoaXMuZXJyb3IoXCJJbnZhbGlkIG1hcmdpbiBhcnJheS5cIil9dGhpcy5vcHQubWFyZ2luPXR9KS50aGVuKHRoaXMuc2V0UGFnZVNpemUpfSx5LnByb3RvdHlwZS5zZXRQYWdlU2l6ZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7cmV0dXJuIE1hdGguZmxvb3IodCplLzcyKjk2KX1yZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKCl7KHQ9dHx8bHQuZ2V0UGFnZVNpemUodGhpcy5vcHQuanNQREYpKS5oYXNPd25Qcm9wZXJ0eShcImlubmVyXCIpfHwodC5pbm5lcj17d2lkdGg6dC53aWR0aC10aGlzLm9wdC5tYXJnaW5bMV0tdGhpcy5vcHQubWFyZ2luWzNdLGhlaWdodDp0LmhlaWdodC10aGlzLm9wdC5tYXJnaW5bMF0tdGhpcy5vcHQubWFyZ2luWzJdfSx0LmlubmVyLnB4PXt3aWR0aDplKHQuaW5uZXIud2lkdGgsdC5rKSxoZWlnaHQ6ZSh0LmlubmVyLmhlaWdodCx0LmspfSx0LmlubmVyLnJhdGlvPXQuaW5uZXIuaGVpZ2h0L3QuaW5uZXIud2lkdGgpLHRoaXMucHJvcC5wYWdlU2l6ZT10fSl9LHkucHJvdG90eXBlLnNldFByb2dyZXNzPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBudWxsIT10JiYodGhpcy5wcm9ncmVzcy52YWw9dCksbnVsbCE9ZSYmKHRoaXMucHJvZ3Jlc3Muc3RhdGU9ZSksbnVsbCE9biYmKHRoaXMucHJvZ3Jlc3Mubj1uKSxudWxsIT1yJiYodGhpcy5wcm9ncmVzcy5zdGFjaz1yKSx0aGlzLnByb2dyZXNzLnJhdGlvPXRoaXMucHJvZ3Jlc3MudmFsL3RoaXMucHJvZ3Jlc3Muc3RhdGUsdGhpc30seS5wcm90b3R5cGUudXBkYXRlUHJvZ3Jlc3M9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRoaXMuc2V0UHJvZ3Jlc3ModD90aGlzLnByb2dyZXNzLnZhbCt0Om51bGwsZXx8bnVsbCxuP3RoaXMucHJvZ3Jlc3MubituOm51bGwscj90aGlzLnByb2dyZXNzLnN0YWNrLmNvbmNhdChyKTpudWxsKX0seS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMudGhlbkNvcmUodCxlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4udXBkYXRlUHJvZ3Jlc3MobnVsbCxudWxsLDEsW2VdKSxQcm9taXNlLnByb3RvdHlwZS50aGVuLmNhbGwodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gbi51cGRhdGVQcm9ncmVzcyhudWxsLGUpLHR9KS50aGVuKGUsdCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbi51cGRhdGVQcm9ncmVzcygxKSx0fSl9KX0seS5wcm90b3R5cGUudGhlbkNvcmU9ZnVuY3Rpb24odCxlLG4pe249bnx8UHJvbWlzZS5wcm90b3R5cGUudGhlbjt2YXIgcj10aGlzO3QmJih0PXQuYmluZChyKSksZSYmKGU9ZS5iaW5kKHIpKTt2YXIgaT0tMSE9PVByb21pc2UudG9TdHJpbmcoKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSYmXCJQcm9taXNlXCI9PT1Qcm9taXNlLm5hbWU/cjp5LmNvbnZlcnQoT2JqZWN0LmFzc2lnbih7fSxyKSxQcm9taXNlLnByb3RvdHlwZSksbz1uLmNhbGwoaSx0LGUpO3JldHVybiB5LmNvbnZlcnQobyxyLl9fcHJvdG9fXyl9LHkucHJvdG90eXBlLnRoZW5FeHRlcm5hbD1mdW5jdGlvbih0LGUpe3JldHVybiBQcm9taXNlLnByb3RvdHlwZS50aGVuLmNhbGwodGhpcyx0LGUpfSx5LnByb3RvdHlwZS50aGVuTGlzdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7ZT1lLnRoZW5Db3JlKHQpfSksZX0seS5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24odCl7dCYmKHQ9dC5iaW5kKHRoaXMpKTt2YXIgZT1Qcm9taXNlLnByb3RvdHlwZS5jYXRjaC5jYWxsKHRoaXMsdCk7cmV0dXJuIHkuY29udmVydChlLHRoaXMpfSx5LnByb3RvdHlwZS5jYXRjaEV4dGVybmFsPWZ1bmN0aW9uKHQpe3JldHVybiBQcm9taXNlLnByb3RvdHlwZS5jYXRjaC5jYWxsKHRoaXMsdCl9LHkucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IodCl9KX0seS5wcm90b3R5cGUudXNpbmc9eS5wcm90b3R5cGUuc2V0LHkucHJvdG90eXBlLnNhdmVBcz15LnByb3RvdHlwZS5zYXZlLHkucHJvdG90eXBlLmV4cG9ydD15LnByb3RvdHlwZS5vdXRwdXQseS5wcm90b3R5cGUucnVuPXkucHJvdG90eXBlLnRoZW4sbHQuZ2V0UGFnZVNpemU9ZnVuY3Rpb24odCxlLG4pe2lmKFwib2JqZWN0XCI9PT1zZSh0KSl7dmFyIHI9dDt0PXIub3JpZW50YXRpb24sZT1yLnVuaXR8fGUsbj1yLmZvcm1hdHx8bn1lPWV8fFwibW1cIixuPW58fFwiYTRcIix0PShcIlwiKyh0fHxcIlBcIikpLnRvTG93ZXJDYXNlKCk7dmFyIGk9KFwiXCIrbikudG9Mb3dlckNhc2UoKSxvPXthMDpbMjM4My45NCwzMzcwLjM5XSxhMTpbMTY4My43OCwyMzgzLjk0XSxhMjpbMTE5MC41NSwxNjgzLjc4XSxhMzpbODQxLjg5LDExOTAuNTVdLGE0Ols1OTUuMjgsODQxLjg5XSxhNTpbNDE5LjUzLDU5NS4yOF0sYTY6WzI5Ny42NCw0MTkuNTNdLGE3OlsyMDkuNzYsMjk3LjY0XSxhODpbMTQ3LjQsMjA5Ljc2XSxhOTpbMTA0Ljg4LDE0Ny40XSxhMTA6WzczLjcsMTA0Ljg4XSxiMDpbMjgzNC42NSw0MDA4LjE5XSxiMTpbMjAwNC4wOSwyODM0LjY1XSxiMjpbMTQxNy4zMiwyMDA0LjA5XSxiMzpbMTAwMC42MywxNDE3LjMyXSxiNDpbNzA4LjY2LDEwMDAuNjNdLGI1Ols0OTguOSw3MDguNjZdLGI2OlszNTQuMzMsNDk4LjldLGI3OlsyNDkuNDUsMzU0LjMzXSxiODpbMTc1Ljc1LDI0OS40NV0sYjk6WzEyNC43MiwxNzUuNzVdLGIxMDpbODcuODcsMTI0LjcyXSxjMDpbMjU5OS4zNywzNjc2LjU0XSxjMTpbMTgzNi44NSwyNTk5LjM3XSxjMjpbMTI5OC4yNywxODM2Ljg1XSxjMzpbOTE4LjQzLDEyOTguMjddLGM0Ols2NDkuMTMsOTE4LjQzXSxjNTpbNDU5LjIxLDY0OS4xM10sYzY6WzMyMy4xNSw0NTkuMjFdLGM3OlsyMjkuNjEsMzIzLjE1XSxjODpbMTYxLjU3LDIyOS42MV0sYzk6WzExMy4zOSwxNjEuNTddLGMxMDpbNzkuMzcsMTEzLjM5XSxkbDpbMzExLjgxLDYyMy42Ml0sbGV0dGVyOls2MTIsNzkyXSxcImdvdmVybm1lbnQtbGV0dGVyXCI6WzU3Niw3NTZdLGxlZ2FsOls2MTIsMTAwOF0sXCJqdW5pb3ItbGVnYWxcIjpbNTc2LDM2MF0sbGVkZ2VyOlsxMjI0LDc5Ml0sdGFibG9pZDpbNzkyLDEyMjRdLFwiY3JlZGl0LWNhcmRcIjpbMTUzLDI0M119O3N3aXRjaChlKXtjYXNlXCJwdFwiOnZhciBhPTE7YnJlYWs7Y2FzZVwibW1cIjphPTcyLzI1LjQ7YnJlYWs7Y2FzZVwiY21cIjphPTcyLzIuNTQ7YnJlYWs7Y2FzZVwiaW5cIjphPTcyO2JyZWFrO2Nhc2VcInB4XCI6YT0uNzU7YnJlYWs7Y2FzZVwicGNcIjpjYXNlXCJlbVwiOmE9MTI7YnJlYWs7Y2FzZVwiZXhcIjphPTY7YnJlYWs7ZGVmYXVsdDp0aHJvd1wiSW52YWxpZCB1bml0OiBcIitlfWlmKG8uaGFzT3duUHJvcGVydHkoaSkpdmFyIHM9b1tpXVsxXS9hLGw9b1tpXVswXS9hO2Vsc2UgdHJ5e3M9blsxXSxsPW5bMF19Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBmb3JtYXQ6IFwiK24pfWlmKFwicFwiPT09dHx8XCJwb3J0cmFpdFwiPT09dCl7aWYodD1cInBcIixzPGwpe3ZhciBoPWw7bD1zLHM9aH19ZWxzZXtpZihcImxcIiE9PXQmJlwibGFuZHNjYXBlXCIhPT10KXRocm93XCJJbnZhbGlkIG9yaWVudGF0aW9uOiBcIit0O3Q9XCJsXCIsbDxzJiYoaD1sLGw9cyxzPWgpfXJldHVybnt3aWR0aDpsLGhlaWdodDpzLHVuaXQ6ZSxrOmF9fSxpLmh0bWw9ZnVuY3Rpb24odCxlKXsoZT1lfHx7fSkuY2FsbGJhY2s9ZS5jYWxsYmFja3x8ZnVuY3Rpb24oKXt9LGUuaHRtbDJjYW52YXM9ZS5odG1sMmNhbnZhc3x8e30sZS5odG1sMmNhbnZhcy5jYW52YXM9ZS5odG1sMmNhbnZhcy5jYW52YXN8fHRoaXMuY2FudmFzLGUuanNQREY9ZS5qc1BERnx8dGhpcyxlLmpzUERGO3ZhciBuPW5ldyB5KGUpO3JldHVybiBlLndvcmtlcj9uOm4uZnJvbSh0KS5kb0NhbGxiYWNrKCl9LGx0LkFQSS5hZGRKUz1mdW5jdGlvbih0KXtyZXR1cm4gYj10LHRoaXMuaW50ZXJuYWwuZXZlbnRzLnN1YnNjcmliZShcInBvc3RQdXRSZXNvdXJjZXNcIixmdW5jdGlvbih0KXt2PXRoaXMuaW50ZXJuYWwubmV3T2JqZWN0KCksdGhpcy5pbnRlcm5hbC5vdXQoXCI8PFwiKSx0aGlzLmludGVybmFsLm91dChcIi9OYW1lcyBbKEVtYmVkZGVkSlMpIFwiKyh2KzEpK1wiIDAgUl1cIiksdGhpcy5pbnRlcm5hbC5vdXQoXCI+PlwiKSx0aGlzLmludGVybmFsLm91dChcImVuZG9ialwiKSx3PXRoaXMuaW50ZXJuYWwubmV3T2JqZWN0KCksdGhpcy5pbnRlcm5hbC5vdXQoXCI8PFwiKSx0aGlzLmludGVybmFsLm91dChcIi9TIC9KYXZhU2NyaXB0XCIpLHRoaXMuaW50ZXJuYWwub3V0KFwiL0pTIChcIitiK1wiKVwiKSx0aGlzLmludGVybmFsLm91dChcIj4+XCIpLHRoaXMuaW50ZXJuYWwub3V0KFwiZW5kb2JqXCIpfSksdGhpcy5pbnRlcm5hbC5ldmVudHMuc3Vic2NyaWJlKFwicHV0Q2F0YWxvZ1wiLGZ1bmN0aW9uKCl7dm9pZCAwIT09diYmdm9pZCAwIT09dyYmdGhpcy5pbnRlcm5hbC5vdXQoXCIvTmFtZXMgPDwvSmF2YVNjcmlwdCBcIit2K1wiIDAgUj4+XCIpfSksdGhpc30sKFxuLyoqXG4gICAqIEBsaWNlbnNlXG4gICAqIENvcHlyaWdodCAoYykgMjAxNCBTdGV2ZW4gU3B1bmdpbiAoVHdlbHZlVG9uZSBMTEMpICBzdGV2ZW5AdHdlbHZldG9uZS50dlxuICAgKlxuICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gICAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICAgKi9cbng9bHQuQVBJKS5ldmVudHMucHVzaChbXCJwb3N0UHV0UmVzb3VyY2VzXCIsZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9L14oXFxkKykgMCBvYmokLztpZigwPHRoaXMub3V0bGluZS5yb290LmNoaWxkcmVuLmxlbmd0aClmb3IodmFyIG49dC5vdXRsaW5lLnJlbmRlcigpLnNwbGl0KC9cXHJcXG4vKSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBpPW5bcl0sbz1lLmV4ZWMoaSk7aWYobnVsbCE9byl7dmFyIGE9b1sxXTt0LmludGVybmFsLm5ld09iamVjdERlZmVycmVkQmVnaW4oYSwhMSl9dC5pbnRlcm5hbC53cml0ZShpKX1pZih0aGlzLm91dGxpbmUuY3JlYXRlTmFtZWREZXN0aW5hdGlvbnMpe3ZhciBzPXRoaXMuaW50ZXJuYWwucGFnZXMubGVuZ3RoLGw9W107Zm9yKHI9MDtyPHM7cisrKXt2YXIgaD10LmludGVybmFsLm5ld09iamVjdCgpO2wucHVzaChoKTt2YXIgdT10LmludGVybmFsLmdldFBhZ2VJbmZvKHIrMSk7dC5pbnRlcm5hbC53cml0ZShcIjw8IC9EW1wiK3Uub2JqSWQrXCIgMCBSIC9YWVogbnVsbCBudWxsIG51bGxdPj4gZW5kb2JqXCIpfXZhciBjPXQuaW50ZXJuYWwubmV3T2JqZWN0KCk7Zm9yKHQuaW50ZXJuYWwud3JpdGUoXCI8PCAvTmFtZXMgWyBcIikscj0wO3I8bC5sZW5ndGg7cisrKXQuaW50ZXJuYWwud3JpdGUoXCIocGFnZV9cIisocisxKStcIilcIitsW3JdK1wiIDAgUlwiKTt0LmludGVybmFsLndyaXRlKFwiIF0gPj5cIixcImVuZG9ialwiKSx0LmludGVybmFsLm5ld09iamVjdCgpLHQuaW50ZXJuYWwud3JpdGUoXCI8PCAvRGVzdHMgXCIrYytcIiAwIFJcIiksdC5pbnRlcm5hbC53cml0ZShcIj4+XCIsXCJlbmRvYmpcIil9fV0pLHguZXZlbnRzLnB1c2goW1wicHV0Q2F0YWxvZ1wiLGZ1bmN0aW9uKCl7MDx0aGlzLm91dGxpbmUucm9vdC5jaGlsZHJlbi5sZW5ndGgmJih0aGlzLmludGVybmFsLndyaXRlKFwiL091dGxpbmVzXCIsdGhpcy5vdXRsaW5lLm1ha2VSZWYodGhpcy5vdXRsaW5lLnJvb3QpKSx0aGlzLm91dGxpbmUuY3JlYXRlTmFtZWREZXN0aW5hdGlvbnMmJnRoaXMuaW50ZXJuYWwud3JpdGUoXCIvTmFtZXMgXCIrbmFtZXNPaWQrXCIgMCBSXCIpKX1dKSx4LmV2ZW50cy5wdXNoKFtcImluaXRpYWxpemVkXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzO2Eub3V0bGluZT17Y3JlYXRlTmFtZWREZXN0aW5hdGlvbnM6ITEscm9vdDp7Y2hpbGRyZW46W119fSxhLm91dGxpbmUuYWRkPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj17dGl0bGU6ZSxvcHRpb25zOm4sY2hpbGRyZW46W119O3JldHVybiBudWxsPT10JiYodD10aGlzLnJvb3QpLHQuY2hpbGRyZW4ucHVzaChyKSxyfSxhLm91dGxpbmUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3R4PXt9LHRoaXMuY3R4LnZhbD1cIlwiLHRoaXMuY3R4LnBkZj1hLHRoaXMuZ2VuSWRzX3IodGhpcy5yb290KSx0aGlzLnJlbmRlclJvb3QodGhpcy5yb290KSx0aGlzLnJlbmRlckl0ZW1zKHRoaXMucm9vdCksdGhpcy5jdHgudmFsfSxhLm91dGxpbmUuZ2VuSWRzX3I9ZnVuY3Rpb24odCl7dC5pZD1hLmludGVybmFsLm5ld09iamVjdERlZmVycmVkKCk7Zm9yKHZhciBlPTA7ZTx0LmNoaWxkcmVuLmxlbmd0aDtlKyspdGhpcy5nZW5JZHNfcih0LmNoaWxkcmVuW2VdKX0sYS5vdXRsaW5lLnJlbmRlclJvb3Q9ZnVuY3Rpb24odCl7dGhpcy5vYmpTdGFydCh0KSx0aGlzLmxpbmUoXCIvVHlwZSAvT3V0bGluZXNcIiksMDx0LmNoaWxkcmVuLmxlbmd0aCYmKHRoaXMubGluZShcIi9GaXJzdCBcIit0aGlzLm1ha2VSZWYodC5jaGlsZHJlblswXSkpLHRoaXMubGluZShcIi9MYXN0IFwiK3RoaXMubWFrZVJlZih0LmNoaWxkcmVuW3QuY2hpbGRyZW4ubGVuZ3RoLTFdKSkpLHRoaXMubGluZShcIi9Db3VudCBcIit0aGlzLmNvdW50X3Ioe2NvdW50OjB9LHQpKSx0aGlzLm9iakVuZCgpfSxhLm91dGxpbmUucmVuZGVySXRlbXM9ZnVuY3Rpb24odCl7dGhpcy5jdHgucGRmLmludGVybmFsLmdldENvb3JkaW5hdGVTdHJpbmc7Zm9yKHZhciBlPXRoaXMuY3R4LnBkZi5pbnRlcm5hbC5nZXRWZXJ0aWNhbENvb3JkaW5hdGVTdHJpbmcsbj0wO248dC5jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgcj10LmNoaWxkcmVuW25dO3RoaXMub2JqU3RhcnQociksdGhpcy5saW5lKFwiL1RpdGxlIFwiK3RoaXMubWFrZVN0cmluZyhyLnRpdGxlKSksdGhpcy5saW5lKFwiL1BhcmVudCBcIit0aGlzLm1ha2VSZWYodCkpLDA8biYmdGhpcy5saW5lKFwiL1ByZXYgXCIrdGhpcy5tYWtlUmVmKHQuY2hpbGRyZW5bbi0xXSkpLG48dC5jaGlsZHJlbi5sZW5ndGgtMSYmdGhpcy5saW5lKFwiL05leHQgXCIrdGhpcy5tYWtlUmVmKHQuY2hpbGRyZW5bbisxXSkpLDA8ci5jaGlsZHJlbi5sZW5ndGgmJih0aGlzLmxpbmUoXCIvRmlyc3QgXCIrdGhpcy5tYWtlUmVmKHIuY2hpbGRyZW5bMF0pKSx0aGlzLmxpbmUoXCIvTGFzdCBcIit0aGlzLm1ha2VSZWYoci5jaGlsZHJlbltyLmNoaWxkcmVuLmxlbmd0aC0xXSkpKTt2YXIgaT10aGlzLmNvdW50PXRoaXMuY291bnRfcih7Y291bnQ6MH0scik7aWYoMDxpJiZ0aGlzLmxpbmUoXCIvQ291bnQgXCIraSksci5vcHRpb25zJiZyLm9wdGlvbnMucGFnZU51bWJlcil7dmFyIG89YS5pbnRlcm5hbC5nZXRQYWdlSW5mbyhyLm9wdGlvbnMucGFnZU51bWJlcik7dGhpcy5saW5lKFwiL0Rlc3QgW1wiK28ub2JqSWQrXCIgMCBSIC9YWVogMCBcIitlKDApK1wiIDBdXCIpfXRoaXMub2JqRW5kKCl9Zm9yKG49MDtuPHQuY2hpbGRyZW4ubGVuZ3RoO24rKylyPXQuY2hpbGRyZW5bbl0sdGhpcy5yZW5kZXJJdGVtcyhyKX0sYS5vdXRsaW5lLmxpbmU9ZnVuY3Rpb24odCl7dGhpcy5jdHgudmFsKz10K1wiXFxyXFxuXCJ9LGEub3V0bGluZS5tYWtlUmVmPWZ1bmN0aW9uKHQpe3JldHVybiB0LmlkK1wiIDAgUlwifSxhLm91dGxpbmUubWFrZVN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm5cIihcIithLmludGVybmFsLnBkZkVzY2FwZSh0KStcIilcIn0sYS5vdXRsaW5lLm9ialN0YXJ0PWZ1bmN0aW9uKHQpe3RoaXMuY3R4LnZhbCs9XCJcXHJcXG5cIit0LmlkK1wiIDAgb2JqXFxyXFxuPDxcXHJcXG5cIn0sYS5vdXRsaW5lLm9iakVuZD1mdW5jdGlvbih0KXt0aGlzLmN0eC52YWwrPVwiPj4gXFxyXFxuZW5kb2JqXFxyXFxuXCJ9LGEub3V0bGluZS5jb3VudF9yPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmNoaWxkcmVuLmxlbmd0aDtuKyspdC5jb3VudCsrLHRoaXMuY291bnRfcih0LGUuY2hpbGRyZW5bbl0pO3JldHVybiB0LmNvdW50fX1dKSxcbi8qKlxuICAgKiBAbGljZW5zZVxuICAgKiBcbiAgICogQ29weXJpZ2h0IChjKSAyMDE0IEphbWVzIFJvYmIsIGh0dHBzOi8vZ2l0aHViLmNvbS9qYW1lc2Jyb2JiXG4gICAqXG4gICAqIFxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKi9cbkk9bHQuQVBJLEM9ZnVuY3Rpb24oKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBEZWZsYXRlcjtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJyZXF1aXJlcyBkZWZsYXRlLmpzIGZvciBjb21wcmVzc2lvblwiKTtyZXR1cm4gdH0sQj1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT01LG89RTtzd2l0Y2gocil7Y2FzZSBJLmltYWdlX2NvbXByZXNzaW9uLkZBU1Q6aT0zLG89ajticmVhaztjYXNlIEkuaW1hZ2VfY29tcHJlc3Npb24uTUVESVVNOmk9NixvPU07YnJlYWs7Y2FzZSBJLmltYWdlX2NvbXByZXNzaW9uLlNMT1c6aT05LG89T310PUEodCxlLG4sbyk7dmFyIGE9bmV3IFVpbnQ4QXJyYXkoTihpKSkscz1MKHQpLGw9bmV3IERlZmxhdGVyKGkpLGg9bC5hcHBlbmQodCksdT1sLmZsdXNoKCksYz1hLmxlbmd0aCtoLmxlbmd0aCt1Lmxlbmd0aCxmPW5ldyBVaW50OEFycmF5KGMrNCk7cmV0dXJuIGYuc2V0KGEpLGYuc2V0KGgsYS5sZW5ndGgpLGYuc2V0KHUsYS5sZW5ndGgraC5sZW5ndGgpLGZbYysrXT1zPj4+MjQmMjU1LGZbYysrXT1zPj4+MTYmMjU1LGZbYysrXT1zPj4+OCYyNTUsZltjKytdPTI1NSZzLEkuYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyhmKX0sTj1mdW5jdGlvbih0LGUpe3ZhciBuPU1hdGguTE9HMkUqTWF0aC5sb2coMzI3NjgpLTg8PDR8OCxyPW48PDg7cmV0dXJuIHJ8PU1hdGgubWluKDMsKGUtMSYyNTUpPj4xKTw8NixyfD0wLFtuLDI1NSYocis9MzEtciUzMSldfSxMPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLHI9MSxpPTAsbz10Lmxlbmd0aCxhPTA7MDxvOyl7Zm9yKG8tPW49ZTxvP2U6bztpKz1yKz10W2ErK10sLS1uOyk7ciU9NjU1MjEsaSU9NjU1MjF9cmV0dXJuKGk8PDE2fHIpPj4+MH0sQT1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIGksbyxhLHM9dC5sZW5ndGgvZSxsPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoK3MpLGg9VCgpLHU9MDt1PHM7dSsrKXtpZihhPXUqZSxpPXQuc3ViYXJyYXkoYSxhK2UpLHIpbC5zZXQocihpLG4sbyksYSt1KTtlbHNle2Zvcih2YXIgYz0wLGY9aC5sZW5ndGgscD1bXTtjPGY7YysrKXBbY109aFtjXShpLG4sbyk7dmFyIGQ9UihwLmNvbmNhdCgpKTtsLnNldChwW2RdLGErdSl9bz1pfXJldHVybiBsfSxTPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1BcnJheS5hcHBseShbXSx0KTtyZXR1cm4gci51bnNoaWZ0KDApLHJ9LGo9ZnVuY3Rpb24odCxlLG4pe3ZhciByLGk9W10sbz0wLGE9dC5sZW5ndGg7Zm9yKGlbMF09MTtvPGE7bysrKXI9dFtvLWVdfHwwLGlbbysxXT10W29dLXIrMjU2JjI1NTtyZXR1cm4gaX0sRT1mdW5jdGlvbih0LGUsbil7dmFyIHIsaT1bXSxvPTAsYT10Lmxlbmd0aDtmb3IoaVswXT0yO288YTtvKyspcj1uJiZuW29dfHwwLGlbbysxXT10W29dLXIrMjU2JjI1NTtyZXR1cm4gaX0sTT1mdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvPVtdLGE9MCxzPXQubGVuZ3RoO2ZvcihvWzBdPTM7YTxzO2ErKylyPXRbYS1lXXx8MCxpPW4mJm5bYV18fDAsb1thKzFdPXRbYV0rMjU2LShyK2k+Pj4xKSYyNTU7cmV0dXJuIG99LE89ZnVuY3Rpb24odCxlLG4pe3ZhciByLGksbyxhLHM9W10sbD0wLGg9dC5sZW5ndGg7Zm9yKHNbMF09NDtsPGg7bCsrKXI9dFtsLWVdfHwwLGk9biYmbltsXXx8MCxvPW4mJm5bbC1lXXx8MCxhPXEocixpLG8pLHNbbCsxXT10W2xdLWErMjU2JjI1NTtyZXR1cm4gc30scT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dCtlLW4saT1NYXRoLmFicyhyLXQpLG89TWF0aC5hYnMoci1lKSxhPU1hdGguYWJzKHItbik7cmV0dXJuIGk8PW8mJmk8PWE/dDpvPD1hP2U6bn0sVD1mdW5jdGlvbigpe3JldHVybltTLGosRSxNLE9dfSxSPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuLHIsaT0wLG89dC5sZW5ndGg7aTxvOykoKGU9RCh0W2ldLnNsaWNlKDEpKSk8bnx8IW4pJiYobj1lLHI9aSksaSsrO3JldHVybiByfSxEPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dC5sZW5ndGgscj0wO2U8bjspcis9TWF0aC5hYnModFtlKytdKTtyZXR1cm4gcn0sSS5wcm9jZXNzUE5HPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG8sYSxzLGwsaCx1LGM9dGhpcy5jb2xvcl9zcGFjZXMuREVWSUNFX1JHQixmPXRoaXMuZGVjb2RlLkZMQVRFX0RFQ09ERSxwPTg7aWYodGhpcy5pc0FycmF5QnVmZmVyKHQpJiYodD1uZXcgVWludDhBcnJheSh0KSksdGhpcy5pc0FycmF5QnVmZmVyVmlldyh0KSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgUE5HfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBrdCl0aHJvdyBuZXcgRXJyb3IoXCJQTkcgc3VwcG9ydCByZXF1aXJlcyBwbmcuanMgYW5kIHpsaWIuanNcIik7aWYodD0obz1uZXcgUE5HKHQpKS5pbWdEYXRhLHA9by5iaXRzLGM9by5jb2xvclNwYWNlLGw9by5jb2xvcnMsLTEhPT1bNCw2XS5pbmRleE9mKG8uY29sb3JUeXBlKSl7aWYoOD09PW8uYml0cylmb3IodmFyIGQsZz0oXz0zMj09by5waXhlbEJpdGxlbmd0aD9uZXcgVWludDMyQXJyYXkoby5kZWNvZGVQaXhlbHMoKS5idWZmZXIpOjE2PT1vLnBpeGVsQml0bGVuZ3RoP25ldyBVaW50MTZBcnJheShvLmRlY29kZVBpeGVscygpLmJ1ZmZlcik6bmV3IFVpbnQ4QXJyYXkoby5kZWNvZGVQaXhlbHMoKS5idWZmZXIpKS5sZW5ndGgsbT1uZXcgVWludDhBcnJheShnKm8uY29sb3JzKSx5PW5ldyBVaW50OEFycmF5KGcpLHY9by5waXhlbEJpdGxlbmd0aC1vLmJpdHMsdz0wLGI9MDt3PGc7dysrKXtmb3IoeD1fW3ddLGQ9MDtkPHY7KW1bYisrXT14Pj4+ZCYyNTUsZCs9by5iaXRzO3lbd109eD4+PmQmMjU1fWlmKDE2PT09by5iaXRzKXtnPShfPW5ldyBVaW50MzJBcnJheShvLmRlY29kZVBpeGVscygpLmJ1ZmZlcikpLmxlbmd0aCxtPW5ldyBVaW50OEFycmF5KGcqKDMyL28ucGl4ZWxCaXRsZW5ndGgpKm8uY29sb3JzKSx5PW5ldyBVaW50OEFycmF5KGcqKDMyL28ucGl4ZWxCaXRsZW5ndGgpKTtmb3IodmFyIHgsTj0xPG8uY29sb3JzLEw9Yj13PTA7dzxnOyl4PV9bdysrXSxtW2IrK109eD4+PjAmMjU1LE4mJihtW2IrK109eD4+PjE2JjI1NSx4PV9bdysrXSxtW2IrK109eD4+PjAmMjU1KSx5W0wrK109eD4+PjE2JjI1NTtwPTh9ciE9PUkuaW1hZ2VfY29tcHJlc3Npb24uTk9ORSYmQygpPyh0PUIobSxvLndpZHRoKm8uY29sb3JzLG8uY29sb3JzLHIpLHU9Qih5LG8ud2lkdGgsMSxyKSk6KHQ9bSx1PXksZj1udWxsKX1pZigzPT09by5jb2xvclR5cGUmJihjPXRoaXMuY29sb3Jfc3BhY2VzLklOREVYRUQsaD1vLnBhbGV0dGUsby50cmFuc3BhcmVuY3kuaW5kZXhlZCkpe3ZhciBBPW8udHJhbnNwYXJlbmN5LmluZGV4ZWQsUz0wO2Zvcih3PTAsZz1BLmxlbmd0aDt3PGc7Kyt3KVMrPUFbd107aWYoKFMvPTI1NSk9PWctMSYmLTEhPT1BLmluZGV4T2YoMCkpcz1bQS5pbmRleE9mKDApXTtlbHNlIGlmKFMhPT1nKXt2YXIgXz1vLmRlY29kZVBpeGVscygpO2Zvcih5PW5ldyBVaW50OEFycmF5KF8ubGVuZ3RoKSx3PTAsZz1fLmxlbmd0aDt3PGc7dysrKXlbd109QVtfW3ddXTt1PUIoeSxvLndpZHRoLDEpfX12YXIgRj1mdW5jdGlvbih0KXt2YXIgZTtzd2l0Y2godCl7Y2FzZSBJLmltYWdlX2NvbXByZXNzaW9uLkZBU1Q6ZT0xMTticmVhaztjYXNlIEkuaW1hZ2VfY29tcHJlc3Npb24uTUVESVVNOmU9MTM7YnJlYWs7Y2FzZSBJLmltYWdlX2NvbXByZXNzaW9uLlNMT1c6ZT0xNDticmVhaztkZWZhdWx0OmU9MTJ9cmV0dXJuIGV9KHIpO3JldHVybiBhPWY9PT10aGlzLmRlY29kZS5GTEFURV9ERUNPREU/XCIvUHJlZGljdG9yIFwiK0YrXCIgL0NvbG9ycyBcIitsK1wiIC9CaXRzUGVyQ29tcG9uZW50IFwiK3ArXCIgL0NvbHVtbnMgXCIrby53aWR0aDpcIi9Db2xvcnMgXCIrbCtcIiAvQml0c1BlckNvbXBvbmVudCBcIitwK1wiIC9Db2x1bW5zIFwiK28ud2lkdGgsKHRoaXMuaXNBcnJheUJ1ZmZlcih0KXx8dGhpcy5pc0FycmF5QnVmZmVyVmlldyh0KSkmJih0PXRoaXMuYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyh0KSksKHUmJnRoaXMuaXNBcnJheUJ1ZmZlcih1KXx8dGhpcy5pc0FycmF5QnVmZmVyVmlldyh1KSkmJih1PXRoaXMuYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyh1KSksdGhpcy5jcmVhdGVJbWFnZUluZm8odCxvLndpZHRoLG8uaGVpZ2h0LGMscCxmLGUsbixhLHMsaCx1LEYpfXRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIFBORyBpbWFnZSBkYXRhLCB0cnkgdXNpbmcgSlBFRyBpbnN0ZWFkLlwiKX0sKFxuLyoqXG4gICAqIEBsaWNlbnNlXG4gICAqIENvcHlyaWdodCAoYykgMjAxNyBBcmFzIEFiYmFzaSBcbiAgICpcbiAgICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAgKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAgICovXG5VPWx0LkFQSSkucHJvY2Vzc0dJRjg5QT1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPW5ldyBBdCh0KSxhPW8ud2lkdGgscz1vLmhlaWdodCxsPVtdO28uZGVjb2RlQW5kQmxpdEZyYW1lUkdCQSgwLGwpO3ZhciBoPXtkYXRhOmwsd2lkdGg6YSxoZWlnaHQ6c30sdT1uZXcgX3QoMTAwKS5lbmNvZGUoaCwxMDApO3JldHVybiBVLnByb2Nlc3NKUEVHLmNhbGwodGhpcyx1LGUsbixyKX0sVS5wcm9jZXNzR0lGODdBPVUucHJvY2Vzc0dJRjg5QSwoXG4vKipcbiAgICogQ29weXJpZ2h0IChjKSAyMDE4IEFyYXMgQWJiYXNpIFxuICAgKlxuICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gICAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICAgKi9cbno9bHQuQVBJKS5wcm9jZXNzQk1QPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89bmV3IEZ0KHQsITEpLGE9by53aWR0aCxzPW8uaGVpZ2h0LGw9e2RhdGE6by5nZXREYXRhKCksd2lkdGg6YSxoZWlnaHQ6c30saD1uZXcgX3QoMTAwKS5lbmNvZGUobCwxMDApO3JldHVybiB6LnByb2Nlc3NKUEVHLmNhbGwodGhpcyxoLGUsbixyKX0sbHQuQVBJLnNldExhbmd1YWdlPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10aGlzLmludGVybmFsLmxhbmd1YWdlU2V0dGluZ3MmJih0aGlzLmludGVybmFsLmxhbmd1YWdlU2V0dGluZ3M9e30sdGhpcy5pbnRlcm5hbC5sYW5ndWFnZVNldHRpbmdzLmlzU3Vic2NyaWJlZD0hMSksdm9pZCAwIT09e2FmOlwiQWZyaWthYW5zXCIsc3E6XCJBbGJhbmlhblwiLGFyOlwiQXJhYmljIChTdGFuZGFyZClcIixcImFyLURaXCI6XCJBcmFiaWMgKEFsZ2VyaWEpXCIsXCJhci1CSFwiOlwiQXJhYmljIChCYWhyYWluKVwiLFwiYXItRUdcIjpcIkFyYWJpYyAoRWd5cHQpXCIsXCJhci1JUVwiOlwiQXJhYmljIChJcmFxKVwiLFwiYXItSk9cIjpcIkFyYWJpYyAoSm9yZGFuKVwiLFwiYXItS1dcIjpcIkFyYWJpYyAoS3V3YWl0KVwiLFwiYXItTEJcIjpcIkFyYWJpYyAoTGViYW5vbilcIixcImFyLUxZXCI6XCJBcmFiaWMgKExpYnlhKVwiLFwiYXItTUFcIjpcIkFyYWJpYyAoTW9yb2NjbylcIixcImFyLU9NXCI6XCJBcmFiaWMgKE9tYW4pXCIsXCJhci1RQVwiOlwiQXJhYmljIChRYXRhcilcIixcImFyLVNBXCI6XCJBcmFiaWMgKFNhdWRpIEFyYWJpYSlcIixcImFyLVNZXCI6XCJBcmFiaWMgKFN5cmlhKVwiLFwiYXItVE5cIjpcIkFyYWJpYyAoVHVuaXNpYSlcIixcImFyLUFFXCI6XCJBcmFiaWMgKFUuQS5FLilcIixcImFyLVlFXCI6XCJBcmFiaWMgKFllbWVuKVwiLGFuOlwiQXJhZ29uZXNlXCIsaHk6XCJBcm1lbmlhblwiLGFzOlwiQXNzYW1lc2VcIixhc3Q6XCJBc3R1cmlhblwiLGF6OlwiQXplcmJhaWphbmlcIixldTpcIkJhc3F1ZVwiLGJlOlwiQmVsYXJ1c2lhblwiLGJuOlwiQmVuZ2FsaVwiLGJzOlwiQm9zbmlhblwiLGJyOlwiQnJldG9uXCIsYmc6XCJCdWxnYXJpYW5cIixteTpcIkJ1cm1lc2VcIixjYTpcIkNhdGFsYW5cIixjaDpcIkNoYW1vcnJvXCIsY2U6XCJDaGVjaGVuXCIsemg6XCJDaGluZXNlXCIsXCJ6aC1IS1wiOlwiQ2hpbmVzZSAoSG9uZyBLb25nKVwiLFwiemgtQ05cIjpcIkNoaW5lc2UgKFBSQylcIixcInpoLVNHXCI6XCJDaGluZXNlIChTaW5nYXBvcmUpXCIsXCJ6aC1UV1wiOlwiQ2hpbmVzZSAoVGFpd2FuKVwiLGN2OlwiQ2h1dmFzaFwiLGNvOlwiQ29yc2ljYW5cIixjcjpcIkNyZWVcIixocjpcIkNyb2F0aWFuXCIsY3M6XCJDemVjaFwiLGRhOlwiRGFuaXNoXCIsbmw6XCJEdXRjaCAoU3RhbmRhcmQpXCIsXCJubC1CRVwiOlwiRHV0Y2ggKEJlbGdpYW4pXCIsZW46XCJFbmdsaXNoXCIsXCJlbi1BVVwiOlwiRW5nbGlzaCAoQXVzdHJhbGlhKVwiLFwiZW4tQlpcIjpcIkVuZ2xpc2ggKEJlbGl6ZSlcIixcImVuLUNBXCI6XCJFbmdsaXNoIChDYW5hZGEpXCIsXCJlbi1JRVwiOlwiRW5nbGlzaCAoSXJlbGFuZClcIixcImVuLUpNXCI6XCJFbmdsaXNoIChKYW1haWNhKVwiLFwiZW4tTlpcIjpcIkVuZ2xpc2ggKE5ldyBaZWFsYW5kKVwiLFwiZW4tUEhcIjpcIkVuZ2xpc2ggKFBoaWxpcHBpbmVzKVwiLFwiZW4tWkFcIjpcIkVuZ2xpc2ggKFNvdXRoIEFmcmljYSlcIixcImVuLVRUXCI6XCJFbmdsaXNoIChUcmluaWRhZCAmIFRvYmFnbylcIixcImVuLUdCXCI6XCJFbmdsaXNoIChVbml0ZWQgS2luZ2RvbSlcIixcImVuLVVTXCI6XCJFbmdsaXNoIChVbml0ZWQgU3RhdGVzKVwiLFwiZW4tWldcIjpcIkVuZ2xpc2ggKFppbWJhYndlKVwiLGVvOlwiRXNwZXJhbnRvXCIsZXQ6XCJFc3RvbmlhblwiLGZvOlwiRmFlcm9lc2VcIixmajpcIkZpamlhblwiLGZpOlwiRmlubmlzaFwiLGZyOlwiRnJlbmNoIChTdGFuZGFyZClcIixcImZyLUJFXCI6XCJGcmVuY2ggKEJlbGdpdW0pXCIsXCJmci1DQVwiOlwiRnJlbmNoIChDYW5hZGEpXCIsXCJmci1GUlwiOlwiRnJlbmNoIChGcmFuY2UpXCIsXCJmci1MVVwiOlwiRnJlbmNoIChMdXhlbWJvdXJnKVwiLFwiZnItTUNcIjpcIkZyZW5jaCAoTW9uYWNvKVwiLFwiZnItQ0hcIjpcIkZyZW5jaCAoU3dpdHplcmxhbmQpXCIsZnk6XCJGcmlzaWFuXCIsZnVyOlwiRnJpdWxpYW5cIixnZDpcIkdhZWxpYyAoU2NvdHMpXCIsXCJnZC1JRVwiOlwiR2FlbGljIChJcmlzaClcIixnbDpcIkdhbGFjaWFuXCIsa2E6XCJHZW9yZ2lhblwiLGRlOlwiR2VybWFuIChTdGFuZGFyZClcIixcImRlLUFUXCI6XCJHZXJtYW4gKEF1c3RyaWEpXCIsXCJkZS1ERVwiOlwiR2VybWFuIChHZXJtYW55KVwiLFwiZGUtTElcIjpcIkdlcm1hbiAoTGllY2h0ZW5zdGVpbilcIixcImRlLUxVXCI6XCJHZXJtYW4gKEx1eGVtYm91cmcpXCIsXCJkZS1DSFwiOlwiR2VybWFuIChTd2l0emVybGFuZClcIixlbDpcIkdyZWVrXCIsZ3U6XCJHdWp1cmF0aVwiLGh0OlwiSGFpdGlhblwiLGhlOlwiSGVicmV3XCIsaGk6XCJIaW5kaVwiLGh1OlwiSHVuZ2FyaWFuXCIsaXM6XCJJY2VsYW5kaWNcIixpZDpcIkluZG9uZXNpYW5cIixpdTpcIkludWt0aXR1dFwiLGdhOlwiSXJpc2hcIixpdDpcIkl0YWxpYW4gKFN0YW5kYXJkKVwiLFwiaXQtQ0hcIjpcIkl0YWxpYW4gKFN3aXR6ZXJsYW5kKVwiLGphOlwiSmFwYW5lc2VcIixrbjpcIkthbm5hZGFcIixrczpcIkthc2htaXJpXCIsa2s6XCJLYXpha2hcIixrbTpcIktobWVyXCIsa3k6XCJLaXJnaGl6XCIsdGxoOlwiS2xpbmdvblwiLGtvOlwiS29yZWFuXCIsXCJrby1LUFwiOlwiS29yZWFuIChOb3J0aCBLb3JlYSlcIixcImtvLUtSXCI6XCJLb3JlYW4gKFNvdXRoIEtvcmVhKVwiLGxhOlwiTGF0aW5cIixsdjpcIkxhdHZpYW5cIixsdDpcIkxpdGh1YW5pYW5cIixsYjpcIkx1eGVtYm91cmdpc2hcIixtazpcIkZZUk8gTWFjZWRvbmlhblwiLG1zOlwiTWFsYXlcIixtbDpcIk1hbGF5YWxhbVwiLG10OlwiTWFsdGVzZVwiLG1pOlwiTWFvcmlcIixtcjpcIk1hcmF0aGlcIixtbzpcIk1vbGRhdmlhblwiLG52OlwiTmF2YWpvXCIsbmc6XCJOZG9uZ2FcIixuZTpcIk5lcGFsaVwiLG5vOlwiTm9yd2VnaWFuXCIsbmI6XCJOb3J3ZWdpYW4gKEJva21hbClcIixubjpcIk5vcndlZ2lhbiAoTnlub3JzaylcIixvYzpcIk9jY2l0YW5cIixvcjpcIk9yaXlhXCIsb206XCJPcm9tb1wiLGZhOlwiUGVyc2lhblwiLFwiZmEtSVJcIjpcIlBlcnNpYW4vSXJhblwiLHBsOlwiUG9saXNoXCIscHQ6XCJQb3J0dWd1ZXNlXCIsXCJwdC1CUlwiOlwiUG9ydHVndWVzZSAoQnJhemlsKVwiLHBhOlwiUHVuamFiaVwiLFwicGEtSU5cIjpcIlB1bmphYmkgKEluZGlhKVwiLFwicGEtUEtcIjpcIlB1bmphYmkgKFBha2lzdGFuKVwiLHF1OlwiUXVlY2h1YVwiLHJtOlwiUmhhZXRvLVJvbWFuaWNcIixybzpcIlJvbWFuaWFuXCIsXCJyby1NT1wiOlwiUm9tYW5pYW4gKE1vbGRhdmlhKVwiLHJ1OlwiUnVzc2lhblwiLFwicnUtTU9cIjpcIlJ1c3NpYW4gKE1vbGRhdmlhKVwiLHN6OlwiU2FtaSAoTGFwcGlzaClcIixzZzpcIlNhbmdvXCIsc2E6XCJTYW5za3JpdFwiLHNjOlwiU2FyZGluaWFuXCIsc2Q6XCJTaW5kaGlcIixzaTpcIlNpbmdoYWxlc2VcIixzcjpcIlNlcmJpYW5cIixzazpcIlNsb3Zha1wiLHNsOlwiU2xvdmVuaWFuXCIsc286XCJTb21hbmlcIixzYjpcIlNvcmJpYW5cIixlczpcIlNwYW5pc2hcIixcImVzLUFSXCI6XCJTcGFuaXNoIChBcmdlbnRpbmEpXCIsXCJlcy1CT1wiOlwiU3BhbmlzaCAoQm9saXZpYSlcIixcImVzLUNMXCI6XCJTcGFuaXNoIChDaGlsZSlcIixcImVzLUNPXCI6XCJTcGFuaXNoIChDb2xvbWJpYSlcIixcImVzLUNSXCI6XCJTcGFuaXNoIChDb3N0YSBSaWNhKVwiLFwiZXMtRE9cIjpcIlNwYW5pc2ggKERvbWluaWNhbiBSZXB1YmxpYylcIixcImVzLUVDXCI6XCJTcGFuaXNoIChFY3VhZG9yKVwiLFwiZXMtU1ZcIjpcIlNwYW5pc2ggKEVsIFNhbHZhZG9yKVwiLFwiZXMtR1RcIjpcIlNwYW5pc2ggKEd1YXRlbWFsYSlcIixcImVzLUhOXCI6XCJTcGFuaXNoIChIb25kdXJhcylcIixcImVzLU1YXCI6XCJTcGFuaXNoIChNZXhpY28pXCIsXCJlcy1OSVwiOlwiU3BhbmlzaCAoTmljYXJhZ3VhKVwiLFwiZXMtUEFcIjpcIlNwYW5pc2ggKFBhbmFtYSlcIixcImVzLVBZXCI6XCJTcGFuaXNoIChQYXJhZ3VheSlcIixcImVzLVBFXCI6XCJTcGFuaXNoIChQZXJ1KVwiLFwiZXMtUFJcIjpcIlNwYW5pc2ggKFB1ZXJ0byBSaWNvKVwiLFwiZXMtRVNcIjpcIlNwYW5pc2ggKFNwYWluKVwiLFwiZXMtVVlcIjpcIlNwYW5pc2ggKFVydWd1YXkpXCIsXCJlcy1WRVwiOlwiU3BhbmlzaCAoVmVuZXp1ZWxhKVwiLHN4OlwiU3V0dVwiLHN3OlwiU3dhaGlsaVwiLHN2OlwiU3dlZGlzaFwiLFwic3YtRklcIjpcIlN3ZWRpc2ggKEZpbmxhbmQpXCIsXCJzdi1TVlwiOlwiU3dlZGlzaCAoU3dlZGVuKVwiLHRhOlwiVGFtaWxcIix0dDpcIlRhdGFyXCIsdGU6XCJUZWx1Z2FcIix0aDpcIlRoYWlcIix0aWc6XCJUaWdyZVwiLHRzOlwiVHNvbmdhXCIsdG46XCJUc3dhbmFcIix0cjpcIlR1cmtpc2hcIix0azpcIlR1cmttZW5cIix1azpcIlVrcmFpbmlhblwiLGhzYjpcIlVwcGVyIFNvcmJpYW5cIix1cjpcIlVyZHVcIix2ZTpcIlZlbmRhXCIsdmk6XCJWaWV0bmFtZXNlXCIsdm86XCJWb2xhcHVrXCIsd2E6XCJXYWxsb29uXCIsY3k6XCJXZWxzaFwiLHhoOlwiWGhvc2FcIixqaTpcIllpZGRpc2hcIix6dTpcIlp1bHVcIn1bdF0mJih0aGlzLmludGVybmFsLmxhbmd1YWdlU2V0dGluZ3MubGFuZ3VhZ2VDb2RlPXQsITE9PT10aGlzLmludGVybmFsLmxhbmd1YWdlU2V0dGluZ3MuaXNTdWJzY3JpYmVkJiYodGhpcy5pbnRlcm5hbC5ldmVudHMuc3Vic2NyaWJlKFwicHV0Q2F0YWxvZ1wiLGZ1bmN0aW9uKCl7dGhpcy5pbnRlcm5hbC53cml0ZShcIi9MYW5nIChcIit0aGlzLmludGVybmFsLmxhbmd1YWdlU2V0dGluZ3MubGFuZ3VhZ2VDb2RlK1wiKVwiKX0pLHRoaXMuaW50ZXJuYWwubGFuZ3VhZ2VTZXR0aW5ncy5pc1N1YnNjcmliZWQ9ITApKSx0aGlzfSxcbi8qKiBAbGljZW5zZVxuICAgKiBNSVQgbGljZW5zZS5cbiAgICogQ29weXJpZ2h0IChjKSAyMDEyIFdpbGxvdyBTeXN0ZW1zIENvcnBvcmF0aW9uLCB3aWxsb3ctc3lzdGVtcy5jb21cbiAgICogICAgICAgICAgICAgICAyMDE0IERpZWdvIENhc29ycmFuLCBodHRwczovL2dpdGh1Yi5jb20vZGllZ29jclxuICAgKlxuICAgKiBcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICovXG5IPWx0LkFQSSxXPUguZ2V0Q2hhcldpZHRoc0FycmF5PWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLG89KGU9ZXx8e30pLmZvbnR8fHRoaXMuaW50ZXJuYWwuZ2V0Rm9udCgpLGE9ZS5mb250U2l6ZXx8dGhpcy5pbnRlcm5hbC5nZXRGb250U2l6ZSgpLHM9ZS5jaGFyU3BhY2V8fHRoaXMuaW50ZXJuYWwuZ2V0Q2hhclNwYWNlKCksbD1lLndpZHRocz9lLndpZHRoczpvLm1ldGFkYXRhLlVuaWNvZGUud2lkdGhzLGg9bC5mb2Y/bC5mb2Y6MSx1PWUua2VybmluZz9lLmtlcm5pbmc6by5tZXRhZGF0YS5Vbmljb2RlLmtlcm5pbmcsYz11LmZvZj91LmZvZjoxLGY9MCxwPWxbMF18fGgsZD1bXTtmb3Iobj0wLHI9dC5sZW5ndGg7bjxyO24rKylpPXQuY2hhckNvZGVBdChuKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBvLm1ldGFkYXRhLndpZHRoT2ZTdHJpbmc/ZC5wdXNoKChvLm1ldGFkYXRhLndpZHRoT2ZHbHlwaChvLm1ldGFkYXRhLmNoYXJhY3RlclRvR2x5cGgoaSkpK3MqKDFlMy9hKXx8MCkvMWUzKTpkLnB1c2goKGxbaV18fHApL2grKHVbaV0mJnVbaV1bZl18fDApL2MpLGY9aTtyZXR1cm4gZH0sVj1ILmdldEFycmF5U3VtPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxuPTA7ZTspbis9dFstLWVdO3JldHVybiBufSxHPUguZ2V0U3RyaW5nVW5pdFdpZHRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49KGU9ZXx8e30pLmZvbnRTaXplfHx0aGlzLmludGVybmFsLmdldEZvbnRTaXplKCkscj1lLmZvbnR8fHRoaXMuaW50ZXJuYWwuZ2V0Rm9udCgpLGk9ZS5jaGFyU3BhY2V8fHRoaXMuaW50ZXJuYWwuZ2V0Q2hhclNwYWNlKCk7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygci5tZXRhZGF0YS53aWR0aE9mU3RyaW5nP3IubWV0YWRhdGEud2lkdGhPZlN0cmluZyh0LG4saSkvbjpWKFcuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sWT1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIGk9W10sbz0wLGE9dC5sZW5ndGgscz0wO28hPT1hJiZzK2Vbb108bjspcys9ZVtvXSxvKys7aS5wdXNoKHQuc2xpY2UoMCxvKSk7dmFyIGw9bztmb3Iocz0wO28hPT1hOylzK2Vbb10+ciYmKGkucHVzaCh0LnNsaWNlKGwsbykpLHM9MCxsPW8pLHMrPWVbb10sbysrO3JldHVybiBsIT09byYmaS5wdXNoKHQuc2xpY2UobCxvKSksaX0sSj1mdW5jdGlvbih0LGUsbil7bnx8KG49e30pO3ZhciByLGksbyxhLHMsbCxoPVtdLHU9W2hdLGM9bi50ZXh0SW5kZW50fHwwLGY9MCxwPTAsZD10LnNwbGl0KFwiIFwiKSxnPVcuYXBwbHkodGhpcyxbXCIgXCIsbl0pWzBdO2lmKGw9LTE9PT1uLmxpbmVJbmRlbnQ/ZFswXS5sZW5ndGgrMjpuLmxpbmVJbmRlbnR8fDApe3ZhciBtPUFycmF5KGwpLmpvaW4oXCIgXCIpLHk9W107ZC5tYXAoZnVuY3Rpb24odCl7MTwodD10LnNwbGl0KC9cXHMqXFxuLykpLmxlbmd0aD95PXkuY29uY2F0KHQubWFwKGZ1bmN0aW9uKHQsZSl7cmV0dXJuKGUmJnQubGVuZ3RoP1wiXFxuXCI6XCJcIikrdH0pKTp5LnB1c2godFswXSl9KSxkPXksbD1HLmFwcGx5KHRoaXMsW20sbl0pfWZvcihvPTAsYT1kLmxlbmd0aDtvPGE7bysrKXt2YXIgdj0wO2lmKHI9ZFtvXSxsJiZcIlxcblwiPT1yWzBdJiYocj1yLnN1YnN0cigxKSx2PTEpLGk9Vy5hcHBseSh0aGlzLFtyLG5dKSxlPGMrZisocD1WKGkpKXx8dil7aWYoZTxwKXtmb3Iocz1ZLmFwcGx5KHRoaXMsW3IsaSxlLShjK2YpLGVdKSxoLnB1c2gocy5zaGlmdCgpKSxoPVtzLnBvcCgpXTtzLmxlbmd0aDspdS5wdXNoKFtzLnNoaWZ0KCldKTtwPVYoaS5zbGljZShyLmxlbmd0aC0oaFswXT9oWzBdLmxlbmd0aDowKSkpfWVsc2UgaD1bcl07dS5wdXNoKGgpLGM9cCtsLGY9Z31lbHNlIGgucHVzaChyKSxjKz1mK3AsZj1nfWlmKGwpdmFyIHc9ZnVuY3Rpb24odCxlKXtyZXR1cm4oZT9tOlwiXCIpK3Quam9pbihcIiBcIil9O2Vsc2Ugdz1mdW5jdGlvbih0KXtyZXR1cm4gdC5qb2luKFwiIFwiKX07cmV0dXJuIHUubWFwKHcpfSxILnNwbGl0VGV4dFRvU2l6ZT1mdW5jdGlvbih0LGUsbil7dmFyIHIsaT0obj1ufHx7fSkuZm9udFNpemV8fHRoaXMuaW50ZXJuYWwuZ2V0Rm9udFNpemUoKSxvPWZ1bmN0aW9uKHQpe3ZhciBlPXswOjF9LG49e307aWYodC53aWR0aHMmJnQua2VybmluZylyZXR1cm57d2lkdGhzOnQud2lkdGhzLGtlcm5pbmc6dC5rZXJuaW5nfTt2YXIgcj10aGlzLmludGVybmFsLmdldEZvbnQodC5mb250TmFtZSx0LmZvbnRTdHlsZSksaT1cIlVuaWNvZGVcIjtyZXR1cm4gci5tZXRhZGF0YVtpXT97d2lkdGhzOnIubWV0YWRhdGFbaV0ud2lkdGhzfHxlLGtlcm5pbmc6ci5tZXRhZGF0YVtpXS5rZXJuaW5nfHxufTp7Zm9udDpyLm1ldGFkYXRhLGZvbnRTaXplOnRoaXMuaW50ZXJuYWwuZ2V0Rm9udFNpemUoKSxjaGFyU3BhY2U6dGhpcy5pbnRlcm5hbC5nZXRDaGFyU3BhY2UoKX19LmNhbGwodGhpcyxuKTtyPUFycmF5LmlzQXJyYXkodCk/dDp0LnNwbGl0KC9cXHI/XFxuLyk7dmFyIGE9MSp0aGlzLmludGVybmFsLnNjYWxlRmFjdG9yKmUvaTtvLnRleHRJbmRlbnQ9bi50ZXh0SW5kZW50PzEqbi50ZXh0SW5kZW50KnRoaXMuaW50ZXJuYWwuc2NhbGVGYWN0b3IvaTowLG8ubGluZUluZGVudD1uLmxpbmVJbmRlbnQ7dmFyIHMsbCxoPVtdO2ZvcihzPTAsbD1yLmxlbmd0aDtzPGw7cysrKWg9aC5jb25jYXQoSi5hcHBseSh0aGlzLFtyW3NdLGEsb10pKTtyZXR1cm4gaH0sXG4vKiogQGxpY2Vuc2VcbiAgIGpzUERGIHN0YW5kYXJkX2ZvbnRzX21ldHJpY3MgcGx1Z2luXG4gICAqIENvcHlyaWdodCAoYykgMjAxMiBXaWxsb3cgU3lzdGVtcyBDb3Jwb3JhdGlvbiwgd2lsbG93LXN5c3RlbXMuY29tXG4gICAqIE1JVCBsaWNlbnNlLlxuICAgKiBcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICovXG5YPWx0LkFQSSxaPXtjb2RlUGFnZXM6W1wiV2luQW5zaUVuY29kaW5nXCJdLFdpbkFuc2lFbmNvZGluZzooSz1mdW5jdGlvbih0KXtmb3IodmFyIGU9XCJrbG1ub3BxcnN0dXZ3eHl6XCIsbj17fSxyPTA7cjxlLmxlbmd0aDtyKyspbltlW3JdXT1cIjAxMjM0NTY3ODlhYmNkZWZcIltyXTt2YXIgaSxvLGEscyxsLGg9e30sdT0xLGM9aCxmPVtdLHA9XCJcIixkPVwiXCIsZz10Lmxlbmd0aC0xO2ZvcihyPTE7ciE9ZzspbD10W3JdLHIrPTEsXCInXCI9PWw/bz1vPyhzPW8uam9pbihcIlwiKSxpKTpbXTpvP28ucHVzaChsKTpcIntcIj09bD8oZi5wdXNoKFtjLHNdKSxjPXt9LHM9aSk6XCJ9XCI9PWw/KChhPWYucG9wKCkpWzBdW2FbMV1dPWMscz1pLGM9YVswXSk6XCItXCI9PWw/dT0tMTpzPT09aT9uLmhhc093blByb3BlcnR5KGwpPyhwKz1uW2xdLHM9cGFyc2VJbnQocCwxNikqdSx1PTEscD1cIlwiKTpwKz1sOm4uaGFzT3duUHJvcGVydHkobCk/KGQrPW5bbF0sY1tzXT1wYXJzZUludChkLDE2KSp1LHU9MSxzPWksZD1cIlwiKTpkKz1sO3JldHVybiBofSkoXCJ7MTltOG4yMDFuOXEyMDFvOXIyMDFzOWwyMDF0OW0yMDF1OG0yMDF3OW4yMDF4OW8yMDF5OG8yMDJrOHEyMDJsOHIyMDJtOXAyMDJxOHAyMGF3OGsyMDNrOHQyMDN0OHYyMDN1OXYyY3E4czIxMm05dDE1bTh3MTVuOXcyZHc5czE2azh1MTZsOXUxN3M5ejE3eDh5MTd5OXl9XCIpfSxRPXtVbmljb2RlOntDb3VyaWVyOlosXCJDb3VyaWVyLUJvbGRcIjpaLFwiQ291cmllci1Cb2xkT2JsaXF1ZVwiOlosXCJDb3VyaWVyLU9ibGlxdWVcIjpaLEhlbHZldGljYTpaLFwiSGVsdmV0aWNhLUJvbGRcIjpaLFwiSGVsdmV0aWNhLUJvbGRPYmxpcXVlXCI6WixcIkhlbHZldGljYS1PYmxpcXVlXCI6WixcIlRpbWVzLVJvbWFuXCI6WixcIlRpbWVzLUJvbGRcIjpaLFwiVGltZXMtQm9sZEl0YWxpY1wiOlosXCJUaW1lcy1JdGFsaWNcIjpafX0sJD17VW5pY29kZTp7XCJDb3VyaWVyLU9ibGlxdWVcIjpLKFwieyd3aWR0aHMne2szdydmb2YnNm99J2tlcm5pbmcneydmb2YnLTZvfX1cIiksXCJUaW1lcy1Cb2xkSXRhbGljXCI6SyhcInsnd2lkdGhzJ3trM28ycTR5Y3gycjIwMW4zbTIwMW82bzIwMXMybDIwMXQybDIwMXUybDIwMXczbTIwMXgzbTIwMXkzbTJrMXQybDJyMjAybTJuMm4zbTJvM20ycDVuMjAycTZvMnIxdzJzMmwydDJsMnUzbTJ2M3QydzF0MngybDJ5MXQyejF3M2szbTNsM20zbTNtM24zbTNvM20zcDNtM3EzbTNyM20zczNtMjAzdDJsMjAzdTJsM3YybDN3M3QzeDN0M3kzdDN6M200azVuNGw0bTRtNG00bjRtNG80czRwNG00cTRtNHI0czRzNHk0dDJyNHUzbTR2NG00dzN4NHg1dDR5NHM0ejRzNWszeDVsNHM1bTRtNW4zcjVvM3g1cDRzNXE0bTVyNXQ1czRtNXQzeDV1M3g1djJsNXcxdzV4Mmw1eTN0NXozbTZrMmw2bDNtNm0zbTZuMnc2bzNtNnAydzZxMmw2cjNtNnMzcjZ0MXc2dTF3NnYzbTZ3MXc2eDR5NnkzcjZ6M203azNtN2wzbTdtMnI3bjJyN28xdzdwM3I3cTJ3N3I0bTdzM203dDJ3N3Uycjd2Mm43dzFxN3gybjd5M3QyMDJsM21jbDRtYWwycmFtM21hbjNtYW8zbWFwM21hcjNtYXMybGF0NHVhdTF1YXYzbWF3M3dheTR1YXoybGJrMnNibDN0J2ZvZic2b2JvMmxicDN0YnEzbWJyMXRiczJsYnUxeWJ2M21iejNtY2s0bTIwMmszbWNtNG1jbjRtY280bWNwNG1jcTV5Y3I0bWNzNG1jdDRtY3U0bWN2NG1jdzJyMm0zcmN5MnJjejJyZGw0c2RtNHNkbjRzZG80c2RwNHNkcTRzZHM0c2R0NHNkdTRzZHY0c2R3NHNkejNtZWszbWVsM21lbTNtZW4zbWVvM21lcDNtZXE0c2VyMndlczJ3ZXQyd2V1MndldjJ3ZXcxd2V4MXdleTF3ZXoxd2ZsM3JmbTNtZm4zbWZvM21mcDNtZnEzbWZyM3RmczNtZnQzcmZ1M3JmdjNyZnczcmZ6MncyMDNrNm8yMTJtNm8yZHcybDJjcTJsM3QzbTN1MmwxN3MzeDE5bTNtfSdrZXJuaW5nJ3tjbHs0cXU1a3Q1cXQ1cnMxN3NzNXRzfTIwMXN7MjAxc3N9MjAxdHtja3M0bHNjbXNjbnNjb3NjcHNjbHMyd3UyeXUyMDF0c30yMDF4ezJ3dTJ5dX0ya3syMDF0c30yd3s0cXg1a3g1b3U1cXg1cnMxN3N1NXR1fTJ4ezE3c3U1dHU1b3V9Mnl7NHF4NWt4NW91NXF4NXJzMTdzczV0c30nZm9mJy02b2ZuezE3c3c1dHc1b3U1cXc1cnN9N3R7Y2tzY2xzY21zY25zY29zY3BzNGxzfTN1ezE3c3U1dHU1b3M1cXN9M3Z7MTdzdTV0dTVvczVxc303cHsxN3N1NXR1fWNrezRxdTVrdDVxdDVyczE3c3M1dHN9NGx7NHF1NWt0NXF0NXJzMTdzczV0c31jbXs0cXU1a3Q1cXQ1cnMxN3NzNXRzfWNuezRxdTVrdDVxdDVyczE3c3M1dHN9Y297NHF1NWt0NXF0NXJzMTdzczV0c31jcHs0cXU1a3Q1cXQ1cnMxN3NzNXRzfTZsezRxdTVvdTVxdzVydDE3c3U1dHV9NXF7Y2t1Y2x1Y211Y251Y291Y3B1NGx1fTVye2NrdWNsdWNtdWNudWNvdWNwdTRsdX03cXtja3NjbHNjbXNjbnNjb3NjcHM0bHN9NnB7NHF1NW91NXF3NXJ0MTdzdzV0d31la3s0cXU1b3U1cXc1cnQxN3N1NXR1fWVsezRxdTVvdTVxdzVydDE3c3U1dHV9ZW17NHF1NW91NXF3NXJ0MTdzdTV0dX1lbns0cXU1b3U1cXc1cnQxN3N1NXR1fWVvezRxdTVvdTVxdzVydDE3c3U1dHV9ZXB7NHF1NW91NXF3NXJ0MTdzdTV0dX1lc3sxN3NzNXRzNXFzNHF1fWV0ezRxdTVvdTVxdzVydDE3c3c1dHd9ZXV7NHF1NW91NXF3NXJ0MTdzczV0c31ldnsxN3NzNXRzNXFzNHF1fTZ6ezE3c3c1dHc1b3U1cXc1cnN9Zm17MTdzdzV0dzVvdTVxdzVyc303bnsyMDF0c31mb3sxN3N3NXR3NW91NXF3NXJzfWZwezE3c3c1dHc1b3U1cXc1cnN9ZnF7MTdzdzV0dzVvdTVxdzVyc303cntja3NjbHNjbXNjbnNjb3NjcHM0bHN9ZnN7MTdzdzV0dzVvdTVxdzVyc31mdHsxN3N1NXR1fWZ1ezE3c3U1dHV9ZnZ7MTdzdTV0dX1md3sxN3N1NXR1fWZ6e2Nrc2Nsc2Ntc2Nuc2Nvc2NwczRsc319fVwiKSxcIkhlbHZldGljYS1Cb2xkXCI6SyhcInsnd2lkdGhzJ3trM3MycTRzY3gxdzIwMW4zcjIwMW82bzIwMXMxdzIwMXQxdzIwMXUxdzIwMXczbTIwMXgzbTIwMXkzbTJrMXcybDJsMjAybTJuMm4zcjJvM3IycDV0MjAycTZvMnIxczJzMmwydDJsMnUycjJ2M3UydzF3MngybDJ5MXcyejF3M2szcjNsM3IzbTNyM24zcjNvM3IzcDNyM3EzcjNyM3IzczNyMjAzdDJsMjAzdTJsM3YybDN3M3UzeDN1M3kzdTN6M3g0azZsNGw0czRtNHM0bjRzNG80czRwNG00cTN4NHI0eTRzNHM0dDF3NHUzcjR2NHM0dzN4NHg1bjR5NHM0ejR5NWs0bTVsNHk1bTRzNW40bTVvM3g1cDRzNXE0bTVyNXk1czRtNXQ0bTV1M3g1djJsNXcxdzV4Mmw1eTN1NXozcjZrMmw2bDNyNm0zeDZuM3I2bzN4NnAzcjZxMmw2cjN4NnMzeDZ0MXc2dTF3NnYzcjZ3MXc2eDV0NnkzeDZ6M3g3azN4N2wzeDdtMnI3bjNyN28ybDdwM3g3cTNyN3I0eTdzM3I3dDNyN3UzbTd2MnI3dzF3N3gycjd5M3UyMDJsM3JjbDRzYWwybGFtM3JhbjNyYW8zcmFwM3JhcjNyYXMybGF0NHRhdTJwYXYzcmF3M3VheTR0YXoybGJrMnNibDN1J2ZvZic2b2JvMmxicDN4YnEzcmJyMXdiczJsYnUyb2J2M3JiejN4Y2s0czIwMmszcmNtNHNjbjRzY280c2NwNHNjcTZvY3I0c2NzNG1jdDRtY3U0bWN2NG1jdzF3Mm0yemN5MXdjejF3ZGw0c2RtNHlkbjR5ZG80eWRwNHlkcTR5ZHM0eWR0NHNkdTRzZHY0c2R3NHNkejN4ZWszcmVsM3JlbTNyZW4zcmVvM3JlcDNyZXE1dGVyM3JlczNyZXQzcmV1M3JldjNyZXcxd2V4MXdleTF3ZXoxd2ZsM3hmbTN4Zm4zeGZvM3hmcDN4ZnEzeGZyM3VmczN4ZnQzeGZ1M3hmdjN4ZnczeGZ6M3IyMDNrNm8yMTJtNm8yZHcybDJjcTJsM3QzcjN1MmwxN3M0bTE5bTNyfSdrZXJuaW5nJ3tjbHs0cXM1a3U1b3Q1cXMxN3N2NXR2fTIwMXR7Mnd3NHd5Mnl3fTIwMXd7MmtzfTIwMXh7Mnd3NHd5Mnl3fTJrezIwMXRzMjAxeHN9Mnd7N3FzNHF1NWt3NW9zNXF3NXJzMTdzdTV0dTd0c2Z6c30yeHs1b3c1cXN9Mnl7N3FzNHF1NWt3NW9zNXF3NXJzMTdzdTV0dTd0c2Z6c30nZm9mJy02bzdwezE3c3U1dHU1b3R9Y2t7NHFzNWt1NW90NXFzMTdzdjV0dn00bHs0cXM1a3U1b3Q1cXMxN3N2NXR2fWNtezRxczVrdTVvdDVxczE3c3Y1dHZ9Y257NHFzNWt1NW90NXFzMTdzdjV0dn1jb3s0cXM1a3U1b3Q1cXMxN3N2NXR2fWNwezRxczVrdTVvdDVxczE3c3Y1dHZ9Nmx7MTdzdDV0dDVvc30xN3N7Mmt3Y2x2Y212Y252Y292Y3B2NGx2NHd3Y2t2fTVvezJrdWNsdGNtdGNudGNvdGNwdDRsdDR3dGNrdH01cXsya3NjbHNjbXNjbnNjb3NjcHM0bHM0d3Zja3N9NXJ7MmtzNHdzfTV0ezJrd2NsdmNtdmNudmNvdmNwdjRsdjR3d2Nrdn1lb3sxN3N0NXR0NW9zfWZ1ezE3c3U1dHU1b3R9NnB7MTdzczV0c31la3sxN3N0NXR0NW9zfWVsezE3c3Q1dHQ1b3N9ZW17MTdzdDV0dDVvc31lbnsxN3N0NXR0NW9zfTZvezIwMXRzfWVwezE3c3Q1dHQ1b3N9ZXN7MTdzczV0c31ldHsxN3NzNXRzfWV1ezE3c3M1dHN9ZXZ7MTdzczV0c302ensxN3N1NXR1NW9zNXF0fWZtezE3c3U1dHU1b3M1cXR9Zm57MTdzdTV0dTVvczVxdH1mb3sxN3N1NXR1NW9zNXF0fWZwezE3c3U1dHU1b3M1cXR9ZnF7MTdzdTV0dTVvczVxdH1mc3sxN3N1NXR1NW9zNXF0fWZ0ezE3c3U1dHU1b3R9N217NW9zfWZ2ezE3c3U1dHU1b3R9Znd7MTdzdTV0dTVvdH19fVwiKSxDb3VyaWVyOksoXCJ7J3dpZHRocyd7azN3J2ZvZic2b30na2VybmluZyd7J2ZvZictNm99fVwiKSxcIkNvdXJpZXItQm9sZE9ibGlxdWVcIjpLKFwieyd3aWR0aHMne2szdydmb2YnNm99J2tlcm5pbmcneydmb2YnLTZvfX1cIiksXCJUaW1lcy1Cb2xkXCI6SyhcInsnd2lkdGhzJ3trM3EycTVuY3gycjIwMW4zbTIwMW82bzIwMXMybDIwMXQybDIwMXUybDIwMXczbTIwMXgzbTIwMXkzbTJrMXQybDJsMjAybTJuMm4zbTJvM20ycDZvMjAycTZvMnIxdzJzMmwydDJsMnUzbTJ2M3QydzF0MngybDJ5MXQyejF3M2szbTNsM20zbTNtM24zbTNvM20zcDNtM3EzbTNyM20zczNtMjAzdDJsMjAzdTJsM3YybDN3M3QzeDN0M3kzdDN6M200azV4NGw0czRtNG00bjRzNG80czRwNG00cTN4NHI0eTRzNHk0dDJyNHUzbTR2NHk0dzRtNHg1eTR5NHM0ejR5NWszeDVsNHk1bTRzNW4zcjVvNG01cDRzNXE0czVyNm81czRzNXQ0czV1NG01djJsNXcxdzV4Mmw1eTN1NXozbTZrMmw2bDNtNm0zcjZuMnc2bzNyNnAydzZxMmw2cjNtNnMzcjZ0MXc2dTJsNnYzcjZ3MXc2eDVuNnkzcjZ6M203azNyN2wzcjdtMnc3bjJyN28ybDdwM3I3cTNtN3I0czdzM203dDNtN3Uydzd2MnI3dzFxN3gycjd5M28yMDJsM21jbDRzYWwybGFtM21hbjNtYW8zbWFwM21hcjNtYXMybGF0NHVhdTF5YXYzbWF3M3RheTR1YXoybGJrMnNibDN0J2ZvZic2b2JvMmxicDNyYnIxdGJzMmxidTJsYnYzbWJ6M21jazRzMjAyazNtY200c2NuNHNjbzRzY3A0c2NxNm9jcjRzY3M0bWN0NG1jdTRtY3Y0bWN3MnIybTNyY3kycmN6MnJkbDRzZG00eWRuNHlkbzR5ZHA0eWRxNHlkczR5ZHQ0c2R1NHNkdjRzZHc0c2R6M3JlazNtZWwzbWVtM21lbjNtZW8zbWVwM21lcTRzZXIyd2VzMndldDJ3ZXUyd2V2MndldzF3ZXgxd2V5MXdlejF3ZmwzcmZtM21mbjNtZm8zbWZwM21mcTNtZnIzdGZzM21mdDNyZnUzcmZ2M3JmdzNyZnozbTIwM2s2bzIxMm02bzJkdzJsMmNxMmwzdDNtM3UybDE3czRzMTltM219J2tlcm5pbmcne2NsezRxdDVrczVvdDVxeTVydzE3c3Y1dHZ9MjAxdHtja3M0bHNjbXNjbnNjb3NjcHNjbHM0d3Z9Mmt7MjAxdHN9Mnd7NHF1NWt1N211NW9zNXF4NXJ1MTdzdTV0dX0yeHsxN3N1NXR1NW91NXFzfTJ5ezRxdjVrdjdtdTVvdDVxejVydTE3c3U1dHV9J2ZvZictNm83dHtja3NjbHNjbXNjbnNjb3NjcHM0bHN9M3V7MTdzdTV0dTVvczVxdX0zdnsxN3N1NXR1NW9zNXF1fWZ1ezE3c3U1dHU1b3U1cXV9N3B7MTdzdTV0dTVvdTVxdX1ja3s0cXQ1a3M1b3Q1cXk1cncxN3N2NXR2fTRsezRxdDVrczVvdDVxeTVydzE3c3Y1dHZ9Y217NHF0NWtzNW90NXF5NXJ3MTdzdjV0dn1jbns0cXQ1a3M1b3Q1cXk1cncxN3N2NXR2fWNvezRxdDVrczVvdDVxeTVydzE3c3Y1dHZ9Y3B7NHF0NWtzNW90NXF5NXJ3MTdzdjV0dn02bHsxN3N0NXR0NW91NXF1fTE3c3tja3VjbHVjbXVjbnVjb3VjcHU0bHU0d3V9NW97Y2t1Y2x1Y211Y251Y291Y3B1NGx1NHd1fTVxe2NremNsemNtemNuemNvemNwejRsejR3dX01cntja3hjbHhjbXhjbnhjb3hjcHg0bHg0d3V9NXR7Y2t1Y2x1Y211Y251Y291Y3B1NGx1NHd1fTdxe2NrdWNsdWNtdWNudWNvdWNwdTRsdX02cHsxN3N3NXR3NW91NXF1fWVrezE3c3Q1dHQ1cXV9ZWx7MTdzdDV0dDVvdTVxdX1lbXsxN3N0NXR0NXF1fWVuezE3c3Q1dHQ1cXV9ZW97MTdzdDV0dDVxdX1lcHsxN3N0NXR0NW91NXF1fWVzezE3c3M1dHM1cXV9ZXR7MTdzdzV0dzVvdTVxdX1ldXsxN3N3NXR3NW91NXF1fWV2ezE3c3M1dHM1cXV9Nnp7MTdzdzV0dzVvdTVxdTVyc31mbXsxN3N3NXR3NW91NXF1NXJzfWZuezE3c3c1dHc1b3U1cXU1cnN9Zm97MTdzdzV0dzVvdTVxdTVyc31mcHsxN3N3NXR3NW91NXF1NXJzfWZxezE3c3c1dHc1b3U1cXU1cnN9N3J7Y2t0Y2x0Y210Y250Y290Y3B0NGx0NW9zfWZzezE3c3c1dHc1b3U1cXU1cnN9ZnR7MTdzdTV0dTVvdTVxdX03bXs1b3N9ZnZ7MTdzdTV0dTVvdTVxdX1md3sxN3N1NXR1NW91NXF1fWZ6e2Nrc2Nsc2Ntc2Nuc2Nvc2NwczRsc319fVwiKSxTeW1ib2w6SyhcInsnd2lkdGhzJ3trM3VhdzRyMTltM20yazF0MmwybDIwMm0yeTJuM20ycDVuMjAycTZvM2szbTJzMmwydDJsMnYzcjJ3MXQzbTNtMnkxdDJ6MXdiazJzYmwzcidmb2YnNm8zbjNtM28zbTNwM20zcTNtM3IzbTNzM20zdDNtM3UxdzN2MXczdzNyM3gzcjN5M3IzejJ3YnAzdDNsM201djJsNXgybDV6M20ycTR5ZnIzcjd2M2s3dzFvN3gza30na2VybmluZyd7J2ZvZictNm99fVwiKSxIZWx2ZXRpY2E6SyhcInsnd2lkdGhzJ3trM3AycTRtY3gxdzIwMW4zcjIwMW82bzIwMXMxcTIwMXQxcTIwMXUxcTIwMXcybDIwMXgybDIwMXkybDJrMXcybDF3MjAybTJuMm4zcjJvM3IycDV0MjAycTZvMnIxbjJzMmwydDJsMnUycjJ2M3UydzF3MngybDJ5MXcyejF3M2szcjNsM3IzbTNyM24zcjNvM3IzcDNyM3EzcjNyM3IzczNyMjAzdDJsMjAzdTJsM3YxdzN3M3UzeDN1M3kzdTN6M3I0azZwNGw0bTRtNG00bjRzNG80czRwNG00cTN4NHI0eTRzNHM0dDF3NHUzbTR2NG00dzNyNHg1bjR5NHM0ejR5NWs0bTVsNHk1bTRzNW40bTVvM3g1cDRzNXE0bTVyNXk1czRtNXQ0bTV1M3g1djF3NXcxdzV4MXc1eTJ6NXozcjZrMmw2bDNyNm0zcjZuM202bzNyNnAzcjZxMXc2cjNyNnMzcjZ0MXE2dTFxNnYzbTZ3MXE2eDVuNnkzcjZ6M3I3azNyN2wzcjdtMmw3bjNtN28xdzdwM3I3cTNtN3I0czdzM203dDNtN3UzbTd2Mmw3dzF1N3gybDd5M3UyMDJsM3JjbDRtYWwybGFtM3JhbjNyYW8zcmFwM3JhcjNyYXMybGF0NHRhdTJwYXYzcmF3M3VheTR0YXoybGJrMnNibDN1J2ZvZic2b2JvMmxicDNyYnIxd2JzMmxidTJvYnYzcmJ6M3hjazRtMjAyazNyY200bWNuNG1jbzRtY3A0bWNxNm9jcjRzY3M0bWN0NG1jdTRtY3Y0bWN3MXcybTJuY3kxd2N6MXdkbDRzZG00eWRuNHlkbzR5ZHA0eWRxNHlkczR5ZHQ0c2R1NHNkdjRzZHc0c2R6M3hlazNyZWwzcmVtM3JlbjNyZW8zcmVwM3JlcTV0ZXIzbWVzM3JldDNyZXUzcmV2M3JldzF3ZXgxd2V5MXdlejF3ZmwzcmZtM3JmbjNyZm8zcmZwM3JmcTNyZnIzdWZzM3hmdDNyZnUzcmZ2M3JmdzNyZnozbTIwM2s2bzIxMm02bzJkdzJsMmNxMmwzdDNyM3UxdzE3czRtMTltM3J9J2tlcm5pbmcnezVxezR3dn1jbHs0cXM1a3c1b3c1cXMxN3N2NXR2fTIwMXR7Mnd1NHcxazJ5dX0yMDF4ezJ3dTR3eTJ5dX0xN3N7Mmt0Y2x1Y211Y251NG90Y3B1NGx1NHd5Y291Y2t1fTJ3ezdxczRxejVrMW0xN3N5NW93NXF4NXJzZnN1NXR5N3R1Znp1fTJ4ezE3c3k1dHk1b3k1cXN9Mnl7N3FzNHF6NWsxbTE3c3k1b3c1cXg1cnNmc3U1dHk3dHVmenV9J2ZvZictNm83cHsxN3N2NXR2NW93fWNrezRxczVrdzVvdzVxczE3c3Y1dHZ9NGx7NHFzNWt3NW93NXFzMTdzdjV0dn1jbXs0cXM1a3c1b3c1cXMxN3N2NXR2fWNuezRxczVrdzVvdzVxczE3c3Y1dHZ9Y297NHFzNWt3NW93NXFzMTdzdjV0dn1jcHs0cXM1a3c1b3c1cXMxN3N2NXR2fTZsezE3c3k1dHk1b3d9ZG97MTdzdDV0dH00ensxN3N0NXR0fTdze2ZzdH1kbXsxN3N0NXR0fWRuezE3c3Q1dHR9NW97Y2t3Y2x3Y213Y253Y293Y3B3NGx3NHd2fWRwezE3c3Q1dHR9ZHF7MTdzdDV0dH03dHs1b3d9ZHN7MTdzdDV0dH01dHsya3RjbHVjbXVjbnU0b3RjcHU0bHU0d3ljb3Vja3V9ZnV7MTdzdjV0djVvd302cHsxN3N5NXR5NW93NXFzfWVrezE3c3k1dHk1b3d9ZWx7MTdzeTV0eTVvd31lbXsxN3N5NXR5NW93fWVuezV0eX1lb3sxN3N5NXR5NW93fWVwezE3c3k1dHk1b3d9ZXN7MTdzeTV0eTVxc31ldHsxN3N5NXR5NW93NXFzfWV1ezE3c3k1dHk1b3c1cXN9ZXZ7MTdzeTV0eTVvdzVxc302ensxN3N5NXR5NW93NXFzfWZtezE3c3k1dHk1b3c1cXN9Zm57MTdzeTV0eTVvdzVxc31mb3sxN3N5NXR5NW93NXFzfWZwezE3c3k1dHk1cXN9ZnF7MTdzeTV0eTVvdzVxc303cns1b3d9ZnN7MTdzeTV0eTVvdzVxc31mdHsxN3N2NXR2NW93fTdtezVvd31mdnsxN3N2NXR2NW93fWZ3ezE3c3Y1dHY1b3d9fX1cIiksXCJIZWx2ZXRpY2EtQm9sZE9ibGlxdWVcIjpLKFwieyd3aWR0aHMne2szczJxNHNjeDF3MjAxbjNyMjAxbzZvMjAxczF3MjAxdDF3MjAxdTF3MjAxdzNtMjAxeDNtMjAxeTNtMmsxdzJsMmwyMDJtMm4ybjNyMm8zcjJwNXQyMDJxNm8ycjFzMnMybDJ0MmwydTJyMnYzdTJ3MXcyeDJsMnkxdzJ6MXczazNyM2wzcjNtM3IzbjNyM28zcjNwM3IzcTNyM3IzcjNzM3IyMDN0MmwyMDN1MmwzdjJsM3czdTN4M3UzeTN1M3ozeDRrNmw0bDRzNG00czRuNHM0bzRzNHA0bTRxM3g0cjR5NHM0czR0MXc0dTNyNHY0czR3M3g0eDVuNHk0czR6NHk1azRtNWw0eTVtNHM1bjRtNW8zeDVwNHM1cTRtNXI1eTVzNG01dDRtNXUzeDV2Mmw1dzF3NXgybDV5M3U1ejNyNmsybDZsM3I2bTN4Nm4zcjZvM3g2cDNyNnEybDZyM3g2czN4NnQxdzZ1MXc2djNyNncxdzZ4NXQ2eTN4NnozeDdrM3g3bDN4N20ycjduM3I3bzJsN3AzeDdxM3I3cjR5N3Mzcjd0M3I3dTNtN3Yycjd3MXc3eDJyN3kzdTIwMmwzcmNsNHNhbDJsYW0zcmFuM3JhbzNyYXAzcmFyM3JhczJsYXQ0dGF1MnBhdjNyYXczdWF5NHRhejJsYmsyc2JsM3UnZm9mJzZvYm8ybGJwM3hicTNyYnIxd2JzMmxidTJvYnYzcmJ6M3hjazRzMjAyazNyY200c2NuNHNjbzRzY3A0c2NxNm9jcjRzY3M0bWN0NG1jdTRtY3Y0bWN3MXcybTJ6Y3kxd2N6MXdkbDRzZG00eWRuNHlkbzR5ZHA0eWRxNHlkczR5ZHQ0c2R1NHNkdjRzZHc0c2R6M3hlazNyZWwzcmVtM3JlbjNyZW8zcmVwM3JlcTV0ZXIzcmVzM3JldDNyZXUzcmV2M3JldzF3ZXgxd2V5MXdlejF3ZmwzeGZtM3hmbjN4Zm8zeGZwM3hmcTN4ZnIzdWZzM3hmdDN4ZnUzeGZ2M3hmdzN4ZnozcjIwM2s2bzIxMm02bzJkdzJsMmNxMmwzdDNyM3UybDE3czRtMTltM3J9J2tlcm5pbmcne2NsezRxczVrdTVvdDVxczE3c3Y1dHZ9MjAxdHsyd3c0d3kyeXd9MjAxd3sya3N9MjAxeHsyd3c0d3kyeXd9Mmt7MjAxdHMyMDF4c30yd3s3cXM0cXU1a3c1b3M1cXc1cnMxN3N1NXR1N3RzZnpzfTJ4ezVvdzVxc30yeXs3cXM0cXU1a3c1b3M1cXc1cnMxN3N1NXR1N3RzZnpzfSdmb2YnLTZvN3B7MTdzdTV0dTVvdH1ja3s0cXM1a3U1b3Q1cXMxN3N2NXR2fTRsezRxczVrdTVvdDVxczE3c3Y1dHZ9Y217NHFzNWt1NW90NXFzMTdzdjV0dn1jbns0cXM1a3U1b3Q1cXMxN3N2NXR2fWNvezRxczVrdTVvdDVxczE3c3Y1dHZ9Y3B7NHFzNWt1NW90NXFzMTdzdjV0dn02bHsxN3N0NXR0NW9zfTE3c3sya3djbHZjbXZjbnZjb3ZjcHY0bHY0d3dja3Z9NW97Mmt1Y2x0Y210Y250Y290Y3B0NGx0NHd0Y2t0fTVxezJrc2Nsc2Ntc2Nuc2Nvc2NwczRsczR3dmNrc301cnsya3M0d3N9NXR7Mmt3Y2x2Y212Y252Y292Y3B2NGx2NHd3Y2t2fWVvezE3c3Q1dHQ1b3N9ZnV7MTdzdTV0dTVvdH02cHsxN3NzNXRzfWVrezE3c3Q1dHQ1b3N9ZWx7MTdzdDV0dDVvc31lbXsxN3N0NXR0NW9zfWVuezE3c3Q1dHQ1b3N9Nm97MjAxdHN9ZXB7MTdzdDV0dDVvc31lc3sxN3NzNXRzfWV0ezE3c3M1dHN9ZXV7MTdzczV0c31ldnsxN3NzNXRzfTZ6ezE3c3U1dHU1b3M1cXR9Zm17MTdzdTV0dTVvczVxdH1mbnsxN3N1NXR1NW9zNXF0fWZvezE3c3U1dHU1b3M1cXR9ZnB7MTdzdTV0dTVvczVxdH1mcXsxN3N1NXR1NW9zNXF0fWZzezE3c3U1dHU1b3M1cXR9ZnR7MTdzdTV0dTVvdH03bXs1b3N9ZnZ7MTdzdTV0dTVvdH1md3sxN3N1NXR1NW90fX19XCIpLFphcGZEaW5nYmF0czpLKFwieyd3aWR0aHMne2s0dTJrMXcnZm9mJzZvfSdrZXJuaW5nJ3snZm9mJy02b319XCIpLFwiQ291cmllci1Cb2xkXCI6SyhcInsnd2lkdGhzJ3trM3cnZm9mJzZvfSdrZXJuaW5nJ3snZm9mJy02b319XCIpLFwiVGltZXMtSXRhbGljXCI6SyhcInsnd2lkdGhzJ3trM24ycTR5Y3gybDIwMW4zbTIwMW81dDIwMXMybDIwMXQybDIwMXUybDIwMXczcjIwMXgzcjIwMXkzcjJrMXQybDJsMjAybTJuMm4zbTJvM20ycDVuMjAycTV0MnIxcDJzMmwydDJsMnUzbTJ2NG4ydzF0MngybDJ5MXQyejF3M2szbTNsM20zbTNtM24zbTNvM20zcDNtM3EzbTNyM20zczNtMjAzdDJsMjAzdTJsM3YybDN3NG4zeDRuM3k0bjN6M200azV3NGwzeDRtM3g0bjRtNG80czRwM3g0cTN4NHI0czRzNHM0dDJsNHUydzR2NG00dzNyNHg1bjR5NG00ejRzNWszeDVsNHM1bTN4NW4zbTVvM3I1cDRzNXEzeDVyNW41czN4NXQzcjV1M3I1djJyNXcxdzV4MnI1eTJ1NXozbTZrMmw2bDNtNm0zbTZuMnc2bzNtNnAydzZxMXc2cjNtNnMzbTZ0MXc2dTF3NnYydzZ3MXc2eDRzNnkzbTZ6M203azNtN2wzbTdtMnI3bjJyN28xdzdwM203cTJ3N3I0bTdzMnc3dDJ3N3Uycjd2MnM3dzF2N3gyczd5M3EyMDJsM21jbDN4YWwycmFtM21hbjNtYW8zbWFwM21hcjNtYXMybGF0NHdhdTF2YXYzbWF3NG5heTR3YXoybGJrMnNibDRuJ2ZvZic2b2JvMmxicDNtYnEzb2JyMXRiczJsYnUxemJ2M21iejNtY2szeDIwMmszbWNtM3hjbjN4Y28zeGNwM3hjcTV0Y3I0bWNzM3hjdDN4Y3UzeGN2M3hjdzJsMm0ydWN5MmxjejJsZGw0bWRtNHNkbjRzZG80c2RwNHNkcTRzZHM0c2R0NHNkdTRzZHY0c2R3NHNkejNtZWszbWVsM21lbTNtZW4zbWVvM21lcDNtZXE0bWVyMndlczJ3ZXQyd2V1MndldjJ3ZXcxd2V4MXdleTF3ZXoxd2ZsM21mbTNtZm4zbWZvM21mcDNtZnEzbWZyNG5mczNtZnQzbWZ1M21mdjNtZnczbWZ6MncyMDNrNm8yMTJtNm0yZHcybDJjcTJsM3QzbTN1MmwxN3MzcjE5bTNtfSdrZXJuaW5nJ3tjbHs1a3Q0cXd9MjAxc3syMDFzd30yMDF0ezIwMXR3Mnd5Mnl5NnEtdH0yMDF4ezJ3eTJ5eX0ya3syMDF0d30yd3s3cXM0cXk3cnM1a3k3bXc1b3M1cXg1cnUxN3N1NXR1fTJ4ezE3c3M1dHM1b3N9Mnl7N3FzNHF5N3JzNWt5N213NW9zNXF4NXJ1MTdzdTV0dX0nZm9mJy02bzZ0ezE3c3M1dHM1cXN9N3R7NW9zfTN2ezVxc303cHsxN3N1NXR1NXFzfWNrezVrdDRxd300bHs1a3Q0cXd9Y217NWt0NHF3fWNuezVrdDRxd31jb3s1a3Q0cXd9Y3B7NWt0NHF3fTZsezRxczVrczVvdTVxdzVydTE3c3U1dHV9MTdzezJrc301cXtja3ZjbHZjbXZjbnZjb3ZjcHY0bHZ9NXJ7Y2t1Y2x1Y211Y251Y291Y3B1NGx1fTV0ezJrc302cHs0cXM1a3M1b3U1cXc1cnUxN3N1NXR1fWVrezRxczVrczVvdTVxdzVydTE3c3U1dHV9ZWx7NHFzNWtzNW91NXF3NXJ1MTdzdTV0dX1lbXs0cXM1a3M1b3U1cXc1cnUxN3N1NXR1fWVuezRxczVrczVvdTVxdzVydTE3c3U1dHV9ZW97NHFzNWtzNW91NXF3NXJ1MTdzdTV0dX1lcHs0cXM1a3M1b3U1cXc1cnUxN3N1NXR1fWVzezVrczVxczRxc31ldHs0cXM1a3M1b3U1cXc1cnUxN3N1NXR1fWV1ezRxczVrczVxdzVydTE3c3U1dHV9ZXZ7NWtzNXFzNHFzfWV4ezE3c3M1dHM1cXN9Nnp7NHF2NWtzNW91NXF3NXJ1MTdzdTV0dX1mbXs0cXY1a3M1b3U1cXc1cnUxN3N1NXR1fWZuezRxdjVrczVvdTVxdzVydTE3c3U1dHV9Zm97NHF2NWtzNW91NXF3NXJ1MTdzdTV0dX1mcHs0cXY1a3M1b3U1cXc1cnUxN3N1NXR1fWZxezRxdjVrczVvdTVxdzVydTE3c3U1dHV9N3J7NW9zfWZzezRxdjVrczVvdTVxdzVydTE3c3U1dHV9ZnR7MTdzdTV0dTVxc31mdXsxN3N1NXR1NXFzfWZ2ezE3c3U1dHU1cXN9Znd7MTdzdTV0dTVxc319fVwiKSxcIlRpbWVzLVJvbWFuXCI6SyhcInsnd2lkdGhzJ3trM24ycTR5Y3gybDIwMW4zbTIwMW82bzIwMXMybDIwMXQybDIwMXUybDIwMXcydzIwMXgydzIwMXkydzJrMXQybDJsMjAybTJuMm4zbTJvM20ycDVuMjAycTZvMnIxbTJzMmwydDJsMnUzbTJ2M3MydzF0MngybDJ5MXQyejF3M2szbTNsM20zbTNtM24zbTNvM20zcDNtM3EzbTNyM20zczNtMjAzdDJsMjAzdTJsM3YxdzN3M3MzeDNzM3kzczN6Mnc0azV3NGw0czRtNG00bjRtNG80czRwM3g0cTNyNHI0czRzNHM0dDJsNHUycjR2NHM0dzN4NHg1dDR5NHM0ejRzNWszcjVsNHM1bTRtNW4zcjVvM3g1cDRzNXE0czVyNXk1czRzNXQ0czV1M3g1djJsNXcxdzV4Mmw1eTJ6NXozbTZrMmw2bDJ3Nm0zbTZuMnc2bzNtNnAydzZxMmw2cjNtNnMzbTZ0MXc2dTF3NnYzbTZ3MXc2eDR5NnkzbTZ6M203azNtN2wzbTdtMmw3bjJyN28xdzdwM203cTNtN3I0czdzM203dDNtN3Uydzd2M2s3dzFvN3gzazd5M3EyMDJsM21jbDRzYWwybGFtM21hbjNtYW8zbWFwM21hcjNtYXMybGF0NHdhdTF2YXYzbWF3M3NheTR3YXoybGJrMnNibDNzJ2ZvZic2b2JvMmxicDNtYnEyeGJyMXRiczJsYnUxemJ2M21iejJ3Y2s0czIwMmszbWNtNHNjbjRzY280c2NwNHNjcTV0Y3I0bWNzM3hjdDN4Y3UzeGN2M3hjdzJsMm0ydGN5MmxjejJsZGw0c2RtNHNkbjRzZG80c2RwNHNkcTRzZHM0c2R0NHNkdTRzZHY0c2R3NHNkejNtZWsyd2VsMndlbTJ3ZW4yd2VvMndlcDJ3ZXE0bWVyMndlczJ3ZXQyd2V1MndldjJ3ZXcxd2V4MXdleTF3ZXoxd2ZsM21mbTNtZm4zbWZvM21mcDNtZnEzbWZyM3NmczNtZnQzbWZ1M21mdjNtZnczbWZ6M20yMDNrNm8yMTJtNm0yZHcybDJjcTJsM3QzbTN1MXcxN3M0czE5bTNtfSdrZXJuaW5nJ3tjbHs0cXM1a3UxN3N3NW91NXF5NXJ3MjAxc3M1dHcyMDF3c30yMDFzezIwMXNzfTIwMXR7Y2t3NGx3Y213Y253Y293Y3B3Y2x3NHd1MjAxdHN9Mmt7MjAxdHN9Mnd7NHFzNWt3NW9zNXF4NXJ1MTdzeDV0eH0yeHsxN3N3NXR3NW91NXF1fTJ5ezRxczVrdzVvczVxeDVydTE3c3g1dHh9J2ZvZictNm83dHtja3VjbHVjbXVjbnVjb3VjcHU0bHU1b3M1cnN9M3V7MTdzdTV0dTVxc30zdnsxN3N1NXR1NXFzfTdwezE3c3c1dHc1cXN9Y2t7NHFzNWt1MTdzdzVvdTVxeTVydzIwMXNzNXR3MjAxd3N9NGx7NHFzNWt1MTdzdzVvdTVxeTVydzIwMXNzNXR3MjAxd3N9Y217NHFzNWt1MTdzdzVvdTVxeTVydzIwMXNzNXR3MjAxd3N9Y257NHFzNWt1MTdzdzVvdTVxeTVydzIwMXNzNXR3MjAxd3N9Y297NHFzNWt1MTdzdzVvdTVxeTVydzIwMXNzNXR3MjAxd3N9Y3B7NHFzNWt1MTdzdzVvdTVxeTVydzIwMXNzNXR3MjAxd3N9Nmx7MTdzdTV0dTVvczVxdzVyc30xN3N7Mmt0Y2x2Y212Y252Y292Y3B2NGx2NHd1Y2t2fTVve2Nrd2Nsd2Ntd2Nud2Nvd2NwdzRsdzR3dX01cXtja3ljbHljbXljbnljb3ljcHk0bHk0d3U1bXN9NXJ7Y2t0Y2x0Y210Y250Y290Y3B0NGx0NHdzfTV0ezJrdGNsdmNtdmNudmNvdmNwdjRsdjR3dWNrdn03cXtja3NjbHNjbXNjbnNjb3NjcHM0bHN9NnB7MTdzdTV0dTVxdzVyc31la3s1cXM1cnN9ZWx7MTdzdTV0dTVvczVxdzVyc31lbXsxN3N1NXR1NW9zNXFzNXJzfWVuezE3c3U1cXM1cnN9ZW97NXFzNXJzfWVwezE3c3U1dHU1b3M1cXc1cnN9ZXN7NXFzfWV0ezE3c3U1dHU1cXc1cnN9ZXV7MTdzdTV0dTVxczVyc31ldns1cXN9Nnp7MTdzdjV0djVvczVxeDVyc31mbXs1b3M1cXQ1cnN9Zm57MTdzdjV0djVvczVxeDVyc31mb3sxN3N2NXR2NW9zNXF4NXJzfWZwezVvczVxdDVyc31mcXs1b3M1cXQ1cnN9N3J7Y2t1Y2x1Y211Y251Y291Y3B1NGx1NW9zfWZzezE3c3Y1dHY1b3M1cXg1cnN9ZnR7MTdzczV0czVxc31mdXsxN3N3NXR3NXFzfWZ2ezE3c3c1dHc1cXN9Znd7MTdzczV0czVxc31mentja3VjbHVjbXVjbnVjb3VjcHU0bHU1b3M1cnN9fX1cIiksXCJIZWx2ZXRpY2EtT2JsaXF1ZVwiOksoXCJ7J3dpZHRocyd7azNwMnE0bWN4MXcyMDFuM3IyMDFvNm8yMDFzMXEyMDF0MXEyMDF1MXEyMDF3MmwyMDF4MmwyMDF5MmwyazF3MmwxdzIwMm0ybjJuM3IybzNyMnA1dDIwMnE2bzJyMW4yczJsMnQybDJ1MnIydjN1MncxdzJ4MmwyeTF3MnoxdzNrM3IzbDNyM20zcjNuM3IzbzNyM3AzcjNxM3IzcjNyM3MzcjIwM3QybDIwM3UybDN2MXczdzN1M3gzdTN5M3UzejNyNGs2cDRsNG00bTRtNG40czRvNHM0cDRtNHEzeDRyNHk0czRzNHQxdzR1M200djRtNHczcjR4NW40eTRzNHo0eTVrNG01bDR5NW00czVuNG01bzN4NXA0czVxNG01cjV5NXM0bTV0NG01dTN4NXYxdzV3MXc1eDF3NXkyejV6M3I2azJsNmwzcjZtM3I2bjNtNm8zcjZwM3I2cTF3NnIzcjZzM3I2dDFxNnUxcTZ2M202dzFxNng1bjZ5M3I2ejNyN2szcjdsM3I3bTJsN24zbTdvMXc3cDNyN3EzbTdyNHM3czNtN3QzbTd1M203djJsN3cxdTd4Mmw3eTN1MjAybDNyY2w0bWFsMmxhbTNyYW4zcmFvM3JhcDNyYXIzcmFzMmxhdDR0YXUycGF2M3JhdzN1YXk0dGF6MmxiazJzYmwzdSdmb2YnNm9ibzJsYnAzcmJyMXdiczJsYnUyb2J2M3JiejN4Y2s0bTIwMmszcmNtNG1jbjRtY280bWNwNG1jcTZvY3I0c2NzNG1jdDRtY3U0bWN2NG1jdzF3Mm0ybmN5MXdjejF3ZGw0c2RtNHlkbjR5ZG80eWRwNHlkcTR5ZHM0eWR0NHNkdTRzZHY0c2R3NHNkejN4ZWszcmVsM3JlbTNyZW4zcmVvM3JlcDNyZXE1dGVyM21lczNyZXQzcmV1M3JldjNyZXcxd2V4MXdleTF3ZXoxd2ZsM3JmbTNyZm4zcmZvM3JmcDNyZnEzcmZyM3VmczN4ZnQzcmZ1M3JmdjNyZnczcmZ6M20yMDNrNm8yMTJtNm8yZHcybDJjcTJsM3QzcjN1MXcxN3M0bTE5bTNyfSdrZXJuaW5nJ3s1cXs0d3Z9Y2x7NHFzNWt3NW93NXFzMTdzdjV0dn0yMDF0ezJ3dTR3MWsyeXV9MjAxeHsyd3U0d3kyeXV9MTdzezJrdGNsdWNtdWNudTRvdGNwdTRsdTR3eWNvdWNrdX0yd3s3cXM0cXo1azFtMTdzeTVvdzVxeDVyc2ZzdTV0eTd0dWZ6dX0yeHsxN3N5NXR5NW95NXFzfTJ5ezdxczRxejVrMW0xN3N5NW93NXF4NXJzZnN1NXR5N3R1Znp1fSdmb2YnLTZvN3B7MTdzdjV0djVvd31ja3s0cXM1a3c1b3c1cXMxN3N2NXR2fTRsezRxczVrdzVvdzVxczE3c3Y1dHZ9Y217NHFzNWt3NW93NXFzMTdzdjV0dn1jbns0cXM1a3c1b3c1cXMxN3N2NXR2fWNvezRxczVrdzVvdzVxczE3c3Y1dHZ9Y3B7NHFzNWt3NW93NXFzMTdzdjV0dn02bHsxN3N5NXR5NW93fWRvezE3c3Q1dHR9NHp7MTdzdDV0dH03c3tmc3R9ZG17MTdzdDV0dH1kbnsxN3N0NXR0fTVve2Nrd2Nsd2Ntd2Nud2Nvd2NwdzRsdzR3dn1kcHsxN3N0NXR0fWRxezE3c3Q1dHR9N3R7NW93fWRzezE3c3Q1dHR9NXR7Mmt0Y2x1Y211Y251NG90Y3B1NGx1NHd5Y291Y2t1fWZ1ezE3c3Y1dHY1b3d9NnB7MTdzeTV0eTVvdzVxc31la3sxN3N5NXR5NW93fWVsezE3c3k1dHk1b3d9ZW17MTdzeTV0eTVvd31lbns1dHl9ZW97MTdzeTV0eTVvd31lcHsxN3N5NXR5NW93fWVzezE3c3k1dHk1cXN9ZXR7MTdzeTV0eTVvdzVxc31ldXsxN3N5NXR5NW93NXFzfWV2ezE3c3k1dHk1b3c1cXN9Nnp7MTdzeTV0eTVvdzVxc31mbXsxN3N5NXR5NW93NXFzfWZuezE3c3k1dHk1b3c1cXN9Zm97MTdzeTV0eTVvdzVxc31mcHsxN3N5NXR5NXFzfWZxezE3c3k1dHk1b3c1cXN9N3J7NW93fWZzezE3c3k1dHk1b3c1cXN9ZnR7MTdzdjV0djVvd303bXs1b3d9ZnZ7MTdzdjV0djVvd31md3sxN3N2NXR2NW93fX19XCIpfX0sWC5ldmVudHMucHVzaChbXCJhZGRGb250XCIsZnVuY3Rpb24odCl7dmFyIGUsbixyLGk9dC5mb250LG89XCJVbmljb2RlXCI7KGU9JFtvXVtpLnBvc3RTY3JpcHROYW1lXSkmJigobj1pLm1ldGFkYXRhW29dP2kubWV0YWRhdGFbb106aS5tZXRhZGF0YVtvXT17fSkud2lkdGhzPWUud2lkdGhzLG4ua2VybmluZz1lLmtlcm5pbmcpLChyPVFbb11baS5wb3N0U2NyaXB0TmFtZV0pJiYoKG49aS5tZXRhZGF0YVtvXT9pLm1ldGFkYXRhW29dOmkubWV0YWRhdGFbb109e30pLmVuY29kaW5nPXIpLmNvZGVQYWdlcyYmci5jb2RlUGFnZXMubGVuZ3RoJiYoaS5lbmNvZGluZz1yLmNvZGVQYWdlc1swXSl9XSksXG4vKipcbiAgICogQGxpY2Vuc2VcbiAgICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAgKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAgICovXG50dD1sdCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbCYmZ2xvYmFsfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3d8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSx0dC5BUEkuZXZlbnRzLnB1c2goW1wiYWRkRm9udFwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZm9udCxuPXQuaW5zdGFuY2U7aWYodm9pZCAwIT09biYmbi5leGlzdHNGaWxlSW5WRlMoZS5wb3N0U2NyaXB0TmFtZSkpe3ZhciByPW4uZ2V0RmlsZUZyb21WRlMoZS5wb3N0U2NyaXB0TmFtZSk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHIpdGhyb3cgbmV3IEVycm9yKFwiRm9udCBpcyBub3Qgc3RvcmVkIGFzIHN0cmluZy1kYXRhIGluIHZGUywgaW1wb3J0IGZvbnRzIG9yIHJlbW92ZSBkZWNsYXJhdGlvbiBkb2MuYWRkRm9udCgnXCIrZS5wb3N0U2NyaXB0TmFtZStcIicpLlwiKTtlLm1ldGFkYXRhPXR0LkFQSS5UVEZGb250Lm9wZW4oZS5wb3N0U2NyaXB0TmFtZSxlLmZvbnROYW1lLHIsZS5lbmNvZGluZyksZS5tZXRhZGF0YS5Vbmljb2RlPWUubWV0YWRhdGEuVW5pY29kZXx8e2VuY29kaW5nOnt9LGtlcm5pbmc6e30sd2lkdGhzOltdfSxlLm1ldGFkYXRhLmdseUlkc1VzZWQ9WzBdfWVsc2UgaWYoITE9PT1lLmlzU3RhbmRhcmRGb250KXRocm93IG5ldyBFcnJvcihcIkZvbnQgZG9lcyBub3QgZXhpc3QgaW4gdkZTLCBpbXBvcnQgZm9udHMgb3IgcmVtb3ZlIGRlY2xhcmF0aW9uIGRvYy5hZGRGb250KCdcIitlLnBvc3RTY3JpcHROYW1lK1wiJykuXCIpfV0pLChcbi8qKiBAbGljZW5zZVxuICAgKiBDb3B5cmlnaHQgKGMpIDIwMTIgV2lsbG93IFN5c3RlbXMgQ29ycG9yYXRpb24sIHdpbGxvdy1zeXN0ZW1zLmNvbVxuICAgKiBcbiAgICogXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqL1xuZXQ9bHQuQVBJKS5hZGRTdmc9ZnVuY3Rpb24odCxlLG4scixpKXtpZih2b2lkIDA9PT1lfHx2b2lkIDA9PT1uKXRocm93IG5ldyBFcnJvcihcImFkZFNWRyBuZWVkcyB2YWx1ZXMgZm9yICd4JyBhbmQgJ3knXCIpO2Z1bmN0aW9uIG8odCl7Zm9yKHZhciBlPXBhcnNlRmxvYXQodFsxXSksbj1wYXJzZUZsb2F0KHRbMl0pLHI9W10saT0zLG89dC5sZW5ndGg7aTxvOylcImNcIj09PXRbaV0/KHIucHVzaChbcGFyc2VGbG9hdCh0W2krMV0pLHBhcnNlRmxvYXQodFtpKzJdKSxwYXJzZUZsb2F0KHRbaSszXSkscGFyc2VGbG9hdCh0W2krNF0pLHBhcnNlRmxvYXQodFtpKzVdKSxwYXJzZUZsb2F0KHRbaSs2XSldKSxpKz03KTpcImxcIj09PXRbaV0/KHIucHVzaChbcGFyc2VGbG9hdCh0W2krMV0pLHBhcnNlRmxvYXQodFtpKzJdKV0pLGkrPTMpOmkrPTE7cmV0dXJuW2UsbixyXX12YXIgYSxzLGwsaCx1LGMsZixwLGQ9KGg9ZG9jdW1lbnQscD1oLmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIiksdT1cIi5qc1BERl9zaWxseXN2Z19pZnJhbWUge2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt9XCIsKGY9KGM9aCkuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpKS50eXBlPVwidGV4dC9jc3NcIixmLnN0eWxlU2hlZXQ/Zi5zdHlsZVNoZWV0LmNzc1RleHQ9dTpmLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUodSkpLGMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKGYpLHAubmFtZT1cImNoaWxkZnJhbWVcIixwLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsMCkscC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwwKSxwLnNldEF0dHJpYnV0ZShcImZyYW1lYm9yZGVyXCIsXCIwXCIpLHAuc2V0QXR0cmlidXRlKFwic2Nyb2xsaW5nXCIsXCJub1wiKSxwLnNldEF0dHJpYnV0ZShcInNlYW1sZXNzXCIsXCJzZWFtbGVzc1wiKSxwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJqc1BERl9zaWxseXN2Z19pZnJhbWVcIiksaC5ib2R5LmFwcGVuZENoaWxkKHApLHApLGc9KGE9dCwobD0oKHM9ZCkuY29udGVudFdpbmRvd3x8cy5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50KS53cml0ZShhKSxsLmNsb3NlKCksbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInN2Z1wiKVswXSksbT1bMSwxXSx5PXBhcnNlRmxvYXQoZy5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSksdj1wYXJzZUZsb2F0KGcuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpKTt5JiZ2JiYociYmaT9tPVtyL3ksaS92XTpyP209W3IveSxyL3ldOmkmJihtPVtpL3YsaS92XSkpO3ZhciB3LGIseCxOLEw9Zy5jaGlsZE5vZGVzO2Zvcih3PTAsYj1MLmxlbmd0aDt3PGI7dysrKSh4PUxbd10pLnRhZ05hbWUmJlwiUEFUSFwiPT09eC50YWdOYW1lLnRvVXBwZXJDYXNlKCkmJigoTj1vKHguZ2V0QXR0cmlidXRlKFwiZFwiKS5zcGxpdChcIiBcIikpKVswXT1OWzBdKm1bMF0rZSxOWzFdPU5bMV0qbVsxXStuLHRoaXMubGluZXMuY2FsbCh0aGlzLE5bMl0sTlswXSxOWzFdLG0pKTtyZXR1cm4gdGhpc30sZXQuYWRkU1ZHPWV0LmFkZFN2ZyxldC5hZGRTdmdBc0ltYWdlPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLGEscyl7aWYoaXNOYU4oZSl8fGlzTmFOKG4pKXRocm93IGNvbnNvbGUuZXJyb3IoXCJqc1BERi5hZGRTdmdBc0ltYWdlOiBJbnZhbGlkIGNvb3JkaW5hdGVzXCIsYXJndW1lbnRzKSxuZXcgRXJyb3IoXCJJbnZhbGlkIGNvb3JkaW5hdGVzIHBhc3NlZCB0byBqc1BERi5hZGRTdmdBc0ltYWdlXCIpO2lmKGlzTmFOKHIpfHxpc05hTihpKSl0aHJvdyBjb25zb2xlLmVycm9yKFwianNQREYuYWRkU3ZnQXNJbWFnZTogSW52YWxpZCBtZWFzdXJlbWVudHNcIixhcmd1bWVudHMpLG5ldyBFcnJvcihcIkludmFsaWQgbWVhc3VyZW1lbnRzICh3aWR0aCBhbmQvb3IgaGVpZ2h0KSBwYXNzZWQgdG8ganNQREYuYWRkU3ZnQXNJbWFnZVwiKTt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2wud2lkdGg9cixsLmhlaWdodD1pO3ZhciBoPWwuZ2V0Q29udGV4dChcIjJkXCIpO3JldHVybiBoLmZpbGxTdHlsZT1cIiNmZmZcIixoLmZpbGxSZWN0KDAsMCxsLndpZHRoLGwuaGVpZ2h0KSxjYW52ZyhsLHQse2lnbm9yZU1vdXNlOiEwLGlnbm9yZUFuaW1hdGlvbjohMCxpZ25vcmVEaW1lbnNpb25zOiEwLGlnbm9yZUNsZWFyOiEwfSksdGhpcy5hZGRJbWFnZShsLnRvRGF0YVVSTChcImltYWdlL2pwZWdcIiwxKSxlLG4scixpLGEscyksdGhpc30sbHQuQVBJLnB1dFRvdGFsUGFnZXM9ZnVuY3Rpb24odCl7dmFyIGUsbj0wO249cGFyc2VJbnQodGhpcy5pbnRlcm5hbC5nZXRGb250KCkuaWQuc3Vic3RyKDEpLDEwKTwxNT8oZT1uZXcgUmVnRXhwKHQsXCJnXCIpLHRoaXMuaW50ZXJuYWwuZ2V0TnVtYmVyT2ZQYWdlcygpKTooZT1uZXcgUmVnRXhwKHRoaXMucGRmRXNjYXBlMTYodCx0aGlzLmludGVybmFsLmdldEZvbnQoKSksXCJnXCIpLHRoaXMucGRmRXNjYXBlMTYodGhpcy5pbnRlcm5hbC5nZXROdW1iZXJPZlBhZ2VzKCkrXCJcIix0aGlzLmludGVybmFsLmdldEZvbnQoKSkpO2Zvcih2YXIgcj0xO3I8PXRoaXMuaW50ZXJuYWwuZ2V0TnVtYmVyT2ZQYWdlcygpO3IrKylmb3IodmFyIGk9MDtpPHRoaXMuaW50ZXJuYWwucGFnZXNbcl0ubGVuZ3RoO2krKyl0aGlzLmludGVybmFsLnBhZ2VzW3JdW2ldPXRoaXMuaW50ZXJuYWwucGFnZXNbcl1baV0ucmVwbGFjZShlLG4pO3JldHVybiB0aGlzfSxsdC5BUEkudmlld2VyUHJlZmVyZW5jZXM9ZnVuY3Rpb24odCxlKXt2YXIgbjt0PXR8fHt9LGU9ZXx8ITE7dmFyIHIsaSxvPXtIaWRlVG9vbGJhcjp7ZGVmYXVsdFZhbHVlOiExLHZhbHVlOiExLHR5cGU6XCJib29sZWFuXCIsZXhwbGljaXRTZXQ6ITEsdmFsdWVTZXQ6WyEwLCExXSxwZGZWZXJzaW9uOjEuM30sSGlkZU1lbnViYXI6e2RlZmF1bHRWYWx1ZTohMSx2YWx1ZTohMSx0eXBlOlwiYm9vbGVhblwiLGV4cGxpY2l0U2V0OiExLHZhbHVlU2V0OlshMCwhMV0scGRmVmVyc2lvbjoxLjN9LEhpZGVXaW5kb3dVSTp7ZGVmYXVsdFZhbHVlOiExLHZhbHVlOiExLHR5cGU6XCJib29sZWFuXCIsZXhwbGljaXRTZXQ6ITEsdmFsdWVTZXQ6WyEwLCExXSxwZGZWZXJzaW9uOjEuM30sRml0V2luZG93OntkZWZhdWx0VmFsdWU6ITEsdmFsdWU6ITEsdHlwZTpcImJvb2xlYW5cIixleHBsaWNpdFNldDohMSx2YWx1ZVNldDpbITAsITFdLHBkZlZlcnNpb246MS4zfSxDZW50ZXJXaW5kb3c6e2RlZmF1bHRWYWx1ZTohMSx2YWx1ZTohMSx0eXBlOlwiYm9vbGVhblwiLGV4cGxpY2l0U2V0OiExLHZhbHVlU2V0OlshMCwhMV0scGRmVmVyc2lvbjoxLjN9LERpc3BsYXlEb2NUaXRsZTp7ZGVmYXVsdFZhbHVlOiExLHZhbHVlOiExLHR5cGU6XCJib29sZWFuXCIsZXhwbGljaXRTZXQ6ITEsdmFsdWVTZXQ6WyEwLCExXSxwZGZWZXJzaW9uOjEuNH0sTm9uRnVsbFNjcmVlblBhZ2VNb2RlOntkZWZhdWx0VmFsdWU6XCJVc2VOb25lXCIsdmFsdWU6XCJVc2VOb25lXCIsdHlwZTpcIm5hbWVcIixleHBsaWNpdFNldDohMSx2YWx1ZVNldDpbXCJVc2VOb25lXCIsXCJVc2VPdXRsaW5lc1wiLFwiVXNlVGh1bWJzXCIsXCJVc2VPQ1wiXSxwZGZWZXJzaW9uOjEuM30sRGlyZWN0aW9uOntkZWZhdWx0VmFsdWU6XCJMMlJcIix2YWx1ZTpcIkwyUlwiLHR5cGU6XCJuYW1lXCIsZXhwbGljaXRTZXQ6ITEsdmFsdWVTZXQ6W1wiTDJSXCIsXCJSMkxcIl0scGRmVmVyc2lvbjoxLjN9LFZpZXdBcmVhOntkZWZhdWx0VmFsdWU6XCJDcm9wQm94XCIsdmFsdWU6XCJDcm9wQm94XCIsdHlwZTpcIm5hbWVcIixleHBsaWNpdFNldDohMSx2YWx1ZVNldDpbXCJNZWRpYUJveFwiLFwiQ3JvcEJveFwiLFwiVHJpbUJveFwiLFwiQmxlZWRCb3hcIixcIkFydEJveFwiXSxwZGZWZXJzaW9uOjEuNH0sVmlld0NsaXA6e2RlZmF1bHRWYWx1ZTpcIkNyb3BCb3hcIix2YWx1ZTpcIkNyb3BCb3hcIix0eXBlOlwibmFtZVwiLGV4cGxpY2l0U2V0OiExLHZhbHVlU2V0OltcIk1lZGlhQm94XCIsXCJDcm9wQm94XCIsXCJUcmltQm94XCIsXCJCbGVlZEJveFwiLFwiQXJ0Qm94XCJdLHBkZlZlcnNpb246MS40fSxQcmludEFyZWE6e2RlZmF1bHRWYWx1ZTpcIkNyb3BCb3hcIix2YWx1ZTpcIkNyb3BCb3hcIix0eXBlOlwibmFtZVwiLGV4cGxpY2l0U2V0OiExLHZhbHVlU2V0OltcIk1lZGlhQm94XCIsXCJDcm9wQm94XCIsXCJUcmltQm94XCIsXCJCbGVlZEJveFwiLFwiQXJ0Qm94XCJdLHBkZlZlcnNpb246MS40fSxQcmludENsaXA6e2RlZmF1bHRWYWx1ZTpcIkNyb3BCb3hcIix2YWx1ZTpcIkNyb3BCb3hcIix0eXBlOlwibmFtZVwiLGV4cGxpY2l0U2V0OiExLHZhbHVlU2V0OltcIk1lZGlhQm94XCIsXCJDcm9wQm94XCIsXCJUcmltQm94XCIsXCJCbGVlZEJveFwiLFwiQXJ0Qm94XCJdLHBkZlZlcnNpb246MS40fSxQcmludFNjYWxpbmc6e2RlZmF1bHRWYWx1ZTpcIkFwcERlZmF1bHRcIix2YWx1ZTpcIkFwcERlZmF1bHRcIix0eXBlOlwibmFtZVwiLGV4cGxpY2l0U2V0OiExLHZhbHVlU2V0OltcIkFwcERlZmF1bHRcIixcIk5vbmVcIl0scGRmVmVyc2lvbjoxLjZ9LER1cGxleDp7ZGVmYXVsdFZhbHVlOlwiXCIsdmFsdWU6XCJub25lXCIsdHlwZTpcIm5hbWVcIixleHBsaWNpdFNldDohMSx2YWx1ZVNldDpbXCJTaW1wbGV4XCIsXCJEdXBsZXhGbGlwU2hvcnRFZGdlXCIsXCJEdXBsZXhGbGlwTG9uZ0VkZ2VcIixcIm5vbmVcIl0scGRmVmVyc2lvbjoxLjd9LFBpY2tUcmF5QnlQREZTaXplOntkZWZhdWx0VmFsdWU6ITEsdmFsdWU6ITEsdHlwZTpcImJvb2xlYW5cIixleHBsaWNpdFNldDohMSx2YWx1ZVNldDpbITAsITFdLHBkZlZlcnNpb246MS43fSxQcmludFBhZ2VSYW5nZTp7ZGVmYXVsdFZhbHVlOlwiXCIsdmFsdWU6XCJcIix0eXBlOlwiYXJyYXlcIixleHBsaWNpdFNldDohMSx2YWx1ZVNldDpudWxsLHBkZlZlcnNpb246MS43fSxOdW1Db3BpZXM6e2RlZmF1bHRWYWx1ZToxLHZhbHVlOjEsdHlwZTpcImludGVnZXJcIixleHBsaWNpdFNldDohMSx2YWx1ZVNldDpudWxsLHBkZlZlcnNpb246MS43fX0sYT1PYmplY3Qua2V5cyhvKSxzPVtdLGw9MCxoPTAsdT0wLGM9ITA7ZnVuY3Rpb24gZih0LGUpe3ZhciBuLHI9ITE7Zm9yKG49MDtuPHQubGVuZ3RoO24rPTEpdFtuXT09PWUmJihyPSEwKTtyZXR1cm4gcn1pZih2b2lkIDA9PT10aGlzLmludGVybmFsLnZpZXdlcnByZWZlcmVuY2VzJiYodGhpcy5pbnRlcm5hbC52aWV3ZXJwcmVmZXJlbmNlcz17fSx0aGlzLmludGVybmFsLnZpZXdlcnByZWZlcmVuY2VzLmNvbmZpZ3VyYXRpb249SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvKSksdGhpcy5pbnRlcm5hbC52aWV3ZXJwcmVmZXJlbmNlcy5pc1N1YnNjcmliZWQ9ITEpLG49dGhpcy5pbnRlcm5hbC52aWV3ZXJwcmVmZXJlbmNlcy5jb25maWd1cmF0aW9uLFwicmVzZXRcIj09PXR8fCEwPT09ZSl7dmFyIHA9YS5sZW5ndGg7Zm9yKHU9MDt1PHA7dSs9MSluW2FbdV1dLnZhbHVlPW5bYVt1XV0uZGVmYXVsdFZhbHVlLG5bYVt1XV0uZXhwbGljaXRTZXQ9ITF9aWYoXCJvYmplY3RcIj09PXNlKHQpKWZvcihyIGluIHQpaWYoaT10W3JdLGYoYSxyKSYmdm9pZCAwIT09aSl7aWYoXCJib29sZWFuXCI9PT1uW3JdLnR5cGUmJlwiYm9vbGVhblwiPT10eXBlb2YgaSluW3JdLnZhbHVlPWk7ZWxzZSBpZihcIm5hbWVcIj09PW5bcl0udHlwZSYmZihuW3JdLnZhbHVlU2V0LGkpKW5bcl0udmFsdWU9aTtlbHNlIGlmKFwiaW50ZWdlclwiPT09bltyXS50eXBlJiZOdW1iZXIuaXNJbnRlZ2VyKGkpKW5bcl0udmFsdWU9aTtlbHNlIGlmKFwiYXJyYXlcIj09PW5bcl0udHlwZSl7Zm9yKGw9MDtsPGkubGVuZ3RoO2wrPTEpaWYoYz0hMCwxPT09aVtsXS5sZW5ndGgmJlwibnVtYmVyXCI9PXR5cGVvZiBpW2xdWzBdKXMucHVzaChTdHJpbmcoaVtsXS0xKSk7ZWxzZSBpZigxPGlbbF0ubGVuZ3RoKXtmb3IoaD0wO2g8aVtsXS5sZW5ndGg7aCs9MSlcIm51bWJlclwiIT10eXBlb2YgaVtsXVtoXSYmKGM9ITEpOyEwPT09YyYmcy5wdXNoKFtpW2xdWzBdLTEsaVtsXVsxXS0xXS5qb2luKFwiIFwiKSl9bltyXS52YWx1ZT1cIltcIitzLmpvaW4oXCIgXCIpK1wiXVwifWVsc2UgbltyXS52YWx1ZT1uW3JdLmRlZmF1bHRWYWx1ZTtuW3JdLmV4cGxpY2l0U2V0PSEwfXJldHVybiExPT09dGhpcy5pbnRlcm5hbC52aWV3ZXJwcmVmZXJlbmNlcy5pc1N1YnNjcmliZWQmJih0aGlzLmludGVybmFsLmV2ZW50cy5zdWJzY3JpYmUoXCJwdXRDYXRhbG9nXCIsZnVuY3Rpb24oKXt2YXIgdCxlPVtdO2Zvcih0IGluIG4pITA9PT1uW3RdLmV4cGxpY2l0U2V0JiYoXCJuYW1lXCI9PT1uW3RdLnR5cGU/ZS5wdXNoKFwiL1wiK3QrXCIgL1wiK25bdF0udmFsdWUpOmUucHVzaChcIi9cIit0K1wiIFwiK25bdF0udmFsdWUpKTswIT09ZS5sZW5ndGgmJnRoaXMuaW50ZXJuYWwud3JpdGUoXCIvVmlld2VyUHJlZmVyZW5jZXNcXG48PFxcblwiK2Uuam9pbihcIlxcblwiKStcIlxcbj4+XCIpfSksdGhpcy5pbnRlcm5hbC52aWV3ZXJwcmVmZXJlbmNlcy5pc1N1YnNjcmliZWQ9ITApLHRoaXMuaW50ZXJuYWwudmlld2VycHJlZmVyZW5jZXMuY29uZmlndXJhdGlvbj1uLHRoaXN9LFxuLyoqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFxuICAgKiBqc1BERiBYTVAgbWV0YWRhdGEgcGx1Z2luXG4gICAqIENvcHlyaWdodCAoYykgMjAxNiBKdXNzaSBVdHVuZW4sIHUtanVzc2lAc3VvbWkyNC5maVxuICAgKiBcbiAgICogXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqL1xubnQ9bHQuQVBJLG90PWl0PXJ0PVwiXCIsbnQuYWRkTWV0YWRhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaXQ9ZXx8XCJodHRwOi8vanNwZGYuZGVmYXVsdC5uYW1lc3BhY2V1cmkvXCIscnQ9dCx0aGlzLmludGVybmFsLmV2ZW50cy5zdWJzY3JpYmUoXCJwb3N0UHV0UmVzb3VyY2VzXCIsZnVuY3Rpb24oKXtpZihydCl7dmFyIHQ9JzxyZGY6UkRGIHhtbG5zOnJkZj1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyNcIj48cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD1cIlwiIHhtbG5zOmpzcGRmPVwiJytpdCsnXCI+PGpzcGRmOm1ldGFkYXRhPicsZT11bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoJzx4OnhtcG1ldGEgeG1sbnM6eD1cImFkb2JlOm5zOm1ldGEvXCI+JykpLG49dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHQpKSxyPXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChydCkpLGk9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KFwiPC9qc3BkZjptZXRhZGF0YT48L3JkZjpEZXNjcmlwdGlvbj48L3JkZjpSREY+XCIpKSxvPXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChcIjwveDp4bXBtZXRhPlwiKSksYT1uLmxlbmd0aCtyLmxlbmd0aCtpLmxlbmd0aCtlLmxlbmd0aCtvLmxlbmd0aDtvdD10aGlzLmludGVybmFsLm5ld09iamVjdCgpLHRoaXMuaW50ZXJuYWwud3JpdGUoXCI8PCAvVHlwZSAvTWV0YWRhdGEgL1N1YnR5cGUgL1hNTCAvTGVuZ3RoIFwiK2ErXCIgPj5cIiksdGhpcy5pbnRlcm5hbC53cml0ZShcInN0cmVhbVwiKSx0aGlzLmludGVybmFsLndyaXRlKGUrbityK2krbyksdGhpcy5pbnRlcm5hbC53cml0ZShcImVuZHN0cmVhbVwiKSx0aGlzLmludGVybmFsLndyaXRlKFwiZW5kb2JqXCIpfWVsc2Ugb3Q9XCJcIn0pLHRoaXMuaW50ZXJuYWwuZXZlbnRzLnN1YnNjcmliZShcInB1dENhdGFsb2dcIixmdW5jdGlvbigpe290JiZ0aGlzLmludGVybmFsLndyaXRlKFwiL01ldGFkYXRhIFwiK290K1wiIDAgUlwiKX0pLHRoaXN9LGZ1bmN0aW9uKGYsdCl7dmFyIGU9Zi5BUEk7dmFyIG09ZS5wZGZFc2NhcGUxNj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbixyPWUubWV0YWRhdGEuVW5pY29kZS53aWR0aHMsaT1bXCJcIixcIjBcIixcIjAwXCIsXCIwMDBcIixcIjAwMDBcIl0sbz1bXCJcIl0sYT0wLHM9dC5sZW5ndGg7YTxzOysrYSl7aWYobj1lLm1ldGFkYXRhLmNoYXJhY3RlclRvR2x5cGgodC5jaGFyQ29kZUF0KGEpKSxlLm1ldGFkYXRhLmdseUlkc1VzZWQucHVzaChuKSxlLm1ldGFkYXRhLnRvVW5pY29kZVtuXT10LmNoYXJDb2RlQXQoYSksLTE9PXIuaW5kZXhPZihuKSYmKHIucHVzaChuKSxyLnB1c2goW3BhcnNlSW50KGUubWV0YWRhdGEud2lkdGhPZkdseXBoKG4pLDEwKV0pKSxcIjBcIj09bilyZXR1cm4gby5qb2luKFwiXCIpO249bi50b1N0cmluZygxNiksby5wdXNoKGlbNC1uLmxlbmd0aF0sbil9cmV0dXJuIG8uam9pbihcIlwiKX0scD1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscztmb3Iobz1cIi9DSURJbml0IC9Qcm9jU2V0IGZpbmRyZXNvdXJjZSBiZWdpblxcbjEyIGRpY3QgYmVnaW5cXG5iZWdpbmNtYXBcXG4vQ0lEU3lzdGVtSW5mbyA8PFxcbiAgL1JlZ2lzdHJ5IChBZG9iZSlcXG4gIC9PcmRlcmluZyAoVUNTKVxcbiAgL1N1cHBsZW1lbnQgMFxcbj4+IGRlZlxcbi9DTWFwTmFtZSAvQWRvYmUtSWRlbnRpdHktVUNTIGRlZlxcbi9DTWFwVHlwZSAyIGRlZlxcbjEgYmVnaW5jb2Rlc3BhY2VyYW5nZVxcbjwwMDAwPjxmZmZmPlxcbmVuZGNvZGVzcGFjZXJhbmdlXCIscj1bXSxhPTAscz0obj1PYmplY3Qua2V5cyh0KS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtZX0pKS5sZW5ndGg7YTxzO2ErKyllPW5bYV0sMTAwPD1yLmxlbmd0aCYmKG8rPVwiXFxuXCIrci5sZW5ndGgrXCIgYmVnaW5iZmNoYXJcXG5cIityLmpvaW4oXCJcXG5cIikrXCJcXG5lbmRiZmNoYXJcIixyPVtdKSxpPShcIjAwMDBcIit0W2VdLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpLGU9KFwiMDAwMFwiKygrZSkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCksci5wdXNoKFwiPFwiK2UrXCI+PFwiK2krXCI+XCIpO3JldHVybiByLmxlbmd0aCYmKG8rPVwiXFxuXCIrci5sZW5ndGgrXCIgYmVnaW5iZmNoYXJcXG5cIityLmpvaW4oXCJcXG5cIikrXCJcXG5lbmRiZmNoYXJcXG5cIiksbys9XCJlbmRjbWFwXFxuQ01hcE5hbWUgY3VycmVudGRpY3QgL0NNYXAgZGVmaW5lcmVzb3VyY2UgcG9wXFxuZW5kXFxuZW5kXCJ9O2UuZXZlbnRzLnB1c2goW1wicHV0Rm9udFwiLGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUsbixyKXtpZih0Lm1ldGFkYXRhIGluc3RhbmNlb2YgZi5BUEkuVFRGRm9udCYmXCJJZGVudGl0eS1IXCI9PT10LmVuY29kaW5nKXtmb3IodmFyIGk9dC5tZXRhZGF0YS5Vbmljb2RlLndpZHRocyxvPXQubWV0YWRhdGEuc3Vic2V0LmVuY29kZSh0Lm1ldGFkYXRhLmdseUlkc1VzZWQsMSksYT1cIlwiLHM9MDtzPG8ubGVuZ3RoO3MrKylhKz1TdHJpbmcuZnJvbUNoYXJDb2RlKG9bc10pO3ZhciBsPW4oKTtyKHtkYXRhOmEsYWRkTGVuZ3RoMTohMH0pLGUoXCJlbmRvYmpcIik7dmFyIGg9bigpO3Ioe2RhdGE6cCh0Lm1ldGFkYXRhLnRvVW5pY29kZSksYWRkTGVuZ3RoMTohMH0pLGUoXCJlbmRvYmpcIik7dmFyIHU9bigpO2UoXCI8PFwiKSxlKFwiL1R5cGUgL0ZvbnREZXNjcmlwdG9yXCIpLGUoXCIvRm9udE5hbWUgL1wiK3QuZm9udE5hbWUpLGUoXCIvRm9udEZpbGUyIFwiK2wrXCIgMCBSXCIpLGUoXCIvRm9udEJCb3ggXCIrZi5BUEkuUERGT2JqZWN0LmNvbnZlcnQodC5tZXRhZGF0YS5iYm94KSksZShcIi9GbGFncyBcIit0Lm1ldGFkYXRhLmZsYWdzKSxlKFwiL1N0ZW1WIFwiK3QubWV0YWRhdGEuc3RlbVYpLGUoXCIvSXRhbGljQW5nbGUgXCIrdC5tZXRhZGF0YS5pdGFsaWNBbmdsZSksZShcIi9Bc2NlbnQgXCIrdC5tZXRhZGF0YS5hc2NlbmRlciksZShcIi9EZXNjZW50IFwiK3QubWV0YWRhdGEuZGVjZW5kZXIpLGUoXCIvQ2FwSGVpZ2h0IFwiK3QubWV0YWRhdGEuY2FwSGVpZ2h0KSxlKFwiPj5cIiksZShcImVuZG9ialwiKTt2YXIgYz1uKCk7ZShcIjw8XCIpLGUoXCIvVHlwZSAvRm9udFwiKSxlKFwiL0Jhc2VGb250IC9cIit0LmZvbnROYW1lKSxlKFwiL0ZvbnREZXNjcmlwdG9yIFwiK3UrXCIgMCBSXCIpLGUoXCIvVyBcIitmLkFQSS5QREZPYmplY3QuY29udmVydChpKSksZShcIi9DSURUb0dJRE1hcCAvSWRlbnRpdHlcIiksZShcIi9EVyAxMDAwXCIpLGUoXCIvU3VidHlwZSAvQ0lERm9udFR5cGUyXCIpLGUoXCIvQ0lEU3lzdGVtSW5mb1wiKSxlKFwiPDxcIiksZShcIi9TdXBwbGVtZW50IDBcIiksZShcIi9SZWdpc3RyeSAoQWRvYmUpXCIpLGUoXCIvT3JkZXJpbmcgKFwiK3QuZW5jb2RpbmcrXCIpXCIpLGUoXCI+PlwiKSxlKFwiPj5cIiksZShcImVuZG9ialwiKSx0Lm9iamVjdE51bWJlcj1uKCksZShcIjw8XCIpLGUoXCIvVHlwZSAvRm9udFwiKSxlKFwiL1N1YnR5cGUgL1R5cGUwXCIpLGUoXCIvVG9Vbmljb2RlIFwiK2grXCIgMCBSXCIpLGUoXCIvQmFzZUZvbnQgL1wiK3QuZm9udE5hbWUpLGUoXCIvRW5jb2RpbmcgL1wiK3QuZW5jb2RpbmcpLGUoXCIvRGVzY2VuZGFudEZvbnRzIFtcIitjK1wiIDAgUl1cIiksZShcIj4+XCIpLGUoXCJlbmRvYmpcIiksdC5pc0FscmVhZHlQdXR0ZWQ9ITB9fSh0LmZvbnQsdC5vdXQsdC5uZXdPYmplY3QsdC5wdXRTdHJlYW0pfV0pO2UuZXZlbnRzLnB1c2goW1wicHV0Rm9udFwiLGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUsbixyKXtpZih0Lm1ldGFkYXRhIGluc3RhbmNlb2YgZi5BUEkuVFRGRm9udCYmXCJXaW5BbnNpRW5jb2RpbmdcIj09PXQuZW5jb2Rpbmcpe3QubWV0YWRhdGEuVW5pY29kZS53aWR0aHM7Zm9yKHZhciBpPXQubWV0YWRhdGEucmF3RGF0YSxvPVwiXCIsYT0wO2E8aS5sZW5ndGg7YSsrKW8rPVN0cmluZy5mcm9tQ2hhckNvZGUoaVthXSk7dmFyIHM9bigpO3Ioe2RhdGE6byxhZGRMZW5ndGgxOiEwfSksZShcImVuZG9ialwiKTt2YXIgbD1uKCk7cih7ZGF0YTpwKHQubWV0YWRhdGEudG9Vbmljb2RlKSxhZGRMZW5ndGgxOiEwfSksZShcImVuZG9ialwiKTt2YXIgaD1uKCk7Zm9yKGUoXCI8PFwiKSxlKFwiL0Rlc2NlbnQgXCIrdC5tZXRhZGF0YS5kZWNlbmRlciksZShcIi9DYXBIZWlnaHQgXCIrdC5tZXRhZGF0YS5jYXBIZWlnaHQpLGUoXCIvU3RlbVYgXCIrdC5tZXRhZGF0YS5zdGVtViksZShcIi9UeXBlIC9Gb250RGVzY3JpcHRvclwiKSxlKFwiL0ZvbnRGaWxlMiBcIitzK1wiIDAgUlwiKSxlKFwiL0ZsYWdzIDk2XCIpLGUoXCIvRm9udEJCb3ggXCIrZi5BUEkuUERGT2JqZWN0LmNvbnZlcnQodC5tZXRhZGF0YS5iYm94KSksZShcIi9Gb250TmFtZSAvXCIrdC5mb250TmFtZSksZShcIi9JdGFsaWNBbmdsZSBcIit0Lm1ldGFkYXRhLml0YWxpY0FuZ2xlKSxlKFwiL0FzY2VudCBcIit0Lm1ldGFkYXRhLmFzY2VuZGVyKSxlKFwiPj5cIiksZShcImVuZG9ialwiKSx0Lm9iamVjdE51bWJlcj1uKCksYT0wO2E8dC5tZXRhZGF0YS5obXR4LndpZHRocy5sZW5ndGg7YSsrKXQubWV0YWRhdGEuaG10eC53aWR0aHNbYV09cGFyc2VJbnQodC5tZXRhZGF0YS5obXR4LndpZHRoc1thXSooMWUzL3QubWV0YWRhdGEuaGVhZC51bml0c1BlckVtKSk7ZShcIjw8L1N1YnR5cGUvVHJ1ZVR5cGUvVHlwZS9Gb250L1RvVW5pY29kZSBcIitsK1wiIDAgUi9CYXNlRm9udC9cIit0LmZvbnROYW1lK1wiL0ZvbnREZXNjcmlwdG9yIFwiK2grXCIgMCBSL0VuY29kaW5nL1wiK3QuZW5jb2RpbmcrXCIgL0ZpcnN0Q2hhciAyOSAvTGFzdENoYXIgMjU1IC9XaWR0aHMgXCIrZi5BUEkuUERGT2JqZWN0LmNvbnZlcnQodC5tZXRhZGF0YS5obXR4LndpZHRocykrXCI+PlwiKSxlKFwiZW5kb2JqXCIpLHQuaXNBbHJlYWR5UHV0dGVkPSEwfX0odC5mb250LHQub3V0LHQubmV3T2JqZWN0LHQucHV0U3RyZWFtKX1dKTt2YXIgaD1mdW5jdGlvbih0KXt2YXIgZSxuLHI9dC50ZXh0fHxcIlwiLGk9dC54LG89dC55LGE9dC5vcHRpb25zfHx7fSxzPXQubXV0ZXh8fHt9LGw9cy5wZGZFc2NhcGUsaD1zLmFjdGl2ZUZvbnRLZXksdT1zLmZvbnRzLGM9KHMuYWN0aXZlRm9udFNpemUsXCJcIiksZj0wLHA9XCJcIixkPXVbbj1oXS5lbmNvZGluZztpZihcIklkZW50aXR5LUhcIiE9PXVbbl0uZW5jb2RpbmcpcmV0dXJue3RleHQ6cix4OmkseTpvLG9wdGlvbnM6YSxtdXRleDpzfTtmb3IocD1yLG49aCxcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocikmJihwPXJbMF0pLGY9MDtmPHAubGVuZ3RoO2YrPTEpdVtuXS5tZXRhZGF0YS5oYXNPd25Qcm9wZXJ0eShcImNtYXBcIikmJihlPXVbbl0ubWV0YWRhdGEuY21hcC51bmljb2RlLmNvZGVNYXBbcFtmXS5jaGFyQ29kZUF0KDApXSksZT9jKz1wW2ZdOnBbZl0uY2hhckNvZGVBdCgwKTwyNTYmJnVbbl0ubWV0YWRhdGEuaGFzT3duUHJvcGVydHkoXCJVbmljb2RlXCIpP2MrPXBbZl06Yys9XCJcIjt2YXIgZz1cIlwiO3JldHVybiBwYXJzZUludChuLnNsaWNlKDEpKTwxNHx8XCJXaW5BbnNpRW5jb2RpbmdcIj09PWQ/Zz1mdW5jdGlvbih0KXtmb3IodmFyIGU9XCJcIixuPTA7bjx0Lmxlbmd0aDtuKyspZSs9XCJcIit0LmNoYXJDb2RlQXQobikudG9TdHJpbmcoMTYpO3JldHVybiBlfShsKGMsbikpOlwiSWRlbnRpdHktSFwiPT09ZCYmKGc9bShjLHVbbl0pKSxzLmlzSGV4PSEwLHt0ZXh0OmcseDppLHk6byxvcHRpb25zOmEsbXV0ZXg6c319O2UuZXZlbnRzLnB1c2goW1wicG9zdFByb2Nlc3NUZXh0XCIsZnVuY3Rpb24odCl7dmFyIGU9dC50ZXh0fHxcIlwiLG49dC54LHI9dC55LGk9dC5vcHRpb25zLG89dC5tdXRleCxhPShpLmxhbmcsW10pLHM9e3RleHQ6ZSx4Om4seTpyLG9wdGlvbnM6aSxtdXRleDpvfTtpZihcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpe3ZhciBsPTA7Zm9yKGw9MDtsPGUubGVuZ3RoO2wrPTEpXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGVbbF0pJiYzPT09ZVtsXS5sZW5ndGg/YS5wdXNoKFtoKE9iamVjdC5hc3NpZ24oe30scyx7dGV4dDplW2xdWzBdfSkpLnRleHQsZVtsXVsxXSxlW2xdWzJdXSk6YS5wdXNoKGgoT2JqZWN0LmFzc2lnbih7fSxzLHt0ZXh0OmVbbF19KSkudGV4dCk7dC50ZXh0PWF9ZWxzZSB0LnRleHQ9aChPYmplY3QuYXNzaWduKHt9LHMse3RleHQ6ZX0pKS50ZXh0fV0pfShsdCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbCYmZ2xvYmFsfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3d8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSksYXQ9bHQuQVBJLHN0PWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiYodm9pZCAwPT09dC52RlMmJih0LnZGUz17fSksITApfSxhdC5leGlzdHNGaWxlSW5WRlM9ZnVuY3Rpb24odCl7cmV0dXJuISFzdCh0aGlzLmludGVybmFsKSYmdm9pZCAwIT09dGhpcy5pbnRlcm5hbC52RlNbdF19LGF0LmFkZEZpbGVUb1ZGUz1mdW5jdGlvbih0LGUpe3JldHVybiBzdCh0aGlzLmludGVybmFsKSx0aGlzLmludGVybmFsLnZGU1t0XT1lLHRoaXN9LGF0LmdldEZpbGVGcm9tVkZTPWZ1bmN0aW9uKHQpe3JldHVybiBzdCh0aGlzLmludGVybmFsKSx2b2lkIDAhPT10aGlzLmludGVybmFsLnZGU1t0XT90aGlzLmludGVybmFsLnZGU1t0XTpudWxsfSxsdC5BUEkuYWRkSFRNTD1mdW5jdGlvbih0LGQsZyxzLG0pe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBodG1sMmNhbnZhcyYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIHJhc3Rlcml6ZUhUTUwpdGhyb3cgbmV3IEVycm9yKFwiWW91IG5lZWQgZWl0aGVyIGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXN2aC9odG1sMmNhbnZhcyBvciBodHRwczovL2dpdGh1Yi5jb20vY2J1cmdtZXIvcmFzdGVyaXplSFRNTC5qc1wiKTtcIm51bWJlclwiIT10eXBlb2YgZCYmKHM9ZCxtPWcpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHMmJihtPXMscz1udWxsKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBtJiYobT1mdW5jdGlvbigpe30pO3ZhciBlPXRoaXMuaW50ZXJuYWwseT1lLnNjYWxlRmFjdG9yLHY9ZS5wYWdlU2l6ZS5nZXRXaWR0aCgpLHc9ZS5wYWdlU2l6ZS5nZXRIZWlnaHQoKTtpZigocz1zfHx7fSkub25yZW5kZXJlZD1mdW5jdGlvbihsKXtkPXBhcnNlSW50KGQpfHwwLGc9cGFyc2VJbnQoZyl8fDA7dmFyIHQ9cy5kaW18fHt9LGg9T2JqZWN0LmFzc2lnbih7dG9wOjAscmlnaHQ6MCxib3R0b206MCxsZWZ0OjAsdXNlRm9yOlwiY29udGVudFwifSxzLm1hcmdpbiksZT10Lmh8fE1hdGgubWluKHcsbC5oZWlnaHQveSksdT10Lnd8fE1hdGgubWluKHYsbC53aWR0aC95KS1kLGM9cy5mb3JtYXR8fFwiSlBFR1wiLGY9cy5pbWFnZUNvbXByZXNzaW9ufHxcIlNMT1dcIjtpZihsLmhlaWdodD53LWgudG9wLWguYm90dG9tJiZzLnBhZ2VzcGxpdCl7dmFyIHA9ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO28uaGVpZ2h0PWksby53aWR0aD1yO3ZhciBhPW8uZ2V0Q29udGV4dChcIjJkXCIpO3JldHVybiBhLm1vekltYWdlU21vb3RoaW5nRW5hYmxlZD0hMSxhLndlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZD0hMSxhLm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkPSExLGEuaW1hZ2VTbW9vdGhpbmdFbmFibGVkPSExLGEuZmlsbFN0eWxlPXMuYmFja2dyb3VuZENvbG9yfHxcIiNmZmZmZmZcIixhLmZpbGxSZWN0KDAsMCxyLGkpLGEuZHJhd0ltYWdlKHQsZSxuLHIsaSwwLDAscixpKSxvfSxuPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGUsbj0wLHI9MCxpPXt9LG89ITE7Oyl7dmFyIGE7aWYocj0wLGkudG9wPTAhPT1uP2gudG9wOmcsaS5sZWZ0PTAhPT1uP2gubGVmdDpkLG89KHYtaC5sZWZ0LWgucmlnaHQpKnk8bC53aWR0aCxcImNvbnRlbnRcIj09PWgudXNlRm9yPzA9PT1uPyh0PU1hdGgubWluKCh2LWgubGVmdCkqeSxsLndpZHRoKSxlPU1hdGgubWluKCh3LWgudG9wKSp5LGwuaGVpZ2h0LW4pKToodD1NYXRoLm1pbih2KnksbC53aWR0aCksZT1NYXRoLm1pbih3KnksbC5oZWlnaHQtbiksaS50b3A9MCk6KHQ9TWF0aC5taW4oKHYtaC5sZWZ0LWgucmlnaHQpKnksbC53aWR0aCksZT1NYXRoLm1pbigody1oLmJvdHRvbS1oLnRvcCkqeSxsLmhlaWdodC1uKSksbylmb3IoOzspe1wiY29udGVudFwiPT09aC51c2VGb3ImJigwPT09cj90PU1hdGgubWluKCh2LWgubGVmdCkqeSxsLndpZHRoKToodD1NYXRoLm1pbih2KnksbC53aWR0aC1yKSxpLmxlZnQ9MCkpO3ZhciBzPVthPXAobCxyLG4sdCxlKSxpLmxlZnQsaS50b3AsYS53aWR0aC95LGEuaGVpZ2h0L3ksYyxudWxsLGZdO2lmKHRoaXMuYWRkSW1hZ2UuYXBwbHkodGhpcyxzKSwocis9dCk+PWwud2lkdGgpYnJlYWs7dGhpcy5hZGRQYWdlKCl9ZWxzZSBzPVthPXAobCwwLG4sdCxlKSxpLmxlZnQsaS50b3AsYS53aWR0aC95LGEuaGVpZ2h0L3ksYyxudWxsLGZdLHRoaXMuYWRkSW1hZ2UuYXBwbHkodGhpcyxzKTtpZigobis9ZSk+PWwuaGVpZ2h0KWJyZWFrO3RoaXMuYWRkUGFnZSgpfW0odSxuLG51bGwscyl9LmJpbmQodGhpcyk7aWYoXCJDQU5WQVNcIj09PWwubm9kZU5hbWUpe3ZhciByPW5ldyBJbWFnZTtyLm9ubG9hZD1uLHIuc3JjPWwudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpLGw9cn1lbHNlIG4oKX1lbHNle3ZhciBpPU1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzUpLG89W2wsZCxnLHUsZSxjLGksZl07dGhpcy5hZGRJbWFnZS5hcHBseSh0aGlzLG8pLG0odSxlLGksbyl9fS5iaW5kKHRoaXMpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBodG1sMmNhbnZhcyYmIXMucnN0eilyZXR1cm4gaHRtbDJjYW52YXModCxzKTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgcmFzdGVyaXplSFRNTClyZXR1cm4gbnVsbDt2YXIgbj1cImRyYXdEb2N1bWVudFwiO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiYobj0vXmh0dHAvLnRlc3QodCk/XCJkcmF3VVJMXCI6XCJkcmF3SFRNTFwiKSxzLndpZHRoPXMud2lkdGh8fHYqeSxyYXN0ZXJpemVIVE1MW25dKHQsdm9pZCAwLHMpLnRoZW4oZnVuY3Rpb24odCl7cy5vbnJlbmRlcmVkKHQuaW1hZ2UpfSxmdW5jdGlvbih0KXttKG51bGwsdCl9KX0sXG4vKipcbiAgICoganNQREYgZnJvbUhUTUwgcGx1Z2luLiBCRVRBIHN0YWdlLiBBUEkgc3ViamVjdCB0byBjaGFuZ2UuIE5lZWRzIGJyb3dzZXJcbiAgICogQ29weXJpZ2h0IChjKSAyMDEyIFdpbGxvdyBTeXN0ZW1zIENvcnBvcmF0aW9uLCB3aWxsb3ctc3lzdGVtcy5jb21cbiAgICogICAgICAgICAgICAgICAyMDE0IEp1YW4gUGFibG8gR2F2aXJpYSwgaHR0cHM6Ly9naXRodWIuY29tL2p1YW5wZ2F2aXJpYVxuICAgKiAgICAgICAgICAgICAgIDIwMTQgRGllZ28gQ2Fzb3JyYW4sIGh0dHBzOi8vZ2l0aHViLmNvbS9kaWVnb2NyXG4gICAqICAgICAgICAgICAgICAgMjAxNCBEYW5pZWwgSHVzYXIsIGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5pZWxodXNhclxuICAgKiAgICAgICAgICAgICAgIDIwMTQgV29sZmdhbmcgR2Fzc2xlciwgaHR0cHM6Ly9naXRodWIuY29tL3dvb2xmZ1xuICAgKiAgICAgICAgICAgICAgIDIwMTQgU3RldmVuIFNwdW5naW4sIGh0dHBzOi8vZ2l0aHViLmNvbS9mbGFtZW5jb1xuICAgKlxuICAgKiBAbGljZW5zZVxuICAgKiBcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICovXG5mdW5jdGlvbih0KXt2YXIgUCxrLGksYSxzLGwsaCx1LEksdyxmLGMscCxuLEMsQixkLGcsbSxqO1A9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUucHJvdG90eXBlPXQsbmV3IGV9O2Z1bmN0aW9uIGUoKXt9fSgpLHc9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHM7Zm9yKG49MCxyPXQubGVuZ3RoLGU9dm9pZCAwLGE9aT0hMTshaSYmbiE9PXI7KShlPXRbbl09dFtuXS50cmltTGVmdCgpKSYmKGk9ITApLG4rKztmb3Iobj1yLTE7ciYmIWEmJi0xIT09bjspKGU9dFtuXT10W25dLnRyaW1SaWdodCgpKSYmKGE9ITApLG4tLTtmb3Iobz0vXFxzKyQvZyxzPSEwLG49MDtuIT09cjspXCJcXHUyMDI4XCIhPXRbbl0mJihlPXRbbl0ucmVwbGFjZSgvXFxzKy9nLFwiIFwiKSxzJiYoZT1lLnRyaW1MZWZ0KCkpLGUmJihzPW8udGVzdChlKSksdFtuXT1lKSxuKys7cmV0dXJuIHR9LGM9ZnVuY3Rpb24odCl7dmFyIGUsbixyO2ZvcihlPXZvaWQgMCxuPShyPXQuc3BsaXQoXCIsXCIpKS5zaGlmdCgpOyFlJiZuOyllPWlbbi50cmltKCkudG9Mb3dlckNhc2UoKV0sbj1yLnNoaWZ0KCk7cmV0dXJuIGV9LHA9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuLTE8KHQ9XCJhdXRvXCI9PT10P1wiMHB4XCI6dCkuaW5kZXhPZihcImVtXCIpJiYhaXNOYU4oTnVtYmVyKHQucmVwbGFjZShcImVtXCIsXCJcIikpKSYmKHQ9MTguNzE5Kk51bWJlcih0LnJlcGxhY2UoXCJlbVwiLFwiXCIpKStcInB4XCIpLC0xPHQuaW5kZXhPZihcInB0XCIpJiYhaXNOYU4oTnVtYmVyKHQucmVwbGFjZShcInB0XCIsXCJcIikpKSYmKHQ9MS4zMzMqTnVtYmVyKHQucmVwbGFjZShcInB0XCIsXCJcIikpK1wicHhcIiksdm9pZCAwLDE2LChlPW5bdF0pP2U6dm9pZCAwIT09KGU9e1wieHgtc21hbGxcIjo5LFwieC1zbWFsbFwiOjExLHNtYWxsOjEzLG1lZGl1bToxNixsYXJnZToxOSxcIngtbGFyZ2VcIjoyMyxcInh4LWxhcmdlXCI6MjgsYXV0bzowfVt0XSk/blt0XT1lLzE2OihlPXBhcnNlRmxvYXQodCkpP25bdF09ZS8xNjooZT10Lm1hdGNoKC8oW1xcZFxcLl0rKShweCkvKSxBcnJheS5pc0FycmF5KGUpJiYzPT09ZS5sZW5ndGg/blt0XT1wYXJzZUZsb2F0KGVbMV0pLzE2Om5bdF09MSl9LEk9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbztyZXR1cm4gbz10LGk9ZG9jdW1lbnQuZGVmYXVsdFZpZXcmJmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGU/ZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShvLG51bGwpOm8uY3VycmVudFN0eWxlP28uY3VycmVudFN0eWxlOm8uc3R5bGUsbj12b2lkIDAsKGU9e30pW1wiZm9udC1mYW1pbHlcIl09Yygocj1mdW5jdGlvbih0KXtyZXR1cm4gdD10LnJlcGxhY2UoLy1cXEQvZyxmdW5jdGlvbih0KXtyZXR1cm4gdC5jaGFyQXQoMSkudG9VcHBlckNhc2UoKX0pLGlbdF19KShcImZvbnQtZmFtaWx5XCIpKXx8XCJ0aW1lc1wiLGVbXCJmb250LXN0eWxlXCJdPWFbcihcImZvbnQtc3R5bGVcIildfHxcIm5vcm1hbFwiLGVbXCJ0ZXh0LWFsaWduXCJdPXNbcihcInRleHQtYWxpZ25cIildfHxcImxlZnRcIixcImJvbGRcIj09PShuPWxbcihcImZvbnQtd2VpZ2h0XCIpXXx8XCJub3JtYWxcIikmJihcIm5vcm1hbFwiPT09ZVtcImZvbnQtc3R5bGVcIl0/ZVtcImZvbnQtc3R5bGVcIl09bjplW1wiZm9udC1zdHlsZVwiXT1uK2VbXCJmb250LXN0eWxlXCJdKSxlW1wiZm9udC1zaXplXCJdPXAocihcImZvbnQtc2l6ZVwiKSl8fDEsZVtcImxpbmUtaGVpZ2h0XCJdPXAocihcImxpbmUtaGVpZ2h0XCIpKXx8MSxlLmRpc3BsYXk9XCJpbmxpbmVcIj09PXIoXCJkaXNwbGF5XCIpP1wiaW5saW5lXCI6XCJibG9ja1wiLG49XCJibG9ja1wiPT09ZS5kaXNwbGF5LGVbXCJtYXJnaW4tdG9wXCJdPW4mJnAocihcIm1hcmdpbi10b3BcIikpfHwwLGVbXCJtYXJnaW4tYm90dG9tXCJdPW4mJnAocihcIm1hcmdpbi1ib3R0b21cIikpfHwwLGVbXCJwYWRkaW5nLXRvcFwiXT1uJiZwKHIoXCJwYWRkaW5nLXRvcFwiKSl8fDAsZVtcInBhZGRpbmctYm90dG9tXCJdPW4mJnAocihcInBhZGRpbmctYm90dG9tXCIpKXx8MCxlW1wibWFyZ2luLWxlZnRcIl09biYmcChyKFwibWFyZ2luLWxlZnRcIikpfHwwLGVbXCJtYXJnaW4tcmlnaHRcIl09biYmcChyKFwibWFyZ2luLXJpZ2h0XCIpKXx8MCxlW1wicGFkZGluZy1sZWZ0XCJdPW4mJnAocihcInBhZGRpbmctbGVmdFwiKSl8fDAsZVtcInBhZGRpbmctcmlnaHRcIl09biYmcChyKFwicGFkZGluZy1yaWdodFwiKSl8fDAsZVtcInBhZ2UtYnJlYWstYmVmb3JlXCJdPXIoXCJwYWdlLWJyZWFrLWJlZm9yZVwiKXx8XCJhdXRvXCIsZS5mbG9hdD1oW3IoXCJjc3NGbG9hdFwiKV18fFwibm9uZVwiLGUuY2xlYXI9dVtyKFwiY2xlYXJcIildfHxcIm5vbmVcIixlLmNvbG9yPXIoXCJjb2xvclwiKSxlfSxDPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpLG8sYSxzO2lmKG89ITEsYT1pPXZvaWQgMCxyPW5bXCIjXCIrdC5pZF0paWYoXCJmdW5jdGlvblwiPT10eXBlb2YgcilvPXIodCxlKTtlbHNlIGZvcihpPTAsYT1yLmxlbmd0aDshbyYmaSE9PWE7KW89cltpXSh0LGUpLGkrKztpZihyPW5bdC5ub2RlTmFtZV0sIW8mJnIpaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgcilvPXIodCxlKTtlbHNlIGZvcihpPTAsYT1yLmxlbmd0aDshbyYmaSE9PWE7KW89cltpXSh0LGUpLGkrKztmb3Iocz1cInN0cmluZ1wiPT10eXBlb2YgdC5jbGFzc05hbWU/dC5jbGFzc05hbWUuc3BsaXQoXCIgXCIpOltdLGk9MDtpPHMubGVuZ3RoO2krKylpZihyPW5bXCIuXCIrc1tpXV0sIW8mJnIpaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgcilvPXIodCxlKTtlbHNlIGZvcihpPTAsYT1yLmxlbmd0aDshbyYmaSE9PWE7KW89cltpXSh0LGUpLGkrKztyZXR1cm4gb30saj1mdW5jdGlvbih0LGUpe3ZhciBuLHIsaSxvLGEscyxsLGgsdTtmb3Iobj1bXSxyPVtdLGk9MCx1PXQucm93c1swXS5jZWxscy5sZW5ndGgsbD10LmNsaWVudFdpZHRoO2k8dTspaD10LnJvd3NbMF0uY2VsbHNbaV0scltpXT17bmFtZTpoLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLFwiXCIpLHByb21wdDpoLnRleHRDb250ZW50LnJlcGxhY2UoL1xccj9cXG4vZyxcIlwiKSx3aWR0aDpoLmNsaWVudFdpZHRoL2wqZS5wZGYuaW50ZXJuYWwucGFnZVNpemUuZ2V0V2lkdGgoKX0saSsrO2ZvcihpPTE7aTx0LnJvd3MubGVuZ3RoOyl7Zm9yKHM9dC5yb3dzW2ldLGE9e30sbz0wO288cy5jZWxscy5sZW5ndGg7KWFbcltvXS5uYW1lXT1zLmNlbGxzW29dLnRleHRDb250ZW50LnJlcGxhY2UoL1xccj9cXG4vZyxcIlwiKSxvKys7bi5wdXNoKGEpLGkrK31yZXR1cm57cm93czpuLGhlYWRlcnM6cn19O3ZhciBFPXtTQ1JJUFQ6MSxTVFlMRToxLE5PU0NSSVBUOjEsT0JKRUNUOjEsRU1CRUQ6MSxTRUxFQ1Q6MX0sTT0xO2s9ZnVuY3Rpb24odCxpLGUpe3ZhciBuLHIsbyxhLHMsbCxoLHU7Zm9yKHI9dC5jaGlsZE5vZGVzLG49dm9pZCAwLChzPVwiYmxvY2tcIj09PShvPUkodCkpLmRpc3BsYXkpJiYoaS5zZXRCbG9ja0JvdW5kYXJ5KCksaS5zZXRCbG9ja1N0eWxlKG8pKSxhPTAsbD1yLmxlbmd0aDthPGw7KXtpZihcIm9iamVjdFwiPT09c2Uobj1yW2FdKSl7aWYoaS5leGVjdXRlV2F0Y2hGdW5jdGlvbnMobiksMT09PW4ubm9kZVR5cGUmJlwiSEVBREVSXCI9PT1uLm5vZGVOYW1lKXt2YXIgYz1uLGY9aS5wZGYubWFyZ2luc19kb2MudG9wO2kucGRmLmludGVybmFsLmV2ZW50cy5zdWJzY3JpYmUoXCJhZGRQYWdlXCIsZnVuY3Rpb24odCl7aS55PWYsayhjLGksZSksaS5wZGYubWFyZ2luc19kb2MudG9wPWkueSsxMCxpLnkrPTEwfSwhMSl9aWYoOD09PW4ubm9kZVR5cGUmJlwiI2NvbW1lbnRcIj09PW4ubm9kZU5hbWUpfm4udGV4dENvbnRlbnQuaW5kZXhPZihcIkFERF9QQUdFXCIpJiYoaS5wZGYuYWRkUGFnZSgpLGkueT1pLnBkZi5tYXJnaW5zX2RvYy50b3ApO2Vsc2UgaWYoMSE9PW4ubm9kZVR5cGV8fEVbbi5ub2RlTmFtZV0paWYoMz09PW4ubm9kZVR5cGUpe3ZhciBwPW4ubm9kZVZhbHVlO2lmKG4ubm9kZVZhbHVlJiZcIkxJXCI9PT1uLnBhcmVudE5vZGUubm9kZU5hbWUpaWYoXCJPTFwiPT09bi5wYXJlbnROb2RlLnBhcmVudE5vZGUubm9kZU5hbWUpcD1NKysrXCIuIFwiK3A7ZWxzZXt2YXIgZD1vW1wiZm9udC1zaXplXCJdLGc9KDMtLjc1KmQpKmkucGRmLmludGVybmFsLnNjYWxlRmFjdG9yLG09Ljc1KmQqaS5wZGYuaW50ZXJuYWwuc2NhbGVGYWN0b3IseT0xLjc0KmQvaS5wZGYuaW50ZXJuYWwuc2NhbGVGYWN0b3I7dT1mdW5jdGlvbih0LGUpe3RoaXMucGRmLmNpcmNsZSh0K2csZSttLHksXCJGRFwiKX19MTYmbi5vd25lckRvY3VtZW50LmJvZHkuY29tcGFyZURvY3VtZW50UG9zaXRpb24obikmJmkuYWRkVGV4dChwLG8pfWVsc2VcInN0cmluZ1wiPT10eXBlb2YgbiYmaS5hZGRUZXh0KG4sbyk7ZWxzZXt2YXIgdjtpZihcIklNR1wiPT09bi5ub2RlTmFtZSl7dmFyIHc9bi5nZXRBdHRyaWJ1dGUoXCJzcmNcIik7dj1CW2kucGRmLnNIYXNoQ29kZSh3KXx8d119aWYodil7aS5wZGYuaW50ZXJuYWwucGFnZVNpemUuZ2V0SGVpZ2h0KCktaS5wZGYubWFyZ2luc19kb2MuYm90dG9tPGkueStuLmhlaWdodCYmaS55PmkucGRmLm1hcmdpbnNfZG9jLnRvcCYmKGkucGRmLmFkZFBhZ2UoKSxpLnk9aS5wZGYubWFyZ2luc19kb2MudG9wLGkuZXhlY3V0ZVdhdGNoRnVuY3Rpb25zKG4pKTt2YXIgYj1JKG4pLHg9aS54LE49MTIvaS5wZGYuaW50ZXJuYWwuc2NhbGVGYWN0b3IsTD0oYltcIm1hcmdpbi1sZWZ0XCJdK2JbXCJwYWRkaW5nLWxlZnRcIl0pKk4sQT0oYltcIm1hcmdpbi1yaWdodFwiXStiW1wicGFkZGluZy1yaWdodFwiXSkqTixTPShiW1wibWFyZ2luLXRvcFwiXStiW1wicGFkZGluZy10b3BcIl0pKk4sXz0oYltcIm1hcmdpbi1ib3R0b21cIl0rYltcInBhZGRpbmctYm90dG9tXCJdKSpOO3ZvaWQgMCE9PWIuZmxvYXQmJlwicmlnaHRcIj09PWIuZmxvYXQ/eCs9aS5zZXR0aW5ncy53aWR0aC1uLndpZHRoLUE6eCs9TCxpLnBkZi5hZGRJbWFnZSh2LHgsaS55K1Msbi53aWR0aCxuLmhlaWdodCksdj12b2lkIDAsXCJyaWdodFwiPT09Yi5mbG9hdHx8XCJsZWZ0XCI9PT1iLmZsb2F0PyhpLndhdGNoRnVuY3Rpb25zLnB1c2goZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGkueT49ZT8oaS54Kz10LGkuc2V0dGluZ3Mud2lkdGgrPW4sITApOiEhKHImJjE9PT1yLm5vZGVUeXBlJiYhRVtyLm5vZGVOYW1lXSYmaS54K3Iud2lkdGg+aS5wZGYubWFyZ2luc19kb2MubGVmdCtpLnBkZi5tYXJnaW5zX2RvYy53aWR0aCkmJihpLngrPXQsaS55PWUsaS5zZXR0aW5ncy53aWR0aCs9biwhMCl9LmJpbmQodGhpcyxcImxlZnRcIj09PWIuZmxvYXQ/LW4ud2lkdGgtTC1BOjAsaS55K24uaGVpZ2h0K1MrXyxuLndpZHRoKSksaS53YXRjaEZ1bmN0aW9ucy5wdXNoKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4hKGkueTx0JiZlPT09aS5wZGYuaW50ZXJuYWwuZ2V0TnVtYmVyT2ZQYWdlcygpKXx8MT09PW4ubm9kZVR5cGUmJlwiYm90aFwiPT09SShuKS5jbGVhciYmKGkueT10LCEwKX0uYmluZCh0aGlzLGkueStuLmhlaWdodCxpLnBkZi5pbnRlcm5hbC5nZXROdW1iZXJPZlBhZ2VzKCkpKSxpLnNldHRpbmdzLndpZHRoLT1uLndpZHRoK0wrQSxcImxlZnRcIj09PWIuZmxvYXQmJihpLngrPW4ud2lkdGgrTCtBKSk6aS55Kz1uLmhlaWdodCtTK199ZWxzZSBpZihcIlRBQkxFXCI9PT1uLm5vZGVOYW1lKWg9aihuLGkpLGkueSs9MTAsaS5wZGYudGFibGUoaS54LGkueSxoLnJvd3MsaC5oZWFkZXJzLHthdXRvU2l6ZTohMSxwcmludEhlYWRlcnM6ZS5wcmludEhlYWRlcnMsbWFyZ2luczppLnBkZi5tYXJnaW5zX2RvYyxjc3M6SShuKX0pLGkueT1pLnBkZi5sYXN0Q2VsbFBvcy55K2kucGRmLmxhc3RDZWxsUG9zLmgrMjA7ZWxzZSBpZihcIk9MXCI9PT1uLm5vZGVOYW1lfHxcIlVMXCI9PT1uLm5vZGVOYW1lKU09MSxDKG4saSxlKXx8ayhuLGksZSksaS55Kz0xMDtlbHNlIGlmKFwiTElcIj09PW4ubm9kZU5hbWUpe3ZhciBGPWkueDtpLngrPTIwL2kucGRmLmludGVybmFsLnNjYWxlRmFjdG9yLGkueSs9MyxDKG4saSxlKXx8ayhuLGksZSksaS54PUZ9ZWxzZVwiQlJcIj09PW4ubm9kZU5hbWU/KGkueSs9b1tcImZvbnQtc2l6ZVwiXSppLnBkZi5pbnRlcm5hbC5zY2FsZUZhY3RvcixpLmFkZFRleHQoXCJcXHUyMDI4XCIsUChvKSkpOkMobixpLGUpfHxrKG4saSxlKX19YSsrfWlmKGUub3V0WT1pLnkscylyZXR1cm4gaS5zZXRCbG9ja0JvdW5kYXJ5KHUpfSxCPXt9LGQ9ZnVuY3Rpb24odCxvLGUsbil7dmFyIGEscj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW1nXCIpLGk9ci5sZW5ndGgscz0wO2Z1bmN0aW9uIGwoKXtvLnBkZi5pbnRlcm5hbC5ldmVudHMucHVibGlzaChcImltYWdlc0xvYWRlZFwiKSxuKGEpfWZ1bmN0aW9uIGgoZSxuLHIpe2lmKGUpe3ZhciBpPW5ldyBJbWFnZTthPSsrcyxpLmNyb3NzT3JpZ2luPVwiXCIsaS5vbmVycm9yPWkub25sb2FkPWZ1bmN0aW9uKCl7aWYoaS5jb21wbGV0ZSYmKDA9PT1pLnNyYy5pbmRleE9mKFwiZGF0YTppbWFnZS9cIikmJihpLndpZHRoPW58fGkud2lkdGh8fDAsaS5oZWlnaHQ9cnx8aS5oZWlnaHR8fDApLGkud2lkdGgraS5oZWlnaHQpKXt2YXIgdD1vLnBkZi5zSGFzaENvZGUoZSl8fGU7Qlt0XT1CW3RdfHxpfS0tc3x8bCgpfSxpLnNyYz1lfX1mb3IoO2ktLTspaChyW2ldLmdldEF0dHJpYnV0ZShcInNyY1wiKSxyW2ldLndpZHRoLHJbaV0uaGVpZ2h0KTtyZXR1cm4gc3x8bCgpfSxnPWZ1bmN0aW9uKHQsbyxhKXt2YXIgcz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZm9vdGVyXCIpO2lmKDA8cy5sZW5ndGgpe3M9c1swXTt2YXIgZT1vLnBkZi5pbnRlcm5hbC53cml0ZSxuPW8ueTtvLnBkZi5pbnRlcm5hbC53cml0ZT1mdW5jdGlvbigpe30sayhzLG8sYSk7dmFyIGw9TWF0aC5jZWlsKG8ueS1uKSs1O28ueT1uLG8ucGRmLmludGVybmFsLndyaXRlPWUsby5wZGYubWFyZ2luc19kb2MuYm90dG9tKz1sO2Zvcih2YXIgcj1mdW5jdGlvbih0KXt2YXIgZT12b2lkIDAhPT10P3QucGFnZU51bWJlcjoxLG49by55O28ueT1vLnBkZi5pbnRlcm5hbC5wYWdlU2l6ZS5nZXRIZWlnaHQoKS1vLnBkZi5tYXJnaW5zX2RvYy5ib3R0b20sby5wZGYubWFyZ2luc19kb2MuYm90dG9tLT1sO2Zvcih2YXIgcj1zLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3BhblwiKSxpPTA7aTxyLmxlbmd0aDsrK2kpLTE8KFwiIFwiK3JbaV0uY2xhc3NOYW1lK1wiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLFwiIFwiKS5pbmRleE9mKFwiIHBhZ2VDb3VudGVyIFwiKSYmKHJbaV0uaW5uZXJIVE1MPWUpLC0xPChcIiBcIityW2ldLmNsYXNzTmFtZStcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZyxcIiBcIikuaW5kZXhPZihcIiB0b3RhbFBhZ2VzIFwiKSYmKHJbaV0uaW5uZXJIVE1MPVwiIyMjanNQREZWYXJUb3RhbFBhZ2VzIyMjXCIpO2socyxvLGEpLG8ucGRmLm1hcmdpbnNfZG9jLmJvdHRvbSs9bCxvLnk9bn0saT1zLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3BhblwiKSxoPTA7aDxpLmxlbmd0aDsrK2gpLTE8KFwiIFwiK2lbaF0uY2xhc3NOYW1lK1wiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLFwiIFwiKS5pbmRleE9mKFwiIHRvdGFsUGFnZXMgXCIpJiZvLnBkZi5pbnRlcm5hbC5ldmVudHMuc3Vic2NyaWJlKFwiaHRtbFJlbmRlcmluZ0ZpbmlzaGVkXCIsby5wZGYucHV0VG90YWxQYWdlcy5iaW5kKG8ucGRmLFwiIyMjanNQREZWYXJUb3RhbFBhZ2VzIyMjXCIpLCEwKTtvLnBkZi5pbnRlcm5hbC5ldmVudHMuc3Vic2NyaWJlKFwiYWRkUGFnZVwiLHIsITEpLHIoKSxFLkZPT1RFUj0xfX0sbT1mdW5jdGlvbih0LGUsbixyLGksbyl7aWYoIWUpcmV0dXJuITE7dmFyIGEscyxsLGg7XCJzdHJpbmdcIj09dHlwZW9mIGV8fGUucGFyZW50Tm9kZXx8KGU9XCJcIitlLmlubmVySFRNTCksXCJzdHJpbmdcIj09dHlwZW9mIGUmJihhPWUucmVwbGFjZSgvPFxcLz9zY3JpcHRbXj5dKj8+L2dpLFwiXCIpLGg9XCJqc1BERmh0bWxUZXh0XCIrRGF0ZS5ub3coKS50b1N0cmluZygpKygxZTMqTWF0aC5yYW5kb20oKSkudG9GaXhlZCgwKSwobD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246IGFic29sdXRlICFpbXBvcnRhbnQ7Y2xpcDogcmVjdCgxcHggMXB4IDFweCAxcHgpOyAvKiBJRTYsIElFNyAqL2NsaXA6IHJlY3QoMXB4LCAxcHgsIDFweCwgMXB4KTtwYWRkaW5nOjAgIWltcG9ydGFudDtib3JkZXI6MCAhaW1wb3J0YW50O2hlaWdodDogMXB4ICFpbXBvcnRhbnQ7d2lkdGg6IDFweCAhaW1wb3J0YW50OyB0b3A6YXV0bztsZWZ0Oi0xMDBweDtvdmVyZmxvdzogaGlkZGVuO1wiLGwuaW5uZXJIVE1MPSc8aWZyYW1lIHN0eWxlPVwiaGVpZ2h0OjFweDt3aWR0aDoxcHhcIiBuYW1lPVwiJytoKydcIiAvPicsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsKSwocz13aW5kb3cuZnJhbWVzW2hdKS5kb2N1bWVudC5vcGVuKCkscy5kb2N1bWVudC53cml0ZWxuKGEpLHMuZG9jdW1lbnQuY2xvc2UoKSxlPXMuZG9jdW1lbnQuYm9keSk7dmFyIHUsYz1uZXcgZih0LG4scixpKTtyZXR1cm4gZC5jYWxsKHRoaXMsZSxjLGkuZWxlbWVudEhhbmRsZXJzLGZ1bmN0aW9uKHQpe2coZSxjLGkuZWxlbWVudEhhbmRsZXJzKSxrKGUsYyxpLmVsZW1lbnRIYW5kbGVycyksYy5wZGYuaW50ZXJuYWwuZXZlbnRzLnB1Ymxpc2goXCJodG1sUmVuZGVyaW5nRmluaXNoZWRcIiksdT1jLmRpc3Bvc2UoKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBvP28odSk6dCYmY29uc29sZS5lcnJvcihcImpzUERGIFdhcm5pbmc6IHJlbmRlcmluZyBpc3N1ZXM/IHByb3ZpZGUgYSBjYWxsYmFjayB0byBmcm9tSFRNTCFcIil9KSx1fHx7eDpjLngseTpjLnl9fSwoZj1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpcy5wZGY9dCx0aGlzLng9ZSx0aGlzLnk9bix0aGlzLnNldHRpbmdzPXIsdGhpcy53YXRjaEZ1bmN0aW9ucz1bXSx0aGlzLmluaXQoKSx0aGlzfSkucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJhZ3JhcGg9e3RleHQ6W10sc3R5bGU6W119LHRoaXMucGRmLmludGVybmFsLndyaXRlKFwicVwiKX0sZi5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBkZi5pbnRlcm5hbC53cml0ZShcIlFcIikse3g6dGhpcy54LHk6dGhpcy55LHJlYWR5OiEwfX0sZi5wcm90b3R5cGUuZXhlY3V0ZVdhdGNoRnVuY3Rpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPSExLG49W107aWYoMDx0aGlzLndhdGNoRnVuY3Rpb25zLmxlbmd0aCl7Zm9yKHZhciByPTA7cjx0aGlzLndhdGNoRnVuY3Rpb25zLmxlbmd0aDsrK3IpITA9PT10aGlzLndhdGNoRnVuY3Rpb25zW3JdKHQpP2U9ITA6bi5wdXNoKHRoaXMud2F0Y2hGdW5jdGlvbnNbcl0pO3RoaXMud2F0Y2hGdW5jdGlvbnM9bn1yZXR1cm4gZX0sZi5wcm90b3R5cGUuc3BsaXRGcmFnbWVudHNJbnRvTGluZXM9ZnVuY3Rpb24odCxlKXt2YXIgbixyLGksbyxhLHMsbCxoLHUsYyxmLHAsZCxnO2ZvcigxMixjPXRoaXMucGRmLmludGVybmFsLnNjYWxlRmFjdG9yLG89e30scz1sPWg9Zz1hPWk9dT1yPXZvaWQgMCxwPVtmPVtdXSxuPTAsZD10aGlzLnNldHRpbmdzLndpZHRoO3QubGVuZ3RoOylpZihhPXQuc2hpZnQoKSxnPWUuc2hpZnQoKSxhKWlmKChpPW9bKHI9Z1tcImZvbnQtZmFtaWx5XCJdKSsodT1nW1wiZm9udC1zdHlsZVwiXSldKXx8KGk9dGhpcy5wZGYuaW50ZXJuYWwuZ2V0Rm9udChyLHUpLm1ldGFkYXRhLlVuaWNvZGUsb1tyK3VdPWkpLGg9e3dpZHRoczppLndpZHRocyxrZXJuaW5nOmkua2VybmluZyxmb250U2l6ZToxMipnW1wiZm9udC1zaXplXCJdLHRleHRJbmRlbnQ6bn0sbD10aGlzLnBkZi5nZXRTdHJpbmdVbml0V2lkdGgoYSxoKSpoLmZvbnRTaXplL2MsXCJcXHUyMDI4XCI9PWEpZj1bXSxwLnB1c2goZik7ZWxzZSBpZihkPG4rbCl7Zm9yKHM9dGhpcy5wZGYuc3BsaXRUZXh0VG9TaXplKGEsZCxoKSxmLnB1c2goW3Muc2hpZnQoKSxnXSk7cy5sZW5ndGg7KWY9W1tzLnNoaWZ0KCksZ11dLHAucHVzaChmKTtuPXRoaXMucGRmLmdldFN0cmluZ1VuaXRXaWR0aChmWzBdWzBdLGgpKmguZm9udFNpemUvY31lbHNlIGYucHVzaChbYSxnXSksbis9bDtpZih2b2lkIDAhPT1nW1widGV4dC1hbGlnblwiXSYmKFwiY2VudGVyXCI9PT1nW1widGV4dC1hbGlnblwiXXx8XCJyaWdodFwiPT09Z1tcInRleHQtYWxpZ25cIl18fFwianVzdGlmeVwiPT09Z1tcInRleHQtYWxpZ25cIl0pKWZvcih2YXIgbT0wO208cC5sZW5ndGg7KyttKXt2YXIgeT10aGlzLnBkZi5nZXRTdHJpbmdVbml0V2lkdGgocFttXVswXVswXSxoKSpoLmZvbnRTaXplL2M7MDxtJiYocFttXVswXVsxXT1QKHBbbV1bMF1bMV0pKTt2YXIgdj1kLXk7aWYoXCJyaWdodFwiPT09Z1tcInRleHQtYWxpZ25cIl0pcFttXVswXVsxXVtcIm1hcmdpbi1sZWZ0XCJdPXY7ZWxzZSBpZihcImNlbnRlclwiPT09Z1tcInRleHQtYWxpZ25cIl0pcFttXVswXVsxXVtcIm1hcmdpbi1sZWZ0XCJdPXYvMjtlbHNlIGlmKFwianVzdGlmeVwiPT09Z1tcInRleHQtYWxpZ25cIl0pe3ZhciB3PXBbbV1bMF1bMF0uc3BsaXQoXCIgXCIpLmxlbmd0aC0xO3BbbV1bMF1bMV1bXCJ3b3JkLXNwYWNpbmdcIl09di93LG09PT1wLmxlbmd0aC0xJiYocFttXVswXVsxXVtcIndvcmQtc3BhY2luZ1wiXT0wKX19cmV0dXJuIHB9LGYucHJvdG90eXBlLlJlbmRlclRleHRGcmFnbWVudD1mdW5jdGlvbih0LGUpe3ZhciBuLHI7cj0wLHRoaXMucGRmLmludGVybmFsLnBhZ2VTaXplLmdldEhlaWdodCgpLXRoaXMucGRmLm1hcmdpbnNfZG9jLmJvdHRvbTx0aGlzLnkrdGhpcy5wZGYuaW50ZXJuYWwuZ2V0Rm9udFNpemUoKSYmKHRoaXMucGRmLmludGVybmFsLndyaXRlKFwiRVRcIixcIlFcIiksdGhpcy5wZGYuYWRkUGFnZSgpLHRoaXMueT10aGlzLnBkZi5tYXJnaW5zX2RvYy50b3AsdGhpcy5wZGYuaW50ZXJuYWwud3JpdGUoXCJxXCIsXCJCVFwiLHRoaXMuZ2V0UGRmQ29sb3IoZS5jb2xvciksdGhpcy5wZGYuaW50ZXJuYWwuZ2V0Q29vcmRpbmF0ZVN0cmluZyh0aGlzLngpLHRoaXMucGRmLmludGVybmFsLmdldFZlcnRpY2FsQ29vcmRpbmF0ZVN0cmluZyh0aGlzLnkpLFwiVGRcIikscj1NYXRoLm1heChyLGVbXCJsaW5lLWhlaWdodFwiXSxlW1wiZm9udC1zaXplXCJdKSx0aGlzLnBkZi5pbnRlcm5hbC53cml0ZSgwLCgtMTIqcikudG9GaXhlZCgyKSxcIlRkXCIpKSxuPXRoaXMucGRmLmludGVybmFsLmdldEZvbnQoZVtcImZvbnQtZmFtaWx5XCJdLGVbXCJmb250LXN0eWxlXCJdKTt2YXIgaT10aGlzLmdldFBkZkNvbG9yKGUuY29sb3IpO2khPT10aGlzLmxhc3RUZXh0Q29sb3ImJih0aGlzLnBkZi5pbnRlcm5hbC53cml0ZShpKSx0aGlzLmxhc3RUZXh0Q29sb3I9aSksdm9pZCAwIT09ZVtcIndvcmQtc3BhY2luZ1wiXSYmMDxlW1wid29yZC1zcGFjaW5nXCJdJiZ0aGlzLnBkZi5pbnRlcm5hbC53cml0ZShlW1wid29yZC1zcGFjaW5nXCJdLnRvRml4ZWQoMiksXCJUd1wiKSx0aGlzLnBkZi5pbnRlcm5hbC53cml0ZShcIi9cIituLmlkLCgxMiplW1wiZm9udC1zaXplXCJdKS50b0ZpeGVkKDIpLFwiVGZcIixcIihcIit0aGlzLnBkZi5pbnRlcm5hbC5wZGZFc2NhcGUodCkrXCIpIFRqXCIpLHZvaWQgMCE9PWVbXCJ3b3JkLXNwYWNpbmdcIl0mJnRoaXMucGRmLmludGVybmFsLndyaXRlKDAsXCJUd1wiKX0sZi5wcm90b3R5cGUuZ2V0UGRmQ29sb3I9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGk9L3JnYlxccypcXChcXHMqKFxcZCspLFxccyooXFxkKyksXFxzKihcXGQrXFxzKilcXCkvLmV4ZWModCk7aWYobnVsbCE9aSllPXBhcnNlSW50KGlbMV0pLG49cGFyc2VJbnQoaVsyXSkscj1wYXJzZUludChpWzNdKTtlbHNle2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiZcIiNcIiE9dC5jaGFyQXQoMCkpe3ZhciBvPW5ldyBSR0JDb2xvcih0KTt0PW8ub2s/by50b0hleCgpOlwiIzAwMDAwMFwifWU9dC5zdWJzdHJpbmcoMSwzKSxlPXBhcnNlSW50KGUsMTYpLG49dC5zdWJzdHJpbmcoMyw1KSxuPXBhcnNlSW50KG4sMTYpLHI9dC5zdWJzdHJpbmcoNSw3KSxyPXBhcnNlSW50KHIsMTYpfWlmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYvXiNbMC05QS1GYS1mXXs2fSQvLnRlc3QoZSkpe3ZhciBhPXBhcnNlSW50KGUuc3Vic3RyKDEpLDE2KTtlPWE+PjE2JjI1NSxuPWE+PjgmMjU1LHI9MjU1JmF9dmFyIHM9dGhpcy5mMztyZXR1cm4gMD09PWUmJjA9PT1uJiYwPT09cnx8dm9pZCAwPT09bj9zKGUvMjU1KStcIiBnXCI6W3MoZS8yNTUpLHMobi8yNTUpLHMoci8yNTUpLFwicmdcIl0uam9pbihcIiBcIil9LGYucHJvdG90eXBlLmYzPWZ1bmN0aW9uKHQpe3JldHVybiB0LnRvRml4ZWQoMyl9LGYucHJvdG90eXBlLnJlbmRlclBhcmFncmFwaD1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyxsLGgsdSxjLGYscDtpZihyPXcodGhpcy5wYXJhZ3JhcGgudGV4dCksZj10aGlzLnBhcmFncmFwaC5zdHlsZSxlPXRoaXMucGFyYWdyYXBoLmJsb2Nrc3R5bGUsdGhpcy5wYXJhZ3JhcGgucHJpb3JibG9ja3N0eWxlfHx7fSx0aGlzLnBhcmFncmFwaD17dGV4dDpbXSxzdHlsZTpbXSxibG9ja3N0eWxlOnt9LHByaW9yYmxvY2tzdHlsZTplfSxyLmpvaW4oXCJcIikudHJpbSgpKXtzPXRoaXMuc3BsaXRGcmFnbWVudHNJbnRvTGluZXMocixmKSxsPWE9dm9pZCAwLG49MTIvdGhpcy5wZGYuaW50ZXJuYWwuc2NhbGVGYWN0b3IsdGhpcy5wcmlvck1hcmdpbkJvdHRvbT10aGlzLnByaW9yTWFyZ2luQm90dG9tfHwwLGM9KE1hdGgubWF4KChlW1wibWFyZ2luLXRvcFwiXXx8MCktdGhpcy5wcmlvck1hcmdpbkJvdHRvbSwwKSsoZVtcInBhZGRpbmctdG9wXCJdfHwwKSkqbix1PSgoZVtcIm1hcmdpbi1ib3R0b21cIl18fDApKyhlW1wicGFkZGluZy1ib3R0b21cIl18fDApKSpuLHRoaXMucHJpb3JNYXJnaW5Cb3R0b209ZVtcIm1hcmdpbi1ib3R0b21cIl18fDAsXCJhbHdheXNcIj09PWVbXCJwYWdlLWJyZWFrLWJlZm9yZVwiXSYmKHRoaXMucGRmLmFkZFBhZ2UoKSx0aGlzLnk9MCxjPSgoZVtcIm1hcmdpbi10b3BcIl18fDApKyhlW1wicGFkZGluZy10b3BcIl18fDApKSpuKSxoPXRoaXMucGRmLmludGVybmFsLndyaXRlLG89aT12b2lkIDAsdGhpcy55Kz1jLGgoXCJxXCIsXCJCVCAwIGdcIix0aGlzLnBkZi5pbnRlcm5hbC5nZXRDb29yZGluYXRlU3RyaW5nKHRoaXMueCksdGhpcy5wZGYuaW50ZXJuYWwuZ2V0VmVydGljYWxDb29yZGluYXRlU3RyaW5nKHRoaXMueSksXCJUZFwiKTtmb3IodmFyIGQ9MDtzLmxlbmd0aDspe2ZvcihpPWw9MCxvPShhPXMuc2hpZnQoKSkubGVuZ3RoO2khPT1vOylhW2ldWzBdLnRyaW0oKSYmKGw9TWF0aC5tYXgobCxhW2ldWzFdW1wibGluZS1oZWlnaHRcIl0sYVtpXVsxXVtcImZvbnQtc2l6ZVwiXSkscD03KmFbaV1bMV1bXCJmb250LXNpemVcIl0pLGkrKzt2YXIgZz0wLG09MDtmb3Iodm9pZCAwIT09YVswXVsxXVtcIm1hcmdpbi1sZWZ0XCJdJiYwPGFbMF1bMV1bXCJtYXJnaW4tbGVmdFwiXSYmKGc9KG09dGhpcy5wZGYuaW50ZXJuYWwuZ2V0Q29vcmRpbmF0ZVN0cmluZyhhWzBdWzFdW1wibWFyZ2luLWxlZnRcIl0pKS1kLGQ9bSksaChnK01hdGgubWF4KGVbXCJtYXJnaW4tbGVmdFwiXXx8MCwwKSpuLCgtMTIqbCkudG9GaXhlZCgyKSxcIlRkXCIpLGk9MCxvPWEubGVuZ3RoO2khPT1vOylhW2ldWzBdJiZ0aGlzLlJlbmRlclRleHRGcmFnbWVudChhW2ldWzBdLGFbaV1bMV0pLGkrKztpZih0aGlzLnkrPWwqbix0aGlzLmV4ZWN1dGVXYXRjaEZ1bmN0aW9ucyhhWzBdWzFdKSYmMDxzLmxlbmd0aCl7dmFyIHk9W10sdj1bXTtzLmZvckVhY2goZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10Lmxlbmd0aDtlIT09bjspdFtlXVswXSYmKHkucHVzaCh0W2VdWzBdK1wiIFwiKSx2LnB1c2godFtlXVsxXSkpLCsrZX0pLHM9dGhpcy5zcGxpdEZyYWdtZW50c0ludG9MaW5lcyh3KHkpLHYpLGgoXCJFVFwiLFwiUVwiKSxoKFwicVwiLFwiQlQgMCBnXCIsdGhpcy5wZGYuaW50ZXJuYWwuZ2V0Q29vcmRpbmF0ZVN0cmluZyh0aGlzLngpLHRoaXMucGRmLmludGVybmFsLmdldFZlcnRpY2FsQ29vcmRpbmF0ZVN0cmluZyh0aGlzLnkpLFwiVGRcIil9fXJldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmNhbGwodGhpcyx0aGlzLngtOSx0aGlzLnktcC8yKSxoKFwiRVRcIixcIlFcIiksdGhpcy55Kz11fX0sZi5wcm90b3R5cGUuc2V0QmxvY2tCb3VuZGFyeT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZW5kZXJQYXJhZ3JhcGgodCl9LGYucHJvdG90eXBlLnNldEJsb2NrU3R5bGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGFyYWdyYXBoLmJsb2Nrc3R5bGU9dH0sZi5wcm90b3R5cGUuYWRkVGV4dD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnBhcmFncmFwaC50ZXh0LnB1c2godCksdGhpcy5wYXJhZ3JhcGguc3R5bGUucHVzaChlKX0saT17aGVsdmV0aWNhOlwiaGVsdmV0aWNhXCIsXCJzYW5zLXNlcmlmXCI6XCJoZWx2ZXRpY2FcIixcInRpbWVzIG5ldyByb21hblwiOlwidGltZXNcIixzZXJpZjpcInRpbWVzXCIsdGltZXM6XCJ0aW1lc1wiLG1vbm9zcGFjZTpcImNvdXJpZXJcIixjb3VyaWVyOlwiY291cmllclwifSxsPXsxMDA6XCJub3JtYWxcIiwyMDA6XCJub3JtYWxcIiwzMDA6XCJub3JtYWxcIiw0MDA6XCJub3JtYWxcIiw1MDA6XCJib2xkXCIsNjAwOlwiYm9sZFwiLDcwMDpcImJvbGRcIiw4MDA6XCJib2xkXCIsOTAwOlwiYm9sZFwiLG5vcm1hbDpcIm5vcm1hbFwiLGJvbGQ6XCJib2xkXCIsYm9sZGVyOlwiYm9sZFwiLGxpZ2h0ZXI6XCJub3JtYWxcIn0sYT17bm9ybWFsOlwibm9ybWFsXCIsaXRhbGljOlwiaXRhbGljXCIsb2JsaXF1ZTpcIml0YWxpY1wifSxzPXtsZWZ0OlwibGVmdFwiLHJpZ2h0OlwicmlnaHRcIixjZW50ZXI6XCJjZW50ZXJcIixqdXN0aWZ5OlwianVzdGlmeVwifSxoPXtub25lOlwibm9uZVwiLHJpZ2h0OlwicmlnaHRcIixsZWZ0OlwibGVmdFwifSx1PXtub25lOlwibm9uZVwiLGJvdGg6XCJib3RoXCJ9LG49e25vcm1hbDoxfSx0LmZyb21IVE1MPWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXtyZXR1cm4gdGhpcy5tYXJnaW5zX2RvYz1vfHx7dG9wOjAsYm90dG9tOjB9LHJ8fChyPXt9KSxyLmVsZW1lbnRIYW5kbGVyc3x8KHIuZWxlbWVudEhhbmRsZXJzPXt9KSxtKHRoaXMsdCxpc05hTihlKT80OmUsaXNOYU4obik/NDpuLHIsaSl9fShsdC5BUEkpLGx0LkFQSSwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93fHxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwpLmh0bWwycGRmPWZ1bmN0aW9uKHQsYSxlKXt2YXIgbj1hLmNhbnZhcztpZihuKXt2YXIgcixpO2lmKChuLnBkZj1hKS5hbm5vdGF0aW9ucz17X25hbWVNYXA6W10sY3JlYXRlQW5ub3RhdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBuLHI9YS5jb250ZXh0MmQuX3dyYXBYKGUubGVmdCksaT1hLmNvbnRleHQyZC5fd3JhcFkoZS50b3ApLG89KGEuY29udGV4dDJkLl9wYWdlKGUudG9wKSx0LmluZGV4T2YoXCIjXCIpKTtuPTA8PW8/e25hbWU6dC5zdWJzdHJpbmcobysxKX06e3VybDp0fSxhLmxpbmsocixpLGUucmlnaHQtZS5sZWZ0LGUuYm90dG9tLWUudG9wLG4pfSxzZXROYW1lOmZ1bmN0aW9uKHQsZSl7dmFyIG49YS5jb250ZXh0MmQuX3dyYXBYKGUubGVmdCkscj1hLmNvbnRleHQyZC5fd3JhcFkoZS50b3ApLGk9YS5jb250ZXh0MmQuX3BhZ2UoZS50b3ApO3RoaXMuX25hbWVNYXBbdF09e3BhZ2U6aSx4Om4seTpyfX19LG4uYW5ub3RhdGlvbnM9YS5hbm5vdGF0aW9ucyxhLmNvbnRleHQyZC5fcGFnZUJyZWFrQXQ9ZnVuY3Rpb24odCl7dGhpcy5wYWdlQnJlYWtzLnB1c2godCl9LGEuY29udGV4dDJkLl9nb3RvUGFnZT1mdW5jdGlvbih0KXtmb3IoO2EuaW50ZXJuYWwuZ2V0TnVtYmVyT2ZQYWdlcygpPHQ7KWEuYWRkUGFnZSgpO2Euc2V0UGFnZSh0KX0sXCJzdHJpbmdcIj09dHlwZW9mIHQpe3Q9dC5yZXBsYWNlKC88c2NyaXB0XFxiW148XSooPzooPyE8XFwvc2NyaXB0Pik8W148XSopKjxcXC9zY3JpcHQ+L2dpLFwiXCIpO3ZhciBvLHMsbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobCksbnVsbCE9KG89bC5jb250ZW50RG9jdW1lbnQpJiZudWxsIT1vfHwobz1sLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpLG8ub3BlbigpLG8ud3JpdGUodCksby5jbG9zZSgpLHI9by5ib2R5LHM9by5ib2R5fHx7fSx0PW8uZG9jdW1lbnRFbGVtZW50fHx7fSxpPU1hdGgubWF4KHMuc2Nyb2xsSGVpZ2h0LHMub2Zmc2V0SGVpZ2h0LHQuY2xpZW50SGVpZ2h0LHQuc2Nyb2xsSGVpZ2h0LHQub2Zmc2V0SGVpZ2h0KX1lbHNlIHM9KHI9dCkuYm9keXx8e30saT1NYXRoLm1heChzLnNjcm9sbEhlaWdodCxzLm9mZnNldEhlaWdodCx0LmNsaWVudEhlaWdodCx0LnNjcm9sbEhlaWdodCx0Lm9mZnNldEhlaWdodCk7dmFyIGg9e2FzeW5jOiEwLGFsbG93VGFpbnQ6ITAsYmFja2dyb3VuZENvbG9yOlwiI2ZmZmZmZlwiLGNhbnZhczpuLGltYWdlVGltZW91dDoxNWUzLGxvZ2dpbmc6ITAscHJveHk6bnVsbCxyZW1vdmVDb250YWluZXI6ITAsZm9yZWlnbk9iamVjdFJlbmRlcmluZzohMSx1c2VDT1JTOiExLHdpbmRvd0hlaWdodDppPWEuaW50ZXJuYWwucGFnZVNpemUuZ2V0SGVpZ2h0KCksc2Nyb2xsWTppfTthLmNvbnRleHQyZC5wYWdlV3JhcFlFbmFibGVkPSEwLGEuY29udGV4dDJkLnBhZ2VXcmFwWT1hLmludGVybmFsLnBhZ2VTaXplLmdldEhlaWdodCgpLGh0bWwyY2FudmFzKHIsaCkudGhlbihmdW5jdGlvbih0KXtlJiYobCYmbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGwpLGUoYSkpfSl9ZWxzZSBhbGVydChcImpzUERGIGNhbnZhcyBwbHVnaW4gbm90IGluc3RhbGxlZFwiKX0sd2luZG93LnRtcD1odG1sMnBkZixmdW5jdGlvbihmKXt2YXIgcj1mLkJsb2JCdWlsZGVyfHxmLldlYktpdEJsb2JCdWlsZGVyfHxmLk1TQmxvYkJ1aWxkZXJ8fGYuTW96QmxvYkJ1aWxkZXI7Zi5VUkw9Zi5VUkx8fGYud2Via2l0VVJMfHxmdW5jdGlvbih0LGUpe3JldHVybihlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpKS5ocmVmPXQsZX07dmFyIG49Zi5CbG9iLHA9VVJMLmNyZWF0ZU9iamVjdFVSTCxkPVVSTC5yZXZva2VPYmplY3RVUkwsbz1mLlN5bWJvbCYmZi5TeW1ib2wudG9TdHJpbmdUYWcsdD0hMSxlPSExLGc9ISFmLkFycmF5QnVmZmVyLGk9ciYmci5wcm90b3R5cGUuYXBwZW5kJiZyLnByb3RvdHlwZS5nZXRCbG9iO3RyeXt0PTI9PT1uZXcgQmxvYihbXCLDpFwiXSkuc2l6ZSxlPTI9PT1uZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoWzEsMl0pXSkuc2l6ZX1jYXRjaCh0KXt9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7aWYodC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFyIGU9dC5idWZmZXI7aWYodC5ieXRlTGVuZ3RoIT09ZS5ieXRlTGVuZ3RoKXt2YXIgbj1uZXcgVWludDhBcnJheSh0LmJ5dGVMZW5ndGgpO24uc2V0KG5ldyBVaW50OEFycmF5KGUsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCkpLGU9bi5idWZmZXJ9cmV0dXJuIGV9cmV0dXJuIHR9KX1mdW5jdGlvbiBzKHQsZSl7ZT1lfHx7fTt2YXIgbj1uZXcgcjtyZXR1cm4gYSh0KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe24uYXBwZW5kKHQpfSksZS50eXBlP24uZ2V0QmxvYihlLnR5cGUpOm4uZ2V0QmxvYigpfWZ1bmN0aW9uIGwodCxlKXtyZXR1cm4gbmV3IG4oYSh0KSxlfHx7fSl9aWYoZi5CbG9iJiYocy5wcm90b3R5cGU9QmxvYi5wcm90b3R5cGUsbC5wcm90b3R5cGU9QmxvYi5wcm90b3R5cGUpLG8pdHJ5e0ZpbGUucHJvdG90eXBlW29dPVwiRmlsZVwiLEJsb2IucHJvdG90eXBlW29dPVwiQmxvYlwiLEZpbGVSZWFkZXIucHJvdG90eXBlW29dPVwiRmlsZVJlYWRlclwifWNhdGNoKHQpe31mdW5jdGlvbiBoKCl7dmFyIHQ9ISFmLkFjdGl2ZVhPYmplY3R8fFwiLW1zLXNjcm9sbC1saW1pdFwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlJiZcIi1tcy1pbWUtYWxpZ25cImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxlPWYuWE1MSHR0cFJlcXVlc3QmJmYuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQ7dCYmZSYmKFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBCbG9iJiZ0aGlzLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIix0LnR5cGUpLGUuY2FsbCh0aGlzLHQpfSk7dHJ5e25ldyBGaWxlKFtdLFwiXCIpfWNhdGNoKHQpe3RyeXt2YXIgbj1uZXcgRnVuY3Rpb24oJ2NsYXNzIEZpbGUgZXh0ZW5kcyBCbG9iIHtjb25zdHJ1Y3RvcihjaHVua3MsIG5hbWUsIG9wdHMpIHtvcHRzID0gb3B0cyB8fCB7fTtzdXBlcihjaHVua3MsIG9wdHMgfHwge30pO3RoaXMubmFtZSA9IG5hbWU7dGhpcy5sYXN0TW9kaWZpZWREYXRlID0gb3B0cy5sYXN0TW9kaWZpZWQgPyBuZXcgRGF0ZShvcHRzLmxhc3RNb2RpZmllZCkgOiBuZXcgRGF0ZTt0aGlzLmxhc3RNb2RpZmllZCA9ICt0aGlzLmxhc3RNb2RpZmllZERhdGU7fX07cmV0dXJuIG5ldyBGaWxlKFtdLCBcIlwiKSwgRmlsZScpKCk7Zi5GaWxlPW59Y2F0Y2godCl7bj1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IEJsb2IodCxuKSxpPW4mJnZvaWQgMCE9PW4ubGFzdE1vZGlmaWVkP25ldyBEYXRlKG4ubGFzdE1vZGlmaWVkKTpuZXcgRGF0ZTtyZXR1cm4gci5uYW1lPWUsci5sYXN0TW9kaWZpZWREYXRlPWksci5sYXN0TW9kaWZpZWQ9K2ksci50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBGaWxlXVwifSxvJiYocltvXT1cIkZpbGVcIikscn07Zi5GaWxlPW59fX10PyhoKCksZi5CbG9iPWU/Zi5CbG9iOmwpOmk/KGgoKSxmLkJsb2I9cyk6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXQuY2hhckNvZGVBdChuKTtyPDEyOD9lLnB1c2gocik6cjwyMDQ4P2UucHVzaCgxOTJ8cj4+NiwxMjh8NjMmcik6cjw1NTI5Nnx8NTczNDQ8PXI/ZS5wdXNoKDIyNHxyPj4xMiwxMjh8cj4+NiY2MywxMjh8NjMmcik6KG4rKyxyPTY1NTM2KygoMTAyMyZyKTw8MTB8MTAyMyZ0LmNoYXJDb2RlQXQobikpLGUucHVzaCgyNDB8cj4+MTgsMTI4fHI+PjEyJjYzLDEyOHxyPj42JjYzLDEyOHw2MyZyKSl9cmV0dXJuIGV9ZnVuY3Rpb24gZSh0KXt2YXIgZSxuLHIsaSxvLGE7Zm9yKGU9XCJcIixyPXQubGVuZ3RoLG49MDtuPHI7KXN3aXRjaCgoaT10W24rK10pPj40KXtjYXNlIDA6Y2FzZSAxOmNhc2UgMjpjYXNlIDM6Y2FzZSA0OmNhc2UgNTpjYXNlIDY6Y2FzZSA3OmUrPVN0cmluZy5mcm9tQ2hhckNvZGUoaSk7YnJlYWs7Y2FzZSAxMjpjYXNlIDEzOm89dFtuKytdLGUrPVN0cmluZy5mcm9tQ2hhckNvZGUoKDMxJmkpPDw2fDYzJm8pO2JyZWFrO2Nhc2UgMTQ6bz10W24rK10sYT10W24rK10sZSs9U3RyaW5nLmZyb21DaGFyQ29kZSgoMTUmaSk8PDEyfCg2MyZvKTw8NnwoNjMmYSk8PDApfXJldHVybiBlfWZ1bmN0aW9uIHModCl7Zm9yKHZhciBlPW5ldyBBcnJheSh0LmJ5dGVMZW5ndGgpLG49bmV3IFVpbnQ4QXJyYXkodCkscj1lLmxlbmd0aDtyLS07KWVbcl09bltyXTtyZXR1cm4gZX1mdW5jdGlvbiBuKHQpe2Zvcih2YXIgZT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCIsbj1bXSxyPTA7cjx0Lmxlbmd0aDtyKz0zKXt2YXIgaT10W3JdLG89cisxPHQubGVuZ3RoLGE9bz90W3IrMV06MCxzPXIrMjx0Lmxlbmd0aCxsPXM/dFtyKzJdOjAsaD1pPj4yLHU9KDMmaSk8PDR8YT4+NCxjPSgxNSZhKTw8MnxsPj42LGY9NjMmbDtzfHwoZj02NCxvfHwoYz02NCkpLG4ucHVzaChlW2hdLGVbdV0sZVtjXSxlW2ZdKX1yZXR1cm4gbi5qb2luKFwiXCIpfXZhciB0PU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlPXQsbmV3IGV9O2lmKGcpdmFyIHI9W1wiW29iamVjdCBJbnQ4QXJyYXldXCIsXCJbb2JqZWN0IFVpbnQ4QXJyYXldXCIsXCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiLFwiW29iamVjdCBJbnQxNkFycmF5XVwiLFwiW29iamVjdCBVaW50MTZBcnJheV1cIixcIltvYmplY3QgSW50MzJBcnJheV1cIixcIltvYmplY3QgVWludDMyQXJyYXldXCIsXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIixcIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiXSxsPUFycmF5QnVmZmVyLmlzVmlld3x8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJi0xPHIuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpfTtmdW5jdGlvbiBoKHQsZSl7Zm9yKHZhciBuPTAscj0odD10fHxbXSkubGVuZ3RoO248cjtuKyspe3ZhciBpPXRbbl07aSBpbnN0YW5jZW9mIGg/dFtuXT1pLl9idWZmZXI6XCJzdHJpbmdcIj09dHlwZW9mIGk/dFtuXT1hKGkpOmcmJihBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihpKXx8bChpKSk/dFtuXT1zKGkpOmcmJihvPWkpJiZEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvKT90W25dPXMoaS5idWZmZXIpOnRbbl09YShTdHJpbmcoaSkpfXZhciBvO3RoaXMuX2J1ZmZlcj1bXS5jb25jYXQuYXBwbHkoW10sdCksdGhpcy5zaXplPXRoaXMuX2J1ZmZlci5sZW5ndGgsdGhpcy50eXBlPWUmJmUudHlwZXx8XCJcIn1mdW5jdGlvbiBpKHQsZSxuKXt2YXIgcj1oLmNhbGwodGhpcyx0LG49bnx8e30pfHx0aGlzO3JldHVybiByLm5hbWU9ZSxyLmxhc3RNb2RpZmllZERhdGU9bi5sYXN0TW9kaWZpZWQ/bmV3IERhdGUobi5sYXN0TW9kaWZpZWQpOm5ldyBEYXRlLHIubGFzdE1vZGlmaWVkPStyLmxhc3RNb2RpZmllZERhdGUscn1pZihoLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG5ldyBoKFt0aGlzLl9idWZmZXIuc2xpY2UodHx8MCxlfHx0aGlzLl9idWZmZXIubGVuZ3RoKV0se3R5cGU6bn0pfSxoLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBCbG9iXVwifSwoaS5wcm90b3R5cGU9dChoLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksT2JqZWN0LnNldFByb3RvdHlwZU9mKU9iamVjdC5zZXRQcm90b3R5cGVPZihpLGgpO2Vsc2UgdHJ5e2kuX19wcm90b19fPWh9Y2F0Y2godCl7fWZ1bmN0aW9uIG8oKXtpZighKHRoaXMgaW5zdGFuY2VvZiBvKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnRmlsZVJlYWRlcic6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIERPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7dGhpcy5hZGRFdmVudExpc3RlbmVyPW4uYWRkRXZlbnRMaXN0ZW5lcix0aGlzLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpc1tcIm9uXCIrdC50eXBlXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlKHQpLG4uZGlzcGF0Y2hFdmVudCh0KX0sdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyPW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcn1mdW5jdGlvbiB1KHQsZSxuKXtpZighKGUgaW5zdGFuY2VvZiBoKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ1wiK24rXCInIG9uICdGaWxlUmVhZGVyJzogcGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgJ0Jsb2InLlwiKTt0LnJlc3VsdD1cIlwiLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLnJlYWR5U3RhdGU9by5MT0FESU5HLHQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJsb2FkXCIpKSx0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwibG9hZGVuZFwiKSl9KX1pLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBGaWxlXVwifSxvLkVNUFRZPTAsby5MT0FESU5HPTEsby5ET05FPTIsby5wcm90b3R5cGUuZXJyb3I9bnVsbCxvLnByb3RvdHlwZS5vbmFib3J0PW51bGwsby5wcm90b3R5cGUub25lcnJvcj1udWxsLG8ucHJvdG90eXBlLm9ubG9hZD1udWxsLG8ucHJvdG90eXBlLm9ubG9hZGVuZD1udWxsLG8ucHJvdG90eXBlLm9ubG9hZHN0YXJ0PW51bGwsby5wcm90b3R5cGUub25wcm9ncmVzcz1udWxsLG8ucHJvdG90eXBlLnJlYWRBc0RhdGFVUkw9ZnVuY3Rpb24odCl7dSh0aGlzLHQsXCJyZWFkQXNEYXRhVVJMXCIpLHRoaXMucmVzdWx0PVwiZGF0YTpcIit0LnR5cGUrXCI7YmFzZTY0LFwiK24odC5fYnVmZmVyKX0sby5wcm90b3R5cGUucmVhZEFzVGV4dD1mdW5jdGlvbih0KXt1KHRoaXMsdCxcInJlYWRBc1RleHRcIiksdGhpcy5yZXN1bHQ9ZSh0Ll9idWZmZXIpfSxvLnByb3RvdHlwZS5yZWFkQXNBcnJheUJ1ZmZlcj1mdW5jdGlvbih0KXt1KHRoaXMsdCxcInJlYWRBc1RleHRcIiksdGhpcy5yZXN1bHQ9dC5fYnVmZmVyLnNsaWNlKCl9LG8ucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7fSxVUkwuY3JlYXRlT2JqZWN0VVJMPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgaD9cImRhdGE6XCIrdC50eXBlK1wiO2Jhc2U2NCxcIituKHQuX2J1ZmZlcik6cC5jYWxsKFVSTCx0KX0sVVJMLnJldm9rZU9iamVjdFVSTD1mdW5jdGlvbih0KXtkJiZkLmNhbGwoVVJMLHQpfTt2YXIgYz1mLlhNTEh0dHBSZXF1ZXN0JiZmLlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kO2MmJihYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgaD8odGhpcy5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsdC50eXBlKSxjLmNhbGwodGhpcyxlKHQuX2J1ZmZlcikpKTpjLmNhbGwodGhpcyx0KX0pLGYuRmlsZVJlYWRlcj1vLGYuRmlsZT1pLGYuQmxvYj1ofSgpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93fHxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWx8fEZ1bmN0aW9uKCdyZXR1cm4gdHlwZW9mIHRoaXMgPT09IFwib2JqZWN0XCIgJiYgdGhpcy5jb250ZW50JykoKXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpKTt2YXIgaHQsdXQsY3QsZnQscHQsZHQsZ3QsbXQseXQsdnQsd3QsYnQseHQsTnQsTHQsbGU9bGV8fGZ1bmN0aW9uKHMpe2lmKCEodm9pZCAwPT09c3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmL01TSUUgWzEtOV1cXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpKXt2YXIgdD1zLmRvY3VtZW50LGw9ZnVuY3Rpb24oKXtyZXR1cm4gcy5VUkx8fHMud2Via2l0VVJMfHxzfSxoPXQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLFwiYVwiKSx1PVwiZG93bmxvYWRcImluIGgsYz0vY29uc3RydWN0b3IvaS50ZXN0KHMuSFRNTEVsZW1lbnQpfHxzLnNhZmFyaSxmPS9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxwPXMuc2V0SW1tZWRpYXRlfHxzLnNldFRpbWVvdXQsZD1mdW5jdGlvbih0KXtwKGZ1bmN0aW9uKCl7dGhyb3cgdH0sMCl9LGc9ZnVuY3Rpb24odCl7c2V0VGltZW91dChmdW5jdGlvbigpe1wic3RyaW5nXCI9PXR5cGVvZiB0P2woKS5yZXZva2VPYmplY3RVUkwodCk6dC5yZW1vdmUoKX0sNGU0KX0sbT1mdW5jdGlvbih0KXtyZXR1cm4vXlxccyooPzp0ZXh0XFwvXFxTKnxhcHBsaWNhdGlvblxcL3htbHxcXFMqXFwvXFxTKlxcK3htbClcXHMqOy4qY2hhcnNldFxccyo9XFxzKnV0Zi04L2kudGVzdCh0LnR5cGUpP25ldyBCbG9iKFtTdHJpbmcuZnJvbUNoYXJDb2RlKDY1Mjc5KSx0XSx7dHlwZTp0LnR5cGV9KTp0fSxyPWZ1bmN0aW9uKHQsbixlKXtlfHwodD1tKHQpKTt2YXIgcixpPXRoaXMsbz1cImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiPT09dC50eXBlLGE9ZnVuY3Rpb24oKXshZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj0oZT1bXS5jb25jYXQoZSkpLmxlbmd0aDtyLS07KXt2YXIgaT10W1wib25cIitlW3JdXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpKXRyeXtpLmNhbGwodCxufHx0KX1jYXRjaCh0KXtkKHQpfX19KGksXCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIHdyaXRlZW5kXCIuc3BsaXQoXCIgXCIpKX07aWYoaS5yZWFkeVN0YXRlPWkuSU5JVCx1KXJldHVybiByPWwoKS5jcmVhdGVPYmplY3RVUkwodCksdm9pZCBwKGZ1bmN0aW9uKCl7dmFyIHQsZTtoLmhyZWY9cixoLmRvd25sb2FkPW4sdD1oLGU9bmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKSx0LmRpc3BhdGNoRXZlbnQoZSksYSgpLGcociksaS5yZWFkeVN0YXRlPWkuRE9ORX0sMCk7IWZ1bmN0aW9uKCl7aWYoKGZ8fG8mJmMpJiZzLkZpbGVSZWFkZXIpe3ZhciBlPW5ldyBGaWxlUmVhZGVyO3JldHVybiBlLm9ubG9hZGVuZD1mdW5jdGlvbigpe3ZhciB0PWY/ZS5yZXN1bHQ6ZS5yZXN1bHQucmVwbGFjZSgvXmRhdGE6W147XSo7LyxcImRhdGE6YXR0YWNobWVudC9maWxlO1wiKTtzLm9wZW4odCxcIl9ibGFua1wiKXx8KHMubG9jYXRpb24uaHJlZj10KSx0PXZvaWQgMCxpLnJlYWR5U3RhdGU9aS5ET05FLGEoKX0sZS5yZWFkQXNEYXRhVVJMKHQpLGkucmVhZHlTdGF0ZT1pLklOSVR9cnx8KHI9bCgpLmNyZWF0ZU9iamVjdFVSTCh0KSksbz9zLmxvY2F0aW9uLmhyZWY9cjpzLm9wZW4ocixcIl9ibGFua1wiKXx8KHMubG9jYXRpb24uaHJlZj1yKTtpLnJlYWR5U3RhdGU9aS5ET05FLGEoKSxnKHIpfSgpfSxlPXIucHJvdG90eXBlO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZT1lfHx0Lm5hbWV8fFwiZG93bmxvYWRcIixufHwodD1tKHQpKSxuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYih0LGUpfTooZS5hYm9ydD1mdW5jdGlvbigpe30sZS5yZWFkeVN0YXRlPWUuSU5JVD0wLGUuV1JJVElORz0xLGUuRE9ORT0yLGUuZXJyb3I9ZS5vbndyaXRlc3RhcnQ9ZS5vbnByb2dyZXNzPWUub253cml0ZT1lLm9uYWJvcnQ9ZS5vbmVycm9yPWUub253cml0ZWVuZD1udWxsLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IHIodCxlfHx0Lm5hbWV8fFwiZG93bmxvYWRcIixuKX0pfX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGZ8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvd3x8dm9pZCAwKTtmdW5jdGlvbiBBdCh4KXt2YXIgdD0wO2lmKDcxIT09eFt0KytdfHw3MyE9PXhbdCsrXXx8NzAhPT14W3QrK118fDU2IT09eFt0KytdfHw1NiE9KHhbdCsrXSsxJjI1Myl8fDk3IT09eFt0KytdKXRocm93XCJJbnZhbGlkIEdJRiA4N2EvODlhIGhlYWRlci5cIjt2YXIgTj14W3QrK118eFt0KytdPDw4LGU9eFt0KytdfHhbdCsrXTw8OCxuPXhbdCsrXSxyPW4+PjcsaT0xPDwoNyZuKSsxO3hbdCsrXTt4W3QrK107dmFyIG89bnVsbDtyJiYobz10LHQrPTMqaSk7dmFyIGE9ITAscz1bXSxsPTAsaD1udWxsLHU9MCxjPW51bGw7Zm9yKHRoaXMud2lkdGg9Tix0aGlzLmhlaWdodD1lO2EmJnQ8eC5sZW5ndGg7KXN3aXRjaCh4W3QrK10pe2Nhc2UgMzM6c3dpdGNoKHhbdCsrXSl7Y2FzZSAyNTU6aWYoMTEhPT14W3RdfHw3OD09eFt0KzFdJiY2OT09eFt0KzJdJiY4ND09eFt0KzNdJiY4Mz09eFt0KzRdJiY2Nz09eFt0KzVdJiY2NT09eFt0KzZdJiY4MD09eFt0KzddJiY2OT09eFt0KzhdJiY1MD09eFt0KzldJiY0Nj09eFt0KzEwXSYmNDg9PXhbdCsxMV0mJjM9PXhbdCsxMl0mJjE9PXhbdCsxM10mJjA9PXhbdCsxNl0pdCs9MTQsYz14W3QrK118eFt0KytdPDw4LHQrKztlbHNlIGZvcih0Kz0xMjs7KXtpZigwPT09KEE9eFt0KytdKSlicmVhazt0Kz1BfWJyZWFrO2Nhc2UgMjQ5OmlmKDQhPT14W3QrK118fDAhPT14W3QrNF0pdGhyb3dcIkludmFsaWQgZ3JhcGhpY3MgZXh0ZW5zaW9uIGJsb2NrLlwiO3ZhciBmPXhbdCsrXTtsPXhbdCsrXXx4W3QrK108PDgsaD14W3QrK10sMD09KDEmZikmJihoPW51bGwpLHU9Zj4+MiY3LHQrKzticmVhaztjYXNlIDI1NDpmb3IoOzspe2lmKDA9PT0oQT14W3QrK10pKWJyZWFrO3QrPUF9YnJlYWs7ZGVmYXVsdDp0aHJvd1wiVW5rbm93biBncmFwaGljIGNvbnRyb2wgbGFiZWw6IDB4XCIreFt0LTFdLnRvU3RyaW5nKDE2KX1icmVhaztjYXNlIDQ0OnZhciBwPXhbdCsrXXx4W3QrK108PDgsZD14W3QrK118eFt0KytdPDw4LGc9eFt0KytdfHhbdCsrXTw8OCxtPXhbdCsrXXx4W3QrK108PDgseT14W3QrK10sdj15Pj42JjEsdz1vLGI9ITE7aWYoeT4+Nyl7Yj0hMDt3PXQsdCs9MyooMTw8KDcmeSkrMSl9dmFyIEw9dDtmb3IodCsrOzspe3ZhciBBO2lmKDA9PT0oQT14W3QrK10pKWJyZWFrO3QrPUF9cy5wdXNoKHt4OnAseTpkLHdpZHRoOmcsaGVpZ2h0Om0saGFzX2xvY2FsX3BhbGV0dGU6YixwYWxldHRlX29mZnNldDp3LGRhdGFfb2Zmc2V0OkwsZGF0YV9sZW5ndGg6dC1MLHRyYW5zcGFyZW50X2luZGV4OmgsaW50ZXJsYWNlZDohIXYsZGVsYXk6bCxkaXNwb3NhbDp1fSk7YnJlYWs7Y2FzZSA1OTphPSExO2JyZWFrO2RlZmF1bHQ6dGhyb3dcIlVua25vd24gZ2lmIGJsb2NrOiAweFwiK3hbdC0xXS50b1N0cmluZygxNil9dGhpcy5udW1GcmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gcy5sZW5ndGh9LHRoaXMubG9vcENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIGN9LHRoaXMuZnJhbWVJbmZvPWZ1bmN0aW9uKHQpe2lmKHQ8MHx8dD49cy5sZW5ndGgpdGhyb3dcIkZyYW1lIGluZGV4IG91dCBvZiByYW5nZS5cIjtyZXR1cm4gc1t0XX0sdGhpcy5kZWNvZGVBbmRCbGl0RnJhbWVCR1JBPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5mcmFtZUluZm8odCkscj1uLndpZHRoKm4uaGVpZ2h0LGk9bmV3IFVpbnQ4QXJyYXkocik7U3QoeCxuLmRhdGFfb2Zmc2V0LGkscik7dmFyIG89bi5wYWxldHRlX29mZnNldCxhPW4udHJhbnNwYXJlbnRfaW5kZXg7bnVsbD09PWEmJihhPTI1Nik7dmFyIHM9bi53aWR0aCxsPU4tcyxoPXMsdT00KihuLnkqTituLngpLGM9NCooKG4ueStuLmhlaWdodCkqTituLngpLGY9dSxwPTQqbDshMD09PW4uaW50ZXJsYWNlZCYmKHArPTQqKHMrbCkqNyk7Zm9yKHZhciBkPTgsZz0wLG09aS5sZW5ndGg7ZzxtOysrZyl7dmFyIHk9aVtnXTtpZigwPT09aCYmKGg9cyxjPD0oZis9cCkmJihwPWwrNCoocytsKSooZC0xKSxmPXUrKHMrbCkqKGQ8PDEpLGQ+Pj0xKSkseT09PWEpZis9NDtlbHNle3ZhciB2PXhbbyszKnldLHc9eFtvKzMqeSsxXSxiPXhbbyszKnkrMl07ZVtmKytdPWIsZVtmKytdPXcsZVtmKytdPXYsZVtmKytdPTI1NX0tLWh9fSx0aGlzLmRlY29kZUFuZEJsaXRGcmFtZVJHQkE9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmZyYW1lSW5mbyh0KSxyPW4ud2lkdGgqbi5oZWlnaHQsaT1uZXcgVWludDhBcnJheShyKTtTdCh4LG4uZGF0YV9vZmZzZXQsaSxyKTt2YXIgbz1uLnBhbGV0dGVfb2Zmc2V0LGE9bi50cmFuc3BhcmVudF9pbmRleDtudWxsPT09YSYmKGE9MjU2KTt2YXIgcz1uLndpZHRoLGw9Ti1zLGg9cyx1PTQqKG4ueSpOK24ueCksYz00Kigobi55K24uaGVpZ2h0KSpOK24ueCksZj11LHA9NCpsOyEwPT09bi5pbnRlcmxhY2VkJiYocCs9NCoocytsKSo3KTtmb3IodmFyIGQ9OCxnPTAsbT1pLmxlbmd0aDtnPG07KytnKXt2YXIgeT1pW2ddO2lmKDA9PT1oJiYoaD1zLGM8PShmKz1wKSYmKHA9bCs0KihzK2wpKihkLTEpLGY9dSsocytsKSooZDw8MSksZD4+PTEpKSx5PT09YSlmKz00O2Vsc2V7dmFyIHY9eFtvKzMqeV0sdz14W28rMyp5KzFdLGI9eFtvKzMqeSsyXTtlW2YrK109dixlW2YrK109dyxlW2YrK109YixlW2YrK109MjU1fS0taH19fWZ1bmN0aW9uIFN0KHQsZSxuLHIpe2Zvcih2YXIgaT10W2UrK10sbz0xPDxpLGE9bysxLHM9YSsxLGw9aSsxLGg9KDE8PGwpLTEsdT0wLGM9MCxmPTAscD10W2UrK10sZD1uZXcgSW50MzJBcnJheSg0MDk2KSxnPW51bGw7Oyl7Zm9yKDt1PDE2JiYwIT09cDspY3w9dFtlKytdPDx1LHUrPTgsMT09PXA/cD10W2UrK106LS1wO2lmKHU8bClicmVhazt2YXIgbT1jJmg7aWYoYz4+PWwsdS09bCxtIT09byl7aWYobT09PWEpYnJlYWs7Zm9yKHZhciB5PW08cz9tOmcsdj0wLHc9eTtvPHc7KXc9ZFt3XT4+OCwrK3Y7dmFyIGI9dztpZihyPGYrdisoeSE9PW0/MTowKSlyZXR1cm4gdm9pZCBjb25zb2xlLmxvZyhcIldhcm5pbmcsIGdpZiBzdHJlYW0gbG9uZ2VyIHRoYW4gZXhwZWN0ZWQuXCIpO25bZisrXT1iO3ZhciB4PWYrPXY7Zm9yKHkhPT1tJiYobltmKytdPWIpLHc9eTt2LS07KXc9ZFt3XSxuWy0teF09MjU1Jncsdz4+PTg7bnVsbCE9PWcmJnM8NDA5NiYmKGRbcysrXT1nPDw4fGIsaCsxPD1zJiZsPDEyJiYoKytsLGg9aDw8MXwxKSksZz1tfWVsc2Ugcz1hKzEsaD0oMTw8KGw9aSsxKSktMSxnPW51bGx9cmV0dXJuIGYhPT1yJiZjb25zb2xlLmxvZyhcIldhcm5pbmcsIGdpZiBzdHJlYW0gc2hvcnRlciB0aGFuIGV4cGVjdGVkLlwiKSxufXRyeXtleHBvcnRzLkdpZldyaXRlcj1mdW5jdGlvbih5LHQsZSxuKXt2YXIgdj0wLHI9dm9pZCAwPT09KG49dm9pZCAwPT09bj97fTpuKS5sb29wP251bGw6bi5sb29wLHc9dm9pZCAwPT09bi5wYWxldHRlP251bGw6bi5wYWxldHRlO2lmKHQ8PTB8fGU8PTB8fDY1NTM1PHR8fDY1NTM1PGUpdGhyb3dcIldpZHRoL0hlaWdodCBpbnZhbGlkLlwiO2Z1bmN0aW9uIGIodCl7dmFyIGU9dC5sZW5ndGg7aWYoZTwyfHwyNTY8ZXx8ZSZlLTEpdGhyb3dcIkludmFsaWQgY29kZS9jb2xvciBsZW5ndGgsIG11c3QgYmUgcG93ZXIgb2YgMiBhbmQgMiAuLiAyNTYuXCI7cmV0dXJuIGV9eVt2KytdPTcxLHlbdisrXT03Myx5W3YrK109NzAseVt2KytdPTU2LHlbdisrXT01Nyx5W3YrK109OTc7dmFyIGk9MCxvPTA7aWYobnVsbCE9PXcpe2Zvcih2YXIgYT1iKHcpO2E+Pj0xOykrK2k7aWYoYT0xPDxpLC0taSx2b2lkIDAhPT1uLmJhY2tncm91bmQpe2lmKGE8PShvPW4uYmFja2dyb3VuZCkpdGhyb3dcIkJhY2tncm91bmQgaW5kZXggb3V0IG9mIHJhbmdlLlwiO2lmKDA9PT1vKXRocm93XCJCYWNrZ3JvdW5kIGluZGV4IGV4cGxpY2l0bHkgcGFzc2VkIGFzIDAuXCJ9fWlmKHlbdisrXT0yNTUmdCx5W3YrK109dD4+OCYyNTUseVt2KytdPTI1NSZlLHlbdisrXT1lPj44JjI1NSx5W3YrK109KG51bGwhPT13PzEyODowKXxpLHlbdisrXT1vLHlbdisrXT0wLG51bGwhPT13KWZvcih2YXIgcz0wLGw9dy5sZW5ndGg7czxsOysrcyl7dmFyIGg9d1tzXTt5W3YrK109aD4+MTYmMjU1LHlbdisrXT1oPj44JjI1NSx5W3YrK109MjU1Jmh9aWYobnVsbCE9PXIpe2lmKHI8MHx8NjU1MzU8cil0aHJvd1wiTG9vcCBjb3VudCBpbnZhbGlkLlwiO3lbdisrXT0zMyx5W3YrK109MjU1LHlbdisrXT0xMSx5W3YrK109NzgseVt2KytdPTY5LHlbdisrXT04NCx5W3YrK109ODMseVt2KytdPTY3LHlbdisrXT02NSx5W3YrK109ODAseVt2KytdPTY5LHlbdisrXT01MCx5W3YrK109NDYseVt2KytdPTQ4LHlbdisrXT0zLHlbdisrXT0xLHlbdisrXT0yNTUmcix5W3YrK109cj4+OCYyNTUseVt2KytdPTB9dmFyIHg9ITE7dGhpcy5hZGRGcmFtZT1mdW5jdGlvbih0LGUsbixyLGksbyl7aWYoITA9PT14JiYoLS12LHg9ITEpLG89dm9pZCAwPT09bz97fTpvLHQ8MHx8ZTwwfHw2NTUzNTx0fHw2NTUzNTxlKXRocm93XCJ4L3kgaW52YWxpZC5cIjtpZihuPD0wfHxyPD0wfHw2NTUzNTxufHw2NTUzNTxyKXRocm93XCJXaWR0aC9IZWlnaHQgaW52YWxpZC5cIjtpZihpLmxlbmd0aDxuKnIpdGhyb3dcIk5vdCBlbm91Z2ggcGl4ZWxzIGZvciB0aGUgZnJhbWUgc2l6ZS5cIjt2YXIgYT0hMCxzPW8ucGFsZXR0ZTtpZihudWxsPT1zJiYoYT0hMSxzPXcpLG51bGw9PXMpdGhyb3dcIk11c3Qgc3VwcGx5IGVpdGhlciBhIGxvY2FsIG9yIGdsb2JhbCBwYWxldHRlLlwiO2Zvcih2YXIgbD1iKHMpLGg9MDtsPj49MTspKytoO2w9MTw8aDt2YXIgdT12b2lkIDA9PT1vLmRlbGF5PzA6by5kZWxheSxjPXZvaWQgMD09PW8uZGlzcG9zYWw/MDpvLmRpc3Bvc2FsO2lmKGM8MHx8MzxjKXRocm93XCJEaXNwb3NhbCBvdXQgb2YgcmFuZ2UuXCI7dmFyIGY9ITEscD0wO2lmKHZvaWQgMCE9PW8udHJhbnNwYXJlbnQmJm51bGwhPT1vLnRyYW5zcGFyZW50JiYoZj0hMCwocD1vLnRyYW5zcGFyZW50KTwwfHxsPD1wKSl0aHJvd1wiVHJhbnNwYXJlbnQgY29sb3IgaW5kZXguXCI7aWYoKDAhPT1jfHxmfHwwIT09dSkmJih5W3YrK109MzMseVt2KytdPTI0OSx5W3YrK109NCx5W3YrK109Yzw8MnwoITA9PT1mPzE6MCkseVt2KytdPTI1NSZ1LHlbdisrXT11Pj44JjI1NSx5W3YrK109cCx5W3YrK109MCkseVt2KytdPTQ0LHlbdisrXT0yNTUmdCx5W3YrK109dD4+OCYyNTUseVt2KytdPTI1NSZlLHlbdisrXT1lPj44JjI1NSx5W3YrK109MjU1Jm4seVt2KytdPW4+PjgmMjU1LHlbdisrXT0yNTUmcix5W3YrK109cj4+OCYyNTUseVt2KytdPSEwPT09YT8xMjh8aC0xOjAsITA9PT1hKWZvcih2YXIgZD0wLGc9cy5sZW5ndGg7ZDxnOysrZCl7dmFyIG09c1tkXTt5W3YrK109bT4+MTYmMjU1LHlbdisrXT1tPj44JjI1NSx5W3YrK109MjU1Jm19dj1mdW5jdGlvbihlLG4sdCxyKXtlW24rK109dDt2YXIgaT1uKyssbz0xPDx0LGE9by0xLHM9bysxLGw9cysxLGg9dCsxLHU9MCxjPTA7ZnVuY3Rpb24gZih0KXtmb3IoO3Q8PXU7KWVbbisrXT0yNTUmYyxjPj49OCx1LT04LG49PT1pKzI1NiYmKGVbaV09MjU1LGk9bisrKX1mdW5jdGlvbiBwKHQpe2N8PXQ8PHUsdSs9aCxmKDgpfXZhciBkPXJbMF0mYSxnPXt9O3Aobyk7Zm9yKHZhciBtPTEseT1yLmxlbmd0aDttPHk7KyttKXt2YXIgdj1yW21dJmEsdz1kPDw4fHYsYj1nW3ddO2lmKHZvaWQgMD09PWIpe2ZvcihjfD1kPDx1LHUrPWg7ODw9dTspZVtuKytdPTI1NSZjLGM+Pj04LHUtPTgsbj09PWkrMjU2JiYoZVtpXT0yNTUsaT1uKyspOzQwOTY9PT1sPyhwKG8pLGw9cysxLGg9dCsxLGc9e30pOigxPDxoPD1sJiYrK2gsZ1t3XT1sKyspLGQ9dn1lbHNlIGQ9Yn1yZXR1cm4gcChkKSxwKHMpLGYoMSksaSsxPT09bj9lW2ldPTA6KGVbaV09bi1pLTEsZVtuKytdPTApLG59KHksdixoPDI/MjpoLGkpfSx0aGlzLmVuZD1mdW5jdGlvbigpe3JldHVybiExPT09eCYmKHlbdisrXT01OSx4PSEwKSx2fX0sZXhwb3J0cy5HaWZSZWFkZXI9QXR9Y2F0Y2godCl7fVxuLypcbiAgICBDb3B5cmlnaHQgKGMpIDIwMDgsIEFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkXG4gICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cblxuICAgIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBcbiAgICBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gICAgbWV0OlxuXG4gICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIFxuICAgICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAgICBcbiAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIFxuICAgICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAgICBcbiAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgQWRvYmUgU3lzdGVtcyBJbmNvcnBvcmF0ZWQgbm9yIHRoZSBuYW1lcyBvZiBpdHMgXG4gICAgICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSBcbiAgICAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG5cbiAgICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVNcbiAgICBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLFxuICAgIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVJcbiAgICBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIE9XTkVSIE9SIFxuICAgIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLFxuICAgIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTyxcbiAgICBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAgICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gICAgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAgICBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAgICBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAgKi9cbmZ1bmN0aW9uIF90KHQpe3ZhciBOLEwsQSxTLGUsYz1NYXRoLmZsb29yLF89bmV3IEFycmF5KDY0KSxGPW5ldyBBcnJheSg2NCksUD1uZXcgQXJyYXkoNjQpLGs9bmV3IEFycmF5KDY0KSx5PW5ldyBBcnJheSg2NTUzNSksdj1uZXcgQXJyYXkoNjU1MzUpLFo9bmV3IEFycmF5KDY0KSx3PW5ldyBBcnJheSg2NCksST1bXSxDPTAsQj03LGo9bmV3IEFycmF5KDY0KSxFPW5ldyBBcnJheSg2NCksTT1uZXcgQXJyYXkoNjQpLG49bmV3IEFycmF5KDI1NiksTz1uZXcgQXJyYXkoMjA0OCksYj1bMCwxLDUsNiwxNCwxNSwyNywyOCwyLDQsNywxMywxNiwyNiwyOSw0MiwzLDgsMTIsMTcsMjUsMzAsNDEsNDMsOSwxMSwxOCwyNCwzMSw0MCw0NCw1MywxMCwxOSwyMywzMiwzOSw0NSw1Miw1NCwyMCwyMiwzMywzOCw0Niw1MSw1NSw2MCwyMSwzNCwzNyw0Nyw1MCw1Niw1OSw2MSwzNSwzNiw0OCw0OSw1Nyw1OCw2Miw2M10scT1bMCwwLDEsNSwxLDEsMSwxLDEsMSwwLDAsMCwwLDAsMCwwXSxUPVswLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExXSxSPVswLDAsMiwxLDMsMywyLDQsMyw1LDUsNCw0LDAsMCwxLDEyNV0sRD1bMSwyLDMsMCw0LDE3LDUsMTgsMzMsNDksNjUsNiwxOSw4MSw5Nyw3LDM0LDExMywyMCw1MCwxMjksMTQ1LDE2MSw4LDM1LDY2LDE3NywxOTMsMjEsODIsMjA5LDI0MCwzNiw1MSw5OCwxMTQsMTMwLDksMTAsMjIsMjMsMjQsMjUsMjYsMzcsMzgsMzksNDAsNDEsNDIsNTIsNTMsNTQsNTUsNTYsNTcsNTgsNjcsNjgsNjksNzAsNzEsNzIsNzMsNzQsODMsODQsODUsODYsODcsODgsODksOTAsOTksMTAwLDEwMSwxMDIsMTAzLDEwNCwxMDUsMTA2LDExNSwxMTYsMTE3LDExOCwxMTksMTIwLDEyMSwxMjIsMTMxLDEzMiwxMzMsMTM0LDEzNSwxMzYsMTM3LDEzOCwxNDYsMTQ3LDE0OCwxNDksMTUwLDE1MSwxNTIsMTUzLDE1NCwxNjIsMTYzLDE2NCwxNjUsMTY2LDE2NywxNjgsMTY5LDE3MCwxNzgsMTc5LDE4MCwxODEsMTgyLDE4MywxODQsMTg1LDE4NiwxOTQsMTk1LDE5NiwxOTcsMTk4LDE5OSwyMDAsMjAxLDIwMiwyMTAsMjExLDIxMiwyMTMsMjE0LDIxNSwyMTYsMjE3LDIxOCwyMjUsMjI2LDIyNywyMjgsMjI5LDIzMCwyMzEsMjMyLDIzMywyMzQsMjQxLDI0MiwyNDMsMjQ0LDI0NSwyNDYsMjQ3LDI0OCwyNDksMjUwXSxVPVswLDAsMywxLDEsMSwxLDEsMSwxLDEsMSwwLDAsMCwwLDBdLHo9WzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTFdLEg9WzAsMCwyLDEsMiw0LDQsMyw0LDcsNSw0LDQsMCwxLDIsMTE5XSxXPVswLDEsMiwzLDE3LDQsNSwzMyw0OSw2LDE4LDY1LDgxLDcsOTcsMTEzLDE5LDM0LDUwLDEyOSw4LDIwLDY2LDE0NSwxNjEsMTc3LDE5Myw5LDM1LDUxLDgyLDI0MCwyMSw5OCwxMTQsMjA5LDEwLDIyLDM2LDUyLDIyNSwzNywyNDEsMjMsMjQsMjUsMjYsMzgsMzksNDAsNDEsNDIsNTMsNTQsNTUsNTYsNTcsNTgsNjcsNjgsNjksNzAsNzEsNzIsNzMsNzQsODMsODQsODUsODYsODcsODgsODksOTAsOTksMTAwLDEwMSwxMDIsMTAzLDEwNCwxMDUsMTA2LDExNSwxMTYsMTE3LDExOCwxMTksMTIwLDEyMSwxMjIsMTMwLDEzMSwxMzIsMTMzLDEzNCwxMzUsMTM2LDEzNywxMzgsMTQ2LDE0NywxNDgsMTQ5LDE1MCwxNTEsMTUyLDE1MywxNTQsMTYyLDE2MywxNjQsMTY1LDE2NiwxNjcsMTY4LDE2OSwxNzAsMTc4LDE3OSwxODAsMTgxLDE4MiwxODMsMTg0LDE4NSwxODYsMTk0LDE5NSwxOTYsMTk3LDE5OCwxOTksMjAwLDIwMSwyMDIsMjEwLDIxMSwyMTIsMjEzLDIxNCwyMTUsMjE2LDIxNywyMTgsMjI2LDIyNywyMjgsMjI5LDIzMCwyMzEsMjMyLDIzMywyMzQsMjQyLDI0MywyNDQsMjQ1LDI0NiwyNDcsMjQ4LDI0OSwyNTBdO2Z1bmN0aW9uIHIodCxlKXtmb3IodmFyIG49MCxyPTAsaT1uZXcgQXJyYXksbz0xO288PTE2O28rKyl7Zm9yKHZhciBhPTE7YTw9dFtvXTthKyspaVtlW3JdXT1bXSxpW2Vbcl1dWzBdPW4saVtlW3JdXVsxXT1vLHIrKyxuKys7bio9Mn1yZXR1cm4gaX1mdW5jdGlvbiBWKHQpe2Zvcih2YXIgZT10WzBdLG49dFsxXS0xOzA8PW47KWUmMTw8biYmKEN8PTE8PEIpLG4tLSwtLUI8MCYmKDI1NT09Qz8oRygyNTUpLEcoMCkpOkcoQyksQj03LEM9MCl9ZnVuY3Rpb24gRyh0KXtJLnB1c2godCl9ZnVuY3Rpb24gWSh0KXtHKHQ+PjgmMjU1KSxHKDI1NSZ0KX1mdW5jdGlvbiBKKHQsZSxuLHIsaSl7Zm9yKHZhciBvLGE9aVswXSxzPWlbMjQwXSxsPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLG8sYSxzLGwsaCx1LGMsZj0wO2Zvcih1PTA7dTw4OysrdSl7bj10W2ZdLHI9dFtmKzFdLGk9dFtmKzJdLG89dFtmKzNdLGE9dFtmKzRdLHM9dFtmKzVdLGw9dFtmKzZdO3ZhciBwPW4rKGg9dFtmKzddKSxkPW4taCxnPXIrbCxtPXItbCx5PWkrcyx2PWktcyx3PW8rYSxiPW8tYSx4PXArdyxOPXAtdyxMPWcreSxBPWcteTt0W2ZdPXgrTCx0W2YrNF09eC1MO3ZhciBTPS43MDcxMDY3ODEqKEErTik7dFtmKzJdPU4rUyx0W2YrNl09Ti1TO3ZhciBfPS4zODI2ODM0MzMqKCh4PWIrdiktKEE9bStkKSksRj0uNTQxMTk2MSp4K18sUD0xLjMwNjU2Mjk2NSpBK18saz0uNzA3MTA2NzgxKihMPXYrbSksST1kK2ssQz1kLWs7dFtmKzVdPUMrRix0W2YrM109Qy1GLHRbZisxXT1JK1AsdFtmKzddPUktUCxmKz04fWZvcih1PWY9MDt1PDg7Kyt1KXtuPXRbZl0scj10W2YrOF0saT10W2YrMTZdLG89dFtmKzI0XSxhPXRbZiszMl0scz10W2YrNDBdLGw9dFtmKzQ4XTt2YXIgQj1uKyhoPXRbZis1Nl0pLGo9bi1oLEU9citsLE09ci1sLE89aStzLHE9aS1zLFQ9bythLFI9by1hLEQ9QitULFU9Qi1ULHo9RStPLEg9RS1PO3RbZl09RCt6LHRbZiszMl09RC16O3ZhciBXPS43MDcxMDY3ODEqKEgrVSk7dFtmKzE2XT1VK1csdFtmKzQ4XT1VLVc7dmFyIFY9LjM4MjY4MzQzMyooKEQ9UitxKS0oSD1NK2opKSxHPS41NDExOTYxKkQrVixZPTEuMzA2NTYyOTY1KkgrVixKPS43MDcxMDY3ODEqKHo9cStNKSxYPWorSixLPWotSjt0W2YrNDBdPUsrRyx0W2YrMjRdPUstRyx0W2YrOF09WCtZLHRbZis1Nl09WC1ZLGYrK31mb3IodT0wO3U8NjQ7Kyt1KWM9dFt1XSplW3VdLFpbdV09MDxjP2MrLjV8MDpjLS41fDA7cmV0dXJuIFp9KHQsZSksaD0wO2g8NjQ7KytoKXdbYltoXV09bFtoXTt2YXIgdT13WzBdLW47bj13WzBdLDA9PXU/VihyWzBdKTooVihyW3Zbbz0zMjc2Nyt1XV0pLFYoeVtvXSkpO2Zvcih2YXIgYz02MzswPGMmJjA9PXdbY107Yy0tKTtpZigwPT1jKXJldHVybiBWKGEpLG47Zm9yKHZhciBmLHA9MTtwPD1jOyl7Zm9yKHZhciBkPXA7MD09d1twXSYmcDw9YzsrK3ApO3ZhciBnPXAtZDtpZigxNjw9Zyl7Zj1nPj40O2Zvcih2YXIgbT0xO208PWY7KyttKVYocyk7ZyY9MTV9bz0zMjc2Nyt3W3BdLFYoaVsoZzw8NCkrdltvXV0pLFYoeVtvXSkscCsrfXJldHVybiA2MyE9YyYmVihhKSxufWZ1bmN0aW9uIFgodCl7aWYodDw9MCYmKHQ9MSksMTAwPHQmJih0PTEwMCksZSE9dCl7KGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bMTYsMTEsMTAsMTYsMjQsNDAsNTEsNjEsMTIsMTIsMTQsMTksMjYsNTgsNjAsNTUsMTQsMTMsMTYsMjQsNDAsNTcsNjksNTYsMTQsMTcsMjIsMjksNTEsODcsODAsNjIsMTgsMjIsMzcsNTYsNjgsMTA5LDEwMyw3NywyNCwzNSw1NSw2NCw4MSwxMDQsMTEzLDkyLDQ5LDY0LDc4LDg3LDEwMywxMjEsMTIwLDEwMSw3Miw5Miw5NSw5OCwxMTIsMTAwLDEwMyw5OV0sbj0wO248NjQ7bisrKXt2YXIgcj1jKChlW25dKnQrNTApLzEwMCk7cjwxP3I9MToyNTU8ciYmKHI9MjU1KSxfW2Jbbl1dPXJ9Zm9yKHZhciBpPVsxNywxOCwyNCw0Nyw5OSw5OSw5OSw5OSwxOCwyMSwyNiw2Niw5OSw5OSw5OSw5OSwyNCwyNiw1Niw5OSw5OSw5OSw5OSw5OSw0Nyw2Niw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OSw5OV0sbz0wO288NjQ7bysrKXt2YXIgYT1jKChpW29dKnQrNTApLzEwMCk7YTwxP2E9MToyNTU8YSYmKGE9MjU1KSxGW2Jbb11dPWF9Zm9yKHZhciBzPVsxLDEuMzg3MDM5ODQ1LDEuMzA2NTYyOTY1LDEuMTc1ODc1NjAyLDEsLjc4NTY5NDk1OCwuNTQxMTk2MSwuMjc1ODk5Mzc5XSxsPTAsaD0wO2g8ODtoKyspZm9yKHZhciB1PTA7dTw4O3UrKylQW2xdPTEvKF9bYltsXV0qc1toXSpzW3VdKjgpLGtbbF09MS8oRltiW2xdXSpzW2hdKnNbdV0qOCksbCsrfSkodDw1MD9NYXRoLmZsb29yKDVlMy90KTpNYXRoLmZsb29yKDIwMC0yKnQpKSxlPXR9fXRoaXMuZW5jb2RlPWZ1bmN0aW9uKHQsZSl7dmFyIG4scjsobmV3IERhdGUpLmdldFRpbWUoKTtlJiZYKGUpLEk9bmV3IEFycmF5LEM9MCxCPTcsWSg2NTQ5NiksWSg2NTUwNCksWSgxNiksRyg3NCksRyg3MCksRyg3MyksRyg3MCksRygwKSxHKDEpLEcoMSksRygwKSxZKDEpLFkoMSksRygwKSxHKDApLGZ1bmN0aW9uKCl7WSg2NTQ5OSksWSgxMzIpLEcoMCk7Zm9yKHZhciB0PTA7dDw2NDt0KyspRyhfW3RdKTtHKDEpO2Zvcih2YXIgZT0wO2U8NjQ7ZSsrKUcoRltlXSl9KCksbj10LndpZHRoLHI9dC5oZWlnaHQsWSg2NTQ3MiksWSgxNyksRyg4KSxZKHIpLFkobiksRygzKSxHKDEpLEcoMTcpLEcoMCksRygyKSxHKDE3KSxHKDEpLEcoMyksRygxNyksRygxKSxmdW5jdGlvbigpe1koNjU0NzYpLFkoNDE4KSxHKDApO2Zvcih2YXIgdD0wO3Q8MTY7dCsrKUcocVt0KzFdKTtmb3IodmFyIGU9MDtlPD0xMTtlKyspRyhUW2VdKTtHKDE2KTtmb3IodmFyIG49MDtuPDE2O24rKylHKFJbbisxXSk7Zm9yKHZhciByPTA7cjw9MTYxO3IrKylHKERbcl0pO0coMSk7Zm9yKHZhciBpPTA7aTwxNjtpKyspRyhVW2krMV0pO2Zvcih2YXIgbz0wO288PTExO28rKylHKHpbb10pO0coMTcpO2Zvcih2YXIgYT0wO2E8MTY7YSsrKUcoSFthKzFdKTtmb3IodmFyIHM9MDtzPD0xNjE7cysrKUcoV1tzXSl9KCksWSg2NTQ5OCksWSgxMiksRygzKSxHKDEpLEcoMCksRygyKSxHKDE3KSxHKDMpLEcoMTcpLEcoMCksRyg2MyksRygwKTt2YXIgaT0wLG89MCxhPTA7Qz0wLEI9Nyx0aGlzLmVuY29kZS5kaXNwbGF5TmFtZT1cIl9lbmNvZGVfXCI7Zm9yKHZhciBzLGwsaCx1LGMsZixwLGQsZyxtPXQuZGF0YSx5PXQud2lkdGgsdj10LmhlaWdodCx3PTQqeSxiPTA7Yjx2Oyl7Zm9yKHM9MDtzPHc7KXtmb3IoZj1jPXcqYitzLHA9LTEsZz1kPTA7Zzw2NDtnKyspZj1jKyhkPWc+PjMpKncrKHA9NCooNyZnKSksdjw9YitkJiYoZi09dyooYisxK2QtdikpLHc8PXMrcCYmKGYtPXMrcC13KzQpLGw9bVtmKytdLGg9bVtmKytdLHU9bVtmKytdLGpbZ109KE9bbF0rT1toKzI1Nj4+MF0rT1t1KzUxMj4+MF0+PjE2KS0xMjgsRVtnXT0oT1tsKzc2OD4+MF0rT1toKzEwMjQ+PjBdK09bdSsxMjgwPj4wXT4+MTYpLTEyOCxNW2ddPShPW2wrMTI4MD4+MF0rT1toKzE1MzY+PjBdK09bdSsxNzkyPj4wXT4+MTYpLTEyODtpPUooaixQLGksTixBKSxvPUooRSxrLG8sTCxTKSxhPUooTSxrLGEsTCxTKSxzKz0zMn1iKz04fWlmKDA8PUIpe3ZhciB4PVtdO3hbMV09QisxLHhbMF09KDE8PEIrMSktMSxWKHgpfXJldHVybiBZKDY1NDk3KSxuZXcgVWludDhBcnJheShJKX0sZnVuY3Rpb24oKXsobmV3IERhdGUpLmdldFRpbWUoKTt0fHwodD01MCksZnVuY3Rpb24oKXtmb3IodmFyIHQ9U3RyaW5nLmZyb21DaGFyQ29kZSxlPTA7ZTwyNTY7ZSsrKW5bZV09dChlKX0oKSxOPXIocSxUKSxMPXIoVSx6KSxBPXIoUixEKSxTPXIoSCxXKSxmdW5jdGlvbigpe2Zvcih2YXIgdD0xLGU9MixuPTE7bjw9MTU7bisrKXtmb3IodmFyIHI9dDtyPGU7cisrKXZbMzI3Njcrcl09bix5WzMyNzY3K3JdPVtdLHlbMzI3Njcrcl1bMV09bix5WzMyNzY3K3JdWzBdPXI7Zm9yKHZhciBpPS0oZS0xKTtpPD0tdDtpKyspdlszMjc2NytpXT1uLHlbMzI3NjcraV09W10seVszMjc2NytpXVsxXT1uLHlbMzI3NjcraV1bMF09ZS0xK2k7dDw8PTEsZTw8PTF9fSgpLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDwyNTY7dCsrKU9bdF09MTk1OTUqdCxPW3QrMjU2Pj4wXT0zODQ3MCp0LE9bdCs1MTI+PjBdPTc0NzEqdCszMjc2OCxPW3QrNzY4Pj4wXT0tMTEwNTkqdCxPW3QrMTAyND4+MF09LTIxNzA5KnQsT1t0KzEyODA+PjBdPTMyNzY4KnQrODQyMTM3NSxPW3QrMTUzNj4+MF09LTI3NDM5KnQsT1t0KzE3OTI+PjBdPS01MzI5KnR9KCksWCh0KSwobmV3IERhdGUpLmdldFRpbWUoKX0oKX1mdW5jdGlvbiBGdCh0LGUpe2lmKHRoaXMucG9zPTAsdGhpcy5idWZmZXI9dCx0aGlzLmRhdGF2PW5ldyBEYXRhVmlldyh0LmJ1ZmZlciksdGhpcy5pc193aXRoX2FscGhhPSEhZSx0aGlzLmJvdHRvbV91cD0hMCx0aGlzLmZsYWc9U3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmJ1ZmZlclswXSkrU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmJ1ZmZlclsxXSksdGhpcy5wb3MrPTIsLTE9PT1bXCJCTVwiLFwiQkFcIixcIkNJXCIsXCJDUFwiLFwiSUNcIixcIlBUXCJdLmluZGV4T2YodGhpcy5mbGFnKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEJNUCBGaWxlXCIpO3RoaXMucGFyc2VIZWFkZXIoKSx0aGlzLnBhcnNlQkdSKCl9d2luZG93LnRtcD1BdCxsdC5BUEkuYWRsZXIzMmNzPShkdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheUJ1ZmZlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgVWludDhBcnJheSxndD1udWxsLG10PWZ1bmN0aW9uKCl7aWYoIWR0KXJldHVybiBmdW5jdGlvbigpe3JldHVybiExfTt0cnl7dmFyIHQ9e307XCJmdW5jdGlvblwiPT10eXBlb2YgdC5CdWZmZXImJihndD10LkJ1ZmZlcil9Y2F0Y2godCl7fXJldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxudWxsIT09Z3QmJnQgaW5zdGFuY2VvZiBndH19KCkseXQ9bnVsbCE9PWd0P2Z1bmN0aW9uKHQpe3JldHVybiBuZXcgZ3QodCxcInV0ZjhcIikudG9TdHJpbmcoXCJiaW5hcnlcIil9OmZ1bmN0aW9uKHQpe3JldHVybiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodCkpfSx2dD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj02NTUzNSZ0LHI9dD4+PjE2LGk9MCxvPWUubGVuZ3RoO2k8bztpKyspbj0obisoMjU1JmUuY2hhckNvZGVBdChpKSkpJTY1NTIxLHI9KHIrbiklNjU1MjE7cmV0dXJuKHI8PDE2fG4pPj4+MH0sd3Q9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49NjU1MzUmdCxyPXQ+Pj4xNixpPTAsbz1lLmxlbmd0aDtpPG87aSsrKW49KG4rZVtpXSklNjU1MjEscj0ocituKSU2NTUyMTtyZXR1cm4ocjw8MTZ8bik+Pj4wfSx4dD0oYnQ9e30pLkFkbGVyMzI9KCgocHQ9KGZ0PWZ1bmN0aW9uKHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGZ0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29uc3RydWN0b3IgY2Fubm90IGNhbGxlZCBiZSBhcyBhIGZ1bmN0aW9uLlwiKTtpZighaXNGaW5pdGUodD1udWxsPT10PzE6K3QpKXRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFyZ3VtZW50cyBuZWVkcyB0byBiZSBhIGZpbml0ZSBudW1iZXIuXCIpO3RoaXMuY2hlY2tzdW09dD4+PjB9KS5wcm90b3R5cGU9e30pLmNvbnN0cnVjdG9yPWZ0KS5mcm9tPSgoaHQ9ZnVuY3Rpb24odCl7aWYoISh0aGlzIGluc3RhbmNlb2YgZnQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDb25zdHJ1Y3RvciBjYW5ub3QgY2FsbGVkIGJlIGFzIGEgZnVuY3Rpb24uXCIpO2lmKG51bGw9PXQpdGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgYXJndW1lbnQgbmVlZHMgdG8gYmUgYSBzdHJpbmcuXCIpO3RoaXMuY2hlY2tzdW09dnQoMSx0LnRvU3RyaW5nKCkpfSkucHJvdG90eXBlPXB0LGh0KSxmdC5mcm9tVXRmOD0oKHV0PWZ1bmN0aW9uKHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGZ0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29uc3RydWN0b3IgY2Fubm90IGNhbGxlZCBiZSBhcyBhIGZ1bmN0aW9uLlwiKTtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG5lZWRzIHRvIGJlIGEgc3RyaW5nLlwiKTt2YXIgZT15dCh0LnRvU3RyaW5nKCkpO3RoaXMuY2hlY2tzdW09dnQoMSxlKX0pLnByb3RvdHlwZT1wdCx1dCksZHQmJihmdC5mcm9tQnVmZmVyPSgoY3Q9ZnVuY3Rpb24odCl7aWYoISh0aGlzIGluc3RhbmNlb2YgZnQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDb25zdHJ1Y3RvciBjYW5ub3QgY2FsbGVkIGJlIGFzIGEgZnVuY3Rpb24uXCIpO2lmKCFtdCh0KSl0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBhcmd1bWVudCBuZWVkcyB0byBiZSBBcnJheUJ1ZmZlci5cIik7dmFyIGU9bmV3IFVpbnQ4QXJyYXkodCk7cmV0dXJuIHRoaXMuY2hlY2tzdW09d3QoMSxlKX0pLnByb3RvdHlwZT1wdCxjdCkpLHB0LnVwZGF0ZT1mdW5jdGlvbih0KXtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG5lZWRzIHRvIGJlIGEgc3RyaW5nLlwiKTtyZXR1cm4gdD10LnRvU3RyaW5nKCksdGhpcy5jaGVja3N1bT12dCh0aGlzLmNoZWNrc3VtLHQpfSxwdC51cGRhdGVVdGY4PWZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpdGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgYXJndW1lbnQgbmVlZHMgdG8gYmUgYSBzdHJpbmcuXCIpO3ZhciBlPXl0KHQudG9TdHJpbmcoKSk7cmV0dXJuIHRoaXMuY2hlY2tzdW09dnQodGhpcy5jaGVja3N1bSxlKX0sZHQmJihwdC51cGRhdGVCdWZmZXI9ZnVuY3Rpb24odCl7aWYoIW10KHQpKXRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG5lZWRzIHRvIGJlIEFycmF5QnVmZmVyLlwiKTt2YXIgZT1uZXcgVWludDhBcnJheSh0KTtyZXR1cm4gdGhpcy5jaGVja3N1bT13dCh0aGlzLmNoZWNrc3VtLGUpfSkscHQuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHh0KHRoaXMuY2hlY2tzdW0pfSxmdCksYnQuZnJvbT1mdW5jdGlvbih0KXtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG5lZWRzIHRvIGJlIGEgc3RyaW5nLlwiKTtyZXR1cm4gdnQoMSx0LnRvU3RyaW5nKCkpfSxidC5mcm9tVXRmOD1mdW5jdGlvbih0KXtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG5lZWRzIHRvIGJlIGEgc3RyaW5nLlwiKTt2YXIgZT15dCh0LnRvU3RyaW5nKCkpO3JldHVybiB2dCgxLGUpfSxkdCYmKGJ0LmZyb21CdWZmZXI9ZnVuY3Rpb24odCl7aWYoIW10KHQpKXRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG5lZWQgdG8gYmUgQXJyYXlCdWZmZXIuXCIpO3ZhciBlPW5ldyBVaW50OEFycmF5KHQpO3JldHVybiB3dCgxLGUpfSksYnQpLGZ1bmN0aW9uKHQpe3QuX19iaWRpRW5naW5lX189dC5wcm90b3R5cGUuX19iaWRpRW5naW5lX189ZnVuY3Rpb24odCl7dmFyIGQsZyxjLGYsaSxvLGEscz1lLG09W1swLDMsMCwxLDAsMCwwXSxbMCwzLDAsMSwyLDIsMF0sWzAsMywwLDE3LDIsMCwxXSxbMCwzLDUsNSw0LDEsMF0sWzAsMywyMSwyMSw0LDAsMV0sWzAsMyw1LDUsNCwyLDBdXSx5PVtbMiwwLDEsMSwwLDEsMF0sWzIsMCwxLDEsMCwyLDBdLFsyLDAsMiwxLDMsMiwwXSxbMiwwLDIsMzMsMywxLDFdXSx2PXtMOjAsUjoxLEVOOjIsQU46MyxOOjQsQjo1LFM6Nn0sbD17MDowLDU6MSw2OjIsNzozLDMyOjQsMjUxOjUsMjU0OjYsMjU1Ojd9LGg9W1wiKFwiLFwiKVwiLFwiKFwiLFwiPFwiLFwiPlwiLFwiPFwiLFwiW1wiLFwiXVwiLFwiW1wiLFwie1wiLFwifVwiLFwie1wiLFwiwqtcIixcIsK7XCIsXCLCq1wiLFwi4oC5XCIsXCLigLpcIixcIuKAuVwiLFwi4oGFXCIsXCLigYZcIixcIuKBhVwiLFwi4oG9XCIsXCLigb5cIixcIuKBvVwiLFwi4oKNXCIsXCLigo5cIixcIuKCjVwiLFwi4omkXCIsXCLiiaVcIixcIuKJpFwiLFwi4oypXCIsXCLijKpcIixcIuKMqVwiLFwi77mZXCIsXCLvuZpcIixcIu+5mVwiLFwi77mbXCIsXCLvuZxcIixcIu+5m1wiLFwi77mdXCIsXCLvuZ5cIixcIu+5nVwiLFwi77mkXCIsXCLvuaVcIixcIu+5pFwiXSx1PW5ldyBSZWdFeHAoL14oWzEtNHw5XXwxWzAtOV18MlswLTldfDNbMDE2OF18NFswNDU4OV18NVswMTJdfDdbNzhdfDE1OXwxNlswLTldfDE3WzAtMl18MjFbNTY5XXwyMlswMzQ4OV18MjUwKSQvKSx3PSExLGI9MDt0aGlzLl9fYmlkaUVuZ2luZV9fPXt9O3ZhciB4PWZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hhckNvZGVBdCgpLG49ZT4+OCxyPWxbbl07cmV0dXJuIHZvaWQgMCE9PXI/c1syNTYqcisoMjU1JmUpXToyNTI9PT1ufHwyNTM9PT1uP1wiQUxcIjp1LnRlc3Qobik/XCJMXCI6OD09PW4/XCJSXCI6XCJOXCJ9LHA9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49MDtuPHQubGVuZ3RoO24rKyl7aWYoXCJMXCI9PT0oZT14KHQuY2hhckF0KG4pKSkpcmV0dXJuITE7aWYoXCJSXCI9PT1lKXJldHVybiEwfXJldHVybiExfSxOPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG8sYSxzLGw9ZVtyXTtzd2l0Y2gobCl7Y2FzZVwiTFwiOmNhc2VcIlJcIjp3PSExO2JyZWFrO2Nhc2VcIk5cIjpjYXNlXCJBTlwiOmJyZWFrO2Nhc2VcIkVOXCI6dyYmKGw9XCJBTlwiKTticmVhaztjYXNlXCJBTFwiOnc9ITAsbD1cIlJcIjticmVhaztjYXNlXCJXU1wiOmw9XCJOXCI7YnJlYWs7Y2FzZVwiQ1NcIjpyPDF8fHIrMT49ZS5sZW5ndGh8fFwiRU5cIiE9PShpPW5bci0xXSkmJlwiQU5cIiE9PWl8fFwiRU5cIiE9PShvPWVbcisxXSkmJlwiQU5cIiE9PW8/bD1cIk5cIjp3JiYobz1cIkFOXCIpLGw9bz09PWk/bzpcIk5cIjticmVhaztjYXNlXCJFU1wiOmw9XCJFTlwiPT09KGk9MDxyP25bci0xXTpcIkJcIikmJnIrMTxlLmxlbmd0aCYmXCJFTlwiPT09ZVtyKzFdP1wiRU5cIjpcIk5cIjticmVhaztjYXNlXCJFVFwiOmlmKDA8ciYmXCJFTlwiPT09bltyLTFdKXtsPVwiRU5cIjticmVha31pZih3KXtsPVwiTlwiO2JyZWFrfWZvcihhPXIrMSxzPWUubGVuZ3RoO2E8cyYmXCJFVFwiPT09ZVthXTspYSsrO2w9YTxzJiZcIkVOXCI9PT1lW2FdP1wiRU5cIjpcIk5cIjticmVhaztjYXNlXCJOU01cIjppZihjJiYhZil7Zm9yKHM9ZS5sZW5ndGgsYT1yKzE7YTxzJiZcIk5TTVwiPT09ZVthXTspYSsrO2lmKGE8cyl7dmFyIGg9dFtyXSx1PTE0MjU8PWgmJmg8PTIzMDN8fDY0Mjg2PT09aDtpZihpPWVbYV0sdSYmKFwiUlwiPT09aXx8XCJBTFwiPT09aSkpe2w9XCJSXCI7YnJlYWt9fX1sPXI8MXx8XCJCXCI9PT0oaT1lW3ItMV0pP1wiTlwiOm5bci0xXTticmVhaztjYXNlXCJCXCI6ZD0hKHc9ITEpLGw9YjticmVhaztjYXNlXCJTXCI6Zz0hMCxsPVwiTlwiO2JyZWFrO2Nhc2VcIkxSRVwiOmNhc2VcIlJMRVwiOmNhc2VcIkxST1wiOmNhc2VcIlJMT1wiOmNhc2VcIlBERlwiOnc9ITE7YnJlYWs7Y2FzZVwiQk5cIjpsPVwiTlwifXJldHVybiBsfSxMPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LnNwbGl0KFwiXCIpO3JldHVybiBuJiZBKHIsbix7aGlMZXZlbDpifSksci5yZXZlcnNlKCksZSYmZS5yZXZlcnNlKCksci5qb2luKFwiXCIpfSxBPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpLG8sYSxzLGw9LTEsaD10Lmxlbmd0aCx1PTAsYz1bXSxmPWI/eTptLHA9W107Zm9yKGc9ZD13PSExLGk9MDtpPGg7aSsrKXBbaV09eCh0W2ldKTtmb3Iobz0wO288aDtvKyspe2lmKHM9dSxjW29dPU4odCxwLGMsbykscj0yNDAmKHU9ZltzXVt2W2Nbb11dXSksdSY9MTUsZVtvXT1hPWZbdV1bNV0sMDxyKWlmKDE2PT09cil7Zm9yKGk9bDtpPG87aSsrKWVbaV09MTtsPS0xfWVsc2UgbD0tMTtpZihmW3VdWzZdKS0xPT09bCYmKGw9byk7ZWxzZSBpZigtMTxsKXtmb3IoaT1sO2k8bztpKyspZVtpXT1hO2w9LTF9XCJCXCI9PT1wW29dJiYoZVtvXT0wKSxuLmhpTGV2ZWx8PWF9ZyYmZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj0wO3I8bjtyKyspaWYoXCJTXCI9PT10W3JdKXtlW3JdPWI7Zm9yKHZhciBpPXItMTswPD1pJiZcIldTXCI9PT10W2ldO2ktLSllW2ldPWJ9fShwLGUsaCl9LFM9ZnVuY3Rpb24odCxlLG4scixpKXtpZighKGkuaGlMZXZlbDx0KSl7aWYoMT09PXQmJjE9PT1iJiYhZClyZXR1cm4gZS5yZXZlcnNlKCksdm9pZChuJiZuLnJldmVyc2UoKSk7Zm9yKHZhciBvLGEscyxsLGg9ZS5sZW5ndGgsdT0wO3U8aDspe2lmKHJbdV0+PXQpe2ZvcihzPXUrMTtzPGgmJnJbc10+PXQ7KXMrKztmb3IobD11LGE9cy0xO2w8YTtsKyssYS0tKW89ZVtsXSxlW2xdPWVbYV0sZVthXT1vLG4mJihvPW5bbF0sbltsXT1uW2FdLG5bYV09byk7dT1zfXUrK319fSxfPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LnNwbGl0KFwiXCIpLGk9e2hpTGV2ZWw6Yn07cmV0dXJuIG58fChuPVtdKSxBKHIsbixpKSxmdW5jdGlvbih0LGUsbil7aWYoMCE9PW4uaGlMZXZlbCYmYSlmb3IodmFyIHIsaT0wO2k8dC5sZW5ndGg7aSsrKTE9PT1lW2ldJiYwPD0ocj1oLmluZGV4T2YodFtpXSkpJiYodFtpXT1oW3IrMV0pfShyLG4saSksUygyLHIsZSxuLGkpLFMoMSxyLGUsbixpKSxyLmpvaW4oXCJcIil9O3JldHVybiB0aGlzLl9fYmlkaUVuZ2luZV9fLmRvQmlkaVJlb3JkZXI9ZnVuY3Rpb24odCxlLG4pe2lmKGZ1bmN0aW9uKHQsZSl7aWYoZSlmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyllW25dPW47dm9pZCAwPT09ZiYmKGY9cCh0KSksdm9pZCAwPT09byYmKG89cCh0KSl9KHQsZSksY3x8IWl8fG8paWYoYyYmaSYmZl5vKWI9Zj8xOjAsdD1MKHQsZSxuKTtlbHNlIGlmKCFjJiZpJiZvKWI9Zj8xOjAsdD1fKHQsZSxuKSx0PUwodCxlKTtlbHNlIGlmKCFjfHxmfHxpfHxvKXtpZihjJiYhaSYmZl5vKXQ9TCh0LGUpLHQ9Zj8oYj0wLF8odCxlLG4pKTooYj0xLHQ9Xyh0LGUsbiksTCh0LGUpKTtlbHNlIGlmKGMmJmYmJiFpJiZvKWI9MSx0PV8odCxlLG4pLHQ9TCh0LGUpO2Vsc2UgaWYoIWMmJiFpJiZmXm8pe3ZhciByPWE7Zj8oYj0xLHQ9Xyh0LGUsbiksYj0wLGE9ITEsdD1fKHQsZSxuKSxhPXIpOihiPTAsdD1fKHQsZSxuKSx0PUwodCxlKSxhPSEoYj0xKSx0PV8odCxlLG4pLGE9cix0PUwodCxlKSl9fWVsc2UgYj0wLHQ9Xyh0LGUsbik7ZWxzZSBiPWY/MTowLHQ9Xyh0LGUsbik7cmV0dXJuIHR9LHRoaXMuX19iaWRpRW5naW5lX18uc2V0T3B0aW9ucz1mdW5jdGlvbih0KXt0JiYoYz10LmlzSW5wdXRWaXN1YWwsaT10LmlzT3V0cHV0VmlzdWFsLGY9dC5pc0lucHV0UnRsLG89dC5pc091dHB1dFJ0bCxhPXQuaXNTeW1tZXRyaWNTd2FwcGluZyl9LHRoaXMuX19iaWRpRW5naW5lX18uc2V0T3B0aW9ucyh0KSx0aGlzLl9fYmlkaUVuZ2luZV9ffTt2YXIgZT1bXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJTXCIsXCJCXCIsXCJTXCIsXCJXU1wiLFwiQlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCXCIsXCJCXCIsXCJCXCIsXCJTXCIsXCJXU1wiLFwiTlwiLFwiTlwiLFwiRVRcIixcIkVUXCIsXCJFVFwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiRVNcIixcIkNTXCIsXCJFU1wiLFwiQ1NcIixcIkNTXCIsXCJFTlwiLFwiRU5cIixcIkVOXCIsXCJFTlwiLFwiRU5cIixcIkVOXCIsXCJFTlwiLFwiRU5cIixcIkVOXCIsXCJFTlwiLFwiQ1NcIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJcIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQ1NcIixcIk5cIixcIkVUXCIsXCJFVFwiLFwiRVRcIixcIkVUXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJMXCIsXCJOXCIsXCJOXCIsXCJCTlwiLFwiTlwiLFwiTlwiLFwiRVRcIixcIkVUXCIsXCJFTlwiLFwiRU5cIixcIk5cIixcIkxcIixcIk5cIixcIk5cIixcIk5cIixcIkVOXCIsXCJMXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJOXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJOXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJOXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJOXCIsXCJOXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJOXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJOXCIsXCJMXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJFVFwiLFwiTlwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiUlwiLFwiTlNNXCIsXCJSXCIsXCJOU01cIixcIk5TTVwiLFwiUlwiLFwiTlNNXCIsXCJOU01cIixcIlJcIixcIk5TTVwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiQU5cIixcIkFOXCIsXCJBTlwiLFwiQU5cIixcIkFOXCIsXCJBTlwiLFwiTlwiLFwiTlwiLFwiQUxcIixcIkVUXCIsXCJFVFwiLFwiQUxcIixcIkNTXCIsXCJBTFwiLFwiTlwiLFwiTlwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIkFMXCIsXCJBTFwiLFwiTlwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiQU5cIixcIkFOXCIsXCJBTlwiLFwiQU5cIixcIkFOXCIsXCJBTlwiLFwiQU5cIixcIkFOXCIsXCJBTlwiLFwiQU5cIixcIkVUXCIsXCJBTlwiLFwiQU5cIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIk5TTVwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIkFOXCIsXCJOXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJBTFwiLFwiQUxcIixcIk5TTVwiLFwiTlNNXCIsXCJOXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIkFMXCIsXCJBTFwiLFwiRU5cIixcIkVOXCIsXCJFTlwiLFwiRU5cIixcIkVOXCIsXCJFTlwiLFwiRU5cIixcIkVOXCIsXCJFTlwiLFwiRU5cIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiTlwiLFwiQUxcIixcIkFMXCIsXCJOU01cIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5cIixcIk5cIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIkFMXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJSXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJSXCIsXCJSXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJSXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJXU1wiLFwiV1NcIixcIldTXCIsXCJXU1wiLFwiV1NcIixcIldTXCIsXCJXU1wiLFwiV1NcIixcIldTXCIsXCJXU1wiLFwiV1NcIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkxcIixcIlJcIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIldTXCIsXCJCXCIsXCJMUkVcIixcIlJMRVwiLFwiUERGXCIsXCJMUk9cIixcIlJMT1wiLFwiQ1NcIixcIkVUXCIsXCJFVFwiLFwiRVRcIixcIkVUXCIsXCJFVFwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiQ1NcIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIldTXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIk5cIixcIkxSSVwiLFwiUkxJXCIsXCJGU0lcIixcIlBESVwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiQk5cIixcIkJOXCIsXCJCTlwiLFwiRU5cIixcIkxcIixcIk5cIixcIk5cIixcIkVOXCIsXCJFTlwiLFwiRU5cIixcIkVOXCIsXCJFTlwiLFwiRU5cIixcIkVTXCIsXCJFU1wiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTFwiLFwiRU5cIixcIkVOXCIsXCJFTlwiLFwiRU5cIixcIkVOXCIsXCJFTlwiLFwiRU5cIixcIkVOXCIsXCJFTlwiLFwiRU5cIixcIkVTXCIsXCJFU1wiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTFwiLFwiTFwiLFwiTFwiLFwiTFwiLFwiTFwiLFwiTFwiLFwiTFwiLFwiTFwiLFwiTFwiLFwiTFwiLFwiTFwiLFwiTFwiLFwiTFwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiRVRcIixcIkVUXCIsXCJFVFwiLFwiRVRcIixcIkVUXCIsXCJFVFwiLFwiRVRcIixcIkVUXCIsXCJFVFwiLFwiRVRcIixcIkVUXCIsXCJFVFwiLFwiRVRcIixcIkVUXCIsXCJFVFwiLFwiRVRcIixcIkVUXCIsXCJFVFwiLFwiRVRcIixcIkVUXCIsXCJFVFwiLFwiRVRcIixcIkVUXCIsXCJFVFwiLFwiRVRcIixcIkVUXCIsXCJFVFwiLFwiRVRcIixcIkVUXCIsXCJFVFwiLFwiRVRcIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIkxcIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIlJcIixcIk5TTVwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiUlwiLFwiRVNcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIk5cIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIk5cIixcIlJcIixcIk5cIixcIlJcIixcIlJcIixcIk5cIixcIlJcIixcIlJcIixcIk5cIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIlJcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOU01cIixcIk5TTVwiLFwiTlNNXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJDU1wiLFwiTlwiLFwiQ1NcIixcIk5cIixcIk5cIixcIkNTXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJFVFwiLFwiTlwiLFwiTlwiLFwiRVNcIixcIkVTXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJFVFwiLFwiRVRcIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiTlwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiQUxcIixcIkFMXCIsXCJBTFwiLFwiTlwiLFwiTlwiLFwiQk5cIixcIk5cIixcIk5cIixcIk5cIixcIkVUXCIsXCJFVFwiLFwiRVRcIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIk5cIixcIkVTXCIsXCJDU1wiLFwiRVNcIixcIkNTXCIsXCJDU1wiLFwiRU5cIixcIkVOXCIsXCJFTlwiLFwiRU5cIixcIkVOXCIsXCJFTlwiLFwiRU5cIixcIkVOXCIsXCJFTlwiLFwiRU5cIixcIkNTXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJOXCIsXCJOXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJOXCIsXCJOXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJOXCIsXCJOXCIsXCJMXCIsXCJMXCIsXCJMXCIsXCJOXCIsXCJOXCIsXCJOXCIsXCJFVFwiLFwiRVRcIixcIk5cIixcIk5cIixcIk5cIixcIkVUXCIsXCJFVFwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiLFwiTlwiXSxvPW5ldyB0Ll9fYmlkaUVuZ2luZV9fKHtpc0lucHV0VmlzdWFsOiEwfSk7dC5BUEkuZXZlbnRzLnB1c2goW1wicG9zdFByb2Nlc3NUZXh0XCIsZnVuY3Rpb24odCl7dmFyIGU9dC50ZXh0LG49KHQueCx0LnksdC5vcHRpb25zfHx7fSkscj0odC5tdXRleCxuLmxhbmcsW10pO2lmKFwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSl7dmFyIGk9MDtmb3Iocj1bXSxpPTA7aTxlLmxlbmd0aDtpKz0xKVwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlW2ldKT9yLnB1c2goW28uZG9CaWRpUmVvcmRlcihlW2ldWzBdKSxlW2ldWzFdLGVbaV1bMl1dKTpyLnB1c2goW28uZG9CaWRpUmVvcmRlcihlW2ldKV0pO3QudGV4dD1yfWVsc2UgdC50ZXh0PW8uZG9CaWRpUmVvcmRlcihlKX1dKX0obHQpLHdpbmRvdy50bXA9X3QsRnQucHJvdG90eXBlLnBhcnNlSGVhZGVyPWZ1bmN0aW9uKCl7aWYodGhpcy5maWxlU2l6ZT10aGlzLmRhdGF2LmdldFVpbnQzMih0aGlzLnBvcywhMCksdGhpcy5wb3MrPTQsdGhpcy5yZXNlcnZlZD10aGlzLmRhdGF2LmdldFVpbnQzMih0aGlzLnBvcywhMCksdGhpcy5wb3MrPTQsdGhpcy5vZmZzZXQ9dGhpcy5kYXRhdi5nZXRVaW50MzIodGhpcy5wb3MsITApLHRoaXMucG9zKz00LHRoaXMuaGVhZGVyU2l6ZT10aGlzLmRhdGF2LmdldFVpbnQzMih0aGlzLnBvcywhMCksdGhpcy5wb3MrPTQsdGhpcy53aWR0aD10aGlzLmRhdGF2LmdldFVpbnQzMih0aGlzLnBvcywhMCksdGhpcy5wb3MrPTQsdGhpcy5oZWlnaHQ9dGhpcy5kYXRhdi5nZXRJbnQzMih0aGlzLnBvcywhMCksdGhpcy5wb3MrPTQsdGhpcy5wbGFuZXM9dGhpcy5kYXRhdi5nZXRVaW50MTYodGhpcy5wb3MsITApLHRoaXMucG9zKz0yLHRoaXMuYml0UFA9dGhpcy5kYXRhdi5nZXRVaW50MTYodGhpcy5wb3MsITApLHRoaXMucG9zKz0yLHRoaXMuY29tcHJlc3M9dGhpcy5kYXRhdi5nZXRVaW50MzIodGhpcy5wb3MsITApLHRoaXMucG9zKz00LHRoaXMucmF3U2l6ZT10aGlzLmRhdGF2LmdldFVpbnQzMih0aGlzLnBvcywhMCksdGhpcy5wb3MrPTQsdGhpcy5ocj10aGlzLmRhdGF2LmdldFVpbnQzMih0aGlzLnBvcywhMCksdGhpcy5wb3MrPTQsdGhpcy52cj10aGlzLmRhdGF2LmdldFVpbnQzMih0aGlzLnBvcywhMCksdGhpcy5wb3MrPTQsdGhpcy5jb2xvcnM9dGhpcy5kYXRhdi5nZXRVaW50MzIodGhpcy5wb3MsITApLHRoaXMucG9zKz00LHRoaXMuaW1wb3J0YW50Q29sb3JzPXRoaXMuZGF0YXYuZ2V0VWludDMyKHRoaXMucG9zLCEwKSx0aGlzLnBvcys9NCwxNj09PXRoaXMuYml0UFAmJnRoaXMuaXNfd2l0aF9hbHBoYSYmKHRoaXMuYml0UFA9MTUpLHRoaXMuYml0UFA8MTUpe3ZhciB0PTA9PT10aGlzLmNvbG9ycz8xPDx0aGlzLmJpdFBQOnRoaXMuY29sb3JzO3RoaXMucGFsZXR0ZT1uZXcgQXJyYXkodCk7Zm9yKHZhciBlPTA7ZTx0O2UrKyl7dmFyIG49dGhpcy5kYXRhdi5nZXRVaW50OCh0aGlzLnBvcysrLCEwKSxyPXRoaXMuZGF0YXYuZ2V0VWludDgodGhpcy5wb3MrKywhMCksaT10aGlzLmRhdGF2LmdldFVpbnQ4KHRoaXMucG9zKyssITApLG89dGhpcy5kYXRhdi5nZXRVaW50OCh0aGlzLnBvcysrLCEwKTt0aGlzLnBhbGV0dGVbZV09e3JlZDppLGdyZWVuOnIsYmx1ZTpuLHF1YWQ6b319fXRoaXMuaGVpZ2h0PDAmJih0aGlzLmhlaWdodCo9LTEsdGhpcy5ib3R0b21fdXA9ITEpfSxGdC5wcm90b3R5cGUucGFyc2VCR1I9ZnVuY3Rpb24oKXt0aGlzLnBvcz10aGlzLm9mZnNldDt0cnl7dmFyIHQ9XCJiaXRcIit0aGlzLmJpdFBQLGU9dGhpcy53aWR0aCp0aGlzLmhlaWdodCo0O3RoaXMuZGF0YT1uZXcgVWludDhBcnJheShlKSx0aGlzW3RdKCl9Y2F0Y2godCl7Y29uc29sZS5sb2coXCJiaXQgZGVjb2RlIGVycm9yOlwiK3QpfX0sRnQucHJvdG90eXBlLmJpdDE9ZnVuY3Rpb24oKXt2YXIgdD1NYXRoLmNlaWwodGhpcy53aWR0aC84KSxlPXQlNCxuPTA8PXRoaXMuaGVpZ2h0P3RoaXMuaGVpZ2h0LTE6LXRoaXMuaGVpZ2h0O2ZvcihuPXRoaXMuaGVpZ2h0LTE7MDw9bjtuLS0pe2Zvcih2YXIgcj10aGlzLmJvdHRvbV91cD9uOnRoaXMuaGVpZ2h0LTEtbixpPTA7aTx0O2krKylmb3IodmFyIG89dGhpcy5kYXRhdi5nZXRVaW50OCh0aGlzLnBvcysrLCEwKSxhPXIqdGhpcy53aWR0aCo0KzgqaSo0LHM9MDtzPDgmJjgqaStzPHRoaXMud2lkdGg7cysrKXt2YXIgbD10aGlzLnBhbGV0dGVbbz4+Ny1zJjFdO3RoaXMuZGF0YVthKzQqc109bC5ibHVlLHRoaXMuZGF0YVthKzQqcysxXT1sLmdyZWVuLHRoaXMuZGF0YVthKzQqcysyXT1sLnJlZCx0aGlzLmRhdGFbYSs0KnMrM109MjU1fTAhPWUmJih0aGlzLnBvcys9NC1lKX19LEZ0LnByb3RvdHlwZS5iaXQ0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PU1hdGguY2VpbCh0aGlzLndpZHRoLzIpLGU9dCU0LG49dGhpcy5oZWlnaHQtMTswPD1uO24tLSl7Zm9yKHZhciByPXRoaXMuYm90dG9tX3VwP246dGhpcy5oZWlnaHQtMS1uLGk9MDtpPHQ7aSsrKXt2YXIgbz10aGlzLmRhdGF2LmdldFVpbnQ4KHRoaXMucG9zKyssITApLGE9cip0aGlzLndpZHRoKjQrMippKjQscz1vPj40LGw9MTUmbyxoPXRoaXMucGFsZXR0ZVtzXTtpZih0aGlzLmRhdGFbYV09aC5ibHVlLHRoaXMuZGF0YVthKzFdPWguZ3JlZW4sdGhpcy5kYXRhW2ErMl09aC5yZWQsdGhpcy5kYXRhW2ErM109MjU1LDIqaSsxPj10aGlzLndpZHRoKWJyZWFrO2g9dGhpcy5wYWxldHRlW2xdLHRoaXMuZGF0YVthKzRdPWguYmx1ZSx0aGlzLmRhdGFbYSs0KzFdPWguZ3JlZW4sdGhpcy5kYXRhW2ErNCsyXT1oLnJlZCx0aGlzLmRhdGFbYSs0KzNdPTI1NX0wIT1lJiYodGhpcy5wb3MrPTQtZSl9fSxGdC5wcm90b3R5cGUuYml0OD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLndpZHRoJTQsZT10aGlzLmhlaWdodC0xOzA8PWU7ZS0tKXtmb3IodmFyIG49dGhpcy5ib3R0b21fdXA/ZTp0aGlzLmhlaWdodC0xLWUscj0wO3I8dGhpcy53aWR0aDtyKyspe3ZhciBpPXRoaXMuZGF0YXYuZ2V0VWludDgodGhpcy5wb3MrKywhMCksbz1uKnRoaXMud2lkdGgqNCs0KnI7aWYoaTx0aGlzLnBhbGV0dGUubGVuZ3RoKXt2YXIgYT10aGlzLnBhbGV0dGVbaV07dGhpcy5kYXRhW29dPWEucmVkLHRoaXMuZGF0YVtvKzFdPWEuZ3JlZW4sdGhpcy5kYXRhW28rMl09YS5ibHVlLHRoaXMuZGF0YVtvKzNdPTI1NX1lbHNlIHRoaXMuZGF0YVtvXT0yNTUsdGhpcy5kYXRhW28rMV09MjU1LHRoaXMuZGF0YVtvKzJdPTI1NSx0aGlzLmRhdGFbbyszXT0yNTV9MCE9dCYmKHRoaXMucG9zKz00LXQpfX0sRnQucHJvdG90eXBlLmJpdDE1PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMud2lkdGglMyxlPXBhcnNlSW50KFwiMTExMTFcIiwyKSxuPXRoaXMuaGVpZ2h0LTE7MDw9bjtuLS0pe2Zvcih2YXIgcj10aGlzLmJvdHRvbV91cD9uOnRoaXMuaGVpZ2h0LTEtbixpPTA7aTx0aGlzLndpZHRoO2krKyl7dmFyIG89dGhpcy5kYXRhdi5nZXRVaW50MTYodGhpcy5wb3MsITApO3RoaXMucG9zKz0yO3ZhciBhPShvJmUpL2UqMjU1fDAscz0obz4+NSZlKS9lKjI1NXwwLGw9KG8+PjEwJmUpL2UqMjU1fDAsaD1vPj4xNT8yNTU6MCx1PXIqdGhpcy53aWR0aCo0KzQqaTt0aGlzLmRhdGFbdV09bCx0aGlzLmRhdGFbdSsxXT1zLHRoaXMuZGF0YVt1KzJdPWEsdGhpcy5kYXRhW3UrM109aH10aGlzLnBvcys9dH19LEZ0LnByb3RvdHlwZS5iaXQxNj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLndpZHRoJTMsZT1wYXJzZUludChcIjExMTExXCIsMiksbj1wYXJzZUludChcIjExMTExMVwiLDIpLHI9dGhpcy5oZWlnaHQtMTswPD1yO3ItLSl7Zm9yKHZhciBpPXRoaXMuYm90dG9tX3VwP3I6dGhpcy5oZWlnaHQtMS1yLG89MDtvPHRoaXMud2lkdGg7bysrKXt2YXIgYT10aGlzLmRhdGF2LmdldFVpbnQxNih0aGlzLnBvcywhMCk7dGhpcy5wb3MrPTI7dmFyIHM9KGEmZSkvZSoyNTV8MCxsPShhPj41Jm4pL24qMjU1fDAsaD0oYT4+MTEpL2UqMjU1fDAsdT1pKnRoaXMud2lkdGgqNCs0Km87dGhpcy5kYXRhW3VdPWgsdGhpcy5kYXRhW3UrMV09bCx0aGlzLmRhdGFbdSsyXT1zLHRoaXMuZGF0YVt1KzNdPTI1NX10aGlzLnBvcys9dH19LEZ0LnByb3RvdHlwZS5iaXQyND1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmhlaWdodC0xOzA8PXQ7dC0tKXtmb3IodmFyIGU9dGhpcy5ib3R0b21fdXA/dDp0aGlzLmhlaWdodC0xLXQsbj0wO248dGhpcy53aWR0aDtuKyspe3ZhciByPXRoaXMuZGF0YXYuZ2V0VWludDgodGhpcy5wb3MrKywhMCksaT10aGlzLmRhdGF2LmdldFVpbnQ4KHRoaXMucG9zKyssITApLG89dGhpcy5kYXRhdi5nZXRVaW50OCh0aGlzLnBvcysrLCEwKSxhPWUqdGhpcy53aWR0aCo0KzQqbjt0aGlzLmRhdGFbYV09byx0aGlzLmRhdGFbYSsxXT1pLHRoaXMuZGF0YVthKzJdPXIsdGhpcy5kYXRhW2ErM109MjU1fXRoaXMucG9zKz10aGlzLndpZHRoJTR9fSxGdC5wcm90b3R5cGUuYml0MzI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5oZWlnaHQtMTswPD10O3QtLSlmb3IodmFyIGU9dGhpcy5ib3R0b21fdXA/dDp0aGlzLmhlaWdodC0xLXQsbj0wO248dGhpcy53aWR0aDtuKyspe3ZhciByPXRoaXMuZGF0YXYuZ2V0VWludDgodGhpcy5wb3MrKywhMCksaT10aGlzLmRhdGF2LmdldFVpbnQ4KHRoaXMucG9zKyssITApLG89dGhpcy5kYXRhdi5nZXRVaW50OCh0aGlzLnBvcysrLCEwKSxhPXRoaXMuZGF0YXYuZ2V0VWludDgodGhpcy5wb3MrKywhMCkscz1lKnRoaXMud2lkdGgqNCs0Km47dGhpcy5kYXRhW3NdPW8sdGhpcy5kYXRhW3MrMV09aSx0aGlzLmRhdGFbcysyXT1yLHRoaXMuZGF0YVtzKzNdPWF9fSxGdC5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9LHdpbmRvdy50bXA9RnQsXG4vKlxuICAgQ29weXJpZ2h0IChjKSAyMDEzIEdpbGRhcyBMb3JtZWF1LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuXG4gICBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAgIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuXG4gICAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuXG4gICAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBcbiAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiBcbiAgIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXG4gICAzLiBUaGUgbmFtZXMgb2YgdGhlIGF1dGhvcnMgbWF5IG5vdCBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0c1xuICAgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG5cbiAgIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgYGBBUyBJUycnIEFORCBBTlkgRVhQUkVTU0VEIE9SIElNUExJRUQgV0FSUkFOVElFUyxcbiAgIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkRcbiAgIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBKQ1JBRlQsXG4gICBJTkMuIE9SIEFOWSBDT05UUklCVVRPUlMgVE8gVEhJUyBTT0ZUV0FSRSBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULFxuICAgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVFxuICAgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsXG4gICBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gICBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICAgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLFxuICAgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAgICovXG5mdW5jdGlvbih0KXt2YXIgZD0xNSxnPTU3MyxlPVswLDEsMiwzLDQsNCw1LDUsNiw2LDYsNiw3LDcsNyw3LDgsOCw4LDgsOCw4LDgsOCw5LDksOSw5LDksOSw5LDksMTAsMTAsMTAsMTAsMTAsMTAsMTAsMTAsMTAsMTAsMTAsMTAsMTAsMTAsMTAsMTAsMTEsMTEsMTEsMTEsMTEsMTEsMTEsMTEsMTEsMTEsMTEsMTEsMTEsMTEsMTEsMTEsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTQsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMTUsMCwwLDE2LDE3LDE4LDE4LDE5LDE5LDIwLDIwLDIwLDIwLDIxLDIxLDIxLDIxLDIyLDIyLDIyLDIyLDIyLDIyLDIyLDIyLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5LDI5XTtmdW5jdGlvbiBjdCgpe3ZhciBwPXRoaXM7ZnVuY3Rpb24gbCh0LGUpe2Zvcih2YXIgbj0wO258PTEmdCx0Pj4+PTEsbjw8PTEsMDwtLWU7KTtyZXR1cm4gbj4+PjF9cC5idWlsZF90cmVlPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpPXAuZHluX3RyZWUsbz1wLnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxhPXAuc3RhdF9kZXNjLmVsZW1zLHM9LTE7Zm9yKHQuaGVhcF9sZW49MCx0LmhlYXBfbWF4PWcsZT0wO2U8YTtlKyspMCE9PWlbMiplXT8odC5oZWFwWysrdC5oZWFwX2xlbl09cz1lLHQuZGVwdGhbZV09MCk6aVsyKmUrMV09MDtmb3IoO3QuaGVhcF9sZW48MjspaVsyKihyPXQuaGVhcFsrK3QuaGVhcF9sZW5dPXM8Mj8rK3M6MCldPTEsdC5kZXB0aFtyXT0wLHQub3B0X2xlbi0tLG8mJih0LnN0YXRpY19sZW4tPW9bMipyKzFdKTtmb3IocC5tYXhfY29kZT1zLGU9TWF0aC5mbG9vcih0LmhlYXBfbGVuLzIpOzE8PWU7ZS0tKXQucHFkb3duaGVhcChpLGUpO2ZvcihyPWE7ZT10LmhlYXBbMV0sdC5oZWFwWzFdPXQuaGVhcFt0LmhlYXBfbGVuLS1dLHQucHFkb3duaGVhcChpLDEpLG49dC5oZWFwWzFdLHQuaGVhcFstLXQuaGVhcF9tYXhdPWUsdC5oZWFwWy0tdC5oZWFwX21heF09bixpWzIqcl09aVsyKmVdK2lbMipuXSx0LmRlcHRoW3JdPU1hdGgubWF4KHQuZGVwdGhbZV0sdC5kZXB0aFtuXSkrMSxpWzIqZSsxXT1pWzIqbisxXT1yLHQuaGVhcFsxXT1yKyssdC5wcWRvd25oZWFwKGksMSksMjw9dC5oZWFwX2xlbjspO3QuaGVhcFstLXQuaGVhcF9tYXhdPXQuaGVhcFsxXSxmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscz1wLmR5bl90cmVlLGw9cC5zdGF0X2Rlc2Muc3RhdGljX3RyZWUsaD1wLnN0YXRfZGVzYy5leHRyYV9iaXRzLHU9cC5zdGF0X2Rlc2MuZXh0cmFfYmFzZSxjPXAuc3RhdF9kZXNjLm1heF9sZW5ndGgsZj0wO2ZvcihpPTA7aTw9ZDtpKyspdC5ibF9jb3VudFtpXT0wO2ZvcihzWzIqdC5oZWFwW3QuaGVhcF9tYXhdKzFdPTAsZT10LmhlYXBfbWF4KzE7ZTxnO2UrKyljPChpPXNbMipzWzIqKG49dC5oZWFwW2VdKSsxXSsxXSsxKSYmKGk9YyxmKyspLHNbMipuKzFdPWksbj5wLm1heF9jb2RlfHwodC5ibF9jb3VudFtpXSsrLG89MCx1PD1uJiYobz1oW24tdV0pLGE9c1syKm5dLHQub3B0X2xlbis9YSooaStvKSxsJiYodC5zdGF0aWNfbGVuKz1hKihsWzIqbisxXStvKSkpO2lmKDAhPT1mKXtkb3tmb3IoaT1jLTE7MD09PXQuYmxfY291bnRbaV07KWktLTt0LmJsX2NvdW50W2ldLS0sdC5ibF9jb3VudFtpKzFdKz0yLHQuYmxfY291bnRbY10tLSxmLT0yfXdoaWxlKDA8Zik7Zm9yKGk9YzswIT09aTtpLS0pZm9yKG49dC5ibF9jb3VudFtpXTswIT09bjspKHI9dC5oZWFwWy0tZV0pPnAubWF4X2NvZGV8fChzWzIqcisxXSE9aSYmKHQub3B0X2xlbis9KGktc1syKnIrMV0pKnNbMipyXSxzWzIqcisxXT1pKSxuLS0pfX0odCksZnVuY3Rpb24odCxlLG4pe3ZhciByLGksbyxhPVtdLHM9MDtmb3Iocj0xO3I8PWQ7cisrKWFbcl09cz1zK25bci0xXTw8MTtmb3IoaT0wO2k8PWU7aSsrKTAhPT0obz10WzIqaSsxXSkmJih0WzIqaV09bChhW29dKyssbykpfShpLHAubWF4X2NvZGUsdC5ibF9jb3VudCl9fWZ1bmN0aW9uIGZ0KHQsZSxuLHIsaSl7dGhpcy5zdGF0aWNfdHJlZT10LHRoaXMuZXh0cmFfYml0cz1lLHRoaXMuZXh0cmFfYmFzZT1uLHRoaXMuZWxlbXM9cix0aGlzLm1heF9sZW5ndGg9aX1jdC5fbGVuZ3RoX2NvZGU9WzAsMSwyLDMsNCw1LDYsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEyLDEyLDEzLDEzLDEzLDEzLDE0LDE0LDE0LDE0LDE1LDE1LDE1LDE1LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDE3LDE3LDE3LDE3LDE3LDE3LDE3LDE3LDE4LDE4LDE4LDE4LDE4LDE4LDE4LDE4LDE5LDE5LDE5LDE5LDE5LDE5LDE5LDE5LDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIxLDIxLDIxLDIxLDIxLDIxLDIxLDIxLDIxLDIxLDIxLDIxLDIxLDIxLDIxLDIxLDIyLDIyLDIyLDIyLDIyLDIyLDIyLDIyLDIyLDIyLDIyLDIyLDIyLDIyLDIyLDIyLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI1LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI4XSxjdC5iYXNlX2xlbmd0aD1bMCwxLDIsMyw0LDUsNiw3LDgsMTAsMTIsMTQsMTYsMjAsMjQsMjgsMzIsNDAsNDgsNTYsNjQsODAsOTYsMTEyLDEyOCwxNjAsMTkyLDIyNCwwXSxjdC5iYXNlX2Rpc3Q9WzAsMSwyLDMsNCw2LDgsMTIsMTYsMjQsMzIsNDgsNjQsOTYsMTI4LDE5MiwyNTYsMzg0LDUxMiw3NjgsMTAyNCwxNTM2LDIwNDgsMzA3Miw0MDk2LDYxNDQsODE5MiwxMjI4OCwxNjM4NCwyNDU3Nl0sY3QuZF9jb2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0PDI1Nj9lW3RdOmVbMjU2Kyh0Pj4+NyldfSxjdC5leHRyYV9sYml0cz1bMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwXSxjdC5leHRyYV9kYml0cz1bMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxM10sY3QuZXh0cmFfYmxiaXRzPVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDIsMyw3XSxjdC5ibF9vcmRlcj1bMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0sZnQuc3RhdGljX2x0cmVlPVsxMiw4LDE0MCw4LDc2LDgsMjA0LDgsNDQsOCwxNzIsOCwxMDgsOCwyMzYsOCwyOCw4LDE1Niw4LDkyLDgsMjIwLDgsNjAsOCwxODgsOCwxMjQsOCwyNTIsOCwyLDgsMTMwLDgsNjYsOCwxOTQsOCwzNCw4LDE2Miw4LDk4LDgsMjI2LDgsMTgsOCwxNDYsOCw4Miw4LDIxMCw4LDUwLDgsMTc4LDgsMTE0LDgsMjQyLDgsMTAsOCwxMzgsOCw3NCw4LDIwMiw4LDQyLDgsMTcwLDgsMTA2LDgsMjM0LDgsMjYsOCwxNTQsOCw5MCw4LDIxOCw4LDU4LDgsMTg2LDgsMTIyLDgsMjUwLDgsNiw4LDEzNCw4LDcwLDgsMTk4LDgsMzgsOCwxNjYsOCwxMDIsOCwyMzAsOCwyMiw4LDE1MCw4LDg2LDgsMjE0LDgsNTQsOCwxODIsOCwxMTgsOCwyNDYsOCwxNCw4LDE0Miw4LDc4LDgsMjA2LDgsNDYsOCwxNzQsOCwxMTAsOCwyMzgsOCwzMCw4LDE1OCw4LDk0LDgsMjIyLDgsNjIsOCwxOTAsOCwxMjYsOCwyNTQsOCwxLDgsMTI5LDgsNjUsOCwxOTMsOCwzMyw4LDE2MSw4LDk3LDgsMjI1LDgsMTcsOCwxNDUsOCw4MSw4LDIwOSw4LDQ5LDgsMTc3LDgsMTEzLDgsMjQxLDgsOSw4LDEzNyw4LDczLDgsMjAxLDgsNDEsOCwxNjksOCwxMDUsOCwyMzMsOCwyNSw4LDE1Myw4LDg5LDgsMjE3LDgsNTcsOCwxODUsOCwxMjEsOCwyNDksOCw1LDgsMTMzLDgsNjksOCwxOTcsOCwzNyw4LDE2NSw4LDEwMSw4LDIyOSw4LDIxLDgsMTQ5LDgsODUsOCwyMTMsOCw1Myw4LDE4MSw4LDExNyw4LDI0NSw4LDEzLDgsMTQxLDgsNzcsOCwyMDUsOCw0NSw4LDE3Myw4LDEwOSw4LDIzNyw4LDI5LDgsMTU3LDgsOTMsOCwyMjEsOCw2MSw4LDE4OSw4LDEyNSw4LDI1Myw4LDE5LDksMjc1LDksMTQ3LDksNDAzLDksODMsOSwzMzksOSwyMTEsOSw0NjcsOSw1MSw5LDMwNyw5LDE3OSw5LDQzNSw5LDExNSw5LDM3MSw5LDI0Myw5LDQ5OSw5LDExLDksMjY3LDksMTM5LDksMzk1LDksNzUsOSwzMzEsOSwyMDMsOSw0NTksOSw0Myw5LDI5OSw5LDE3MSw5LDQyNyw5LDEwNyw5LDM2Myw5LDIzNSw5LDQ5MSw5LDI3LDksMjgzLDksMTU1LDksNDExLDksOTEsOSwzNDcsOSwyMTksOSw0NzUsOSw1OSw5LDMxNSw5LDE4Nyw5LDQ0Myw5LDEyMyw5LDM3OSw5LDI1MSw5LDUwNyw5LDcsOSwyNjMsOSwxMzUsOSwzOTEsOSw3MSw5LDMyNyw5LDE5OSw5LDQ1NSw5LDM5LDksMjk1LDksMTY3LDksNDIzLDksMTAzLDksMzU5LDksMjMxLDksNDg3LDksMjMsOSwyNzksOSwxNTEsOSw0MDcsOSw4Nyw5LDM0Myw5LDIxNSw5LDQ3MSw5LDU1LDksMzExLDksMTgzLDksNDM5LDksMTE5LDksMzc1LDksMjQ3LDksNTAzLDksMTUsOSwyNzEsOSwxNDMsOSwzOTksOSw3OSw5LDMzNSw5LDIwNyw5LDQ2Myw5LDQ3LDksMzAzLDksMTc1LDksNDMxLDksMTExLDksMzY3LDksMjM5LDksNDk1LDksMzEsOSwyODcsOSwxNTksOSw0MTUsOSw5NSw5LDM1MSw5LDIyMyw5LDQ3OSw5LDYzLDksMzE5LDksMTkxLDksNDQ3LDksMTI3LDksMzgzLDksMjU1LDksNTExLDksMCw3LDY0LDcsMzIsNyw5Niw3LDE2LDcsODAsNyw0OCw3LDExMiw3LDgsNyw3Miw3LDQwLDcsMTA0LDcsMjQsNyw4OCw3LDU2LDcsMTIwLDcsNCw3LDY4LDcsMzYsNywxMDAsNywyMCw3LDg0LDcsNTIsNywxMTYsNywzLDgsMTMxLDgsNjcsOCwxOTUsOCwzNSw4LDE2Myw4LDk5LDgsMjI3LDhdLGZ0LnN0YXRpY19kdHJlZT1bMCw1LDE2LDUsOCw1LDI0LDUsNCw1LDIwLDUsMTIsNSwyOCw1LDIsNSwxOCw1LDEwLDUsMjYsNSw2LDUsMjIsNSwxNCw1LDMwLDUsMSw1LDE3LDUsOSw1LDI1LDUsNSw1LDIxLDUsMTMsNSwyOSw1LDMsNSwxOSw1LDExLDUsMjcsNSw3LDUsMjMsNV0sZnQuc3RhdGljX2xfZGVzYz1uZXcgZnQoZnQuc3RhdGljX2x0cmVlLGN0LmV4dHJhX2xiaXRzLDI1NywyODYsZCksZnQuc3RhdGljX2RfZGVzYz1uZXcgZnQoZnQuc3RhdGljX2R0cmVlLGN0LmV4dHJhX2RiaXRzLDAsMzAsZCksZnQuc3RhdGljX2JsX2Rlc2M9bmV3IGZ0KG51bGwsY3QuZXh0cmFfYmxiaXRzLDAsMTksNyk7ZnVuY3Rpb24gbih0LGUsbixyLGkpe3RoaXMuZ29vZF9sZW5ndGg9dCx0aGlzLm1heF9sYXp5PWUsdGhpcy5uaWNlX2xlbmd0aD1uLHRoaXMubWF4X2NoYWluPXIsdGhpcy5mdW5jPWl9dmFyIHB0PVtuZXcgbigwLDAsMCwwLDApLG5ldyBuKDQsNCw4LDQsMSksbmV3IG4oNCw1LDE2LDgsMSksbmV3IG4oNCw2LDMyLDMyLDEpLG5ldyBuKDQsNCwxNiwxNiwyKSxuZXcgbig4LDE2LDMyLDMyLDIpLG5ldyBuKDgsMTYsMTI4LDEyOCwyKSxuZXcgbig4LDMyLDEyOCwyNTYsMiksbmV3IG4oMzIsMTI4LDI1OCwxMDI0LDIpLG5ldyBuKDMyLDI1OCwyNTgsNDA5NiwyKV0sZHQ9W1wibmVlZCBkaWN0aW9uYXJ5XCIsXCJzdHJlYW0gZW5kXCIsXCJcIixcIlwiLFwic3RyZWFtIGVycm9yXCIsXCJkYXRhIGVycm9yXCIsXCJcIixcImJ1ZmZlciBlcnJvclwiLFwiXCIsXCJcIl07ZnVuY3Rpb24gZ3QodCxlLG4scil7dmFyIGk9dFsyKmVdLG89dFsyKm5dO3JldHVybiBpPG98fGk9PW8mJnJbZV08PXJbbl19ZnVuY3Rpb24gcigpe3ZhciBsLGgsdSxjLGYscCxkLGcsaSxtLHksdix3LGEsYix4LE4sTCxBLFMsXyxGLFAsayxJLEMsQixqLEUsTSxzLE8scSxULFIsRCxVLG8seixILFcsVj10aGlzLEc9bmV3IGN0LFk9bmV3IGN0LEo9bmV3IGN0O2Z1bmN0aW9uIFgoKXt2YXIgdDtmb3IodD0wO3Q8Mjg2O3QrKylzWzIqdF09MDtmb3IodD0wO3Q8MzA7dCsrKU9bMip0XT0wO2Zvcih0PTA7dDwxOTt0KyspcVsyKnRdPTA7c1s1MTJdPTEsVi5vcHRfbGVuPVYuc3RhdGljX2xlbj0wLEQ9bz0wfWZ1bmN0aW9uIEsodCxlKXt2YXIgbixyLGk9LTEsbz10WzFdLGE9MCxzPTcsbD00O2ZvcigwPT09byYmKHM9MTM4LGw9MyksdFsyKihlKzEpKzFdPTY1NTM1LG49MDtuPD1lO24rKylyPW8sbz10WzIqKG4rMSkrMV0sKythPHMmJnI9PW98fChhPGw/cVsyKnJdKz1hOjAhPT1yPyhyIT1pJiZxWzIqcl0rKyxxWzMyXSsrKTphPD0xMD9xWzM0XSsrOnFbMzZdKyssaT1yLGw9KGE9MCk9PT1vPyhzPTEzOCwzKTpyPT1vPyhzPTYsMyk6KHM9Nyw0KSl9ZnVuY3Rpb24gWih0KXtWLnBlbmRpbmdfYnVmW1YucGVuZGluZysrXT10fWZ1bmN0aW9uIFEodCl7WigyNTUmdCksWih0Pj4+OCYyNTUpfWZ1bmN0aW9uICQodCxlKXt2YXIgbixyPWU7MTYtcjxXPyhRKEh8PShuPXQpPDxXJjY1NTM1KSxIPW4+Pj4xNi1XLFcrPXItMTYpOihIfD10PDxXJjY1NTM1LFcrPXIpfWZ1bmN0aW9uIHR0KHQsZSl7dmFyIG49Mip0OyQoNjU1MzUmZVtuXSw2NTUzNSZlW24rMV0pfWZ1bmN0aW9uIGV0KHQsZSl7dmFyIG4scixpPS0xLG89dFsxXSxhPTAscz03LGw9NDtmb3IoMD09PW8mJihzPTEzOCxsPTMpLG49MDtuPD1lO24rKylpZihyPW8sbz10WzIqKG4rMSkrMV0sISgrK2E8cyYmcj09bykpe2lmKGE8bClmb3IoO3R0KHIscSksMCE9LS1hOyk7ZWxzZSAwIT09cj8ociE9aSYmKHR0KHIscSksYS0tKSx0dCgxNixxKSwkKGEtMywyKSk6YTw9MTA/KHR0KDE3LHEpLCQoYS0zLDMpKToodHQoMTgscSksJChhLTExLDcpKTtpPXIsbD0oYT0wKT09PW8/KHM9MTM4LDMpOnI9PW8/KHM9NiwzKToocz03LDQpfX1mdW5jdGlvbiBudCgpezE2PT1XPyhRKEgpLFc9SD0wKTo4PD1XJiYoWigyNTUmSCksSD4+Pj04LFctPTgpfWZ1bmN0aW9uIHJ0KHQsZSl7dmFyIG4scixpO2lmKFYucGVuZGluZ19idWZbVSsyKkRdPXQ+Pj44JjI1NSxWLnBlbmRpbmdfYnVmW1UrMipEKzFdPTI1NSZ0LFYucGVuZGluZ19idWZbVCtEXT0yNTUmZSxEKyssMD09PXQ/c1syKmVdKys6KG8rKyx0LS0sc1syKihjdC5fbGVuZ3RoX2NvZGVbZV0rMjU2KzEpXSsrLE9bMipjdC5kX2NvZGUodCldKyspLDA9PSg4MTkxJkQpJiYyPEIpe2ZvcihuPTgqRCxyPV8tTixpPTA7aTwzMDtpKyspbis9T1syKmldKig1K2N0LmV4dHJhX2RiaXRzW2ldKTtpZihuPj4+PTMsbzxNYXRoLmZsb29yKEQvMikmJm48TWF0aC5mbG9vcihyLzIpKXJldHVybiEwfXJldHVybiBEPT1SLTF9ZnVuY3Rpb24gaXQodCxlKXt2YXIgbixyLGksbyxhPTA7aWYoMCE9PUQpZm9yKDtuPVYucGVuZGluZ19idWZbVSsyKmFdPDw4JjY1MjgwfDI1NSZWLnBlbmRpbmdfYnVmW1UrMiphKzFdLHI9MjU1JlYucGVuZGluZ19idWZbVCthXSxhKyssMD09PW4/dHQocix0KToodHQoKGk9Y3QuX2xlbmd0aF9jb2RlW3JdKSsyNTYrMSx0KSwwIT09KG89Y3QuZXh0cmFfbGJpdHNbaV0pJiYkKHItPWN0LmJhc2VfbGVuZ3RoW2ldLG8pLHR0KGk9Y3QuZF9jb2RlKC0tbiksZSksMCE9PShvPWN0LmV4dHJhX2RiaXRzW2ldKSYmJChuLT1jdC5iYXNlX2Rpc3RbaV0sbykpLGE8RDspO3R0KDI1Nix0KSx6PXRbNTEzXX1mdW5jdGlvbiBvdCgpezg8Vz9RKEgpOjA8VyYmWigyNTUmSCksVz1IPTB9ZnVuY3Rpb24gYXQodCxlLG4pe3ZhciByLGksbzskKDArKG4/MTowKSwzKSxyPXQsaT1lLG89ITAsb3QoKSx6PTgsbyYmKFEoaSksUSh+aSkpLFYucGVuZGluZ19idWYuc2V0KGcuc3ViYXJyYXkocixyK2kpLFYucGVuZGluZyksVi5wZW5kaW5nKz1pfWZ1bmN0aW9uIGUodCxlLG4pe3ZhciByLGksbz0wOzA8Qj8oRy5idWlsZF90cmVlKFYpLFkuYnVpbGRfdHJlZShWKSxvPWZ1bmN0aW9uKCl7dmFyIHQ7Zm9yKEsocyxHLm1heF9jb2RlKSxLKE8sWS5tYXhfY29kZSksSi5idWlsZF90cmVlKFYpLHQ9MTg7Mzw9dCYmMD09PXFbMipjdC5ibF9vcmRlclt0XSsxXTt0LS0pO3JldHVybiBWLm9wdF9sZW4rPTMqKHQrMSkrNSs1KzQsdH0oKSxyPVYub3B0X2xlbiszKzc+Pj4zLChpPVYuc3RhdGljX2xlbiszKzc+Pj4zKTw9ciYmKHI9aSkpOnI9aT1lKzUsZSs0PD1yJiYtMSE9dD9hdCh0LGUsbik6aT09cj8oJCgyKyhuPzE6MCksMyksaXQoZnQuc3RhdGljX2x0cmVlLGZ0LnN0YXRpY19kdHJlZSkpOigkKDQrKG4/MTowKSwzKSxmdW5jdGlvbih0LGUsbil7dmFyIHI7Zm9yKCQodC0yNTcsNSksJChlLTEsNSksJChuLTQsNCkscj0wO3I8bjtyKyspJChxWzIqY3QuYmxfb3JkZXJbcl0rMV0sMyk7ZXQocyx0LTEpLGV0KE8sZS0xKX0oRy5tYXhfY29kZSsxLFkubWF4X2NvZGUrMSxvKzEpLGl0KHMsTykpLFgoKSxuJiZvdCgpfWZ1bmN0aW9uIHN0KHQpe2UoMDw9Tj9OOi0xLF8tTix0KSxOPV8sbC5mbHVzaF9wZW5kaW5nKCl9ZnVuY3Rpb24gbHQoKXt2YXIgdCxlLG4scjtkb3tpZigwPT09KHI9aS1QLV8pJiYwPT09XyYmMD09PVApcj1mO2Vsc2UgaWYoLTE9PXIpci0tO2Vsc2UgaWYoZitmLTI2Mjw9Xyl7Zm9yKGcuc2V0KGcuc3ViYXJyYXkoZixmK2YpLDApLEYtPWYsXy09ZixOLT1mLG49dD13O2U9NjU1MzUmeVstLW5dLHlbbl09Zjw9ZT9lLWY6MCwwIT0tLXQ7KTtmb3Iobj10PWY7ZT02NTUzNSZtWy0tbl0sbVtuXT1mPD1lP2UtZjowLDAhPS0tdDspO3IrPWZ9aWYoMD09PWwuYXZhaWxfaW4pcmV0dXJuO3Q9bC5yZWFkX2J1ZihnLF8rUCxyKSwzPD0oUCs9dCkmJih2PSgodj0yNTUmZ1tfXSk8PHheMjU1JmdbXysxXSkmYil9d2hpbGUoUDwyNjImJjAhPT1sLmF2YWlsX2luKX1mdW5jdGlvbiBodCh0KXt2YXIgZSxuLHI9SSxpPV8sbz1rLGE9Zi0yNjI8Xz9fLShmLTI2Mik6MCxzPU0sbD1kLGg9XysyNTgsdT1nW2krby0xXSxjPWdbaStvXTtFPD1rJiYocj4+PTIpLFA8cyYmKHM9UCk7ZG97aWYoZ1soZT10KStvXT09YyYmZ1tlK28tMV09PXUmJmdbZV09PWdbaV0mJmdbKytlXT09Z1tpKzFdKXtpKz0yLGUrKztkb3t9d2hpbGUoZ1srK2ldPT1nWysrZV0mJmdbKytpXT09Z1srK2VdJiZnWysraV09PWdbKytlXSYmZ1srK2ldPT1nWysrZV0mJmdbKytpXT09Z1srK2VdJiZnWysraV09PWdbKytlXSYmZ1srK2ldPT1nWysrZV0mJmdbKytpXT09Z1srK2VdJiZpPGgpO2lmKG49MjU4LShoLWkpLGk9aC0yNTgsbzxuKXtpZihGPXQsczw9KG89bikpYnJlYWs7dT1nW2krby0xXSxjPWdbaStvXX19fXdoaWxlKCh0PTY1NTM1Jm1bdCZsXSk+YSYmMCE9LS1yKTtyZXR1cm4gbzw9UD9vOlB9ZnVuY3Rpb24gdXQodCl7cmV0dXJuIHQudG90YWxfaW49dC50b3RhbF9vdXQ9MCx0Lm1zZz1udWxsLFYucGVuZGluZz0wLFYucGVuZGluZ19vdXQ9MCxoPTExMyxjPTAsRy5keW5fdHJlZT1zLEcuc3RhdF9kZXNjPWZ0LnN0YXRpY19sX2Rlc2MsWS5keW5fdHJlZT1PLFkuc3RhdF9kZXNjPWZ0LnN0YXRpY19kX2Rlc2MsSi5keW5fdHJlZT1xLEouc3RhdF9kZXNjPWZ0LnN0YXRpY19ibF9kZXNjLFc9SD0wLHo9OCxYKCksZnVuY3Rpb24oKXt2YXIgdDtmb3IoaT0yKmYsdD15W3ctMV09MDt0PHctMTt0KyspeVt0XT0wO0M9cHRbQl0ubWF4X2xhenksRT1wdFtCXS5nb29kX2xlbmd0aCxNPXB0W0JdLm5pY2VfbGVuZ3RoLEk9cHRbQl0ubWF4X2NoYWluLEw9az0yLHY9Uz1QPU49Xz0wfSgpLDB9Vi5kZXB0aD1bXSxWLmJsX2NvdW50PVtdLFYuaGVhcD1bXSxzPVtdLE89W10scT1bXSxWLnBxZG93bmhlYXA9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49Vi5oZWFwLHI9bltlXSxpPWU8PDE7aTw9Vi5oZWFwX2xlbiYmKGk8Vi5oZWFwX2xlbiYmZ3QodCxuW2krMV0sbltpXSxWLmRlcHRoKSYmaSsrLCFndCh0LHIsbltpXSxWLmRlcHRoKSk7KW5bZV09bltpXSxlPWksaTw8PTE7bltlXT1yfSxWLmRlZmxhdGVJbml0PWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXtyZXR1cm4gcnx8KHI9OCksaXx8KGk9OCksb3x8KG89MCksdC5tc2c9bnVsbCwtMT09ZSYmKGU9NiksaTwxfHw5PGl8fDghPXJ8fG48OXx8MTU8bnx8ZTwwfHw5PGV8fG88MHx8MjxvPy0yOih0LmRzdGF0ZT1WLGQ9KGY9MTw8KHA9bikpLTEsYj0odz0xPDwoYT1pKzcpKS0xLHg9TWF0aC5mbG9vcigoYSszLTEpLzMpLGc9bmV3IFVpbnQ4QXJyYXkoMipmKSxtPVtdLHk9W10sUj0xPDxpKzYsVi5wZW5kaW5nX2J1Zj1uZXcgVWludDhBcnJheSg0KlIpLHU9NCpSLFU9TWF0aC5mbG9vcihSLzIpLFQ9MypSLEI9ZSxqPW8sdXQodCkpfSxWLmRlZmxhdGVFbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gNDIhPWgmJjExMyE9aCYmNjY2IT1oPy0yOihWLnBlbmRpbmdfYnVmPW51bGwsZz1tPXk9bnVsbCxWLmRzdGF0ZT1udWxsLDExMz09aD8tMzowKX0sVi5kZWZsYXRlUGFyYW1zPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0wO3JldHVybi0xPT1lJiYoZT02KSxlPDB8fDk8ZXx8bjwwfHwyPG4/LTI6KHB0W0JdLmZ1bmMhPXB0W2VdLmZ1bmMmJjAhPT10LnRvdGFsX2luJiYocj10LmRlZmxhdGUoMSkpLEIhPWUmJihDPXB0W0I9ZV0ubWF4X2xhenksRT1wdFtCXS5nb29kX2xlbmd0aCxNPXB0W0JdLm5pY2VfbGVuZ3RoLEk9cHRbQl0ubWF4X2NoYWluKSxqPW4scil9LFYuZGVmbGF0ZVNldERpY3Rpb25hcnk9ZnVuY3Rpb24odCxlLG4pe3ZhciByLGk9bixvPTA7aWYoIWV8fDQyIT1oKXJldHVybi0yO2lmKGk8MylyZXR1cm4gMDtmb3IoZi0yNjI8aSYmKG89bi0oaT1mLTI2MikpLGcuc2V0KGUuc3ViYXJyYXkobyxvK2kpLDApLE49Xz1pLHY9KCh2PTI1NSZnWzBdKTw8eF4yNTUmZ1sxXSkmYixyPTA7cjw9aS0zO3IrKyl2PSh2PDx4XjI1NSZnW3IrMl0pJmIsbVtyJmRdPXlbdl0seVt2XT1yO3JldHVybiAwfSxWLmRlZmxhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbixyLGksbyxhLHM7aWYoNDxlfHxlPDApcmV0dXJuLTI7aWYoIXQubmV4dF9vdXR8fCF0Lm5leHRfaW4mJjAhPT10LmF2YWlsX2lufHw2NjY9PWgmJjQhPWUpcmV0dXJuIHQubXNnPWR0WzRdLC0yO2lmKDA9PT10LmF2YWlsX291dClyZXR1cm4gdC5tc2c9ZHRbN10sLTU7aWYobD10LG89YyxjPWUsNDI9PWgmJihyPTgrKHAtODw8NCk8PDgsMzwoaT0oQi0xJjI1NSk+PjEpJiYoaT0zKSxyfD1pPDw2LDAhPT1fJiYocnw9MzIpLGg9MTEzLFooKHM9cis9MzEtciUzMSk+PjgmMjU1KSxaKDI1NSZzKSksMCE9PVYucGVuZGluZyl7aWYobC5mbHVzaF9wZW5kaW5nKCksMD09PWwuYXZhaWxfb3V0KXJldHVybiBjPS0xLDB9ZWxzZSBpZigwPT09bC5hdmFpbF9pbiYmZTw9byYmNCE9ZSlyZXR1cm4gbC5tc2c9ZHRbN10sLTU7aWYoNjY2PT1oJiYwIT09bC5hdmFpbF9pbilyZXR1cm4gdC5tc2c9ZHRbN10sLTU7aWYoMCE9PWwuYXZhaWxfaW58fDAhPT1QfHwwIT1lJiY2NjYhPWgpe3N3aXRjaChhPS0xLHB0W0JdLmZ1bmMpe2Nhc2UgMDphPWZ1bmN0aW9uKHQpe3ZhciBlLG49NjU1MzU7Zm9yKHUtNTxuJiYobj11LTUpOzspe2lmKFA8PTEpe2lmKGx0KCksMD09PVAmJjA9PXQpcmV0dXJuIDA7aWYoMD09PVApYnJlYWt9aWYoXys9UCxlPU4rbiwoKFA9MCk9PT1ffHxlPD1fKSYmKFA9Xy1lLF89ZSxzdCghMSksMD09PWwuYXZhaWxfb3V0KSlyZXR1cm4gMDtpZihmLTI2Mjw9Xy1OJiYoc3QoITEpLDA9PT1sLmF2YWlsX291dCkpcmV0dXJuIDB9cmV0dXJuIHN0KDQ9PXQpLDA9PT1sLmF2YWlsX291dD80PT10PzI6MDo0PT10PzM6MX0oZSk7YnJlYWs7Y2FzZSAxOmE9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49MDs7KXtpZihQPDI2Mil7aWYobHQoKSxQPDI2MiYmMD09dClyZXR1cm4gMDtpZigwPT09UClicmVha31pZigzPD1QJiYodj0odjw8eF4yNTUmZ1tfKzJdKSZiLG49NjU1MzUmeVt2XSxtW18mZF09eVt2XSx5W3ZdPV8pLDAhPT1uJiYoXy1uJjY1NTM1KTw9Zi0yNjImJjIhPWomJihMPWh0KG4pKSwzPD1MKWlmKGU9cnQoXy1GLEwtMyksUC09TCxMPD1DJiYzPD1QKXtmb3IoTC0tO3Y9KHY8PHheMjU1JmdbKytfKzJdKSZiLG49NjU1MzUmeVt2XSxtW18mZF09eVt2XSx5W3ZdPV8sMCE9LS1MOyk7XysrfWVsc2UgXys9TCxMPTAsdj0oKHY9MjU1JmdbX10pPDx4XjI1NSZnW18rMV0pJmI7ZWxzZSBlPXJ0KDAsMjU1JmdbX10pLFAtLSxfKys7aWYoZSYmKHN0KCExKSwwPT09bC5hdmFpbF9vdXQpKXJldHVybiAwfXJldHVybiBzdCg0PT10KSwwPT09bC5hdmFpbF9vdXQ/ND09dD8yOjA6ND09dD8zOjF9KGUpO2JyZWFrO2Nhc2UgMjphPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuLHI9MDs7KXtpZihQPDI2Mil7aWYobHQoKSxQPDI2MiYmMD09dClyZXR1cm4gMDtpZigwPT09UClicmVha31pZigzPD1QJiYodj0odjw8eF4yNTUmZ1tfKzJdKSZiLHI9NjU1MzUmeVt2XSxtW18mZF09eVt2XSx5W3ZdPV8pLGs9TCxBPUYsTD0yLDAhPT1yJiZrPEMmJihfLXImNjU1MzUpPD1mLTI2MiYmKDIhPWomJihMPWh0KHIpKSxMPD01JiYoMT09anx8Mz09TCYmNDA5NjxfLUYpJiYoTD0yKSksMzw9ayYmTDw9ayl7Zm9yKG49XytQLTMsZT1ydChfLTEtQSxrLTMpLFAtPWstMSxrLT0yOysrXzw9biYmKHY9KHY8PHheMjU1JmdbXysyXSkmYixyPTY1NTM1Jnlbdl0sbVtfJmRdPXlbdl0seVt2XT1fKSwwIT0tLWs7KTtpZihTPTAsTD0yLF8rKyxlJiYoc3QoITEpLDA9PT1sLmF2YWlsX291dCkpcmV0dXJuIDB9ZWxzZSBpZigwIT09Uyl7aWYoKGU9cnQoMCwyNTUmZ1tfLTFdKSkmJnN0KCExKSxfKyssUC0tLDA9PT1sLmF2YWlsX291dClyZXR1cm4gMH1lbHNlIFM9MSxfKyssUC0tfXJldHVybiAwIT09UyYmKGU9cnQoMCwyNTUmZ1tfLTFdKSxTPTApLHN0KDQ9PXQpLDA9PT1sLmF2YWlsX291dD80PT10PzI6MDo0PT10PzM6MX0oZSl9aWYoMiE9YSYmMyE9YXx8KGg9NjY2KSwwPT1hfHwyPT1hKXJldHVybiAwPT09bC5hdmFpbF9vdXQmJihjPS0xKSwwO2lmKDE9PWEpe2lmKDE9PWUpJCgyLDMpLHR0KDI1NixmdC5zdGF0aWNfbHRyZWUpLG50KCksMSt6KzEwLVc8OSYmKCQoMiwzKSx0dCgyNTYsZnQuc3RhdGljX2x0cmVlKSxudCgpKSx6PTc7ZWxzZSBpZihhdCgwLDAsITEpLDM9PWUpZm9yKG49MDtuPHc7bisrKXlbbl09MDtpZihsLmZsdXNoX3BlbmRpbmcoKSwwPT09bC5hdmFpbF9vdXQpcmV0dXJuIGM9LTEsMH19cmV0dXJuIDQhPWU/MDoxfX1mdW5jdGlvbiBpKCl7dGhpcy5uZXh0X2luX2luZGV4PTAsdGhpcy5uZXh0X291dF9pbmRleD0wLHRoaXMuYXZhaWxfaW49MCx0aGlzLnRvdGFsX2luPTAsdGhpcy5hdmFpbF9vdXQ9MCx0aGlzLnRvdGFsX291dD0wfWkucHJvdG90eXBlPXtkZWZsYXRlSW5pdDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmRzdGF0ZT1uZXcgcixlfHwoZT1kKSx0aGlzLmRzdGF0ZS5kZWZsYXRlSW5pdCh0aGlzLHQsZSl9LGRlZmxhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZHN0YXRlP3RoaXMuZHN0YXRlLmRlZmxhdGUodGhpcyx0KTotMn0sZGVmbGF0ZUVuZDpmdW5jdGlvbigpe2lmKCF0aGlzLmRzdGF0ZSlyZXR1cm4tMjt2YXIgdD10aGlzLmRzdGF0ZS5kZWZsYXRlRW5kKCk7cmV0dXJuIHRoaXMuZHN0YXRlPW51bGwsdH0sZGVmbGF0ZVBhcmFtczpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmRzdGF0ZT90aGlzLmRzdGF0ZS5kZWZsYXRlUGFyYW1zKHRoaXMsdCxlKTotMn0sZGVmbGF0ZVNldERpY3Rpb25hcnk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kc3RhdGU/dGhpcy5kc3RhdGUuZGVmbGF0ZVNldERpY3Rpb25hcnkodGhpcyx0LGUpOi0yfSxyZWFkX2J1ZjpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5hdmFpbF9pbjtyZXR1cm4gbjxyJiYocj1uKSwwPT09cj8wOih0aGlzLmF2YWlsX2luLT1yLHQuc2V0KHRoaXMubmV4dF9pbi5zdWJhcnJheSh0aGlzLm5leHRfaW5faW5kZXgsdGhpcy5uZXh0X2luX2luZGV4K3IpLGUpLHRoaXMubmV4dF9pbl9pbmRleCs9cix0aGlzLnRvdGFsX2luKz1yLHIpfSxmbHVzaF9wZW5kaW5nOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuZHN0YXRlLnBlbmRpbmc7ZT50LmF2YWlsX291dCYmKGU9dC5hdmFpbF9vdXQpLDAhPT1lJiYodC5uZXh0X291dC5zZXQodC5kc3RhdGUucGVuZGluZ19idWYuc3ViYXJyYXkodC5kc3RhdGUucGVuZGluZ19vdXQsdC5kc3RhdGUucGVuZGluZ19vdXQrZSksdC5uZXh0X291dF9pbmRleCksdC5uZXh0X291dF9pbmRleCs9ZSx0LmRzdGF0ZS5wZW5kaW5nX291dCs9ZSx0LnRvdGFsX291dCs9ZSx0LmF2YWlsX291dC09ZSx0LmRzdGF0ZS5wZW5kaW5nLT1lLDA9PT10LmRzdGF0ZS5wZW5kaW5nJiYodC5kc3RhdGUucGVuZGluZ19vdXQ9MCkpfX07dmFyIG89dC56aXB8fHQ7by5EZWZsYXRlcj1vLl9qemxpYl9EZWZsYXRlcj1mdW5jdGlvbih0KXt2YXIgcz1uZXcgaSxsPW5ldyBVaW50OEFycmF5KDUxMiksZT10P3QubGV2ZWw6LTE7dm9pZCAwPT09ZSYmKGU9LTEpLHMuZGVmbGF0ZUluaXQoZSkscy5uZXh0X291dD1sLHRoaXMuYXBwZW5kPWZ1bmN0aW9uKHQsZSl7dmFyIG4scj1bXSxpPTAsbz0wLGE9MDtpZih0Lmxlbmd0aCl7cy5uZXh0X2luX2luZGV4PTAscy5uZXh0X2luPXQscy5hdmFpbF9pbj10Lmxlbmd0aDtkb3tpZihzLm5leHRfb3V0X2luZGV4PTAscy5hdmFpbF9vdXQ9NTEyLDAhPXMuZGVmbGF0ZSgwKSl0aHJvdyBuZXcgRXJyb3IoXCJkZWZsYXRpbmc6IFwiK3MubXNnKTtzLm5leHRfb3V0X2luZGV4JiYoNTEyPT1zLm5leHRfb3V0X2luZGV4P3IucHVzaChuZXcgVWludDhBcnJheShsKSk6ci5wdXNoKG5ldyBVaW50OEFycmF5KGwuc3ViYXJyYXkoMCxzLm5leHRfb3V0X2luZGV4KSkpKSxhKz1zLm5leHRfb3V0X2luZGV4LGUmJjA8cy5uZXh0X2luX2luZGV4JiZzLm5leHRfaW5faW5kZXghPWkmJihlKHMubmV4dF9pbl9pbmRleCksaT1zLm5leHRfaW5faW5kZXgpfXdoaWxlKDA8cy5hdmFpbF9pbnx8MD09PXMuYXZhaWxfb3V0KTtyZXR1cm4gbj1uZXcgVWludDhBcnJheShhKSxyLmZvckVhY2goZnVuY3Rpb24odCl7bi5zZXQodCxvKSxvKz10Lmxlbmd0aH0pLG59fSx0aGlzLmZsdXNoPWZ1bmN0aW9uKCl7dmFyIHQsZSxuPVtdLHI9MCxpPTA7ZG97aWYocy5uZXh0X291dF9pbmRleD0wLHMuYXZhaWxfb3V0PTUxMiwxIT0odD1zLmRlZmxhdGUoNCkpJiYwIT10KXRocm93IG5ldyBFcnJvcihcImRlZmxhdGluZzogXCIrcy5tc2cpOzA8NTEyLXMuYXZhaWxfb3V0JiZuLnB1c2gobmV3IFVpbnQ4QXJyYXkobC5zdWJhcnJheSgwLHMubmV4dF9vdXRfaW5kZXgpKSksaSs9cy5uZXh0X291dF9pbmRleH13aGlsZSgwPHMuYXZhaWxfaW58fDA9PT1zLmF2YWlsX291dCk7cmV0dXJuIHMuZGVmbGF0ZUVuZCgpLGU9bmV3IFVpbnQ4QXJyYXkoaSksbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe2Uuc2V0KHQscikscis9dC5sZW5ndGh9KSxlfX19KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3d8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbHx8RnVuY3Rpb24oJ3JldHVybiB0eXBlb2YgdGhpcyA9PT0gXCJvYmplY3RcIiAmJiB0aGlzLmNvbnRlbnQnKSgpfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkpLChcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93fHxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWx8fEZ1bmN0aW9uKCdyZXR1cm4gdHlwZW9mIHRoaXMgPT09IFwib2JqZWN0XCIgJiYgdGhpcy5jb250ZW50JykoKXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpKS5SR0JDb2xvcj1mdW5jdGlvbih0KXt2YXIgZTt0PXR8fFwiXCIsdGhpcy5vaz0hMSxcIiNcIj09dC5jaGFyQXQoMCkmJih0PXQuc3Vic3RyKDEsNikpLHQ9KHQ9dC5yZXBsYWNlKC8gL2csXCJcIikpLnRvTG93ZXJDYXNlKCk7dmFyIG49e2FsaWNlYmx1ZTpcImYwZjhmZlwiLGFudGlxdWV3aGl0ZTpcImZhZWJkN1wiLGFxdWE6XCIwMGZmZmZcIixhcXVhbWFyaW5lOlwiN2ZmZmQ0XCIsYXp1cmU6XCJmMGZmZmZcIixiZWlnZTpcImY1ZjVkY1wiLGJpc3F1ZTpcImZmZTRjNFwiLGJsYWNrOlwiMDAwMDAwXCIsYmxhbmNoZWRhbG1vbmQ6XCJmZmViY2RcIixibHVlOlwiMDAwMGZmXCIsYmx1ZXZpb2xldDpcIjhhMmJlMlwiLGJyb3duOlwiYTUyYTJhXCIsYnVybHl3b29kOlwiZGViODg3XCIsY2FkZXRibHVlOlwiNWY5ZWEwXCIsY2hhcnRyZXVzZTpcIjdmZmYwMFwiLGNob2NvbGF0ZTpcImQyNjkxZVwiLGNvcmFsOlwiZmY3ZjUwXCIsY29ybmZsb3dlcmJsdWU6XCI2NDk1ZWRcIixjb3Juc2lsazpcImZmZjhkY1wiLGNyaW1zb246XCJkYzE0M2NcIixjeWFuOlwiMDBmZmZmXCIsZGFya2JsdWU6XCIwMDAwOGJcIixkYXJrY3lhbjpcIjAwOGI4YlwiLGRhcmtnb2xkZW5yb2Q6XCJiODg2MGJcIixkYXJrZ3JheTpcImE5YTlhOVwiLGRhcmtncmVlbjpcIjAwNjQwMFwiLGRhcmtraGFraTpcImJkYjc2YlwiLGRhcmttYWdlbnRhOlwiOGIwMDhiXCIsZGFya29saXZlZ3JlZW46XCI1NTZiMmZcIixkYXJrb3JhbmdlOlwiZmY4YzAwXCIsZGFya29yY2hpZDpcIjk5MzJjY1wiLGRhcmtyZWQ6XCI4YjAwMDBcIixkYXJrc2FsbW9uOlwiZTk5NjdhXCIsZGFya3NlYWdyZWVuOlwiOGZiYzhmXCIsZGFya3NsYXRlYmx1ZTpcIjQ4M2Q4YlwiLGRhcmtzbGF0ZWdyYXk6XCIyZjRmNGZcIixkYXJrdHVycXVvaXNlOlwiMDBjZWQxXCIsZGFya3Zpb2xldDpcIjk0MDBkM1wiLGRlZXBwaW5rOlwiZmYxNDkzXCIsZGVlcHNreWJsdWU6XCIwMGJmZmZcIixkaW1ncmF5OlwiNjk2OTY5XCIsZG9kZ2VyYmx1ZTpcIjFlOTBmZlwiLGZlbGRzcGFyOlwiZDE5Mjc1XCIsZmlyZWJyaWNrOlwiYjIyMjIyXCIsZmxvcmFsd2hpdGU6XCJmZmZhZjBcIixmb3Jlc3RncmVlbjpcIjIyOGIyMlwiLGZ1Y2hzaWE6XCJmZjAwZmZcIixnYWluc2Jvcm86XCJkY2RjZGNcIixnaG9zdHdoaXRlOlwiZjhmOGZmXCIsZ29sZDpcImZmZDcwMFwiLGdvbGRlbnJvZDpcImRhYTUyMFwiLGdyYXk6XCI4MDgwODBcIixncmVlbjpcIjAwODAwMFwiLGdyZWVueWVsbG93OlwiYWRmZjJmXCIsaG9uZXlkZXc6XCJmMGZmZjBcIixob3RwaW5rOlwiZmY2OWI0XCIsaW5kaWFucmVkOlwiY2Q1YzVjXCIsaW5kaWdvOlwiNGIwMDgyXCIsaXZvcnk6XCJmZmZmZjBcIixraGFraTpcImYwZTY4Y1wiLGxhdmVuZGVyOlwiZTZlNmZhXCIsbGF2ZW5kZXJibHVzaDpcImZmZjBmNVwiLGxhd25ncmVlbjpcIjdjZmMwMFwiLGxlbW9uY2hpZmZvbjpcImZmZmFjZFwiLGxpZ2h0Ymx1ZTpcImFkZDhlNlwiLGxpZ2h0Y29yYWw6XCJmMDgwODBcIixsaWdodGN5YW46XCJlMGZmZmZcIixsaWdodGdvbGRlbnJvZHllbGxvdzpcImZhZmFkMlwiLGxpZ2h0Z3JleTpcImQzZDNkM1wiLGxpZ2h0Z3JlZW46XCI5MGVlOTBcIixsaWdodHBpbms6XCJmZmI2YzFcIixsaWdodHNhbG1vbjpcImZmYTA3YVwiLGxpZ2h0c2VhZ3JlZW46XCIyMGIyYWFcIixsaWdodHNreWJsdWU6XCI4N2NlZmFcIixsaWdodHNsYXRlYmx1ZTpcIjg0NzBmZlwiLGxpZ2h0c2xhdGVncmF5OlwiNzc4ODk5XCIsbGlnaHRzdGVlbGJsdWU6XCJiMGM0ZGVcIixsaWdodHllbGxvdzpcImZmZmZlMFwiLGxpbWU6XCIwMGZmMDBcIixsaW1lZ3JlZW46XCIzMmNkMzJcIixsaW5lbjpcImZhZjBlNlwiLG1hZ2VudGE6XCJmZjAwZmZcIixtYXJvb246XCI4MDAwMDBcIixtZWRpdW1hcXVhbWFyaW5lOlwiNjZjZGFhXCIsbWVkaXVtYmx1ZTpcIjAwMDBjZFwiLG1lZGl1bW9yY2hpZDpcImJhNTVkM1wiLG1lZGl1bXB1cnBsZTpcIjkzNzBkOFwiLG1lZGl1bXNlYWdyZWVuOlwiM2NiMzcxXCIsbWVkaXVtc2xhdGVibHVlOlwiN2I2OGVlXCIsbWVkaXVtc3ByaW5nZ3JlZW46XCIwMGZhOWFcIixtZWRpdW10dXJxdW9pc2U6XCI0OGQxY2NcIixtZWRpdW12aW9sZXRyZWQ6XCJjNzE1ODVcIixtaWRuaWdodGJsdWU6XCIxOTE5NzBcIixtaW50Y3JlYW06XCJmNWZmZmFcIixtaXN0eXJvc2U6XCJmZmU0ZTFcIixtb2NjYXNpbjpcImZmZTRiNVwiLG5hdmFqb3doaXRlOlwiZmZkZWFkXCIsbmF2eTpcIjAwMDA4MFwiLG9sZGxhY2U6XCJmZGY1ZTZcIixvbGl2ZTpcIjgwODAwMFwiLG9saXZlZHJhYjpcIjZiOGUyM1wiLG9yYW5nZTpcImZmYTUwMFwiLG9yYW5nZXJlZDpcImZmNDUwMFwiLG9yY2hpZDpcImRhNzBkNlwiLHBhbGVnb2xkZW5yb2Q6XCJlZWU4YWFcIixwYWxlZ3JlZW46XCI5OGZiOThcIixwYWxldHVycXVvaXNlOlwiYWZlZWVlXCIscGFsZXZpb2xldHJlZDpcImQ4NzA5M1wiLHBhcGF5YXdoaXA6XCJmZmVmZDVcIixwZWFjaHB1ZmY6XCJmZmRhYjlcIixwZXJ1OlwiY2Q4NTNmXCIscGluazpcImZmYzBjYlwiLHBsdW06XCJkZGEwZGRcIixwb3dkZXJibHVlOlwiYjBlMGU2XCIscHVycGxlOlwiODAwMDgwXCIscmVkOlwiZmYwMDAwXCIscm9zeWJyb3duOlwiYmM4ZjhmXCIscm95YWxibHVlOlwiNDE2OWUxXCIsc2FkZGxlYnJvd246XCI4YjQ1MTNcIixzYWxtb246XCJmYTgwNzJcIixzYW5keWJyb3duOlwiZjRhNDYwXCIsc2VhZ3JlZW46XCIyZThiNTdcIixzZWFzaGVsbDpcImZmZjVlZVwiLHNpZW5uYTpcImEwNTIyZFwiLHNpbHZlcjpcImMwYzBjMFwiLHNreWJsdWU6XCI4N2NlZWJcIixzbGF0ZWJsdWU6XCI2YTVhY2RcIixzbGF0ZWdyYXk6XCI3MDgwOTBcIixzbm93OlwiZmZmYWZhXCIsc3ByaW5nZ3JlZW46XCIwMGZmN2ZcIixzdGVlbGJsdWU6XCI0NjgyYjRcIix0YW46XCJkMmI0OGNcIix0ZWFsOlwiMDA4MDgwXCIsdGhpc3RsZTpcImQ4YmZkOFwiLHRvbWF0bzpcImZmNjM0N1wiLHR1cnF1b2lzZTpcIjQwZTBkMFwiLHZpb2xldDpcImVlODJlZVwiLHZpb2xldHJlZDpcImQwMjA5MFwiLHdoZWF0OlwiZjVkZWIzXCIsd2hpdGU6XCJmZmZmZmZcIix3aGl0ZXNtb2tlOlwiZjVmNWY1XCIseWVsbG93OlwiZmZmZjAwXCIseWVsbG93Z3JlZW46XCI5YWNkMzJcIn07Zm9yKHZhciByIGluIG4pdD09ciYmKHQ9bltyXSk7Zm9yKHZhciBpPVt7cmU6L15yZ2JcXCgoXFxkezEsM30pLFxccyooXFxkezEsM30pLFxccyooXFxkezEsM30pXFwpJC8sZXhhbXBsZTpbXCJyZ2IoMTIzLCAyMzQsIDQ1KVwiLFwicmdiKDI1NSwyMzQsMjQ1KVwiXSxwcm9jZXNzOmZ1bmN0aW9uKHQpe3JldHVybltwYXJzZUludCh0WzFdKSxwYXJzZUludCh0WzJdKSxwYXJzZUludCh0WzNdKV19fSx7cmU6L14oXFx3ezJ9KShcXHd7Mn0pKFxcd3syfSkkLyxleGFtcGxlOltcIiMwMGZmMDBcIixcIjMzNjY5OVwiXSxwcm9jZXNzOmZ1bmN0aW9uKHQpe3JldHVybltwYXJzZUludCh0WzFdLDE2KSxwYXJzZUludCh0WzJdLDE2KSxwYXJzZUludCh0WzNdLDE2KV19fSx7cmU6L14oXFx3ezF9KShcXHd7MX0pKFxcd3sxfSkkLyxleGFtcGxlOltcIiNmYjBcIixcImYwZlwiXSxwcm9jZXNzOmZ1bmN0aW9uKHQpe3JldHVybltwYXJzZUludCh0WzFdK3RbMV0sMTYpLHBhcnNlSW50KHRbMl0rdFsyXSwxNikscGFyc2VJbnQodFszXSt0WzNdLDE2KV19fV0sbz0wO288aS5sZW5ndGg7bysrKXt2YXIgYT1pW29dLnJlLHM9aVtvXS5wcm9jZXNzLGw9YS5leGVjKHQpO2wmJihlPXMobCksdGhpcy5yPWVbMF0sdGhpcy5nPWVbMV0sdGhpcy5iPWVbMl0sdGhpcy5vaz0hMCl9dGhpcy5yPXRoaXMucjwwfHxpc05hTih0aGlzLnIpPzA6MjU1PHRoaXMucj8yNTU6dGhpcy5yLHRoaXMuZz10aGlzLmc8MHx8aXNOYU4odGhpcy5nKT8wOjI1NTx0aGlzLmc/MjU1OnRoaXMuZyx0aGlzLmI9dGhpcy5iPDB8fGlzTmFOKHRoaXMuYik/MDoyNTU8dGhpcy5iPzI1NTp0aGlzLmIsdGhpcy50b1JHQj1mdW5jdGlvbigpe3JldHVyblwicmdiKFwiK3RoaXMucitcIiwgXCIrdGhpcy5nK1wiLCBcIit0aGlzLmIrXCIpXCJ9LHRoaXMudG9IZXg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnIudG9TdHJpbmcoMTYpLGU9dGhpcy5nLnRvU3RyaW5nKDE2KSxuPXRoaXMuYi50b1N0cmluZygxNik7cmV0dXJuIDE9PXQubGVuZ3RoJiYodD1cIjBcIit0KSwxPT1lLmxlbmd0aCYmKGU9XCIwXCIrZSksMT09bi5sZW5ndGgmJihuPVwiMFwiK24pLFwiI1wiK3QrZStufX0sZnVuY3Rpb24odCl7dmFyIG49XCIrXCIuY2hhckNvZGVBdCgwKSxyPVwiL1wiLmNoYXJDb2RlQXQoMCksaT1cIjBcIi5jaGFyQ29kZUF0KDApLG89XCJhXCIuY2hhckNvZGVBdCgwKSxhPVwiQVwiLmNoYXJDb2RlQXQoMCkscz1cIi1cIi5jaGFyQ29kZUF0KDApLGw9XCJfXCIuY2hhckNvZGVBdCgwKSx1PWZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hhckNvZGVBdCgwKTtyZXR1cm4gZT09PW58fGU9PT1zPzYyOmU9PT1yfHxlPT09bD82MzplPGk/LTE6ZTxpKzEwP2UtaSsyNisyNjplPGErMjY/ZS1hOmU8bysyNj9lLW8rMjY6dm9pZCAwfTt0LkFQSS5UVEZGb250PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSh0LGUsbil7dmFyIHI7aWYodGhpcy5yYXdEYXRhPXQscj10aGlzLmNvbnRlbnRzPW5ldyBKKHQpLHRoaXMuY29udGVudHMucG9zPTQsXCJ0dGNmXCI9PT1yLnJlYWRTdHJpbmcoNCkpe2lmKCFlKXRocm93IG5ldyBFcnJvcihcIk11c3Qgc3BlY2lmeSBhIGZvbnQgbmFtZSBmb3IgVFRDIGZpbGVzLlwiKTt0aHJvdyBuZXcgRXJyb3IoXCJGb250IFwiK2UrXCIgbm90IGZvdW5kIGluIFRUQyBmaWxlLlwiKX1yLnBvcz0wLHRoaXMucGFyc2UoKSx0aGlzLnN1YnNldD1uZXcgUCh0aGlzKSx0aGlzLnJlZ2lzdGVyVFRGKCl9cmV0dXJuIGkub3Blbj1mdW5jdGlvbih0LGUsbixyKXtpZihcInN0cmluZ1wiIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIGluIFRURkZvbnQub3BlblwiKTtyZXR1cm4gbmV3IGkoZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhO2lmKDA8dC5sZW5ndGglNCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0XCIpO3ZhciBzPXQubGVuZ3RoO289XCI9XCI9PT10LmNoYXJBdChzLTIpPzI6XCI9XCI9PT10LmNoYXJBdChzLTEpPzE6MCxhPW5ldyBVaW50OEFycmF5KDMqdC5sZW5ndGgvNC1vKSxyPTA8bz90Lmxlbmd0aC00OnQubGVuZ3RoO3ZhciBsPTA7ZnVuY3Rpb24gaCh0KXthW2wrK109dH1mb3Iobj1lPTA7ZTxyO2UrPTQsbis9MyloKCgxNjcxMTY4MCYoaT11KHQuY2hhckF0KGUpKTw8MTh8dSh0LmNoYXJBdChlKzEpKTw8MTJ8dSh0LmNoYXJBdChlKzIpKTw8Nnx1KHQuY2hhckF0KGUrMykpKSk+PjE2KSxoKCg2NTI4MCZpKT4+OCksaCgyNTUmaSk7cmV0dXJuIDI9PT1vP2goMjU1JihpPXUodC5jaGFyQXQoZSkpPDwyfHUodC5jaGFyQXQoZSsxKSk+PjQpKToxPT09byYmKGgoKGk9dSh0LmNoYXJBdChlKSk8PDEwfHUodC5jaGFyQXQoZSsxKSk8PDR8dSh0LmNoYXJBdChlKzIpKT4+Mik+PjgmMjU1KSxoKDI1NSZpKSksYX0obiksZSxyKX0saS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJlY3Rvcnk9bmV3IGUodGhpcy5jb250ZW50cyksdGhpcy5oZWFkPW5ldyBwKHRoaXMpLHRoaXMubmFtZT1uZXcgYih0aGlzKSx0aGlzLmNtYXA9bmV3IHkodGhpcyksdGhpcy50b1VuaWNvZGU9bmV3IE1hcCx0aGlzLmhoZWE9bmV3IGcodGhpcyksdGhpcy5tYXhwPW5ldyB4KHRoaXMpLHRoaXMuaG10eD1uZXcgTih0aGlzKSx0aGlzLnBvc3Q9bmV3IHYodGhpcyksdGhpcy5vczI9bmV3IG0odGhpcyksdGhpcy5sb2NhPW5ldyBGKHRoaXMpLHRoaXMuZ2x5Zj1uZXcgQSh0aGlzKSx0aGlzLmFzY2VuZGVyPXRoaXMub3MyLmV4aXN0cyYmdGhpcy5vczIuYXNjZW5kZXJ8fHRoaXMuaGhlYS5hc2NlbmRlcix0aGlzLmRlY2VuZGVyPXRoaXMub3MyLmV4aXN0cyYmdGhpcy5vczIuZGVjZW5kZXJ8fHRoaXMuaGhlYS5kZWNlbmRlcix0aGlzLmxpbmVHYXA9dGhpcy5vczIuZXhpc3RzJiZ0aGlzLm9zMi5saW5lR2FwfHx0aGlzLmhoZWEubGluZUdhcCx0aGlzLmJib3g9W3RoaXMuaGVhZC54TWluLHRoaXMuaGVhZC55TWluLHRoaXMuaGVhZC54TWF4LHRoaXMuaGVhZC55TWF4XX0saS5wcm90b3R5cGUucmVnaXN0ZXJUVEY9ZnVuY3Rpb24oKXt2YXIgaSx0LGUsbixyO2lmKHRoaXMuc2NhbGVGYWN0b3I9MWUzL3RoaXMuaGVhZC51bml0c1BlckVtLHRoaXMuYmJveD1mdW5jdGlvbigpe3ZhciB0LGUsbixyO2ZvcihyPVtdLHQ9MCxlPShuPXRoaXMuYmJveCkubGVuZ3RoO3Q8ZTt0KyspaT1uW3RdLHIucHVzaChNYXRoLnJvdW5kKGkqdGhpcy5zY2FsZUZhY3RvcikpO3JldHVybiByfS5jYWxsKHRoaXMpLHRoaXMuc3RlbVY9MCx0aGlzLnBvc3QuZXhpc3RzPyhlPTI1NSYobj10aGlzLnBvc3QuaXRhbGljX2FuZ2xlKSwhMCYodD1uPj4xNikmJih0PS0oMSsoNjU1MzVedCkpKSx0aGlzLml0YWxpY0FuZ2xlPSsodCtcIi5cIitlKSk6dGhpcy5pdGFsaWNBbmdsZT0wLHRoaXMuYXNjZW5kZXI9TWF0aC5yb3VuZCh0aGlzLmFzY2VuZGVyKnRoaXMuc2NhbGVGYWN0b3IpLHRoaXMuZGVjZW5kZXI9TWF0aC5yb3VuZCh0aGlzLmRlY2VuZGVyKnRoaXMuc2NhbGVGYWN0b3IpLHRoaXMubGluZUdhcD1NYXRoLnJvdW5kKHRoaXMubGluZUdhcCp0aGlzLnNjYWxlRmFjdG9yKSx0aGlzLmNhcEhlaWdodD10aGlzLm9zMi5leGlzdHMmJnRoaXMub3MyLmNhcEhlaWdodHx8dGhpcy5hc2NlbmRlcix0aGlzLnhIZWlnaHQ9dGhpcy5vczIuZXhpc3RzJiZ0aGlzLm9zMi54SGVpZ2h0fHwwLHRoaXMuZmFtaWx5Q2xhc3M9KHRoaXMub3MyLmV4aXN0cyYmdGhpcy5vczIuZmFtaWx5Q2xhc3N8fDApPj44LHRoaXMuaXNTZXJpZj0xPT09KHI9dGhpcy5mYW1pbHlDbGFzcyl8fDI9PT1yfHwzPT09cnx8ND09PXJ8fDU9PT1yfHw3PT09cix0aGlzLmlzU2NyaXB0PTEwPT09dGhpcy5mYW1pbHlDbGFzcyx0aGlzLmZsYWdzPTAsdGhpcy5wb3N0LmlzRml4ZWRQaXRjaCYmKHRoaXMuZmxhZ3N8PTEpLHRoaXMuaXNTZXJpZiYmKHRoaXMuZmxhZ3N8PTIpLHRoaXMuaXNTY3JpcHQmJih0aGlzLmZsYWdzfD04KSwwIT09dGhpcy5pdGFsaWNBbmdsZSYmKHRoaXMuZmxhZ3N8PTY0KSx0aGlzLmZsYWdzfD0zMiwhdGhpcy5jbWFwLnVuaWNvZGUpdGhyb3cgbmV3IEVycm9yKFwiTm8gdW5pY29kZSBjbWFwIGZvciBmb250XCIpfSxpLnByb3RvdHlwZS5jaGFyYWN0ZXJUb0dseXBoPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybihudWxsIT0oZT10aGlzLmNtYXAudW5pY29kZSk/ZS5jb2RlTWFwW3RdOnZvaWQgMCl8fDB9LGkucHJvdG90eXBlLndpZHRoT2ZHbHlwaD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT0xZTMvdGhpcy5oZWFkLnVuaXRzUGVyRW0sdGhpcy5obXR4LmZvckdseXBoKHQpLmFkdmFuY2UqZX0saS5wcm90b3R5cGUud2lkdGhPZlN0cmluZz1mdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvLGEscztmb3IoaT1hPW89MCxzPSh0PVwiXCIrdCkubGVuZ3RoOzA8PXM/YTxzOnM8YTtpPTA8PXM/KythOi0tYSlyPXQuY2hhckNvZGVBdChpKSxvKz10aGlzLndpZHRoT2ZHbHlwaCh0aGlzLmNoYXJhY3RlclRvR2x5cGgocikpK24qKDFlMy9lKXx8MDtyZXR1cm4gbyooZS8xZTMpfSxpLnByb3RvdHlwZS5saW5lSGVpZ2h0PWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG51bGw9PWUmJihlPSExKSxuPWU/dGhpcy5saW5lR2FwOjAsKHRoaXMuYXNjZW5kZXIrbi10aGlzLmRlY2VuZGVyKS8xZTMqdH0saX0oKTt2YXIgaCxKPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmRhdGE9bnVsbCE9dD90OltdLHRoaXMucG9zPTAsdGhpcy5sZW5ndGg9dGhpcy5kYXRhLmxlbmd0aH1yZXR1cm4gdC5wcm90b3R5cGUucmVhZEJ5dGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhW3RoaXMucG9zKytdfSx0LnByb3RvdHlwZS53cml0ZUJ5dGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YVt0aGlzLnBvcysrXT10fSx0LnByb3RvdHlwZS5yZWFkVUludDMyPWZ1bmN0aW9uKCl7cmV0dXJuIDE2Nzc3MjE2KnRoaXMucmVhZEJ5dGUoKSsodGhpcy5yZWFkQnl0ZSgpPDwxNikrKHRoaXMucmVhZEJ5dGUoKTw8OCkrdGhpcy5yZWFkQnl0ZSgpfSx0LnByb3RvdHlwZS53cml0ZVVJbnQzMj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy53cml0ZUJ5dGUodD4+PjI0JjI1NSksdGhpcy53cml0ZUJ5dGUodD4+MTYmMjU1KSx0aGlzLndyaXRlQnl0ZSh0Pj44JjI1NSksdGhpcy53cml0ZUJ5dGUoMjU1JnQpfSx0LnByb3RvdHlwZS5yZWFkSW50MzI9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gMjE0NzQ4MzY0ODw9KHQ9dGhpcy5yZWFkVUludDMyKCkpP3QtNDI5NDk2NzI5Njp0fSx0LnByb3RvdHlwZS53cml0ZUludDMyPWZ1bmN0aW9uKHQpe3JldHVybiB0PDAmJih0Kz00Mjk0OTY3Mjk2KSx0aGlzLndyaXRlVUludDMyKHQpfSx0LnByb3RvdHlwZS5yZWFkVUludDE2PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVhZEJ5dGUoKTw8OHx0aGlzLnJlYWRCeXRlKCl9LHQucHJvdG90eXBlLndyaXRlVUludDE2PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLndyaXRlQnl0ZSh0Pj44JjI1NSksdGhpcy53cml0ZUJ5dGUoMjU1JnQpfSx0LnByb3RvdHlwZS5yZWFkSW50MTY9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gMzI3Njg8PSh0PXRoaXMucmVhZFVJbnQxNigpKT90LTY1NTM2OnR9LHQucHJvdG90eXBlLndyaXRlSW50MTY9ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MCYmKHQrPTY1NTM2KSx0aGlzLndyaXRlVUludDE2KHQpfSx0LnByb3RvdHlwZS5yZWFkU3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciBlLG4scjtmb3Iobj1bXSxlPXI9MDswPD10P3I8dDp0PHI7ZT0wPD10PysrcjotLXIpbltlXT1TdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMucmVhZEJ5dGUoKSk7cmV0dXJuIG4uam9pbihcIlwiKX0sdC5wcm90b3R5cGUud3JpdGVTdHJpbmc9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGk7Zm9yKGk9W10sZT1uPTAscj10Lmxlbmd0aDswPD1yP248cjpyPG47ZT0wPD1yPysrbjotLW4paS5wdXNoKHRoaXMud3JpdGVCeXRlKHQuY2hhckNvZGVBdChlKSkpO3JldHVybiBpfSx0LnByb3RvdHlwZS5yZWFkU2hvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWFkSW50MTYoKX0sdC5wcm90b3R5cGUud3JpdGVTaG9ydD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy53cml0ZUludDE2KHQpfSx0LnByb3RvdHlwZS5yZWFkTG9uZ0xvbmc9ZnVuY3Rpb24oKXt2YXIgdCxlLG4scixpLG8sYSxzO3JldHVybiB0PXRoaXMucmVhZEJ5dGUoKSxlPXRoaXMucmVhZEJ5dGUoKSxuPXRoaXMucmVhZEJ5dGUoKSxyPXRoaXMucmVhZEJ5dGUoKSxpPXRoaXMucmVhZEJ5dGUoKSxvPXRoaXMucmVhZEJ5dGUoKSxhPXRoaXMucmVhZEJ5dGUoKSxzPXRoaXMucmVhZEJ5dGUoKSwxMjgmdD8tMSooNzIwNTc1OTQwMzc5Mjc5NDAqKDI1NV50KSsyODE0NzQ5NzY3MTA2NTYqKDI1NV5lKSsxMDk5NTExNjI3Nzc2KigyNTVebikrNDI5NDk2NzI5NiooMjU1XnIpKzE2Nzc3MjE2KigyNTVeaSkrNjU1MzYqKDI1NV5vKSsyNTYqKDI1NV5hKSsoMjU1XnMpKzEpOjcyMDU3NTk0MDM3OTI3OTQwKnQrMjgxNDc0OTc2NzEwNjU2KmUrMTA5OTUxMTYyNzc3NipuKzQyOTQ5NjcyOTYqcisxNjc3NzIxNippKzY1NTM2Km8rMjU2KmErc30sdC5wcm90b3R5cGUud3JpdGVMb25nTG9uZz1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBlPU1hdGguZmxvb3IodC80Mjk0OTY3Mjk2KSxuPTQyOTQ5NjcyOTUmdCx0aGlzLndyaXRlQnl0ZShlPj4yNCYyNTUpLHRoaXMud3JpdGVCeXRlKGU+PjE2JjI1NSksdGhpcy53cml0ZUJ5dGUoZT4+OCYyNTUpLHRoaXMud3JpdGVCeXRlKDI1NSZlKSx0aGlzLndyaXRlQnl0ZShuPj4yNCYyNTUpLHRoaXMud3JpdGVCeXRlKG4+PjE2JjI1NSksdGhpcy53cml0ZUJ5dGUobj4+OCYyNTUpLHRoaXMud3JpdGVCeXRlKDI1NSZuKX0sdC5wcm90b3R5cGUucmVhZEludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWRJbnQzMigpfSx0LnByb3RvdHlwZS53cml0ZUludD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy53cml0ZUludDMyKHQpfSx0LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe3ZhciBlLG47Zm9yKGU9W10sbj0wOzA8PXQ/bjx0OnQ8bjswPD10PysrbjotLW4pZS5wdXNoKHRoaXMucmVhZEJ5dGUoKSk7cmV0dXJuIGV9LHQucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpO2ZvcihpPVtdLG49MCxyPXQubGVuZ3RoO248cjtuKyspZT10W25dLGkucHVzaCh0aGlzLndyaXRlQnl0ZShlKSk7cmV0dXJuIGl9LHR9KCksZT1mdW5jdGlvbigpe3ZhciBkO2Z1bmN0aW9uIHQodCl7dmFyIGUsbixyO2Zvcih0aGlzLnNjYWxhclR5cGU9dC5yZWFkSW50KCksdGhpcy50YWJsZUNvdW50PXQucmVhZFNob3J0KCksdGhpcy5zZWFyY2hSYW5nZT10LnJlYWRTaG9ydCgpLHRoaXMuZW50cnlTZWxlY3Rvcj10LnJlYWRTaG9ydCgpLHRoaXMucmFuZ2VTaGlmdD10LnJlYWRTaG9ydCgpLHRoaXMudGFibGVzPXt9LG49MCxyPXRoaXMudGFibGVDb3VudDswPD1yP248cjpyPG47MDw9cj8rK246LS1uKWU9e3RhZzp0LnJlYWRTdHJpbmcoNCksY2hlY2tzdW06dC5yZWFkSW50KCksb2Zmc2V0OnQucmVhZEludCgpLGxlbmd0aDp0LnJlYWRJbnQoKX0sdGhpcy50YWJsZXNbZS50YWddPWV9cmV0dXJuIHQucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyxsLGgsdSxjLGYscDtmb3IocCBpbiBjPU9iamVjdC5rZXlzKHQpLmxlbmd0aCxhPU1hdGgubG9nKDIpLGg9MTYqTWF0aC5mbG9vcihNYXRoLmxvZyhjKS9hKSxpPU1hdGguZmxvb3IoaC9hKSxsPTE2KmMtaCwobj1uZXcgSikud3JpdGVJbnQodGhpcy5zY2FsYXJUeXBlKSxuLndyaXRlU2hvcnQoYyksbi53cml0ZVNob3J0KGgpLG4ud3JpdGVTaG9ydChpKSxuLndyaXRlU2hvcnQobCkscj0xNipjLHM9bi5wb3MrcixvPW51bGwsZj1bXSx0KWZvcih1PXRbcF0sbi53cml0ZVN0cmluZyhwKSxuLndyaXRlSW50KGQodSkpLG4ud3JpdGVJbnQocyksbi53cml0ZUludCh1Lmxlbmd0aCksZj1mLmNvbmNhdCh1KSxcImhlYWRcIj09PXAmJihvPXMpLHMrPXUubGVuZ3RoO3MlNDspZi5wdXNoKDApLHMrKztyZXR1cm4gbi53cml0ZShmKSxlPTI5ODExNDY1NTQtZChuLmRhdGEpLG4ucG9zPW8rOCxuLndyaXRlVUludDMyKGUpLG4uZGF0YX0sZD1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaTtmb3IodD1MLmNhbGwodCk7dC5sZW5ndGglNDspdC5wdXNoKDApO2ZvcihuPW5ldyBKKHQpLHI9ZT0wLGk9dC5sZW5ndGg7cjxpO3IrPTQpZSs9bi5yZWFkVUludDMyKCk7cmV0dXJuIDQyOTQ5NjcyOTUmZX0sdH0oKSxjPXt9Lmhhc093blByb3BlcnR5LGY9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSljLmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9dH1yZXR1cm4gci5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IHIsdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH07aD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU7dGhpcy5maWxlPXQsZT10aGlzLmZpbGUuZGlyZWN0b3J5LnRhYmxlc1t0aGlzLnRhZ10sdGhpcy5leGlzdHM9ISFlLGUmJih0aGlzLm9mZnNldD1lLm9mZnNldCx0aGlzLmxlbmd0aD1lLmxlbmd0aCx0aGlzLnBhcnNlKHRoaXMuZmlsZS5jb250ZW50cykpfXJldHVybiB0LnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5yYXc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leGlzdHM/KHRoaXMuZmlsZS5jb250ZW50cy5wb3M9dGhpcy5vZmZzZXQsdGhpcy5maWxlLmNvbnRlbnRzLnJlYWQodGhpcy5sZW5ndGgpKTpudWxsfSx0fSgpO3ZhciBwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gZS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBmKGUsaCksZS5wcm90b3R5cGUudGFnPVwiaGVhZFwiLGUucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnBvcz10aGlzLm9mZnNldCx0aGlzLnZlcnNpb249dC5yZWFkSW50KCksdGhpcy5yZXZpc2lvbj10LnJlYWRJbnQoKSx0aGlzLmNoZWNrU3VtQWRqdXN0bWVudD10LnJlYWRJbnQoKSx0aGlzLm1hZ2ljTnVtYmVyPXQucmVhZEludCgpLHRoaXMuZmxhZ3M9dC5yZWFkU2hvcnQoKSx0aGlzLnVuaXRzUGVyRW09dC5yZWFkU2hvcnQoKSx0aGlzLmNyZWF0ZWQ9dC5yZWFkTG9uZ0xvbmcoKSx0aGlzLm1vZGlmaWVkPXQucmVhZExvbmdMb25nKCksdGhpcy54TWluPXQucmVhZFNob3J0KCksdGhpcy55TWluPXQucmVhZFNob3J0KCksdGhpcy54TWF4PXQucmVhZFNob3J0KCksdGhpcy55TWF4PXQucmVhZFNob3J0KCksdGhpcy5tYWNTdHlsZT10LnJlYWRTaG9ydCgpLHRoaXMubG93ZXN0UmVjUFBFTT10LnJlYWRTaG9ydCgpLHRoaXMuZm9udERpcmVjdGlvbkhpbnQ9dC5yZWFkU2hvcnQoKSx0aGlzLmluZGV4VG9Mb2NGb3JtYXQ9dC5yZWFkU2hvcnQoKSx0aGlzLmdseXBoRGF0YUZvcm1hdD10LnJlYWRTaG9ydCgpfSxlLnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuKGU9bmV3IEopLndyaXRlSW50KHRoaXMudmVyc2lvbiksZS53cml0ZUludCh0aGlzLnJldmlzaW9uKSxlLndyaXRlSW50KHRoaXMuY2hlY2tTdW1BZGp1c3RtZW50KSxlLndyaXRlSW50KHRoaXMubWFnaWNOdW1iZXIpLGUud3JpdGVTaG9ydCh0aGlzLmZsYWdzKSxlLndyaXRlU2hvcnQodGhpcy51bml0c1BlckVtKSxlLndyaXRlTG9uZ0xvbmcodGhpcy5jcmVhdGVkKSxlLndyaXRlTG9uZ0xvbmcodGhpcy5tb2RpZmllZCksZS53cml0ZVNob3J0KHRoaXMueE1pbiksZS53cml0ZVNob3J0KHRoaXMueU1pbiksZS53cml0ZVNob3J0KHRoaXMueE1heCksZS53cml0ZVNob3J0KHRoaXMueU1heCksZS53cml0ZVNob3J0KHRoaXMubWFjU3R5bGUpLGUud3JpdGVTaG9ydCh0aGlzLmxvd2VzdFJlY1BQRU0pLGUud3JpdGVTaG9ydCh0aGlzLmZvbnREaXJlY3Rpb25IaW50KSxlLndyaXRlU2hvcnQodCksZS53cml0ZVNob3J0KHRoaXMuZ2x5cGhEYXRhRm9ybWF0KSxlLmRhdGF9LGV9KCksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQobix0KXt2YXIgZSxyLGksbyxhLHMsbCxoLHUsYyxmLHAsZCxnLG0seSx2LHc7c3dpdGNoKHRoaXMucGxhdGZvcm1JRD1uLnJlYWRVSW50MTYoKSx0aGlzLmVuY29kaW5nSUQ9bi5yZWFkU2hvcnQoKSx0aGlzLm9mZnNldD10K24ucmVhZEludCgpLHU9bi5wb3Msbi5wb3M9dGhpcy5vZmZzZXQsdGhpcy5mb3JtYXQ9bi5yZWFkVUludDE2KCksdGhpcy5sZW5ndGg9bi5yZWFkVUludDE2KCksdGhpcy5sYW5ndWFnZT1uLnJlYWRVSW50MTYoKSx0aGlzLmlzVW5pY29kZT0zPT09dGhpcy5wbGF0Zm9ybUlEJiYxPT09dGhpcy5lbmNvZGluZ0lEJiY0PT09dGhpcy5mb3JtYXR8fDA9PT10aGlzLnBsYXRmb3JtSUQmJjQ9PT10aGlzLmZvcm1hdCx0aGlzLmNvZGVNYXA9e30sdGhpcy5mb3JtYXQpe2Nhc2UgMDpmb3Iocz1tPTA7bTwyNTY7cz0rK20pdGhpcy5jb2RlTWFwW3NdPW4ucmVhZEJ5dGUoKTticmVhaztjYXNlIDQ6Zm9yKGY9bi5yZWFkVUludDE2KCksYz1mLzIsbi5wb3MrPTYsaT1mdW5jdGlvbigpe3ZhciB0LGU7Zm9yKGU9W10scz10PTA7MDw9Yz90PGM6Yzx0O3M9MDw9Yz8rK3Q6LS10KWUucHVzaChuLnJlYWRVSW50MTYoKSk7cmV0dXJuIGV9KCksbi5wb3MrPTIsZD1mdW5jdGlvbigpe3ZhciB0LGU7Zm9yKGU9W10scz10PTA7MDw9Yz90PGM6Yzx0O3M9MDw9Yz8rK3Q6LS10KWUucHVzaChuLnJlYWRVSW50MTYoKSk7cmV0dXJuIGV9KCksbD1mdW5jdGlvbigpe3ZhciB0LGU7Zm9yKGU9W10scz10PTA7MDw9Yz90PGM6Yzx0O3M9MDw9Yz8rK3Q6LS10KWUucHVzaChuLnJlYWRVSW50MTYoKSk7cmV0dXJuIGV9KCksaD1mdW5jdGlvbigpe3ZhciB0LGU7Zm9yKGU9W10scz10PTA7MDw9Yz90PGM6Yzx0O3M9MDw9Yz8rK3Q6LS10KWUucHVzaChuLnJlYWRVSW50MTYoKSk7cmV0dXJuIGV9KCkscj0odGhpcy5sZW5ndGgtbi5wb3MrdGhpcy5vZmZzZXQpLzIsYT1mdW5jdGlvbigpe3ZhciB0LGU7Zm9yKGU9W10scz10PTA7MDw9cj90PHI6cjx0O3M9MDw9cj8rK3Q6LS10KWUucHVzaChuLnJlYWRVSW50MTYoKSk7cmV0dXJuIGV9KCkscz15PTAsdz1pLmxlbmd0aDt5PHc7cz0rK3kpZm9yKGc9aVtzXSxlPXY9cD1kW3NdO3A8PWc/djw9ZzpnPD12O2U9cDw9Zz8rK3Y6LS12KTA9PT1oW3NdP289ZStsW3NdOjAhPT0obz1hW2hbc10vMisoZS1wKS0oYy1zKV18fDApJiYobys9bFtzXSksdGhpcy5jb2RlTWFwW2VdPTY1NTM1Jm99bi5wb3M9dX1yZXR1cm4gdC5lbmNvZGU9ZnVuY3Rpb24odCxlKXt2YXIgbixyLGksbyxhLHMsbCxoLHUsYyxmLHAsZCxnLG0seSx2LHcsYix4LE4sTCxBLFMsXyxGLFAsayxJLEMsQixqLEUsTSxPLHEsVCxSLEQsVSx6LEgsVyxWLEcsWTtzd2l0Y2goaz1uZXcgSixvPU9iamVjdC5rZXlzKHQpLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSksZSl7Y2FzZVwibWFjcm9tYW5cIjpmb3IoZD0wLGc9ZnVuY3Rpb24oKXt2YXIgdCxlO2ZvcihlPVtdLHA9dD0wO3Q8MjU2O3A9Kyt0KWUucHVzaCgwKTtyZXR1cm4gZX0oKSx5PXswOjB9LGk9e30sST0wLEU9by5sZW5ndGg7STxFO0krKyludWxsPT15W1c9dFtyPW9bSV1dXSYmKHlbV109KytkKSxpW3JdPXtvbGQ6dFtyXSxuZXc6eVt0W3JdXX0sZ1tyXT15W3Rbcl1dO3JldHVybiBrLndyaXRlVUludDE2KDEpLGsud3JpdGVVSW50MTYoMCksay53cml0ZVVJbnQzMigxMiksay53cml0ZVVJbnQxNigwKSxrLndyaXRlVUludDE2KDI2Miksay53cml0ZVVJbnQxNigwKSxrLndyaXRlKGcpLHtjaGFyTWFwOmksc3VidGFibGU6ay5kYXRhLG1heEdseXBoSUQ6ZCsxfTtjYXNlXCJ1bmljb2RlXCI6Zm9yKEY9W10sdT1bXSx5PXt9LG49e30sbT1sPW51bGwsQz12PTAsTT1vLmxlbmd0aDtDPE07QysrKW51bGw9PXlbYj10W3I9b1tDXV1dJiYoeVtiXT0rK3YpLG5bcl09e29sZDpiLG5ldzp5W2JdfSxhPXlbYl0tcixudWxsIT1tJiZhPT09bHx8KG0mJnUucHVzaChtKSxGLnB1c2gociksbD1hKSxtPXI7Zm9yKG0mJnUucHVzaChtKSx1LnB1c2goNjU1MzUpLEYucHVzaCg2NTUzNSksUz0yKihBPUYubGVuZ3RoKSxMPTIqTWF0aC5wb3coTWF0aC5sb2coQSkvTWF0aC5MTjIsMiksYz1NYXRoLmxvZyhMLzIpL01hdGguTE4yLE49MipBLUwscz1bXSx4PVtdLGY9W10scD1CPTAsTz1GLmxlbmd0aDtCPE87cD0rK0Ipe2lmKF89RltwXSxoPXVbcF0sNjU1MzU9PT1fKXtzLnB1c2goMCkseC5wdXNoKDApO2JyZWFrfWlmKDMyNzY4PD1fLShQPW5bX10ubmV3KSlmb3Iocy5wdXNoKDApLHgucHVzaCgyKihmLmxlbmd0aCtBLXApKSxyPWo9XztfPD1oP2o8PWg6aDw9ajtyPV88PWg/KytqOi0tailmLnB1c2gobltyXS5uZXcpO2Vsc2Ugcy5wdXNoKFAtXykseC5wdXNoKDApfWZvcihrLndyaXRlVUludDE2KDMpLGsud3JpdGVVSW50MTYoMSksay53cml0ZVVJbnQzMigxMiksay53cml0ZVVJbnQxNig0KSxrLndyaXRlVUludDE2KDE2KzgqQSsyKmYubGVuZ3RoKSxrLndyaXRlVUludDE2KDApLGsud3JpdGVVSW50MTYoUyksay53cml0ZVVJbnQxNihMKSxrLndyaXRlVUludDE2KGMpLGsud3JpdGVVSW50MTYoTiksej0wLHE9dS5sZW5ndGg7ejxxO3orKylyPXVbel0say53cml0ZVVJbnQxNihyKTtmb3Ioay53cml0ZVVJbnQxNigwKSxIPTAsVD1GLmxlbmd0aDtIPFQ7SCsrKXI9RltIXSxrLndyaXRlVUludDE2KHIpO2ZvcihWPTAsUj1zLmxlbmd0aDtWPFI7VisrKWE9c1tWXSxrLndyaXRlVUludDE2KGEpO2ZvcihHPTAsRD14Lmxlbmd0aDtHPEQ7RysrKXc9eFtHXSxrLndyaXRlVUludDE2KHcpO2ZvcihZPTAsVT1mLmxlbmd0aDtZPFU7WSsrKWQ9ZltZXSxrLndyaXRlVUludDE2KGQpO3JldHVybntjaGFyTWFwOm4sc3VidGFibGU6ay5kYXRhLG1heEdseXBoSUQ6disxfX19LHR9KCkseT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGUuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZihlLGgpLGUucHJvdG90eXBlLnRhZz1cImNtYXBcIixlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXt2YXIgZSxuLHI7Zm9yKHQucG9zPXRoaXMub2Zmc2V0LHRoaXMudmVyc2lvbj10LnJlYWRVSW50MTYoKSxuPXQucmVhZFVJbnQxNigpLHRoaXMudGFibGVzPVtdLHRoaXMudW5pY29kZT1udWxsLHI9MDswPD1uP3I8bjpuPHI7MDw9bj8rK3I6LS1yKWU9bmV3IGQodCx0aGlzLm9mZnNldCksdGhpcy50YWJsZXMucHVzaChlKSxlLmlzVW5pY29kZSYmbnVsbD09dGhpcy51bmljb2RlJiYodGhpcy51bmljb2RlPWUpO3JldHVybiEwfSxlLmVuY29kZT1mdW5jdGlvbih0LGUpe3ZhciBuLHI7cmV0dXJuIG51bGw9PWUmJihlPVwibWFjcm9tYW5cIiksbj1kLmVuY29kZSh0LGUpLChyPW5ldyBKKS53cml0ZVVJbnQxNigwKSxyLndyaXRlVUludDE2KDEpLG4udGFibGU9ci5kYXRhLmNvbmNhdChuLnN1YnRhYmxlKSxufSxlfSgpLGc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGYoZSxoKSxlLnByb3RvdHlwZS50YWc9XCJoaGVhXCIsZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zPXRoaXMub2Zmc2V0LHRoaXMudmVyc2lvbj10LnJlYWRJbnQoKSx0aGlzLmFzY2VuZGVyPXQucmVhZFNob3J0KCksdGhpcy5kZWNlbmRlcj10LnJlYWRTaG9ydCgpLHRoaXMubGluZUdhcD10LnJlYWRTaG9ydCgpLHRoaXMuYWR2YW5jZVdpZHRoTWF4PXQucmVhZFNob3J0KCksdGhpcy5taW5MZWZ0U2lkZUJlYXJpbmc9dC5yZWFkU2hvcnQoKSx0aGlzLm1pblJpZ2h0U2lkZUJlYXJpbmc9dC5yZWFkU2hvcnQoKSx0aGlzLnhNYXhFeHRlbnQ9dC5yZWFkU2hvcnQoKSx0aGlzLmNhcmV0U2xvcGVSaXNlPXQucmVhZFNob3J0KCksdGhpcy5jYXJldFNsb3BlUnVuPXQucmVhZFNob3J0KCksdGhpcy5jYXJldE9mZnNldD10LnJlYWRTaG9ydCgpLHQucG9zKz04LHRoaXMubWV0cmljRGF0YUZvcm1hdD10LnJlYWRTaG9ydCgpLHRoaXMubnVtYmVyT2ZNZXRyaWNzPXQucmVhZFVJbnQxNigpfSxlfSgpLG09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGYoZSxoKSxlLnByb3RvdHlwZS50YWc9XCJPUy8yXCIsZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24obil7aWYobi5wb3M9dGhpcy5vZmZzZXQsdGhpcy52ZXJzaW9uPW4ucmVhZFVJbnQxNigpLHRoaXMuYXZlcmFnZUNoYXJXaWR0aD1uLnJlYWRTaG9ydCgpLHRoaXMud2VpZ2h0Q2xhc3M9bi5yZWFkVUludDE2KCksdGhpcy53aWR0aENsYXNzPW4ucmVhZFVJbnQxNigpLHRoaXMudHlwZT1uLnJlYWRTaG9ydCgpLHRoaXMueVN1YnNjcmlwdFhTaXplPW4ucmVhZFNob3J0KCksdGhpcy55U3Vic2NyaXB0WVNpemU9bi5yZWFkU2hvcnQoKSx0aGlzLnlTdWJzY3JpcHRYT2Zmc2V0PW4ucmVhZFNob3J0KCksdGhpcy55U3Vic2NyaXB0WU9mZnNldD1uLnJlYWRTaG9ydCgpLHRoaXMueVN1cGVyc2NyaXB0WFNpemU9bi5yZWFkU2hvcnQoKSx0aGlzLnlTdXBlcnNjcmlwdFlTaXplPW4ucmVhZFNob3J0KCksdGhpcy55U3VwZXJzY3JpcHRYT2Zmc2V0PW4ucmVhZFNob3J0KCksdGhpcy55U3VwZXJzY3JpcHRZT2Zmc2V0PW4ucmVhZFNob3J0KCksdGhpcy55U3RyaWtlb3V0U2l6ZT1uLnJlYWRTaG9ydCgpLHRoaXMueVN0cmlrZW91dFBvc2l0aW9uPW4ucmVhZFNob3J0KCksdGhpcy5mYW1pbHlDbGFzcz1uLnJlYWRTaG9ydCgpLHRoaXMucGFub3NlPWZ1bmN0aW9uKCl7dmFyIHQsZTtmb3IoZT1bXSx0PTA7dDwxMDsrK3QpZS5wdXNoKG4ucmVhZEJ5dGUoKSk7cmV0dXJuIGV9KCksdGhpcy5jaGFyUmFuZ2U9ZnVuY3Rpb24oKXt2YXIgdCxlO2ZvcihlPVtdLHQ9MDt0PDQ7Kyt0KWUucHVzaChuLnJlYWRJbnQoKSk7cmV0dXJuIGV9KCksdGhpcy52ZW5kb3JJRD1uLnJlYWRTdHJpbmcoNCksdGhpcy5zZWxlY3Rpb249bi5yZWFkU2hvcnQoKSx0aGlzLmZpcnN0Q2hhckluZGV4PW4ucmVhZFNob3J0KCksdGhpcy5sYXN0Q2hhckluZGV4PW4ucmVhZFNob3J0KCksMDx0aGlzLnZlcnNpb24mJih0aGlzLmFzY2VudD1uLnJlYWRTaG9ydCgpLHRoaXMuZGVzY2VudD1uLnJlYWRTaG9ydCgpLHRoaXMubGluZUdhcD1uLnJlYWRTaG9ydCgpLHRoaXMud2luQXNjZW50PW4ucmVhZFNob3J0KCksdGhpcy53aW5EZXNjZW50PW4ucmVhZFNob3J0KCksdGhpcy5jb2RlUGFnZVJhbmdlPWZ1bmN0aW9uKCl7dmFyIHQsZTtmb3IoZT1bXSx0PTA7dDwyOysrdCllLnB1c2gobi5yZWFkSW50KCkpO3JldHVybiBlfSgpLDE8dGhpcy52ZXJzaW9uKSlyZXR1cm4gdGhpcy54SGVpZ2h0PW4ucmVhZFNob3J0KCksdGhpcy5jYXBIZWlnaHQ9bi5yZWFkU2hvcnQoKSx0aGlzLmRlZmF1bHRDaGFyPW4ucmVhZFNob3J0KCksdGhpcy5icmVha0NoYXI9bi5yZWFkU2hvcnQoKSx0aGlzLm1heENvbnRleHQ9bi5yZWFkU2hvcnQoKX0sZX0oKSx2PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gZS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBmKGUsaCksZS5wcm90b3R5cGUudGFnPVwicG9zdFwiLGUucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHIpe3ZhciB0LGUsbixpO3N3aXRjaChyLnBvcz10aGlzLm9mZnNldCx0aGlzLmZvcm1hdD1yLnJlYWRJbnQoKSx0aGlzLml0YWxpY0FuZ2xlPXIucmVhZEludCgpLHRoaXMudW5kZXJsaW5lUG9zaXRpb249ci5yZWFkU2hvcnQoKSx0aGlzLnVuZGVybGluZVRoaWNrbmVzcz1yLnJlYWRTaG9ydCgpLHRoaXMuaXNGaXhlZFBpdGNoPXIucmVhZEludCgpLHRoaXMubWluTWVtVHlwZTQyPXIucmVhZEludCgpLHRoaXMubWF4TWVtVHlwZTQyPXIucmVhZEludCgpLHRoaXMubWluTWVtVHlwZTE9ci5yZWFkSW50KCksdGhpcy5tYXhNZW1UeXBlMT1yLnJlYWRJbnQoKSx0aGlzLmZvcm1hdCl7Y2FzZSA2NTUzNjpicmVhaztjYXNlIDEzMTA3Mjpmb3IoZT1yLnJlYWRVSW50MTYoKSx0aGlzLmdseXBoTmFtZUluZGV4PVtdLG49MDswPD1lP248ZTplPG47MDw9ZT8rK246LS1uKXRoaXMuZ2x5cGhOYW1lSW5kZXgucHVzaChyLnJlYWRVSW50MTYoKSk7Zm9yKHRoaXMubmFtZXM9W10saT1bXTtyLnBvczx0aGlzLm9mZnNldCt0aGlzLmxlbmd0aDspdD1yLnJlYWRCeXRlKCksaS5wdXNoKHRoaXMubmFtZXMucHVzaChyLnJlYWRTdHJpbmcodCkpKTtyZXR1cm4gaTtjYXNlIDE1MTU1MjpyZXR1cm4gZT1yLnJlYWRVSW50MTYoKSx0aGlzLm9mZnNldHM9ci5yZWFkKGUpO2Nhc2UgMTk2NjA4OmJyZWFrO2Nhc2UgMjYyMTQ0OnJldHVybiB0aGlzLm1hcD1mdW5jdGlvbigpe3ZhciB0LGUsbjtmb3Iobj1bXSx0PTAsZT10aGlzLmZpbGUubWF4cC5udW1HbHlwaHM7MDw9ZT90PGU6ZTx0OzA8PWU/Kyt0Oi0tdCluLnB1c2goci5yZWFkVUludDMyKCkpO3JldHVybiBufS5jYWxsKHRoaXMpfX0sZX0oKSx3PWZ1bmN0aW9uKHQsZSl7dGhpcy5yYXc9dCx0aGlzLmxlbmd0aD10Lmxlbmd0aCx0aGlzLnBsYXRmb3JtSUQ9ZS5wbGF0Zm9ybUlELHRoaXMuZW5jb2RpbmdJRD1lLmVuY29kaW5nSUQsdGhpcy5sYW5ndWFnZUlEPWUubGFuZ3VhZ2VJRH0sYj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGUuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZihlLGgpLGUucHJvdG90eXBlLnRhZz1cIm5hbWVcIixlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyxsLGgsdSxjLGY7Zm9yKHQucG9zPXRoaXMub2Zmc2V0LHQucmVhZFNob3J0KCksZT10LnJlYWRTaG9ydCgpLGE9dC5yZWFkU2hvcnQoKSxuPVtdLGk9aD0wOzA8PWU/aDxlOmU8aDtpPTA8PWU/KytoOi0taCluLnB1c2goe3BsYXRmb3JtSUQ6dC5yZWFkU2hvcnQoKSxlbmNvZGluZ0lEOnQucmVhZFNob3J0KCksbGFuZ3VhZ2VJRDp0LnJlYWRTaG9ydCgpLG5hbWVJRDp0LnJlYWRTaG9ydCgpLGxlbmd0aDp0LnJlYWRTaG9ydCgpLG9mZnNldDp0aGlzLm9mZnNldCthK3QucmVhZFNob3J0KCl9KTtmb3Iocz17fSxpPXU9MCxjPW4ubGVuZ3RoO3U8YztpPSsrdSlyPW5baV0sdC5wb3M9ci5vZmZzZXQsbD10LnJlYWRTdHJpbmcoci5sZW5ndGgpLG89bmV3IHcobCxyKSxudWxsPT1zW2Y9ci5uYW1lSURdJiYoc1tmXT1bXSksc1tyLm5hbWVJRF0ucHVzaChvKTt0aGlzLnN0cmluZ3M9cyx0aGlzLmNvcHlyaWdodD1zWzBdLHRoaXMuZm9udEZhbWlseT1zWzFdLHRoaXMuZm9udFN1YmZhbWlseT1zWzJdLHRoaXMudW5pcXVlU3ViZmFtaWx5PXNbM10sdGhpcy5mb250TmFtZT1zWzRdLHRoaXMudmVyc2lvbj1zWzVdO3RyeXt0aGlzLnBvc3RzY3JpcHROYW1lPXNbNl1bMF0ucmF3LnJlcGxhY2UoL1tcXHgwMC1cXHgxOVxceDgwLVxceGZmXS9nLFwiXCIpfWNhdGNoKHQpe3RoaXMucG9zdHNjcmlwdE5hbWU9c1s0XVswXS5yYXcucmVwbGFjZSgvW1xceDAwLVxceDE5XFx4ODAtXFx4ZmZdL2csXCJcIil9cmV0dXJuIHRoaXMudHJhZGVtYXJrPXNbN10sdGhpcy5tYW51ZmFjdHVyZXI9c1s4XSx0aGlzLmRlc2lnbmVyPXNbOV0sdGhpcy5kZXNjcmlwdGlvbj1zWzEwXSx0aGlzLnZlbmRvclVybD1zWzExXSx0aGlzLmRlc2lnbmVyVXJsPXNbMTJdLHRoaXMubGljZW5zZT1zWzEzXSx0aGlzLmxpY2Vuc2VVcmw9c1sxNF0sdGhpcy5wcmVmZXJyZWRGYW1pbHk9c1sxNV0sdGhpcy5wcmVmZXJyZWRTdWJmYW1pbHk9c1sxN10sdGhpcy5jb21wYXRpYmxlRnVsbD1zWzE4XSx0aGlzLnNhbXBsZVRleHQ9c1sxOV19LGV9KCkseD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGUuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZihlLGgpLGUucHJvdG90eXBlLnRhZz1cIm1heHBcIixlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5wb3M9dGhpcy5vZmZzZXQsdGhpcy52ZXJzaW9uPXQucmVhZEludCgpLHRoaXMubnVtR2x5cGhzPXQucmVhZFVJbnQxNigpLHRoaXMubWF4UG9pbnRzPXQucmVhZFVJbnQxNigpLHRoaXMubWF4Q29udG91cnM9dC5yZWFkVUludDE2KCksdGhpcy5tYXhDb21wb3NpdGVQb2ludHM9dC5yZWFkVUludDE2KCksdGhpcy5tYXhDb21wb25lbnRDb250b3Vycz10LnJlYWRVSW50MTYoKSx0aGlzLm1heFpvbmVzPXQucmVhZFVJbnQxNigpLHRoaXMubWF4VHdpbGlnaHRQb2ludHM9dC5yZWFkVUludDE2KCksdGhpcy5tYXhTdG9yYWdlPXQucmVhZFVJbnQxNigpLHRoaXMubWF4RnVuY3Rpb25EZWZzPXQucmVhZFVJbnQxNigpLHRoaXMubWF4SW5zdHJ1Y3Rpb25EZWZzPXQucmVhZFVJbnQxNigpLHRoaXMubWF4U3RhY2tFbGVtZW50cz10LnJlYWRVSW50MTYoKSx0aGlzLm1heFNpemVPZkluc3RydWN0aW9ucz10LnJlYWRVSW50MTYoKSx0aGlzLm1heENvbXBvbmVudEVsZW1lbnRzPXQucmVhZFVJbnQxNigpLHRoaXMubWF4Q29tcG9uZW50RGVwdGg9dC5yZWFkVUludDE2KCl9LGV9KCksTj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGUuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZihlLGgpLGUucHJvdG90eXBlLnRhZz1cImhtdHhcIixlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihuKXt2YXIgdCxyLGksZSxvLGEscztmb3Iobi5wb3M9dGhpcy5vZmZzZXQsdGhpcy5tZXRyaWNzPVtdLGU9MCxhPXRoaXMuZmlsZS5oaGVhLm51bWJlck9mTWV0cmljczswPD1hP2U8YTphPGU7MDw9YT8rK2U6LS1lKXRoaXMubWV0cmljcy5wdXNoKHthZHZhbmNlOm4ucmVhZFVJbnQxNigpLGxzYjpuLnJlYWRJbnQxNigpfSk7Zm9yKHI9dGhpcy5maWxlLm1heHAubnVtR2x5cGhzLXRoaXMuZmlsZS5oaGVhLm51bWJlck9mTWV0cmljcyx0aGlzLmxlZnRTaWRlQmVhcmluZ3M9ZnVuY3Rpb24oKXt2YXIgdCxlO2ZvcihlPVtdLHQ9MDswPD1yP3Q8cjpyPHQ7MDw9cj8rK3Q6LS10KWUucHVzaChuLnJlYWRJbnQxNigpKTtyZXR1cm4gZX0oKSx0aGlzLndpZHRocz1mdW5jdGlvbigpe3ZhciB0LGUsbixyO2ZvcihyPVtdLHQ9MCxlPShuPXRoaXMubWV0cmljcykubGVuZ3RoO3Q8ZTt0KyspaT1uW3RdLHIucHVzaChpLmFkdmFuY2UpO3JldHVybiByfS5jYWxsKHRoaXMpLHQ9dGhpcy53aWR0aHNbdGhpcy53aWR0aHMubGVuZ3RoLTFdLHM9W10sbz0wOzA8PXI/bzxyOnI8bzswPD1yPysrbzotLW8pcy5wdXNoKHRoaXMud2lkdGhzLnB1c2godCkpO3JldHVybiBzfSxlLnByb3RvdHlwZS5mb3JHbHlwaD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbiB0aGlzLm1ldHJpY3M/dGhpcy5tZXRyaWNzW3RdOnthZHZhbmNlOnRoaXMubWV0cmljc1t0aGlzLm1ldHJpY3MubGVuZ3RoLTFdLmFkdmFuY2UsbHNiOnRoaXMubGVmdFNpZGVCZWFyaW5nc1t0LXRoaXMubWV0cmljcy5sZW5ndGhdfX0sZX0oKSxMPVtdLnNsaWNlLEE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGYoZSxoKSxlLnByb3RvdHlwZS50YWc9XCJnbHlmXCIsZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2FjaGU9e319LGUucHJvdG90eXBlLmdseXBoRm9yPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8sYSxzLGwsaCx1O3JldHVybih0PXQpaW4gdGhpcy5jYWNoZT90aGlzLmNhY2hlW3RdOihpPXRoaXMuZmlsZS5sb2NhLGU9dGhpcy5maWxlLmNvbnRlbnRzLG49aS5pbmRleE9mKHQpLDA9PT0ocj1pLmxlbmd0aE9mKHQpKT90aGlzLmNhY2hlW3RdPW51bGw6KGUucG9zPXRoaXMub2Zmc2V0K24sbz0oYT1uZXcgSihlLnJlYWQocikpKS5yZWFkU2hvcnQoKSxsPWEucmVhZFNob3J0KCksdT1hLnJlYWRTaG9ydCgpLHM9YS5yZWFkU2hvcnQoKSxoPWEucmVhZFNob3J0KCksdGhpcy5jYWNoZVt0XT0tMT09PW8/bmV3IF8oYSxsLHUscyxoKTpuZXcgUyhhLG8sbCx1LHMsaCksdGhpcy5jYWNoZVt0XSkpfSxlLnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24odCxlLG4pe3ZhciByLGksbyxhLHM7Zm9yKG89W10saT1bXSxhPTAscz1lLmxlbmd0aDthPHM7YSsrKXI9dFtlW2FdXSxpLnB1c2goby5sZW5ndGgpLHImJihvPW8uY29uY2F0KHIuZW5jb2RlKG4pKSk7cmV0dXJuIGkucHVzaChvLmxlbmd0aCkse3RhYmxlOm8sb2Zmc2V0czppfX0sZX0oKSxTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGksbyl7dGhpcy5yYXc9dCx0aGlzLm51bWJlck9mQ29udG91cnM9ZSx0aGlzLnhNaW49bix0aGlzLnlNaW49cix0aGlzLnhNYXg9aSx0aGlzLnlNYXg9byx0aGlzLmNvbXBvdW5kPSExfXJldHVybiB0LnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYXcuZGF0YX0sdH0oKSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLGkpe3ZhciBvLGE7Zm9yKHRoaXMucmF3PXQsdGhpcy54TWluPWUsdGhpcy55TWluPW4sdGhpcy54TWF4PXIsdGhpcy55TWF4PWksdGhpcy5jb21wb3VuZD0hMCx0aGlzLmdseXBoSURzPVtdLHRoaXMuZ2x5cGhPZmZzZXRzPVtdLG89dGhpcy5yYXc7YT1vLnJlYWRTaG9ydCgpLHRoaXMuZ2x5cGhPZmZzZXRzLnB1c2goby5wb3MpLHRoaXMuZ2x5cGhJRHMucHVzaChvLnJlYWRTaG9ydCgpKSwzMiZhOylvLnBvcys9MSZhPzQ6MiwxMjgmYT9vLnBvcys9ODo2NCZhP28ucG9zKz00OjgmYSYmKG8ucG9zKz0yKX1yZXR1cm4gMSw4LDMyLDY0LDEyOCx0LnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbztmb3Iobj1uZXcgSihMLmNhbGwodGhpcy5yYXcuZGF0YSkpLGU9cj0wLGk9KG89dGhpcy5nbHlwaElEcykubGVuZ3RoO3I8aTtlPSsrcilvW2VdLG4ucG9zPXRoaXMuZ2x5cGhPZmZzZXRzW2VdO3JldHVybiBuLmRhdGF9LHR9KCksRj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGUuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZihlLGgpLGUucHJvdG90eXBlLnRhZz1cImxvY2FcIixlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihyKXt2YXIgdDtyZXR1cm4gci5wb3M9dGhpcy5vZmZzZXQsdD10aGlzLmZpbGUuaGVhZC5pbmRleFRvTG9jRm9ybWF0LHRoaXMub2Zmc2V0cz0wPT09dD9mdW5jdGlvbigpe3ZhciB0LGUsbjtmb3Iobj1bXSx0PTAsZT10aGlzLmxlbmd0aDt0PGU7dCs9MiluLnB1c2goMipyLnJlYWRVSW50MTYoKSk7cmV0dXJuIG59LmNhbGwodGhpcyk6ZnVuY3Rpb24oKXt2YXIgdCxlLG47Zm9yKG49W10sdD0wLGU9dGhpcy5sZW5ndGg7dDxlO3QrPTQpbi5wdXNoKHIucmVhZFVJbnQzMigpKTtyZXR1cm4gbn0uY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vZmZzZXRzW3RdfSxlLnByb3RvdHlwZS5sZW5ndGhPZj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vZmZzZXRzW3QrMV0tdGhpcy5vZmZzZXRzW3RdfSxlLnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49bmV3IFVpbnQzMkFycmF5KHRoaXMub2Zmc2V0cy5sZW5ndGgpLHI9MCxpPTAsbz0wO288bi5sZW5ndGg7KytvKWlmKG5bb109cixpPGUubGVuZ3RoJiZlW2ldPT1vKXsrK2ksbltvXT1yO3ZhciBhPXRoaXMub2Zmc2V0c1tvXSxzPXRoaXMub2Zmc2V0c1tvKzFdLWE7MDxzJiYocis9cyl9Zm9yKHZhciBsPW5ldyBBcnJheSg0Km4ubGVuZ3RoKSxoPTA7aDxuLmxlbmd0aDsrK2gpbFs0KmgrM109MjU1Jm5baF0sbFs0KmgrMl09KDY1MjgwJm5baF0pPj44LGxbNCpoKzFdPSgxNjcxMTY4MCZuW2hdKT4+MTYsbFs0KmhdPSg0Mjc4MTkwMDgwJm5baF0pPj4yNDtyZXR1cm4gbH0sZX0oKSxQPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmZvbnQ9dCx0aGlzLnN1YnNldD17fSx0aGlzLnVuaWNvZGVzPXt9LHRoaXMubmV4dD0zM31yZXR1cm4gdC5wcm90b3R5cGUuZ2VuZXJhdGVDbWFwPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHIsaTtmb3IoZSBpbiByPXRoaXMuZm9udC5jbWFwLnRhYmxlc1swXS5jb2RlTWFwLHQ9e30saT10aGlzLnN1YnNldCluPWlbZV0sdFtlXT1yW25dO3JldHVybiB0fSx0LnByb3RvdHlwZS5nbHlwaHNGb3I9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHM7Zm9yKHI9e30sbz0wLGE9dC5sZW5ndGg7bzxhO28rKylyW2k9dFtvXV09dGhpcy5mb250LmdseWYuZ2x5cGhGb3IoaSk7Zm9yKGkgaW4gZT1bXSxyKShudWxsIT0obj1yW2ldKT9uLmNvbXBvdW5kOnZvaWQgMCkmJmUucHVzaC5hcHBseShlLG4uZ2x5cGhJRHMpO2lmKDA8ZS5sZW5ndGgpZm9yKGkgaW4gcz10aGlzLmdseXBoc0ZvcihlKSluPXNbaV0scltpXT1uO3JldHVybiByfSx0LnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24odCxlKXt2YXIgbixyLGksbyxhLHMsbCxoLHUsYyxmLHAsZCxnLG07Zm9yKHIgaW4gbj15LmVuY29kZSh0aGlzLmdlbmVyYXRlQ21hcCgpLFwidW5pY29kZVwiKSxvPXRoaXMuZ2x5cGhzRm9yKHQpLGY9ezA6MH0sbT1uLmNoYXJNYXApZlsocz1tW3JdKS5vbGRdPXMubmV3O2ZvcihwIGluIGM9bi5tYXhHbHlwaElELG8pcCBpbiBmfHwoZltwXT1jKyspO3JldHVybiBoPWZ1bmN0aW9uKHQpe3ZhciBlLG47Zm9yKGUgaW4gbj17fSx0KW5bdFtlXV09ZTtyZXR1cm4gbn0oZiksdT1PYmplY3Qua2V5cyhoKS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtZX0pLGQ9ZnVuY3Rpb24oKXt2YXIgdCxlLG47Zm9yKG49W10sdD0wLGU9dS5sZW5ndGg7dDxlO3QrKylhPXVbdF0sbi5wdXNoKGhbYV0pO3JldHVybiBufSgpLGk9dGhpcy5mb250LmdseWYuZW5jb2RlKG8sZCxmKSxsPXRoaXMuZm9udC5sb2NhLmVuY29kZShpLm9mZnNldHMsZCksZz17Y21hcDp0aGlzLmZvbnQuY21hcC5yYXcoKSxnbHlmOmkudGFibGUsbG9jYTpsLGhtdHg6dGhpcy5mb250LmhtdHgucmF3KCksaGhlYTp0aGlzLmZvbnQuaGhlYS5yYXcoKSxtYXhwOnRoaXMuZm9udC5tYXhwLnJhdygpLHBvc3Q6dGhpcy5mb250LnBvc3QucmF3KCksbmFtZTp0aGlzLmZvbnQubmFtZS5yYXcoKSxoZWFkOnRoaXMuZm9udC5oZWFkLmVuY29kZShlKX0sdGhpcy5mb250Lm9zMi5leGlzdHMmJihnW1wiT1MvMlwiXT10aGlzLmZvbnQub3MyLnJhdygpKSx0aGlzLmZvbnQuZGlyZWN0b3J5LmVuY29kZShnKX0sdH0oKTt0LkFQSS5QREZPYmplY3Q9ZnVuY3Rpb24oKXt2YXIgbztmdW5jdGlvbiBhKCl7fXJldHVybiBvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKEFycmF5KGUrMSkuam9pbihcIjBcIikrdCkuc2xpY2UoLWUpfSxhLmNvbnZlcnQ9ZnVuY3Rpb24ocil7dmFyIGksdCxlLG47aWYoQXJyYXkuaXNBcnJheShyKSlyZXR1cm5cIltcIitmdW5jdGlvbigpe3ZhciB0LGUsbjtmb3Iobj1bXSx0PTAsZT1yLmxlbmd0aDt0PGU7dCsrKWk9clt0XSxuLnB1c2goYS5jb252ZXJ0KGkpKTtyZXR1cm4gbn0oKS5qb2luKFwiIFwiKStcIl1cIjtpZihcInN0cmluZ1wiPT10eXBlb2YgcilyZXR1cm5cIi9cIityO2lmKG51bGwhPXI/ci5pc1N0cmluZzp2b2lkIDApcmV0dXJuXCIoXCIrcitcIilcIjtpZihyIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm5cIihEOlwiK28oci5nZXRVVENGdWxsWWVhcigpLDQpK28oci5nZXRVVENNb250aCgpLDIpK28oci5nZXRVVENEYXRlKCksMikrbyhyLmdldFVUQ0hvdXJzKCksMikrbyhyLmdldFVUQ01pbnV0ZXMoKSwyKStvKHIuZ2V0VVRDU2Vjb25kcygpLDIpK1wiWilcIjtpZihcIltvYmplY3QgT2JqZWN0XVwiIT09e30udG9TdHJpbmcuY2FsbChyKSlyZXR1cm5cIlwiK3I7Zm9yKHQgaW4gZT1bXCI8PFwiXSxyKW49clt0XSxlLnB1c2goXCIvXCIrdCtcIiBcIithLmNvbnZlcnQobikpO3JldHVybiBlLnB1c2goXCI+PlwiKSxlLmpvaW4oXCJcXG5cIil9LGF9KCl9KGx0KSxcbi8qXG4gICMgUE5HLmpzXG4gICMgQ29weXJpZ2h0IChjKSAyMDExIERldm9uIEdvdmV0dFxuICAjIE1JVCBMSUNFTlNFXG4gICMgXG4gICMgXG4gICovXG5OdD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93fHxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWx8fEZ1bmN0aW9uKCdyZXR1cm4gdHlwZW9mIHRoaXMgPT09IFwib2JqZWN0XCIgJiYgdGhpcy5jb250ZW50JykoKXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLEx0PWZ1bmN0aW9uKCl7dmFyIGgsbixyO2Z1bmN0aW9uIGkodCl7dmFyIGUsbixyLGksbyxhLHMsbCxoLHUsYyxmLHAsZDtmb3IodGhpcy5kYXRhPXQsdGhpcy5wb3M9OCx0aGlzLnBhbGV0dGU9W10sdGhpcy5pbWdEYXRhPVtdLHRoaXMudHJhbnNwYXJlbmN5PXt9LHRoaXMuYW5pbWF0aW9uPW51bGwsdGhpcy50ZXh0PXt9LGE9bnVsbDs7KXtzd2l0Y2goZT10aGlzLnJlYWRVSW50MzIoKSxoPWZ1bmN0aW9uKCl7dmFyIHQsZTtmb3IoZT1bXSx0PTA7dDw0OysrdCllLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmRhdGFbdGhpcy5wb3MrK10pKTtyZXR1cm4gZX0uY2FsbCh0aGlzKS5qb2luKFwiXCIpKXtjYXNlXCJJSERSXCI6dGhpcy53aWR0aD10aGlzLnJlYWRVSW50MzIoKSx0aGlzLmhlaWdodD10aGlzLnJlYWRVSW50MzIoKSx0aGlzLmJpdHM9dGhpcy5kYXRhW3RoaXMucG9zKytdLHRoaXMuY29sb3JUeXBlPXRoaXMuZGF0YVt0aGlzLnBvcysrXSx0aGlzLmNvbXByZXNzaW9uTWV0aG9kPXRoaXMuZGF0YVt0aGlzLnBvcysrXSx0aGlzLmZpbHRlck1ldGhvZD10aGlzLmRhdGFbdGhpcy5wb3MrK10sdGhpcy5pbnRlcmxhY2VNZXRob2Q9dGhpcy5kYXRhW3RoaXMucG9zKytdO2JyZWFrO2Nhc2VcImFjVExcIjp0aGlzLmFuaW1hdGlvbj17bnVtRnJhbWVzOnRoaXMucmVhZFVJbnQzMigpLG51bVBsYXlzOnRoaXMucmVhZFVJbnQzMigpfHwxLzAsZnJhbWVzOltdfTticmVhaztjYXNlXCJQTFRFXCI6dGhpcy5wYWxldHRlPXRoaXMucmVhZChlKTticmVhaztjYXNlXCJmY1RMXCI6YSYmdGhpcy5hbmltYXRpb24uZnJhbWVzLnB1c2goYSksdGhpcy5wb3MrPTQsYT17d2lkdGg6dGhpcy5yZWFkVUludDMyKCksaGVpZ2h0OnRoaXMucmVhZFVJbnQzMigpLHhPZmZzZXQ6dGhpcy5yZWFkVUludDMyKCkseU9mZnNldDp0aGlzLnJlYWRVSW50MzIoKX0sbz10aGlzLnJlYWRVSW50MTYoKSxpPXRoaXMucmVhZFVJbnQxNigpfHwxMDAsYS5kZWxheT0xZTMqby9pLGEuZGlzcG9zZU9wPXRoaXMuZGF0YVt0aGlzLnBvcysrXSxhLmJsZW5kT3A9dGhpcy5kYXRhW3RoaXMucG9zKytdLGEuZGF0YT1bXTticmVhaztjYXNlXCJJREFUXCI6Y2FzZVwiZmRBVFwiOmZvcihcImZkQVRcIj09PWgmJih0aGlzLnBvcys9NCxlLT00KSx0PShudWxsIT1hP2EuZGF0YTp2b2lkIDApfHx0aGlzLmltZ0RhdGEsZj0wOzA8PWU/ZjxlOmU8ZjswPD1lPysrZjotLWYpdC5wdXNoKHRoaXMuZGF0YVt0aGlzLnBvcysrXSk7YnJlYWs7Y2FzZVwidFJOU1wiOnN3aXRjaCh0aGlzLnRyYW5zcGFyZW5jeT17fSx0aGlzLmNvbG9yVHlwZSl7Y2FzZSAzOmlmKHI9dGhpcy5wYWxldHRlLmxlbmd0aC8zLHRoaXMudHJhbnNwYXJlbmN5LmluZGV4ZWQ9dGhpcy5yZWFkKGUpLHRoaXMudHJhbnNwYXJlbmN5LmluZGV4ZWQubGVuZ3RoPnIpdGhyb3cgbmV3IEVycm9yKFwiTW9yZSB0cmFuc3BhcmVudCBjb2xvcnMgdGhhbiBwYWxldHRlIHNpemVcIik7aWYoMDwodT1yLXRoaXMudHJhbnNwYXJlbmN5LmluZGV4ZWQubGVuZ3RoKSlmb3IocD0wOzA8PXU/cDx1OnU8cDswPD11PysrcDotLXApdGhpcy50cmFuc3BhcmVuY3kuaW5kZXhlZC5wdXNoKDI1NSk7YnJlYWs7Y2FzZSAwOnRoaXMudHJhbnNwYXJlbmN5LmdyYXlzY2FsZT10aGlzLnJlYWQoZSlbMF07YnJlYWs7Y2FzZSAyOnRoaXMudHJhbnNwYXJlbmN5LnJnYj10aGlzLnJlYWQoZSl9YnJlYWs7Y2FzZVwidEVYdFwiOnM9KGM9dGhpcy5yZWFkKGUpKS5pbmRleE9mKDApLGw9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsYy5zbGljZSgwLHMpKSx0aGlzLnRleHRbbF09U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsYy5zbGljZShzKzEpKTticmVhaztjYXNlXCJJRU5EXCI6cmV0dXJuIGEmJnRoaXMuYW5pbWF0aW9uLmZyYW1lcy5wdXNoKGEpLHRoaXMuY29sb3JzPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuY29sb3JUeXBlKXtjYXNlIDA6Y2FzZSAzOmNhc2UgNDpyZXR1cm4gMTtjYXNlIDI6Y2FzZSA2OnJldHVybiAzfX0uY2FsbCh0aGlzKSx0aGlzLmhhc0FscGhhQ2hhbm5lbD00PT09KGQ9dGhpcy5jb2xvclR5cGUpfHw2PT09ZCxuPXRoaXMuY29sb3JzKyh0aGlzLmhhc0FscGhhQ2hhbm5lbD8xOjApLHRoaXMucGl4ZWxCaXRsZW5ndGg9dGhpcy5iaXRzKm4sdGhpcy5jb2xvclNwYWNlPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuY29sb3JzKXtjYXNlIDE6cmV0dXJuXCJEZXZpY2VHcmF5XCI7Y2FzZSAzOnJldHVyblwiRGV2aWNlUkdCXCJ9fS5jYWxsKHRoaXMpLHZvaWQodGhpcy5pbWdEYXRhPW5ldyBVaW50OEFycmF5KHRoaXMuaW1nRGF0YSkpO2RlZmF1bHQ6dGhpcy5wb3MrPWV9aWYodGhpcy5wb3MrPTQsdGhpcy5wb3M+dGhpcy5kYXRhLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbmNvbXBsZXRlIG9yIGNvcnJ1cHQgUE5HIGZpbGVcIil9fWkubG9hZD1mdW5jdGlvbih0LGUsbil7dmFyIHI7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKG49ZSksKHI9bmV3IFhNTEh0dHBSZXF1ZXN0KS5vcGVuKFwiR0VUXCIsdCwhMCksci5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiLHIub25sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9bmV3IGkobmV3IFVpbnQ4QXJyYXkoci5yZXNwb25zZXx8ci5tb3pSZXNwb25zZUFycmF5QnVmZmVyKSksXCJmdW5jdGlvblwiPT10eXBlb2YobnVsbCE9ZT9lLmdldENvbnRleHQ6dm9pZCAwKSYmdC5yZW5kZXIoZSksXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uKHQpOnZvaWQgMH0sci5zZW5kKG51bGwpfSxpLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe3ZhciBlLG47Zm9yKG49W10sZT0wOzA8PXQ/ZTx0OnQ8ZTswPD10PysrZTotLWUpbi5wdXNoKHRoaXMuZGF0YVt0aGlzLnBvcysrXSk7cmV0dXJuIG59LGkucHJvdG90eXBlLnJlYWRVSW50MzI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhW3RoaXMucG9zKytdPDwyNHx0aGlzLmRhdGFbdGhpcy5wb3MrK108PDE2fHRoaXMuZGF0YVt0aGlzLnBvcysrXTw8OHx0aGlzLmRhdGFbdGhpcy5wb3MrK119LGkucHJvdG90eXBlLnJlYWRVSW50MTY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhW3RoaXMucG9zKytdPDw4fHRoaXMuZGF0YVt0aGlzLnBvcysrXX0saS5wcm90b3R5cGUuZGVjb2RlUGl4ZWxzPWZ1bmN0aW9uKEMpe3ZhciBCPXRoaXMucGl4ZWxCaXRsZW5ndGgvOCxqPW5ldyBVaW50OEFycmF5KHRoaXMud2lkdGgqdGhpcy5oZWlnaHQqQiksRT0wLE09dGhpcztpZihudWxsPT1DJiYoQz10aGlzLmltZ0RhdGEpLDA9PT1DLmxlbmd0aClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7ZnVuY3Rpb24gdCh0LGUsbixyKXt2YXIgaSxvLGEscyxsLGgsdSxjLGYscCxkLGcsbSx5LHYsdyxiLHgsTixMLEEsUz1NYXRoLmNlaWwoKE0ud2lkdGgtdCkvbiksXz1NYXRoLmNlaWwoKE0uaGVpZ2h0LWUpL3IpLEY9TS53aWR0aD09UyYmTS5oZWlnaHQ9PV87Zm9yKHk9QipTLGc9Rj9qOm5ldyBVaW50OEFycmF5KHkqXyksaD1DLmxlbmd0aCxvPW09MDttPF8mJkU8aDspe3N3aXRjaChDW0UrK10pe2Nhc2UgMDpmb3Iocz1iPTA7Yjx5O3M9Yis9MSlnW28rK109Q1tFKytdO2JyZWFrO2Nhc2UgMTpmb3Iocz14PTA7eDx5O3M9eCs9MSlpPUNbRSsrXSxsPXM8Qj8wOmdbby1CXSxnW28rK109KGkrbCklMjU2O2JyZWFrO2Nhc2UgMjpmb3Iocz1OPTA7Tjx5O3M9Tis9MSlpPUNbRSsrXSxhPShzLXMlQikvQix2PW0mJmdbKG0tMSkqeSthKkIrcyVCXSxnW28rK109KHYraSklMjU2O2JyZWFrO2Nhc2UgMzpmb3Iocz1MPTA7TDx5O3M9TCs9MSlpPUNbRSsrXSxhPShzLXMlQikvQixsPXM8Qj8wOmdbby1CXSx2PW0mJmdbKG0tMSkqeSthKkIrcyVCXSxnW28rK109KGkrTWF0aC5mbG9vcigobCt2KS8yKSklMjU2O2JyZWFrO2Nhc2UgNDpmb3Iocz1BPTA7QTx5O3M9QSs9MSlpPUNbRSsrXSxhPShzLXMlQikvQixsPXM8Qj8wOmdbby1CXSwwPT09bT92PXc9MDoodj1nWyhtLTEpKnkrYSpCK3MlQl0sdz1hJiZnWyhtLTEpKnkrKGEtMSkqQitzJUJdKSx1PWwrdi13LGM9TWF0aC5hYnModS1sKSxwPU1hdGguYWJzKHUtdiksZD1NYXRoLmFicyh1LXcpLGY9Yzw9cCYmYzw9ZD9sOnA8PWQ/djp3LGdbbysrXT0oaStmKSUyNTY7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGZpbHRlciBhbGdvcml0aG06IFwiK0NbRS0xXSl9aWYoIUYpe3ZhciBQPSgoZSttKnIpKk0ud2lkdGgrdCkqQixrPW0qeTtmb3Iocz0wO3M8UztzKz0xKXtmb3IodmFyIEk9MDtJPEI7SSs9MSlqW1ArK109Z1trKytdO1ArPShuLTEpKkJ9fW0rK319cmV0dXJuIEM9KEM9bmV3IGt0KEMpKS5nZXRCeXRlcygpLDE9PU0uaW50ZXJsYWNlTWV0aG9kPyh0KDAsMCw4LDgpLHQoNCwwLDgsOCksdCgwLDQsNCw4KSx0KDIsMCw0LDQpLHQoMCwyLDIsNCksdCgxLDAsMiwyKSx0KDAsMSwxLDIpKTp0KDAsMCwxLDEpLGp9LGkucHJvdG90eXBlLmRlY29kZVBhbGV0dGU9ZnVuY3Rpb24oKXt2YXIgdCxlLG4scixpLG8sYSxzLGw7Zm9yKG49dGhpcy5wYWxldHRlLG89dGhpcy50cmFuc3BhcmVuY3kuaW5kZXhlZHx8W10saT1uZXcgVWludDhBcnJheSgoby5sZW5ndGh8fDApK24ubGVuZ3RoKSxyPTAsbi5sZW5ndGgsZT1hPXQ9MCxzPW4ubGVuZ3RoO2E8cztlPWErPTMpaVtyKytdPW5bZV0saVtyKytdPW5bZSsxXSxpW3IrK109bltlKzJdLGlbcisrXT1udWxsIT0obD1vW3QrK10pP2w6MjU1O3JldHVybiBpfSxpLnByb3RvdHlwZS5jb3B5VG9JbWFnZURhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbixyLGksbyxhLHMsbCxoLHUsYyxmO2lmKHI9dGhpcy5jb2xvcnMsdT1udWxsLG49dGhpcy5oYXNBbHBoYUNoYW5uZWwsdGhpcy5wYWxldHRlLmxlbmd0aCYmKHU9bnVsbCE9KGY9dGhpcy5fZGVjb2RlZFBhbGV0dGUpP2Y6dGhpcy5fZGVjb2RlZFBhbGV0dGU9dGhpcy5kZWNvZGVQYWxldHRlKCkscj00LG49ITApLGg9KGk9dC5kYXRhfHx0KS5sZW5ndGgsYT11fHxlLG89cz0wLDE9PT1yKWZvcig7bzxoOylsPXU/NCplW28vNF06cyxjPWFbbCsrXSxpW28rK109YyxpW28rK109YyxpW28rK109YyxpW28rK109bj9hW2wrK106MjU1LHM9bDtlbHNlIGZvcig7bzxoOylsPXU/NCplW28vNF06cyxpW28rK109YVtsKytdLGlbbysrXT1hW2wrK10saVtvKytdPWFbbCsrXSxpW28rK109bj9hW2wrK106MjU1LHM9bH0saS5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9bmV3IFVpbnQ4QXJyYXkodGhpcy53aWR0aCp0aGlzLmhlaWdodCo0KSx0aGlzLmNvcHlUb0ltYWdlRGF0YSh0LHRoaXMuZGVjb2RlUGl4ZWxzKCkpLHR9O3RyeXtuPU50LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikscj1uLmdldENvbnRleHQoXCIyZFwiKX1jYXRjaCh0KXtyZXR1cm4tMX1yZXR1cm4gaD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gci53aWR0aD10LndpZHRoLHIuaGVpZ2h0PXQuaGVpZ2h0LHIuY2xlYXJSZWN0KDAsMCx0LndpZHRoLHQuaGVpZ2h0KSxyLnB1dEltYWdlRGF0YSh0LDAsMCksKGU9bmV3IEltYWdlKS5zcmM9bi50b0RhdGFVUkwoKSxlfSxpLnByb3RvdHlwZS5kZWNvZGVGcmFtZXM9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsbDtpZih0aGlzLmFuaW1hdGlvbil7Zm9yKGw9W10sbj1vPTAsYT0ocz10aGlzLmFuaW1hdGlvbi5mcmFtZXMpLmxlbmd0aDtvPGE7bj0rK28pZT1zW25dLHI9dC5jcmVhdGVJbWFnZURhdGEoZS53aWR0aCxlLmhlaWdodCksaT10aGlzLmRlY29kZVBpeGVscyhuZXcgVWludDhBcnJheShlLmRhdGEpKSx0aGlzLmNvcHlUb0ltYWdlRGF0YShyLGkpLGUuaW1hZ2VEYXRhPXIsbC5wdXNoKGUuaW1hZ2U9aChyKSk7cmV0dXJuIGx9fSxpLnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0LGUpe3ZhciBuLHIsaTtyZXR1cm4gbj0ocj10aGlzLmFuaW1hdGlvbi5mcmFtZXMpW2VdLGk9cltlLTFdLDA9PT1lJiZ0LmNsZWFyUmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksMT09PShudWxsIT1pP2kuZGlzcG9zZU9wOnZvaWQgMCk/dC5jbGVhclJlY3QoaS54T2Zmc2V0LGkueU9mZnNldCxpLndpZHRoLGkuaGVpZ2h0KToyPT09KG51bGwhPWk/aS5kaXNwb3NlT3A6dm9pZCAwKSYmdC5wdXRJbWFnZURhdGEoaS5pbWFnZURhdGEsaS54T2Zmc2V0LGkueU9mZnNldCksMD09PW4uYmxlbmRPcCYmdC5jbGVhclJlY3Qobi54T2Zmc2V0LG4ueU9mZnNldCxuLndpZHRoLG4uaGVpZ2h0KSx0LmRyYXdJbWFnZShuLmltYWdlLG4ueE9mZnNldCxuLnlPZmZzZXQpfSxpLnByb3RvdHlwZS5hbmltYXRlPWZ1bmN0aW9uKG4pe3ZhciByLGksbyxhLHMsdCxsPXRoaXM7cmV0dXJuIGk9MCx0PXRoaXMuYW5pbWF0aW9uLGE9dC5udW1GcmFtZXMsbz10LmZyYW1lcyxzPXQubnVtUGxheXMsKHI9ZnVuY3Rpb24oKXt2YXIgdCxlO2lmKHQ9aSsrJWEsZT1vW3RdLGwucmVuZGVyRnJhbWUobix0KSwxPGEmJmkvYTxzKXJldHVybiBsLmFuaW1hdGlvbi5fdGltZW91dD1zZXRUaW1lb3V0KHIsZS5kZWxheSl9KSgpfSxpLnByb3RvdHlwZS5zdG9wQW5pbWF0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIGNsZWFyVGltZW91dChudWxsIT0odD10aGlzLmFuaW1hdGlvbik/dC5fdGltZW91dDp2b2lkIDApfSxpLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gdC5fcG5nJiZ0Ll9wbmcuc3RvcEFuaW1hdGlvbigpLHQuX3BuZz10aGlzLHQud2lkdGg9dGhpcy53aWR0aCx0LmhlaWdodD10aGlzLmhlaWdodCxlPXQuZ2V0Q29udGV4dChcIjJkXCIpLHRoaXMuYW5pbWF0aW9uPyh0aGlzLmRlY29kZUZyYW1lcyhlKSx0aGlzLmFuaW1hdGUoZSkpOihuPWUuY3JlYXRlSW1hZ2VEYXRhKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuY29weVRvSW1hZ2VEYXRhKG4sdGhpcy5kZWNvZGVQaXhlbHMoKSksZS5wdXRJbWFnZURhdGEobiwwLDApKX0saX0oKSxOdC5QTkc9THQ7XG4vKlxuICAgKiBFeHRyYWN0ZWQgZnJvbSBwZGYuanNcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2FuZHJlYXNnYWwvcGRmLmpzXG4gICAqXG4gICAqIENvcHlyaWdodCAoYykgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb25cbiAgICpcbiAgICogQ29udHJpYnV0b3JzOiBBbmRyZWFzIEdhbCA8Z2FsQG1vemlsbGEuY29tPlxuICAgKiAgICAgICAgICAgICAgIENocmlzIEcgSm9uZXMgPGNqb25lc0Btb3ppbGxhLmNvbT5cbiAgICogICAgICAgICAgICAgICBTaGFvbiBCYXJtYW4gPHNoYW9uLmJhcm1hbkBnbWFpbC5jb20+XG4gICAqICAgICAgICAgICAgICAgVml2aWVuIE5pY29sYXMgPDIxQHZpbmd0ZXR1bi5vcmc+XG4gICAqICAgICAgICAgICAgICAgSnVzdGluIEQnQXJjYW5nZWxvIDxqdXN0aW5kYXJjQGdtYWlsLmNvbT5cbiAgICogICAgICAgICAgICAgICBZdXJ5IERlbGVuZGlrXG4gICAqXG4gICAqIFxuICAgKi9cbnZhciBQdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnBvcz0wLHRoaXMuYnVmZmVyTGVuZ3RoPTAsdGhpcy5lb2Y9ITEsdGhpcy5idWZmZXI9bnVsbH1yZXR1cm4gdC5wcm90b3R5cGU9e2Vuc3VyZUJ1ZmZlcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmJ1ZmZlcixuPWU/ZS5ieXRlTGVuZ3RoOjA7aWYodDxuKXJldHVybiBlO2Zvcih2YXIgcj01MTI7cjx0OylyPDw9MTtmb3IodmFyIGk9bmV3IFVpbnQ4QXJyYXkociksbz0wO288bjsrK28paVtvXT1lW29dO3JldHVybiB0aGlzLmJ1ZmZlcj1pfSxnZXRCeXRlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucG9zO3RoaXMuYnVmZmVyTGVuZ3RoPD10Oyl7aWYodGhpcy5lb2YpcmV0dXJuIG51bGw7dGhpcy5yZWFkQmxvY2soKX1yZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5wb3MrK119LGdldEJ5dGVzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucG9zO2lmKHQpe3RoaXMuZW5zdXJlQnVmZmVyKGUrdCk7Zm9yKHZhciBuPWUrdDshdGhpcy5lb2YmJnRoaXMuYnVmZmVyTGVuZ3RoPG47KXRoaXMucmVhZEJsb2NrKCk7dmFyIHI9dGhpcy5idWZmZXJMZW5ndGg7cjxuJiYobj1yKX1lbHNle2Zvcig7IXRoaXMuZW9mOyl0aGlzLnJlYWRCbG9jaygpO249dGhpcy5idWZmZXJMZW5ndGh9cmV0dXJuIHRoaXMucG9zPW4sdGhpcy5idWZmZXIuc3ViYXJyYXkoZSxuKX0sbG9va0NoYXI6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5wb3M7dGhpcy5idWZmZXJMZW5ndGg8PXQ7KXtpZih0aGlzLmVvZilyZXR1cm4gbnVsbDt0aGlzLnJlYWRCbG9jaygpfXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuYnVmZmVyW3RoaXMucG9zXSl9LGdldENoYXI6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5wb3M7dGhpcy5idWZmZXJMZW5ndGg8PXQ7KXtpZih0aGlzLmVvZilyZXR1cm4gbnVsbDt0aGlzLnJlYWRCbG9jaygpfXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuYnVmZmVyW3RoaXMucG9zKytdKX0sbWFrZVN1YlN0cmVhbTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXQrZTt0aGlzLmJ1ZmZlckxlbmd0aDw9ciYmIXRoaXMuZW9mOyl0aGlzLnJlYWRCbG9jaygpO3JldHVybiBuZXcgU3RyZWFtKHRoaXMuYnVmZmVyLHQsZSxuKX0sc2tpcDpmdW5jdGlvbih0KXt0fHwodD0xKSx0aGlzLnBvcys9dH0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnBvcz0wfX0sdH0oKSxrdD1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50MzJBcnJheSl7dmFyIGs9bmV3IFVpbnQzMkFycmF5KFsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSksST1uZXcgVWludDMyQXJyYXkoWzMsNCw1LDYsNyw4LDksMTAsNjU1NDcsNjU1NDksNjU1NTEsNjU1NTMsMTMxMDkxLDEzMTA5NSwxMzEwOTksMTMxMTAzLDE5NjY0MywxOTY2NTEsMTk2NjU5LDE5NjY2NywyNjIyMTEsMjYyMjI3LDI2MjI0MywyNjIyNTksMzI3ODExLDMyNzg0MywzMjc4NzUsMzI3OTA3LDI1OCwyNTgsMjU4XSksQz1uZXcgVWludDMyQXJyYXkoWzEsMiwzLDQsNjU1NDEsNjU1NDMsMTMxMDgxLDEzMTA4NSwxOTY2MjUsMTk2NjMzLDI2MjE3NywyNjIxOTMsMzI3NzQ1LDMyNzc3NywzOTMzNDUsMzkzNDA5LDQ1OTAwOSw0NTkxMzcsNTI0ODAxLDUyNTA1Nyw1OTA4NDksNTkxMzYxLDY1NzQwOSw2NTg0MzMsNzI0OTkzLDcyNzA0MSw3OTQ2MjUsNzk4NzIxLDg2ODM1Myw4NzY1NDVdKSxCPVtuZXcgVWludDMyQXJyYXkoWzQ1OTAwOCw1MjQzNjgsNTI0MzA0LDUyNDU2OCw0NTkwMjQsNTI0NDAwLDUyNDMzNiw1OTAwMTYsNDU5MDE2LDUyNDM4NCw1MjQzMjAsNTg5OTg0LDUyNDI4OCw1MjQ0MTYsNTI0MzUyLDU5MDA0OCw0NTkwMTIsNTI0Mzc2LDUyNDMxMiw1ODk5NjgsNDU5MDI4LDUyNDQwOCw1MjQzNDQsNTkwMDMyLDQ1OTAyMCw1MjQzOTIsNTI0MzI4LDU5ZTQsNTI0Mjk2LDUyNDQyNCw1MjQzNjAsNTkwMDY0LDQ1OTAxMCw1MjQzNzIsNTI0MzA4LDUyNDU3Miw0NTkwMjYsNTI0NDA0LDUyNDM0MCw1OTAwMjQsNDU5MDE4LDUyNDM4OCw1MjQzMjQsNTg5OTkyLDUyNDI5Miw1MjQ0MjAsNTI0MzU2LDU5MDA1Niw0NTkwMTQsNTI0MzgwLDUyNDMxNiw1ODk5NzYsNDU5MDMwLDUyNDQxMiw1MjQzNDgsNTkwMDQwLDQ1OTAyMiw1MjQzOTYsNTI0MzMyLDU5MDAwOCw1MjQzMDAsNTI0NDI4LDUyNDM2NCw1OTAwNzIsNDU5MDA5LDUyNDM3MCw1MjQzMDYsNTI0NTcwLDQ1OTAyNSw1MjQ0MDIsNTI0MzM4LDU5MDAyMCw0NTkwMTcsNTI0Mzg2LDUyNDMyMiw1ODk5ODgsNTI0MjkwLDUyNDQxOCw1MjQzNTQsNTkwMDUyLDQ1OTAxMyw1MjQzNzgsNTI0MzE0LDU4OTk3Miw0NTkwMjksNTI0NDEwLDUyNDM0Niw1OTAwMzYsNDU5MDIxLDUyNDM5NCw1MjQzMzAsNTkwMDA0LDUyNDI5OCw1MjQ0MjYsNTI0MzYyLDU5MDA2OCw0NTkwMTEsNTI0Mzc0LDUyNDMxMCw1MjQ1NzQsNDU5MDI3LDUyNDQwNiw1MjQzNDIsNTkwMDI4LDQ1OTAxOSw1MjQzOTAsNTI0MzI2LDU4OTk5Niw1MjQyOTQsNTI0NDIyLDUyNDM1OCw1OTAwNjAsNDU5MDE1LDUyNDM4Miw1MjQzMTgsNTg5OTgwLDQ1OTAzMSw1MjQ0MTQsNTI0MzUwLDU5MDA0NCw0NTkwMjMsNTI0Mzk4LDUyNDMzNCw1OTAwMTIsNTI0MzAyLDUyNDQzMCw1MjQzNjYsNTkwMDc2LDQ1OTAwOCw1MjQzNjksNTI0MzA1LDUyNDU2OSw0NTkwMjQsNTI0NDAxLDUyNDMzNyw1OTAwMTgsNDU5MDE2LDUyNDM4NSw1MjQzMjEsNTg5OTg2LDUyNDI4OSw1MjQ0MTcsNTI0MzUzLDU5MDA1MCw0NTkwMTIsNTI0Mzc3LDUyNDMxMyw1ODk5NzAsNDU5MDI4LDUyNDQwOSw1MjQzNDUsNTkwMDM0LDQ1OTAyMCw1MjQzOTMsNTI0MzI5LDU5MDAwMiw1MjQyOTcsNTI0NDI1LDUyNDM2MSw1OTAwNjYsNDU5MDEwLDUyNDM3Myw1MjQzMDksNTI0NTczLDQ1OTAyNiw1MjQ0MDUsNTI0MzQxLDU5MDAyNiw0NTkwMTgsNTI0Mzg5LDUyNDMyNSw1ODk5OTQsNTI0MjkzLDUyNDQyMSw1MjQzNTcsNTkwMDU4LDQ1OTAxNCw1MjQzODEsNTI0MzE3LDU4OTk3OCw0NTkwMzAsNTI0NDEzLDUyNDM0OSw1OTAwNDIsNDU5MDIyLDUyNDM5Nyw1MjQzMzMsNTkwMDEwLDUyNDMwMSw1MjQ0MjksNTI0MzY1LDU5MDA3NCw0NTkwMDksNTI0MzcxLDUyNDMwNyw1MjQ1NzEsNDU5MDI1LDUyNDQwMyw1MjQzMzksNTkwMDIyLDQ1OTAxNyw1MjQzODcsNTI0MzIzLDU4OTk5MCw1MjQyOTEsNTI0NDE5LDUyNDM1NSw1OTAwNTQsNDU5MDEzLDUyNDM3OSw1MjQzMTUsNTg5OTc0LDQ1OTAyOSw1MjQ0MTEsNTI0MzQ3LDU5MDAzOCw0NTkwMjEsNTI0Mzk1LDUyNDMzMSw1OTAwMDYsNTI0Mjk5LDUyNDQyNyw1MjQzNjMsNTkwMDcwLDQ1OTAxMSw1MjQzNzUsNTI0MzExLDUyNDU3NSw0NTkwMjcsNTI0NDA3LDUyNDM0Myw1OTAwMzAsNDU5MDE5LDUyNDM5MSw1MjQzMjcsNTg5OTk4LDUyNDI5NSw1MjQ0MjMsNTI0MzU5LDU5MDA2Miw0NTkwMTUsNTI0MzgzLDUyNDMxOSw1ODk5ODIsNDU5MDMxLDUyNDQxNSw1MjQzNTEsNTkwMDQ2LDQ1OTAyMyw1MjQzOTksNTI0MzM1LDU5MDAxNCw1MjQzMDMsNTI0NDMxLDUyNDM2Nyw1OTAwNzgsNDU5MDA4LDUyNDM2OCw1MjQzMDQsNTI0NTY4LDQ1OTAyNCw1MjQ0MDAsNTI0MzM2LDU5MDAxNyw0NTkwMTYsNTI0Mzg0LDUyNDMyMCw1ODk5ODUsNTI0Mjg4LDUyNDQxNiw1MjQzNTIsNTkwMDQ5LDQ1OTAxMiw1MjQzNzYsNTI0MzEyLDU4OTk2OSw0NTkwMjgsNTI0NDA4LDUyNDM0NCw1OTAwMzMsNDU5MDIwLDUyNDM5Miw1MjQzMjgsNTkwMDAxLDUyNDI5Niw1MjQ0MjQsNTI0MzYwLDU5MDA2NSw0NTkwMTAsNTI0MzcyLDUyNDMwOCw1MjQ1NzIsNDU5MDI2LDUyNDQwNCw1MjQzNDAsNTkwMDI1LDQ1OTAxOCw1MjQzODgsNTI0MzI0LDU4OTk5Myw1MjQyOTIsNTI0NDIwLDUyNDM1Niw1OTAwNTcsNDU5MDE0LDUyNDM4MCw1MjQzMTYsNTg5OTc3LDQ1OTAzMCw1MjQ0MTIsNTI0MzQ4LDU5MDA0MSw0NTkwMjIsNTI0Mzk2LDUyNDMzMiw1OTAwMDksNTI0MzAwLDUyNDQyOCw1MjQzNjQsNTkwMDczLDQ1OTAwOSw1MjQzNzAsNTI0MzA2LDUyNDU3MCw0NTkwMjUsNTI0NDAyLDUyNDMzOCw1OTAwMjEsNDU5MDE3LDUyNDM4Niw1MjQzMjIsNTg5OTg5LDUyNDI5MCw1MjQ0MTgsNTI0MzU0LDU5MDA1Myw0NTkwMTMsNTI0Mzc4LDUyNDMxNCw1ODk5NzMsNDU5MDI5LDUyNDQxMCw1MjQzNDYsNTkwMDM3LDQ1OTAyMSw1MjQzOTQsNTI0MzMwLDU5MDAwNSw1MjQyOTgsNTI0NDI2LDUyNDM2Miw1OTAwNjksNDU5MDExLDUyNDM3NCw1MjQzMTAsNTI0NTc0LDQ1OTAyNyw1MjQ0MDYsNTI0MzQyLDU5MDAyOSw0NTkwMTksNTI0MzkwLDUyNDMyNiw1ODk5OTcsNTI0Mjk0LDUyNDQyMiw1MjQzNTgsNTkwMDYxLDQ1OTAxNSw1MjQzODIsNTI0MzE4LDU4OTk4MSw0NTkwMzEsNTI0NDE0LDUyNDM1MCw1OTAwNDUsNDU5MDIzLDUyNDM5OCw1MjQzMzQsNTkwMDEzLDUyNDMwMiw1MjQ0MzAsNTI0MzY2LDU5MDA3Nyw0NTkwMDgsNTI0MzY5LDUyNDMwNSw1MjQ1NjksNDU5MDI0LDUyNDQwMSw1MjQzMzcsNTkwMDE5LDQ1OTAxNiw1MjQzODUsNTI0MzIxLDU4OTk4Nyw1MjQyODksNTI0NDE3LDUyNDM1Myw1OTAwNTEsNDU5MDEyLDUyNDM3Nyw1MjQzMTMsNTg5OTcxLDQ1OTAyOCw1MjQ0MDksNTI0MzQ1LDU5MDAzNSw0NTkwMjAsNTI0MzkzLDUyNDMyOSw1OTAwMDMsNTI0Mjk3LDUyNDQyNSw1MjQzNjEsNTkwMDY3LDQ1OTAxMCw1MjQzNzMsNTI0MzA5LDUyNDU3Myw0NTkwMjYsNTI0NDA1LDUyNDM0MSw1OTAwMjcsNDU5MDE4LDUyNDM4OSw1MjQzMjUsNTg5OTk1LDUyNDI5Myw1MjQ0MjEsNTI0MzU3LDU5MDA1OSw0NTkwMTQsNTI0MzgxLDUyNDMxNyw1ODk5NzksNDU5MDMwLDUyNDQxMyw1MjQzNDksNTkwMDQzLDQ1OTAyMiw1MjQzOTcsNTI0MzMzLDU5MDAxMSw1MjQzMDEsNTI0NDI5LDUyNDM2NSw1OTAwNzUsNDU5MDA5LDUyNDM3MSw1MjQzMDcsNTI0NTcxLDQ1OTAyNSw1MjQ0MDMsNTI0MzM5LDU5MDAyMyw0NTkwMTcsNTI0Mzg3LDUyNDMyMyw1ODk5OTEsNTI0MjkxLDUyNDQxOSw1MjQzNTUsNTkwMDU1LDQ1OTAxMyw1MjQzNzksNTI0MzE1LDU4OTk3NSw0NTkwMjksNTI0NDExLDUyNDM0Nyw1OTAwMzksNDU5MDIxLDUyNDM5NSw1MjQzMzEsNTkwMDA3LDUyNDI5OSw1MjQ0MjcsNTI0MzYzLDU5MDA3MSw0NTkwMTEsNTI0Mzc1LDUyNDMxMSw1MjQ1NzUsNDU5MDI3LDUyNDQwNyw1MjQzNDMsNTkwMDMxLDQ1OTAxOSw1MjQzOTEsNTI0MzI3LDU4OTk5OSw1MjQyOTUsNTI0NDIzLDUyNDM1OSw1OTAwNjMsNDU5MDE1LDUyNDM4Myw1MjQzMTksNTg5OTgzLDQ1OTAzMSw1MjQ0MTUsNTI0MzUxLDU5MDA0Nyw0NTkwMjMsNTI0Mzk5LDUyNDMzNSw1OTAwMTUsNTI0MzAzLDUyNDQzMSw1MjQzNjcsNTkwMDc5XSksOV0saj1bbmV3IFVpbnQzMkFycmF5KFszMjc2ODAsMzI3Njk2LDMyNzY4OCwzMjc3MDQsMzI3Njg0LDMyNzcwMCwzMjc2OTIsMzI3NzA4LDMyNzY4MiwzMjc2OTgsMzI3NjkwLDMyNzcwNiwzMjc2ODYsMzI3NzAyLDMyNzY5NCwwLDMyNzY4MSwzMjc2OTcsMzI3Njg5LDMyNzcwNSwzMjc2ODUsMzI3NzAxLDMyNzY5MywzMjc3MDksMzI3NjgzLDMyNzY5OSwzMjc2OTEsMzI3NzA3LDMyNzY4NywzMjc3MDMsMzI3Njk1LDBdKSw1XTtyZXR1cm4odC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShQdC5wcm90b3R5cGUpKS5nZXRCaXRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPXRoaXMuY29kZVNpemUscj10aGlzLmNvZGVCdWYsaT10aGlzLmJ5dGVzLG89dGhpcy5ieXRlc1BvcztuPHQ7KXZvaWQgMD09PShlPWlbbysrXSkmJkUoXCJCYWQgZW5jb2RpbmcgaW4gZmxhdGUgc3RyZWFtXCIpLHJ8PWU8PG4sbis9ODtyZXR1cm4gZT1yJigxPDx0KS0xLHRoaXMuY29kZUJ1Zj1yPj50LHRoaXMuY29kZVNpemU9bi09dCx0aGlzLmJ5dGVzUG9zPW8sZX0sdC5wcm90b3R5cGUuZ2V0Q29kZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dFswXSxuPXRbMV0scj10aGlzLmNvZGVTaXplLGk9dGhpcy5jb2RlQnVmLG89dGhpcy5ieXRlcyxhPXRoaXMuYnl0ZXNQb3M7cjxuOyl7dmFyIHM7dm9pZCAwPT09KHM9b1thKytdKSYmRShcIkJhZCBlbmNvZGluZyBpbiBmbGF0ZSBzdHJlYW1cIiksaXw9czw8cixyKz04fXZhciBsPWVbaSYoMTw8biktMV0saD1sPj4xNix1PTY1NTM1Jmw7cmV0dXJuKDA9PXJ8fHI8aHx8MD09aCkmJkUoXCJCYWQgZW5jb2RpbmcgaW4gZmxhdGUgc3RyZWFtXCIpLHRoaXMuY29kZUJ1Zj1pPj5oLHRoaXMuY29kZVNpemU9ci1oLHRoaXMuYnl0ZXNQb3M9YSx1fSx0LnByb3RvdHlwZS5nZW5lcmF0ZUh1ZmZtYW5UYWJsZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgsbj0wLHI9MDtyPGU7KytyKXRbcl0+biYmKG49dFtyXSk7Zm9yKHZhciBpPTE8PG4sbz1uZXcgVWludDMyQXJyYXkoaSksYT0xLHM9MCxsPTI7YTw9bjsrK2Esczw8PTEsbDw8PTEpZm9yKHZhciBoPTA7aDxlOysraClpZih0W2hdPT1hKXt2YXIgdT0wLGM9cztmb3Iocj0wO3I8YTsrK3IpdT11PDwxfDEmYyxjPj49MTtmb3Iocj11O3I8aTtyKz1sKW9bcl09YTw8MTZ8aDsrK3N9cmV0dXJuW28sbl19LHQucHJvdG90eXBlLnJlYWRCbG9jaz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4scixpKXtmb3IodmFyIG89dC5nZXRCaXRzKG4pK3I7MDxvLS07KWVbbCsrXT1pfXZhciBlPXRoaXMuZ2V0Qml0cygzKTtpZigxJmUmJih0aGlzLmVvZj0hMCksMCE9KGU+Pj0xKSl7dmFyIG4scjtpZigxPT1lKW49QixyPWo7ZWxzZSBpZigyPT1lKXtmb3IodmFyIGk9dGhpcy5nZXRCaXRzKDUpKzI1NyxvPXRoaXMuZ2V0Qml0cyg1KSsxLGE9dGhpcy5nZXRCaXRzKDQpKzQscz1BcnJheShrLmxlbmd0aCksbD0wO2w8YTspc1trW2wrK11dPXRoaXMuZ2V0Qml0cygzKTtmb3IodmFyIGg9dGhpcy5nZW5lcmF0ZUh1ZmZtYW5UYWJsZShzKSx1PTAsYz0obD0wLGkrbyksZj1uZXcgQXJyYXkoYyk7bDxjOyl7dmFyIHA9dGhpcy5nZXRDb2RlKGgpOzE2PT1wP3QodGhpcyxmLDIsMyx1KToxNz09cD90KHRoaXMsZiwzLDMsdT0wKToxOD09cD90KHRoaXMsZiw3LDExLHU9MCk6ZltsKytdPXU9cH1uPXRoaXMuZ2VuZXJhdGVIdWZmbWFuVGFibGUoZi5zbGljZSgwLGkpKSxyPXRoaXMuZ2VuZXJhdGVIdWZmbWFuVGFibGUoZi5zbGljZShpLGMpKX1lbHNlIEUoXCJVbmtub3duIGJsb2NrIHR5cGUgaW4gZmxhdGUgc3RyZWFtXCIpO2Zvcih2YXIgZD0oXz10aGlzLmJ1ZmZlcik/Xy5sZW5ndGg6MCxnPXRoaXMuYnVmZmVyTGVuZ3RoOzspe3ZhciBtPXRoaXMuZ2V0Q29kZShuKTtpZihtPDI1NilkPD1nKzEmJihkPShfPXRoaXMuZW5zdXJlQnVmZmVyKGcrMSkpLmxlbmd0aCksX1tnKytdPW07ZWxzZXtpZigyNTY9PW0pcmV0dXJuIHZvaWQodGhpcy5idWZmZXJMZW5ndGg9Zyk7dmFyIHk9KG09SVttLT0yNTddKT4+MTY7MDx5JiYoeT10aGlzLmdldEJpdHMoeSkpO3U9KDY1NTM1Jm0pK3k7bT10aGlzLmdldENvZGUociksMDwoeT0obT1DW21dKT4+MTYpJiYoeT10aGlzLmdldEJpdHMoeSkpO3ZhciB2PSg2NTUzNSZtKSt5O2Q8PWcrdSYmKGQ9KF89dGhpcy5lbnN1cmVCdWZmZXIoZyt1KSkubGVuZ3RoKTtmb3IodmFyIHc9MDt3PHU7Kyt3LCsrZylfW2ddPV9bZy12XX19fWVsc2V7dmFyIGIseD10aGlzLmJ5dGVzLE49dGhpcy5ieXRlc1Bvczt2b2lkIDA9PT0oYj14W04rK10pJiZFKFwiQmFkIGJsb2NrIGhlYWRlciBpbiBmbGF0ZSBzdHJlYW1cIik7dmFyIEw9Yjt2b2lkIDA9PT0oYj14W04rK10pJiZFKFwiQmFkIGJsb2NrIGhlYWRlciBpbiBmbGF0ZSBzdHJlYW1cIiksTHw9Yjw8OCx2b2lkIDA9PT0oYj14W04rK10pJiZFKFwiQmFkIGJsb2NrIGhlYWRlciBpbiBmbGF0ZSBzdHJlYW1cIik7dmFyIEE9Yjt2b2lkIDA9PT0oYj14W04rK10pJiZFKFwiQmFkIGJsb2NrIGhlYWRlciBpbiBmbGF0ZSBzdHJlYW1cIiksKEF8PWI8PDgpIT0oNjU1MzUmfkwpJiZFKFwiQmFkIHVuY29tcHJlc3NlZCBibG9jayBsZW5ndGggaW4gZmxhdGUgc3RyZWFtXCIpLHRoaXMuY29kZUJ1Zj0wLHRoaXMuY29kZVNpemU9MDt2YXIgUz10aGlzLmJ1ZmZlckxlbmd0aCxfPXRoaXMuZW5zdXJlQnVmZmVyKFMrTCksRj1TK0w7dGhpcy5idWZmZXJMZW5ndGg9Rjtmb3IodmFyIFA9UztQPEY7KytQKXtpZih2b2lkIDA9PT0oYj14W04rK10pKXt0aGlzLmVvZj0hMDticmVha31fW1BdPWJ9dGhpcy5ieXRlc1Bvcz1OfX0sdH1mdW5jdGlvbiBFKHQpe3Rocm93IG5ldyBFcnJvcih0KX1mdW5jdGlvbiB0KHQpe3ZhciBlPTAsbj10W2UrK10scj10W2UrK107LTEhPW4mJi0xIT1yfHxFKFwiSW52YWxpZCBoZWFkZXIgaW4gZmxhdGUgc3RyZWFtXCIpLDghPSgxNSZuKSYmRShcIlVua25vd24gY29tcHJlc3Npb24gbWV0aG9kIGluIGZsYXRlIHN0cmVhbVwiKSwoKG48PDgpK3IpJTMxIT0wJiZFKFwiQmFkIEZDSEVDSyBpbiBmbGF0ZSBzdHJlYW1cIiksMzImciYmRShcIkZESUNUIGJpdCBzZXQgaW4gZmxhdGUgc3RyZWFtXCIpLHRoaXMuYnl0ZXM9dCx0aGlzLmJ5dGVzUG9zPTIsdGhpcy5jb2RlU2l6ZT0wLHRoaXMuY29kZUJ1Zj0wLFB0LmNhbGwodGhpcyl9fSgpO3dpbmRvdy50bXA9a3R9KTt0cnl7bW9kdWxlLmV4cG9ydHM9anNQREZ9Y2F0Y2godCl7fSIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJ2YXIgc2kgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nLCB0aWNrO1xuaWYgKHNpKSB7XG4gIHRpY2sgPSBmdW5jdGlvbiAoZm4pIHsgc2V0SW1tZWRpYXRlKGZuKTsgfTtcbn0gZWxzZSB7XG4gIHRpY2sgPSBmdW5jdGlvbiAoZm4pIHsgc2V0VGltZW91dChmbiwgMCk7IH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdGljazsiLCJ2YXIgbmV4dFRpY2sgPSByZXF1aXJlKCdwcm9jZXNzL2Jyb3dzZXIuanMnKS5uZXh0VGljaztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBpbW1lZGlhdGVJZHMgPSB7fTtcbnZhciBuZXh0SW1tZWRpYXRlSWQgPSAwO1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkgeyB0aW1lb3V0LmNsb3NlKCk7IH07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gVGhhdCdzIG5vdCBob3cgbm9kZS5qcyBpbXBsZW1lbnRzIGl0IGJ1dCB0aGUgZXhwb3NlZCBhcGkgaXMgdGhlIHNhbWUuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHNldEltbWVkaWF0ZSA6IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBpZCA9IG5leHRJbW1lZGlhdGVJZCsrO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZmFsc2UgOiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgaW1tZWRpYXRlSWRzW2lkXSA9IHRydWU7XG5cbiAgbmV4dFRpY2soZnVuY3Rpb24gb25OZXh0VGljaygpIHtcbiAgICBpZiAoaW1tZWRpYXRlSWRzW2lkXSkge1xuICAgICAgLy8gZm4uY2FsbCgpIGlzIGZhc3RlciBzbyB3ZSBvcHRpbWl6ZSBmb3IgdGhlIGNvbW1vbiB1c2UtY2FzZVxuICAgICAgLy8gQHNlZSBodHRwOi8vanNwZXJmLmNvbS9jYWxsLWFwcGx5LXNlZ3VcbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm4uY2FsbChudWxsKTtcbiAgICAgIH1cbiAgICAgIC8vIFByZXZlbnQgaWRzIGZyb20gbGVha2luZ1xuICAgICAgZXhwb3J0cy5jbGVhckltbWVkaWF0ZShpZCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaWQ7XG59O1xuXG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gdHlwZW9mIGNsZWFySW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBjbGVhckltbWVkaWF0ZSA6IGZ1bmN0aW9uKGlkKSB7XG4gIGRlbGV0ZSBpbW1lZGlhdGVJZHNbaWRdO1xufTsiLCIvLyB2YXIgSW5saW5lRWRpdG9yID0gcmVxdWlyZSgnLi4vLi4vZGVwZW5kZW5jaWVzL2NrZWRpdG9yL2NrZWRpdG9yNS1pbmxpbmUtZnVsbC9idWlsZC9ja2VkaXRvcicpXHJcbnZhciBCYWxsb29uRWRpdG9yID0gcmVxdWlyZSgnLi4vLi4vZGVwZW5kZW5jaWVzL2NrZWRpdG9yL2NrZWRpdG9yLWJhbG9vbi9idWlsZC9ja2VkaXRvcicpXHJcbi8vIHJlcXVpcmUoJy4uLy4uL2RlcGVuZGVuY2llcy9ja2VkaXRvci9ja2VkaXRvcjUtaW5saW5lLWZ1bGwvYnVpbGQvdHJhbnNsYXRpb25zL3J1JylcclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblxyXG4gICAgcmVtb3ZlVGV4dEVkaXRvcjogZnVuY3Rpb24gcmVtb3ZlKGVsKSB7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICBpbml0VGV4dEVkaXRvcjogZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgLy8gIWVsLmdldEF0dHJpYnV0ZSgnaWQnKSAmJlxyXG4gICAgICAgIC8vZWwuc2V0QXR0cmlidXRlKCdpZCcsIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyKSk7XHJcbiAgICAgICAgLy8gZWwuc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCB0cnVlKVxyXG5cclxuICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+XHJcbiAgICAgICAgICAgIGNrRWRpdG9yKGVsKVxyXG4gICAgICAgICAgICAvLyAsIDEwMDApO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbmZ1bmN0aW9uIGNrRWRpdG9yKGVsKSB7XHJcblxyXG4gICAgaWYoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbml0aWFsaXplZCcpKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgZWwuY2xhc3NMaXN0LmFkZCgnaW5pdGlhbGl6ZWQnKTtcclxuICAgIC8vIElubGluZUVkaXRvclxyXG4gICAgQmFsbG9vbkVkaXRvclxyXG4gICAgICAgIC5jcmVhdGUoZWwsIHtcclxuXHJcbiAgICAgICAgICAgIHRvb2xiYXI6IHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ3VuZG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdyZWRvJyxcclxuICAgICAgICAgICAgICAgICAgICAnfCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2JvbGQnLFxyXG4gICAgICAgICAgICAgICAgICAgICdpdGFsaWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICd1bmRlcmxpbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICdzdHJpa2V0aHJvdWdoJyxcclxuICAgICAgICAgICAgICAgICAgICAnc3Vic2NyaXB0JyxcclxuICAgICAgICAgICAgICAgICAgICAnc3VwZXJzY3JpcHQnLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICdibG9ja1F1b3RlJyxcclxuICAgICAgICAgICAgICAgICAgICAvLyAnYnVsbGV0ZWRMaXN0JyxcclxuICAgICAgICAgICAgICAgICAgICAvLyAnbnVtYmVyZWRMaXN0JyxcclxuICAgICAgICAgICAgICAgICAgICAnfCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2FsaWdubWVudCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2luZGVudCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ291dGRlbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICdmb250RmFtaWx5JyxcclxuICAgICAgICAgICAgICAgICAgICAnZm9udFNpemUnLFxyXG4gICAgICAgICAgICAgICAgICAgICdmb250QmFja2dyb3VuZENvbG9yJyxcclxuICAgICAgICAgICAgICAgICAgICAnZm9udENvbG9yJyxcclxuICAgICAgICAgICAgICAgICAgICAnfCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2ltYWdlVXBsb2FkJyxcclxuICAgICAgICAgICAgICAgICAgICAnaW5zZXJ0VGFibGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICdzcGVjaWFsQ2hhcmFjdGVycycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2hvcml6b250YWxMaW5lJyxcclxuICAgICAgICAgICAgICAgICAgICAnbGluaydcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGFuZ3VhZ2U6ICdydScsXHJcbiAgICAgICAgICAgIGltYWdlOiB7XHJcbiAgICAgICAgICAgICAgICB0b29sYmFyOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2ltYWdlVGV4dEFsdGVybmF0aXZlJyxcclxuICAgICAgICAgICAgICAgICAgICAnaW1hZ2VTdHlsZTpmdWxsJyxcclxuICAgICAgICAgICAgICAgICAgICAnaW1hZ2VTdHlsZTpzaWRlJ1xyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0YWJsZToge1xyXG4gICAgICAgICAgICAgICAgY29udGVudFRvb2xiYXI6IFtcclxuICAgICAgICAgICAgICAgICAgICAndGFibGVDb2x1bW4nLFxyXG4gICAgICAgICAgICAgICAgICAgICd0YWJsZVJvdycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ21lcmdlVGFibGVDZWxscycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RhYmxlQ2VsbFByb3BlcnRpZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICd0YWJsZVByb3BlcnRpZXMnXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpY2Vuc2VLZXk6ICcnLFxyXG5cclxuICAgICAgICB9KS50aGVuKGVkaXRvciA9PiB7XHJcbiAgICAgICAgICAgIGVsLmVkaXRvciA9IGVkaXRvcjtcclxuICAgICAgICB9KVxyXG59XHJcbiIsImxldCBmaWxsID0gJyM0MzJjMTInXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIG1vdmU6ICh3LCBoKSA9PiBgXHJcbiAgICAgICAgPHN2ZyBmaWxsPVwiJHtmaWxsfVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiLTUwIC01MCA2MTIgNjEyXCIgd2lkdGg9XCIke3d9cHhcIiAgaGVpZ2h0PVwiJHtofXB4XCI+XHJcbiAgICAgICAgICAgIDxwYXRoIGQ9XCJNMzUyLjIwMSA0MjUuNzc1bC03OS4xOTYgNzkuMTk2Yy05LjM3MyA5LjM3My0yNC41NjggOS4zNzMtMzMuOTQxIFxyXG4gICAgICAgICAgICAgICAgMGwtNzkuMTk2LTc5LjE5NmMtMTUuMTE5LTE1LjExOS00LjQxMS00MC45NzEgMTYuOTcxLTQwLjk3aDUxLjE2MkwyMjggMjg0SDEyNy4xOTZ2NTEuMTYyYzAgXHJcbiAgICAgICAgICAgICAgICAyMS4zODItMjUuODUxIDMyLjA5LTQwLjk3MSAxNi45NzFMNy4wMjkgMjcyLjkzN2MtOS4zNzMtOS4zNzMtOS4zNzMtMjQuNTY5IDAtMzMuOTQxTDg2LjIyNSBcclxuICAgICAgICAgICAgICAgIDE1OS44YzE1LjExOS0xNS4xMTkgNDAuOTcxLTQuNDExIDQwLjk3MSAxNi45NzFWMjI4SDIyOFYxMjcuMTk2aC01MS4yM2MtMjEuMzgyIFxyXG4gICAgICAgICAgICAgICAgMC0zMi4wOS0yNS44NTEtMTYuOTcxLTQwLjk3MWw3OS4xOTYtNzkuMTk2YzkuMzczLTkuMzczIDI0LjU2OC05LjM3MyAzMy45NDEgMGw3OS4xOTYgNzkuMTk2YzE1LjExOSBcclxuICAgICAgICAgICAgICAgIDE1LjExOSA0LjQxMSA0MC45NzEtMTYuOTcxIDQwLjk3MWgtNTEuMTYyVjIyOGgxMDAuODA0di01MS4xNjJjMC0yMS4zODIgMjUuODUxLTMyLjA5IFxyXG4gICAgICAgICAgICAgICAgNDAuOTctMTYuOTcxbDc5LjE5NiA3OS4xOTZjOS4zNzMgOS4zNzMgOS4zNzMgMjQuNTY5IDAgMzMuOTQxTDQyNS43NzMgMzUyLjJjLTE1LjExOSAxNS4xMTktNDAuOTcxIFxyXG4gICAgICAgICAgICAgICAgNC40MTEtNDAuOTctMTYuOTcxVjI4NEgyODR2MTAwLjgwNGg1MS4yM2MyMS4zODIgMCAzMi4wOSAyNS44NTEgMTYuOTcxIDQwLjk3MXpcIi8+XHJcbiAgICAgICAgPC9zdmc+XHJcbiAgICBgLFxyXG4gICAgY29weTogKHcsIGgpID0+IGBcclxuICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiLTUwIC01MCA1NDggNjEyXCIgd2lkdGg9XCIke3d9cHhcIiAgaGVpZ2h0PVwiJHtofXB4XCI+XHJcbiAgICAgICAgICAgIDxwYXRoIGZpbGw9XCIke2ZpbGx9XCIgZD1cIk0zMjAgNDQ4djQwYzAgMTMuMjU1LTEwLjc0NSAyNC0yNCAyNEgyNGMtMTMuMjU1IFxyXG4gICAgICAgICAgICAgICAgMC0yNC0xMC43NDUtMjQtMjRWMTIwYzAtMTMuMjU1IDEwLjc0NS0yNCAyNC0yNGg3MnYyOTZjMCBcclxuICAgICAgICAgICAgICAgIDMwLjg3OSAyNS4xMjEgNTYgNTYgNTZoMTY4em0wLTM0NFYwSDE1MmMtMTMuMjU1IDAtMjQgMTAuNzQ1LTI0IDI0djM2OGMwIFxyXG4gICAgICAgICAgICAgICAgMTMuMjU1IDEwLjc0NSAyNCAyNCAyNGgyNzJjMTMuMjU1IDAgMjQtMTAuNzQ1IDI0LTI0VjEyOEgzNDRjLTEzLjIgXHJcbiAgICAgICAgICAgICAgICAwLTI0LTEwLjgtMjQtMjR6bTEyMC45NzEtMzEuMDI5TDM3NS4wMjkgNy4wMjlBMjQgMjQgMCAwIDAgMzU4LjA1OSBcclxuICAgICAgICAgICAgICAgIDBIMzUydjk2aDk2di02LjA1OWEyNCAyNCAwIDAgMC03LjAyOS0xNi45N3pcIi8+XHJcbiAgICAgICAgPC9zdmc+XHJcbiAgICBgXHJcbn07IiwicmVxdWlyZSgnLi9wZGYtZWRpdG9yLmNzcycpO1xyXG5yZXF1aXJlKCcuLi8uLi9kZXBlbmRlbmNpZXMvZmxleGJveGdyaWQvZmxleGJveGdyaWQubWluLmNzcycpO1xyXG5sZXQgVGV4dEVkaXRvciA9IHJlcXVpcmUoJy4vQ2tFZGl0b3I1JylcclxuXHJcbnJlcXVpcmUoJy4uLy4uL25vZGVfbW9kdWxlcy9kcmFndWxhL2Rpc3QvZHJhZ3VsYS5taW4uY3NzJyk7XHJcbmxldCBkcmFndWxhID0gcmVxdWlyZSgnZHJhZ3VsYScpO1xyXG5cclxubGV0IEljb25zID0gcmVxdWlyZSgnLi9JY29ucycpO1xyXG5cclxuLy9odHRwczovL2dpdGh1Yi5jb20vZUtvb3BtYW5zL2h0bWwycGRmLmpzL2Jsb2IvbWFzdGVyL1JFQURNRS5tZFxyXG5sZXQgaHRtbDJwZGYgPSByZXF1aXJlKCdodG1sMnBkZi5qcycpO1xyXG5cclxubGV0IGh0bWxUZW1wbGF0ZSA9IHJlcXVpcmUoJy4vaHRtbC10ZW1wbGF0ZScpO1xyXG5sZXQgVGVtcGxhdGVzRmFjdG9yeSA9IHJlcXVpcmUoJy4vVGVtcGxhdGVzRmFjdG9yeScpO1xyXG5cclxubGV0IHRlbXBsYXRlc0ZhY3RvcnkgPSBuZXcgVGVtcGxhdGVzRmFjdG9yeSgpO1xyXG5cclxuXHJcbmNsYXNzIFBkZkVkaXRvciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IodGFyZ2V0RWxlbWVudCwgZGF0YSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0RWxlbWVudCA9PT0gXCJzdHJpbmdcIilcclxuICAgICAgICAgICAgdGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0RWxlbWVudCk7XHJcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5pbm5lckhUTUwgPSBodG1sVGVtcGxhdGU7XHJcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc2lkZVBhbmVsICNibG9ja3MnKVxyXG4gICAgICAgICAgICAuaW5uZXJIVE1MID0gdGVtcGxhdGVzRmFjdG9yeS5jcmVhdGVCbG9ja3MoKTtcclxuICAgICAgICB0YXJnZXRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlUGFuZWwgI2VsZW1lbnRzJylcclxuICAgICAgICAgICAgLmlubmVySFRNTCA9IHRlbXBsYXRlc0ZhY3RvcnkuY3JlYXRlRWxlbWVudHMoKTtcclxuICAgICAgICB0YXJnZXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsXHJcbiAgICAgICAgICAgICAgICBlID0+IHRoaXMubWFuYWdlQnV0dG9ucyhlKSk7XHJcbiAgICAgICAgdGhpcy50YXJnZXRFbGVtZW50ID0gdGFyZ2V0RWxlbWVudDtcclxuICAgICAgICB0aGlzLm92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3ZnLW92ZXJsYXknKTtcclxuICAgICAgICB0aGlzLm92ZXJsYXlQYXRoID10aGlzLm92ZXJsYXkucXVlcnlTZWxlY3RvcigncGF0aCcpO1xyXG4gICAgICAgIHRoaXMub3ZlcmxheUNsaXAgPXRoaXMub3ZlcmxheS5xdWVyeVNlbGVjdG9yKCdwb2x5Z29uJyk7XHJcbiAgICAgICAgdGhpcy5pbml0RG5EKClcclxuICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdGlvbigpO1xyXG4gICAgICAgIHRoaXMuaW5pdEVkaXRvcnMoKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdyb3VwTmFtZScpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKGdyb3VwTmFtZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBncm91cE5hbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBOYW1lLmNsYXNzTGlzdC50b2dnbGUoJ2NvbGxhcHNlZCcpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ3BkZi1lZGl0b3I6IHYwLjAuMycpXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU2VsZWN0aW9uKCl7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlU2VsZWN0aW9uLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGlmICghdGhpcy5zZWxlY3RlZERyb3B6b25lKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vdmVybGF5UGF0aC5yZW1vdmVBdHRyaWJ1dGUoJ2QnKTtcclxuICAgICAgICBsZXQgcmVjdCA9IHRoaXMuc2VsZWN0ZWREcm9wem9uZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB0aGlzLm92ZXJsYXkuc2V0QXR0cmlidXRlKCd2aWV3Qm94JyxcclxuICAgICAgICAgICAgYDAgMCAke2lubmVyV2lkdGh9ICR7aW5uZXJIZWlnaHR9YCk7XHJcbiAgICAgICAgdGhpcy5vdmVybGF5LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBpbm5lcldpZHRoKTtcclxuICAgICAgICB0aGlzLm92ZXJsYXkuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBpbm5lckhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5vdmVybGF5UGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLFxyXG4gICAgICAgICAgICBgTSR7cmVjdC54fSwke3JlY3QueX1oJHtyZWN0LndpZHRofXYke3JlY3QuaGVpZ2h0fWgtJHtyZWN0LndpZHRofXpgKVxyXG5cclxuXHJcbiAgICAgICAgcmVjdCA9IHRoaXMudGFyZ2V0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGxldCBzY3JvbGxXaWR0aCA9IDE3O1xyXG4gICAgICAgIHRoaXMub3ZlcmxheUNsaXAuc2V0QXR0cmlidXRlKCdwb2ludHMnLCBbXHJcbiAgICAgICAgICAgIHJlY3QueCwgcmVjdC55LFxyXG4gICAgICAgICAgICByZWN0LngrcmVjdC53aWR0aC1zY3JvbGxXaWR0aCwgcmVjdC55LFxyXG4gICAgICAgICAgICByZWN0LngrcmVjdC53aWR0aC1zY3JvbGxXaWR0aCwgcmVjdC55K3JlY3QuaGVpZ2h0LFxyXG4gICAgICAgICAgICByZWN0LngsIHJlY3QueStyZWN0LmhlaWdodFxyXG4gICAgICAgIF0uam9pbignICcpKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0RG5EKCkge1xyXG4gICAgICAgIGxldCBkcmFrZSA9IHRoaXMuZHJha2UgPSBkcmFndWxhKFtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Jsb2NrcycpLFxyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZWxlbWVudHMnKSxcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2UnKVxyXG4gICAgICAgIF0sIHtcclxuICAgICAgICAgICAgcmVtb3ZlT25TcGlsbDogdHJ1ZSxcclxuICAgICAgICAgICAgY29weTogZnVuY3Rpb24gKGVsLCBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2UuY2xhc3NMaXN0LmNvbnRhaW5zKCd0ZW1wbGF0ZXMnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYWNjZXB0czogZnVuY3Rpb24gKGVsLCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0ID0gdGFyZ2V0LmNsYXNzTGlzdDtcclxuICAgICAgICAgICAgICAgIGlmICh0LmNvbnRhaW5zKCd0ZW1wbGF0ZXMnKSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRhcmdldC5wYXJlbnROb2RlKVxyXG4gICAgICAgICAgICAgICAgaWYgKCFlbC5xdWVyeVNlbGVjdG9yKCcuYWRkX2VkaXRvcl9oZXJlJykpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BhZ2UnKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZHJvcHpvbmUnKSAmJiB0YXJnZXQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2Jsb2NrX25vX2VkaXQnKSAhPT0gJ3RydWUnO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtb3ZlczogZnVuY3Rpb24gKGVsLCBjb250YWluZXIsIGhhbmRsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZS5jbGFzc0xpc3QuY29udGFpbnMoJ2hhbmRsZScpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygndGVtcGxhdGVzJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZHJha2Uub24oJ2RyYWcnLCBlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlQmxvY2sgPSBudWxsO1xyXG4gICAgICAgICAgICBUZXh0RWRpdG9yLnJlbW92ZVRleHRFZGl0b3IobnVsbClcclxuICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5pZClcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZHJha2Uub24oJ2Ryb3AnLCBlbCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Ryb3B6b25lJykpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRHJvcHpvbmUgPSBlbDtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERyb3B6b25lID0gZWwucGFyZW50Tm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICB0aGlzLmNsaWNrT25Ecm9wem9uZSh0aGlzLnNlbGVjdGVkRHJvcHpvbmUpXHJcbiAgICAgICAgICAgIHRoaXMuaW5pdFRlbXBsYXRlKGVsLCAnLm9yaWdpbicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBpbml0RWRpdG9yKGVsKSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVCeVNlbCgnLmR6LWJ1dHRvbnMsIC50ZW1wbGF0ZS1idXR0b25zJyk7XHJcbiAgICAgICAgVGV4dEVkaXRvci5pbml0VGV4dEVkaXRvcihlbClcclxuICAgIH1cclxuXHJcbiAgICBkb3dubG9hZFBkZigpIHtcclxuICAgICAgaHRtbDJwZGYoKVxyXG4gICAgICAgICAgICAuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZScpKVxyXG4gICAgICAgICAgICAuc2V0KHtcclxuICAgICAgICAgICAgICAgIHBhZ2VicmVhazoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6ICdhdm9pZC1hbGwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyOiAnLnBhZ2UtYnJlYWsnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zYXZlKClcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdmlld1BkZihjYikge1xyXG4gICAgICAgIHJldHVybiBodG1sMnBkZigpXHJcbiAgICAgICAgICAgIC5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlJykpXHJcbiAgICAgICAgICAgIC5zZXQoe1xyXG4gICAgICAgICAgICAgICAgcGFnZWJyZWFrOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogJ2F2b2lkLWFsbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6ICcucGFnZS1icmVhaydcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RG9jdW1lbnQoKSB7XHJcbiAgICAgICAgbGV0IHBhZ2VDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2UnKS5vdXRlckhUTUw7XHJcbiAgICAgICAgbGV0IHRtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRtcC5pbm5lckhUTUwgPSBwYWdlQ29udGVudDtcclxuICAgICAgICB0bXAucXVlcnlTZWxlY3RvckFsbCgnLmluaXRpYWxpemVkJykuZm9yRWFjaCh0cGwgPT4ge1xyXG4gICAgICAgICAgIHRwbC5jbGFzc0xpc3QucmVtb3ZlKCdpbml0aWFsaXplZCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0bXAuaW5uZXJIVE1MO1xyXG4gICAgfVxyXG5cclxuICAgIHJuZCgpe1xyXG4gICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFRlbXBsYXRlKGVsLCBkcm9wem9uZVNlbGVjdG9yKXtcclxuICAgICAgICBpZiAoIWVsLmlkKVxyXG4gICAgICAgICAgICBlbC5pZCA9ICdibG9ja18nICsgdGhpcy5ybmQoKSArIHRoaXMucm5kKCk7XHJcbiAgICAgICAgbGV0IGlzRHJvcHpvbmUgPSBlbC5xdWVyeVNlbGVjdG9yKCcuZHJvcHpvbmUnKTtcclxuICAgICAgICBpZiAoaXNEcm9wem9uZSkge1xyXG4gICAgICAgICAgICBsZXQgZHJvcHpvbmVzID0gZWwucXVlcnlTZWxlY3RvckFsbChkcm9wem9uZVNlbGVjdG9yKTtcclxuICAgICAgICAgICAgZHJvcHpvbmVzLmZvckVhY2goZHJvcHpvbmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmFrZS5jb250YWluZXJzLnB1c2goZHJvcHpvbmUpO1xyXG4gICAgICAgICAgICAgICAgZHJvcHpvbmUuY2xhc3NMaXN0LnJlbW92ZSgnb3JpZ2luJyk7XHJcbiAgICAgICAgICAgICAgICBkcm9wem9uZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xpY2tPbkRyb3B6b25lKGVsKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ2Rpdi5hZGRfZWRpdG9yX2hlcmUnKVxyXG4gICAgICAgICAgICBpZiAoZWwgJiYgIWVsLmNsYXNzTGlzdC5jb250YWlucygnaW5pdGlhbGl6ZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0RWRpdG9yKGVsKTtcclxuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jbGlja09uQmxvY2soZWwpKTtcclxuICAgICAgICAgICAgICAgIC8vIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgKCkgPT4gdGhpcy5pbml0RWRpdG9yKGVsKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tPbkRyb3B6b25lKGVsKXtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkRHJvcHpvbmUgPSBlbDtcclxuXHJcbiAgICAgICAgaWYgKCFlbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNibG9ja19uYW1lJykudmFsdWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ2Jsb2NrX25hbWUnKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmxvY2tfZGVzY3InKS52YWx1ZSA9IGVsLmdldEF0dHJpYnV0ZSgnYmxvY2tfZGVzY3InKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmxvY2tfbm9fZWRpdCcpLmNoZWNrZWQgPSBcInRydWVcIiAhPT0gZWwuZ2V0QXR0cmlidXRlKCdibG9ja19ub19lZGl0Jyk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Jsb2NrX25vX21vdmUnKS5jaGVja2VkID0gXCJ0cnVlXCIgIT09IGVsLmdldEF0dHJpYnV0ZSgnYmxvY2tfbm9fbW92ZScpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNibG9ja19ub19jb3B5JykuY2hlY2tlZCA9IFwidHJ1ZVwiICE9PSBlbC5nZXRBdHRyaWJ1dGUoJ2Jsb2NrX25vX2NvcHknKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGlja09uQmxvY2soZWwpe1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZUJsb2NrID0gZWw7XHJcblxyXG4gICAgICAgLy8gVGV4dEVkaXRvci5yZW1vdmVUZXh0RWRpdG9yKGVsKVxyXG4gICAgfVxyXG5cclxuICAgIGxvYWREb2N1bWVudChkYXRhKSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpO1xyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gZGF0YTtcclxuICAgICAgICBsZXQgdGVtcGxhdGVzID0gY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGVtcGxhdGUnKTtcclxuICAgICAgICB0ZW1wbGF0ZXMuZm9yRWFjaCh0cGwgPT4gdGhpcy5pbml0VGVtcGxhdGUodHBsLCAnLmRyb3B6b25lJykpO1xyXG4gICAgICAgIHRoaXMuZHJha2UuY29udGFpbmVycy5wdXNoKGNvbnRlbnQucXVlcnlTZWxlY3RvcignLnBhZ2UnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlQnlTZWwoc2VsKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWwpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKGUgPT4gZS5yZW1vdmUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29weShlKSB7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBsZXQgdHBsID0gZS50YXJnZXQuY2xvc2VzdCgnLnRlbXBsYXRlJyk7XHJcbiAgICAgICAgbGV0IGNsb25lZCA9IHRwbC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgY2xvbmVkLnF1ZXJ5U2VsZWN0b3IoJy5pbml0aWFsaXplZCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2luaXRpYWxpemVkJyk7XHJcbiAgICAgICAgdHBsLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNsb25lZCwgdHBsKTtcclxuICAgICAgICBsZXQgdGVtcGxhdGVzID0gY2xvbmVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy50ZW1wbGF0ZScpO1xyXG4gICAgICAgIHRlbXBsYXRlcy5mb3JFYWNoKHRwbCA9PiB0aGlzLmluaXRUZW1wbGF0ZSh0cGwsICcuZHJvcHpvbmUnKSk7XHJcbiAgICAgICAgdGhpcy5pbml0VGVtcGxhdGUoY2xvbmVkLCAnLmRyb3B6b25lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgbWFuYWdlQnV0dG9ucyhlKSB7XHJcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaGFuZGxlJykpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGNsb3Nlc3REeiA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5wYWdlIC50ZW1wbGF0ZTpub3QoLmNvbC14cyknKTtcclxuICAgICAgICBpZiAoY2xvc2VzdER6ICE9PSB0aGlzLm1vdXNlT3ZlckR6KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQnlTZWwoJy5kei1idXR0b25zJyk7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyRHogPSBjbG9zZXN0RHo7XHJcbiAgICAgICAgICAgIGlmIChjbG9zZXN0RHopIHtcclxuICAgICAgICAgICAgICAgIGxldCB0YiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgdGIuY2xhc3NMaXN0LmFkZCgnZHotYnV0dG9ucycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjYW5Nb3ZlID0gY2xvc2VzdER6LmdldEF0dHJpYnV0ZSgnYmxvY2tfbm9fbW92ZScpICE9PSAndHJ1ZSc7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2FuQ29weSA9IGNsb3Nlc3REei5nZXRBdHRyaWJ1dGUoJ2Jsb2NrX25vX2NvcHknKSAhPT0gJ3RydWUnO1xyXG4gICAgICAgICAgICAgICAgdGIuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7Y2FuTW92ZT9gPHNwYW4gY2xhc3M9J2hhbmRsZSc+JHtJY29ucy5tb3ZlKDMwLDMwKX08L3NwYW4+YDonJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHtjYW5Db3B5P2A8c3BhbiBjbGFzcz0nY29weSc+JHtJY29ucy5jb3B5KDMwLDMwKX08L3NwYW4+YDonJ31cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICBjbG9zZXN0RHouaW5zZXJ0QmVmb3JlKHRiLCBjbG9zZXN0RHouZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29weSA9IHRiLnF1ZXJ5U2VsZWN0b3IoJy5jb3B5JylcclxuICAgICAgICAgICAgICAgIGNvcHkgJiYgKGNvcHkub25jbGljayA9IGUgPT4gdGhpcy5jb3B5KGUpKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgY2xvc2VzdFRwbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5wYWdlIC50ZW1wbGF0ZS5jb2wteHMnKTtcclxuICAgICAgICBpZiAoY2xvc2VzdFRwbCAhPT0gdGhpcy5tb3VzZU92ZXJUcGwpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVCeVNlbCgnLnRlbXBsYXRlLWJ1dHRvbnMnKTtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJUcGwgPSBjbG9zZXN0VHBsO1xyXG4gICAgICAgICAgICBsZXQgY2FuRWRpdCA9IGNsb3Nlc3REei5nZXRBdHRyaWJ1dGUoJ2Jsb2NrX25vX2VkaXQnKSAhPT0gJ3RydWUnO1xyXG4gICAgICAgICAgICBpZiAoY2xvc2VzdFRwbCAmJiBjYW5FZGl0KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2xvc2VzdFRwbDEgPSBlLnRhcmdldC5jbG9zZXN0KCcucGFnZSAudGVtcGxhdGUuY29sLXhzOm5vdCgubWNlLWVkaXQtZm9jdXMpJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIHRiLmNsYXNzTGlzdC5hZGQoJ3RlbXBsYXRlLWJ1dHRvbnMnKTtcclxuICAgICAgICAgICAgICAgIHRiLmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdoYW5kbGUnPiR7SWNvbnMubW92ZSgzMCwzMCl9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgY2xvc2VzdFRwbDEuaW5zZXJ0QmVmb3JlKHRiLCBjbG9zZXN0VHBsMS5maXJzdENoaWxkKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBpbml0RWRpdG9ycygpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICAnI2Jsb2NrX25hbWUnLFxyXG4gICAgICAgICAgICAnI2Jsb2NrX2Rlc2NyJyxcclxuICAgICAgICAgICAgJyNibG9ja19ub19lZGl0JyxcclxuICAgICAgICAgICAgJyNibG9ja19ub19tb3ZlJyxcclxuICAgICAgICAgICAgJyNibG9ja19ub19jb3B5J1xyXG4gICAgICAgIF0uZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcikub25pbnB1dCA9IG9uSW5wdXRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb25JbnB1dCgpIHtcclxuICAgICAgICAgICAgaWYgKCFzZWxmLnNlbGVjdGVkRHJvcHpvbmUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzZWxmLnNlbGVjdGVkRHJvcHpvbmUpXHJcbiAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWREcm9wem9uZS5zZXRBdHRyaWJ1dGUodGhpcy5pZCxcclxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9PT0gJ2NoZWNrYm94JyA/ICF0aGlzLmNoZWNrZWQgOiB0aGlzLnZhbHVlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlkICE9PSAnYmxvY2tfbm9fZWRpdCcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWREcm9wem9uZVxyXG4gICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5hZGRfZWRpdG9yX2hlcmUnKVxyXG4gICAgICAgICAgICAgICAgLmZvckVhY2goZWwgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG53aW5kb3cuUGRmRWRpdG9yID0gUGRmRWRpdG9yOyIsImNsYXNzIFRlbXBsYXRlc0ZhY3Rvcnkge1xyXG5cclxuICAgIGNyZWF0ZUJsb2NrcygpIHtcclxuICAgICAgICBsZXQgcm93ID0gYDxkaXYgY2xhc3M9J2Ryb3B6b25lIG9yaWdpbiByb3cnPjwvZGl2PmA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlVGVtcGxhdGUocm93KSArIHRoaXMuY3JlYXRlVGVtcGxhdGUodGhpcy5wYWdlQnJlYWtCbG9jaygpLCB0cnVlKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgIGNyZWF0ZVRlbXBsYXRlKGNvbnRlbnQsIGNvbCkge1xyXG4gICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz0ndGVtcGxhdGUgJHtjb2w/J2NvbC14cyc6Jyd9Jz4ke2NvbnRlbnR9PC9kaXY+YDtcclxuICAgIH1cclxuXHJcbiAgICAgaW1nQmxvY2soKSB7XHJcbiAgICAgICAgbGV0IHN2ZyA9IGA8c3ZnIHByZXNlcnZlQXNwZWN0UmF0aW89J3hNaWRZTWlkIG1lZXQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD0nMTAwcHgnIGhlaWdodD0nMTAwcHgnIHZpZXdib3g9JzAgMCAxMDAgMTAwJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2U9J2JsYWNrJyBmaWxsPSdub25lJyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkPSdNMTAsOTB2LTIwbDMwLC0zMGwxNSwxNWwzNSwtMzV2NzB6IE01LDVoOTB2OTBoLTkweiBNMzAsMTBhMTAsMTAsMCwxLDAsMC4wMDEsMHonPjwvcGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+YDtcclxuICAgICAgICByZXR1cm4gYDxpbWcgZHJhZ2dhYmxlPVwiZmFsc2VcIiBjbGFzcz1cImltZ1wiIHdpZHRoPVwiMTAwcHhcIiBoZWlnaHQ9XCIxMDBweFwiICBzcmM9XCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCR7YnRvYShzdmcpfVwiID5gO1xyXG4gICAgfVxyXG5cclxuICAgICB0ZXh0QmxvY2soKSB7XHJcbiAgICAgICAgcmV0dXJuIGA8cD48c3BhbiBzdHlsZT1cImNvbG9yOiBibGFja1wiPlxyXG4gICAgICAgICAgICAgICAgICAgINCc0L3QvtCz0LjQtSDQtNGD0LzQsNGO0YIsINGH0YLQviBMb3JlbSBJcHN1bSAtINCy0LfRj9GC0YvQuSDRgSDQv9C+0YLQvtC70LrQsCDQv9GB0LXQstC00L4t0LvQsNGC0LjQvdGB0LrQuNC5INC90LDQsdC+0YAg0YHQu9C+0LIsINC90L4g0Y3RgtC+INC90LUg0YHQvtCy0YHQtdC8INGC0LDQui4g0JXQs9C+INC60L7RgNC90Lgg0YPRhdC+0LTRj9GCINCyINC+0LTQuNC9INGE0YDQsNCz0LzQtdC90YIg0LrQu9Cw0YHRgdC40YfQtdGB0LrQvtC5INC70LDRgtGL0L3QuCA0NSDQs9C+0LTQsCDQvS7RjS4sINGC0L4g0LXRgdGC0Ywg0LHQvtC70LXQtSDQtNCy0YPRhSDRgtGL0YHRj9GH0LXQu9C10YLQuNC5INC90LDQt9Cw0LQuXHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+PC9wPmBcclxuICAgIH1cclxuXHJcbiAgICAgdGFibGVCbG9jaygpIHtcclxuICAgICAgICByZXR1cm4gYDx0YWJsZT48dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZD4mbmJzcDs8L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZD4mbmJzcDs8L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZD4mbmJzcDs8L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZD4mbmJzcDs8L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjwvdHI+XHJcbiAgICAgICAgICAgICAgICA8L3Rib2R5PjwvdGFibGU+YFxyXG4gICAgfVxyXG5cclxuICAgICBoZWFkZXJCbG9jaygpIHtcclxuICAgICAgICByZXR1cm4gYDxwIHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXI7XCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LWh1Z2VcIj48c3Ryb25nPtCX0LDQs9C+0LvQvtCy0L7Qujwvc3Ryb25nPjwvc3Bhbj48L3A+YDtcclxuICAgIH1cclxuXHJcbiAgICAgcGFnZUJyZWFrQmxvY2soKSB7XHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwicGFnZS1icmVha1wiPtGA0LDQt9GA0YvQsiDRgdGC0YDQsNC90LjRhtGLPC9kaXY+YDtcclxuICAgIH1cclxuXHJcbiAgICAgZGl2aWRlckJsb2NrKCkge1xyXG4gICAgICAgICBsZXQgc3ZnID0gYDxzdmcgcHJlc2VydmVBc3BlY3RSYXRpbz0neE1pZFlNaWQgbWVldCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPScxMHB4JyBoZWlnaHQ9JzIwcHgnIHZpZXdib3g9JzAgMCAxMCAyMCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlPSdibGFjaycgZmlsbD0nbm9uZScgIGQ9J00wLDEwaDEwJz48L3BhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPmA7XHJcbiAgICAgICAgIHJldHVybiBgPGltZyBkcmFnZ2FibGU9XCJmYWxzZVwiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjIwcHhcIiAgc3JjPVwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwke2J0b2Eoc3ZnKX1cIiA+YDtcclxuICAgIH1cclxuXHJcbiAgICAgY3JlYXRlRWxlbWVudHMoKSB7XHJcbiAgICAgICAgcmV0dXJuICBbXHJcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyQmxvY2ssXHJcbiAgICAgICAgICAgIHRoaXMudGV4dEJsb2NrLFxyXG4gICAgICAgICAgICB0aGlzLmltZ0Jsb2NrLFxyXG4gICAgICAgICAgICB0aGlzLnRhYmxlQmxvY2tcclxuICAgICAgICBdLm1hcChmbiA9PiB0aGlzLmNyZWF0ZVRlbXBsYXRlKGA8ZGl2IGNsYXNzPVwiYWRkX2VkaXRvcl9oZXJlXCI+JHtmbi5jYWxsKHRoaXMpfTwvZGl2PmAsIHRydWUpKS5qb2luKCcnKVxyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFRlbXBsYXRlc0ZhY3Rvcnk7IiwibGV0IHBhZ2VTdHlsZXMgPSByZXF1aXJlKCcuL3BhZ2Utc3R5bGVzJyk7XHJcbmxldCBjb2xvciA9ICcjZmY2ZTFiJztcclxubW9kdWxlLmV4cG9ydHMgPSBgXHJcbiAgICA8ZGl2IGNsYXNzPVwicGRmLWVkaXRvciB3cmFwcGVyXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInNpZGVQYW5lbCBiZzFcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwTmFtZVwiPtCR0LvQvtC60Lg8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBpZD1cImJsb2Nrc1wiIGNsYXNzPVwidGVtcGxhdGVzXCIgc3R5bGU9XCJtaW4taGVpZ2h0OiAxNDBweFwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXBOYW1lXCI+0K3Qu9C10LzQtdC90YLRizwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwiZWxlbWVudHNcIiBjbGFzcz1cInRlbXBsYXRlc1wiIHN0eWxlPVwibWluLWhlaWdodDogMzgwcHhcIj48L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwTmFtZVwiPtCd0LDRgdGC0YDQvtC50LrQuDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogIDAgMTBweDsgY29sb3I6d2hpdGU7IHdpZHRoOjEwMCVcIj5cclxuICAgICAgICAgICAgICAgIDxicj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItbGFiZWxcIj7QndCw0LfQstCw0L3QuNC1INCx0LvQvtC60LA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiYmxvY2tfbmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8YnI+XHJcbiAgICAgICAgICAgICAgICA8YnI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3ViLWxhYmVsXCI+0J7Qv9C40YHQsNC90LjQtSDQsdC70L7QutCwPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8dGV4dGFyZWEgIGlkPVwiYmxvY2tfZGVzY3JcIj48L3RleHRhcmVhPlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8YnI+XHJcbiAgICAgICAgICAgICAgICA8YnI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3ViLWxhYmVsXCI+0KDQsNC30YDQtdGI0LjRgtGMINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LU8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cImJsb2NrX25vX2VkaXRcIiB0eXBlPVwiY2hlY2tib3hcIj5cclxuICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxicj5cclxuICAgICAgICAgICAgICAgIDxicj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItbGFiZWxcIj7QoNCw0LfRgNC10YjQuNGC0Ywg0L/QtdGA0LXQvNC10YnQtdC90LjQtTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IGlkPVwiYmxvY2tfbm9fbW92ZVwiIHR5cGU9XCJjaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8YnI+XHJcbiAgICAgICAgICAgICAgICA8YnI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3ViLWxhYmVsXCI+0KDQsNC30YDQtdGI0LjRgtGMINC60L7Qv9C40YDQvtCy0LDQvdC40LU8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cImJsb2NrX25vX2NvcHlcIiB0eXBlPVwiY2hlY2tib3hcIj5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPGJyPlxyXG4gICAgICAgICAgICAgICAgPGJyPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbj7Ql9Cw0LPRgNGD0LfQuNGC0Ywg0LjQtyDQkdCUPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYWdlIGNvbnRhaW5lclwiPiR7cGFnZVN0eWxlc308L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPHN2ZyBjbGFzcz1cInN2Zy1vdmVybGF5XCI+XHJcbiAgICAgICAgICAgIDxkZWZzPlxyXG4gICAgICAgICAgICAgICAgPGNsaXBQYXRoIGlkPVwiZWRpdG9yX2NsaXBfcmVjdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uPjwvcG9seWdvbj5cclxuICAgICAgICAgICAgICAgIDwvY2xpcFBhdGg+XHJcbiAgICAgICAgICAgIDwvZGVmcz5cclxuICAgICAgICAgICAgPHBhdGggY2xpcC1wYXRoPVwidXJsKCNlZGl0b3JfY2xpcF9yZWN0KVwiICBmaWxsPVwibm9uZVwiICBzdHJva2U9XCIke2NvbG9yfVwiPjwvcGF0aD5cclxuICAgICAgICA8L3N2Zz5cclxuICAgIDwvZGl2PlxyXG5gO1xyXG4iLCJcclxuXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBgXHJcbiAgICA8c3R5bGU+XHJcbiAgICAgICAgcCB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ibG9jay1zdGFydDogMCFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ibG9jay1lbmQ6IDAgIWltcG9ydGFudDtcclxuICAgICAgICAgICAgLypiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7Ki9cclxuICAgICAgICB9XHJcbiAgICAgICAgLnBhZ2Uge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDExMTBweDtcclxuICAgICAgICAgICAgd2lkdGg6IDc5MHB4O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgICAgICAgICAgcGFkZGluZzogNXB4O1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAudGVtcGxhdGUge1xyXG4gICAgICAgICAgICBjb2xvcjogYmxhY2s7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAucGFnZSA+IC50ZW1wbGF0ZTpub3QoOmxhc3QtY2hpbGQpIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBkaXYuZHJvcHpvbmUucm93IHtcclxuICAgICAgICAgICAgbWluLWhlaWdodDogNjZweDtcclxuICAgICAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnBhZ2UtYnJlYWsge1xyXG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogLTIwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogLTIwcHg7XHJcbiAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1jb2wpO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICAgICAgICAgIGNvbG9yOiBvcmFuZ2U7XHJcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOm5vbmU7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDQwcHg7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgXHJcbiAgICAgICAgIC8qLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXsqL1xyXG4gICAgICAgICAvKiAgIGRpc3BsYXk6bm9uZSovXHJcbiAgICAgICAgIC8qfSovXHJcbiAgICAgICAgIC8qLmNrLXdpZGdldF93aXRoLXNlbGVjdGlvbi1oYW5kbGV7Ki9cclxuICAgICAgICAgLyogICBtYXJnaW46IDAgIWltcG9ydGFudDsqL1xyXG4gICAgICAgICAvKn0qL1xyXG4gICAgICAgICBcclxuICAgICAgICAgLyp0ZCB7Ki9cclxuICAgICAgICAgLyogICBtaW4td2lkdGg6IDJlbTsqL1xyXG4gICAgICAgICAvKiAgIGJvcmRlcjogc29saWQgI2Q5ZDlkOSovXHJcbiAgICAgICAgIC8qfSovXHJcbiAgICA8L3N0eWxlPlxyXG5gOyIsInZhciBjc3MgPSBcIi5wZGYtZWRpdG9yLndyYXBwZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAtLWJnLWNvbDogIzQ0NDtcXG59XFxuLnBkZi1lZGl0b3IgLmNvbnRlbnQge1xcbiAgZmxleC1ncm93OiAxO1xcbiAgYmFja2dyb3VuZDogdmFyKC0tYmctY29sKTtcXG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcXG4gIHBhZGRpbmc6IDUwcHggMjBweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLnBkZi1lZGl0b3IgLnBhZ2Uge1xcbiAgYm94LXNoYWRvdzogMXB4IDFweCA0cHggMXB4ICMyMjI2O1xcbn1cXG4ucGRmLWVkaXRvciAuc2lkZVBhbmVsLFxcbi5wZGYtZWRpdG9yIC5wcm9wc1BhbmVsIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICB3aWR0aDogMzYwcHg7XFxuICAvKmJhY2tncm91bmQ6ICM0NDQ7Ki9cXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkIGdyYXk7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCBncmF5O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuLnBkZi1lZGl0b3IgLnRlbXBsYXRlcyB7XFxuICAvKmZsZXgtZ3JvdzogMTsqL1xcbiAgLypvdmVyZmxvdy15OiBhdXRvOyovXFxuICAvKm92ZXJmbG93LXg6IGhpZGRlbjsqL1xcbiAgcGFkZGluZzogMTBweCAyNXB4O1xcbn1cXG4ucGRmLWVkaXRvciAudGVtcGxhdGVzIC50ZW1wbGF0ZSB7XFxuICBtYXJnaW4tYm90dG9tOiA1cHg7XFxuICBwYWRkaW5nOiA1cHggMDtcXG59XFxuLnBkZi1lZGl0b3IgLmJ1dHRvbnMge1xcbiAgcGFkZGluZzogNXB4IDVweCAwIDVweDtcXG59XFxuLnBkZi1lZGl0b3IgLmJ1dHRvbnMgYnV0dG9uIHtcXG4gIGxpbmUtaGVpZ2h0OiAzMHB4O1xcbiAgYm9yZGVyLXJhZGl1czogMTFweDtcXG59XFxuLnBkZi1lZGl0b3IgLnRlbXBsYXRlIHtcXG4gIHRyYW5zaXRpb246IDAuMnM7XFxufVxcbi5wZGYtZWRpdG9yICNlbGVtZW50cyAudGVtcGxhdGUge1xcbiAgdHJhbnNpdGlvbjogMC4ycztcXG4gIGJhY2tncm91bmQ6ICNlZWU7XFxufVxcbi5wZGYtZWRpdG9yIC5zaWRlUGFuZWwgLmRyb3B6b25lIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XFxufVxcbi5wZGYtZWRpdG9yIC5zaWRlUGFuZWwgLnRlbXBsYXRlOmhvdmVyIHtcXG4gIHRyYW5zZm9ybTogc2NhbGUoMS4xKTtcXG4gIGN1cnNvcjogbW92ZTtcXG59XFxuLnBkZi1lZGl0b3IgLnBhZ2UgLnRlbXBsYXRlOmhvdmVyICAuZHotYnV0dG9ucyxcXG4ucGRmLWVkaXRvciAucGFnZSAudGVtcGxhdGU6aG92ZXIgIC50ZW1wbGF0ZS1idXR0b25zIHtcXG4gIG9wYWNpdHk6IDE7XFxufVxcbi5kcm9wem9uZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMDAzO1xcbiAgbWluLWhlaWdodDogNjZweDtcXG59XFxuLypkaXYuZHJvcHpvbmUucm93OmZpcnN0LWNoaWxkLCovXFxuLypkaXYuZHJvcHpvbmUucm93Omxhc3QtY2hpbGQgeyovXFxuLyogICAgbWluLWhlaWdodDogMDsqL1xcbi8qfSovXFxuLmhhbmRsZSB7XFxuICBjdXJzb3I6IG1vdmU7XFxufVxcbi5jb3B5IHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmR6LWJ1dHRvbnMsXFxuLnRlbXBsYXRlLWJ1dHRvbnMge1xcbiAgei1pbmRleDogMTExO1xcbn1cXG4uZHotYnV0dG9ucyA+IGRpdiB7XFxuICAvKmJhY2tncm91bmQ6ICNmMDA2OyovXFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSg4MHB4LDApO1xcbiAgd2lkdGg6IDUwcHg7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbiAgaGVpZ2h0OiAxMDBweDtcXG59XFxuLmR6LWJ1dHRvbnMgc3ZnLFxcbi50ZW1wbGF0ZS1idXR0b25zIHN2ZyB7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuLmhhbmRsZSxcXG4uY29weSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NCwgMTc3LCA2MiwgMC40KTtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIGJvcmRlci1yYWRpdXM6IDE1JTtcXG4gIHRyYW5zaXRpb246IDAuMnM7XFxuICBtYXJnaW46IDJweDtcXG59XFxuLmhhbmRsZTpob3ZlcixcXG4uY29weTpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NCwgMTc3LCA2MiwgMC44KTtcXG59XFxuLmR6LWJ1dHRvbnMsXFxuLnRlbXBsYXRlLWJ1dHRvbnMge1xcbiAgb3BhY2l0eTogMDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG92ZXJmbG93OiB2aXNpYmxlO1xcbiAgd2lkdGg6IDBweDtcXG4gIGhlaWdodDogMHB4O1xcbiAgbGluZS1oZWlnaHQ6IDA7XFxufVxcbi50ZW1wbGF0ZS1idXR0b25zIHtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC00NXB4LCAwKTtcXG59XFxuLnRlbXBsYXRlLWJ1dHRvbnMgPiBkaXYge1xcbiAgd2lkdGg6IDQwcHg7XFxuICBoZWlnaHQ6IDYwcHg7XFxuICAvKmJhY2tncm91bmQ6IHJlYmVjY2FwdXJwbGU7Ki9cXG59XFxuZGl2LmR6LWJ1dHRvbnMge1xcbiAgbWFyZ2luLWxlZnQ6IDcwMHB4O1xcbn1cXG4uc3ZnLW92ZXJsYXkge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG50YWJsZSB0ZCB7XFxuICBtaW4td2lkdGg6IDUwcHg7XFxuICBtaW4taGVpZ2h0OiAzMHB4O1xcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxufVxcbi5zdWItbGFiZWwge1xcbiAgZm9udC1zaXplOiAxNnB4O1xcbiAgY29sb3I6ICM5OTk7XFxuICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XFxufVxcbi5zaWRlUGFuZWwgI2VsZW1lbnRzID4gZGl2LnRlbXBsYXRlIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAwIDFweCBncmF5O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG4uc2lkZVBhbmVsICNlbGVtZW50cyA+IGRpdi50ZW1wbGF0ZSB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbmRpdi50ZW1wbGF0ZSAgdGFibGUge1xcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG59XFxuLnNpZGVQYW5lbCB0ZXh0YXJlYSB7XFxuICBoZWlnaHQ6IDEwMHB4O1xcbn1cXG4uc2lkZVBhbmVsIGlucHV0W3R5cGU9XFxcInRleHRcXFwiXSB7XFxuICBoZWlnaHQ6IDI4cHg7XFxufVxcbi5zaWRlUGFuZWwgdGV4dGFyZWEsXFxuLnNpZGVQYW5lbCBpbnB1dFt0eXBlPVxcXCJ0ZXh0XFxcIl0ge1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgYmFja2dyb3VuZDogIzQ0NDtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICM5OTk7XFxuICB3aWR0aDogMzMwcHg7XFxufVxcbi5ncm91cE5hbWUge1xcbiAgd2lkdGg6IDM2MHB4O1xcbiAgcGFkZGluZy1sZWZ0OiAxNXB4O1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIGdyYXk7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgZ3JheTtcXG4gIC8qdGV4dC1hbGlnbjogY2VudGVyOyovXFxuICBmb250LXNpemU6IDIwcHg7XFxuICBsaW5lLWhlaWdodDogMzBweDtcXG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcXG4gIGNvbG9yOiAjOTk5O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmdyb3VwTmFtZSArIGRpdiB7XFxuICB0cmFuc2l0aW9uOiAzMDBtcztcXG4gIG1heC1oZWlnaHQ6IDEwMHZoO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuLmdyb3VwTmFtZS5jb2xsYXBzZWQgKyBkaXYge1xcbiAgbWF4LWhlaWdodDogMDtcXG4gIG1pbi1oZWlnaHQ6IDAgIWltcG9ydGFudDtcXG4gIHBhZGRpbmctdG9wOiAwO1xcbiAgcGFkZGluZy1ib3R0b206IDA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG4uZ3JvdXBOYW1lOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczMCcgaGVpZ2h0PSczMCc+PGNpcmNsZSBmaWxsPSclMjM3NzcnIGN4PScxNScgY3k9JzE1JyByPScxMCcgLz48cG9seWxpbmUgc3Ryb2tlLXdpZHRoPSczJyBwb2ludHM9JzEwIDEzIDE1IDE4IDIwIDEzJyBmaWxsPSdub25lJyBzdHJva2U9JyUyMzQ0NCcvPjwvc3ZnPlxcXCIpO1xcbiAgdHJhbnNpdGlvbjogMzAwbXM7XFxuICBmbG9hdDogcmlnaHQ7XFxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBsaW5lLWhlaWdodDogMHB4O1xcbn1cXG4uZ3JvdXBOYW1lLmNvbGxhcHNlZDphZnRlciB7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZykgc2NhbGUoLTEsLTEpO1xcbn1cXG5cIjsgKHJlcXVpcmUoXCJicm93c2VyaWZ5LWNzc1wiKS5jcmVhdGVTdHlsZShjc3MsIHsgXCJocmVmXCI6IFwic3JjXFxcXHBkZi1lZGl0b3JcXFxccGRmLWVkaXRvci5jc3NcIiB9LCB7IFwiaW5zZXJ0QXRcIjogXCJib3R0b21cIiB9KSk7IG1vZHVsZS5leHBvcnRzID0gY3NzOyJdfQ==
